function _mergeNamespaces(tr,Hn){for(var er=0;er<Hn.length;er++){const nr=Hn[er];if(typeof nr!="string"&&!Array.isArray(nr)){for(const ir in nr)if(ir!=="default"&&!(ir in tr)){const rr=Object.getOwnPropertyDescriptor(nr,ir);rr&&Object.defineProperty(tr,ir,rr.get?rr:{enumerable:!0,get:()=>nr[ir]})}}}return Object.freeze(Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"}))}(function(){const Hn=document.createElement("link").relList;if(Hn&&Hn.supports&&Hn.supports("modulepreload"))return;for(const ir of document.querySelectorAll('link[rel="modulepreload"]'))nr(ir);new MutationObserver(ir=>{for(const rr of ir)if(rr.type==="childList")for(const sr of rr.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&nr(sr)}).observe(document,{childList:!0,subtree:!0});function er(ir){const rr={};return ir.integrity&&(rr.integrity=ir.integrity),ir.referrerPolicy&&(rr.referrerPolicy=ir.referrerPolicy),ir.crossOrigin==="use-credentials"?rr.credentials="include":ir.crossOrigin==="anonymous"?rr.credentials="omit":rr.credentials="same-origin",rr}function nr(ir){if(ir.ep)return;ir.ep=!0;const rr=er(ir);fetch(ir.href,rr)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var tr=Symbol.for("react.transitional.element"),Hn=Symbol.for("react.fragment");function er(nr,ir,rr){var sr=null;if(rr!==void 0&&(sr=""+rr),ir.key!==void 0&&(sr=""+ir.key),"key"in ir){rr={};for(var ar in ir)ar!=="key"&&(rr[ar]=ir[ar])}else rr=ir;return ir=rr.ref,{$$typeof:tr,type:nr,key:sr,ref:ir!==void 0?ir:null,props:rr}}return reactJsxRuntime_production.Fragment=Hn,reactJsxRuntime_production.jsx=er,reactJsxRuntime_production.jsxs=er,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var tr=Symbol.for("react.transitional.element"),Hn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),nr=Symbol.for("react.strict_mode"),ir=Symbol.for("react.profiler"),rr=Symbol.for("react.consumer"),sr=Symbol.for("react.context"),ar=Symbol.for("react.forward_ref"),or=Symbol.for("react.suspense"),lr=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),ur=Symbol.for("react.activity"),dr=Symbol.iterator;function fr(ao){return ao===null||typeof ao!="object"?null:(ao=dr&&ao[dr]||ao["@@iterator"],typeof ao=="function"?ao:null)}var xr={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yr=Object.assign,_r={};function Sr(ao,xo,_o){this.props=ao,this.context=xo,this.refs=_r,this.updater=_o||xr}Sr.prototype.isReactComponent={},Sr.prototype.setState=function(ao,xo){if(typeof ao!="object"&&typeof ao!="function"&&ao!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ao,xo,"setState")},Sr.prototype.forceUpdate=function(ao){this.updater.enqueueForceUpdate(this,ao,"forceUpdate")};function jr(){}jr.prototype=Sr.prototype;function Dr(ao,xo,_o){this.props=ao,this.context=xo,this.refs=_r,this.updater=_o||xr}var Ir=Dr.prototype=new jr;Ir.constructor=Dr,yr(Ir,Sr.prototype),Ir.isPureReactComponent=!0;var Mr=Array.isArray;function Or(){}var Lr={H:null,A:null,T:null,S:null},Fr=Object.prototype.hasOwnProperty;function Vr(ao,xo,_o){var Po=_o.ref;return{$$typeof:tr,type:ao,key:xo,ref:Po!==void 0?Po:null,props:_o}}function Zr(ao,xo){return Vr(ao.type,xo,ao.props)}function Hr(ao){return typeof ao=="object"&&ao!==null&&ao.$$typeof===tr}function Yr(ao){var xo={"=":"=0",":":"=2"};return"$"+ao.replace(/[=:]/g,function(_o){return xo[_o]})}var eo=/\/+/g;function io(ao,xo){return typeof ao=="object"&&ao!==null&&ao.key!=null?Yr(""+ao.key):xo.toString(36)}function uo(ao){switch(ao.status){case"fulfilled":return ao.value;case"rejected":throw ao.reason;default:switch(typeof ao.status=="string"?ao.then(Or,Or):(ao.status="pending",ao.then(function(xo){ao.status==="pending"&&(ao.status="fulfilled",ao.value=xo)},function(xo){ao.status==="pending"&&(ao.status="rejected",ao.reason=xo)})),ao.status){case"fulfilled":return ao.value;case"rejected":throw ao.reason}}throw ao}function so(ao,xo,_o,Po,Oo){var So=typeof ao;(So==="undefined"||So==="boolean")&&(ao=null);var Ao=!1;if(ao===null)Ao=!0;else switch(So){case"bigint":case"string":case"number":Ao=!0;break;case"object":switch(ao.$$typeof){case tr:case Hn:Ao=!0;break;case cr:return Ao=ao._init,so(Ao(ao._payload),xo,_o,Po,Oo)}}if(Ao)return Oo=Oo(ao),Ao=Po===""?"."+io(ao,0):Po,Mr(Oo)?(_o="",Ao!=null&&(_o=Ao.replace(eo,"$&/")+"/"),so(Oo,xo,_o,"",function(Go){return Go})):Oo!=null&&(Hr(Oo)&&(Oo=Zr(Oo,_o+(Oo.key==null||ao&&ao.key===Oo.key?"":(""+Oo.key).replace(eo,"$&/")+"/")+Ao)),xo.push(Oo)),1;Ao=0;var zo=Po===""?".":Po+":";if(Mr(ao))for(var Ro=0;Ro<ao.length;Ro++)Po=ao[Ro],So=zo+io(Po,Ro),Ao+=so(Po,xo,_o,So,Oo);else if(Ro=fr(ao),typeof Ro=="function")for(ao=Ro.call(ao),Ro=0;!(Po=ao.next()).done;)Po=Po.value,So=zo+io(Po,Ro++),Ao+=so(Po,xo,_o,So,Oo);else if(So==="object"){if(typeof ao.then=="function")return so(uo(ao),xo,_o,Po,Oo);throw xo=String(ao),Error("Objects are not valid as a React child (found: "+(xo==="[object Object]"?"object with keys {"+Object.keys(ao).join(", ")+"}":xo)+"). If you meant to render a collection of children, use an array instead.")}return Ao}function no(ao,xo,_o){if(ao==null)return ao;var Po=[],Oo=0;return so(ao,Po,"","",function(So){return xo.call(_o,So,Oo++)}),Po}function po(ao){if(ao._status===-1){var xo=ao._result;xo=xo(),xo.then(function(_o){(ao._status===0||ao._status===-1)&&(ao._status=1,ao._result=_o)},function(_o){(ao._status===0||ao._status===-1)&&(ao._status=2,ao._result=_o)}),ao._status===-1&&(ao._status=0,ao._result=xo)}if(ao._status===1)return ao._result.default;throw ao._result}var co=typeof reportError=="function"?reportError:function(ao){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xo=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ao=="object"&&ao!==null&&typeof ao.message=="string"?String(ao.message):String(ao),error:ao});if(!window.dispatchEvent(xo))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ao);return}console.error(ao)},lo={map:no,forEach:function(ao,xo,_o){no(ao,function(){xo.apply(this,arguments)},_o)},count:function(ao){var xo=0;return no(ao,function(){xo++}),xo},toArray:function(ao){return no(ao,function(xo){return xo})||[]},only:function(ao){if(!Hr(ao))throw Error("React.Children.only expected to receive a single React element child.");return ao}};return react_production.Activity=ur,react_production.Children=lo,react_production.Component=Sr,react_production.Fragment=er,react_production.Profiler=ir,react_production.PureComponent=Dr,react_production.StrictMode=nr,react_production.Suspense=or,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Lr,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(ao){return Lr.H.useMemoCache(ao)}},react_production.cache=function(ao){return function(){return ao.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(ao,xo,_o){if(ao==null)throw Error("The argument must be a React element, but you passed "+ao+".");var Po=yr({},ao.props),Oo=ao.key;if(xo!=null)for(So in xo.key!==void 0&&(Oo=""+xo.key),xo)!Fr.call(xo,So)||So==="key"||So==="__self"||So==="__source"||So==="ref"&&xo.ref===void 0||(Po[So]=xo[So]);var So=arguments.length-2;if(So===1)Po.children=_o;else if(1<So){for(var Ao=Array(So),zo=0;zo<So;zo++)Ao[zo]=arguments[zo+2];Po.children=Ao}return Vr(ao.type,Oo,Po)},react_production.createContext=function(ao){return ao={$$typeof:sr,_currentValue:ao,_currentValue2:ao,_threadCount:0,Provider:null,Consumer:null},ao.Provider=ao,ao.Consumer={$$typeof:rr,_context:ao},ao},react_production.createElement=function(ao,xo,_o){var Po,Oo={},So=null;if(xo!=null)for(Po in xo.key!==void 0&&(So=""+xo.key),xo)Fr.call(xo,Po)&&Po!=="key"&&Po!=="__self"&&Po!=="__source"&&(Oo[Po]=xo[Po]);var Ao=arguments.length-2;if(Ao===1)Oo.children=_o;else if(1<Ao){for(var zo=Array(Ao),Ro=0;Ro<Ao;Ro++)zo[Ro]=arguments[Ro+2];Oo.children=zo}if(ao&&ao.defaultProps)for(Po in Ao=ao.defaultProps,Ao)Oo[Po]===void 0&&(Oo[Po]=Ao[Po]);return Vr(ao,So,Oo)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(ao){return{$$typeof:ar,render:ao}},react_production.isValidElement=Hr,react_production.lazy=function(ao){return{$$typeof:cr,_payload:{_status:-1,_result:ao},_init:po}},react_production.memo=function(ao,xo){return{$$typeof:lr,type:ao,compare:xo===void 0?null:xo}},react_production.startTransition=function(ao){var xo=Lr.T,_o={};Lr.T=_o;try{var Po=ao(),Oo=Lr.S;Oo!==null&&Oo(_o,Po),typeof Po=="object"&&Po!==null&&typeof Po.then=="function"&&Po.then(Or,co)}catch(So){co(So)}finally{xo!==null&&_o.types!==null&&(xo.types=_o.types),Lr.T=xo}},react_production.unstable_useCacheRefresh=function(){return Lr.H.useCacheRefresh()},react_production.use=function(ao){return Lr.H.use(ao)},react_production.useActionState=function(ao,xo,_o){return Lr.H.useActionState(ao,xo,_o)},react_production.useCallback=function(ao,xo){return Lr.H.useCallback(ao,xo)},react_production.useContext=function(ao){return Lr.H.useContext(ao)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(ao,xo){return Lr.H.useDeferredValue(ao,xo)},react_production.useEffect=function(ao,xo){return Lr.H.useEffect(ao,xo)},react_production.useEffectEvent=function(ao){return Lr.H.useEffectEvent(ao)},react_production.useId=function(){return Lr.H.useId()},react_production.useImperativeHandle=function(ao,xo,_o){return Lr.H.useImperativeHandle(ao,xo,_o)},react_production.useInsertionEffect=function(ao,xo){return Lr.H.useInsertionEffect(ao,xo)},react_production.useLayoutEffect=function(ao,xo){return Lr.H.useLayoutEffect(ao,xo)},react_production.useMemo=function(ao,xo){return Lr.H.useMemo(ao,xo)},react_production.useOptimistic=function(ao,xo){return Lr.H.useOptimistic(ao,xo)},react_production.useReducer=function(ao,xo,_o){return Lr.H.useReducer(ao,xo,_o)},react_production.useRef=function(ao){return Lr.H.useRef(ao)},react_production.useState=function(ao){return Lr.H.useState(ao)},react_production.useSyncExternalStore=function(ao,xo,_o){return Lr.H.useSyncExternalStore(ao,xo,_o)},react_production.useTransition=function(){return Lr.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(tr){function Hn(so,no){var po=so.length;so.push(no);e:for(;0<po;){var co=po-1>>>1,lo=so[co];if(0<ir(lo,no))so[co]=no,so[po]=lo,po=co;else break e}}function er(so){return so.length===0?null:so[0]}function nr(so){if(so.length===0)return null;var no=so[0],po=so.pop();if(po!==no){so[0]=po;e:for(var co=0,lo=so.length,ao=lo>>>1;co<ao;){var xo=2*(co+1)-1,_o=so[xo],Po=xo+1,Oo=so[Po];if(0>ir(_o,po))Po<lo&&0>ir(Oo,_o)?(so[co]=Oo,so[Po]=po,co=Po):(so[co]=_o,so[xo]=po,co=xo);else if(Po<lo&&0>ir(Oo,po))so[co]=Oo,so[Po]=po,co=Po;else break e}}return no}function ir(so,no){var po=so.sortIndex-no.sortIndex;return po!==0?po:so.id-no.id}if(tr.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var rr=performance;tr.unstable_now=function(){return rr.now()}}else{var sr=Date,ar=sr.now();tr.unstable_now=function(){return sr.now()-ar}}var or=[],lr=[],cr=1,ur=null,dr=3,fr=!1,xr=!1,yr=!1,_r=!1,Sr=typeof setTimeout=="function"?setTimeout:null,jr=typeof clearTimeout=="function"?clearTimeout:null,Dr=typeof setImmediate<"u"?setImmediate:null;function Ir(so){for(var no=er(lr);no!==null;){if(no.callback===null)nr(lr);else if(no.startTime<=so)nr(lr),no.sortIndex=no.expirationTime,Hn(or,no);else break;no=er(lr)}}function Mr(so){if(yr=!1,Ir(so),!xr)if(er(or)!==null)xr=!0,Or||(Or=!0,Yr());else{var no=er(lr);no!==null&&uo(Mr,no.startTime-so)}}var Or=!1,Lr=-1,Fr=5,Vr=-1;function Zr(){return _r?!0:!(tr.unstable_now()-Vr<Fr)}function Hr(){if(_r=!1,Or){var so=tr.unstable_now();Vr=so;var no=!0;try{e:{xr=!1,yr&&(yr=!1,jr(Lr),Lr=-1),fr=!0;var po=dr;try{t:{for(Ir(so),ur=er(or);ur!==null&&!(ur.expirationTime>so&&Zr());){var co=ur.callback;if(typeof co=="function"){ur.callback=null,dr=ur.priorityLevel;var lo=co(ur.expirationTime<=so);if(so=tr.unstable_now(),typeof lo=="function"){ur.callback=lo,Ir(so),no=!0;break t}ur===er(or)&&nr(or),Ir(so)}else nr(or);ur=er(or)}if(ur!==null)no=!0;else{var ao=er(lr);ao!==null&&uo(Mr,ao.startTime-so),no=!1}}break e}finally{ur=null,dr=po,fr=!1}no=void 0}}finally{no?Yr():Or=!1}}}var Yr;if(typeof Dr=="function")Yr=function(){Dr(Hr)};else if(typeof MessageChannel<"u"){var eo=new MessageChannel,io=eo.port2;eo.port1.onmessage=Hr,Yr=function(){io.postMessage(null)}}else Yr=function(){Sr(Hr,0)};function uo(so,no){Lr=Sr(function(){so(tr.unstable_now())},no)}tr.unstable_IdlePriority=5,tr.unstable_ImmediatePriority=1,tr.unstable_LowPriority=4,tr.unstable_NormalPriority=3,tr.unstable_Profiling=null,tr.unstable_UserBlockingPriority=2,tr.unstable_cancelCallback=function(so){so.callback=null},tr.unstable_forceFrameRate=function(so){0>so||125<so?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fr=0<so?Math.floor(1e3/so):5},tr.unstable_getCurrentPriorityLevel=function(){return dr},tr.unstable_next=function(so){switch(dr){case 1:case 2:case 3:var no=3;break;default:no=dr}var po=dr;dr=no;try{return so()}finally{dr=po}},tr.unstable_requestPaint=function(){_r=!0},tr.unstable_runWithPriority=function(so,no){switch(so){case 1:case 2:case 3:case 4:case 5:break;default:so=3}var po=dr;dr=so;try{return no()}finally{dr=po}},tr.unstable_scheduleCallback=function(so,no,po){var co=tr.unstable_now();switch(typeof po=="object"&&po!==null?(po=po.delay,po=typeof po=="number"&&0<po?co+po:co):po=co,so){case 1:var lo=-1;break;case 2:lo=250;break;case 5:lo=1073741823;break;case 4:lo=1e4;break;default:lo=5e3}return lo=po+lo,so={id:cr++,callback:no,priorityLevel:so,startTime:po,expirationTime:lo,sortIndex:-1},po>co?(so.sortIndex=po,Hn(lr,so),er(or)===null&&so===er(lr)&&(yr?(jr(Lr),Lr=-1):yr=!0,uo(Mr,po-co))):(so.sortIndex=lo,Hn(or,so),xr||fr||(xr=!0,Or||(Or=!0,Yr()))),so},tr.unstable_shouldYield=Zr,tr.unstable_wrapCallback=function(so){var no=dr;return function(){var po=dr;dr=no;try{return so.apply(this,arguments)}finally{dr=po}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var tr=requireReact();function Hn(or){var lr="https://react.dev/errors/"+or;if(1<arguments.length){lr+="?args[]="+encodeURIComponent(arguments[1]);for(var cr=2;cr<arguments.length;cr++)lr+="&args[]="+encodeURIComponent(arguments[cr])}return"Minified React error #"+or+"; visit "+lr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function er(){}var nr={d:{f:er,r:function(){throw Error(Hn(522))},D:er,C:er,L:er,m:er,X:er,S:er,M:er},p:0,findDOMNode:null},ir=Symbol.for("react.portal");function rr(or,lr,cr){var ur=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:ur==null?null:""+ur,children:or,containerInfo:lr,implementation:cr}}var sr=tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ar(or,lr){if(or==="font")return"";if(typeof lr=="string")return lr==="use-credentials"?lr:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nr,reactDom_production.createPortal=function(or,lr){var cr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lr||lr.nodeType!==1&&lr.nodeType!==9&&lr.nodeType!==11)throw Error(Hn(299));return rr(or,lr,null,cr)},reactDom_production.flushSync=function(or){var lr=sr.T,cr=nr.p;try{if(sr.T=null,nr.p=2,or)return or()}finally{sr.T=lr,nr.p=cr,nr.d.f()}},reactDom_production.preconnect=function(or,lr){typeof or=="string"&&(lr?(lr=lr.crossOrigin,lr=typeof lr=="string"?lr==="use-credentials"?lr:"":void 0):lr=null,nr.d.C(or,lr))},reactDom_production.prefetchDNS=function(or){typeof or=="string"&&nr.d.D(or)},reactDom_production.preinit=function(or,lr){if(typeof or=="string"&&lr&&typeof lr.as=="string"){var cr=lr.as,ur=ar(cr,lr.crossOrigin),dr=typeof lr.integrity=="string"?lr.integrity:void 0,fr=typeof lr.fetchPriority=="string"?lr.fetchPriority:void 0;cr==="style"?nr.d.S(or,typeof lr.precedence=="string"?lr.precedence:void 0,{crossOrigin:ur,integrity:dr,fetchPriority:fr}):cr==="script"&&nr.d.X(or,{crossOrigin:ur,integrity:dr,fetchPriority:fr,nonce:typeof lr.nonce=="string"?lr.nonce:void 0})}},reactDom_production.preinitModule=function(or,lr){if(typeof or=="string")if(typeof lr=="object"&&lr!==null){if(lr.as==null||lr.as==="script"){var cr=ar(lr.as,lr.crossOrigin);nr.d.M(or,{crossOrigin:cr,integrity:typeof lr.integrity=="string"?lr.integrity:void 0,nonce:typeof lr.nonce=="string"?lr.nonce:void 0})}}else lr==null&&nr.d.M(or)},reactDom_production.preload=function(or,lr){if(typeof or=="string"&&typeof lr=="object"&&lr!==null&&typeof lr.as=="string"){var cr=lr.as,ur=ar(cr,lr.crossOrigin);nr.d.L(or,cr,{crossOrigin:ur,integrity:typeof lr.integrity=="string"?lr.integrity:void 0,nonce:typeof lr.nonce=="string"?lr.nonce:void 0,type:typeof lr.type=="string"?lr.type:void 0,fetchPriority:typeof lr.fetchPriority=="string"?lr.fetchPriority:void 0,referrerPolicy:typeof lr.referrerPolicy=="string"?lr.referrerPolicy:void 0,imageSrcSet:typeof lr.imageSrcSet=="string"?lr.imageSrcSet:void 0,imageSizes:typeof lr.imageSizes=="string"?lr.imageSizes:void 0,media:typeof lr.media=="string"?lr.media:void 0})}},reactDom_production.preloadModule=function(or,lr){if(typeof or=="string")if(lr){var cr=ar(lr.as,lr.crossOrigin);nr.d.m(or,{as:typeof lr.as=="string"&&lr.as!=="script"?lr.as:void 0,crossOrigin:cr,integrity:typeof lr.integrity=="string"?lr.integrity:void 0})}else nr.d.m(or)},reactDom_production.requestFormReset=function(or){nr.d.r(or)},reactDom_production.unstable_batchedUpdates=function(or,lr){return or(lr)},reactDom_production.useFormState=function(or,lr,cr){return sr.H.useFormState(or,lr,cr)},reactDom_production.useFormStatus=function(){return sr.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function tr(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tr)}catch(Hn){console.error(Hn)}}return tr(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var tr=requireScheduler(),Hn=requireReact(),er=requireReactDom();function nr(hr){var pr="https://react.dev/errors/"+hr;if(1<arguments.length){pr+="?args[]="+encodeURIComponent(arguments[1]);for(var br=2;br<arguments.length;br++)pr+="&args[]="+encodeURIComponent(arguments[br])}return"Minified React error #"+hr+"; visit "+pr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ir(hr){return!(!hr||hr.nodeType!==1&&hr.nodeType!==9&&hr.nodeType!==11)}function rr(hr){var pr=hr,br=hr;if(hr.alternate)for(;pr.return;)pr=pr.return;else{hr=pr;do pr=hr,(pr.flags&4098)!==0&&(br=pr.return),hr=pr.return;while(hr)}return pr.tag===3?br:null}function sr(hr){if(hr.tag===13){var pr=hr.memoizedState;if(pr===null&&(hr=hr.alternate,hr!==null&&(pr=hr.memoizedState)),pr!==null)return pr.dehydrated}return null}function ar(hr){if(hr.tag===31){var pr=hr.memoizedState;if(pr===null&&(hr=hr.alternate,hr!==null&&(pr=hr.memoizedState)),pr!==null)return pr.dehydrated}return null}function or(hr){if(rr(hr)!==hr)throw Error(nr(188))}function lr(hr){var pr=hr.alternate;if(!pr){if(pr=rr(hr),pr===null)throw Error(nr(188));return pr!==hr?null:hr}for(var br=hr,Cr=pr;;){var Wr=br.return;if(Wr===null)break;var Xr=Wr.alternate;if(Xr===null){if(Cr=Wr.return,Cr!==null){br=Cr;continue}break}if(Wr.child===Xr.child){for(Xr=Wr.child;Xr;){if(Xr===br)return or(Wr),hr;if(Xr===Cr)return or(Wr),pr;Xr=Xr.sibling}throw Error(nr(188))}if(br.return!==Cr.return)br=Wr,Cr=Xr;else{for(var go=!1,ko=Wr.child;ko;){if(ko===br){go=!0,br=Wr,Cr=Xr;break}if(ko===Cr){go=!0,Cr=Wr,br=Xr;break}ko=ko.sibling}if(!go){for(ko=Xr.child;ko;){if(ko===br){go=!0,br=Xr,Cr=Wr;break}if(ko===Cr){go=!0,Cr=Xr,br=Wr;break}ko=ko.sibling}if(!go)throw Error(nr(189))}}if(br.alternate!==Cr)throw Error(nr(190))}if(br.tag!==3)throw Error(nr(188));return br.stateNode.current===br?hr:pr}function cr(hr){var pr=hr.tag;if(pr===5||pr===26||pr===27||pr===6)return hr;for(hr=hr.child;hr!==null;){if(pr=cr(hr),pr!==null)return pr;hr=hr.sibling}return null}var ur=Object.assign,dr=Symbol.for("react.element"),fr=Symbol.for("react.transitional.element"),xr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),_r=Symbol.for("react.strict_mode"),Sr=Symbol.for("react.profiler"),jr=Symbol.for("react.consumer"),Dr=Symbol.for("react.context"),Ir=Symbol.for("react.forward_ref"),Mr=Symbol.for("react.suspense"),Or=Symbol.for("react.suspense_list"),Lr=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),Vr=Symbol.for("react.activity"),Zr=Symbol.for("react.memo_cache_sentinel"),Hr=Symbol.iterator;function Yr(hr){return hr===null||typeof hr!="object"?null:(hr=Hr&&hr[Hr]||hr["@@iterator"],typeof hr=="function"?hr:null)}var eo=Symbol.for("react.client.reference");function io(hr){if(hr==null)return null;if(typeof hr=="function")return hr.$$typeof===eo?null:hr.displayName||hr.name||null;if(typeof hr=="string")return hr;switch(hr){case yr:return"Fragment";case Sr:return"Profiler";case _r:return"StrictMode";case Mr:return"Suspense";case Or:return"SuspenseList";case Vr:return"Activity"}if(typeof hr=="object")switch(hr.$$typeof){case xr:return"Portal";case Dr:return hr.displayName||"Context";case jr:return(hr._context.displayName||"Context")+".Consumer";case Ir:var pr=hr.render;return hr=hr.displayName,hr||(hr=pr.displayName||pr.name||"",hr=hr!==""?"ForwardRef("+hr+")":"ForwardRef"),hr;case Lr:return pr=hr.displayName||null,pr!==null?pr:io(hr.type)||"Memo";case Fr:pr=hr._payload,hr=hr._init;try{return io(hr(pr))}catch{}}return null}var uo=Array.isArray,so=Hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,no=er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,po={pending:!1,data:null,method:null,action:null},co=[],lo=-1;function ao(hr){return{current:hr}}function xo(hr){0>lo||(hr.current=co[lo],co[lo]=null,lo--)}function _o(hr,pr){lo++,co[lo]=hr.current,hr.current=pr}var Po=ao(null),Oo=ao(null),So=ao(null),Ao=ao(null);function zo(hr,pr){switch(_o(So,pr),_o(Oo,hr),_o(Po,null),pr.nodeType){case 9:case 11:hr=(hr=pr.documentElement)&&(hr=hr.namespaceURI)?Kl(hr):0;break;default:if(hr=pr.tagName,pr=pr.namespaceURI)pr=Kl(pr),hr=Bc(pr,hr);else switch(hr){case"svg":hr=1;break;case"math":hr=2;break;default:hr=0}}xo(Po),_o(Po,hr)}function Ro(){xo(Po),xo(Oo),xo(So)}function Go(hr){hr.memoizedState!==null&&_o(Ao,hr);var pr=Po.current,br=Bc(pr,hr.type);pr!==br&&(_o(Oo,hr),_o(Po,br))}function Qo(hr){Oo.current===hr&&(xo(Po),xo(Oo)),Ao.current===hr&&(xo(Ao),lv._currentValue=po)}var Vo,nl;function fl(hr){if(Vo===void 0)try{throw Error()}catch(br){var pr=br.stack.trim().match(/\n( *(at )?)/);Vo=pr&&pr[1]||"",nl=-1<br.stack.indexOf(`
    at`)?" (<anonymous>)":-1<br.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vo+hr+nl}var Bl=!1;function Gl(hr,pr){if(!hr||Bl)return"";Bl=!0;var br=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Cr={DetermineComponentFrameRoot:function(){try{if(pr){var El=function(){throw Error()};if(Object.defineProperty(El.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(El,[])}catch(dl){var cl=dl}Reflect.construct(hr,[],El)}else{try{El.call()}catch(dl){cl=dl}hr.call(El.prototype)}}else{try{throw Error()}catch(dl){cl=dl}(El=hr())&&typeof El.catch=="function"&&El.catch(function(){})}}catch(dl){if(dl&&cl&&typeof dl.stack=="string")return[dl.stack,cl.stack]}return[null,null]}};Cr.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Wr=Object.getOwnPropertyDescriptor(Cr.DetermineComponentFrameRoot,"name");Wr&&Wr.configurable&&Object.defineProperty(Cr.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Xr=Cr.DetermineComponentFrameRoot(),go=Xr[0],ko=Xr[1];if(go&&ko){var Ho=go.split(`
`),ol=ko.split(`
`);for(Wr=Cr=0;Cr<Ho.length&&!Ho[Cr].includes("DetermineComponentFrameRoot");)Cr++;for(;Wr<ol.length&&!ol[Wr].includes("DetermineComponentFrameRoot");)Wr++;if(Cr===Ho.length||Wr===ol.length)for(Cr=Ho.length-1,Wr=ol.length-1;1<=Cr&&0<=Wr&&Ho[Cr]!==ol[Wr];)Wr--;for(;1<=Cr&&0<=Wr;Cr--,Wr--)if(Ho[Cr]!==ol[Wr]){if(Cr!==1||Wr!==1)do if(Cr--,Wr--,0>Wr||Ho[Cr]!==ol[Wr]){var bl=`
`+Ho[Cr].replace(" at new "," at ");return hr.displayName&&bl.includes("<anonymous>")&&(bl=bl.replace("<anonymous>",hr.displayName)),bl}while(1<=Cr&&0<=Wr);break}}}finally{Bl=!1,Error.prepareStackTrace=br}return(br=hr?hr.displayName||hr.name:"")?fl(br):""}function Tl(hr,pr){switch(hr.tag){case 26:case 27:case 5:return fl(hr.type);case 16:return fl("Lazy");case 13:return hr.child!==pr&&pr!==null?fl("Suspense Fallback"):fl("Suspense");case 19:return fl("SuspenseList");case 0:case 15:return Gl(hr.type,!1);case 11:return Gl(hr.type.render,!1);case 1:return Gl(hr.type,!0);case 31:return fl("Activity");default:return""}}function Pc(hr){try{var pr="",br=null;do pr+=Tl(hr,br),br=hr,hr=hr.return;while(hr);return pr}catch(Cr){return`
Error generating stack: `+Cr.message+`
`+Cr.stack}}var mc=Object.prototype.hasOwnProperty,Hc=tr.unstable_scheduleCallback,Vl=tr.unstable_cancelCallback,Jc=tr.unstable_shouldYield,Yl=tr.unstable_requestPaint,ic=tr.unstable_now,cc=tr.unstable_getCurrentPriorityLevel,Xc=tr.unstable_ImmediatePriority,Sc=tr.unstable_UserBlockingPriority,Oc=tr.unstable_NormalPriority,gl=tr.unstable_LowPriority,Ql=tr.unstable_IdlePriority,ql=tr.log,wc=tr.unstable_setDisableYieldValue,Il=null,rl=null;function il(hr){if(typeof ql=="function"&&wc(hr),rl&&typeof rl.setStrictMode=="function")try{rl.setStrictMode(Il,hr)}catch{}}var hl=Math.clz32?Math.clz32:Jl,Dl=Math.log,Pl=Math.LN2;function Jl(hr){return hr>>>=0,hr===0?32:31-(Dl(hr)/Pl|0)|0}var oc=256,qc=262144,xc=4194304;function jc(hr){var pr=hr&42;if(pr!==0)return pr;switch(hr&-hr){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return hr&261888;case 262144:case 524288:case 1048576:case 2097152:return hr&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return hr&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return hr}}function vu(hr,pr,br){var Cr=hr.pendingLanes;if(Cr===0)return 0;var Wr=0,Xr=hr.suspendedLanes,go=hr.pingedLanes;hr=hr.warmLanes;var ko=Cr&134217727;return ko!==0?(Cr=ko&~Xr,Cr!==0?Wr=jc(Cr):(go&=ko,go!==0?Wr=jc(go):br||(br=ko&~hr,br!==0&&(Wr=jc(br))))):(ko=Cr&~Xr,ko!==0?Wr=jc(ko):go!==0?Wr=jc(go):br||(br=Cr&~hr,br!==0&&(Wr=jc(br)))),Wr===0?0:pr!==0&&pr!==Wr&&(pr&Xr)===0&&(Xr=Wr&-Wr,br=pr&-pr,Xr>=br||Xr===32&&(br&4194048)!==0)?pr:Wr}function Kc(hr,pr){return(hr.pendingLanes&~(hr.suspendedLanes&~hr.pingedLanes)&pr)===0}function uc(hr,pr){switch(hr){case 1:case 2:case 4:case 8:case 64:return pr+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return pr+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var hr=xc;return xc<<=1,(xc&62914560)===0&&(xc=4194304),hr}function ec(hr){for(var pr=[],br=0;31>br;br++)pr.push(hr);return pr}function Hl(hr,pr){hr.pendingLanes|=pr,pr!==268435456&&(hr.suspendedLanes=0,hr.pingedLanes=0,hr.warmLanes=0)}function ah(hr,pr,br,Cr,Wr,Xr){var go=hr.pendingLanes;hr.pendingLanes=br,hr.suspendedLanes=0,hr.pingedLanes=0,hr.warmLanes=0,hr.expiredLanes&=br,hr.entangledLanes&=br,hr.errorRecoveryDisabledLanes&=br,hr.shellSuspendCounter=0;var ko=hr.entanglements,Ho=hr.expirationTimes,ol=hr.hiddenUpdates;for(br=go&~br;0<br;){var bl=31-hl(br),El=1<<bl;ko[bl]=0,Ho[bl]=-1;var cl=ol[bl];if(cl!==null)for(ol[bl]=null,bl=0;bl<cl.length;bl++){var dl=cl[bl];dl!==null&&(dl.lane&=-536870913)}br&=~El}Cr!==0&&sl(hr,Cr,0),Xr!==0&&Wr===0&&hr.tag!==0&&(hr.suspendedLanes|=Xr&~(go&~pr))}function sl(hr,pr,br){hr.pendingLanes|=pr,hr.suspendedLanes&=~pr;var Cr=31-hl(pr);hr.entangledLanes|=pr,hr.entanglements[Cr]=hr.entanglements[Cr]|1073741824|br&261930}function yl(hr,pr){var br=hr.entangledLanes|=pr;for(hr=hr.entanglements;br;){var Cr=31-hl(br),Wr=1<<Cr;Wr&pr|hr[Cr]&pr&&(hr[Cr]|=pr),br&=~Wr}}function Ll(hr,pr){var br=pr&-pr;return br=(br&42)!==0?1:Cl(br),(br&(hr.suspendedLanes|pr))!==0?0:br}function Cl(hr){switch(hr){case 2:hr=1;break;case 8:hr=4;break;case 32:hr=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:hr=128;break;case 268435456:hr=134217728;break;default:hr=0}return hr}function kl(hr){return hr&=-hr,2<hr?8<hr?(hr&134217727)!==0?32:268435456:8:2}function bu(){var hr=no.p;return hr!==0?hr:(hr=window.event,hr===void 0?32:L0(hr.type))}function oh(hr,pr){var br=no.p;try{return no.p=hr,pr()}finally{no.p=br}}var ku=Math.random().toString(36).slice(2),Dc="__reactFiber$"+ku,eu="__reactProps$"+ku,Zc="__reactContainer$"+ku,ac="__reactEvents$"+ku,hu="__reactListeners$"+ku,du="__reactHandles$"+ku,Wc="__reactResources$"+ku,Iu="__reactMarker$"+ku;function qh(hr){delete hr[Dc],delete hr[eu],delete hr[ac],delete hr[hu],delete hr[du]}function Bh(hr){var pr=hr[Dc];if(pr)return pr;for(var br=hr.parentNode;br;){if(pr=br[Zc]||br[Dc]){if(br=pr.alternate,pr.child!==null||br!==null&&br.child!==null)for(hr=qv(hr);hr!==null;){if(br=hr[Dc])return br;hr=qv(hr)}return pr}hr=br,br=hr.parentNode}return null}function zh(hr){if(hr=hr[Dc]||hr[Zc]){var pr=hr.tag;if(pr===5||pr===6||pr===13||pr===31||pr===26||pr===27||pr===3)return hr}return null}function Fc(hr){var pr=hr.tag;if(pr===5||pr===26||pr===27||pr===6)return hr.stateNode;throw Error(nr(33))}function Hu(hr){var pr=hr[Wc];return pr||(pr=hr[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),pr}function tu(hr){hr[Iu]=!0}var Hh=new Set,cd={};function fh(hr,pr){Nh(hr,pr),Nh(hr+"Capture",pr)}function Nh(hr,pr){for(cd[hr]=pr,hr=0;hr<pr.length;hr++)Hh.add(pr[hr])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ed={},_u={};function Bf(hr){return mc.call(_u,hr)?!0:mc.call(Ed,hr)?!1:bh.test(hr)?_u[hr]=!0:(Ed[hr]=!0,!1)}function Lc(hr,pr,br){if(Bf(pr))if(br===null)hr.removeAttribute(pr);else{switch(typeof br){case"undefined":case"function":case"symbol":hr.removeAttribute(pr);return;case"boolean":var Cr=pr.toLowerCase().slice(0,5);if(Cr!=="data-"&&Cr!=="aria-"){hr.removeAttribute(pr);return}}hr.setAttribute(pr,""+br)}}function Gc(hr,pr,br){if(br===null)hr.removeAttribute(pr);else{switch(typeof br){case"undefined":case"function":case"symbol":case"boolean":hr.removeAttribute(pr);return}hr.setAttribute(pr,""+br)}}function Th(hr,pr,br,Cr){if(Cr===null)hr.removeAttribute(br);else{switch(typeof Cr){case"undefined":case"function":case"symbol":case"boolean":hr.removeAttribute(br);return}hr.setAttributeNS(pr,br,""+Cr)}}function ph(hr){switch(typeof hr){case"bigint":case"boolean":case"number":case"string":case"undefined":return hr;case"object":return hr;default:return""}}function Sd(hr){var pr=hr.type;return(hr=hr.nodeName)&&hr.toLowerCase()==="input"&&(pr==="checkbox"||pr==="radio")}function fp(hr,pr,br){var Cr=Object.getOwnPropertyDescriptor(hr.constructor.prototype,pr);if(!hr.hasOwnProperty(pr)&&typeof Cr<"u"&&typeof Cr.get=="function"&&typeof Cr.set=="function"){var Wr=Cr.get,Xr=Cr.set;return Object.defineProperty(hr,pr,{configurable:!0,get:function(){return Wr.call(this)},set:function(go){br=""+go,Xr.call(this,go)}}),Object.defineProperty(hr,pr,{enumerable:Cr.enumerable}),{getValue:function(){return br},setValue:function(go){br=""+go},stopTracking:function(){hr._valueTracker=null,delete hr[pr]}}}}function yc(hr){if(!hr._valueTracker){var pr=Sd(hr)?"checked":"value";hr._valueTracker=fp(hr,pr,""+hr[pr])}}function wu(hr){if(!hr)return!1;var pr=hr._valueTracker;if(!pr)return!0;var br=pr.getValue(),Cr="";return hr&&(Cr=Sd(hr)?hr.checked?"true":"false":hr.value),hr=Cr,hr!==br?(pr.setValue(hr),!0):!1}function Wh(hr){if(hr=hr||(typeof document<"u"?document:void 0),typeof hr>"u")return null;try{return hr.activeElement||hr.body}catch{return hr.body}}var um=/[\n"\\]/g;function Eu(hr){return hr.replace(um,function(pr){return"\\"+pr.charCodeAt(0).toString(16)+" "})}function zf(hr,pr,br,Cr,Wr,Xr,go,ko){hr.name="",go!=null&&typeof go!="function"&&typeof go!="symbol"&&typeof go!="boolean"?hr.type=go:hr.removeAttribute("type"),pr!=null?go==="number"?(pr===0&&hr.value===""||hr.value!=pr)&&(hr.value=""+ph(pr)):hr.value!==""+ph(pr)&&(hr.value=""+ph(pr)):go!=="submit"&&go!=="reset"||hr.removeAttribute("value"),pr!=null?ud(hr,go,ph(pr)):br!=null?ud(hr,go,ph(br)):Cr!=null&&hr.removeAttribute("value"),Wr==null&&Xr!=null&&(hr.defaultChecked=!!Xr),Wr!=null&&(hr.checked=Wr&&typeof Wr!="function"&&typeof Wr!="symbol"),ko!=null&&typeof ko!="function"&&typeof ko!="symbol"&&typeof ko!="boolean"?hr.name=""+ph(ko):hr.removeAttribute("name")}function Jd(hr,pr,br,Cr,Wr,Xr,go,ko){if(Xr!=null&&typeof Xr!="function"&&typeof Xr!="symbol"&&typeof Xr!="boolean"&&(hr.type=Xr),pr!=null||br!=null){if(!(Xr!=="submit"&&Xr!=="reset"||pr!=null)){yc(hr);return}br=br!=null?""+ph(br):"",pr=pr!=null?""+ph(pr):br,ko||pr===hr.value||(hr.value=pr),hr.defaultValue=pr}Cr=Cr??Wr,Cr=typeof Cr!="function"&&typeof Cr!="symbol"&&!!Cr,hr.checked=ko?hr.checked:!!Cr,hr.defaultChecked=!!Cr,go!=null&&typeof go!="function"&&typeof go!="symbol"&&typeof go!="boolean"&&(hr.name=go),yc(hr)}function ud(hr,pr,br){pr==="number"&&Wh(hr.ownerDocument)===hr||hr.defaultValue===""+br||(hr.defaultValue=""+br)}function Au(hr,pr,br,Cr){if(hr=hr.options,pr){pr={};for(var Wr=0;Wr<br.length;Wr++)pr["$"+br[Wr]]=!0;for(br=0;br<hr.length;br++)Wr=pr.hasOwnProperty("$"+hr[br].value),hr[br].selected!==Wr&&(hr[br].selected=Wr),Wr&&Cr&&(hr[br].defaultSelected=!0)}else{for(br=""+ph(br),pr=null,Wr=0;Wr<hr.length;Wr++){if(hr[Wr].value===br){hr[Wr].selected=!0,Cr&&(hr[Wr].defaultSelected=!0);return}pr!==null||hr[Wr].disabled||(pr=hr[Wr])}pr!==null&&(pr.selected=!0)}}function jo(hr,pr,br){if(pr!=null&&(pr=""+ph(pr),pr!==hr.value&&(hr.value=pr),br==null)){hr.defaultValue!==pr&&(hr.defaultValue=pr);return}hr.defaultValue=br!=null?""+ph(br):""}function Mo(hr,pr,br,Cr){if(pr==null){if(Cr!=null){if(br!=null)throw Error(nr(92));if(uo(Cr)){if(1<Cr.length)throw Error(nr(93));Cr=Cr[0]}br=Cr}br==null&&(br=""),pr=br}br=ph(pr),hr.defaultValue=br,Cr=hr.textContent,Cr===br&&Cr!==""&&Cr!==null&&(hr.value=Cr),yc(hr)}function $o(hr,pr){if(pr){var br=hr.firstChild;if(br&&br===hr.lastChild&&br.nodeType===3){br.nodeValue=pr;return}}hr.textContent=pr}var ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(hr,pr,br){var Cr=pr.indexOf("--")===0;br==null||typeof br=="boolean"||br===""?Cr?hr.setProperty(pr,""):pr==="float"?hr.cssFloat="":hr[pr]="":Cr?hr.setProperty(pr,br):typeof br!="number"||br===0||ll.has(pr)?pr==="float"?hr.cssFloat=br:hr[pr]=(""+br).trim():hr[pr]=br+"px"}function zl(hr,pr,br){if(pr!=null&&typeof pr!="object")throw Error(nr(62));if(hr=hr.style,br!=null){for(var Cr in br)!br.hasOwnProperty(Cr)||pr!=null&&pr.hasOwnProperty(Cr)||(Cr.indexOf("--")===0?hr.setProperty(Cr,""):Cr==="float"?hr.cssFloat="":hr[Cr]="");for(var Wr in pr)Cr=pr[Wr],pr.hasOwnProperty(Wr)&&br[Wr]!==Cr&&Rl(hr,Wr,Cr)}else for(var Xr in pr)pr.hasOwnProperty(Xr)&&Rl(hr,Xr,pr[Xr])}function vc(hr){if(hr.indexOf("-")===-1)return!1;switch(hr){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zu(hr){return mh.test(""+hr)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":hr}function Qu(){}var Hf=null;function Vm(hr){return hr=hr.target||hr.srcElement||window,hr.correspondingUseElement&&(hr=hr.correspondingUseElement),hr.nodeType===3?hr.parentNode:hr}var vf=null,bc=null;function ef(hr){var pr=zh(hr);if(pr&&(hr=pr.stateNode)){var br=hr[eu]||null;e:switch(hr=pr.stateNode,pr.type){case"input":if(zf(hr,br.value,br.defaultValue,br.defaultValue,br.checked,br.defaultChecked,br.type,br.name),pr=br.name,br.type==="radio"&&pr!=null){for(br=hr;br.parentNode;)br=br.parentNode;for(br=br.querySelectorAll('input[name="'+Eu(""+pr)+'"][type="radio"]'),pr=0;pr<br.length;pr++){var Cr=br[pr];if(Cr!==hr&&Cr.form===hr.form){var Wr=Cr[eu]||null;if(!Wr)throw Error(nr(90));zf(Cr,Wr.value,Wr.defaultValue,Wr.defaultValue,Wr.checked,Wr.defaultChecked,Wr.type,Wr.name)}}for(pr=0;pr<br.length;pr++)Cr=br[pr],Cr.form===hr.form&&wu(Cr)}break e;case"textarea":jo(hr,br.value,br.defaultValue);break e;case"select":pr=br.value,pr!=null&&Au(hr,!!br.multiple,pr,!1)}}}var Du=!1;function Um(hr,pr,br){if(Du)return hr(pr,br);Du=!0;try{var Cr=hr(pr);return Cr}finally{if(Du=!1,(vf!==null||bc!==null)&&(Yy(),vf&&(pr=vf,hr=bc,bc=vf=null,ef(pr),hr)))for(pr=0;pr<hr.length;pr++)ef(hr[pr])}}function Wf(hr,pr){var br=hr.stateNode;if(br===null)return null;var Cr=br[eu]||null;if(Cr===null)return null;br=Cr[pr];e:switch(pr){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Cr=!Cr.disabled)||(hr=hr.type,Cr=!(hr==="button"||hr==="input"||hr==="select"||hr==="textarea")),hr=!Cr;break e;default:hr=!1}if(hr)return null;if(br&&typeof br!="function")throw Error(nr(231,pr,typeof br));return br}var hd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=!1;if(hd)try{var _h={};Object.defineProperty(_h,"passive",{get:function(){hm=!0}}),window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{hm=!1}var bf=null,tf=null,Ec=null;function nu(){if(Ec)return Ec;var hr,pr=tf,br=pr.length,Cr,Wr="value"in bf?bf.value:bf.textContent,Xr=Wr.length;for(hr=0;hr<br&&pr[hr]===Wr[hr];hr++);var go=br-hr;for(Cr=1;Cr<=go&&pr[br-Cr]===Wr[Xr-Cr];Cr++);return Ec=Wr.slice(hr,1<Cr?1-Cr:void 0)}function dm(hr){var pr=hr.keyCode;return"charCode"in hr?(hr=hr.charCode,hr===0&&pr===13&&(hr=13)):hr=pr,hr===10&&(hr=13),32<=hr||hr===13?hr:0}function fm(){return!0}function ny(){return!1}function Kh(hr){function pr(br,Cr,Wr,Xr,go){this._reactName=br,this._targetInst=Wr,this.type=Cr,this.nativeEvent=Xr,this.target=go,this.currentTarget=null;for(var ko in hr)hr.hasOwnProperty(ko)&&(br=hr[ko],this[ko]=br?br(Xr):Xr[ko]);return this.isDefaultPrevented=(Xr.defaultPrevented!=null?Xr.defaultPrevented:Xr.returnValue===!1)?fm:ny,this.isPropagationStopped=ny,this}return ur(pr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var br=this.nativeEvent;br&&(br.preventDefault?br.preventDefault():typeof br.returnValue!="unknown"&&(br.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var br=this.nativeEvent;br&&(br.stopPropagation?br.stopPropagation():typeof br.cancelBubble!="unknown"&&(br.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),pr}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(hr){return hr.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pm=Kh(_f),Id=ur({},_f,{view:0,detail:0}),Mc=Kh(Id),gh,Zh,Qh,mm=ur({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(hr){return hr.relatedTarget===void 0?hr.fromElement===hr.srcElement?hr.toElement:hr.fromElement:hr.relatedTarget},movementX:function(hr){return"movementX"in hr?hr.movementX:(hr!==Qh&&(Qh&&hr.type==="mousemove"?(gh=hr.screenX-Qh.screenX,Zh=hr.screenY-Qh.screenY):Zh=gh=0,Qh=hr),gh)},movementY:function(hr){return"movementY"in hr?hr.movementY:Zh}}),Ym=Kh(mm),gu=ur({},mm,{dataTransfer:0}),nf=Kh(gu),kg=ur({},Id,{relatedTarget:0}),Ag=Kh(kg),ux=ur({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),pp=Kh(ux),iy=ur({},_f,{clipboardData:function(hr){return"clipboardData"in hr?hr.clipboardData:window.clipboardData}}),Wu=Kh(iy),ry=ur({},_f,{data:0}),wh=Kh(ry),Gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(hr){var pr=this.nativeEvent;return pr.getModifierState?pr.getModifierState(hr):(hr=jd[hr])?!!pr[hr]:!1}function gm(){return Bp}var Fu=ur({},Id,{key:function(hr){if(hr.key){var pr=Gf[hr.key]||hr.key;if(pr!=="Unidentified")return pr}return hr.type==="keypress"?(hr=dm(hr),hr===13?"Enter":String.fromCharCode(hr)):hr.type==="keydown"||hr.type==="keyup"?hx[hr.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(hr){return hr.type==="keypress"?dm(hr):0},keyCode:function(hr){return hr.type==="keydown"||hr.type==="keyup"?hr.keyCode:0},which:function(hr){return hr.type==="keypress"?dm(hr):hr.type==="keydown"||hr.type==="keyup"?hr.keyCode:0}}),wf=Kh(Fu),Xm=ur({},mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=Kh(Xm),xm=ur({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),dx=Kh(xm),ay=ur({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),oy=Kh(ay),qm=ur({},mm,{deltaX:function(hr){return"deltaX"in hr?hr.deltaX:"wheelDeltaX"in hr?-hr.wheelDeltaX:0},deltaY:function(hr){return"deltaY"in hr?hr.deltaY:"wheelDeltaY"in hr?-hr.wheelDeltaY:"wheelDelta"in hr?-hr.wheelDelta:0},deltaZ:0,deltaMode:0}),Ef=Kh(qm),ym=ur({},_f,{newState:0,oldState:0}),zp=Kh(ym),Rd=[9,13,27,32],Km=hd&&"CompositionEvent"in window,mp=null;hd&&"documentMode"in document&&(mp=document.documentMode);var Tg=hd&&"TextEvent"in window&&!mp,Sf=hd&&(!Km||mp&&8<mp&&11>=mp),Zm=" ",Qm=!1;function Pg(hr,pr){switch(hr){case"keyup":return Rd.indexOf(pr.keyCode)!==-1;case"keydown":return pr.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(hr){return hr=hr.detail,typeof hr=="object"&&"data"in hr?hr.data:null}var Hp=!1;function Gu(hr,pr){switch(hr){case"compositionend":return fx(pr);case"keypress":return pr.which!==32?null:(Qm=!0,Zm);case"textInput":return hr=pr.data,hr===Zm&&Qm?null:hr;default:return null}}function jf(hr,pr){if(Hp)return hr==="compositionend"||!Km&&Pg(hr,pr)?(hr=nu(),Ec=tf=bf=null,Hp=!1,hr):null;switch(hr){case"paste":return null;case"keypress":if(!(pr.ctrlKey||pr.altKey||pr.metaKey)||pr.ctrlKey&&pr.altKey){if(pr.char&&1<pr.char.length)return pr.char;if(pr.which)return String.fromCharCode(pr.which)}return null;case"compositionend":return Sf&&pr.locale!=="ko"?null:pr.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(hr){var pr=hr&&hr.nodeName&&hr.nodeName.toLowerCase();return pr==="input"?!!gp[hr.type]:pr==="textarea"}function px(hr,pr,br,Cr){vf?bc?bc.push(Cr):bc=[Cr]:vf=Cr,pr=yo(pr,"onChange"),0<pr.length&&(br=new pm("onChange","change",null,br,Cr),hr.push({event:br,listeners:pr}))}var rf=null,xp=null;function sf(hr){qr(hr,0)}function Jm(hr){var pr=Fc(hr);if(wu(pr))return hr}function af(hr,pr){if(hr==="change")return pr}var Wp=!1;if(hd){var Gh;if(hd){var Rf="oninput"in document;if(!Rf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Rf=typeof Dg.oninput=="function"}Gh=Rf}else Gh=!1;Wp=Gh&&(!document.documentMode||9<document.documentMode)}function Gp(){rf&&(rf.detachEvent("onpropertychange",of),xp=rf=null)}function of(hr){if(hr.propertyName==="value"&&Jm(xp)){var pr=[];px(pr,xp,hr,Vm(hr)),Um(sf,pr)}}function Fd(hr,pr,br){hr==="focusin"?(Gp(),rf=pr,xp=br,rf.attachEvent("onpropertychange",of)):hr==="focusout"&&Gp()}function hv(hr){if(hr==="selectionchange"||hr==="keyup"||hr==="keydown")return Jm(xp)}function vm(hr,pr){if(hr==="click")return Jm(pr)}function Mg(hr,pr){if(hr==="input"||hr==="change")return Jm(pr)}function fd(hr,pr){return hr===pr&&(hr!==0||1/hr===1/pr)||hr!==hr&&pr!==pr}var zu=typeof Object.is=="function"?Object.is:fd;function Vp(hr,pr){if(zu(hr,pr))return!0;if(typeof hr!="object"||hr===null||typeof pr!="object"||pr===null)return!1;var br=Object.keys(hr),Cr=Object.keys(pr);if(br.length!==Cr.length)return!1;for(Cr=0;Cr<br.length;Cr++){var Wr=br[Cr];if(!mc.call(pr,Wr)||!zu(hr[Wr],pr[Wr]))return!1}return!0}function lf(hr){for(;hr&&hr.firstChild;)hr=hr.firstChild;return hr}function eg(hr,pr){var br=lf(hr);hr=0;for(var Cr;br;){if(br.nodeType===3){if(Cr=hr+br.textContent.length,hr<=pr&&Cr>=pr)return{node:br,offset:pr-hr};hr=Cr}e:{for(;br;){if(br.nextSibling){br=br.nextSibling;break e}br=br.parentNode}br=void 0}br=lf(br)}}function tg(hr,pr){return hr&&pr?hr===pr?!0:hr&&hr.nodeType===3?!1:pr&&pr.nodeType===3?tg(hr,pr.parentNode):"contains"in hr?hr.contains(pr):hr.compareDocumentPosition?!!(hr.compareDocumentPosition(pr)&16):!1:!1}function ng(hr){hr=hr!=null&&hr.ownerDocument!=null&&hr.ownerDocument.defaultView!=null?hr.ownerDocument.defaultView:window;for(var pr=Wh(hr.document);pr instanceof hr.HTMLIFrameElement;){try{var br=typeof pr.contentWindow.location.href=="string"}catch{br=!1}if(br)hr=pr.contentWindow;else break;pr=Wh(hr.document)}return pr}function yp(hr){var pr=hr&&hr.nodeName&&hr.nodeName.toLowerCase();return pr&&(pr==="input"&&(hr.type==="text"||hr.type==="search"||hr.type==="tel"||hr.type==="url"||hr.type==="password")||pr==="textarea"||hr.contentEditable==="true")}var Bd=hd&&"documentMode"in document&&11>=document.documentMode,Zo=null,vl=null,ul=null,Wl=!1;function dc(hr,pr,br){var Cr=br.window===br?br.document:br.nodeType===9?br:br.ownerDocument;Wl||Zo==null||Zo!==Wh(Cr)||(Cr=Zo,"selectionStart"in Cr&&yp(Cr)?Cr={start:Cr.selectionStart,end:Cr.selectionEnd}:(Cr=(Cr.ownerDocument&&Cr.ownerDocument.defaultView||window).getSelection(),Cr={anchorNode:Cr.anchorNode,anchorOffset:Cr.anchorOffset,focusNode:Cr.focusNode,focusOffset:Cr.focusOffset}),ul&&Vp(ul,Cr)||(ul=Cr,Cr=yo(vl,"onSelect"),0<Cr.length&&(pr=new pm("onSelect","select",null,pr,br),hr.push({event:pr,listeners:Cr}),pr.target=Zo)))}function Rc(hr,pr){var br={};return br[hr.toLowerCase()]=pr.toLowerCase(),br["Webkit"+hr]="webkit"+pr,br["Moz"+hr]="moz"+pr,br}var Ju={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionrun:Rc("Transition","TransitionRun"),transitionstart:Rc("Transition","TransitionStart"),transitioncancel:Rc("Transition","TransitionCancel"),transitionend:Rc("Transition","TransitionEnd")},Su={},Ng={};hd&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ju.animationend.animation,delete Ju.animationiteration.animation,delete Ju.animationstart.animation),"TransitionEvent"in window||delete Ju.transitionend.transition);function Vh(hr){if(Su[hr])return Su[hr];if(!Ju[hr])return hr;var pr=Ju[hr],br;for(br in pr)if(pr.hasOwnProperty(br)&&br in Ng)return Su[hr]=pr[br];return hr}var Uh=Vh("animationend"),vp=Vh("animationiteration"),Up=Vh("animationstart"),bm=Vh("transitionrun"),bp=Vh("transitionstart"),_m=Vh("transitioncancel"),su=Vh("transitionend"),mx=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function Jh(hr,pr){mx.set(hr,pr),fh(pr,[hr])}var _p=typeof reportError=="function"?reportError:function(hr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof hr=="object"&&hr!==null&&typeof hr.message=="string"?String(hr.message):String(hr),error:hr});if(!window.dispatchEvent(pr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",hr);return}console.error(hr)},zd=[],pd=0,Yh=0;function Oh(){for(var hr=pd,pr=Yh=pd=0;pr<hr;){var br=zd[pr];zd[pr++]=null;var Cr=zd[pr];zd[pr++]=null;var Wr=zd[pr];zd[pr++]=null;var Xr=zd[pr];if(zd[pr++]=null,Cr!==null&&Wr!==null){var go=Cr.pending;go===null?Wr.next=Wr:(Wr.next=go.next,go.next=Wr),Cr.pending=Wr}Xr!==0&&Vf(br,Wr,Xr)}}function cf(hr,pr,br,Cr){zd[pd++]=hr,zd[pd++]=pr,zd[pd++]=br,zd[pd++]=Cr,Yh|=Cr,hr.lanes|=Cr,hr=hr.alternate,hr!==null&&(hr.lanes|=Cr)}function ig(hr,pr,br,Cr){return cf(hr,pr,br,Cr),wm(hr)}function kd(hr,pr){return cf(hr,null,null,pr),wm(hr)}function Vf(hr,pr,br){hr.lanes|=br;var Cr=hr.alternate;Cr!==null&&(Cr.lanes|=br);for(var Wr=!1,Xr=hr.return;Xr!==null;)Xr.childLanes|=br,Cr=Xr.alternate,Cr!==null&&(Cr.childLanes|=br),Xr.tag===22&&(hr=Xr.stateNode,hr===null||hr._visibility&1||(Wr=!0)),hr=Xr,Xr=Xr.return;return hr.tag===3?(Xr=hr.stateNode,Wr&&pr!==null&&(Wr=31-hl(br),hr=Xr.hiddenUpdates,Cr=hr[Wr],Cr===null?hr[Wr]=[pr]:Cr.push(pr),pr.lane=br|536870912),Xr):null}function wm(hr){if(50<Vx)throw Vx=0,Bv=null,Error(nr(185));for(var pr=hr.return;pr!==null;)hr=pr,pr=hr.return;return hr.tag===3?hr.stateNode:null}var Cf={};function gx(hr,pr,br,Cr){this.tag=hr,this.key=br,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=pr,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Cr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ph(hr,pr,br,Cr){return new gx(hr,pr,br,Cr)}function Hd(hr){return hr=hr.prototype,!(!hr||!hr.isReactComponent)}function Vu(hr,pr){var br=hr.alternate;return br===null?(br=Ph(hr.tag,pr,hr.key,hr.mode),br.elementType=hr.elementType,br.type=hr.type,br.stateNode=hr.stateNode,br.alternate=hr,hr.alternate=br):(br.pendingProps=pr,br.type=hr.type,br.flags=0,br.subtreeFlags=0,br.deletions=null),br.flags=hr.flags&65011712,br.childLanes=hr.childLanes,br.lanes=hr.lanes,br.child=hr.child,br.memoizedProps=hr.memoizedProps,br.memoizedState=hr.memoizedState,br.updateQueue=hr.updateQueue,pr=hr.dependencies,br.dependencies=pr===null?null:{lanes:pr.lanes,firstContext:pr.firstContext},br.sibling=hr.sibling,br.index=hr.index,br.ref=hr.ref,br.refCleanup=hr.refCleanup,br}function ju(hr,pr){hr.flags&=65011714;var br=hr.alternate;return br===null?(hr.childLanes=0,hr.lanes=pr,hr.child=null,hr.subtreeFlags=0,hr.memoizedProps=null,hr.memoizedState=null,hr.updateQueue=null,hr.dependencies=null,hr.stateNode=null):(hr.childLanes=br.childLanes,hr.lanes=br.lanes,hr.child=br.child,hr.subtreeFlags=0,hr.deletions=null,hr.memoizedProps=br.memoizedProps,hr.memoizedState=br.memoizedState,hr.updateQueue=br.updateQueue,hr.type=br.type,pr=br.dependencies,hr.dependencies=pr===null?null:{lanes:pr.lanes,firstContext:pr.firstContext}),hr}function rg(hr,pr,br,Cr,Wr,Xr){var go=0;if(Cr=hr,typeof hr=="function")Hd(hr)&&(go=1);else if(typeof hr=="string")go=K0(hr,br,Po.current)?26:hr==="html"||hr==="head"||hr==="body"?27:5;else e:switch(hr){case Vr:return hr=Ph(31,br,pr,Wr),hr.elementType=Vr,hr.lanes=Xr,hr;case yr:return wp(br.children,Wr,Xr,pr);case _r:go=8,Wr|=24;break;case Sr:return hr=Ph(12,br,pr,Wr|2),hr.elementType=Sr,hr.lanes=Xr,hr;case Mr:return hr=Ph(13,br,pr,Wr),hr.elementType=Mr,hr.lanes=Xr,hr;case Or:return hr=Ph(19,br,pr,Wr),hr.elementType=Or,hr.lanes=Xr,hr;default:if(typeof hr=="object"&&hr!==null)switch(hr.$$typeof){case Dr:go=10;break e;case jr:go=9;break e;case Ir:go=11;break e;case Lr:go=14;break e;case Fr:go=16,Cr=null;break e}go=29,br=Error(nr(130,hr===null?"null":typeof hr,"")),Cr=null}return pr=Ph(go,br,pr,Wr),pr.elementType=hr,pr.type=Cr,pr.lanes=Xr,pr}function wp(hr,pr,br,Cr){return hr=Ph(7,hr,Cr,pr),hr.lanes=br,hr}function Uf(hr,pr,br){return hr=Ph(6,hr,null,pr),hr.lanes=br,hr}function Yf(hr){var pr=Ph(18,null,null,0);return pr.stateNode=hr,pr}function Mu(hr,pr,br){return pr=Ph(4,hr.children!==null?hr.children:[],hr.key,pr),pr.lanes=br,pr.stateNode={containerInfo:hr.containerInfo,pendingChildren:null,implementation:hr.implementation},pr}var gr=new WeakMap;function Rr(hr,pr){if(typeof hr=="object"&&hr!==null){var br=gr.get(hr);return br!==void 0?br:(pr={value:hr,source:pr,stack:Pc(pr)},gr.set(hr,pr),pr)}return{value:hr,source:pr,stack:Pc(pr)}}var Br=[],Qr=0,ho=null,Eo=0,Io=[],Jo=0,Ko=null,_l=1,Nl="";function tc(hr,pr){Br[Qr++]=Eo,Br[Qr++]=ho,ho=hr,Eo=pr}function $c(hr,pr,br){Io[Jo++]=_l,Io[Jo++]=Nl,Io[Jo++]=Ko,Ko=hr;var Cr=_l;hr=Nl;var Wr=32-hl(Cr)-1;Cr&=~(1<<Wr),br+=1;var Xr=32-hl(pr)+Wr;if(30<Xr){var go=Wr-Wr%5;Xr=(Cr&(1<<go)-1).toString(32),Cr>>=go,Wr-=go,_l=1<<32-hl(pr)+Wr|br<<Wr|Cr,Nl=Xr+hr}else _l=1<<Xr|br<<Wr|Cr,Nl=hr}function lh(hr){hr.return!==null&&(tc(hr,1),$c(hr,1,0))}function Tu(hr){for(;hr===ho;)ho=Br[--Qr],Br[Qr]=null,Eo=Br[--Qr],Br[Qr]=null;for(;hr===Ko;)Ko=Io[--Jo],Io[Jo]=null,Nl=Io[--Jo],Io[Jo]=null,_l=Io[--Jo],Io[Jo]=null}function Lh(hr,pr){Io[Jo++]=_l,Io[Jo++]=Nl,Io[Jo++]=Ko,_l=pr.id,Nl=pr.overflow,Ko=hr}var fu=null,iu=null,Uc=!1,Ep=null,Ad=!1,Og=Error(nr(519));function Sp(hr){var pr=Error(nr(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rp(Rr(pr,hr)),Og}function Em(hr){var pr=hr.stateNode,br=hr.type,Cr=hr.memoizedProps;switch(pr[Dc]=hr,pr[eu]=Cr,br){case"dialog":Jr("cancel",pr),Jr("close",pr);break;case"iframe":case"object":case"embed":Jr("load",pr);break;case"video":case"audio":for(br=0;br<$r.length;br++)Jr($r[br],pr);break;case"source":Jr("error",pr);break;case"img":case"image":case"link":Jr("error",pr),Jr("load",pr);break;case"details":Jr("toggle",pr);break;case"input":Jr("invalid",pr),Jd(pr,Cr.value,Cr.defaultValue,Cr.checked,Cr.defaultChecked,Cr.type,Cr.name,!0);break;case"select":Jr("invalid",pr);break;case"textarea":Jr("invalid",pr),Mo(pr,Cr.value,Cr.defaultValue,Cr.children)}br=Cr.children,typeof br!="string"&&typeof br!="number"&&typeof br!="bigint"||pr.textContent===""+br||Cr.suppressHydrationWarning===!0||Yo(pr.textContent,br)?(Cr.popover!=null&&(Jr("beforetoggle",pr),Jr("toggle",pr)),Cr.onScroll!=null&&Jr("scroll",pr),Cr.onScrollEnd!=null&&Jr("scrollend",pr),Cr.onClick!=null&&(pr.onclick=Qu),pr=!0):pr=!1,pr||Sp(hr,!0)}function Uu(hr){for(fu=hr.return;fu;)switch(fu.tag){case 5:case 31:case 13:Ad=!1;return;case 27:case 3:Ad=!0;return;default:fu=fu.return}}function kf(hr){if(hr!==fu)return!1;if(!Uc)return Uu(hr),Uc=!0,!1;var pr=hr.tag,br;if((br=pr!==3&&pr!==27)&&((br=pr===5)&&(br=hr.type,br=!(br!=="form"&&br!=="button")||kc(hr.type,hr.memoizedProps)),br=!br),br&&iu&&Sp(hr),Uu(hr),pr===13){if(hr=hr.memoizedState,hr=hr!==null?hr.dehydrated:null,!hr)throw Error(nr(317));iu=Sg(hr)}else if(pr===31){if(hr=hr.memoizedState,hr=hr!==null?hr.dehydrated:null,!hr)throw Error(nr(317));iu=Sg(hr)}else pr===27?(pr=iu,$l(hr.type)?(hr=xf,xf=null,iu=hr):iu=pr):iu=fu?_d(hr.stateNode.nextSibling):null;return!0}function Co(){iu=fu=null,Uc=!1}function jp(){var hr=Ep;return hr!==null&&(Zd===null?Zd=hr:Zd.push.apply(Zd,hr),Ep=null),hr}function Rp(hr){Ep===null?Ep=[hr]:Ep.push(hr)}var $h=ao(null),Cc=null,Dh=null;function Sm(hr,pr,br){_o($h,pr._currentValue),pr._currentValue=br}function Yp(hr){hr._currentValue=$h.current,xo($h)}function Xp(hr,pr,br){for(;hr!==null;){var Cr=hr.alternate;if((hr.childLanes&pr)!==pr?(hr.childLanes|=pr,Cr!==null&&(Cr.childLanes|=pr)):Cr!==null&&(Cr.childLanes&pr)!==pr&&(Cr.childLanes|=pr),hr===br)break;hr=hr.return}}function ly(hr,pr,br,Cr){var Wr=hr.child;for(Wr!==null&&(Wr.return=hr);Wr!==null;){var Xr=Wr.dependencies;if(Xr!==null){var go=Wr.child;Xr=Xr.firstContext;e:for(;Xr!==null;){var ko=Xr;Xr=Wr;for(var Ho=0;Ho<pr.length;Ho++)if(ko.context===pr[Ho]){Xr.lanes|=br,ko=Xr.alternate,ko!==null&&(ko.lanes|=br),Xp(Xr.return,br,hr),Cr||(go=null);break e}Xr=ko.next}}else if(Wr.tag===18){if(go=Wr.return,go===null)throw Error(nr(341));go.lanes|=br,Xr=go.alternate,Xr!==null&&(Xr.lanes|=br),Xp(go,br,hr),go=null}else go=Wr.child;if(go!==null)go.return=Wr;else for(go=Wr;go!==null;){if(go===hr){go=null;break}if(Wr=go.sibling,Wr!==null){Wr.return=go.return,go=Wr;break}go=go.return}Wr=go}}function Lg(hr,pr,br,Cr){hr=null;for(var Wr=pr,Xr=!1;Wr!==null;){if(!Xr){if((Wr.flags&524288)!==0)Xr=!0;else if((Wr.flags&262144)!==0)break}if(Wr.tag===10){var go=Wr.alternate;if(go===null)throw Error(nr(387));if(go=go.memoizedProps,go!==null){var ko=Wr.type;zu(Wr.pendingProps.value,go.value)||(hr!==null?hr.push(ko):hr=[ko])}}else if(Wr===Ao.current){if(go=Wr.alternate,go===null)throw Error(nr(387));go.memoizedState.memoizedState!==Wr.memoizedState.memoizedState&&(hr!==null?hr.push(lv):hr=[lv])}Wr=Wr.return}hr!==null&&ly(pr,hr,br,Cr),pr.flags|=262144}function cy(hr){for(hr=hr.firstContext;hr!==null;){if(!zu(hr.context._currentValue,hr.memoizedValue))return!0;hr=hr.next}return!1}function Cp(hr){Cc=hr,Dh=null,hr=hr.dependencies,hr!==null&&(hr.firstContext=null)}function ed(hr){return tb(Cc,hr)}function uf(hr,pr){return Cc===null&&Cp(hr),tb(hr,pr)}function tb(hr,pr){var br=pr._currentValue;if(pr={context:pr,memoizedValue:br,next:null},Dh===null){if(hr===null)throw Error(nr(308));Dh=pr,hr.dependencies={lanes:0,firstContext:pr},hr.flags|=524288}else Dh=Dh.next=pr;return br}var qb=typeof AbortController<"u"?AbortController:function(){var hr=[],pr=this.signal={aborted:!1,addEventListener:function(br,Cr){hr.push(Cr)}};this.abort=function(){pr.aborted=!0,hr.forEach(function(br){return br()})}},nb=tr.unstable_scheduleCallback,Kb=tr.unstable_NormalPriority,Mh={$$typeof:Dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new qb,data:new Map,refCount:0}}function kp(hr){hr.refCount--,hr.refCount===0&&nb(Kb,function(){hr.controller.abort()})}var $g=null,dv=0,Ig=0,jm=null;function Rm(hr,pr){if($g===null){var br=$g=[];dv=0,Ig=pf(),jm={status:"pending",value:void 0,then:function(Cr){br.push(Cr)}}}return dv++,pr.then(ib,ib),pr}function ib(){if(--dv===0&&$g!==null){jm!==null&&(jm.status="fulfilled");var hr=$g;$g=null,Ig=0,jm=null;for(var pr=0;pr<hr.length;pr++)(0,hr[pr])()}}function Zb(hr,pr){var br=[],Cr={status:"pending",value:null,reason:null,then:function(Wr){br.push(Wr)}};return hr.then(function(){Cr.status="fulfilled",Cr.value=pr;for(var Wr=0;Wr<br.length;Wr++)(0,br[Wr])(pr)},function(Wr){for(Cr.status="rejected",Cr.reason=Wr,Wr=0;Wr<br.length;Wr++)(0,br[Wr])(void 0)}),Cr}var Af=so.S;so.S=function(hr,pr){$v=ic(),typeof pr=="object"&&pr!==null&&typeof pr.then=="function"&&Rm(hr,pr),Af!==null&&Af(hr,pr)};var qp=ao(null);function fv(){var hr=qp.current;return hr!==null?hr:Xu.pooledCache}function Kp(hr,pr){pr===null?_o(qp,qp.current):_o(qp,pr.pool)}function rb(){var hr=fv();return hr===null?null:{parent:Mh._currentValue,pool:hr}}var Cm=Error(nr(460)),uy=Error(nr(474)),sg=Error(nr(542)),xx={then:function(){}};function sb(hr){return hr=hr.status,hr==="fulfilled"||hr==="rejected"}function hy(hr,pr,br){switch(br=hr[br],br===void 0?hr.push(pr):br!==pr&&(pr.then(Qu,Qu),pr=br),pr.status){case"fulfilled":return pr.value;case"rejected":throw hr=pr.reason,pv(hr),hr;default:if(typeof pr.status=="string")pr.then(Qu,Qu);else{if(hr=Xu,hr!==null&&100<hr.shellSuspendCounter)throw Error(nr(482));hr=pr,hr.status="pending",hr.then(function(Cr){if(pr.status==="pending"){var Wr=pr;Wr.status="fulfilled",Wr.value=Cr}},function(Cr){if(pr.status==="pending"){var Wr=pr;Wr.status="rejected",Wr.reason=Cr}})}switch(pr.status){case"fulfilled":return pr.value;case"rejected":throw hr=pr.reason,pv(hr),hr}throw Ap=pr,Cm}}function qf(hr){try{var pr=hr._init;return pr(hr._payload)}catch(br){throw br!==null&&typeof br=="object"&&typeof br.then=="function"?(Ap=br,Cm):br}}var Ap=null;function ab(){if(Ap===null)throw Error(nr(459));var hr=Ap;return Ap=null,hr}function pv(hr){if(hr===Cm||hr===sg)throw Error(nr(483))}var Zp=null,Td=0;function Fg(hr){var pr=Td;return Td+=1,Zp===null&&(Zp=[]),hy(Zp,hr,pr)}function Kf(hr,pr){pr=pr.props.ref,hr.ref=pr!==void 0?pr:null}function Pd(hr,pr){throw pr.$$typeof===dr?Error(nr(525)):(hr=Object.prototype.toString.call(pr),Error(nr(31,hr==="[object Object]"?"object with keys {"+Object.keys(pr).join(", ")+"}":hr)))}function Qp(hr){function pr(el,qo){if(hr){var al=el.deletions;al===null?(el.deletions=[qo],el.flags|=16):al.push(qo)}}function br(el,qo){if(!hr)return null;for(;qo!==null;)pr(el,qo),qo=qo.sibling;return null}function Cr(el){for(var qo=new Map;el!==null;)el.key!==null?qo.set(el.key,el):qo.set(el.index,el),el=el.sibling;return qo}function Wr(el,qo){return el=Vu(el,qo),el.index=0,el.sibling=null,el}function Xr(el,qo,al){return el.index=al,hr?(al=el.alternate,al!==null?(al=al.index,al<qo?(el.flags|=67108866,qo):al):(el.flags|=67108866,qo)):(el.flags|=1048576,qo)}function go(el){return hr&&el.alternate===null&&(el.flags|=67108866),el}function ko(el,qo,al,wl){return qo===null||qo.tag!==6?(qo=Uf(al,el.mode,wl),qo.return=el,qo):(qo=Wr(qo,al),qo.return=el,qo)}function Ho(el,qo,al,wl){var hc=al.type;return hc===yr?bl(el,qo,al.props.children,wl,al.key):qo!==null&&(qo.elementType===hc||typeof hc=="object"&&hc!==null&&hc.$$typeof===Fr&&qf(hc)===qo.type)?(qo=Wr(qo,al.props),Kf(qo,al),qo.return=el,qo):(qo=rg(al.type,al.key,al.props,null,el.mode,wl),Kf(qo,al),qo.return=el,qo)}function ol(el,qo,al,wl){return qo===null||qo.tag!==4||qo.stateNode.containerInfo!==al.containerInfo||qo.stateNode.implementation!==al.implementation?(qo=Mu(al,el.mode,wl),qo.return=el,qo):(qo=Wr(qo,al.children||[]),qo.return=el,qo)}function bl(el,qo,al,wl,hc){return qo===null||qo.tag!==7?(qo=wp(al,el.mode,wl,hc),qo.return=el,qo):(qo=Wr(qo,al),qo.return=el,qo)}function El(el,qo,al){if(typeof qo=="string"&&qo!==""||typeof qo=="number"||typeof qo=="bigint")return qo=Uf(""+qo,el.mode,al),qo.return=el,qo;if(typeof qo=="object"&&qo!==null){switch(qo.$$typeof){case fr:return al=rg(qo.type,qo.key,qo.props,null,el.mode,al),Kf(al,qo),al.return=el,al;case xr:return qo=Mu(qo,el.mode,al),qo.return=el,qo;case Fr:return qo=qf(qo),El(el,qo,al)}if(uo(qo)||Yr(qo))return qo=wp(qo,el.mode,al,null),qo.return=el,qo;if(typeof qo.then=="function")return El(el,Fg(qo),al);if(qo.$$typeof===Dr)return El(el,uf(el,qo),al);Pd(el,qo)}return null}function cl(el,qo,al,wl){var hc=qo!==null?qo.key:null;if(typeof al=="string"&&al!==""||typeof al=="number"||typeof al=="bigint")return hc!==null?null:ko(el,qo,""+al,wl);if(typeof al=="object"&&al!==null){switch(al.$$typeof){case fr:return al.key===hc?Ho(el,qo,al,wl):null;case xr:return al.key===hc?ol(el,qo,al,wl):null;case Fr:return al=qf(al),cl(el,qo,al,wl)}if(uo(al)||Yr(al))return hc!==null?null:bl(el,qo,al,wl,null);if(typeof al.then=="function")return cl(el,qo,Fg(al),wl);if(al.$$typeof===Dr)return cl(el,qo,uf(el,al),wl);Pd(el,al)}return null}function dl(el,qo,al,wl,hc){if(typeof wl=="string"&&wl!==""||typeof wl=="number"||typeof wl=="bigint")return el=el.get(al)||null,ko(qo,el,""+wl,hc);if(typeof wl=="object"&&wl!==null){switch(wl.$$typeof){case fr:return el=el.get(wl.key===null?al:wl.key)||null,Ho(qo,el,wl,hc);case xr:return el=el.get(wl.key===null?al:wl.key)||null,ol(qo,el,wl,hc);case Fr:return wl=qf(wl),dl(el,qo,al,wl,hc)}if(uo(wl)||Yr(wl))return el=el.get(al)||null,bl(qo,el,wl,hc,null);if(typeof wl.then=="function")return dl(el,qo,al,Fg(wl),hc);if(wl.$$typeof===Dr)return dl(el,qo,al,uf(qo,wl),hc);Pd(qo,wl)}return null}function nc(el,qo,al,wl){for(var hc=null,Lu=null,sc=qo,Qc=qo=0,xu=null;sc!==null&&Qc<al.length;Qc++){sc.index>Qc?(xu=sc,sc=null):xu=sc.sibling;var $u=cl(el,sc,al[Qc],wl);if($u===null){sc===null&&(sc=xu);break}hr&&sc&&$u.alternate===null&&pr(el,sc),qo=Xr($u,qo,Qc),Lu===null?hc=$u:Lu.sibling=$u,Lu=$u,sc=xu}if(Qc===al.length)return br(el,sc),Uc&&tc(el,Qc),hc;if(sc===null){for(;Qc<al.length;Qc++)sc=El(el,al[Qc],wl),sc!==null&&(qo=Xr(sc,qo,Qc),Lu===null?hc=sc:Lu.sibling=sc,Lu=sc);return Uc&&tc(el,Qc),hc}for(sc=Cr(sc);Qc<al.length;Qc++)xu=dl(sc,el,Qc,al[Qc],wl),xu!==null&&(hr&&xu.alternate!==null&&sc.delete(xu.key===null?Qc:xu.key),qo=Xr(xu,qo,Qc),Lu===null?hc=xu:Lu.sibling=xu,Lu=xu);return hr&&sc.forEach(function(cx){return pr(el,cx)}),Uc&&tc(el,Qc),hc}function _c(el,qo,al,wl){if(al==null)throw Error(nr(151));for(var hc=null,Lu=null,sc=qo,Qc=qo=0,xu=null,$u=al.next();sc!==null&&!$u.done;Qc++,$u=al.next()){sc.index>Qc?(xu=sc,sc=null):xu=sc.sibling;var cx=cl(el,sc,$u.value,wl);if(cx===null){sc===null&&(sc=xu);break}hr&&sc&&cx.alternate===null&&pr(el,sc),qo=Xr(cx,qo,Qc),Lu===null?hc=cx:Lu.sibling=cx,Lu=cx,sc=xu}if($u.done)return br(el,sc),Uc&&tc(el,Qc),hc;if(sc===null){for(;!$u.done;Qc++,$u=al.next())$u=El(el,$u.value,wl),$u!==null&&(qo=Xr($u,qo,Qc),Lu===null?hc=$u:Lu.sibling=$u,Lu=$u);return Uc&&tc(el,Qc),hc}for(sc=Cr(sc);!$u.done;Qc++,$u=al.next())$u=dl(sc,el,Qc,$u.value,wl),$u!==null&&(hr&&$u.alternate!==null&&sc.delete($u.key===null?Qc:$u.key),qo=Xr($u,qo,Qc),Lu===null?hc=$u:Lu.sibling=$u,Lu=$u);return hr&&sc.forEach(function(s1){return pr(el,s1)}),Uc&&tc(el,Qc),hc}function sh(el,qo,al,wl){if(typeof al=="object"&&al!==null&&al.type===yr&&al.key===null&&(al=al.props.children),typeof al=="object"&&al!==null){switch(al.$$typeof){case fr:e:{for(var hc=al.key;qo!==null;){if(qo.key===hc){if(hc=al.type,hc===yr){if(qo.tag===7){br(el,qo.sibling),wl=Wr(qo,al.props.children),wl.return=el,el=wl;break e}}else if(qo.elementType===hc||typeof hc=="object"&&hc!==null&&hc.$$typeof===Fr&&qf(hc)===qo.type){br(el,qo.sibling),wl=Wr(qo,al.props),Kf(wl,al),wl.return=el,el=wl;break e}br(el,qo);break}else pr(el,qo);qo=qo.sibling}al.type===yr?(wl=wp(al.props.children,el.mode,wl,al.key),wl.return=el,el=wl):(wl=rg(al.type,al.key,al.props,null,el.mode,wl),Kf(wl,al),wl.return=el,el=wl)}return go(el);case xr:e:{for(hc=al.key;qo!==null;){if(qo.key===hc)if(qo.tag===4&&qo.stateNode.containerInfo===al.containerInfo&&qo.stateNode.implementation===al.implementation){br(el,qo.sibling),wl=Wr(qo,al.children||[]),wl.return=el,el=wl;break e}else{br(el,qo);break}else pr(el,qo);qo=qo.sibling}wl=Mu(al,el.mode,wl),wl.return=el,el=wl}return go(el);case Fr:return al=qf(al),sh(el,qo,al,wl)}if(uo(al))return nc(el,qo,al,wl);if(Yr(al)){if(hc=Yr(al),typeof hc!="function")throw Error(nr(150));return al=hc.call(al),_c(el,qo,al,wl)}if(typeof al.then=="function")return sh(el,qo,Fg(al),wl);if(al.$$typeof===Dr)return sh(el,qo,uf(el,al),wl);Pd(el,al)}return typeof al=="string"&&al!==""||typeof al=="number"||typeof al=="bigint"?(al=""+al,qo!==null&&qo.tag===6?(br(el,qo.sibling),wl=Wr(qo,al),wl.return=el,el=wl):(br(el,qo),wl=Uf(al,el.mode,wl),wl.return=el,el=wl),go(el)):br(el,qo)}return function(el,qo,al,wl){try{Td=0;var hc=sh(el,qo,al,wl);return Zp=null,hc}catch(sc){if(sc===Cm||sc===sg)throw sc;var Lu=Ph(29,sc,null,el.mode);return Lu.lanes=wl,Lu.return=el,Lu}finally{}}}var Zf=Qp(!0),dy=Qp(!1),Ih=!1;function Tp(hr){hr.updateQueue={baseState:hr.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yx(hr,pr){hr=hr.updateQueue,pr.updateQueue===hr&&(pr.updateQueue={baseState:hr.baseState,firstBaseUpdate:hr.firstBaseUpdate,lastBaseUpdate:hr.lastBaseUpdate,shared:hr.shared,callbacks:null})}function km(hr){return{lane:hr,tag:0,payload:null,callback:null,next:null}}function Dd(hr,pr,br){var Cr=hr.updateQueue;if(Cr===null)return null;if(Cr=Cr.shared,(pu&2)!==0){var Wr=Cr.pending;return Wr===null?pr.next=pr:(pr.next=Wr.next,Wr.next=pr),Cr.pending=pr,pr=wm(hr),Vf(hr,null,br),pr}return cf(hr,Cr,pr,br),wm(hr)}function Tf(hr,pr,br){if(pr=pr.updateQueue,pr!==null&&(pr=pr.shared,(br&4194048)!==0)){var Cr=pr.lanes;Cr&=hr.pendingLanes,br|=Cr,pr.lanes=br,yl(hr,br)}}function fy(hr,pr){var br=hr.updateQueue,Cr=hr.alternate;if(Cr!==null&&(Cr=Cr.updateQueue,br===Cr)){var Wr=null,Xr=null;if(br=br.firstBaseUpdate,br!==null){do{var go={lane:br.lane,tag:br.tag,payload:br.payload,callback:null,next:null};Xr===null?Wr=Xr=go:Xr=Xr.next=go,br=br.next}while(br!==null);Xr===null?Wr=Xr=pr:Xr=Xr.next=pr}else Wr=Xr=pr;br={baseState:Cr.baseState,firstBaseUpdate:Wr,lastBaseUpdate:Xr,shared:Cr.shared,callbacks:Cr.callbacks},hr.updateQueue=br;return}hr=br.lastBaseUpdate,hr===null?br.firstBaseUpdate=pr:hr.next=pr,br.lastBaseUpdate=pr}var Rh=!1;function ag(){if(Rh){var hr=jm;if(hr!==null)throw hr}}function Bg(hr,pr,br,Cr){Rh=!1;var Wr=hr.updateQueue;Ih=!1;var Xr=Wr.firstBaseUpdate,go=Wr.lastBaseUpdate,ko=Wr.shared.pending;if(ko!==null){Wr.shared.pending=null;var Ho=ko,ol=Ho.next;Ho.next=null,go===null?Xr=ol:go.next=ol,go=Ho;var bl=hr.alternate;bl!==null&&(bl=bl.updateQueue,ko=bl.lastBaseUpdate,ko!==go&&(ko===null?bl.firstBaseUpdate=ol:ko.next=ol,bl.lastBaseUpdate=Ho))}if(Xr!==null){var El=Wr.baseState;go=0,bl=ol=Ho=null,ko=Xr;do{var cl=ko.lane&-536870913,dl=cl!==ko.lane;if(dl?(lu&cl)===cl:(Cr&cl)===cl){cl!==0&&cl===Ig&&(Rh=!0),bl!==null&&(bl=bl.next={lane:0,tag:ko.tag,payload:ko.payload,callback:null,next:null});e:{var nc=hr,_c=ko;cl=pr;var sh=br;switch(_c.tag){case 1:if(nc=_c.payload,typeof nc=="function"){El=nc.call(sh,El,cl);break e}El=nc;break e;case 3:nc.flags=nc.flags&-65537|128;case 0:if(nc=_c.payload,cl=typeof nc=="function"?nc.call(sh,El,cl):nc,cl==null)break e;El=ur({},El,cl);break e;case 2:Ih=!0}}cl=ko.callback,cl!==null&&(hr.flags|=64,dl&&(hr.flags|=8192),dl=Wr.callbacks,dl===null?Wr.callbacks=[cl]:dl.push(cl))}else dl={lane:cl,tag:ko.tag,payload:ko.payload,callback:ko.callback,next:null},bl===null?(ol=bl=dl,Ho=El):bl=bl.next=dl,go|=cl;if(ko=ko.next,ko===null){if(ko=Wr.shared.pending,ko===null)break;dl=ko,ko=dl.next,dl.next=null,Wr.lastBaseUpdate=dl,Wr.shared.pending=null}}while(!0);bl===null&&(Ho=El),Wr.baseState=Ho,Wr.firstBaseUpdate=ol,Wr.lastBaseUpdate=bl,Xr===null&&(Wr.shared.lanes=0),Bm|=go,hr.lanes=go,hr.memoizedState=El}}function Eh(hr,pr){if(typeof hr!="function")throw Error(nr(191,hr));hr.call(pr)}function py(hr,pr){var br=hr.callbacks;if(br!==null)for(hr.callbacks=null,hr=0;hr<br.length;hr++)Eh(br[hr],pr)}var Qf=ao(null),Pf=ao(0);function my(hr,pr){hr=cp,_o(Pf,hr),_o(Qf,pr),cp=hr|pr.baseLanes}function xh(){_o(Pf,cp),_o(Qf,Qf.current)}function Am(){cp=Pf.current,xo(Qf),xo(Pf)}var md=ao(null),Df=null;function Tm(hr){var pr=hr.alternate;_o(Sh,Sh.current&1),_o(md,hr),Df===null&&(pr===null||Qf.current!==null||pr.memoizedState!==null)&&(Df=hr)}function Wd(hr){_o(Sh,Sh.current),_o(md,hr),Df===null&&(Df=hr)}function ob(hr){hr.tag===22?(_o(Sh,Sh.current),_o(md,hr),Df===null&&(Df=hr)):hf()}function hf(){_o(Sh,Sh.current),_o(md,md.current)}function Ru(hr){xo(md),Df===hr&&(Df=null),xo(Sh)}var Sh=ao(0);function gy(hr){for(var pr=hr;pr!==null;){if(pr.tag===13){var br=pr.memoizedState;if(br!==null&&(br=br.dehydrated,br===null||mf(br)||gf(br)))return pr}else if(pr.tag===19&&(pr.memoizedProps.revealOrder==="forwards"||pr.memoizedProps.revealOrder==="backwards"||pr.memoizedProps.revealOrder==="unstable_legacy-backwards"||pr.memoizedProps.revealOrder==="together")){if((pr.flags&128)!==0)return pr}else if(pr.child!==null){pr.child.return=pr,pr=pr.child;continue}if(pr===hr)break;for(;pr.sibling===null;){if(pr.return===null||pr.return===hr)return null;pr=pr.return}pr.sibling.return=pr.return,pr=pr.sibling}return null}var Gd=0,Nc=null,Cu=null,eh=null,Pm=!1,zg=!1,og=!1,vx=0,lg=0,Jp=null,Qb=0;function yh(){throw Error(nr(321))}function xy(hr,pr){if(pr===null)return!1;for(var br=0;br<pr.length&&br<hr.length;br++)if(!zu(hr[br],pr[br]))return!1;return!0}function nh(hr,pr,br,Cr,Wr,Xr){return Gd=Xr,Nc=pr,pr.memoizedState=null,pr.updateQueue=null,pr.lanes=0,so.H=hr===null||hr.memoizedState===null?Sv:Vg,og=!1,Xr=br(Cr,Wr),og=!1,zg&&(Xr=bx(pr,br,Cr,Wr)),yy(hr),Xr}function yy(hr){so.H=Np;var pr=Cu!==null&&Cu.next!==null;if(Gd=0,eh=Cu=Nc=null,Pm=!1,lg=0,Jp=null,pr)throw Error(nr(300));hr===null||uh||(hr=hr.dependencies,hr!==null&&cy(hr)&&(uh=!0))}function bx(hr,pr,br,Cr){Nc=hr;var Wr=0;do{if(zg&&(Jp=null),lg=0,zg=!1,25<=Wr)throw Error(nr(301));if(Wr+=1,eh=Cu=null,hr.updateQueue!=null){var Xr=hr.updateQueue;Xr.lastEffect=null,Xr.events=null,Xr.stores=null,Xr.memoCache!=null&&(Xr.memoCache.index=0)}so.H=Md,Xr=pr(br,Cr)}while(zg);return Xr}function vy(){var hr=so.H,pr=hr.useState()[0];return pr=typeof pr.then=="function"?cg(pr):pr,hr=hr.useState()[0],(Cu!==null?Cu.memoizedState:null)!==hr&&(Nc.flags|=1024),pr}function by(){var hr=vx!==0;return vx=0,hr}function _y(hr,pr,br){pr.updateQueue=hr.updateQueue,pr.flags&=-2053,hr.lanes&=~br}function mv(hr){if(Pm){for(hr=hr.memoizedState;hr!==null;){var pr=hr.queue;pr!==null&&(pr.pending=null),hr=hr.next}Pm=!1}Gd=0,eh=Cu=Nc=null,zg=!1,lg=vx=0,Jp=null}function Ch(){var hr={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return eh===null?Nc.memoizedState=eh=hr:eh=eh.next=hr,eh}function kh(){if(Cu===null){var hr=Nc.alternate;hr=hr!==null?hr.memoizedState:null}else hr=Cu.next;var pr=eh===null?Nc.memoizedState:eh.next;if(pr!==null)eh=pr,Cu=hr;else{if(hr===null)throw Nc.alternate===null?Error(nr(467)):Error(nr(310));Cu=hr,hr={memoizedState:Cu.memoizedState,baseState:Cu.baseState,baseQueue:Cu.baseQueue,queue:Cu.queue,next:null},eh===null?Nc.memoizedState=eh=hr:eh=eh.next=hr}return eh}function Dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cg(hr){var pr=lg;return lg+=1,Jp===null&&(Jp=[]),hr=hy(Jp,hr,pr),pr=Nc,(eh===null?pr.memoizedState:eh.next)===null&&(pr=pr.alternate,so.H=pr===null||pr.memoizedState===null?Sv:Vg),hr}function ug(hr){if(hr!==null&&typeof hr=="object"){if(typeof hr.then=="function")return cg(hr);if(hr.$$typeof===Dr)return ed(hr)}throw Error(nr(438,String(hr)))}function wy(hr){var pr=null,br=Nc.updateQueue;if(br!==null&&(pr=br.memoCache),pr==null){var Cr=Nc.alternate;Cr!==null&&(Cr=Cr.updateQueue,Cr!==null&&(Cr=Cr.memoCache,Cr!=null&&(pr={data:Cr.data.map(function(Wr){return Wr.slice()}),index:0})))}if(pr==null&&(pr={data:[],index:0}),br===null&&(br=Dm(),Nc.updateQueue=br),br.memoCache=pr,br=pr.data[pr.index],br===void 0)for(br=pr.data[pr.index]=Array(hr),Cr=0;Cr<hr;Cr++)br[Cr]=Zr;return pr.index++,br}function Jf(hr,pr){return typeof pr=="function"?pr(hr):pr}function rc(hr){var pr=kh();return gv(pr,Cu,hr)}function gv(hr,pr,br){var Cr=hr.queue;if(Cr===null)throw Error(nr(311));Cr.lastRenderedReducer=br;var Wr=hr.baseQueue,Xr=Cr.pending;if(Xr!==null){if(Wr!==null){var go=Wr.next;Wr.next=Xr.next,Xr.next=go}pr.baseQueue=Wr=Xr,Cr.pending=null}if(Xr=hr.baseState,Wr===null)hr.memoizedState=Xr;else{pr=Wr.next;var ko=go=null,Ho=null,ol=pr,bl=!1;do{var El=ol.lane&-536870913;if(El!==ol.lane?(lu&El)===El:(Gd&El)===El){var cl=ol.revertLane;if(cl===0)Ho!==null&&(Ho=Ho.next={lane:0,revertLane:0,gesture:null,action:ol.action,hasEagerState:ol.hasEagerState,eagerState:ol.eagerState,next:null}),El===Ig&&(bl=!0);else if((Gd&cl)===cl){ol=ol.next,cl===Ig&&(bl=!0);continue}else El={lane:0,revertLane:ol.revertLane,gesture:null,action:ol.action,hasEagerState:ol.hasEagerState,eagerState:ol.eagerState,next:null},Ho===null?(ko=Ho=El,go=Xr):Ho=Ho.next=El,Nc.lanes|=cl,Bm|=cl;El=ol.action,og&&br(Xr,El),Xr=ol.hasEagerState?ol.eagerState:br(Xr,El)}else cl={lane:El,revertLane:ol.revertLane,gesture:ol.gesture,action:ol.action,hasEagerState:ol.hasEagerState,eagerState:ol.eagerState,next:null},Ho===null?(ko=Ho=cl,go=Xr):Ho=Ho.next=cl,Nc.lanes|=El,Bm|=El;ol=ol.next}while(ol!==null&&ol!==pr);if(Ho===null?go=Xr:Ho.next=ko,!zu(Xr,hr.memoizedState)&&(uh=!0,bl&&(br=jm,br!==null)))throw br;hr.memoizedState=Xr,hr.baseState=go,hr.baseQueue=Ho,Cr.lastRenderedState=Xr}return Wr===null&&(Cr.lanes=0),[hr.memoizedState,Cr.dispatch]}function xv(hr){var pr=kh(),br=pr.queue;if(br===null)throw Error(nr(311));br.lastRenderedReducer=hr;var Cr=br.dispatch,Wr=br.pending,Xr=pr.memoizedState;if(Wr!==null){br.pending=null;var go=Wr=Wr.next;do Xr=hr(Xr,go.action),go=go.next;while(go!==Wr);zu(Xr,pr.memoizedState)||(uh=!0),pr.memoizedState=Xr,pr.baseQueue===null&&(pr.baseState=Xr),br.lastRenderedState=Xr}return[Xr,Cr]}function hg(hr,pr,br){var Cr=Nc,Wr=kh(),Xr=Uc;if(Xr){if(br===void 0)throw Error(nr(407));br=br()}else br=pr();var go=!zu((Cu||Wr).memoizedState,br);if(go&&(Wr.memoizedState=br,uh=!0),Wr=Wr.queue,Mm(lb.bind(null,Cr,Wr,hr),[hr]),Wr.getSnapshot!==pr||go||eh!==null&&eh.memoizedState.tag&1){if(Cr.flags|=2048,Yd(9,{destroy:void 0},dg.bind(null,Cr,Wr,br,pr),null),Xu===null)throw Error(nr(349));Xr||(Gd&127)!==0||Hg(Cr,pr,br)}return br}function Hg(hr,pr,br){hr.flags|=16384,hr={getSnapshot:pr,value:br},pr=Nc.updateQueue,pr===null?(pr=Dm(),Nc.updateQueue=pr,pr.stores=[hr]):(br=pr.stores,br===null?pr.stores=[hr]:br.push(hr))}function dg(hr,pr,br,Cr){pr.value=br,pr.getSnapshot=Cr,au(pr)&&cb(hr)}function lb(hr,pr,br){return br(function(){au(pr)&&cb(hr)})}function au(hr){var pr=hr.getSnapshot;hr=hr.value;try{var br=pr();return!zu(hr,br)}catch{return!0}}function cb(hr){var pr=kd(hr,2);pr!==null&&Od(pr,hr,2)}function fg(hr){var pr=Ch();if(typeof hr=="function"){var br=hr;if(hr=br(),og){il(!0);try{br()}finally{il(!1)}}}return pr.memoizedState=pr.baseState=hr,pr.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:hr},pr}function _x(hr,pr,br,Cr){return hr.baseState=br,gv(hr,Cu,typeof Cr=="function"?Cr:Jf)}function yv(hr,pr,br,Cr,Wr){if(Ax(hr))throw Error(nr(485));if(hr=pr.action,hr!==null){var Xr={payload:Wr,action:hr,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(go){Xr.listeners.push(go)}};so.T!==null?br(!0):Xr.isTransition=!1,Cr(Xr),br=pr.pending,br===null?(Xr.next=pr.pending=Xr,Ah(pr,Xr)):(Xr.next=br.next,pr.pending=br.next=Xr)}}function Ah(hr,pr){var br=pr.action,Cr=pr.payload,Wr=hr.state;if(pr.isTransition){var Xr=so.T,go={};so.T=go;try{var ko=br(Wr,Cr),Ho=so.S;Ho!==null&&Ho(go,ko),Vd(hr,pr,ko)}catch(ol){pg(hr,pr,ol)}finally{Xr!==null&&go.types!==null&&(Xr.types=go.types),so.T=Xr}}else try{Xr=br(Wr,Cr),Vd(hr,pr,Xr)}catch(ol){pg(hr,pr,ol)}}function Vd(hr,pr,br){br!==null&&typeof br=="object"&&typeof br.then=="function"?br.then(function(Cr){df(hr,pr,Cr)},function(Cr){return pg(hr,pr,Cr)}):df(hr,pr,br)}function df(hr,pr,br){pr.status="fulfilled",pr.value=br,ih(pr),hr.state=br,pr=hr.pending,pr!==null&&(br=pr.next,br===pr?hr.pending=null:(br=br.next,pr.next=br,Ah(hr,br)))}function pg(hr,pr,br){var Cr=hr.pending;if(hr.pending=null,Cr!==null){Cr=Cr.next;do pr.status="rejected",pr.reason=br,ih(pr),pr=pr.next;while(pr!==Cr)}hr.action=null}function ih(hr){hr=hr.listeners;for(var pr=0;pr<hr.length;pr++)(0,hr[pr])()}function wx(hr,pr){return pr}function Ey(hr,pr){if(Uc){var br=Xu.formState;if(br!==null){e:{var Cr=Nc;if(Uc){if(iu){t:{for(var Wr=iu,Xr=Ad;Wr.nodeType!==8;){if(!Xr){Wr=null;break t}if(Wr=_d(Wr.nextSibling),Wr===null){Wr=null;break t}}Xr=Wr.data,Wr=Xr==="F!"||Xr==="F"?Wr:null}if(Wr){iu=_d(Wr.nextSibling),Cr=Wr.data==="F!";break e}}Sp(Cr)}Cr=!1}Cr&&(pr=br[0])}}return br=Ch(),br.memoizedState=br.baseState=pr,Cr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wx,lastRenderedState:pr},br.queue=Cr,br=nm.bind(null,Nc,Cr),Cr.dispatch=br,Cr=fg(!1),Xr=mg.bind(null,Nc,!1,Cr.queue),Cr=Ch(),Wr={state:pr,dispatch:null,action:hr,pending:null},Cr.queue=Wr,br=yv.bind(null,Nc,Wr,Xr,br),Wr.dispatch=br,Cr.memoizedState=hr,[pr,br,!1]}function Ud(hr){var pr=kh();return gd(pr,Cu,hr)}function gd(hr,pr,br){if(pr=gv(hr,pr,wx)[0],hr=rc(Jf)[0],typeof pr=="object"&&pr!==null&&typeof pr.then=="function")try{var Cr=cg(pr)}catch(go){throw go===Cm?sg:go}else Cr=pr;pr=kh();var Wr=pr.queue,Xr=Wr.dispatch;return br!==pr.memoizedState&&(Nc.flags|=2048,Yd(9,{destroy:void 0},vv.bind(null,Wr,br),null)),[Cr,Xr,hr]}function vv(hr,pr){hr.action=pr}function Sy(hr){var pr=kh(),br=Cu;if(br!==null)return gd(pr,br,hr);kh(),pr=pr.memoizedState,br=kh();var Cr=br.queue.dispatch;return br.memoizedState=hr,[pr,Cr,!1]}function Yd(hr,pr,br,Cr){return hr={tag:hr,create:br,deps:Cr,inst:pr,next:null},pr=Nc.updateQueue,pr===null&&(pr=Dm(),Nc.updateQueue=pr),br=pr.lastEffect,br===null?pr.lastEffect=hr.next=hr:(Cr=br.next,br.next=hr,hr.next=Cr,pr.lastEffect=hr),hr}function ub(){return kh().memoizedState}function Mf(hr,pr,br,Cr){var Wr=Ch();Nc.flags|=hr,Wr.memoizedState=Yd(1|pr,{destroy:void 0},br,Cr===void 0?null:Cr)}function Ex(hr,pr,br,Cr){var Wr=kh();Cr=Cr===void 0?null:Cr;var Xr=Wr.memoizedState.inst;Cu!==null&&Cr!==null&&xy(Cr,Cu.memoizedState.deps)?Wr.memoizedState=Yd(pr,Xr,br,Cr):(Nc.flags|=hr,Wr.memoizedState=Yd(1|pr,Xr,br,Cr))}function bv(hr,pr){Mf(8390656,8,hr,pr)}function Mm(hr,pr){Ex(2048,8,hr,pr)}function Jb(hr){Nc.flags|=4;var pr=Nc.updateQueue;if(pr===null)pr=Dm(),Nc.updateQueue=pr,pr.events=[hr];else{var br=pr.events;br===null?pr.events=[hr]:br.push(hr)}}function hb(hr){var pr=kh().memoizedState;return Jb({ref:pr,nextImpl:hr}),function(){if((pu&2)!==0)throw Error(nr(440));return pr.impl.apply(void 0,arguments)}}function jy(hr,pr){return Ex(4,2,hr,pr)}function _v(hr,pr){return Ex(4,4,hr,pr)}function wv(hr,pr){if(typeof pr=="function"){hr=hr();var br=pr(hr);return function(){typeof br=="function"?br():pr(null)}}if(pr!=null)return hr=hr(),pr.current=hr,function(){pr.current=null}}function Pp(hr,pr,br){br=br!=null?br.concat([hr]):null,Ex(4,4,wv.bind(null,pr,hr),br)}function Sx(){}function em(hr,pr){var br=kh();pr=pr===void 0?null:pr;var Cr=br.memoizedState;return pr!==null&&xy(pr,Cr[1])?Cr[0]:(br.memoizedState=[hr,pr],hr)}function ch(hr,pr){var br=kh();pr=pr===void 0?null:pr;var Cr=br.memoizedState;if(pr!==null&&xy(pr,Cr[1]))return Cr[0];if(Cr=hr(),og){il(!0);try{hr()}finally{il(!1)}}return br.memoizedState=[Cr,pr],Cr}function Nf(hr,pr,br){return br===void 0||(Gd&1073741824)!==0&&(lu&261930)===0?hr.memoizedState=pr:(hr.memoizedState=br,hr=kb(),Nc.lanes|=hr,Bm|=hr,br)}function db(hr,pr,br,Cr){return zu(br,pr)?br:Qf.current!==null?(hr=Nf(hr,br,Cr),zu(hr,pr)||(uh=!0),hr):(Gd&42)===0||(Gd&1073741824)!==0&&(lu&261930)===0?(uh=!0,hr.memoizedState=br):(hr=kb(),Nc.lanes|=hr,Bm|=hr,pr)}function fb(hr,pr,br,Cr,Wr){var Xr=no.p;no.p=Xr!==0&&8>Xr?Xr:8;var go=so.T,ko={};so.T=ko,mg(hr,!1,pr,br);try{var Ho=Wr(),ol=so.S;if(ol!==null&&ol(ko,Ho),Ho!==null&&typeof Ho=="object"&&typeof Ho.then=="function"){var bl=Zb(Ho,Cr);Mp(hr,pr,bl,Qd(hr))}else Mp(hr,pr,Cr,Qd(hr))}catch(El){Mp(hr,pr,{then:function(){},status:"rejected",reason:El},Qd())}finally{no.p=Xr,go!==null&&ko.types!==null&&(go.types=ko.types),so.T=go}}function Ry(){}function Dp(hr,pr,br,Cr){if(hr.tag!==5)throw Error(nr(476));var Wr=Cy(hr).queue;fb(hr,Wr,pr,po,br===null?Ry:function(){return jx(hr),br(Cr)})}function Cy(hr){var pr=hr.memoizedState;if(pr!==null)return pr;pr={memoizedState:po,baseState:po,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:po},next:null};var br={};return pr.next={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:br},next:null},hr.memoizedState=pr,hr=hr.alternate,hr!==null&&(hr.memoizedState=pr),pr}function jx(hr){var pr=Cy(hr);pr.next===null&&(pr=hr.alternate.memoizedState),Mp(hr,pr.next.queue,{},Qd())}function Ev(){return ed(lv)}function Rx(){return kh().memoizedState}function tm(){return kh().memoizedState}function Cx(hr){for(var pr=hr.return;pr!==null;){switch(pr.tag){case 24:case 3:var br=Qd();hr=km(br);var Cr=Dd(pr,hr,br);Cr!==null&&(Od(Cr,pr,br),Tf(Cr,pr,br)),pr={cache:Xf()},hr.payload=pr;return}pr=pr.return}}function pb(hr,pr,br){var Cr=Qd();br={lane:Cr,revertLane:0,gesture:null,action:br,hasEagerState:!1,eagerState:null,next:null},Ax(hr)?Wg(pr,br):(br=ig(hr,pr,br,Cr),br!==null&&(Od(br,hr,Cr),Gg(br,pr,Cr)))}function nm(hr,pr,br){var Cr=Qd();Mp(hr,pr,br,Cr)}function Mp(hr,pr,br,Cr){var Wr={lane:Cr,revertLane:0,gesture:null,action:br,hasEagerState:!1,eagerState:null,next:null};if(Ax(hr))Wg(pr,Wr);else{var Xr=hr.alternate;if(hr.lanes===0&&(Xr===null||Xr.lanes===0)&&(Xr=pr.lastRenderedReducer,Xr!==null))try{var go=pr.lastRenderedState,ko=Xr(go,br);if(Wr.hasEagerState=!0,Wr.eagerState=ko,zu(ko,go))return cf(hr,pr,Wr,0),Xu===null&&Oh(),!1}catch{}finally{}if(br=ig(hr,pr,Wr,Cr),br!==null)return Od(br,hr,Cr),Gg(br,pr,Cr),!0}return!1}function mg(hr,pr,br,Cr){if(Cr={lane:2,revertLane:pf(),gesture:null,action:Cr,hasEagerState:!1,eagerState:null,next:null},Ax(hr)){if(pr)throw Error(nr(479))}else pr=ig(hr,br,Cr,2),pr!==null&&Od(pr,hr,2)}function Ax(hr){var pr=hr.alternate;return hr===Nc||pr!==null&&pr===Nc}function Wg(hr,pr){zg=Pm=!0;var br=hr.pending;br===null?pr.next=pr:(pr.next=br.next,br.next=pr),hr.pending=pr}function Gg(hr,pr,br){if((br&4194048)!==0){var Cr=pr.lanes;Cr&=hr.pendingLanes,br|=Cr,pr.lanes=br,yl(hr,br)}}var Np={readContext:ed,use:ug,useCallback:yh,useContext:yh,useEffect:yh,useImperativeHandle:yh,useLayoutEffect:yh,useInsertionEffect:yh,useMemo:yh,useReducer:yh,useRef:yh,useState:yh,useDebugValue:yh,useDeferredValue:yh,useTransition:yh,useSyncExternalStore:yh,useId:yh,useHostTransitionStatus:yh,useFormState:yh,useActionState:yh,useOptimistic:yh,useMemoCache:yh,useCacheRefresh:yh};Np.useEffectEvent=yh;var Sv={readContext:ed,use:ug,useCallback:function(hr,pr){return Ch().memoizedState=[hr,pr===void 0?null:pr],hr},useContext:ed,useEffect:bv,useImperativeHandle:function(hr,pr,br){br=br!=null?br.concat([hr]):null,Mf(4194308,4,wv.bind(null,pr,hr),br)},useLayoutEffect:function(hr,pr){return Mf(4194308,4,hr,pr)},useInsertionEffect:function(hr,pr){Mf(4,2,hr,pr)},useMemo:function(hr,pr){var br=Ch();pr=pr===void 0?null:pr;var Cr=hr();if(og){il(!0);try{hr()}finally{il(!1)}}return br.memoizedState=[Cr,pr],Cr},useReducer:function(hr,pr,br){var Cr=Ch();if(br!==void 0){var Wr=br(pr);if(og){il(!0);try{br(pr)}finally{il(!1)}}}else Wr=pr;return Cr.memoizedState=Cr.baseState=Wr,hr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:Wr},Cr.queue=hr,hr=hr.dispatch=pb.bind(null,Nc,hr),[Cr.memoizedState,hr]},useRef:function(hr){var pr=Ch();return hr={current:hr},pr.memoizedState=hr},useState:function(hr){hr=fg(hr);var pr=hr.queue,br=nm.bind(null,Nc,pr);return pr.dispatch=br,[hr.memoizedState,br]},useDebugValue:Sx,useDeferredValue:function(hr,pr){var br=Ch();return Nf(br,hr,pr)},useTransition:function(){var hr=fg(!1);return hr=fb.bind(null,Nc,hr.queue,!0,!1),Ch().memoizedState=hr,[!1,hr]},useSyncExternalStore:function(hr,pr,br){var Cr=Nc,Wr=Ch();if(Uc){if(br===void 0)throw Error(nr(407));br=br()}else{if(br=pr(),Xu===null)throw Error(nr(349));(lu&127)!==0||Hg(Cr,pr,br)}Wr.memoizedState=br;var Xr={value:br,getSnapshot:pr};return Wr.queue=Xr,bv(lb.bind(null,Cr,Xr,hr),[hr]),Cr.flags|=2048,Yd(9,{destroy:void 0},dg.bind(null,Cr,Xr,br,pr),null),br},useId:function(){var hr=Ch(),pr=Xu.identifierPrefix;if(Uc){var br=Nl,Cr=_l;br=(Cr&~(1<<32-hl(Cr)-1)).toString(32)+br,pr="_"+pr+"R_"+br,br=vx++,0<br&&(pr+="H"+br.toString(32)),pr+="_"}else br=Qb++,pr="_"+pr+"r_"+br.toString(32)+"_";return hr.memoizedState=pr},useHostTransitionStatus:Ev,useFormState:Ey,useActionState:Ey,useOptimistic:function(hr){var pr=Ch();pr.memoizedState=pr.baseState=hr;var br={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return pr.queue=br,pr=mg.bind(null,Nc,!0,br),br.dispatch=pr,[hr,pr]},useMemoCache:wy,useCacheRefresh:function(){return Ch().memoizedState=Cx.bind(null,Nc)},useEffectEvent:function(hr){var pr=Ch(),br={impl:hr};return pr.memoizedState=br,function(){if((pu&2)!==0)throw Error(nr(440));return br.impl.apply(void 0,arguments)}}},Vg={readContext:ed,use:ug,useCallback:em,useContext:ed,useEffect:Mm,useImperativeHandle:Pp,useInsertionEffect:jy,useLayoutEffect:_v,useMemo:ch,useReducer:rc,useRef:ub,useState:function(){return rc(Jf)},useDebugValue:Sx,useDeferredValue:function(hr,pr){var br=kh();return db(br,Cu.memoizedState,hr,pr)},useTransition:function(){var hr=rc(Jf)[0],pr=kh().memoizedState;return[typeof hr=="boolean"?hr:cg(hr),pr]},useSyncExternalStore:hg,useId:Rx,useHostTransitionStatus:Ev,useFormState:Ud,useActionState:Ud,useOptimistic:function(hr,pr){var br=kh();return _x(br,Cu,hr,pr)},useMemoCache:wy,useCacheRefresh:tm};Vg.useEffectEvent=hb;var Md={readContext:ed,use:ug,useCallback:em,useContext:ed,useEffect:Mm,useImperativeHandle:Pp,useInsertionEffect:jy,useLayoutEffect:_v,useMemo:ch,useReducer:xv,useRef:ub,useState:function(){return xv(Jf)},useDebugValue:Sx,useDeferredValue:function(hr,pr){var br=kh();return Cu===null?Nf(br,hr,pr):db(br,Cu.memoizedState,hr,pr)},useTransition:function(){var hr=xv(Jf)[0],pr=kh().memoizedState;return[typeof hr=="boolean"?hr:cg(hr),pr]},useSyncExternalStore:hg,useId:Rx,useHostTransitionStatus:Ev,useFormState:Sy,useActionState:Sy,useOptimistic:function(hr,pr){var br=kh();return Cu!==null?_x(br,Cu,hr,pr):(br.baseState=hr,[hr,br.queue.dispatch])},useMemoCache:wy,useCacheRefresh:tm};Md.useEffectEvent=hb;function ep(hr,pr,br,Cr){pr=hr.memoizedState,br=br(Cr,pr),br=br==null?pr:ur({},pr,br),hr.memoizedState=br,hr.lanes===0&&(hr.updateQueue.baseState=br)}var Ug={enqueueSetState:function(hr,pr,br){hr=hr._reactInternals;var Cr=Qd(),Wr=km(Cr);Wr.payload=pr,br!=null&&(Wr.callback=br),pr=Dd(hr,Wr,Cr),pr!==null&&(Od(pr,hr,Cr),Tf(pr,hr,Cr))},enqueueReplaceState:function(hr,pr,br){hr=hr._reactInternals;var Cr=Qd(),Wr=km(Cr);Wr.tag=1,Wr.payload=pr,br!=null&&(Wr.callback=br),pr=Dd(hr,Wr,Cr),pr!==null&&(Od(pr,hr,Cr),Tf(pr,hr,Cr))},enqueueForceUpdate:function(hr,pr){hr=hr._reactInternals;var br=Qd(),Cr=km(br);Cr.tag=2,pr!=null&&(Cr.callback=pr),pr=Dd(hr,Cr,br),pr!==null&&(Od(pr,hr,br),Tf(pr,hr,br))}};function mb(hr,pr,br,Cr,Wr,Xr,go){return hr=hr.stateNode,typeof hr.shouldComponentUpdate=="function"?hr.shouldComponentUpdate(Cr,Xr,go):pr.prototype&&pr.prototype.isPureReactComponent?!Vp(br,Cr)||!Vp(Wr,Xr):!0}function jv(hr,pr,br,Cr){hr=pr.state,typeof pr.componentWillReceiveProps=="function"&&pr.componentWillReceiveProps(br,Cr),typeof pr.UNSAFE_componentWillReceiveProps=="function"&&pr.UNSAFE_componentWillReceiveProps(br,Cr),pr.state!==hr&&Ug.enqueueReplaceState(pr,pr.state,null)}function nd(hr,pr){var br=pr;if("ref"in pr){br={};for(var Cr in pr)Cr!=="ref"&&(br[Cr]=pr[Cr])}if(hr=hr.defaultProps){br===pr&&(br=ur({},br));for(var Wr in hr)br[Wr]===void 0&&(br[Wr]=hr[Wr])}return br}function Op(hr){_p(hr)}function Tx(hr){console.error(hr)}function ru(hr){_p(hr)}function Px(hr,pr){try{var br=hr.onUncaughtError;br(pr.value,{componentStack:pr.stack})}catch(Cr){setTimeout(function(){throw Cr})}}function Ay(hr,pr,br){try{var Cr=hr.onCaughtError;Cr(br.value,{componentStack:br.stack,errorBoundary:pr.tag===1?pr.stateNode:null})}catch(Wr){setTimeout(function(){throw Wr})}}function Rv(hr,pr,br){return br=km(br),br.tag=3,br.payload={element:null},br.callback=function(){Px(hr,pr)},br}function Nd(hr){return hr=km(hr),hr.tag=3,hr}function Ty(hr,pr,br,Cr){var Wr=br.type.getDerivedStateFromError;if(typeof Wr=="function"){var Xr=Cr.value;hr.payload=function(){return Wr(Xr)},hr.callback=function(){Ay(pr,br,Cr)}}var go=br.stateNode;go!==null&&typeof go.componentDidCatch=="function"&&(hr.callback=function(){Ay(pr,br,Cr),typeof Wr!="function"&&(up===null?up=new Set([this]):up.add(this));var ko=Cr.stack;this.componentDidCatch(Cr.value,{componentStack:ko!==null?ko:""})})}function Yg(hr,pr,br,Cr,Wr){if(br.flags|=32768,Cr!==null&&typeof Cr=="object"&&typeof Cr.then=="function"){if(pr=br.alternate,pr!==null&&Lg(pr,br,Wr,!0),br=md.current,br!==null){switch(br.tag){case 31:case 13:return Df===null?Xx():br.alternate===null&&vh===0&&(vh=3),br.flags&=-257,br.flags|=65536,br.lanes=Wr,Cr===xx?br.flags|=16384:(pr=br.updateQueue,pr===null?br.updateQueue=new Set([Cr]):pr.add(Cr),ev(hr,Cr,Wr)),!1;case 22:return br.flags|=65536,Cr===xx?br.flags|=16384:(pr=br.updateQueue,pr===null?(pr={transitions:null,markerInstances:null,retryQueue:new Set([Cr])},br.updateQueue=pr):(br=pr.retryQueue,br===null?pr.retryQueue=new Set([Cr]):br.add(Cr)),ev(hr,Cr,Wr)),!1}throw Error(nr(435,br.tag))}return ev(hr,Cr,Wr),Xx(),!1}if(Uc)return pr=md.current,pr!==null?((pr.flags&65536)===0&&(pr.flags|=256),pr.flags|=65536,pr.lanes=Wr,Cr!==Og&&(hr=Error(nr(422),{cause:Cr}),Rp(Rr(hr,br)))):(Cr!==Og&&(pr=Error(nr(423),{cause:Cr}),Rp(Rr(pr,br))),hr=hr.current.alternate,hr.flags|=65536,Wr&=-Wr,hr.lanes|=Wr,Cr=Rr(Cr,br),Wr=Rv(hr.stateNode,Cr,Wr),fy(hr,Wr),vh!==4&&(vh=2)),!1;var Xr=Error(nr(520),{cause:Cr});if(Xr=Rr(Xr,br),Gx===null?Gx=[Xr]:Gx.push(Xr),vh!==4&&(vh=2),pr===null)return!0;Cr=Rr(Cr,br),br=pr;do{switch(br.tag){case 3:return br.flags|=65536,hr=Wr&-Wr,br.lanes|=hr,hr=Rv(br.stateNode,Cr,hr),fy(br,hr),!1;case 1:if(pr=br.type,Xr=br.stateNode,(br.flags&128)===0&&(typeof pr.getDerivedStateFromError=="function"||Xr!==null&&typeof Xr.componentDidCatch=="function"&&(up===null||!up.has(Xr))))return br.flags|=65536,Wr&=-Wr,br.lanes|=Wr,Wr=Nd(Wr),Ty(Wr,hr,br,Cr),fy(br,Wr),!1}br=br.return}while(br!==null);return!1}var Xd=Error(nr(461)),uh=!1;function ou(hr,pr,br,Cr){pr.child=hr===null?dy(pr,null,br,Cr):Zf(pr,hr.child,br,Cr)}function fc(hr,pr,br,Cr,Wr){br=br.render;var Xr=pr.ref;if("ref"in Cr){var go={};for(var ko in Cr)ko!=="ref"&&(go[ko]=Cr[ko])}else go=Cr;return Cp(pr),Cr=nh(hr,pr,br,go,Xr,Wr),ko=by(),hr!==null&&!uh?(_y(hr,pr,Wr),Lf(hr,pr,Wr)):(Uc&&ko&&lh(pr),pr.flags|=1,ou(hr,pr,Cr,Wr),pr.child)}function Xg(hr,pr,br,Cr,Wr){if(hr===null){var Xr=br.type;return typeof Xr=="function"&&!Hd(Xr)&&Xr.defaultProps===void 0&&br.compare===null?(pr.tag=15,pr.type=Xr,Dx(hr,pr,Xr,Cr,Wr)):(hr=rg(br.type,null,Cr,pr,pr.mode,Wr),hr.ref=pr.ref,hr.return=pr,pr.child=hr)}if(Xr=hr.child,!Om(hr,Wr)){var go=Xr.memoizedProps;if(br=br.compare,br=br!==null?br:Vp,br(go,Cr)&&hr.ref===pr.ref)return Lf(hr,pr,Wr)}return pr.flags|=1,hr=Vu(Xr,Cr),hr.ref=pr.ref,hr.return=pr,pr.child=hr}function Dx(hr,pr,br,Cr,Wr){if(hr!==null){var Xr=hr.memoizedProps;if(Vp(Xr,Cr)&&hr.ref===pr.ref)if(uh=!1,pr.pendingProps=Cr=Xr,Om(hr,Wr))(hr.flags&131072)!==0&&(uh=!0);else return pr.lanes=hr.lanes,Lf(hr,pr,Wr)}return gg(hr,pr,br,Cr,Wr)}function tp(hr,pr,br,Cr){var Wr=Cr.children,Xr=hr!==null?hr.memoizedState:null;if(hr===null&&pr.stateNode===null&&(pr.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Cr.mode==="hidden"){if((pr.flags&128)!==0){if(Xr=Xr!==null?Xr.baseLanes|br:br,hr!==null){for(Cr=pr.child=hr.child,Wr=0;Cr!==null;)Wr=Wr|Cr.lanes|Cr.childLanes,Cr=Cr.sibling;Cr=Wr&~Xr}else Cr=0,pr.child=null;return Py(hr,pr,Xr,br,Cr)}if((br&536870912)!==0)pr.memoizedState={baseLanes:0,cachePool:null},hr!==null&&Kp(pr,Xr!==null?Xr.cachePool:null),Xr!==null?my(pr,Xr):xh(),ob(pr);else return Cr=pr.lanes=536870912,Py(hr,pr,Xr!==null?Xr.baseLanes|br:br,br,Cr)}else Xr!==null?(Kp(pr,Xr.cachePool),my(pr,Xr),hf(),pr.memoizedState=null):(hr!==null&&Kp(pr,null),xh(),hf());return ou(hr,pr,Wr,br),pr.child}function Mx(hr,pr){return hr!==null&&hr.tag===22||pr.stateNode!==null||(pr.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),pr.sibling}function Py(hr,pr,br,Cr,Wr){var Xr=fv();return Xr=Xr===null?null:{parent:Mh._currentValue,pool:Xr},pr.memoizedState={baseLanes:br,cachePool:Xr},hr!==null&&Kp(pr,null),xh(),ob(pr),hr!==null&&Lg(hr,pr,Cr,!0),pr.childLanes=Wr,null}function Of(hr,pr){return pr=Oy({mode:pr.mode,children:pr.children},hr.mode),pr.ref=hr.ref,hr.child=pr,pr.return=hr,pr}function id(hr,pr,br){return Zf(pr,hr.child,null,br),hr=Of(pr,pr.pendingProps),hr.flags|=2,Ru(pr),pr.memoizedState=null,hr}function e0(hr,pr,br){var Cr=pr.pendingProps,Wr=(pr.flags&128)!==0;if(pr.flags&=-129,hr===null){if(Uc){if(Cr.mode==="hidden")return hr=Of(pr,Cr),pr.lanes=536870912,Mx(null,hr);if(Wd(pr),(hr=iu)?(hr=bd(hr,Ad),hr=hr!==null&&hr.data==="&"?hr:null,hr!==null&&(pr.memoizedState={dehydrated:hr,treeContext:Ko!==null?{id:_l,overflow:Nl}:null,retryLane:536870912,hydrationErrors:null},br=Yf(hr),br.return=pr,pr.child=br,fu=pr,iu=null)):hr=null,hr===null)throw Sp(pr);return pr.lanes=536870912,null}return Of(pr,Cr)}var Xr=hr.memoizedState;if(Xr!==null){var go=Xr.dehydrated;if(Wd(pr),Wr)if(pr.flags&256)pr.flags&=-257,pr=id(hr,pr,br);else if(pr.memoizedState!==null)pr.child=hr.child,pr.flags|=128,pr=null;else throw Error(nr(558));else if(uh||Lg(hr,pr,br,!1),Wr=(br&hr.childLanes)!==0,uh||Wr){if(Cr=Xu,Cr!==null&&(go=Ll(Cr,br),go!==0&&go!==Xr.retryLane))throw Xr.retryLane=go,kd(hr,go),Od(Cr,hr,go),Xd;Xx(),pr=id(hr,pr,br)}else hr=Xr.treeContext,iu=_d(go.nextSibling),fu=pr,Uc=!0,Ep=null,Ad=!1,hr!==null&&Lh(pr,hr),pr=Of(pr,Cr),pr.flags|=4096;return pr}return hr=Vu(hr.child,{mode:Cr.mode,children:Cr.children}),hr.ref=pr.ref,pr.child=hr,hr.return=pr,hr}function np(hr,pr){var br=pr.ref;if(br===null)hr!==null&&hr.ref!==null&&(pr.flags|=4194816);else{if(typeof br!="function"&&typeof br!="object")throw Error(nr(284));(hr===null||hr.ref!==br)&&(pr.flags|=4194816)}}function gg(hr,pr,br,Cr,Wr){return Cp(pr),br=nh(hr,pr,br,Cr,void 0,Wr),Cr=by(),hr!==null&&!uh?(_y(hr,pr,Wr),Lf(hr,pr,Wr)):(Uc&&Cr&&lh(pr),pr.flags|=1,ou(hr,pr,br,Wr),pr.child)}function Dy(hr,pr,br,Cr,Wr,Xr){return Cp(pr),pr.updateQueue=null,br=bx(pr,Cr,br,Wr),yy(hr),Cr=by(),hr!==null&&!uh?(_y(hr,pr,Xr),Lf(hr,pr,Xr)):(Uc&&Cr&&lh(pr),pr.flags|=1,ou(hr,pr,br,Xr),pr.child)}function Nx(hr,pr,br,Cr,Wr){if(Cp(pr),pr.stateNode===null){var Xr=Cf,go=br.contextType;typeof go=="object"&&go!==null&&(Xr=ed(go)),Xr=new br(Cr,Xr),pr.memoizedState=Xr.state!==null&&Xr.state!==void 0?Xr.state:null,Xr.updater=Ug,pr.stateNode=Xr,Xr._reactInternals=pr,Xr=pr.stateNode,Xr.props=Cr,Xr.state=pr.memoizedState,Xr.refs={},Tp(pr),go=br.contextType,Xr.context=typeof go=="object"&&go!==null?ed(go):Cf,Xr.state=pr.memoizedState,go=br.getDerivedStateFromProps,typeof go=="function"&&(ep(pr,br,go,Cr),Xr.state=pr.memoizedState),typeof br.getDerivedStateFromProps=="function"||typeof Xr.getSnapshotBeforeUpdate=="function"||typeof Xr.UNSAFE_componentWillMount!="function"&&typeof Xr.componentWillMount!="function"||(go=Xr.state,typeof Xr.componentWillMount=="function"&&Xr.componentWillMount(),typeof Xr.UNSAFE_componentWillMount=="function"&&Xr.UNSAFE_componentWillMount(),go!==Xr.state&&Ug.enqueueReplaceState(Xr,Xr.state,null),Bg(pr,Cr,Xr,Wr),ag(),Xr.state=pr.memoizedState),typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308),Cr=!0}else if(hr===null){Xr=pr.stateNode;var ko=pr.memoizedProps,Ho=nd(br,ko);Xr.props=Ho;var ol=Xr.context,bl=br.contextType;go=Cf,typeof bl=="object"&&bl!==null&&(go=ed(bl));var El=br.getDerivedStateFromProps;bl=typeof El=="function"||typeof Xr.getSnapshotBeforeUpdate=="function",ko=pr.pendingProps!==ko,bl||typeof Xr.UNSAFE_componentWillReceiveProps!="function"&&typeof Xr.componentWillReceiveProps!="function"||(ko||ol!==go)&&jv(pr,Xr,Cr,go),Ih=!1;var cl=pr.memoizedState;Xr.state=cl,Bg(pr,Cr,Xr,Wr),ag(),ol=pr.memoizedState,ko||cl!==ol||Ih?(typeof El=="function"&&(ep(pr,br,El,Cr),ol=pr.memoizedState),(Ho=Ih||mb(pr,br,Ho,Cr,cl,ol,go))?(bl||typeof Xr.UNSAFE_componentWillMount!="function"&&typeof Xr.componentWillMount!="function"||(typeof Xr.componentWillMount=="function"&&Xr.componentWillMount(),typeof Xr.UNSAFE_componentWillMount=="function"&&Xr.UNSAFE_componentWillMount()),typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308)):(typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308),pr.memoizedProps=Cr,pr.memoizedState=ol),Xr.props=Cr,Xr.state=ol,Xr.context=go,Cr=Ho):(typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308),Cr=!1)}else{Xr=pr.stateNode,yx(hr,pr),go=pr.memoizedProps,bl=nd(br,go),Xr.props=bl,El=pr.pendingProps,cl=Xr.context,ol=br.contextType,Ho=Cf,typeof ol=="object"&&ol!==null&&(Ho=ed(ol)),ko=br.getDerivedStateFromProps,(ol=typeof ko=="function"||typeof Xr.getSnapshotBeforeUpdate=="function")||typeof Xr.UNSAFE_componentWillReceiveProps!="function"&&typeof Xr.componentWillReceiveProps!="function"||(go!==El||cl!==Ho)&&jv(pr,Xr,Cr,Ho),Ih=!1,cl=pr.memoizedState,Xr.state=cl,Bg(pr,Cr,Xr,Wr),ag();var dl=pr.memoizedState;go!==El||cl!==dl||Ih||hr!==null&&hr.dependencies!==null&&cy(hr.dependencies)?(typeof ko=="function"&&(ep(pr,br,ko,Cr),dl=pr.memoizedState),(bl=Ih||mb(pr,br,bl,Cr,cl,dl,Ho)||hr!==null&&hr.dependencies!==null&&cy(hr.dependencies))?(ol||typeof Xr.UNSAFE_componentWillUpdate!="function"&&typeof Xr.componentWillUpdate!="function"||(typeof Xr.componentWillUpdate=="function"&&Xr.componentWillUpdate(Cr,dl,Ho),typeof Xr.UNSAFE_componentWillUpdate=="function"&&Xr.UNSAFE_componentWillUpdate(Cr,dl,Ho)),typeof Xr.componentDidUpdate=="function"&&(pr.flags|=4),typeof Xr.getSnapshotBeforeUpdate=="function"&&(pr.flags|=1024)):(typeof Xr.componentDidUpdate!="function"||go===hr.memoizedProps&&cl===hr.memoizedState||(pr.flags|=4),typeof Xr.getSnapshotBeforeUpdate!="function"||go===hr.memoizedProps&&cl===hr.memoizedState||(pr.flags|=1024),pr.memoizedProps=Cr,pr.memoizedState=dl),Xr.props=Cr,Xr.state=dl,Xr.context=Ho,Cr=bl):(typeof Xr.componentDidUpdate!="function"||go===hr.memoizedProps&&cl===hr.memoizedState||(pr.flags|=4),typeof Xr.getSnapshotBeforeUpdate!="function"||go===hr.memoizedProps&&cl===hr.memoizedState||(pr.flags|=1024),Cr=!1)}return Xr=Cr,np(hr,pr),Cr=(pr.flags&128)!==0,Xr||Cr?(Xr=pr.stateNode,br=Cr&&typeof br.getDerivedStateFromError!="function"?null:Xr.render(),pr.flags|=1,hr!==null&&Cr?(pr.child=Zf(pr,hr.child,null,Wr),pr.child=Zf(pr,null,br,Wr)):ou(hr,pr,br,Wr),pr.memoizedState=Xr.state,hr=pr.child):hr=Lf(hr,pr,Wr),hr}function gb(hr,pr,br,Cr){return Co(),pr.flags|=256,ou(hr,pr,br,Cr),pr.child}var My={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ny(hr){return{baseLanes:hr,cachePool:rb()}}function ip(hr,pr,br){return hr=hr!==null?hr.childLanes&~br:0,pr&&(hr|=ff),hr}function rd(hr,pr,br){var Cr=pr.pendingProps,Wr=!1,Xr=(pr.flags&128)!==0,go;if((go=Xr)||(go=hr!==null&&hr.memoizedState===null?!1:(Sh.current&2)!==0),go&&(Wr=!0,pr.flags&=-129),go=(pr.flags&32)!==0,pr.flags&=-33,hr===null){if(Uc){if(Wr?Tm(pr):hf(),(hr=iu)?(hr=bd(hr,Ad),hr=hr!==null&&hr.data!=="&"?hr:null,hr!==null&&(pr.memoizedState={dehydrated:hr,treeContext:Ko!==null?{id:_l,overflow:Nl}:null,retryLane:536870912,hydrationErrors:null},br=Yf(hr),br.return=pr,pr.child=br,fu=pr,iu=null)):hr=null,hr===null)throw Sp(pr);return gf(hr)?pr.lanes=32:pr.lanes=536870912,null}var ko=Cr.children;return Cr=Cr.fallback,Wr?(hf(),Wr=pr.mode,ko=Oy({mode:"hidden",children:ko},Wr),Cr=wp(Cr,Wr,br,null),ko.return=pr,Cr.return=pr,ko.sibling=Cr,pr.child=ko,Cr=pr.child,Cr.memoizedState=Ny(br),Cr.childLanes=ip(hr,go,br),pr.memoizedState=My,Mx(null,Cr)):(Tm(pr),im(pr,ko))}var Ho=hr.memoizedState;if(Ho!==null&&(ko=Ho.dehydrated,ko!==null)){if(Xr)pr.flags&256?(Tm(pr),pr.flags&=-257,pr=Ox(hr,pr,br)):pr.memoizedState!==null?(hf(),pr.child=hr.child,pr.flags|=128,pr=null):(hf(),ko=Cr.fallback,Wr=pr.mode,Cr=Oy({mode:"visible",children:Cr.children},Wr),ko=wp(ko,Wr,br,null),ko.flags|=2,Cr.return=pr,ko.return=pr,Cr.sibling=ko,pr.child=Cr,Zf(pr,hr.child,null,br),Cr=pr.child,Cr.memoizedState=Ny(br),Cr.childLanes=ip(hr,go,br),pr.memoizedState=My,pr=Mx(null,Cr));else if(Tm(pr),gf(ko)){if(go=ko.nextSibling&&ko.nextSibling.dataset,go)var ol=go.dgst;go=ol,Cr=Error(nr(419)),Cr.stack="",Cr.digest=go,Rp({value:Cr,source:null,stack:null}),pr=Ox(hr,pr,br)}else if(uh||Lg(hr,pr,br,!1),go=(br&hr.childLanes)!==0,uh||go){if(go=Xu,go!==null&&(Cr=Ll(go,br),Cr!==0&&Cr!==Ho.retryLane))throw Ho.retryLane=Cr,kd(hr,Cr),Od(go,hr,Cr),Xd;mf(ko)||Xx(),pr=Ox(hr,pr,br)}else mf(ko)?(pr.flags|=192,pr.child=hr.child,pr=null):(hr=Ho.treeContext,iu=_d(ko.nextSibling),fu=pr,Uc=!0,Ep=null,Ad=!1,hr!==null&&Lh(pr,hr),pr=im(pr,Cr.children),pr.flags|=4096);return pr}return Wr?(hf(),ko=Cr.fallback,Wr=pr.mode,Ho=hr.child,ol=Ho.sibling,Cr=Vu(Ho,{mode:"hidden",children:Cr.children}),Cr.subtreeFlags=Ho.subtreeFlags&65011712,ol!==null?ko=Vu(ol,ko):(ko=wp(ko,Wr,br,null),ko.flags|=2),ko.return=pr,Cr.return=pr,Cr.sibling=ko,pr.child=Cr,Mx(null,Cr),Cr=pr.child,ko=hr.child.memoizedState,ko===null?ko=Ny(br):(Wr=ko.cachePool,Wr!==null?(Ho=Mh._currentValue,Wr=Wr.parent!==Ho?{parent:Ho,pool:Ho}:Wr):Wr=rb(),ko={baseLanes:ko.baseLanes|br,cachePool:Wr}),Cr.memoizedState=ko,Cr.childLanes=ip(hr,go,br),pr.memoizedState=My,Mx(hr.child,Cr)):(Tm(pr),br=hr.child,hr=br.sibling,br=Vu(br,{mode:"visible",children:Cr.children}),br.return=pr,br.sibling=null,hr!==null&&(go=pr.deletions,go===null?(pr.deletions=[hr],pr.flags|=16):go.push(hr)),pr.child=br,pr.memoizedState=null,br)}function im(hr,pr){return pr=Oy({mode:"visible",children:pr},hr.mode),pr.return=hr,hr.child=pr}function Oy(hr,pr){return hr=Ph(22,hr,null,pr),hr.lanes=0,hr}function Ox(hr,pr,br){return Zf(pr,hr.child,null,br),hr=im(pr,pr.pendingProps.children),hr.flags|=2,pr.memoizedState=null,hr}function xb(hr,pr,br){hr.lanes|=pr;var Cr=hr.alternate;Cr!==null&&(Cr.lanes|=pr),Xp(hr.return,pr,br)}function Ly(hr,pr,br,Cr,Wr,Xr){var go=hr.memoizedState;go===null?hr.memoizedState={isBackwards:pr,rendering:null,renderingStartTime:0,last:Cr,tail:br,tailMode:Wr,treeForkCount:Xr}:(go.isBackwards=pr,go.rendering=null,go.renderingStartTime=0,go.last=Cr,go.tail=br,go.tailMode=Wr,go.treeForkCount=Xr)}function Nm(hr,pr,br){var Cr=pr.pendingProps,Wr=Cr.revealOrder,Xr=Cr.tail;Cr=Cr.children;var go=Sh.current,ko=(go&2)!==0;if(ko?(go=go&1|2,pr.flags|=128):go&=1,_o(Sh,go),ou(hr,pr,Cr,br),Cr=Uc?Eo:0,!ko&&hr!==null&&(hr.flags&128)!==0)e:for(hr=pr.child;hr!==null;){if(hr.tag===13)hr.memoizedState!==null&&xb(hr,br,pr);else if(hr.tag===19)xb(hr,br,pr);else if(hr.child!==null){hr.child.return=hr,hr=hr.child;continue}if(hr===pr)break e;for(;hr.sibling===null;){if(hr.return===null||hr.return===pr)break e;hr=hr.return}hr.sibling.return=hr.return,hr=hr.sibling}switch(Wr){case"forwards":for(br=pr.child,Wr=null;br!==null;)hr=br.alternate,hr!==null&&gy(hr)===null&&(Wr=br),br=br.sibling;br=Wr,br===null?(Wr=pr.child,pr.child=null):(Wr=br.sibling,br.sibling=null),Ly(pr,!1,Wr,br,Xr,Cr);break;case"backwards":case"unstable_legacy-backwards":for(br=null,Wr=pr.child,pr.child=null;Wr!==null;){if(hr=Wr.alternate,hr!==null&&gy(hr)===null){pr.child=Wr;break}hr=Wr.sibling,Wr.sibling=br,br=Wr,Wr=hr}Ly(pr,!0,br,null,Xr,Cr);break;case"together":Ly(pr,!1,null,null,void 0,Cr);break;default:pr.memoizedState=null}return pr.child}function Lf(hr,pr,br){if(hr!==null&&(pr.dependencies=hr.dependencies),Bm|=pr.lanes,(br&pr.childLanes)===0)if(hr!==null){if(Lg(hr,pr,br,!1),(br&pr.childLanes)===0)return null}else return null;if(hr!==null&&pr.child!==hr.child)throw Error(nr(153));if(pr.child!==null){for(hr=pr.child,br=Vu(hr,hr.pendingProps),pr.child=br,br.return=pr;hr.sibling!==null;)hr=hr.sibling,br=br.sibling=Vu(hr,hr.pendingProps),br.return=pr;br.sibling=null}return pr.child}function Om(hr,pr){return(hr.lanes&pr)!==0?!0:(hr=hr.dependencies,!!(hr!==null&&cy(hr)))}function yb(hr,pr,br){switch(pr.tag){case 3:zo(pr,pr.stateNode.containerInfo),Sm(pr,Mh,hr.memoizedState.cache),Co();break;case 27:case 5:Go(pr);break;case 4:zo(pr,pr.stateNode.containerInfo);break;case 10:Sm(pr,pr.type,pr.memoizedProps.value);break;case 31:if(pr.memoizedState!==null)return pr.flags|=128,Wd(pr),null;break;case 13:var Cr=pr.memoizedState;if(Cr!==null)return Cr.dehydrated!==null?(Tm(pr),pr.flags|=128,null):(br&pr.child.childLanes)!==0?rd(hr,pr,br):(Tm(pr),hr=Lf(hr,pr,br),hr!==null?hr.sibling:null);Tm(pr);break;case 19:var Wr=(hr.flags&128)!==0;if(Cr=(br&pr.childLanes)!==0,Cr||(Lg(hr,pr,br,!1),Cr=(br&pr.childLanes)!==0),Wr){if(Cr)return Nm(hr,pr,br);pr.flags|=128}if(Wr=pr.memoizedState,Wr!==null&&(Wr.rendering=null,Wr.tail=null,Wr.lastEffect=null),_o(Sh,Sh.current),Cr)break;return null;case 22:return pr.lanes=0,tp(hr,pr,br,pr.pendingProps);case 24:Sm(pr,Mh,hr.memoizedState.cache)}return Lf(hr,pr,br)}function vb(hr,pr,br){if(hr!==null)if(hr.memoizedProps!==pr.pendingProps)uh=!0;else{if(!Om(hr,br)&&(pr.flags&128)===0)return uh=!1,yb(hr,pr,br);uh=(hr.flags&131072)!==0}else uh=!1,Uc&&(pr.flags&1048576)!==0&&$c(pr,Eo,pr.index);switch(pr.lanes=0,pr.tag){case 16:e:{var Cr=pr.pendingProps;if(hr=qf(pr.elementType),pr.type=hr,typeof hr=="function")Hd(hr)?(Cr=nd(hr,Cr),pr.tag=1,pr=Nx(null,pr,hr,Cr,br)):(pr.tag=0,pr=gg(null,pr,hr,Cr,br));else{if(hr!=null){var Wr=hr.$$typeof;if(Wr===Ir){pr.tag=11,pr=fc(null,pr,hr,Cr,br);break e}else if(Wr===Lr){pr.tag=14,pr=Xg(null,pr,hr,Cr,br);break e}}throw pr=io(hr)||hr,Error(nr(306,pr,""))}}return pr;case 0:return gg(hr,pr,pr.type,pr.pendingProps,br);case 1:return Cr=pr.type,Wr=nd(Cr,pr.pendingProps),Nx(hr,pr,Cr,Wr,br);case 3:e:{if(zo(pr,pr.stateNode.containerInfo),hr===null)throw Error(nr(387));Cr=pr.pendingProps;var Xr=pr.memoizedState;Wr=Xr.element,yx(hr,pr),Bg(pr,Cr,null,br);var go=pr.memoizedState;if(Cr=go.cache,Sm(pr,Mh,Cr),Cr!==Xr.cache&&ly(pr,[Mh],br,!0),ag(),Cr=go.element,Xr.isDehydrated)if(Xr={element:Cr,isDehydrated:!1,cache:go.cache},pr.updateQueue.baseState=Xr,pr.memoizedState=Xr,pr.flags&256){pr=gb(hr,pr,Cr,br);break e}else if(Cr!==Wr){Wr=Rr(Error(nr(424)),pr),Rp(Wr),pr=gb(hr,pr,Cr,br);break e}else{switch(hr=pr.stateNode.containerInfo,hr.nodeType){case 9:hr=hr.body;break;default:hr=hr.nodeName==="HTML"?hr.ownerDocument.body:hr}for(iu=_d(hr.firstChild),fu=pr,Uc=!0,Ep=null,Ad=!0,br=dy(pr,null,Cr,br),pr.child=br;br;)br.flags=br.flags&-3|4096,br=br.sibling}else{if(Co(),Cr===Wr){pr=Lf(hr,pr,br);break e}ou(hr,pr,Cr,br)}pr=pr.child}return pr;case 26:return np(hr,pr),hr===null?(br=E0(pr.type,null,pr.pendingProps,null))?pr.memoizedState=br:Uc||(br=pr.type,hr=pr.pendingProps,Cr=Fl(So.current).createElement(br),Cr[Dc]=pr,Cr[eu]=hr,xl(Cr,br,hr),tu(Cr),pr.stateNode=Cr):pr.memoizedState=E0(pr.type,hr.memoizedProps,pr.pendingProps,hr.memoizedState),null;case 27:return Go(pr),hr===null&&Uc&&(Cr=pr.stateNode=b0(pr.type,pr.pendingProps,So.current),fu=pr,Ad=!0,Wr=iu,$l(pr.type)?(xf=Wr,iu=_d(Cr.firstChild)):iu=Wr),ou(hr,pr,pr.pendingProps.children,br),np(hr,pr),hr===null&&(pr.flags|=4194304),pr.child;case 5:return hr===null&&Uc&&((Wr=Cr=iu)&&(Cr=Gm(Cr,pr.type,pr.pendingProps,Ad),Cr!==null?(pr.stateNode=Cr,fu=pr,iu=_d(Cr.firstChild),Ad=!1,Wr=!0):Wr=!1),Wr||Sp(pr)),Go(pr),Wr=pr.type,Xr=pr.pendingProps,go=hr!==null?hr.memoizedProps:null,Cr=Xr.children,kc(Wr,Xr)?Cr=null:go!==null&&kc(Wr,go)&&(pr.flags|=32),pr.memoizedState!==null&&(Wr=nh(hr,pr,vy,null,null,br),lv._currentValue=Wr),np(hr,pr),ou(hr,pr,Cr,br),pr.child;case 6:return hr===null&&Uc&&((hr=br=iu)&&(br=Yc(br,pr.pendingProps,Ad),br!==null?(pr.stateNode=br,fu=pr,iu=null,hr=!0):hr=!1),hr||Sp(pr)),null;case 13:return rd(hr,pr,br);case 4:return zo(pr,pr.stateNode.containerInfo),Cr=pr.pendingProps,hr===null?pr.child=Zf(pr,null,Cr,br):ou(hr,pr,Cr,br),pr.child;case 11:return fc(hr,pr,pr.type,pr.pendingProps,br);case 7:return ou(hr,pr,pr.pendingProps,br),pr.child;case 8:return ou(hr,pr,pr.pendingProps.children,br),pr.child;case 12:return ou(hr,pr,pr.pendingProps.children,br),pr.child;case 10:return Cr=pr.pendingProps,Sm(pr,pr.type,Cr.value),ou(hr,pr,Cr.children,br),pr.child;case 9:return Wr=pr.type._context,Cr=pr.pendingProps.children,Cp(pr),Wr=ed(Wr),Cr=Cr(Wr),pr.flags|=1,ou(hr,pr,Cr,br),pr.child;case 14:return Xg(hr,pr,pr.type,pr.pendingProps,br);case 15:return Dx(hr,pr,pr.type,pr.pendingProps,br);case 19:return Nm(hr,pr,br);case 31:return e0(hr,pr,br);case 22:return tp(hr,pr,br,pr.pendingProps);case 24:return Cp(pr),Cr=ed(Mh),hr===null?(Wr=fv(),Wr===null&&(Wr=Xu,Xr=Xf(),Wr.pooledCache=Xr,Xr.refCount++,Xr!==null&&(Wr.pooledCacheLanes|=br),Wr=Xr),pr.memoizedState={parent:Cr,cache:Wr},Tp(pr),Sm(pr,Mh,Wr)):((hr.lanes&br)!==0&&(yx(hr,pr),Bg(pr,null,null,br),ag()),Wr=hr.memoizedState,Xr=pr.memoizedState,Wr.parent!==Cr?(Wr={parent:Cr,cache:Cr},pr.memoizedState=Wr,pr.lanes===0&&(pr.memoizedState=pr.updateQueue.baseState=Wr),Sm(pr,Mh,Cr)):(Cr=Xr.cache,Sm(pr,Mh,Cr),Cr!==Wr.cache&&ly(pr,[Mh],br,!0))),ou(hr,pr,pr.pendingProps.children,br),pr.child;case 29:throw pr.pendingProps}throw Error(nr(156,pr.tag))}function rm(hr){hr.flags|=4}function $y(hr,pr,br,Cr,Wr){if((pr=(hr.mode&32)!==0)&&(pr=!1),pr){if(hr.flags|=16777216,(Wr&335544128)===Wr)if(hr.stateNode.complete)hr.flags|=8192;else if(Yx())hr.flags|=8192;else throw Ap=xx,uy}else hr.flags&=-16777217}function xg(hr,pr){if(pr.type!=="stylesheet"||(pr.state.loading&4)!==0)hr.flags&=-16777217;else if(hr.flags|=16777216,!k0(pr))if(Yx())hr.flags|=8192;else throw Ap=xx,uy}function qg(hr,pr){pr!==null&&(hr.flags|=4),hr.flags&16384&&(pr=hr.tag!==22?Ic():536870912,hr.lanes|=pr,bg|=pr)}function Lx(hr,pr){if(!Uc)switch(hr.tailMode){case"hidden":pr=hr.tail;for(var br=null;pr!==null;)pr.alternate!==null&&(br=pr),pr=pr.sibling;br===null?hr.tail=null:br.sibling=null;break;case"collapsed":br=hr.tail;for(var Cr=null;br!==null;)br.alternate!==null&&(Cr=br),br=br.sibling;Cr===null?pr||hr.tail===null?hr.tail=null:hr.tail.sibling=null:Cr.sibling=null}}function Yu(hr){var pr=hr.alternate!==null&&hr.alternate.child===hr.child,br=0,Cr=0;if(pr)for(var Wr=hr.child;Wr!==null;)br|=Wr.lanes|Wr.childLanes,Cr|=Wr.subtreeFlags&65011712,Cr|=Wr.flags&65011712,Wr.return=hr,Wr=Wr.sibling;else for(Wr=hr.child;Wr!==null;)br|=Wr.lanes|Wr.childLanes,Cr|=Wr.subtreeFlags,Cr|=Wr.flags,Wr.return=hr,Wr=Wr.sibling;return hr.subtreeFlags|=Cr,hr.childLanes=br,pr}function Iy(hr,pr,br){var Cr=pr.pendingProps;switch(Tu(pr),pr.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yu(pr),null;case 1:return Yu(pr),null;case 3:return br=pr.stateNode,Cr=null,hr!==null&&(Cr=hr.memoizedState.cache),pr.memoizedState.cache!==Cr&&(pr.flags|=2048),Yp(Mh),Ro(),br.pendingContext&&(br.context=br.pendingContext,br.pendingContext=null),(hr===null||hr.child===null)&&(kf(pr)?rm(pr):hr===null||hr.memoizedState.isDehydrated&&(pr.flags&256)===0||(pr.flags|=1024,jp())),Yu(pr),null;case 26:var Wr=pr.type,Xr=pr.memoizedState;return hr===null?(rm(pr),Xr!==null?(Yu(pr),xg(pr,Xr)):(Yu(pr),$y(pr,Wr,null,Cr,br))):Xr?Xr!==hr.memoizedState?(rm(pr),Yu(pr),xg(pr,Xr)):(Yu(pr),pr.flags&=-16777217):(hr=hr.memoizedProps,hr!==Cr&&rm(pr),Yu(pr),$y(pr,Wr,hr,Cr,br)),null;case 27:if(Qo(pr),br=So.current,Wr=pr.type,hr!==null&&pr.stateNode!=null)hr.memoizedProps!==Cr&&rm(pr);else{if(!Cr){if(pr.stateNode===null)throw Error(nr(166));return Yu(pr),null}hr=Po.current,kf(pr)?Em(pr):(hr=b0(Wr,Cr,br),pr.stateNode=hr,rm(pr))}return Yu(pr),null;case 5:if(Qo(pr),Wr=pr.type,hr!==null&&pr.stateNode!=null)hr.memoizedProps!==Cr&&rm(pr);else{if(!Cr){if(pr.stateNode===null)throw Error(nr(166));return Yu(pr),null}if(Xr=Po.current,kf(pr))Em(pr);else{var go=Fl(So.current);switch(Xr){case 1:Xr=go.createElementNS("http://www.w3.org/2000/svg",Wr);break;case 2:Xr=go.createElementNS("http://www.w3.org/1998/Math/MathML",Wr);break;default:switch(Wr){case"svg":Xr=go.createElementNS("http://www.w3.org/2000/svg",Wr);break;case"math":Xr=go.createElementNS("http://www.w3.org/1998/Math/MathML",Wr);break;case"script":Xr=go.createElement("div"),Xr.innerHTML="<script><\/script>",Xr=Xr.removeChild(Xr.firstChild);break;case"select":Xr=typeof Cr.is=="string"?go.createElement("select",{is:Cr.is}):go.createElement("select"),Cr.multiple?Xr.multiple=!0:Cr.size&&(Xr.size=Cr.size);break;default:Xr=typeof Cr.is=="string"?go.createElement(Wr,{is:Cr.is}):go.createElement(Wr)}}Xr[Dc]=pr,Xr[eu]=Cr;e:for(go=pr.child;go!==null;){if(go.tag===5||go.tag===6)Xr.appendChild(go.stateNode);else if(go.tag!==4&&go.tag!==27&&go.child!==null){go.child.return=go,go=go.child;continue}if(go===pr)break e;for(;go.sibling===null;){if(go.return===null||go.return===pr)break e;go=go.return}go.sibling.return=go.return,go=go.sibling}pr.stateNode=Xr;e:switch(xl(Xr,Wr,Cr),Wr){case"button":case"input":case"select":case"textarea":Cr=!!Cr.autoFocus;break e;case"img":Cr=!0;break e;default:Cr=!1}Cr&&rm(pr)}}return Yu(pr),$y(pr,pr.type,hr===null?null:hr.memoizedProps,pr.pendingProps,br),null;case 6:if(hr&&pr.stateNode!=null)hr.memoizedProps!==Cr&&rm(pr);else{if(typeof Cr!="string"&&pr.stateNode===null)throw Error(nr(166));if(hr=So.current,kf(pr)){if(hr=pr.stateNode,br=pr.memoizedProps,Cr=null,Wr=fu,Wr!==null)switch(Wr.tag){case 27:case 5:Cr=Wr.memoizedProps}hr[Dc]=pr,hr=!!(hr.nodeValue===br||Cr!==null&&Cr.suppressHydrationWarning===!0||Yo(hr.nodeValue,br)),hr||Sp(pr,!0)}else hr=Fl(hr).createTextNode(Cr),hr[Dc]=pr,pr.stateNode=hr}return Yu(pr),null;case 31:if(br=pr.memoizedState,hr===null||hr.memoizedState!==null){if(Cr=kf(pr),br!==null){if(hr===null){if(!Cr)throw Error(nr(318));if(hr=pr.memoizedState,hr=hr!==null?hr.dehydrated:null,!hr)throw Error(nr(557));hr[Dc]=pr}else Co(),(pr.flags&128)===0&&(pr.memoizedState=null),pr.flags|=4;Yu(pr),hr=!1}else br=jp(),hr!==null&&hr.memoizedState!==null&&(hr.memoizedState.hydrationErrors=br),hr=!0;if(!hr)return pr.flags&256?(Ru(pr),pr):(Ru(pr),null);if((pr.flags&128)!==0)throw Error(nr(558))}return Yu(pr),null;case 13:if(Cr=pr.memoizedState,hr===null||hr.memoizedState!==null&&hr.memoizedState.dehydrated!==null){if(Wr=kf(pr),Cr!==null&&Cr.dehydrated!==null){if(hr===null){if(!Wr)throw Error(nr(318));if(Wr=pr.memoizedState,Wr=Wr!==null?Wr.dehydrated:null,!Wr)throw Error(nr(317));Wr[Dc]=pr}else Co(),(pr.flags&128)===0&&(pr.memoizedState=null),pr.flags|=4;Yu(pr),Wr=!1}else Wr=jp(),hr!==null&&hr.memoizedState!==null&&(hr.memoizedState.hydrationErrors=Wr),Wr=!0;if(!Wr)return pr.flags&256?(Ru(pr),pr):(Ru(pr),null)}return Ru(pr),(pr.flags&128)!==0?(pr.lanes=br,pr):(br=Cr!==null,hr=hr!==null&&hr.memoizedState!==null,br&&(Cr=pr.child,Wr=null,Cr.alternate!==null&&Cr.alternate.memoizedState!==null&&Cr.alternate.memoizedState.cachePool!==null&&(Wr=Cr.alternate.memoizedState.cachePool.pool),Xr=null,Cr.memoizedState!==null&&Cr.memoizedState.cachePool!==null&&(Xr=Cr.memoizedState.cachePool.pool),Xr!==Wr&&(Cr.flags|=2048)),br!==hr&&br&&(pr.child.flags|=8192),qg(pr,pr.updateQueue),Yu(pr),null);case 4:return Ro(),hr===null&&fo(pr.stateNode.containerInfo),Yu(pr),null;case 10:return Yp(pr.type),Yu(pr),null;case 19:if(xo(Sh),Cr=pr.memoizedState,Cr===null)return Yu(pr),null;if(Wr=(pr.flags&128)!==0,Xr=Cr.rendering,Xr===null)if(Wr)Lx(Cr,!1);else{if(vh!==0||hr!==null&&(hr.flags&128)!==0)for(hr=pr.child;hr!==null;){if(Xr=gy(hr),Xr!==null){for(pr.flags|=128,Lx(Cr,!1),hr=Xr.updateQueue,pr.updateQueue=hr,qg(pr,hr),pr.subtreeFlags=0,hr=br,br=pr.child;br!==null;)ju(br,hr),br=br.sibling;return _o(Sh,Sh.current&1|2),Uc&&tc(pr,Cr.treeForkCount),pr.child}hr=hr.sibling}Cr.tail!==null&&ic()>_g&&(pr.flags|=128,Wr=!0,Lx(Cr,!1),pr.lanes=4194304)}else{if(!Wr)if(hr=gy(Xr),hr!==null){if(pr.flags|=128,Wr=!0,hr=hr.updateQueue,pr.updateQueue=hr,qg(pr,hr),Lx(Cr,!0),Cr.tail===null&&Cr.tailMode==="hidden"&&!Xr.alternate&&!Uc)return Yu(pr),null}else 2*ic()-Cr.renderingStartTime>_g&&br!==536870912&&(pr.flags|=128,Wr=!0,Lx(Cr,!1),pr.lanes=4194304);Cr.isBackwards?(Xr.sibling=pr.child,pr.child=Xr):(hr=Cr.last,hr!==null?hr.sibling=Xr:pr.child=Xr,Cr.last=Xr)}return Cr.tail!==null?(hr=Cr.tail,Cr.rendering=hr,Cr.tail=hr.sibling,Cr.renderingStartTime=ic(),hr.sibling=null,br=Sh.current,_o(Sh,Wr?br&1|2:br&1),Uc&&tc(pr,Cr.treeForkCount),hr):(Yu(pr),null);case 22:case 23:return Ru(pr),Am(),Cr=pr.memoizedState!==null,hr!==null?hr.memoizedState!==null!==Cr&&(pr.flags|=8192):Cr&&(pr.flags|=8192),Cr?(br&536870912)!==0&&(pr.flags&128)===0&&(Yu(pr),pr.subtreeFlags&6&&(pr.flags|=8192)):Yu(pr),br=pr.updateQueue,br!==null&&qg(pr,br.retryQueue),br=null,hr!==null&&hr.memoizedState!==null&&hr.memoizedState.cachePool!==null&&(br=hr.memoizedState.cachePool.pool),Cr=null,pr.memoizedState!==null&&pr.memoizedState.cachePool!==null&&(Cr=pr.memoizedState.cachePool.pool),Cr!==br&&(pr.flags|=2048),hr!==null&&xo(qp),null;case 24:return br=null,hr!==null&&(br=hr.memoizedState.cache),pr.memoizedState.cache!==br&&(pr.flags|=2048),Yp(Mh),Yu(pr),null;case 25:return null;case 30:return null}throw Error(nr(156,pr.tag))}function rp(hr,pr){switch(Tu(pr),pr.tag){case 1:return hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 3:return Yp(Mh),Ro(),hr=pr.flags,(hr&65536)!==0&&(hr&128)===0?(pr.flags=hr&-65537|128,pr):null;case 26:case 27:case 5:return Qo(pr),null;case 31:if(pr.memoizedState!==null){if(Ru(pr),pr.alternate===null)throw Error(nr(340));Co()}return hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 13:if(Ru(pr),hr=pr.memoizedState,hr!==null&&hr.dehydrated!==null){if(pr.alternate===null)throw Error(nr(340));Co()}return hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 19:return xo(Sh),null;case 4:return Ro(),null;case 10:return Yp(pr.type),null;case 22:case 23:return Ru(pr),Am(),hr!==null&&xo(qp),hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 24:return Yp(Mh),null;case 25:return null;default:return null}}function Kg(hr,pr){switch(Tu(pr),pr.tag){case 3:Yp(Mh),Ro();break;case 26:case 27:case 5:Qo(pr);break;case 4:Ro();break;case 31:pr.memoizedState!==null&&Ru(pr);break;case 13:Ru(pr);break;case 19:xo(Sh);break;case 10:Yp(pr.type);break;case 22:case 23:Ru(pr),Am(),hr!==null&&xo(qp);break;case 24:Yp(Mh)}}function Zg(hr,pr){try{var br=pr.updateQueue,Cr=br!==null?br.lastEffect:null;if(Cr!==null){var Wr=Cr.next;br=Wr;do{if((br.tag&hr)===hr){Cr=void 0;var Xr=br.create,go=br.inst;Cr=Xr(),go.destroy=Cr}br=br.next}while(br!==Wr)}}catch(ko){Ou(pr,pr.return,ko)}}function sm(hr,pr,br){try{var Cr=pr.updateQueue,Wr=Cr!==null?Cr.lastEffect:null;if(Wr!==null){var Xr=Wr.next;Cr=Xr;do{if((Cr.tag&hr)===hr){var go=Cr.inst,ko=go.destroy;if(ko!==void 0){go.destroy=void 0,Wr=pr;var Ho=br,ol=ko;try{ol()}catch(bl){Ou(Wr,Ho,bl)}}}Cr=Cr.next}while(Cr!==Xr)}}catch(bl){Ou(pr,pr.return,bl)}}function $x(hr){var pr=hr.updateQueue;if(pr!==null){var br=hr.stateNode;try{py(pr,br)}catch(Cr){Ou(hr,hr.return,Cr)}}}function Cv(hr,pr,br){br.props=nd(hr.type,hr.memoizedProps),br.state=hr.memoizedState;try{br.componentWillUnmount()}catch(Cr){Ou(hr,pr,Cr)}}function qd(hr,pr){try{var br=hr.ref;if(br!==null){switch(hr.tag){case 26:case 27:case 5:var Cr=hr.stateNode;break;case 30:Cr=hr.stateNode;break;default:Cr=hr.stateNode}typeof br=="function"?hr.refCleanup=br(Cr):br.current=Cr}}catch(Wr){Ou(hr,pr,Wr)}}function xd(hr,pr){var br=hr.ref,Cr=hr.refCleanup;if(br!==null)if(typeof Cr=="function")try{Cr()}catch(Wr){Ou(hr,pr,Wr)}finally{hr.refCleanup=null,hr=hr.alternate,hr!=null&&(hr.refCleanup=null)}else if(typeof br=="function")try{br(null)}catch(Wr){Ou(hr,pr,Wr)}else br.current=null}function bb(hr){var pr=hr.type,br=hr.memoizedProps,Cr=hr.stateNode;try{e:switch(pr){case"button":case"input":case"select":case"textarea":br.autoFocus&&Cr.focus();break e;case"img":br.src?Cr.src=br.src:br.srcSet&&(Cr.srcset=br.srcSet)}}catch(Wr){Ou(hr,hr.return,Wr)}}function Fy(hr,pr,br){try{var Cr=hr.stateNode;ml(Cr,hr.type,br,pr),Cr[eu]=pr}catch(Wr){Ou(hr,hr.return,Wr)}}function _b(hr){return hr.tag===5||hr.tag===3||hr.tag===26||hr.tag===27&&$l(hr.type)||hr.tag===4}function kv(hr){e:for(;;){for(;hr.sibling===null;){if(hr.return===null||_b(hr.return))return null;hr=hr.return}for(hr.sibling.return=hr.return,hr=hr.sibling;hr.tag!==5&&hr.tag!==6&&hr.tag!==18;){if(hr.tag===27&&$l(hr.type)||hr.flags&2||hr.child===null||hr.tag===4)continue e;hr.child.return=hr,hr=hr.child}if(!(hr.flags&2))return hr.stateNode}}function Av(hr,pr,br){var Cr=hr.tag;if(Cr===5||Cr===6)hr=hr.stateNode,pr?(br.nodeType===9?br.body:br.nodeName==="HTML"?br.ownerDocument.body:br).insertBefore(hr,pr):(pr=br.nodeType===9?br.body:br.nodeName==="HTML"?br.ownerDocument.body:br,pr.appendChild(hr),br=br._reactRootContainer,br!=null||pr.onclick!==null||(pr.onclick=Qu));else if(Cr!==4&&(Cr===27&&$l(hr.type)&&(br=hr.stateNode,pr=null),hr=hr.child,hr!==null))for(Av(hr,pr,br),hr=hr.sibling;hr!==null;)Av(hr,pr,br),hr=hr.sibling}function Ix(hr,pr,br){var Cr=hr.tag;if(Cr===5||Cr===6)hr=hr.stateNode,pr?br.insertBefore(hr,pr):br.appendChild(hr);else if(Cr!==4&&(Cr===27&&$l(hr.type)&&(br=hr.stateNode),hr=hr.child,hr!==null))for(Ix(hr,pr,br),hr=hr.sibling;hr!==null;)Ix(hr,pr,br),hr=hr.sibling}function wb(hr){var pr=hr.stateNode,br=hr.memoizedProps;try{for(var Cr=hr.type,Wr=pr.attributes;Wr.length;)pr.removeAttributeNode(Wr[0]);xl(pr,Cr,br),pr[Dc]=hr,pr[eu]=br}catch(Xr){Ou(hr,hr.return,Xr)}}var Lp=!1,jh=!1,Tv=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,Xh=null;function By(hr,pr){if(hr=hr.containerInfo,Zl=Wb,hr=ng(hr),yp(hr)){if("selectionStart"in hr)var br={start:hr.selectionStart,end:hr.selectionEnd};else e:{br=(br=hr.ownerDocument)&&br.defaultView||window;var Cr=br.getSelection&&br.getSelection();if(Cr&&Cr.rangeCount!==0){br=Cr.anchorNode;var Wr=Cr.anchorOffset,Xr=Cr.focusNode;Cr=Cr.focusOffset;try{br.nodeType,Xr.nodeType}catch{br=null;break e}var go=0,ko=-1,Ho=-1,ol=0,bl=0,El=hr,cl=null;t:for(;;){for(var dl;El!==br||Wr!==0&&El.nodeType!==3||(ko=go+Wr),El!==Xr||Cr!==0&&El.nodeType!==3||(Ho=go+Cr),El.nodeType===3&&(go+=El.nodeValue.length),(dl=El.firstChild)!==null;)cl=El,El=dl;for(;;){if(El===hr)break t;if(cl===br&&++ol===Wr&&(ko=go),cl===Xr&&++bl===Cr&&(Ho=go),(dl=El.nextSibling)!==null)break;El=cl,cl=El.parentNode}El=dl}br=ko===-1||Ho===-1?null:{start:ko,end:Ho}}else br=null}br=br||{start:0,end:0}}else br=null;for(Ml={focusedElem:hr,selectionRange:br},Wb=!1,Xh=pr;Xh!==null;)if(pr=Xh,hr=pr.child,(pr.subtreeFlags&1028)!==0&&hr!==null)hr.return=pr,Xh=hr;else for(;Xh!==null;){switch(pr=Xh,Xr=pr.alternate,hr=pr.flags,pr.tag){case 0:if((hr&4)!==0&&(hr=pr.updateQueue,hr=hr!==null?hr.events:null,hr!==null))for(br=0;br<hr.length;br++)Wr=hr[br],Wr.ref.impl=Wr.nextImpl;break;case 11:case 15:break;case 1:if((hr&1024)!==0&&Xr!==null){hr=void 0,br=pr,Wr=Xr.memoizedProps,Xr=Xr.memoizedState,Cr=br.stateNode;try{var nc=nd(br.type,Wr);hr=Cr.getSnapshotBeforeUpdate(nc,Xr),Cr.__reactInternalSnapshotBeforeUpdate=hr}catch(_c){Ou(br,br.return,_c)}}break;case 3:if((hr&1024)!==0){if(hr=pr.stateNode.containerInfo,br=hr.nodeType,br===9)od(hr);else if(br===1)switch(hr.nodeName){case"HEAD":case"HTML":case"BODY":od(hr);break;default:hr.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((hr&1024)!==0)throw Error(nr(163))}if(hr=pr.sibling,hr!==null){hr.return=pr.return,Xh=hr;break}Xh=pr.return}}function Fx(hr,pr,br){var Cr=br.flags;switch(br.tag){case 0:case 11:case 15:$f(hr,br),Cr&4&&Zg(5,br);break;case 1:if($f(hr,br),Cr&4)if(hr=br.stateNode,pr===null)try{hr.componentDidMount()}catch(go){Ou(br,br.return,go)}else{var Wr=nd(br.type,pr.memoizedProps);pr=pr.memoizedState;try{hr.componentDidUpdate(Wr,pr,hr.__reactInternalSnapshotBeforeUpdate)}catch(go){Ou(br,br.return,go)}}Cr&64&&$x(br),Cr&512&&qd(br,br.return);break;case 3:if($f(hr,br),Cr&64&&(hr=br.updateQueue,hr!==null)){if(pr=null,br.child!==null)switch(br.child.tag){case 27:case 5:pr=br.child.stateNode;break;case 1:pr=br.child.stateNode}try{py(hr,pr)}catch(go){Ou(br,br.return,go)}}break;case 27:pr===null&&Cr&4&&wb(br);case 26:case 5:$f(hr,br),pr===null&&Cr&4&&bb(br),Cr&512&&qd(br,br.return);break;case 12:$f(hr,br);break;case 31:$f(hr,br),Cr&4&&Dv(hr,br);break;case 13:$f(hr,br),Cr&4&&Hy(hr,br),Cr&64&&(hr=br.memoizedState,hr!==null&&(hr=hr.dehydrated,hr!==null&&(br=tv.bind(null,br),Eg(hr,br))));break;case 22:if(Cr=br.memoizedState!==null||Lp,!Cr){pr=pr!==null&&pr.memoizedState!==null||jh,Wr=Lp;var Xr=jh;Lp=Cr,(jh=pr)&&!Xr?op(hr,br,(br.subtreeFlags&8772)!==0):$f(hr,br),Lp=Wr,jh=Xr}break;case 30:break;default:$f(hr,br)}}function zy(hr){var pr=hr.alternate;pr!==null&&(hr.alternate=null,zy(pr)),hr.child=null,hr.deletions=null,hr.sibling=null,hr.tag===5&&(pr=hr.stateNode,pr!==null&&qh(pr)),hr.stateNode=null,hr.return=null,hr.dependencies=null,hr.memoizedProps=null,hr.memoizedState=null,hr.pendingProps=null,hr.stateNode=null,hr.updateQueue=null}var hh=null,sd=!1;function sp(hr,pr,br){for(br=br.child;br!==null;)Pv(hr,pr,br),br=br.sibling}function Pv(hr,pr,br){if(rl&&typeof rl.onCommitFiberUnmount=="function")try{rl.onCommitFiberUnmount(Il,br)}catch{}switch(br.tag){case 26:jh||xd(br,pr),sp(hr,pr,br),br.memoizedState?br.memoizedState.count--:br.stateNode&&(br=br.stateNode,br.parentNode.removeChild(br));break;case 27:jh||xd(br,pr);var Cr=hh,Wr=sd;$l(br.type)&&(hh=br.stateNode,sd=!1),sp(hr,pr,br),Kv(br.stateNode),hh=Cr,sd=Wr;break;case 5:jh||xd(br,pr);case 6:if(Cr=hh,Wr=sd,hh=null,sp(hr,pr,br),hh=Cr,sd=Wr,hh!==null)if(sd)try{(hh.nodeType===9?hh.body:hh.nodeName==="HTML"?hh.ownerDocument.body:hh).removeChild(br.stateNode)}catch(Xr){Ou(br,pr,Xr)}else try{hh.removeChild(br.stateNode)}catch(Xr){Ou(br,pr,Xr)}break;case 18:hh!==null&&(sd?(hr=hh,rh(hr.nodeType===9?hr.body:hr.nodeName==="HTML"?hr.ownerDocument.body:hr,br.stateNode),uv(hr)):rh(hh,br.stateNode));break;case 4:Cr=hh,Wr=sd,hh=br.stateNode.containerInfo,sd=!0,sp(hr,pr,br),hh=Cr,sd=Wr;break;case 0:case 11:case 14:case 15:sm(2,br,pr),jh||sm(4,br,pr),sp(hr,pr,br);break;case 1:jh||(xd(br,pr),Cr=br.stateNode,typeof Cr.componentWillUnmount=="function"&&Cv(br,pr,Cr)),sp(hr,pr,br);break;case 21:sp(hr,pr,br);break;case 22:jh=(Cr=jh)||br.memoizedState!==null,sp(hr,pr,br),jh=Cr;break;default:sp(hr,pr,br)}}function Dv(hr,pr){if(pr.memoizedState===null&&(hr=pr.alternate,hr!==null&&(hr=hr.memoizedState,hr!==null))){hr=hr.dehydrated;try{uv(hr)}catch(br){Ou(pr,pr.return,br)}}}function Hy(hr,pr){if(pr.memoizedState===null&&(hr=pr.alternate,hr!==null&&(hr=hr.memoizedState,hr!==null&&(hr=hr.dehydrated,hr!==null))))try{uv(hr)}catch(br){Ou(pr,pr.return,br)}}function n0(hr){switch(hr.tag){case 31:case 13:case 19:var pr=hr.stateNode;return pr===null&&(pr=hr.stateNode=new Eb),pr;case 22:return hr=hr.stateNode,pr=hr._retryCache,pr===null&&(pr=hr._retryCache=new Eb),pr;default:throw Error(nr(435,hr.tag))}}function Wy(hr,pr){var br=n0(hr);pr.forEach(function(Cr){if(!br.has(Cr)){br.add(Cr);var Wr=Yv.bind(null,hr,Cr);Cr.then(Wr,Wr)}})}function yd(hr,pr){var br=pr.deletions;if(br!==null)for(var Cr=0;Cr<br.length;Cr++){var Wr=br[Cr],Xr=hr,go=pr,ko=go;e:for(;ko!==null;){switch(ko.tag){case 27:if($l(ko.type)){hh=ko.stateNode,sd=!1;break e}break;case 5:hh=ko.stateNode,sd=!1;break e;case 3:case 4:hh=ko.stateNode.containerInfo,sd=!0;break e}ko=ko.return}if(hh===null)throw Error(nr(160));Pv(Xr,go,Wr),hh=null,sd=!1,Xr=Wr.alternate,Xr!==null&&(Xr.return=null),Wr.return=null}if(pr.subtreeFlags&13886)for(pr=pr.child;pr!==null;)Sb(pr,hr),pr=pr.sibling}var ap=null;function Sb(hr,pr){var br=hr.alternate,Cr=hr.flags;switch(hr.tag){case 0:case 11:case 14:case 15:yd(pr,hr),dh(hr),Cr&4&&(sm(3,hr,hr.return),Zg(3,hr),sm(5,hr,hr.return));break;case 1:yd(pr,hr),dh(hr),Cr&512&&(jh||br===null||xd(br,br.return)),Cr&64&&Lp&&(hr=hr.updateQueue,hr!==null&&(Cr=hr.callbacks,Cr!==null&&(br=hr.shared.hiddenCallbacks,hr.shared.hiddenCallbacks=br===null?Cr:br.concat(Cr))));break;case 26:var Wr=ap;if(yd(pr,hr),dh(hr),Cr&512&&(jh||br===null||xd(br,br.return)),Cr&4){var Xr=br!==null?br.memoizedState:null;if(Cr=hr.memoizedState,br===null)if(Cr===null)if(hr.stateNode===null){e:{Cr=hr.type,br=hr.memoizedProps,Wr=Wr.ownerDocument||Wr;t:switch(Cr){case"title":Xr=Wr.getElementsByTagName("title")[0],(!Xr||Xr[Iu]||Xr[Dc]||Xr.namespaceURI==="http://www.w3.org/2000/svg"||Xr.hasAttribute("itemprop"))&&(Xr=Wr.createElement(Cr),Wr.head.insertBefore(Xr,Wr.querySelector("head > title"))),xl(Xr,Cr,br),Xr[Dc]=hr,tu(Xr),Cr=Xr;break e;case"link":var go=R0("link","href",Wr).get(Cr+(br.href||""));if(go){for(var ko=0;ko<go.length;ko++)if(Xr=go[ko],Xr.getAttribute("href")===(br.href==null||br.href===""?null:br.href)&&Xr.getAttribute("rel")===(br.rel==null?null:br.rel)&&Xr.getAttribute("title")===(br.title==null?null:br.title)&&Xr.getAttribute("crossorigin")===(br.crossOrigin==null?null:br.crossOrigin)){go.splice(ko,1);break t}}Xr=Wr.createElement(Cr),xl(Xr,Cr,br),Wr.head.appendChild(Xr);break;case"meta":if(go=R0("meta","content",Wr).get(Cr+(br.content||""))){for(ko=0;ko<go.length;ko++)if(Xr=go[ko],Xr.getAttribute("content")===(br.content==null?null:""+br.content)&&Xr.getAttribute("name")===(br.name==null?null:br.name)&&Xr.getAttribute("property")===(br.property==null?null:br.property)&&Xr.getAttribute("http-equiv")===(br.httpEquiv==null?null:br.httpEquiv)&&Xr.getAttribute("charset")===(br.charSet==null?null:br.charSet)){go.splice(ko,1);break t}}Xr=Wr.createElement(Cr),xl(Xr,Cr,br),Wr.head.appendChild(Xr);break;default:throw Error(nr(468,Cr))}Xr[Dc]=hr,tu(Xr),Cr=Xr}hr.stateNode=Cr}else C0(Wr,hr.type,hr.stateNode);else hr.stateNode=j0(Wr,Cr,hr.memoizedProps);else Xr!==Cr?(Xr===null?br.stateNode!==null&&(br=br.stateNode,br.parentNode.removeChild(br)):Xr.count--,Cr===null?C0(Wr,hr.type,hr.stateNode):j0(Wr,Cr,hr.memoizedProps)):Cr===null&&hr.stateNode!==null&&Fy(hr,hr.memoizedProps,br.memoizedProps)}break;case 27:yd(pr,hr),dh(hr),Cr&512&&(jh||br===null||xd(br,br.return)),br!==null&&Cr&4&&Fy(hr,hr.memoizedProps,br.memoizedProps);break;case 5:if(yd(pr,hr),dh(hr),Cr&512&&(jh||br===null||xd(br,br.return)),hr.flags&32){Wr=hr.stateNode;try{$o(Wr,"")}catch(nc){Ou(hr,hr.return,nc)}}Cr&4&&hr.stateNode!=null&&(Wr=hr.memoizedProps,Fy(hr,Wr,br!==null?br.memoizedProps:Wr)),Cr&1024&&(Tv=!0);break;case 6:if(yd(pr,hr),dh(hr),Cr&4){if(hr.stateNode===null)throw Error(nr(162));Cr=hr.memoizedProps,br=hr.stateNode;try{br.nodeValue=Cr}catch(nc){Ou(hr,hr.return,nc)}}break;case 3:if(Zv=null,Wr=ap,ap=$b(pr.containerInfo),yd(pr,hr),ap=Wr,dh(hr),Cr&4&&br!==null&&br.memoizedState.isDehydrated)try{uv(pr.containerInfo)}catch(nc){Ou(hr,hr.return,nc)}Tv&&(Tv=!1,Bx(hr));break;case 4:Cr=ap,ap=$b(hr.stateNode.containerInfo),yd(pr,hr),dh(hr),ap=Cr;break;case 12:yd(pr,hr),dh(hr);break;case 31:yd(pr,hr),dh(hr),Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(hr.updateQueue=null,Wy(hr,Cr)));break;case 13:yd(pr,hr),dh(hr),hr.child.flags&8192&&hr.memoizedState!==null!=(br!==null&&br.memoizedState!==null)&&(zm=ic()),Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(hr.updateQueue=null,Wy(hr,Cr)));break;case 22:Wr=hr.memoizedState!==null;var Ho=br!==null&&br.memoizedState!==null,ol=Lp,bl=jh;if(Lp=ol||Wr,jh=bl||Ho,yd(pr,hr),jh=bl,Lp=ol,dh(hr),Cr&8192)e:for(pr=hr.stateNode,pr._visibility=Wr?pr._visibility&-2:pr._visibility|1,Wr&&(br===null||Ho||Lp||jh||Lm(hr)),br=null,pr=hr;;){if(pr.tag===5||pr.tag===26){if(br===null){Ho=br=pr;try{if(Xr=Ho.stateNode,Wr)go=Xr.style,typeof go.setProperty=="function"?go.setProperty("display","none","important"):go.display="none";else{ko=Ho.stateNode;var El=Ho.memoizedProps.style,cl=El!=null&&El.hasOwnProperty("display")?El.display:null;ko.style.display=cl==null||typeof cl=="boolean"?"":(""+cl).trim()}}catch(nc){Ou(Ho,Ho.return,nc)}}}else if(pr.tag===6){if(br===null){Ho=pr;try{Ho.stateNode.nodeValue=Wr?"":Ho.memoizedProps}catch(nc){Ou(Ho,Ho.return,nc)}}}else if(pr.tag===18){if(br===null){Ho=pr;try{var dl=Ho.stateNode;Wr?qu(dl,!0):qu(Ho.stateNode,!1)}catch(nc){Ou(Ho,Ho.return,nc)}}}else if((pr.tag!==22&&pr.tag!==23||pr.memoizedState===null||pr===hr)&&pr.child!==null){pr.child.return=pr,pr=pr.child;continue}if(pr===hr)break e;for(;pr.sibling===null;){if(pr.return===null||pr.return===hr)break e;br===pr&&(br=null),pr=pr.return}br===pr&&(br=null),pr.sibling.return=pr.return,pr=pr.sibling}Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(br=Cr.retryQueue,br!==null&&(Cr.retryQueue=null,Wy(hr,br))));break;case 19:yd(pr,hr),dh(hr),Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(hr.updateQueue=null,Wy(hr,Cr)));break;case 30:break;case 21:break;default:yd(pr,hr),dh(hr)}}function dh(hr){var pr=hr.flags;if(pr&2){try{for(var br,Cr=hr.return;Cr!==null;){if(_b(Cr)){br=Cr;break}Cr=Cr.return}if(br==null)throw Error(nr(160));switch(br.tag){case 27:var Wr=br.stateNode,Xr=kv(hr);Ix(hr,Xr,Wr);break;case 5:var go=br.stateNode;br.flags&32&&($o(go,""),br.flags&=-33);var ko=kv(hr);Ix(hr,ko,go);break;case 3:case 4:var Ho=br.stateNode.containerInfo,ol=kv(hr);Av(hr,ol,Ho);break;default:throw Error(nr(161))}}catch(bl){Ou(hr,hr.return,bl)}hr.flags&=-3}pr&4096&&(hr.flags&=-4097)}function Bx(hr){if(hr.subtreeFlags&1024)for(hr=hr.child;hr!==null;){var pr=hr;Bx(pr),pr.tag===5&&pr.flags&1024&&pr.stateNode.reset(),hr=hr.sibling}}function $f(hr,pr){if(pr.subtreeFlags&8772)for(pr=pr.child;pr!==null;)Fx(hr,pr.alternate,pr),pr=pr.sibling}function Lm(hr){for(hr=hr.child;hr!==null;){var pr=hr;switch(pr.tag){case 0:case 11:case 14:case 15:sm(4,pr,pr.return),Lm(pr);break;case 1:xd(pr,pr.return);var br=pr.stateNode;typeof br.componentWillUnmount=="function"&&Cv(pr,pr.return,br),Lm(pr);break;case 27:Kv(pr.stateNode);case 26:case 5:xd(pr,pr.return),Lm(pr);break;case 22:pr.memoizedState===null&&Lm(pr);break;case 30:Lm(pr);break;default:Lm(pr)}hr=hr.sibling}}function op(hr,pr,br){for(br=br&&(pr.subtreeFlags&8772)!==0,pr=pr.child;pr!==null;){var Cr=pr.alternate,Wr=hr,Xr=pr,go=Xr.flags;switch(Xr.tag){case 0:case 11:case 15:op(Wr,Xr,br),Zg(4,Xr);break;case 1:if(op(Wr,Xr,br),Cr=Xr,Wr=Cr.stateNode,typeof Wr.componentDidMount=="function")try{Wr.componentDidMount()}catch(ol){Ou(Cr,Cr.return,ol)}if(Cr=Xr,Wr=Cr.updateQueue,Wr!==null){var ko=Cr.stateNode;try{var Ho=Wr.shared.hiddenCallbacks;if(Ho!==null)for(Wr.shared.hiddenCallbacks=null,Wr=0;Wr<Ho.length;Wr++)Eh(Ho[Wr],ko)}catch(ol){Ou(Cr,Cr.return,ol)}}br&&go&64&&$x(Xr),qd(Xr,Xr.return);break;case 27:wb(Xr);case 26:case 5:op(Wr,Xr,br),br&&Cr===null&&go&4&&bb(Xr),qd(Xr,Xr.return);break;case 12:op(Wr,Xr,br);break;case 31:op(Wr,Xr,br),br&&go&4&&Dv(Wr,Xr);break;case 13:op(Wr,Xr,br),br&&go&4&&Hy(Wr,Xr);break;case 22:Xr.memoizedState===null&&op(Wr,Xr,br),qd(Xr,Xr.return);break;case 30:break;default:op(Wr,Xr,br)}pr=pr.sibling}}function Gy(hr,pr){var br=null;hr!==null&&hr.memoizedState!==null&&hr.memoizedState.cachePool!==null&&(br=hr.memoizedState.cachePool.pool),hr=null,pr.memoizedState!==null&&pr.memoizedState.cachePool!==null&&(hr=pr.memoizedState.cachePool.pool),hr!==br&&(hr!=null&&hr.refCount++,br!=null&&kp(br))}function Vy(hr,pr){hr=null,pr.alternate!==null&&(hr=pr.alternate.memoizedState.cache),pr=pr.memoizedState.cache,pr!==hr&&(pr.refCount++,hr!=null&&kp(hr))}function Kd(hr,pr,br,Cr){if(pr.subtreeFlags&10256)for(pr=pr.child;pr!==null;)Uy(hr,pr,br,Cr),pr=pr.sibling}function Uy(hr,pr,br,Cr){var Wr=pr.flags;switch(pr.tag){case 0:case 11:case 15:Kd(hr,pr,br,Cr),Wr&2048&&Zg(9,pr);break;case 1:Kd(hr,pr,br,Cr);break;case 3:Kd(hr,pr,br,Cr),Wr&2048&&(hr=null,pr.alternate!==null&&(hr=pr.alternate.memoizedState.cache),pr=pr.memoizedState.cache,pr!==hr&&(pr.refCount++,hr!=null&&kp(hr)));break;case 12:if(Wr&2048){Kd(hr,pr,br,Cr),hr=pr.stateNode;try{var Xr=pr.memoizedProps,go=Xr.id,ko=Xr.onPostCommit;typeof ko=="function"&&ko(go,pr.alternate===null?"mount":"update",hr.passiveEffectDuration,-0)}catch(Ho){Ou(pr,pr.return,Ho)}}else Kd(hr,pr,br,Cr);break;case 31:Kd(hr,pr,br,Cr);break;case 13:Kd(hr,pr,br,Cr);break;case 23:break;case 22:Xr=pr.stateNode,go=pr.alternate,pr.memoizedState!==null?Xr._visibility&2?Kd(hr,pr,br,Cr):zx(hr,pr):Xr._visibility&2?Kd(hr,pr,br,Cr):(Xr._visibility|=2,If(hr,pr,br,Cr,(pr.subtreeFlags&10256)!==0||!1)),Wr&2048&&Gy(go,pr);break;case 24:Kd(hr,pr,br,Cr),Wr&2048&&Vy(pr.alternate,pr);break;default:Kd(hr,pr,br,Cr)}}function If(hr,pr,br,Cr,Wr){for(Wr=Wr&&((pr.subtreeFlags&10256)!==0||!1),pr=pr.child;pr!==null;){var Xr=hr,go=pr,ko=br,Ho=Cr,ol=go.flags;switch(go.tag){case 0:case 11:case 15:If(Xr,go,ko,Ho,Wr),Zg(8,go);break;case 23:break;case 22:var bl=go.stateNode;go.memoizedState!==null?bl._visibility&2?If(Xr,go,ko,Ho,Wr):zx(Xr,go):(bl._visibility|=2,If(Xr,go,ko,Ho,Wr)),Wr&&ol&2048&&Gy(go.alternate,go);break;case 24:If(Xr,go,ko,Ho,Wr),Wr&&ol&2048&&Vy(go.alternate,go);break;default:If(Xr,go,ko,Ho,Wr)}pr=pr.sibling}}function zx(hr,pr){if(pr.subtreeFlags&10256)for(pr=pr.child;pr!==null;){var br=hr,Cr=pr,Wr=Cr.flags;switch(Cr.tag){case 22:zx(br,Cr),Wr&2048&&Gy(Cr.alternate,Cr);break;case 24:zx(br,Cr),Wr&2048&&Vy(Cr.alternate,Cr);break;default:zx(br,Cr)}pr=pr.sibling}}var $m=8192;function am(hr,pr,br){if(hr.subtreeFlags&$m)for(hr=hr.child;hr!==null;)jb(hr,pr,br),hr=hr.sibling}function jb(hr,pr,br){switch(hr.tag){case 26:am(hr,pr,br),hr.flags&$m&&hr.memoizedState!==null&&ov(br,ap,hr.memoizedState,hr.memoizedProps);break;case 5:am(hr,pr,br);break;case 3:case 4:var Cr=ap;ap=$b(hr.stateNode.containerInfo),am(hr,pr,br),ap=Cr;break;case 22:hr.memoizedState===null&&(Cr=hr.alternate,Cr!==null&&Cr.memoizedState!==null?(Cr=$m,$m=16777216,am(hr,pr,br),$m=Cr):am(hr,pr,br));break;default:am(hr,pr,br)}}function Rb(hr){var pr=hr.alternate;if(pr!==null&&(hr=pr.child,hr!==null)){pr.child=null;do pr=hr.sibling,hr.sibling=null,hr=pr;while(hr!==null)}}function lp(hr){var pr=hr.deletions;if((hr.flags&16)!==0){if(pr!==null)for(var br=0;br<pr.length;br++){var Cr=pr[br];Xh=Cr,Nv(Cr,hr)}Rb(hr)}if(hr.subtreeFlags&10256)for(hr=hr.child;hr!==null;)Mv(hr),hr=hr.sibling}function Mv(hr){switch(hr.tag){case 0:case 11:case 15:lp(hr),hr.flags&2048&&sm(9,hr,hr.return);break;case 3:lp(hr);break;case 12:lp(hr);break;case 22:var pr=hr.stateNode;hr.memoizedState!==null&&pr._visibility&2&&(hr.return===null||hr.return.tag!==13)?(pr._visibility&=-3,Qg(hr)):lp(hr);break;default:lp(hr)}}function Qg(hr){var pr=hr.deletions;if((hr.flags&16)!==0){if(pr!==null)for(var br=0;br<pr.length;br++){var Cr=pr[br];Xh=Cr,Nv(Cr,hr)}Rb(hr)}for(hr=hr.child;hr!==null;){switch(pr=hr,pr.tag){case 0:case 11:case 15:sm(8,pr,pr.return),Qg(pr);break;case 22:br=pr.stateNode,br._visibility&2&&(br._visibility&=-3,Qg(pr));break;default:Qg(pr)}hr=hr.sibling}}function Nv(hr,pr){for(;Xh!==null;){var br=Xh;switch(br.tag){case 0:case 11:case 15:sm(8,br,pr);break;case 23:case 22:if(br.memoizedState!==null&&br.memoizedState.cachePool!==null){var Cr=br.memoizedState.cachePool.pool;Cr!=null&&Cr.refCount++}break;case 24:kp(br.memoizedState.cache)}if(Cr=br.child,Cr!==null)Cr.return=br,Xh=Cr;else e:for(br=hr;Xh!==null;){Cr=Xh;var Wr=Cr.sibling,Xr=Cr.return;if(zy(Cr),Cr===br){Xh=null;break e}if(Wr!==null){Wr.return=Xr,Xh=Wr;break e}Xh=Xr}}}var Im={getCacheForType:function(hr){var pr=ed(Mh),br=pr.data.get(hr);return br===void 0&&(br=hr(),pr.data.set(hr,br)),br},cacheSignal:function(){return ed(Mh).controller.signal}},Hx=typeof WeakMap=="function"?WeakMap:Map,pu=0,Xu=null,Vc=null,lu=0,Nu=0,vd=null,Fm=!1,yg=!1,Ov=!1,cp=0,vh=0,Bm=0,vg=0,Wx=0,ff=0,bg=0,Gx=null,Zd=null,Lv=!1,zm=0,$v=0,_g=1/0,Jg=null,up=null,Fh=0,om=null,ex=null,$p=0,Iv=0,Fv=null,Cb=null,Vx=0,Bv=null;function Qd(){return(pu&2)!==0&&lu!==0?lu&-lu:so.T!==null?pf():bu()}function kb(){if(ff===0)if((lu&536870912)===0||Uc){var hr=qc;qc<<=1,(qc&3932160)===0&&(qc=262144),ff=hr}else ff=536870912;return hr=md.current,hr!==null&&(hr.flags|=32),ff}function Od(hr,pr,br){(hr===Xu&&(Nu===2||Nu===9)||hr.cancelPendingCommit!==null)&&(tx(hr,0),hp(hr,lu,ff,!1)),Hl(hr,br),((pu&2)===0||hr!==Xu)&&(hr===Xu&&((pu&2)===0&&(vg|=br),vh===4&&hp(hr,lu,ff,!1)),Ip(hr))}function Ab(hr,pr,br){if((pu&6)!==0)throw Error(nr(327));var Cr=!br&&(pr&127)===0&&(pr&hr.expiredLanes)===0||Kc(hr,pr),Wr=Cr?r0(hr,pr):Xy(hr,pr,!0),Xr=Cr;do{if(Wr===0){yg&&!Cr&&hp(hr,pr,0,!1);break}else{if(br=hr.current.alternate,Xr&&!zv(br)){Wr=Xy(hr,pr,!1),Xr=!1;continue}if(Wr===2){if(Xr=pr,hr.errorRecoveryDisabledLanes&Xr)var go=0;else go=hr.pendingLanes&-536870913,go=go!==0?go:go&536870912?536870912:0;if(go!==0){pr=go;e:{var ko=hr;Wr=Gx;var Ho=ko.current.memoizedState.isDehydrated;if(Ho&&(tx(ko,go).flags|=256),go=Xy(ko,go,!1),go!==2){if(Ov&&!Ho){ko.errorRecoveryDisabledLanes|=Xr,vg|=Xr,Wr=4;break e}Xr=Zd,Zd=Wr,Xr!==null&&(Zd===null?Zd=Xr:Zd.push.apply(Zd,Xr))}Wr=go}if(Xr=!1,Wr!==2)continue}}if(Wr===1){tx(hr,0),hp(hr,pr,0,!0);break}e:{switch(Cr=hr,Xr=Wr,Xr){case 0:case 1:throw Error(nr(345));case 4:if((pr&4194048)!==pr)break;case 6:hp(Cr,pr,ff,!Fm);break e;case 2:Zd=null;break;case 3:case 5:break;default:throw Error(nr(329))}if((pr&62914560)===pr&&(Wr=zm+300-ic(),10<Wr)){if(hp(Cr,pr,ff,!Fm),vu(Cr,0,!0)!==0)break e;$p=pr,Cr.timeoutHandle=pc(Tb.bind(null,Cr,br,Zd,Jg,Lv,pr,ff,vg,bg,Fm,Xr,"Throttled",-0,0),Wr);break e}Tb(Cr,br,Zd,Jg,Lv,pr,ff,vg,bg,Fm,Xr,null,-0,0)}}break}while(!0);Ip(hr)}function Tb(hr,pr,br,Cr,Wr,Xr,go,ko,Ho,ol,bl,El,cl,dl){if(hr.timeoutHandle=-1,El=pr.subtreeFlags,El&8192||(El&16785408)===16785408){El={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qu},jb(pr,Xr,El);var nc=(Xr&62914560)===Xr?zm-ic():(Xr&4194048)===Xr?$v-ic():0;if(nc=Z0(El,nc),nc!==null){$p=Xr,hr.cancelPendingCommit=nc(Gv.bind(null,hr,pr,Xr,br,Cr,Wr,go,ko,Ho,bl,El,null,cl,dl)),hp(hr,Xr,go,!ol);return}}Gv(hr,pr,Xr,br,Cr,Wr,go,ko,Ho)}function zv(hr){for(var pr=hr;;){var br=pr.tag;if((br===0||br===11||br===15)&&pr.flags&16384&&(br=pr.updateQueue,br!==null&&(br=br.stores,br!==null)))for(var Cr=0;Cr<br.length;Cr++){var Wr=br[Cr],Xr=Wr.getSnapshot;Wr=Wr.value;try{if(!zu(Xr(),Wr))return!1}catch{return!1}}if(br=pr.child,pr.subtreeFlags&16384&&br!==null)br.return=pr,pr=br;else{if(pr===hr)break;for(;pr.sibling===null;){if(pr.return===null||pr.return===hr)return!0;pr=pr.return}pr.sibling.return=pr.return,pr=pr.sibling}}return!0}function hp(hr,pr,br,Cr){pr&=~Wx,pr&=~vg,hr.suspendedLanes|=pr,hr.pingedLanes&=~pr,Cr&&(hr.warmLanes|=pr),Cr=hr.expirationTimes;for(var Wr=pr;0<Wr;){var Xr=31-hl(Wr),go=1<<Xr;Cr[Xr]=-1,Wr&=~go}br!==0&&sl(hr,br,pr)}function Yy(){return(pu&6)===0?(Qx(0),!1):!0}function Ux(){if(Vc!==null){if(Nu===0)var hr=Vc.return;else hr=Vc,Dh=Cc=null,mv(hr),Zp=null,Td=0,hr=Vc;for(;hr!==null;)Kg(hr.alternate,hr),hr=hr.return;Vc=null}}function tx(hr,pr){var br=hr.timeoutHandle;br!==-1&&(hr.timeoutHandle=-1,mu(br)),br=hr.cancelPendingCommit,br!==null&&(hr.cancelPendingCommit=null,br()),$p=0,Ux(),Xu=hr,Vc=br=Vu(hr.current,null),lu=pr,Nu=0,vd=null,Fm=!1,yg=Kc(hr,pr),Ov=!1,bg=ff=Wx=vg=Bm=vh=0,Zd=Gx=null,Lv=!1,(pr&8)!==0&&(pr|=pr&32);var Cr=hr.entangledLanes;if(Cr!==0)for(hr=hr.entanglements,Cr&=pr;0<Cr;){var Wr=31-hl(Cr),Xr=1<<Wr;pr|=hr[Wr],Cr&=~Xr}return cp=pr,Oh(),br}function Pb(hr,pr){Nc=null,so.H=Np,pr===Cm||pr===sg?(pr=ab(),Nu=3):pr===uy?(pr=ab(),Nu=4):Nu=pr===Xd?8:pr!==null&&typeof pr=="object"&&typeof pr.then=="function"?6:1,vd=pr,Vc===null&&(vh=1,Px(hr,Rr(pr,hr.current)))}function Yx(){var hr=md.current;return hr===null?!0:(lu&4194048)===lu?Df===null:(lu&62914560)===lu||(lu&536870912)!==0?hr===Df:!1}function Hv(){var hr=so.H;return so.H=Np,hr===null?Np:hr}function Db(){var hr=so.A;return so.A=Im,hr}function Xx(){vh=4,Fm||(lu&4194048)!==lu&&md.current!==null||(yg=!0),(Bm&134217727)===0&&(vg&134217727)===0||Xu===null||hp(Xu,lu,ff,!1)}function Xy(hr,pr,br){var Cr=pu;pu|=2;var Wr=Hv(),Xr=Db();(Xu!==hr||lu!==pr)&&(Jg=null,tx(hr,pr)),pr=!1;var go=vh;e:do try{if(Nu!==0&&Vc!==null){var ko=Vc,Ho=vd;switch(Nu){case 8:Ux(),go=6;break e;case 3:case 2:case 9:case 6:md.current===null&&(pr=!0);var ol=Nu;if(Nu=0,vd=null,nx(hr,ko,Ho,ol),br&&yg){go=0;break e}break;default:ol=Nu,Nu=0,vd=null,nx(hr,ko,Ho,ol)}}i0(),go=vh;break}catch(bl){Pb(hr,bl)}while(!0);return pr&&hr.shellSuspendCounter++,Dh=Cc=null,pu=Cr,so.H=Wr,so.A=Xr,Vc===null&&(Xu=null,lu=0,Oh()),go}function i0(){for(;Vc!==null;)Wv(Vc)}function r0(hr,pr){var br=pu;pu|=2;var Cr=Hv(),Wr=Db();Xu!==hr||lu!==pr?(Jg=null,_g=ic()+500,tx(hr,pr)):yg=Kc(hr,pr);e:do try{if(Nu!==0&&Vc!==null){pr=Vc;var Xr=vd;t:switch(Nu){case 1:Nu=0,vd=null,nx(hr,pr,Xr,1);break;case 2:case 9:if(sb(Xr)){Nu=0,vd=null,Mb(pr);break}pr=function(){Nu!==2&&Nu!==9||Xu!==hr||(Nu=7),Ip(hr)},Xr.then(pr,pr);break e;case 3:Nu=7;break e;case 4:Nu=5;break e;case 7:sb(Xr)?(Nu=0,vd=null,Mb(pr)):(Nu=0,vd=null,nx(hr,pr,Xr,7));break;case 5:var go=null;switch(Vc.tag){case 26:go=Vc.memoizedState;case 5:case 27:var ko=Vc;if(go?k0(go):ko.stateNode.complete){Nu=0,vd=null;var Ho=ko.sibling;if(Ho!==null)Vc=Ho;else{var ol=ko.return;ol!==null?(Vc=ol,qy(ol)):Vc=null}break t}}Nu=0,vd=null,nx(hr,pr,Xr,5);break;case 6:Nu=0,vd=null,nx(hr,pr,Xr,6);break;case 8:Ux(),vh=6;break e;default:throw Error(nr(462))}}s0();break}catch(bl){Pb(hr,bl)}while(!0);return Dh=Cc=null,so.H=Cr,so.A=Wr,pu=br,Vc!==null?0:(Xu=null,lu=0,Oh(),vh)}function s0(){for(;Vc!==null&&!Jc();)Wv(Vc)}function Wv(hr){var pr=vb(hr.alternate,hr,cp);hr.memoizedProps=hr.pendingProps,pr===null?qy(hr):Vc=pr}function Mb(hr){var pr=hr,br=pr.alternate;switch(pr.tag){case 15:case 0:pr=Dy(br,pr,pr.pendingProps,pr.type,void 0,lu);break;case 11:pr=Dy(br,pr,pr.pendingProps,pr.type.render,pr.ref,lu);break;case 5:mv(pr);default:Kg(br,pr),pr=Vc=ju(pr,cp),pr=vb(br,pr,cp)}hr.memoizedProps=hr.pendingProps,pr===null?qy(hr):Vc=pr}function nx(hr,pr,br,Cr){Dh=Cc=null,mv(pr),Zp=null,Td=0;var Wr=pr.return;try{if(Yg(hr,Wr,pr,br,lu)){vh=1,Px(hr,Rr(br,hr.current)),Vc=null;return}}catch(Xr){if(Wr!==null)throw Vc=Wr,Xr;vh=1,Px(hr,Rr(br,hr.current)),Vc=null;return}pr.flags&32768?(Uc||Cr===1?hr=!0:yg||(lu&536870912)!==0?hr=!1:(Fm=hr=!0,(Cr===2||Cr===9||Cr===3||Cr===6)&&(Cr=md.current,Cr!==null&&Cr.tag===13&&(Cr.flags|=16384))),qx(pr,hr)):qy(pr)}function qy(hr){var pr=hr;do{if((pr.flags&32768)!==0){qx(pr,Fm);return}hr=pr.return;var br=Iy(pr.alternate,pr,cp);if(br!==null){Vc=br;return}if(pr=pr.sibling,pr!==null){Vc=pr;return}Vc=pr=hr}while(pr!==null);vh===0&&(vh=5)}function qx(hr,pr){do{var br=rp(hr.alternate,hr);if(br!==null){br.flags&=32767,Vc=br;return}if(br=hr.return,br!==null&&(br.flags|=32768,br.subtreeFlags=0,br.deletions=null),!pr&&(hr=hr.sibling,hr!==null)){Vc=hr;return}Vc=hr=br}while(hr!==null);vh=6,Vc=null}function Gv(hr,pr,br,Cr,Wr,Xr,go,ko,Ho){hr.cancelPendingCommit=null;do Kx();while(Fh!==0);if((pu&6)!==0)throw Error(nr(327));if(pr!==null){if(pr===hr.current)throw Error(nr(177));if(Xr=pr.lanes|pr.childLanes,Xr|=Yh,ah(hr,br,Xr,go,ko,Ho),hr===Xu&&(Vc=Xu=null,lu=0),ex=pr,om=hr,$p=br,Iv=Xr,Fv=Wr,Cb=Cr,(pr.subtreeFlags&10256)!==0||(pr.flags&10256)!==0?(hr.callbackNode=null,hr.callbackPriority=0,o0(Oc,function(){return Jy(),null})):(hr.callbackNode=null,hr.callbackPriority=0),Cr=(pr.flags&13878)!==0,(pr.subtreeFlags&13878)!==0||Cr){Cr=so.T,so.T=null,Wr=no.p,no.p=2,go=pu,pu|=4;try{By(hr,pr,br)}finally{pu=go,no.p=Wr,so.T=Cr}}Fh=1,Ky(),Vv(),Zy()}}function Ky(){if(Fh===1){Fh=0;var hr=om,pr=ex,br=(pr.flags&13878)!==0;if((pr.subtreeFlags&13878)!==0||br){br=so.T,so.T=null;var Cr=no.p;no.p=2;var Wr=pu;pu|=4;try{Sb(pr,hr);var Xr=Ml,go=ng(hr.containerInfo),ko=Xr.focusedElem,Ho=Xr.selectionRange;if(go!==ko&&ko&&ko.ownerDocument&&tg(ko.ownerDocument.documentElement,ko)){if(Ho!==null&&yp(ko)){var ol=Ho.start,bl=Ho.end;if(bl===void 0&&(bl=ol),"selectionStart"in ko)ko.selectionStart=ol,ko.selectionEnd=Math.min(bl,ko.value.length);else{var El=ko.ownerDocument||document,cl=El&&El.defaultView||window;if(cl.getSelection){var dl=cl.getSelection(),nc=ko.textContent.length,_c=Math.min(Ho.start,nc),sh=Ho.end===void 0?_c:Math.min(Ho.end,nc);!dl.extend&&_c>sh&&(go=sh,sh=_c,_c=go);var el=eg(ko,_c),qo=eg(ko,sh);if(el&&qo&&(dl.rangeCount!==1||dl.anchorNode!==el.node||dl.anchorOffset!==el.offset||dl.focusNode!==qo.node||dl.focusOffset!==qo.offset)){var al=El.createRange();al.setStart(el.node,el.offset),dl.removeAllRanges(),_c>sh?(dl.addRange(al),dl.extend(qo.node,qo.offset)):(al.setEnd(qo.node,qo.offset),dl.addRange(al))}}}}for(El=[],dl=ko;dl=dl.parentNode;)dl.nodeType===1&&El.push({element:dl,left:dl.scrollLeft,top:dl.scrollTop});for(typeof ko.focus=="function"&&ko.focus(),ko=0;ko<El.length;ko++){var wl=El[ko];wl.element.scrollLeft=wl.left,wl.element.scrollTop=wl.top}}Wb=!!Zl,Ml=Zl=null}finally{pu=Wr,no.p=Cr,so.T=br}}hr.current=pr,Fh=2}}function Vv(){if(Fh===2){Fh=0;var hr=om,pr=ex,br=(pr.flags&8772)!==0;if((pr.subtreeFlags&8772)!==0||br){br=so.T,so.T=null;var Cr=no.p;no.p=2;var Wr=pu;pu|=4;try{Fx(hr,pr.alternate,pr)}finally{pu=Wr,no.p=Cr,so.T=br}}Fh=3}}function Zy(){if(Fh===4||Fh===3){Fh=0,Yl();var hr=om,pr=ex,br=$p,Cr=Cb;(pr.subtreeFlags&10256)!==0||(pr.flags&10256)!==0?Fh=5:(Fh=0,ex=om=null,Qy(hr,hr.pendingLanes));var Wr=hr.pendingLanes;if(Wr===0&&(up=null),kl(br),pr=pr.stateNode,rl&&typeof rl.onCommitFiberRoot=="function")try{rl.onCommitFiberRoot(Il,pr,void 0,(pr.current.flags&128)===128)}catch{}if(Cr!==null){pr=so.T,Wr=no.p,no.p=2,so.T=null;try{for(var Xr=hr.onRecoverableError,go=0;go<Cr.length;go++){var ko=Cr[go];Xr(ko.value,{componentStack:ko.stack})}}finally{so.T=pr,no.p=Wr}}($p&3)!==0&&Kx(),Ip(hr),Wr=hr.pendingLanes,(br&261930)!==0&&(Wr&42)!==0?hr===Bv?Vx++:(Vx=0,Bv=hr):Vx=0,Qx(0)}}function Qy(hr,pr){(hr.pooledCacheLanes&=pr)===0&&(pr=hr.pooledCache,pr!=null&&(hr.pooledCache=null,kp(pr)))}function Kx(){return Ky(),Vv(),Zy(),Jy()}function Jy(){if(Fh!==5)return!1;var hr=om,pr=Iv;Iv=0;var br=kl($p),Cr=so.T,Wr=no.p;try{no.p=32>br?32:br,so.T=null,br=Fv,Fv=null;var Xr=om,go=$p;if(Fh=0,ex=om=null,$p=0,(pu&6)!==0)throw Error(nr(331));var ko=pu;if(pu|=4,Mv(Xr.current),Uy(Xr,Xr.current,go,br),pu=ko,Qx(0,!1),rl&&typeof rl.onPostCommitFiberRoot=="function")try{rl.onPostCommitFiberRoot(Il,Xr)}catch{}return!0}finally{no.p=Wr,so.T=Cr,Qy(hr,pr)}}function Uv(hr,pr,br){pr=Rr(br,pr),pr=Rv(hr.stateNode,pr,2),hr=Dd(hr,pr,2),hr!==null&&(Hl(hr,2),Ip(hr))}function Ou(hr,pr,br){if(hr.tag===3)Uv(hr,hr,br);else for(;pr!==null;){if(pr.tag===3){Uv(pr,hr,br);break}else if(pr.tag===1){var Cr=pr.stateNode;if(typeof pr.type.getDerivedStateFromError=="function"||typeof Cr.componentDidCatch=="function"&&(up===null||!up.has(Cr))){hr=Rr(br,hr),br=Nd(2),Cr=Dd(pr,br,2),Cr!==null&&(Ty(br,Cr,pr,hr),Hl(Cr,2),Ip(Cr));break}}pr=pr.return}}function ev(hr,pr,br){var Cr=hr.pingCache;if(Cr===null){Cr=hr.pingCache=new Hx;var Wr=new Set;Cr.set(pr,Wr)}else Wr=Cr.get(pr),Wr===void 0&&(Wr=new Set,Cr.set(pr,Wr));Wr.has(br)||(Ov=!0,Wr.add(br),hr=a0.bind(null,hr,pr,br),pr.then(hr,hr))}function a0(hr,pr,br){var Cr=hr.pingCache;Cr!==null&&Cr.delete(pr),hr.pingedLanes|=hr.suspendedLanes&br,hr.warmLanes&=~br,Xu===hr&&(lu&br)===br&&(vh===4||vh===3&&(lu&62914560)===lu&&300>ic()-zm?(pu&2)===0&&tx(hr,0):Wx|=br,bg===lu&&(bg=0)),Ip(hr)}function ix(hr,pr){pr===0&&(pr=Ic()),hr=kd(hr,pr),hr!==null&&(Hl(hr,pr),Ip(hr))}function tv(hr){var pr=hr.memoizedState,br=0;pr!==null&&(br=pr.retryLane),ix(hr,br)}function Yv(hr,pr){var br=0;switch(hr.tag){case 31:case 13:var Cr=hr.stateNode,Wr=hr.memoizedState;Wr!==null&&(br=Wr.retryLane);break;case 19:Cr=hr.stateNode;break;case 22:Cr=hr.stateNode._retryCache;break;default:throw Error(nr(314))}Cr!==null&&Cr.delete(pr),ix(hr,br)}function o0(hr,pr){return Hc(hr,pr)}var wg=null,Hm=null,Xv=!1,nv=!1,Zx=!1,Wm=0;function Ip(hr){hr!==Hm&&hr.next===null&&(Hm===null?wg=Hm=hr:Hm=Hm.next=hr),nv=!0,Xv||(Xv=!0,c0())}function Qx(hr,pr){if(!Zx&&nv){Zx=!0;do for(var br=!1,Cr=wg;Cr!==null;){if(hr!==0){var Wr=Cr.pendingLanes;if(Wr===0)var Xr=0;else{var go=Cr.suspendedLanes,ko=Cr.pingedLanes;Xr=(1<<31-hl(42|hr)+1)-1,Xr&=Wr&~(go&~ko),Xr=Xr&201326741?Xr&201326741|1:Xr?Xr|2:0}Xr!==0&&(br=!0,Lb(Cr,Xr))}else Xr=lu,Xr=vu(Cr,Cr===Xu?Xr:0,Cr.cancelPendingCommit!==null||Cr.timeoutHandle!==-1),(Xr&3)===0||Kc(Cr,Xr)||(br=!0,Lb(Cr,Xr));Cr=Cr.next}while(br);Zx=!1}}function l0(){Nb()}function Nb(){nv=Xv=!1;var hr=0;Wm!==0&&gc()&&(hr=Wm);for(var pr=ic(),br=null,Cr=wg;Cr!==null;){var Wr=Cr.next,Xr=Ob(Cr,pr);Xr===0?(Cr.next=null,br===null?wg=Wr:br.next=Wr,Wr===null&&(Hm=br)):(br=Cr,(hr!==0||(Xr&3)!==0)&&(nv=!0)),Cr=Wr}Fh!==0&&Fh!==5||Qx(hr),Wm!==0&&(Wm=0)}function Ob(hr,pr){for(var br=hr.suspendedLanes,Cr=hr.pingedLanes,Wr=hr.expirationTimes,Xr=hr.pendingLanes&-62914561;0<Xr;){var go=31-hl(Xr),ko=1<<go,Ho=Wr[go];Ho===-1?((ko&br)===0||(ko&Cr)!==0)&&(Wr[go]=uc(ko,pr)):Ho<=pr&&(hr.expiredLanes|=ko),Xr&=~ko}if(pr=Xu,br=lu,br=vu(hr,hr===pr?br:0,hr.cancelPendingCommit!==null||hr.timeoutHandle!==-1),Cr=hr.callbackNode,br===0||hr===pr&&(Nu===2||Nu===9)||hr.cancelPendingCommit!==null)return Cr!==null&&Cr!==null&&Vl(Cr),hr.callbackNode=null,hr.callbackPriority=0;if((br&3)===0||Kc(hr,br)){if(pr=br&-br,pr===hr.callbackPriority)return pr;switch(Cr!==null&&Vl(Cr),kl(br)){case 2:case 8:br=Sc;break;case 32:br=Oc;break;case 268435456:br=Ql;break;default:br=Oc}return Cr=Jx.bind(null,hr),br=Hc(br,Cr),hr.callbackPriority=pr,hr.callbackNode=br,pr}return Cr!==null&&Cr!==null&&Vl(Cr),hr.callbackPriority=2,hr.callbackNode=null,2}function Jx(hr,pr){if(Fh!==0&&Fh!==5)return hr.callbackNode=null,hr.callbackPriority=0,null;var br=hr.callbackNode;if(Kx()&&hr.callbackNode!==br)return null;var Cr=lu;return Cr=vu(hr,hr===Xu?Cr:0,hr.cancelPendingCommit!==null||hr.timeoutHandle!==-1),Cr===0?null:(Ab(hr,Cr,pr),Ob(hr,ic()),hr.callbackNode!=null&&hr.callbackNode===br?Jx.bind(null,hr):null)}function Lb(hr,pr){if(Kx())return null;Ab(hr,pr,!0)}function c0(){Bu(function(){(pu&6)!==0?Hc(Xc,l0):Nb()})}function pf(){if(Wm===0){var hr=Ig;hr===0&&(hr=oc,oc<<=1,(oc&261888)===0&&(oc=256)),Wm=hr}return Wm}function Ur(hr){return hr==null||typeof hr=="symbol"||typeof hr=="boolean"?null:typeof hr=="function"?hr:Zu(""+hr)}function mr(hr,pr){var br=pr.ownerDocument.createElement("input");return br.name=pr.name,br.value=pr.value,hr.id&&br.setAttribute("form",hr.id),pr.parentNode.insertBefore(br,pr),hr=new FormData(hr),br.parentNode.removeChild(br),hr}function vr(hr,pr,br,Cr,Wr){if(pr==="submit"&&br&&br.stateNode===Wr){var Xr=Ur((Wr[eu]||null).action),go=Cr.submitter;go&&(pr=(pr=go[eu]||null)?Ur(pr.formAction):go.getAttribute("formAction"),pr!==null&&(Xr=pr,go=null));var ko=new pm("action","action",null,Cr,Wr);hr.push({event:ko,listeners:[{instance:null,listener:function(){if(Cr.defaultPrevented){if(Wm!==0){var Ho=go?mr(Wr,go):new FormData(Wr);Dp(br,{pending:!0,data:Ho,method:Wr.method,action:Xr},null,Ho)}}else typeof Xr=="function"&&(ko.preventDefault(),Ho=go?mr(Wr,go):new FormData(Wr),Dp(br,{pending:!0,data:Ho,method:Wr.method,action:Xr},Xr,Ho))},currentTarget:Wr}]})}}for(var Er=0;Er<Cd.length;Er++){var Tr=Cd[Er],Pr=Tr.toLowerCase(),Nr=Tr[0].toUpperCase()+Tr.slice(1);Jh(Pr,"on"+Nr)}Jh(Uh,"onAnimationEnd"),Jh(vp,"onAnimationIteration"),Jh(Up,"onAnimationStart"),Jh("dblclick","onDoubleClick"),Jh("focusin","onFocus"),Jh("focusout","onBlur"),Jh(bm,"onTransitionRun"),Jh(bp,"onTransitionStart"),Jh(_m,"onTransitionCancel"),Jh(su,"onTransitionEnd"),Nh("onMouseEnter",["mouseout","mouseover"]),Nh("onMouseLeave",["mouseout","mouseover"]),Nh("onPointerEnter",["pointerout","pointerover"]),Nh("onPointerLeave",["pointerout","pointerover"]),fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fh("onBeforeInput",["compositionend","keypress","textInput","paste"]),fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($r));function qr(hr,pr){pr=(pr&4)!==0;for(var br=0;br<hr.length;br++){var Cr=hr[br],Wr=Cr.event;Cr=Cr.listeners;e:{var Xr=void 0;if(pr)for(var go=Cr.length-1;0<=go;go--){var ko=Cr[go],Ho=ko.instance,ol=ko.currentTarget;if(ko=ko.listener,Ho!==Xr&&Wr.isPropagationStopped())break e;Xr=ko,Wr.currentTarget=ol;try{Xr(Wr)}catch(bl){_p(bl)}Wr.currentTarget=null,Xr=Ho}else for(go=0;go<Cr.length;go++){if(ko=Cr[go],Ho=ko.instance,ol=ko.currentTarget,ko=ko.listener,Ho!==Xr&&Wr.isPropagationStopped())break e;Xr=ko,Wr.currentTarget=ol;try{Xr(Wr)}catch(bl){_p(bl)}Wr.currentTarget=null,Xr=Ho}}}}function Jr(hr,pr){var br=pr[ac];br===void 0&&(br=pr[ac]=new Set);var Cr=hr+"__bubble";br.has(Cr)||(mo(pr,hr,2,!1),br.add(Cr))}function Kr(hr,pr,br){var Cr=0;pr&&(Cr|=4),mo(br,hr,Cr,pr)}var ro="_reactListening"+Math.random().toString(36).slice(2);function fo(hr){if(!hr[ro]){hr[ro]=!0,Hh.forEach(function(br){br!=="selectionchange"&&(zr.has(br)||Kr(br,!1,hr),Kr(br,!0,hr))});var pr=hr.nodeType===9?hr:hr.ownerDocument;pr===null||pr[ro]||(pr[ro]=!0,Kr("selectionchange",!1,pr))}}function mo(hr,pr,br,Cr){switch(L0(pr)){case 2:var Wr=J0;break;case 8:Wr=e1;break;default:Wr=p0}br=Wr.bind(null,pr,br,hr),Wr=void 0,!hm||pr!=="touchstart"&&pr!=="touchmove"&&pr!=="wheel"||(Wr=!0),Cr?Wr!==void 0?hr.addEventListener(pr,br,{capture:!0,passive:Wr}):hr.addEventListener(pr,br,!0):Wr!==void 0?hr.addEventListener(pr,br,{passive:Wr}):hr.addEventListener(pr,br,!1)}function bo(hr,pr,br,Cr,Wr){var Xr=Cr;if((pr&1)===0&&(pr&2)===0&&Cr!==null)e:for(;;){if(Cr===null)return;var go=Cr.tag;if(go===3||go===4){var ko=Cr.stateNode.containerInfo;if(ko===Wr)break;if(go===4)for(go=Cr.return;go!==null;){var Ho=go.tag;if((Ho===3||Ho===4)&&go.stateNode.containerInfo===Wr)return;go=go.return}for(;ko!==null;){if(go=Bh(ko),go===null)return;if(Ho=go.tag,Ho===5||Ho===6||Ho===26||Ho===27){Cr=Xr=go;continue e}ko=ko.parentNode}}Cr=Cr.return}Um(function(){var ol=Xr,bl=Vm(br),El=[];e:{var cl=mx.get(hr);if(cl!==void 0){var dl=pm,nc=hr;switch(hr){case"keypress":if(dm(br)===0)break e;case"keydown":case"keyup":dl=wf;break;case"focusin":nc="focus",dl=Ag;break;case"focusout":nc="blur",dl=Ag;break;case"beforeblur":case"afterblur":dl=Ag;break;case"click":if(br.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dl=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dl=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dl=dx;break;case Uh:case vp:case Up:dl=pp;break;case su:dl=oy;break;case"scroll":case"scrollend":dl=Mc;break;case"wheel":dl=Ef;break;case"copy":case"cut":case"paste":dl=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dl=sy;break;case"toggle":case"beforetoggle":dl=zp}var _c=(pr&4)!==0,sh=!_c&&(hr==="scroll"||hr==="scrollend"),el=_c?cl!==null?cl+"Capture":null:cl;_c=[];for(var qo=ol,al;qo!==null;){var wl=qo;if(al=wl.stateNode,wl=wl.tag,wl!==5&&wl!==26&&wl!==27||al===null||el===null||(wl=Wf(qo,el),wl!=null&&_c.push(vo(qo,wl,al))),sh)break;qo=qo.return}0<_c.length&&(cl=new dl(cl,nc,null,br,bl),El.push({event:cl,listeners:_c}))}}if((pr&7)===0){e:{if(cl=hr==="mouseover"||hr==="pointerover",dl=hr==="mouseout"||hr==="pointerout",cl&&br!==Hf&&(nc=br.relatedTarget||br.fromElement)&&(Bh(nc)||nc[Zc]))break e;if((dl||cl)&&(cl=bl.window===bl?bl:(cl=bl.ownerDocument)?cl.defaultView||cl.parentWindow:window,dl?(nc=br.relatedTarget||br.toElement,dl=ol,nc=nc?Bh(nc):null,nc!==null&&(sh=rr(nc),_c=nc.tag,nc!==sh||_c!==5&&_c!==27&&_c!==6)&&(nc=null)):(dl=null,nc=ol),dl!==nc)){if(_c=Ym,wl="onMouseLeave",el="onMouseEnter",qo="mouse",(hr==="pointerout"||hr==="pointerover")&&(_c=sy,wl="onPointerLeave",el="onPointerEnter",qo="pointer"),sh=dl==null?cl:Fc(dl),al=nc==null?cl:Fc(nc),cl=new _c(wl,qo+"leave",dl,br,bl),cl.target=sh,cl.relatedTarget=al,wl=null,Bh(bl)===ol&&(_c=new _c(el,qo+"enter",nc,br,bl),_c.target=al,_c.relatedTarget=sh,wl=_c),sh=wl,dl&&nc)t:{for(_c=To,el=dl,qo=nc,al=0,wl=el;wl;wl=_c(wl))al++;wl=0;for(var hc=qo;hc;hc=_c(hc))wl++;for(;0<al-wl;)el=_c(el),al--;for(;0<wl-al;)qo=_c(qo),wl--;for(;al--;){if(el===qo||qo!==null&&el===qo.alternate){_c=el;break t}el=_c(el),qo=_c(qo)}_c=null}else _c=null;dl!==null&&Do(El,cl,dl,_c,!1),nc!==null&&sh!==null&&Do(El,sh,nc,_c,!0)}}e:{if(cl=ol?Fc(ol):window,dl=cl.nodeName&&cl.nodeName.toLowerCase(),dl==="select"||dl==="input"&&cl.type==="file")var Lu=af;else if(dd(cl))if(Wp)Lu=Mg;else{Lu=hv;var sc=Fd}else dl=cl.nodeName,!dl||dl.toLowerCase()!=="input"||cl.type!=="checkbox"&&cl.type!=="radio"?ol&&vc(ol.elementType)&&(Lu=af):Lu=vm;if(Lu&&(Lu=Lu(hr,ol))){px(El,Lu,br,bl);break e}sc&&sc(hr,cl,ol),hr==="focusout"&&ol&&cl.type==="number"&&ol.memoizedProps.value!=null&&ud(cl,"number",cl.value)}switch(sc=ol?Fc(ol):window,hr){case"focusin":(dd(sc)||sc.contentEditable==="true")&&(Zo=sc,vl=ol,ul=null);break;case"focusout":ul=vl=Zo=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,dc(El,br,bl);break;case"selectionchange":if(Bd)break;case"keydown":case"keyup":dc(El,br,bl)}var Qc;if(Km)e:{switch(hr){case"compositionstart":var xu="onCompositionStart";break e;case"compositionend":xu="onCompositionEnd";break e;case"compositionupdate":xu="onCompositionUpdate";break e}xu=void 0}else Hp?Pg(hr,br)&&(xu="onCompositionEnd"):hr==="keydown"&&br.keyCode===229&&(xu="onCompositionStart");xu&&(Sf&&br.locale!=="ko"&&(Hp||xu!=="onCompositionStart"?xu==="onCompositionEnd"&&Hp&&(Qc=nu()):(bf=bl,tf="value"in bf?bf.value:bf.textContent,Hp=!0)),sc=yo(ol,xu),0<sc.length&&(xu=new wh(xu,hr,null,br,bl),El.push({event:xu,listeners:sc}),Qc?xu.data=Qc:(Qc=fx(br),Qc!==null&&(xu.data=Qc)))),(Qc=Tg?Gu(hr,br):jf(hr,br))&&(xu=yo(ol,"onBeforeInput"),0<xu.length&&(sc=new wh("onBeforeInput","beforeinput",null,br,bl),El.push({event:sc,listeners:xu}),sc.data=Qc)),vr(El,hr,ol,br,bl)}qr(El,pr)})}function vo(hr,pr,br){return{instance:hr,listener:pr,currentTarget:br}}function yo(hr,pr){for(var br=pr+"Capture",Cr=[];hr!==null;){var Wr=hr,Xr=Wr.stateNode;if(Wr=Wr.tag,Wr!==5&&Wr!==26&&Wr!==27||Xr===null||(Wr=Wf(hr,br),Wr!=null&&Cr.unshift(vo(hr,Wr,Xr)),Wr=Wf(hr,pr),Wr!=null&&Cr.push(vo(hr,Wr,Xr))),hr.tag===3)return Cr;hr=hr.return}return[]}function To(hr){if(hr===null)return null;do hr=hr.return;while(hr&&hr.tag!==5&&hr.tag!==27);return hr||null}function Do(hr,pr,br,Cr,Wr){for(var Xr=pr._reactName,go=[];br!==null&&br!==Cr;){var ko=br,Ho=ko.alternate,ol=ko.stateNode;if(ko=ko.tag,Ho!==null&&Ho===Cr)break;ko!==5&&ko!==26&&ko!==27||ol===null||(Ho=ol,Wr?(ol=Wf(br,Xr),ol!=null&&go.unshift(vo(br,ol,Ho))):Wr||(ol=Wf(br,Xr),ol!=null&&go.push(vo(br,ol,Ho)))),br=br.return}go.length!==0&&hr.push({event:pr,listeners:go})}var Lo=/\r\n?/g,Wo=/\u0000|\uFFFD/g;function Uo(hr){return(typeof hr=="string"?hr:""+hr).replace(Lo,`
`).replace(Wo,"")}function Yo(hr,pr){return pr=Uo(pr),Uo(hr)===pr}function Bo(hr,pr,br,Cr,Wr,Xr){switch(br){case"children":typeof Cr=="string"?pr==="body"||pr==="textarea"&&Cr===""||$o(hr,Cr):(typeof Cr=="number"||typeof Cr=="bigint")&&pr!=="body"&&$o(hr,""+Cr);break;case"className":Gc(hr,"class",Cr);break;case"tabIndex":Gc(hr,"tabindex",Cr);break;case"dir":case"role":case"viewBox":case"width":case"height":Gc(hr,br,Cr);break;case"style":zl(hr,Cr,Xr);break;case"data":if(pr!=="object"){Gc(hr,"data",Cr);break}case"src":case"href":if(Cr===""&&(pr!=="a"||br!=="href")){hr.removeAttribute(br);break}if(Cr==null||typeof Cr=="function"||typeof Cr=="symbol"||typeof Cr=="boolean"){hr.removeAttribute(br);break}Cr=Zu(""+Cr),hr.setAttribute(br,Cr);break;case"action":case"formAction":if(typeof Cr=="function"){hr.setAttribute(br,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Xr=="function"&&(br==="formAction"?(pr!=="input"&&Bo(hr,pr,"name",Wr.name,Wr,null),Bo(hr,pr,"formEncType",Wr.formEncType,Wr,null),Bo(hr,pr,"formMethod",Wr.formMethod,Wr,null),Bo(hr,pr,"formTarget",Wr.formTarget,Wr,null)):(Bo(hr,pr,"encType",Wr.encType,Wr,null),Bo(hr,pr,"method",Wr.method,Wr,null),Bo(hr,pr,"target",Wr.target,Wr,null)));if(Cr==null||typeof Cr=="symbol"||typeof Cr=="boolean"){hr.removeAttribute(br);break}Cr=Zu(""+Cr),hr.setAttribute(br,Cr);break;case"onClick":Cr!=null&&(hr.onclick=Qu);break;case"onScroll":Cr!=null&&Jr("scroll",hr);break;case"onScrollEnd":Cr!=null&&Jr("scrollend",hr);break;case"dangerouslySetInnerHTML":if(Cr!=null){if(typeof Cr!="object"||!("__html"in Cr))throw Error(nr(61));if(br=Cr.__html,br!=null){if(Wr.children!=null)throw Error(nr(60));hr.innerHTML=br}}break;case"multiple":hr.multiple=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;case"muted":hr.muted=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Cr==null||typeof Cr=="function"||typeof Cr=="boolean"||typeof Cr=="symbol"){hr.removeAttribute("xlink:href");break}br=Zu(""+Cr),hr.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",br);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Cr!=null&&typeof Cr!="function"&&typeof Cr!="symbol"?hr.setAttribute(br,""+Cr):hr.removeAttribute(br);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Cr&&typeof Cr!="function"&&typeof Cr!="symbol"?hr.setAttribute(br,""):hr.removeAttribute(br);break;case"capture":case"download":Cr===!0?hr.setAttribute(br,""):Cr!==!1&&Cr!=null&&typeof Cr!="function"&&typeof Cr!="symbol"?hr.setAttribute(br,Cr):hr.removeAttribute(br);break;case"cols":case"rows":case"size":case"span":Cr!=null&&typeof Cr!="function"&&typeof Cr!="symbol"&&!isNaN(Cr)&&1<=Cr?hr.setAttribute(br,Cr):hr.removeAttribute(br);break;case"rowSpan":case"start":Cr==null||typeof Cr=="function"||typeof Cr=="symbol"||isNaN(Cr)?hr.removeAttribute(br):hr.setAttribute(br,Cr);break;case"popover":Jr("beforetoggle",hr),Jr("toggle",hr),Lc(hr,"popover",Cr);break;case"xlinkActuate":Th(hr,"http://www.w3.org/1999/xlink","xlink:actuate",Cr);break;case"xlinkArcrole":Th(hr,"http://www.w3.org/1999/xlink","xlink:arcrole",Cr);break;case"xlinkRole":Th(hr,"http://www.w3.org/1999/xlink","xlink:role",Cr);break;case"xlinkShow":Th(hr,"http://www.w3.org/1999/xlink","xlink:show",Cr);break;case"xlinkTitle":Th(hr,"http://www.w3.org/1999/xlink","xlink:title",Cr);break;case"xlinkType":Th(hr,"http://www.w3.org/1999/xlink","xlink:type",Cr);break;case"xmlBase":Th(hr,"http://www.w3.org/XML/1998/namespace","xml:base",Cr);break;case"xmlLang":Th(hr,"http://www.w3.org/XML/1998/namespace","xml:lang",Cr);break;case"xmlSpace":Th(hr,"http://www.w3.org/XML/1998/namespace","xml:space",Cr);break;case"is":Lc(hr,"is",Cr);break;case"innerText":case"textContent":break;default:(!(2<br.length)||br[0]!=="o"&&br[0]!=="O"||br[1]!=="n"&&br[1]!=="N")&&(br=Ku.get(br)||br,Lc(hr,br,Cr))}}function pl(hr,pr,br,Cr,Wr,Xr){switch(br){case"style":zl(hr,Cr,Xr);break;case"dangerouslySetInnerHTML":if(Cr!=null){if(typeof Cr!="object"||!("__html"in Cr))throw Error(nr(61));if(br=Cr.__html,br!=null){if(Wr.children!=null)throw Error(nr(60));hr.innerHTML=br}}break;case"children":typeof Cr=="string"?$o(hr,Cr):(typeof Cr=="number"||typeof Cr=="bigint")&&$o(hr,""+Cr);break;case"onScroll":Cr!=null&&Jr("scroll",hr);break;case"onScrollEnd":Cr!=null&&Jr("scrollend",hr);break;case"onClick":Cr!=null&&(hr.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cd.hasOwnProperty(br))e:{if(br[0]==="o"&&br[1]==="n"&&(Wr=br.endsWith("Capture"),pr=br.slice(2,Wr?br.length-7:void 0),Xr=hr[eu]||null,Xr=Xr!=null?Xr[br]:null,typeof Xr=="function"&&hr.removeEventListener(pr,Xr,Wr),typeof Cr=="function")){typeof Xr!="function"&&Xr!==null&&(br in hr?hr[br]=null:hr.hasAttribute(br)&&hr.removeAttribute(br)),hr.addEventListener(pr,Cr,Wr);break e}br in hr?hr[br]=Cr:Cr===!0?hr.setAttribute(br,""):Lc(hr,br,Cr)}}}function xl(hr,pr,br){switch(pr){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jr("error",hr),Jr("load",hr);var Cr=!1,Wr=!1,Xr;for(Xr in br)if(br.hasOwnProperty(Xr)){var go=br[Xr];if(go!=null)switch(Xr){case"src":Cr=!0;break;case"srcSet":Wr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(nr(137,pr));default:Bo(hr,pr,Xr,go,br,null)}}Wr&&Bo(hr,pr,"srcSet",br.srcSet,br,null),Cr&&Bo(hr,pr,"src",br.src,br,null);return;case"input":Jr("invalid",hr);var ko=Xr=go=Wr=null,Ho=null,ol=null;for(Cr in br)if(br.hasOwnProperty(Cr)){var bl=br[Cr];if(bl!=null)switch(Cr){case"name":Wr=bl;break;case"type":go=bl;break;case"checked":Ho=bl;break;case"defaultChecked":ol=bl;break;case"value":Xr=bl;break;case"defaultValue":ko=bl;break;case"children":case"dangerouslySetInnerHTML":if(bl!=null)throw Error(nr(137,pr));break;default:Bo(hr,pr,Cr,bl,br,null)}}Jd(hr,Xr,ko,Ho,ol,go,Wr,!1);return;case"select":Jr("invalid",hr),Cr=go=Xr=null;for(Wr in br)if(br.hasOwnProperty(Wr)&&(ko=br[Wr],ko!=null))switch(Wr){case"value":Xr=ko;break;case"defaultValue":go=ko;break;case"multiple":Cr=ko;default:Bo(hr,pr,Wr,ko,br,null)}pr=Xr,br=go,hr.multiple=!!Cr,pr!=null?Au(hr,!!Cr,pr,!1):br!=null&&Au(hr,!!Cr,br,!0);return;case"textarea":Jr("invalid",hr),Xr=Wr=Cr=null;for(go in br)if(br.hasOwnProperty(go)&&(ko=br[go],ko!=null))switch(go){case"value":Cr=ko;break;case"defaultValue":Wr=ko;break;case"children":Xr=ko;break;case"dangerouslySetInnerHTML":if(ko!=null)throw Error(nr(91));break;default:Bo(hr,pr,go,ko,br,null)}Mo(hr,Cr,Wr,Xr);return;case"option":for(Ho in br)if(br.hasOwnProperty(Ho)&&(Cr=br[Ho],Cr!=null))switch(Ho){case"selected":hr.selected=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;default:Bo(hr,pr,Ho,Cr,br,null)}return;case"dialog":Jr("beforetoggle",hr),Jr("toggle",hr),Jr("cancel",hr),Jr("close",hr);break;case"iframe":case"object":Jr("load",hr);break;case"video":case"audio":for(Cr=0;Cr<$r.length;Cr++)Jr($r[Cr],hr);break;case"image":Jr("error",hr),Jr("load",hr);break;case"details":Jr("toggle",hr);break;case"embed":case"source":case"link":Jr("error",hr),Jr("load",hr);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ol in br)if(br.hasOwnProperty(ol)&&(Cr=br[ol],Cr!=null))switch(ol){case"children":case"dangerouslySetInnerHTML":throw Error(nr(137,pr));default:Bo(hr,pr,ol,Cr,br,null)}return;default:if(vc(pr)){for(bl in br)br.hasOwnProperty(bl)&&(Cr=br[bl],Cr!==void 0&&pl(hr,pr,bl,Cr,br,void 0));return}}for(ko in br)br.hasOwnProperty(ko)&&(Cr=br[ko],Cr!=null&&Bo(hr,pr,ko,Cr,br,null))}function ml(hr,pr,br,Cr){switch(pr){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Wr=null,Xr=null,go=null,ko=null,Ho=null,ol=null,bl=null;for(dl in br){var El=br[dl];if(br.hasOwnProperty(dl)&&El!=null)switch(dl){case"checked":break;case"value":break;case"defaultValue":Ho=El;default:Cr.hasOwnProperty(dl)||Bo(hr,pr,dl,null,Cr,El)}}for(var cl in Cr){var dl=Cr[cl];if(El=br[cl],Cr.hasOwnProperty(cl)&&(dl!=null||El!=null))switch(cl){case"type":Xr=dl;break;case"name":Wr=dl;break;case"checked":ol=dl;break;case"defaultChecked":bl=dl;break;case"value":go=dl;break;case"defaultValue":ko=dl;break;case"children":case"dangerouslySetInnerHTML":if(dl!=null)throw Error(nr(137,pr));break;default:dl!==El&&Bo(hr,pr,cl,dl,Cr,El)}}zf(hr,go,ko,Ho,ol,bl,Xr,Wr);return;case"select":dl=go=ko=cl=null;for(Xr in br)if(Ho=br[Xr],br.hasOwnProperty(Xr)&&Ho!=null)switch(Xr){case"value":break;case"multiple":dl=Ho;default:Cr.hasOwnProperty(Xr)||Bo(hr,pr,Xr,null,Cr,Ho)}for(Wr in Cr)if(Xr=Cr[Wr],Ho=br[Wr],Cr.hasOwnProperty(Wr)&&(Xr!=null||Ho!=null))switch(Wr){case"value":cl=Xr;break;case"defaultValue":ko=Xr;break;case"multiple":go=Xr;default:Xr!==Ho&&Bo(hr,pr,Wr,Xr,Cr,Ho)}pr=ko,br=go,Cr=dl,cl!=null?Au(hr,!!br,cl,!1):!!Cr!=!!br&&(pr!=null?Au(hr,!!br,pr,!0):Au(hr,!!br,br?[]:"",!1));return;case"textarea":dl=cl=null;for(ko in br)if(Wr=br[ko],br.hasOwnProperty(ko)&&Wr!=null&&!Cr.hasOwnProperty(ko))switch(ko){case"value":break;case"children":break;default:Bo(hr,pr,ko,null,Cr,Wr)}for(go in Cr)if(Wr=Cr[go],Xr=br[go],Cr.hasOwnProperty(go)&&(Wr!=null||Xr!=null))switch(go){case"value":cl=Wr;break;case"defaultValue":dl=Wr;break;case"children":break;case"dangerouslySetInnerHTML":if(Wr!=null)throw Error(nr(91));break;default:Wr!==Xr&&Bo(hr,pr,go,Wr,Cr,Xr)}jo(hr,cl,dl);return;case"option":for(var nc in br)if(cl=br[nc],br.hasOwnProperty(nc)&&cl!=null&&!Cr.hasOwnProperty(nc))switch(nc){case"selected":hr.selected=!1;break;default:Bo(hr,pr,nc,null,Cr,cl)}for(Ho in Cr)if(cl=Cr[Ho],dl=br[Ho],Cr.hasOwnProperty(Ho)&&cl!==dl&&(cl!=null||dl!=null))switch(Ho){case"selected":hr.selected=cl&&typeof cl!="function"&&typeof cl!="symbol";break;default:Bo(hr,pr,Ho,cl,Cr,dl)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _c in br)cl=br[_c],br.hasOwnProperty(_c)&&cl!=null&&!Cr.hasOwnProperty(_c)&&Bo(hr,pr,_c,null,Cr,cl);for(ol in Cr)if(cl=Cr[ol],dl=br[ol],Cr.hasOwnProperty(ol)&&cl!==dl&&(cl!=null||dl!=null))switch(ol){case"children":case"dangerouslySetInnerHTML":if(cl!=null)throw Error(nr(137,pr));break;default:Bo(hr,pr,ol,cl,Cr,dl)}return;default:if(vc(pr)){for(var sh in br)cl=br[sh],br.hasOwnProperty(sh)&&cl!==void 0&&!Cr.hasOwnProperty(sh)&&pl(hr,pr,sh,void 0,Cr,cl);for(bl in Cr)cl=Cr[bl],dl=br[bl],!Cr.hasOwnProperty(bl)||cl===dl||cl===void 0&&dl===void 0||pl(hr,pr,bl,cl,Cr,dl);return}}for(var el in br)cl=br[el],br.hasOwnProperty(el)&&cl!=null&&!Cr.hasOwnProperty(el)&&Bo(hr,pr,el,null,Cr,cl);for(El in Cr)cl=Cr[El],dl=br[El],!Cr.hasOwnProperty(El)||cl===dl||cl==null&&dl==null||Bo(hr,pr,El,cl,Cr,dl)}function Ol(hr){switch(hr){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xl(){if(typeof performance.getEntriesByType=="function"){for(var hr=0,pr=0,br=performance.getEntriesByType("resource"),Cr=0;Cr<br.length;Cr++){var Wr=br[Cr],Xr=Wr.transferSize,go=Wr.initiatorType,ko=Wr.duration;if(Xr&&ko&&Ol(go)){for(go=0,ko=Wr.responseEnd,Cr+=1;Cr<br.length;Cr++){var Ho=br[Cr],ol=Ho.startTime;if(ol>ko)break;var bl=Ho.transferSize,El=Ho.initiatorType;bl&&Ol(El)&&(Ho=Ho.responseEnd,go+=bl*(Ho<ko?1:(ko-ol)/(Ho-ol)))}if(--Cr,pr+=8*(Xr+go)/(Wr.duration/1e3),hr++,10<hr)break}}if(0<hr)return pr/hr/1e6}return navigator.connection&&(hr=navigator.connection.downlink,typeof hr=="number")?hr:5}var Zl=null,Ml=null;function Fl(hr){return hr.nodeType===9?hr:hr.ownerDocument}function Kl(hr){switch(hr){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bc(hr,pr){if(hr===0)switch(pr){case"svg":return 1;case"math":return 2;default:return 0}return hr===1&&pr==="foreignObject"?0:hr}function kc(hr,pr){return hr==="textarea"||hr==="noscript"||typeof pr.children=="string"||typeof pr.children=="number"||typeof pr.children=="bigint"||typeof pr.dangerouslySetInnerHTML=="object"&&pr.dangerouslySetInnerHTML!==null&&pr.dangerouslySetInnerHTML.__html!=null}var ad=null;function gc(){var hr=window.event;return hr&&hr.type==="popstate"?hr===ad?!1:(ad=hr,!0):(ad=null,!1)}var pc=typeof setTimeout=="function"?setTimeout:void 0,mu=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Bu=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(hr){return zc.resolve(null).then(hr).catch(cu)}:pc;function cu(hr){setTimeout(function(){throw hr})}function $l(hr){return hr==="head"}function rh(hr,pr){var br=pr,Cr=0;do{var Wr=br.nextSibling;if(hr.removeChild(br),Wr&&Wr.nodeType===8)if(br=Wr.data,br==="/$"||br==="/&"){if(Cr===0){hr.removeChild(Wr),uv(pr);return}Cr--}else if(br==="$"||br==="$?"||br==="$~"||br==="$!"||br==="&")Cr++;else if(br==="html")Kv(hr.ownerDocument.documentElement);else if(br==="head"){br=hr.ownerDocument.head,Kv(br);for(var Xr=br.firstChild;Xr;){var go=Xr.nextSibling,ko=Xr.nodeName;Xr[Iu]||ko==="SCRIPT"||ko==="STYLE"||ko==="LINK"&&Xr.rel.toLowerCase()==="stylesheet"||br.removeChild(Xr),Xr=go}}else br==="body"&&Kv(hr.ownerDocument.body);br=Wr}while(br);uv(pr)}function qu(hr,pr){var br=hr;hr=0;do{var Cr=br.nextSibling;if(br.nodeType===1?pr?(br._stashedDisplay=br.style.display,br.style.display="none"):(br.style.display=br._stashedDisplay||"",br.getAttribute("style")===""&&br.removeAttribute("style")):br.nodeType===3&&(pr?(br._stashedText=br.nodeValue,br.nodeValue=""):br.nodeValue=br._stashedText||""),Cr&&Cr.nodeType===8)if(br=Cr.data,br==="/$"){if(hr===0)break;hr--}else br!=="$"&&br!=="$?"&&br!=="$~"&&br!=="$!"||hr++;br=Cr}while(br)}function od(hr){var pr=hr.firstChild;for(pr&&pr.nodeType===10&&(pr=pr.nextSibling);pr;){var br=pr;switch(pr=pr.nextSibling,br.nodeName){case"HTML":case"HEAD":case"BODY":od(br),qh(br);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(br.rel.toLowerCase()==="stylesheet")continue}hr.removeChild(br)}}function Gm(hr,pr,br,Cr){for(;hr.nodeType===1;){var Wr=br;if(hr.nodeName.toLowerCase()!==pr.toLowerCase()){if(!Cr&&(hr.nodeName!=="INPUT"||hr.type!=="hidden"))break}else if(Cr){if(!hr[Iu])switch(pr){case"meta":if(!hr.hasAttribute("itemprop"))break;return hr;case"link":if(Xr=hr.getAttribute("rel"),Xr==="stylesheet"&&hr.hasAttribute("data-precedence"))break;if(Xr!==Wr.rel||hr.getAttribute("href")!==(Wr.href==null||Wr.href===""?null:Wr.href)||hr.getAttribute("crossorigin")!==(Wr.crossOrigin==null?null:Wr.crossOrigin)||hr.getAttribute("title")!==(Wr.title==null?null:Wr.title))break;return hr;case"style":if(hr.hasAttribute("data-precedence"))break;return hr;case"script":if(Xr=hr.getAttribute("src"),(Xr!==(Wr.src==null?null:Wr.src)||hr.getAttribute("type")!==(Wr.type==null?null:Wr.type)||hr.getAttribute("crossorigin")!==(Wr.crossOrigin==null?null:Wr.crossOrigin))&&Xr&&hr.hasAttribute("async")&&!hr.hasAttribute("itemprop"))break;return hr;default:return hr}}else if(pr==="input"&&hr.type==="hidden"){var Xr=Wr.name==null?null:""+Wr.name;if(Wr.type==="hidden"&&hr.getAttribute("name")===Xr)return hr}else return hr;if(hr=_d(hr.nextSibling),hr===null)break}return null}function Yc(hr,pr,br){if(pr==="")return null;for(;hr.nodeType!==3;)if((hr.nodeType!==1||hr.nodeName!=="INPUT"||hr.type!=="hidden")&&!br||(hr=_d(hr.nextSibling),hr===null))return null;return hr}function bd(hr,pr){for(;hr.nodeType!==8;)if((hr.nodeType!==1||hr.nodeName!=="INPUT"||hr.type!=="hidden")&&!pr||(hr=_d(hr.nextSibling),hr===null))return null;return hr}function mf(hr){return hr.data==="$?"||hr.data==="$~"}function gf(hr){return hr.data==="$!"||hr.data==="$?"&&hr.ownerDocument.readyState!=="loading"}function Eg(hr,pr){var br=hr.ownerDocument;if(hr.data==="$~")hr._reactRetry=pr;else if(hr.data!=="$?"||br.readyState!=="loading")pr();else{var Cr=function(){pr(),br.removeEventListener("DOMContentLoaded",Cr)};br.addEventListener("DOMContentLoaded",Cr),hr._reactRetry=Cr}}function _d(hr){for(;hr!=null;hr=hr.nextSibling){var pr=hr.nodeType;if(pr===1||pr===3)break;if(pr===8){if(pr=hr.data,pr==="$"||pr==="$!"||pr==="$?"||pr==="$~"||pr==="&"||pr==="F!"||pr==="F")break;if(pr==="/$"||pr==="/&")return null}}return hr}var xf=null;function Sg(hr){hr=hr.nextSibling;for(var pr=0;hr;){if(hr.nodeType===8){var br=hr.data;if(br==="/$"||br==="/&"){if(pr===0)return _d(hr.nextSibling);pr--}else br!=="$"&&br!=="$!"&&br!=="$?"&&br!=="$~"&&br!=="&"||pr++}hr=hr.nextSibling}return null}function qv(hr){hr=hr.previousSibling;for(var pr=0;hr;){if(hr.nodeType===8){var br=hr.data;if(br==="$"||br==="$!"||br==="$?"||br==="$~"||br==="&"){if(pr===0)return hr;pr--}else br!=="/$"&&br!=="/&"||pr++}hr=hr.previousSibling}return null}function b0(hr,pr,br){switch(pr=Fl(br),hr){case"html":if(hr=pr.documentElement,!hr)throw Error(nr(452));return hr;case"head":if(hr=pr.head,!hr)throw Error(nr(453));return hr;case"body":if(hr=pr.body,!hr)throw Error(nr(454));return hr;default:throw Error(nr(451))}}function Kv(hr){for(var pr=hr.attributes;pr.length;)hr.removeAttributeNode(pr[0]);qh(hr)}var Fp=new Map,_0=new Set;function $b(hr){return typeof hr.getRootNode=="function"?hr.getRootNode():hr.nodeType===9?hr:hr.ownerDocument}var jg=no.d;no.d={f:W0,r:G0,D:u0,C:V0,L:U0,m:Y0,X:Ff,S:wd,M:X0};function W0(){var hr=jg.f(),pr=Yy();return hr||pr}function G0(hr){var pr=zh(hr);pr!==null&&pr.tag===5&&pr.type==="form"?jx(pr):jg.r(hr)}var rx=typeof document>"u"?null:document;function w0(hr,pr,br){var Cr=rx;if(Cr&&typeof pr=="string"&&pr){var Wr=Eu(pr);Wr='link[rel="'+hr+'"][href="'+Wr+'"]',typeof br=="string"&&(Wr+='[crossorigin="'+br+'"]'),_0.has(Wr)||(_0.add(Wr),hr={rel:hr,crossOrigin:br,href:pr},Cr.querySelector(Wr)===null&&(pr=Cr.createElement("link"),xl(pr,"link",hr),tu(pr),Cr.head.appendChild(pr)))}}function u0(hr){jg.D(hr),w0("dns-prefetch",hr,null)}function V0(hr,pr){jg.C(hr,pr),w0("preconnect",hr,pr)}function U0(hr,pr,br){jg.L(hr,pr,br);var Cr=rx;if(Cr&&hr&&pr){var Wr='link[rel="preload"][as="'+Eu(pr)+'"]';pr==="image"&&br&&br.imageSrcSet?(Wr+='[imagesrcset="'+Eu(br.imageSrcSet)+'"]',typeof br.imageSizes=="string"&&(Wr+='[imagesizes="'+Eu(br.imageSizes)+'"]')):Wr+='[href="'+Eu(hr)+'"]';var Xr=Wr;switch(pr){case"style":Xr=iv(hr);break;case"script":Xr=sv(hr)}Fp.has(Xr)||(hr=ur({rel:"preload",href:pr==="image"&&br&&br.imageSrcSet?void 0:hr,as:pr},br),Fp.set(Xr,hr),Cr.querySelector(Wr)!==null||pr==="style"&&Cr.querySelector(rv(Xr))||pr==="script"&&Cr.querySelector(av(Xr))||(pr=Cr.createElement("link"),xl(pr,"link",hr),tu(pr),Cr.head.appendChild(pr)))}}function Y0(hr,pr){jg.m(hr,pr);var br=rx;if(br&&hr){var Cr=pr&&typeof pr.as=="string"?pr.as:"script",Wr='link[rel="modulepreload"][as="'+Eu(Cr)+'"][href="'+Eu(hr)+'"]',Xr=Wr;switch(Cr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Xr=sv(hr)}if(!Fp.has(Xr)&&(hr=ur({rel:"modulepreload",href:hr},pr),Fp.set(Xr,hr),br.querySelector(Wr)===null)){switch(Cr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(br.querySelector(av(Xr)))return}Cr=br.createElement("link"),xl(Cr,"link",hr),tu(Cr),br.head.appendChild(Cr)}}}function wd(hr,pr,br){jg.S(hr,pr,br);var Cr=rx;if(Cr&&hr){var Wr=Hu(Cr).hoistableStyles,Xr=iv(hr);pr=pr||"default";var go=Wr.get(Xr);if(!go){var ko={loading:0,preload:null};if(go=Cr.querySelector(rv(Xr)))ko.loading=5;else{hr=ur({rel:"stylesheet",href:hr,"data-precedence":pr},br),(br=Fp.get(Xr))&&h0(hr,br);var Ho=go=Cr.createElement("link");tu(Ho),xl(Ho,"link",hr),Ho._p=new Promise(function(ol,bl){Ho.onload=ol,Ho.onerror=bl}),Ho.addEventListener("load",function(){ko.loading|=1}),Ho.addEventListener("error",function(){ko.loading|=2}),ko.loading|=4,Ib(go,pr,Cr)}go={type:"stylesheet",instance:go,count:1,state:ko},Wr.set(Xr,go)}}}function Ff(hr,pr){jg.X(hr,pr);var br=rx;if(br&&hr){var Cr=Hu(br).hoistableScripts,Wr=sv(hr),Xr=Cr.get(Wr);Xr||(Xr=br.querySelector(av(Wr)),Xr||(hr=ur({src:hr,async:!0},pr),(pr=Fp.get(Wr))&&Fb(hr,pr),Xr=br.createElement("script"),tu(Xr),xl(Xr,"link",hr),br.head.appendChild(Xr)),Xr={type:"script",instance:Xr,count:1,state:null},Cr.set(Wr,Xr))}}function X0(hr,pr){jg.M(hr,pr);var br=rx;if(br&&hr){var Cr=Hu(br).hoistableScripts,Wr=sv(hr),Xr=Cr.get(Wr);Xr||(Xr=br.querySelector(av(Wr)),Xr||(hr=ur({src:hr,async:!0,type:"module"},pr),(pr=Fp.get(Wr))&&Fb(hr,pr),Xr=br.createElement("script"),tu(Xr),xl(Xr,"link",hr),br.head.appendChild(Xr)),Xr={type:"script",instance:Xr,count:1,state:null},Cr.set(Wr,Xr))}}function E0(hr,pr,br,Cr){var Wr=(Wr=So.current)?$b(Wr):null;if(!Wr)throw Error(nr(446));switch(hr){case"meta":case"title":return null;case"style":return typeof br.precedence=="string"&&typeof br.href=="string"?(pr=iv(br.href),br=Hu(Wr).hoistableStyles,Cr=br.get(pr),Cr||(Cr={type:"style",instance:null,count:0,state:null},br.set(pr,Cr)),Cr):{type:"void",instance:null,count:0,state:null};case"link":if(br.rel==="stylesheet"&&typeof br.href=="string"&&typeof br.precedence=="string"){hr=iv(br.href);var Xr=Hu(Wr).hoistableStyles,go=Xr.get(hr);if(go||(Wr=Wr.ownerDocument||Wr,go={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Xr.set(hr,go),(Xr=Wr.querySelector(rv(hr)))&&!Xr._p&&(go.instance=Xr,go.state.loading=5),Fp.has(hr)||(br={rel:"preload",as:"style",href:br.href,crossOrigin:br.crossOrigin,integrity:br.integrity,media:br.media,hrefLang:br.hrefLang,referrerPolicy:br.referrerPolicy},Fp.set(hr,br),Xr||q0(Wr,hr,br,go.state))),pr&&Cr===null)throw Error(nr(528,""));return go}if(pr&&Cr!==null)throw Error(nr(529,""));return null;case"script":return pr=br.async,br=br.src,typeof br=="string"&&pr&&typeof pr!="function"&&typeof pr!="symbol"?(pr=sv(br),br=Hu(Wr).hoistableScripts,Cr=br.get(pr),Cr||(Cr={type:"script",instance:null,count:0,state:null},br.set(pr,Cr)),Cr):{type:"void",instance:null,count:0,state:null};default:throw Error(nr(444,hr))}}function iv(hr){return'href="'+Eu(hr)+'"'}function rv(hr){return'link[rel="stylesheet"]['+hr+"]"}function S0(hr){return ur({},hr,{"data-precedence":hr.precedence,precedence:null})}function q0(hr,pr,br,Cr){hr.querySelector('link[rel="preload"][as="style"]['+pr+"]")?Cr.loading=1:(pr=hr.createElement("link"),Cr.preload=pr,pr.addEventListener("load",function(){return Cr.loading|=1}),pr.addEventListener("error",function(){return Cr.loading|=2}),xl(pr,"link",br),tu(pr),hr.head.appendChild(pr))}function sv(hr){return'[src="'+Eu(hr)+'"]'}function av(hr){return"script[async]"+hr}function j0(hr,pr,br){if(pr.count++,pr.instance===null)switch(pr.type){case"style":var Cr=hr.querySelector('style[data-href~="'+Eu(br.href)+'"]');if(Cr)return pr.instance=Cr,tu(Cr),Cr;var Wr=ur({},br,{"data-href":br.href,"data-precedence":br.precedence,href:null,precedence:null});return Cr=(hr.ownerDocument||hr).createElement("style"),tu(Cr),xl(Cr,"style",Wr),Ib(Cr,br.precedence,hr),pr.instance=Cr;case"stylesheet":Wr=iv(br.href);var Xr=hr.querySelector(rv(Wr));if(Xr)return pr.state.loading|=4,pr.instance=Xr,tu(Xr),Xr;Cr=S0(br),(Wr=Fp.get(Wr))&&h0(Cr,Wr),Xr=(hr.ownerDocument||hr).createElement("link"),tu(Xr);var go=Xr;return go._p=new Promise(function(ko,Ho){go.onload=ko,go.onerror=Ho}),xl(Xr,"link",Cr),pr.state.loading|=4,Ib(Xr,br.precedence,hr),pr.instance=Xr;case"script":return Xr=sv(br.src),(Wr=hr.querySelector(av(Xr)))?(pr.instance=Wr,tu(Wr),Wr):(Cr=br,(Wr=Fp.get(Xr))&&(Cr=ur({},br),Fb(Cr,Wr)),hr=hr.ownerDocument||hr,Wr=hr.createElement("script"),tu(Wr),xl(Wr,"link",Cr),hr.head.appendChild(Wr),pr.instance=Wr);case"void":return null;default:throw Error(nr(443,pr.type))}else pr.type==="stylesheet"&&(pr.state.loading&4)===0&&(Cr=pr.instance,pr.state.loading|=4,Ib(Cr,br.precedence,hr));return pr.instance}function Ib(hr,pr,br){for(var Cr=br.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Wr=Cr.length?Cr[Cr.length-1]:null,Xr=Wr,go=0;go<Cr.length;go++){var ko=Cr[go];if(ko.dataset.precedence===pr)Xr=ko;else if(Xr!==Wr)break}Xr?Xr.parentNode.insertBefore(hr,Xr.nextSibling):(pr=br.nodeType===9?br.head:br,pr.insertBefore(hr,pr.firstChild))}function h0(hr,pr){hr.crossOrigin==null&&(hr.crossOrigin=pr.crossOrigin),hr.referrerPolicy==null&&(hr.referrerPolicy=pr.referrerPolicy),hr.title==null&&(hr.title=pr.title)}function Fb(hr,pr){hr.crossOrigin==null&&(hr.crossOrigin=pr.crossOrigin),hr.referrerPolicy==null&&(hr.referrerPolicy=pr.referrerPolicy),hr.integrity==null&&(hr.integrity=pr.integrity)}var Zv=null;function R0(hr,pr,br){if(Zv===null){var Cr=new Map,Wr=Zv=new Map;Wr.set(br,Cr)}else Wr=Zv,Cr=Wr.get(br),Cr||(Cr=new Map,Wr.set(br,Cr));if(Cr.has(hr))return Cr;for(Cr.set(hr,null),br=br.getElementsByTagName(hr),Wr=0;Wr<br.length;Wr++){var Xr=br[Wr];if(!(Xr[Iu]||Xr[Dc]||hr==="link"&&Xr.getAttribute("rel")==="stylesheet")&&Xr.namespaceURI!=="http://www.w3.org/2000/svg"){var go=Xr.getAttribute(pr)||"";go=hr+go;var ko=Cr.get(go);ko?ko.push(Xr):Cr.set(go,[Xr])}}return Cr}function C0(hr,pr,br){hr=hr.ownerDocument||hr,hr.head.insertBefore(br,pr==="title"?hr.querySelector("head > title"):null)}function K0(hr,pr,br){if(br===1||pr.itemProp!=null)return!1;switch(hr){case"meta":case"title":return!0;case"style":if(typeof pr.precedence!="string"||typeof pr.href!="string"||pr.href==="")break;return!0;case"link":if(typeof pr.rel!="string"||typeof pr.href!="string"||pr.href===""||pr.onLoad||pr.onError)break;switch(pr.rel){case"stylesheet":return hr=pr.disabled,typeof pr.precedence=="string"&&hr==null;default:return!0}case"script":if(pr.async&&typeof pr.async!="function"&&typeof pr.async!="symbol"&&!pr.onLoad&&!pr.onError&&pr.src&&typeof pr.src=="string")return!0}return!1}function k0(hr){return!(hr.type==="stylesheet"&&(hr.state.loading&3)===0)}function ov(hr,pr,br,Cr){if(br.type==="stylesheet"&&(typeof Cr.media!="string"||matchMedia(Cr.media).matches!==!1)&&(br.state.loading&4)===0){if(br.instance===null){var Wr=iv(Cr.href),Xr=pr.querySelector(rv(Wr));if(Xr){pr=Xr._p,pr!==null&&typeof pr=="object"&&typeof pr.then=="function"&&(hr.count++,hr=Bb.bind(hr),pr.then(hr,hr)),br.state.loading|=4,br.instance=Xr,tu(Xr);return}Xr=pr.ownerDocument||pr,Cr=S0(Cr),(Wr=Fp.get(Wr))&&h0(Cr,Wr),Xr=Xr.createElement("link"),tu(Xr);var go=Xr;go._p=new Promise(function(ko,Ho){go.onload=ko,go.onerror=Ho}),xl(Xr,"link",Cr),br.instance=Xr}hr.stylesheets===null&&(hr.stylesheets=new Map),hr.stylesheets.set(br,pr),(pr=br.state.preload)&&(br.state.loading&3)===0&&(hr.count++,br=Bb.bind(hr),pr.addEventListener("load",br),pr.addEventListener("error",br))}}var d0=0;function Z0(hr,pr){return hr.stylesheets&&hr.count===0&&Hb(hr,hr.stylesheets),0<hr.count||0<hr.imgCount?function(br){var Cr=setTimeout(function(){if(hr.stylesheets&&Hb(hr,hr.stylesheets),hr.unsuspend){var Xr=hr.unsuspend;hr.unsuspend=null,Xr()}},6e4+pr);0<hr.imgBytes&&d0===0&&(d0=62500*Xl());var Wr=setTimeout(function(){if(hr.waitingForImages=!1,hr.count===0&&(hr.stylesheets&&Hb(hr,hr.stylesheets),hr.unsuspend)){var Xr=hr.unsuspend;hr.unsuspend=null,Xr()}},(hr.imgBytes>d0?50:800)+pr);return hr.unsuspend=br,function(){hr.unsuspend=null,clearTimeout(Cr),clearTimeout(Wr)}}:null}function Bb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hb(this,this.stylesheets);else if(this.unsuspend){var hr=this.unsuspend;this.unsuspend=null,hr()}}}var zb=null;function Hb(hr,pr){hr.stylesheets=null,hr.unsuspend!==null&&(hr.count++,zb=new Map,pr.forEach(A0,hr),zb=null,Bb.call(hr))}function A0(hr,pr){if(!(pr.state.loading&4)){var br=zb.get(hr);if(br)var Cr=br.get(null);else{br=new Map,zb.set(hr,br);for(var Wr=hr.querySelectorAll("link[data-precedence],style[data-precedence]"),Xr=0;Xr<Wr.length;Xr++){var go=Wr[Xr];(go.nodeName==="LINK"||go.getAttribute("media")!=="not all")&&(br.set(go.dataset.precedence,go),Cr=go)}Cr&&br.set(null,Cr)}Wr=pr.instance,go=Wr.getAttribute("data-precedence"),Xr=br.get(go)||Cr,Xr===Cr&&br.set(null,Wr),br.set(go,Wr),this.count++,Cr=Bb.bind(this),Wr.addEventListener("load",Cr),Wr.addEventListener("error",Cr),Xr?Xr.parentNode.insertBefore(Wr,Xr.nextSibling):(hr=hr.nodeType===9?hr.head:hr,hr.insertBefore(Wr,hr.firstChild)),pr.state.loading|=4}}var lv={$$typeof:Dr,Provider:null,Consumer:null,_currentValue:po,_currentValue2:po,_threadCount:0};function Q0(hr,pr,br,Cr,Wr,Xr,go,ko,Ho){this.tag=1,this.containerInfo=hr,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.hiddenUpdates=ec(null),this.identifierPrefix=Cr,this.onUncaughtError=Wr,this.onCaughtError=Xr,this.onRecoverableError=go,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ho,this.incompleteTransitions=new Map}function T0(hr,pr,br,Cr,Wr,Xr,go,ko,Ho,ol,bl,El){return hr=new Q0(hr,pr,br,go,Ho,ol,bl,El,ko),pr=1,Xr===!0&&(pr|=24),Xr=Ph(3,null,null,pr),hr.current=Xr,Xr.stateNode=hr,pr=Xf(),pr.refCount++,hr.pooledCache=pr,pr.refCount++,Xr.memoizedState={element:Cr,isDehydrated:br,cache:pr},Tp(Xr),hr}function P0(hr){return hr?(hr=Cf,hr):Cf}function D0(hr,pr,br,Cr,Wr,Xr){Wr=P0(Wr),Cr.context===null?Cr.context=Wr:Cr.pendingContext=Wr,Cr=km(pr),Cr.payload={element:br},Xr=Xr===void 0?null:Xr,Xr!==null&&(Cr.callback=Xr),br=Dd(hr,Cr,pr),br!==null&&(Od(br,hr,pr),Tf(br,hr,pr))}function M0(hr,pr){if(hr=hr.memoizedState,hr!==null&&hr.dehydrated!==null){var br=hr.retryLane;hr.retryLane=br!==0&&br<pr?br:pr}}function f0(hr,pr){M0(hr,pr),(hr=hr.alternate)&&M0(hr,pr)}function N0(hr){if(hr.tag===13||hr.tag===31){var pr=kd(hr,67108864);pr!==null&&Od(pr,hr,67108864),f0(hr,67108864)}}function O0(hr){if(hr.tag===13||hr.tag===31){var pr=Qd();pr=Cl(pr);var br=kd(hr,pr);br!==null&&Od(br,hr,pr),f0(hr,pr)}}var Wb=!0;function J0(hr,pr,br,Cr){var Wr=so.T;so.T=null;var Xr=no.p;try{no.p=2,p0(hr,pr,br,Cr)}finally{no.p=Xr,so.T=Wr}}function e1(hr,pr,br,Cr){var Wr=so.T;so.T=null;var Xr=no.p;try{no.p=8,p0(hr,pr,br,Cr)}finally{no.p=Xr,so.T=Wr}}function p0(hr,pr,br,Cr){if(Wb){var Wr=m0(Cr);if(Wr===null)bo(hr,pr,Cr,Gb,br),$0(hr,Cr);else if(I0(Wr,hr,pr,br,Cr))Cr.stopPropagation();else if($0(hr,Cr),pr&4&&-1<n1.indexOf(hr)){for(;Wr!==null;){var Xr=zh(Wr);if(Xr!==null)switch(Xr.tag){case 3:if(Xr=Xr.stateNode,Xr.current.memoizedState.isDehydrated){var go=jc(Xr.pendingLanes);if(go!==0){var ko=Xr;for(ko.pendingLanes|=2,ko.entangledLanes|=2;go;){var Ho=1<<31-hl(go);ko.entanglements[1]|=Ho,go&=~Ho}Ip(Xr),(pu&6)===0&&(_g=ic()+500,Qx(0))}}break;case 31:case 13:ko=kd(Xr,2),ko!==null&&Od(ko,Xr,2),Yy(),f0(Xr,2)}if(Xr=m0(Cr),Xr===null&&bo(hr,pr,Cr,Gb,br),Xr===Wr)break;Wr=Xr}Wr!==null&&Cr.stopPropagation()}else bo(hr,pr,Cr,null,br)}}function m0(hr){return hr=Vm(hr),g0(hr)}var Gb=null;function g0(hr){if(Gb=null,hr=Bh(hr),hr!==null){var pr=rr(hr);if(pr===null)hr=null;else{var br=pr.tag;if(br===13){if(hr=sr(pr),hr!==null)return hr;hr=null}else if(br===31){if(hr=ar(pr),hr!==null)return hr;hr=null}else if(br===3){if(pr.stateNode.current.memoizedState.isDehydrated)return pr.tag===3?pr.stateNode.containerInfo:null;hr=null}else pr!==hr&&(hr=null)}}return Gb=hr,null}function L0(hr){switch(hr){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cc()){case Xc:return 2;case Sc:return 8;case Oc:case gl:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var x0=!1,sx=null,ax=null,ox=null,Qv=new Map,Jv=new Map,lx=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(hr,pr){switch(hr){case"focusin":case"focusout":sx=null;break;case"dragenter":case"dragleave":ax=null;break;case"mouseover":case"mouseout":ox=null;break;case"pointerover":case"pointerout":Qv.delete(pr.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jv.delete(pr.pointerId)}}function ey(hr,pr,br,Cr,Wr,Xr){return hr===null||hr.nativeEvent!==Xr?(hr={blockedOn:pr,domEventName:br,eventSystemFlags:Cr,nativeEvent:Xr,targetContainers:[Wr]},pr!==null&&(pr=zh(pr),pr!==null&&N0(pr)),hr):(hr.eventSystemFlags|=Cr,pr=hr.targetContainers,Wr!==null&&pr.indexOf(Wr)===-1&&pr.push(Wr),hr)}function I0(hr,pr,br,Cr,Wr){switch(pr){case"focusin":return sx=ey(sx,hr,pr,br,Cr,Wr),!0;case"dragenter":return ax=ey(ax,hr,pr,br,Cr,Wr),!0;case"mouseover":return ox=ey(ox,hr,pr,br,Cr,Wr),!0;case"pointerover":var Xr=Wr.pointerId;return Qv.set(Xr,ey(Qv.get(Xr)||null,hr,pr,br,Cr,Wr)),!0;case"gotpointercapture":return Xr=Wr.pointerId,Jv.set(Xr,ey(Jv.get(Xr)||null,hr,pr,br,Cr,Wr)),!0}return!1}function y0(hr){var pr=Bh(hr.target);if(pr!==null){var br=rr(pr);if(br!==null){if(pr=br.tag,pr===13){if(pr=sr(br),pr!==null){hr.blockedOn=pr,oh(hr.priority,function(){O0(br)});return}}else if(pr===31){if(pr=ar(br),pr!==null){hr.blockedOn=pr,oh(hr.priority,function(){O0(br)});return}}else if(pr===3&&br.stateNode.current.memoizedState.isDehydrated){hr.blockedOn=br.tag===3?br.stateNode.containerInfo:null;return}}}hr.blockedOn=null}function Vb(hr){if(hr.blockedOn!==null)return!1;for(var pr=hr.targetContainers;0<pr.length;){var br=m0(hr.nativeEvent);if(br===null){br=hr.nativeEvent;var Cr=new br.constructor(br.type,br);Hf=Cr,br.target.dispatchEvent(Cr),Hf=null}else return pr=zh(br),pr!==null&&N0(pr),hr.blockedOn=br,!1;pr.shift()}return!0}function F0(hr,pr,br){Vb(hr)&&br.delete(pr)}function i1(){x0=!1,sx!==null&&Vb(sx)&&(sx=null),ax!==null&&Vb(ax)&&(ax=null),ox!==null&&Vb(ox)&&(ox=null),Qv.forEach(F0),Jv.forEach(F0)}function cv(hr,pr){hr.blockedOn===pr&&(hr.blockedOn=null,x0||(x0=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,i1)))}var Ub=null;function B0(hr){Ub!==hr&&(Ub=hr,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,function(){Ub===hr&&(Ub=null);for(var pr=0;pr<hr.length;pr+=3){var br=hr[pr],Cr=hr[pr+1],Wr=hr[pr+2];if(typeof Cr!="function"){if(g0(Cr||br)===null)continue;break}var Xr=zh(br);Xr!==null&&(hr.splice(pr,3),pr-=3,Dp(Xr,{pending:!0,data:Wr,method:br.method,action:Cr},Cr,Wr))}}))}function uv(hr){function pr(Ho){return cv(Ho,hr)}sx!==null&&cv(sx,hr),ax!==null&&cv(ax,hr),ox!==null&&cv(ox,hr),Qv.forEach(pr),Jv.forEach(pr);for(var br=0;br<lx.length;br++){var Cr=lx[br];Cr.blockedOn===hr&&(Cr.blockedOn=null)}for(;0<lx.length&&(br=lx[0],br.blockedOn===null);)y0(br),br.blockedOn===null&&lx.shift();if(br=(hr.ownerDocument||hr).$$reactFormReplay,br!=null)for(Cr=0;Cr<br.length;Cr+=3){var Wr=br[Cr],Xr=br[Cr+1],go=Wr[eu]||null;if(typeof Xr=="function")go||B0(br);else if(go){var ko=null;if(Xr&&Xr.hasAttribute("formAction")){if(Wr=Xr,go=Xr[eu]||null)ko=go.formAction;else if(g0(Wr)!==null)continue}else ko=go.action;typeof ko=="function"?br[Cr+1]=ko:(br.splice(Cr,3),Cr-=3),B0(br)}}}function yf(){function hr(Xr){Xr.canIntercept&&Xr.info==="react-transition"&&Xr.intercept({handler:function(){return new Promise(function(go){return Wr=go})},focusReset:"manual",scroll:"manual"})}function pr(){Wr!==null&&(Wr(),Wr=null),Cr||setTimeout(br,20)}function br(){if(!Cr&&!navigation.transition){var Xr=navigation.currentEntry;Xr&&Xr.url!=null&&navigation.navigate(Xr.url,{state:Xr.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var Cr=!1,Wr=null;return navigation.addEventListener("navigate",hr),navigation.addEventListener("navigatesuccess",pr),navigation.addEventListener("navigateerror",pr),setTimeout(br,100),function(){Cr=!0,navigation.removeEventListener("navigate",hr),navigation.removeEventListener("navigatesuccess",pr),navigation.removeEventListener("navigateerror",pr),Wr!==null&&(Wr(),Wr=null)}}}function eb(hr){this._internalRoot=hr}Yb.prototype.render=eb.prototype.render=function(hr){var pr=this._internalRoot;if(pr===null)throw Error(nr(409));var br=pr.current,Cr=Qd();D0(br,Cr,hr,pr,null,null)},Yb.prototype.unmount=eb.prototype.unmount=function(){var hr=this._internalRoot;if(hr!==null){this._internalRoot=null;var pr=hr.containerInfo;D0(hr.current,2,null,hr,null,null),Yy(),pr[Zc]=null}};function Yb(hr){this._internalRoot=hr}Yb.prototype.unstable_scheduleHydration=function(hr){if(hr){var pr=bu();hr={blockedOn:null,target:hr,priority:pr};for(var br=0;br<lx.length&&pr!==0&&pr<lx[br].priority;br++);lx.splice(br,0,hr),br===0&&y0(hr)}};var z0=Hn.version;if(z0!=="19.2.0")throw Error(nr(527,z0,"19.2.0"));no.findDOMNode=function(hr){var pr=hr._reactInternals;if(pr===void 0)throw typeof hr.render=="function"?Error(nr(188)):(hr=Object.keys(hr).join(","),Error(nr(268,hr)));return hr=lr(pr),hr=hr!==null?cr(hr):null,hr=hr===null?null:hr.stateNode,hr};var r1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:so,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xb.isDisabled&&Xb.supportsFiber)try{Il=Xb.inject(r1),rl=Xb}catch{}}return reactDomClient_production.createRoot=function(hr,pr){if(!ir(hr))throw Error(nr(299));var br=!1,Cr="",Wr=Op,Xr=Tx,go=ru;return pr!=null&&(pr.unstable_strictMode===!0&&(br=!0),pr.identifierPrefix!==void 0&&(Cr=pr.identifierPrefix),pr.onUncaughtError!==void 0&&(Wr=pr.onUncaughtError),pr.onCaughtError!==void 0&&(Xr=pr.onCaughtError),pr.onRecoverableError!==void 0&&(go=pr.onRecoverableError)),pr=T0(hr,1,!1,null,null,br,Cr,null,Wr,Xr,go,yf),hr[Zc]=pr.current,fo(hr),new eb(pr)},reactDomClient_production.hydrateRoot=function(hr,pr,br){if(!ir(hr))throw Error(nr(299));var Cr=!1,Wr="",Xr=Op,go=Tx,ko=ru,Ho=null;return br!=null&&(br.unstable_strictMode===!0&&(Cr=!0),br.identifierPrefix!==void 0&&(Wr=br.identifierPrefix),br.onUncaughtError!==void 0&&(Xr=br.onUncaughtError),br.onCaughtError!==void 0&&(go=br.onCaughtError),br.onRecoverableError!==void 0&&(ko=br.onRecoverableError),br.formState!==void 0&&(Ho=br.formState)),pr=T0(hr,1,!0,pr,br??null,Cr,Wr,Ho,Xr,go,ko,yf),pr.context=P0(null),br=pr.current,Cr=Qd(),Cr=Cl(Cr),Wr=km(Cr),Wr.callback=null,Dd(br,Wr,Cr),br=Cr,pr.current.lanes=br,Hl(pr,br),Ip(pr),hr[Zc]=pr.current,fo(hr),new Yb(pr)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function tr(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tr)}catch(Hn){console.error(Hn)}}return tr(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var PopStateEventType="popstate";function createHashHistory(tr={}){function Hn(ir,rr){let{pathname:sr="/",search:ar="",hash:or=""}=parsePath(ir.location.hash.substring(1));return!sr.startsWith("/")&&!sr.startsWith(".")&&(sr="/"+sr),createLocation("",{pathname:sr,search:ar,hash:or},rr.state&&rr.state.usr||null,rr.state&&rr.state.key||"default")}function er(ir,rr){let sr=ir.document.querySelector("base"),ar="";if(sr&&sr.getAttribute("href")){let or=ir.location.href,lr=or.indexOf("#");ar=lr===-1?or:or.slice(0,lr)}return ar+"#"+(typeof rr=="string"?rr:createPath(rr))}function nr(ir,rr){warning(ir.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(rr)})`)}return getUrlBasedHistory(Hn,er,nr,tr)}function invariant$1(tr,Hn){if(tr===!1||tr===null||typeof tr>"u")throw new Error(Hn)}function warning(tr,Hn){if(!tr){typeof console<"u"&&console.warn(Hn);try{throw new Error(Hn)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(tr,Hn){return{usr:tr.state,key:tr.key,idx:Hn}}function createLocation(tr,Hn,er=null,nr){return{pathname:typeof tr=="string"?tr:tr.pathname,search:"",hash:"",...typeof Hn=="string"?parsePath(Hn):Hn,state:er,key:Hn&&Hn.key||nr||createKey()}}function createPath({pathname:tr="/",search:Hn="",hash:er=""}){return Hn&&Hn!=="?"&&(tr+=Hn.charAt(0)==="?"?Hn:"?"+Hn),er&&er!=="#"&&(tr+=er.charAt(0)==="#"?er:"#"+er),tr}function parsePath(tr){let Hn={};if(tr){let er=tr.indexOf("#");er>=0&&(Hn.hash=tr.substring(er),tr=tr.substring(0,er));let nr=tr.indexOf("?");nr>=0&&(Hn.search=tr.substring(nr),tr=tr.substring(0,nr)),tr&&(Hn.pathname=tr)}return Hn}function getUrlBasedHistory(tr,Hn,er,nr={}){let{window:ir=document.defaultView,v5Compat:rr=!1}=nr,sr=ir.history,ar="POP",or=null,lr=cr();lr==null&&(lr=0,sr.replaceState({...sr.state,idx:lr},""));function cr(){return(sr.state||{idx:null}).idx}function ur(){ar="POP";let _r=cr(),Sr=_r==null?null:_r-lr;lr=_r,or&&or({action:ar,location:yr.location,delta:Sr})}function dr(_r,Sr){ar="PUSH";let jr=createLocation(yr.location,_r,Sr);er&&er(jr,_r),lr=cr()+1;let Dr=getHistoryState(jr,lr),Ir=yr.createHref(jr);try{sr.pushState(Dr,"",Ir)}catch(Mr){if(Mr instanceof DOMException&&Mr.name==="DataCloneError")throw Mr;ir.location.assign(Ir)}rr&&or&&or({action:ar,location:yr.location,delta:1})}function fr(_r,Sr){ar="REPLACE";let jr=createLocation(yr.location,_r,Sr);er&&er(jr,_r),lr=cr();let Dr=getHistoryState(jr,lr),Ir=yr.createHref(jr);sr.replaceState(Dr,"",Ir),rr&&or&&or({action:ar,location:yr.location,delta:0})}function xr(_r){return createBrowserURLImpl(_r)}let yr={get action(){return ar},get location(){return tr(ir,sr)},listen(_r){if(or)throw new Error("A history only accepts one active listener");return ir.addEventListener(PopStateEventType,ur),or=_r,()=>{ir.removeEventListener(PopStateEventType,ur),or=null}},createHref(_r){return Hn(ir,_r)},createURL:xr,encodeLocation(_r){let Sr=xr(_r);return{pathname:Sr.pathname,search:Sr.search,hash:Sr.hash}},push:dr,replace:fr,go(_r){return sr.go(_r)}};return yr}function createBrowserURLImpl(tr,Hn=!1){let er="http://localhost";typeof window<"u"&&(er=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(er,"No window.location.(origin|href) available to create URL");let nr=typeof tr=="string"?tr:createPath(tr);return nr=nr.replace(/ $/,"%20"),!Hn&&nr.startsWith("//")&&(nr=er+nr),new URL(nr,er)}function matchRoutes(tr,Hn,er="/"){return matchRoutesImpl(tr,Hn,er,!1)}function matchRoutesImpl(tr,Hn,er,nr){let ir=typeof Hn=="string"?parsePath(Hn):Hn,rr=stripBasename(ir.pathname||"/",er);if(rr==null)return null;let sr=flattenRoutes(tr);rankRouteBranches(sr);let ar=null;for(let or=0;ar==null&&or<sr.length;++or){let lr=decodePath(rr);ar=matchRouteBranch(sr[or],lr,nr)}return ar}function flattenRoutes(tr,Hn=[],er=[],nr="",ir=!1){let rr=(sr,ar,or=ir,lr)=>{let cr={relativePath:lr===void 0?sr.path||"":lr,caseSensitive:sr.caseSensitive===!0,childrenIndex:ar,route:sr};if(cr.relativePath.startsWith("/")){if(!cr.relativePath.startsWith(nr)&&or)return;invariant$1(cr.relativePath.startsWith(nr),`Absolute route path "${cr.relativePath}" nested under path "${nr}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),cr.relativePath=cr.relativePath.slice(nr.length)}let ur=joinPaths([nr,cr.relativePath]),dr=er.concat(cr);sr.children&&sr.children.length>0&&(invariant$1(sr.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ur}".`),flattenRoutes(sr.children,Hn,dr,ur,or)),!(sr.path==null&&!sr.index)&&Hn.push({path:ur,score:computeScore(ur,sr.index),routesMeta:dr})};return tr.forEach((sr,ar)=>{if(sr.path===""||!sr.path?.includes("?"))rr(sr,ar);else for(let or of explodeOptionalSegments(sr.path))rr(sr,ar,!0,or)}),Hn}function explodeOptionalSegments(tr){let Hn=tr.split("/");if(Hn.length===0)return[];let[er,...nr]=Hn,ir=er.endsWith("?"),rr=er.replace(/\?$/,"");if(nr.length===0)return ir?[rr,""]:[rr];let sr=explodeOptionalSegments(nr.join("/")),ar=[];return ar.push(...sr.map(or=>or===""?rr:[rr,or].join("/"))),ir&&ar.push(...sr),ar.map(or=>tr.startsWith("/")&&or===""?"/":or)}function rankRouteBranches(tr){tr.sort((Hn,er)=>Hn.score!==er.score?er.score-Hn.score:compareIndexes(Hn.routesMeta.map(nr=>nr.childrenIndex),er.routesMeta.map(nr=>nr.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=tr=>tr==="*";function computeScore(tr,Hn){let er=tr.split("/"),nr=er.length;return er.some(isSplat)&&(nr+=splatPenalty),Hn&&(nr+=indexRouteValue),er.filter(ir=>!isSplat(ir)).reduce((ir,rr)=>ir+(paramRe.test(rr)?dynamicSegmentValue:rr===""?emptySegmentValue:staticSegmentValue),nr)}function compareIndexes(tr,Hn){return tr.length===Hn.length&&tr.slice(0,-1).every((nr,ir)=>nr===Hn[ir])?tr[tr.length-1]-Hn[Hn.length-1]:0}function matchRouteBranch(tr,Hn,er=!1){let{routesMeta:nr}=tr,ir={},rr="/",sr=[];for(let ar=0;ar<nr.length;++ar){let or=nr[ar],lr=ar===nr.length-1,cr=rr==="/"?Hn:Hn.slice(rr.length)||"/",ur=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:lr},cr),dr=or.route;if(!ur&&lr&&er&&!nr[nr.length-1].route.index&&(ur=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:!1},cr)),!ur)return null;Object.assign(ir,ur.params),sr.push({params:ir,pathname:joinPaths([rr,ur.pathname]),pathnameBase:normalizePathname(joinPaths([rr,ur.pathnameBase])),route:dr}),ur.pathnameBase!=="/"&&(rr=joinPaths([rr,ur.pathnameBase]))}return sr}function matchPath(tr,Hn){typeof tr=="string"&&(tr={path:tr,caseSensitive:!1,end:!0});let[er,nr]=compilePath(tr.path,tr.caseSensitive,tr.end),ir=Hn.match(er);if(!ir)return null;let rr=ir[0],sr=rr.replace(/(.)\/+$/,"$1"),ar=ir.slice(1);return{params:nr.reduce((lr,{paramName:cr,isOptional:ur},dr)=>{if(cr==="*"){let xr=ar[dr]||"";sr=rr.slice(0,rr.length-xr.length).replace(/(.)\/+$/,"$1")}const fr=ar[dr];return ur&&!fr?lr[cr]=void 0:lr[cr]=(fr||"").replace(/%2F/g,"/"),lr},{}),pathname:rr,pathnameBase:sr,pattern:tr}}function compilePath(tr,Hn=!1,er=!0){warning(tr==="*"||!tr.endsWith("*")||tr.endsWith("/*"),`Route path "${tr}" will be treated as if it were "${tr.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${tr.replace(/\*$/,"/*")}".`);let nr=[],ir="^"+tr.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(sr,ar,or)=>(nr.push({paramName:ar,isOptional:or!=null}),or?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return tr.endsWith("*")?(nr.push({paramName:"*"}),ir+=tr==="*"||tr==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):er?ir+="\\/*$":tr!==""&&tr!=="/"&&(ir+="(?:(?=\\/|$))"),[new RegExp(ir,Hn?void 0:"i"),nr]}function decodePath(tr){try{return tr.split("/").map(Hn=>decodeURIComponent(Hn).replace(/\//g,"%2F")).join("/")}catch(Hn){return warning(!1,`The URL path "${tr}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Hn}).`),tr}}function stripBasename(tr,Hn){if(Hn==="/")return tr;if(!tr.toLowerCase().startsWith(Hn.toLowerCase()))return null;let er=Hn.endsWith("/")?Hn.length-1:Hn.length,nr=tr.charAt(er);return nr&&nr!=="/"?null:tr.slice(er)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=tr=>ABSOLUTE_URL_REGEX.test(tr);function resolvePath(tr,Hn="/"){let{pathname:er,search:nr="",hash:ir=""}=typeof tr=="string"?parsePath(tr):tr,rr;if(er)if(isAbsoluteUrl(er))rr=er;else{if(er.includes("//")){let sr=er;er=er.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${sr} -> ${er}`)}er.startsWith("/")?rr=resolvePathname(er.substring(1),"/"):rr=resolvePathname(er,Hn)}else rr=Hn;return{pathname:rr,search:normalizeSearch(nr),hash:normalizeHash(ir)}}function resolvePathname(tr,Hn){let er=Hn.replace(/\/+$/,"").split("/");return tr.split("/").forEach(ir=>{ir===".."?er.length>1&&er.pop():ir!=="."&&er.push(ir)}),er.length>1?er.join("/"):"/"}function getInvalidPathError(tr,Hn,er,nr){return`Cannot include a '${tr}' character in a manually specified \`to.${Hn}\` field [${JSON.stringify(nr)}].  Please separate it out to the \`to.${er}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(tr){return tr.filter((Hn,er)=>er===0||Hn.route.path&&Hn.route.path.length>0)}function getResolveToMatches(tr){let Hn=getPathContributingMatches(tr);return Hn.map((er,nr)=>nr===Hn.length-1?er.pathname:er.pathnameBase)}function resolveTo(tr,Hn,er,nr=!1){let ir;typeof tr=="string"?ir=parsePath(tr):(ir={...tr},invariant$1(!ir.pathname||!ir.pathname.includes("?"),getInvalidPathError("?","pathname","search",ir)),invariant$1(!ir.pathname||!ir.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ir)),invariant$1(!ir.search||!ir.search.includes("#"),getInvalidPathError("#","search","hash",ir)));let rr=tr===""||ir.pathname==="",sr=rr?"/":ir.pathname,ar;if(sr==null)ar=er;else{let ur=Hn.length-1;if(!nr&&sr.startsWith("..")){let dr=sr.split("/");for(;dr[0]==="..";)dr.shift(),ur-=1;ir.pathname=dr.join("/")}ar=ur>=0?Hn[ur]:"/"}let or=resolvePath(ir,ar),lr=sr&&sr!=="/"&&sr.endsWith("/"),cr=(rr||sr===".")&&er.endsWith("/");return!or.pathname.endsWith("/")&&(lr||cr)&&(or.pathname+="/"),or}var joinPaths=tr=>tr.join("/").replace(/\/\/+/g,"/"),normalizePathname=tr=>tr.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=tr=>!tr||tr==="?"?"":tr.startsWith("?")?tr:"?"+tr,normalizeHash=tr=>!tr||tr==="#"?"":tr.startsWith("#")?tr:"#"+tr;function isRouteErrorResponse(tr){return tr!=null&&typeof tr.status=="number"&&typeof tr.statusText=="string"&&typeof tr.internal=="boolean"&&"data"in tr}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(tr,{relative:Hn}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:er,navigator:nr}=reactExports.useContext(NavigationContext),{hash:ir,pathname:rr,search:sr}=useResolvedPath(tr,{relative:Hn}),ar=rr;return er!=="/"&&(ar=rr==="/"?er:joinPaths([er,rr])),nr.createHref({pathname:ar,search:sr,hash:ir})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(tr){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(tr)}function useNavigate(){let{isDataRoute:tr}=reactExports.useContext(RouteContext);return tr?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let tr=reactExports.useContext(DataRouterContext),{basename:Hn,navigator:er}=reactExports.useContext(NavigationContext),{matches:nr}=reactExports.useContext(RouteContext),{pathname:ir}=useLocation(),rr=JSON.stringify(getResolveToMatches(nr)),sr=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{sr.current=!0}),reactExports.useCallback((or,lr={})=>{if(warning(sr.current,navigateEffectWarning),!sr.current)return;if(typeof or=="number"){er.go(or);return}let cr=resolveTo(or,JSON.parse(rr),ir,lr.relative==="path");tr==null&&Hn!=="/"&&(cr.pathname=cr.pathname==="/"?Hn:joinPaths([Hn,cr.pathname])),(lr.replace?er.replace:er.push)(cr,lr.state,lr)},[Hn,er,rr,ir,tr])}reactExports.createContext(null);function useParams(){let{matches:tr}=reactExports.useContext(RouteContext),Hn=tr[tr.length-1];return Hn?Hn.params:{}}function useResolvedPath(tr,{relative:Hn}={}){let{matches:er}=reactExports.useContext(RouteContext),{pathname:nr}=useLocation(),ir=JSON.stringify(getResolveToMatches(er));return reactExports.useMemo(()=>resolveTo(tr,JSON.parse(ir),nr,Hn==="path"),[tr,ir,nr,Hn])}function useRoutes(tr,Hn){return useRoutesImpl(tr,Hn)}function useRoutesImpl(tr,Hn,er,nr,ir){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:rr}=reactExports.useContext(NavigationContext),{matches:sr}=reactExports.useContext(RouteContext),ar=sr[sr.length-1],or=ar?ar.params:{},lr=ar?ar.pathname:"/",cr=ar?ar.pathnameBase:"/",ur=ar&&ar.route;{let jr=ur&&ur.path||"";warningOnce(lr,!ur||jr.endsWith("*")||jr.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${lr}" (under <Route path="${jr}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${jr}"> to <Route path="${jr==="/"?"*":`${jr}/*`}">.`)}let dr=useLocation(),fr;if(Hn){let jr=typeof Hn=="string"?parsePath(Hn):Hn;invariant$1(cr==="/"||jr.pathname?.startsWith(cr),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${cr}" but pathname "${jr.pathname}" was given in the \`location\` prop.`),fr=jr}else fr=dr;let xr=fr.pathname||"/",yr=xr;if(cr!=="/"){let jr=cr.replace(/^\//,"").split("/");yr="/"+xr.replace(/^\//,"").split("/").slice(jr.length).join("/")}let _r=matchRoutes(tr,{pathname:yr});warning(ur||_r!=null,`No routes matched location "${fr.pathname}${fr.search}${fr.hash}" `),warning(_r==null||_r[_r.length-1].route.element!==void 0||_r[_r.length-1].route.Component!==void 0||_r[_r.length-1].route.lazy!==void 0,`Matched leaf route at location "${fr.pathname}${fr.search}${fr.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Sr=_renderMatches(_r&&_r.map(jr=>Object.assign({},jr,{params:Object.assign({},or,jr.params),pathname:joinPaths([cr,rr.encodeLocation?rr.encodeLocation(jr.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:jr.pathname]),pathnameBase:jr.pathnameBase==="/"?cr:joinPaths([cr,rr.encodeLocation?rr.encodeLocation(jr.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:jr.pathnameBase])})),sr,er,nr,ir);return Hn&&Sr?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...fr},navigationType:"POP"}},Sr):Sr}function DefaultErrorComponent(){let tr=useRouteError(),Hn=isRouteErrorResponse(tr)?`${tr.status} ${tr.statusText}`:tr instanceof Error?tr.message:JSON.stringify(tr),er=tr instanceof Error?tr.stack:null,nr="rgba(200,200,200, 0.5)",ir={padding:"0.5rem",backgroundColor:nr},rr={padding:"2px 4px",backgroundColor:nr},sr=null;return console.error("Error handled by React Router default ErrorBoundary:",tr),sr=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:rr},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:rr},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},Hn),er?reactExports.createElement("pre",{style:ir},er):null,sr)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(tr){super(tr),this.state={location:tr.location,revalidation:tr.revalidation,error:tr.error}}static getDerivedStateFromError(tr){return{error:tr}}static getDerivedStateFromProps(tr,Hn){return Hn.location!==tr.location||Hn.revalidation!=="idle"&&tr.revalidation==="idle"?{error:tr.error,location:tr.location,revalidation:tr.revalidation}:{error:tr.error!==void 0?tr.error:Hn.error,location:Hn.location,revalidation:tr.revalidation||Hn.revalidation}}componentDidCatch(tr,Hn){this.props.onError?this.props.onError(tr,Hn):console.error("React Router caught the following error during render",tr)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:tr,match:Hn,children:er}){let nr=reactExports.useContext(DataRouterContext);return nr&&nr.static&&nr.staticContext&&(Hn.route.errorElement||Hn.route.ErrorBoundary)&&(nr.staticContext._deepestRenderedBoundaryId=Hn.route.id),reactExports.createElement(RouteContext.Provider,{value:tr},er)}function _renderMatches(tr,Hn=[],er=null,nr=null,ir=null){if(tr==null){if(!er)return null;if(er.errors)tr=er.matches;else if(Hn.length===0&&!er.initialized&&er.matches.length>0)tr=er.matches;else return null}let rr=tr,sr=er?.errors;if(sr!=null){let cr=rr.findIndex(ur=>ur.route.id&&sr?.[ur.route.id]!==void 0);invariant$1(cr>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(sr).join(",")}`),rr=rr.slice(0,Math.min(rr.length,cr+1))}let ar=!1,or=-1;if(er)for(let cr=0;cr<rr.length;cr++){let ur=rr[cr];if((ur.route.HydrateFallback||ur.route.hydrateFallbackElement)&&(or=cr),ur.route.id){let{loaderData:dr,errors:fr}=er,xr=ur.route.loader&&!dr.hasOwnProperty(ur.route.id)&&(!fr||fr[ur.route.id]===void 0);if(ur.route.lazy||xr){ar=!0,or>=0?rr=rr.slice(0,or+1):rr=[rr[0]];break}}}let lr=er&&nr?(cr,ur)=>{nr(cr,{location:er.location,params:er.matches?.[0]?.params??{},errorInfo:ur})}:void 0;return rr.reduceRight((cr,ur,dr)=>{let fr,xr=!1,yr=null,_r=null;er&&(fr=sr&&ur.route.id?sr[ur.route.id]:void 0,yr=ur.route.errorElement||defaultErrorElement,ar&&(or<0&&dr===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),xr=!0,_r=null):or===dr&&(xr=!0,_r=ur.route.hydrateFallbackElement||null)));let Sr=Hn.concat(rr.slice(0,dr+1)),jr=()=>{let Dr;return fr?Dr=yr:xr?Dr=_r:ur.route.Component?Dr=reactExports.createElement(ur.route.Component,null):ur.route.element?Dr=ur.route.element:Dr=cr,reactExports.createElement(RenderedRoute,{match:ur,routeContext:{outlet:cr,matches:Sr,isDataRoute:er!=null},children:Dr})};return er&&(ur.route.ErrorBoundary||ur.route.errorElement||dr===0)?reactExports.createElement(RenderErrorBoundary,{location:er.location,revalidation:er.revalidation,component:yr,error:fr,children:jr(),routeContext:{outlet:null,matches:Sr,isDataRoute:!0},onError:lr}):jr()},null)}function getDataRouterConsoleError(tr){return`${tr} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(tr){let Hn=reactExports.useContext(DataRouterContext);return invariant$1(Hn,getDataRouterConsoleError(tr)),Hn}function useDataRouterState(tr){let Hn=reactExports.useContext(DataRouterStateContext);return invariant$1(Hn,getDataRouterConsoleError(tr)),Hn}function useRouteContext(tr){let Hn=reactExports.useContext(RouteContext);return invariant$1(Hn,getDataRouterConsoleError(tr)),Hn}function useCurrentRouteId(tr){let Hn=useRouteContext(tr),er=Hn.matches[Hn.matches.length-1];return invariant$1(er.route.id,`${tr} can only be used on routes that contain a unique "id"`),er.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let tr=reactExports.useContext(RouteErrorContext),Hn=useDataRouterState("useRouteError"),er=useCurrentRouteId("useRouteError");return tr!==void 0?tr:Hn.errors?.[er]}function useNavigateStable(){let{router:tr}=useDataRouterContext("useNavigate"),Hn=useCurrentRouteId("useNavigate"),er=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{er.current=!0}),reactExports.useCallback(async(ir,rr={})=>{warning(er.current,navigateEffectWarning),er.current&&(typeof ir=="number"?tr.navigate(ir):await tr.navigate(ir,{fromRouteId:Hn,...rr}))},[tr,Hn])}var alreadyWarned={};function warningOnce(tr,Hn,er){!Hn&&!alreadyWarned[tr]&&(alreadyWarned[tr]=!0,warning(!1,er))}reactExports.memo(DataRoutes);function DataRoutes({routes:tr,future:Hn,state:er,unstable_onError:nr}){return useRoutesImpl(tr,void 0,er,nr,Hn)}function Navigate({to:tr,replace:Hn,state:er,relative:nr}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:ir}=reactExports.useContext(NavigationContext);warning(!ir,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:rr}=reactExports.useContext(RouteContext),{pathname:sr}=useLocation(),ar=useNavigate(),or=resolveTo(tr,getResolveToMatches(rr),sr,nr==="path"),lr=JSON.stringify(or);return reactExports.useEffect(()=>{ar(JSON.parse(lr),{replace:Hn,state:er,relative:nr})},[ar,lr,nr,Hn,er]),null}function Route(tr){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:tr="/",children:Hn=null,location:er,navigationType:nr="POP",navigator:ir,static:rr=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let sr=tr.replace(/^\/*/,"/"),ar=reactExports.useMemo(()=>({basename:sr,navigator:ir,static:rr,future:{}}),[sr,ir,rr]);typeof er=="string"&&(er=parsePath(er));let{pathname:or="/",search:lr="",hash:cr="",state:ur=null,key:dr="default"}=er,fr=reactExports.useMemo(()=>{let xr=stripBasename(or,sr);return xr==null?null:{location:{pathname:xr,search:lr,hash:cr,state:ur,key:dr},navigationType:nr}},[sr,or,lr,cr,ur,dr,nr]);return warning(fr!=null,`<Router basename="${sr}"> is not able to match the URL "${or}${lr}${cr}" because it does not start with the basename, so the <Router> won't render anything.`),fr==null?null:reactExports.createElement(NavigationContext.Provider,{value:ar},reactExports.createElement(LocationContext.Provider,{children:Hn,value:fr}))}function Routes({children:tr,location:Hn}){return useRoutes(createRoutesFromChildren(tr),Hn)}function createRoutesFromChildren(tr,Hn=[]){let er=[];return reactExports.Children.forEach(tr,(nr,ir)=>{if(!reactExports.isValidElement(nr))return;let rr=[...Hn,ir];if(nr.type===reactExports.Fragment){er.push.apply(er,createRoutesFromChildren(nr.props.children,rr));return}invariant$1(nr.type===Route,`[${typeof nr.type=="string"?nr.type:nr.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!nr.props.index||!nr.props.children,"An index route cannot have child routes.");let sr={id:nr.props.id||rr.join("-"),caseSensitive:nr.props.caseSensitive,element:nr.props.element,Component:nr.props.Component,index:nr.props.index,path:nr.props.path,middleware:nr.props.middleware,loader:nr.props.loader,action:nr.props.action,hydrateFallbackElement:nr.props.hydrateFallbackElement,HydrateFallback:nr.props.HydrateFallback,errorElement:nr.props.errorElement,ErrorBoundary:nr.props.ErrorBoundary,hasErrorBoundary:nr.props.hasErrorBoundary===!0||nr.props.ErrorBoundary!=null||nr.props.errorElement!=null,shouldRevalidate:nr.props.shouldRevalidate,handle:nr.props.handle,lazy:nr.props.lazy};nr.props.children&&(sr.children=createRoutesFromChildren(nr.props.children,rr)),er.push(sr)}),er}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(tr){return tr!=null&&typeof tr.tagName=="string"}function isButtonElement(tr){return isHtmlElement(tr)&&tr.tagName.toLowerCase()==="button"}function isFormElement(tr){return isHtmlElement(tr)&&tr.tagName.toLowerCase()==="form"}function isInputElement(tr){return isHtmlElement(tr)&&tr.tagName.toLowerCase()==="input"}function isModifiedEvent(tr){return!!(tr.metaKey||tr.altKey||tr.ctrlKey||tr.shiftKey)}function shouldProcessLinkClick(tr,Hn){return tr.button===0&&(!Hn||Hn==="_self")&&!isModifiedEvent(tr)}function createSearchParams(tr=""){return new URLSearchParams(typeof tr=="string"||Array.isArray(tr)||tr instanceof URLSearchParams?tr:Object.keys(tr).reduce((Hn,er)=>{let nr=tr[er];return Hn.concat(Array.isArray(nr)?nr.map(ir=>[er,ir]):[[er,nr]])},[]))}function getSearchParamsForLocation(tr,Hn){let er=createSearchParams(tr);return Hn&&Hn.forEach((nr,ir)=>{er.has(ir)||Hn.getAll(ir).forEach(rr=>{er.append(ir,rr)})}),er}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(tr){return tr!=null&&!supportedFormEncTypes.has(tr)?(warning(!1,`"${tr}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):tr}function getFormSubmissionInfo(tr,Hn){let er,nr,ir,rr,sr;if(isFormElement(tr)){let ar=tr.getAttribute("action");nr=ar?stripBasename(ar,Hn):null,er=tr.getAttribute("method")||defaultMethod,ir=getFormEncType(tr.getAttribute("enctype"))||defaultEncType,rr=new FormData(tr)}else if(isButtonElement(tr)||isInputElement(tr)&&(tr.type==="submit"||tr.type==="image")){let ar=tr.form;if(ar==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let or=tr.getAttribute("formaction")||ar.getAttribute("action");if(nr=or?stripBasename(or,Hn):null,er=tr.getAttribute("formmethod")||ar.getAttribute("method")||defaultMethod,ir=getFormEncType(tr.getAttribute("formenctype"))||getFormEncType(ar.getAttribute("enctype"))||defaultEncType,rr=new FormData(ar,tr),!isFormDataSubmitterSupported()){let{name:lr,type:cr,value:ur}=tr;if(cr==="image"){let dr=lr?`${lr}.`:"";rr.append(`${dr}x`,"0"),rr.append(`${dr}y`,"0")}else lr&&rr.append(lr,ur)}}else{if(isHtmlElement(tr))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');er=defaultMethod,nr=null,ir=defaultEncType,sr=tr}return rr&&ir==="text/plain"&&(sr=rr,rr=void 0),{action:nr,method:er.toLowerCase(),encType:ir,formData:rr,body:sr}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(tr,Hn){if(tr===!1||tr===null||typeof tr>"u")throw new Error(Hn)}function singleFetchUrl(tr,Hn,er){let nr=typeof tr=="string"?new URL(tr,typeof window>"u"?"server://singlefetch/":window.location.origin):tr;return nr.pathname==="/"?nr.pathname=`_root.${er}`:Hn&&stripBasename(nr.pathname,Hn)==="/"?nr.pathname=`${Hn.replace(/\/$/,"")}/_root.${er}`:nr.pathname=`${nr.pathname.replace(/\/$/,"")}.${er}`,nr}async function loadRouteModule(tr,Hn){if(tr.id in Hn)return Hn[tr.id];try{let er=await import(tr.module);return Hn[tr.id]=er,er}catch(er){return console.error(`Error loading route module \`${tr.module}\`, reloading page...`),console.error(er),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(tr){return tr==null?!1:tr.href==null?tr.rel==="preload"&&typeof tr.imageSrcSet=="string"&&typeof tr.imageSizes=="string":typeof tr.rel=="string"&&typeof tr.href=="string"}async function getKeyedPrefetchLinks(tr,Hn,er){let nr=await Promise.all(tr.map(async ir=>{let rr=Hn.routes[ir.route.id];if(rr){let sr=await loadRouteModule(rr,er);return sr.links?sr.links():[]}return[]}));return dedupeLinkDescriptors(nr.flat(1).filter(isHtmlLinkDescriptor).filter(ir=>ir.rel==="stylesheet"||ir.rel==="preload").map(ir=>ir.rel==="stylesheet"?{...ir,rel:"prefetch",as:"style"}:{...ir,rel:"prefetch"}))}function getNewMatchesForLinks(tr,Hn,er,nr,ir,rr){let sr=(or,lr)=>er[lr]?or.route.id!==er[lr].route.id:!0,ar=(or,lr)=>er[lr].pathname!==or.pathname||er[lr].route.path?.endsWith("*")&&er[lr].params["*"]!==or.params["*"];return rr==="assets"?Hn.filter((or,lr)=>sr(or,lr)||ar(or,lr)):rr==="data"?Hn.filter((or,lr)=>{let cr=nr.routes[or.route.id];if(!cr||!cr.hasLoader)return!1;if(sr(or,lr)||ar(or,lr))return!0;if(or.route.shouldRevalidate){let ur=or.route.shouldRevalidate({currentUrl:new URL(ir.pathname+ir.search+ir.hash,window.origin),currentParams:er[0]?.params||{},nextUrl:new URL(tr,window.origin),nextParams:or.params,defaultShouldRevalidate:!0});if(typeof ur=="boolean")return ur}return!0}):[]}function getModuleLinkHrefs(tr,Hn,{includeHydrateFallback:er}={}){return dedupeHrefs(tr.map(nr=>{let ir=Hn.routes[nr.route.id];if(!ir)return[];let rr=[ir.module];return ir.clientActionModule&&(rr=rr.concat(ir.clientActionModule)),ir.clientLoaderModule&&(rr=rr.concat(ir.clientLoaderModule)),er&&ir.hydrateFallbackModule&&(rr=rr.concat(ir.hydrateFallbackModule)),ir.imports&&(rr=rr.concat(ir.imports)),rr}).flat(1))}function dedupeHrefs(tr){return[...new Set(tr)]}function sortKeys(tr){let Hn={},er=Object.keys(tr).sort();for(let nr of er)Hn[nr]=tr[nr];return Hn}function dedupeLinkDescriptors(tr,Hn){let er=new Set;return new Set(Hn),tr.reduce((nr,ir)=>{let rr=JSON.stringify(sortKeys(ir));return er.has(rr)||(er.add(rr),nr.push({key:rr,link:ir})),nr},[])}function useDataRouterContext2(){let tr=reactExports.useContext(DataRouterContext);return invariant2(tr,"You must render this element inside a <DataRouterContext.Provider> element"),tr}function useDataRouterStateContext(){let tr=reactExports.useContext(DataRouterStateContext);return invariant2(tr,"You must render this element inside a <DataRouterStateContext.Provider> element"),tr}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let tr=reactExports.useContext(FrameworkContext);return invariant2(tr,"You must render this element inside a <HydratedRouter> element"),tr}function usePrefetchBehavior(tr,Hn){let er=reactExports.useContext(FrameworkContext),[nr,ir]=reactExports.useState(!1),[rr,sr]=reactExports.useState(!1),{onFocus:ar,onBlur:or,onMouseEnter:lr,onMouseLeave:cr,onTouchStart:ur}=Hn,dr=reactExports.useRef(null);reactExports.useEffect(()=>{if(tr==="render"&&sr(!0),tr==="viewport"){let yr=Sr=>{Sr.forEach(jr=>{sr(jr.isIntersecting)})},_r=new IntersectionObserver(yr,{threshold:.5});return dr.current&&_r.observe(dr.current),()=>{_r.disconnect()}}},[tr]),reactExports.useEffect(()=>{if(nr){let yr=setTimeout(()=>{sr(!0)},100);return()=>{clearTimeout(yr)}}},[nr]);let fr=()=>{ir(!0)},xr=()=>{ir(!1),sr(!1)};return er?tr!=="intent"?[rr,dr,{}]:[rr,dr,{onFocus:composeEventHandlers(ar,fr),onBlur:composeEventHandlers(or,xr),onMouseEnter:composeEventHandlers(lr,fr),onMouseLeave:composeEventHandlers(cr,xr),onTouchStart:composeEventHandlers(ur,fr)}]:[!1,dr,{}]}function composeEventHandlers(tr,Hn){return er=>{tr&&tr(er),er.defaultPrevented||Hn(er)}}function PrefetchPageLinks({page:tr,...Hn}){let{router:er}=useDataRouterContext2(),nr=reactExports.useMemo(()=>matchRoutes(er.routes,tr,er.basename),[er.routes,tr,er.basename]);return nr?reactExports.createElement(PrefetchPageLinksImpl,{page:tr,matches:nr,...Hn}):null}function useKeyedPrefetchLinks(tr){let{manifest:Hn,routeModules:er}=useFrameworkContext(),[nr,ir]=reactExports.useState([]);return reactExports.useEffect(()=>{let rr=!1;return getKeyedPrefetchLinks(tr,Hn,er).then(sr=>{rr||ir(sr)}),()=>{rr=!0}},[tr,Hn,er]),nr}function PrefetchPageLinksImpl({page:tr,matches:Hn,...er}){let nr=useLocation(),{manifest:ir,routeModules:rr}=useFrameworkContext(),{basename:sr}=useDataRouterContext2(),{loaderData:ar,matches:or}=useDataRouterStateContext(),lr=reactExports.useMemo(()=>getNewMatchesForLinks(tr,Hn,or,ir,nr,"data"),[tr,Hn,or,ir,nr]),cr=reactExports.useMemo(()=>getNewMatchesForLinks(tr,Hn,or,ir,nr,"assets"),[tr,Hn,or,ir,nr]),ur=reactExports.useMemo(()=>{if(tr===nr.pathname+nr.search+nr.hash)return[];let xr=new Set,yr=!1;if(Hn.forEach(Sr=>{let jr=ir.routes[Sr.route.id];!jr||!jr.hasLoader||(!lr.some(Dr=>Dr.route.id===Sr.route.id)&&Sr.route.id in ar&&rr[Sr.route.id]?.shouldRevalidate||jr.hasClientLoader?yr=!0:xr.add(Sr.route.id))}),xr.size===0)return[];let _r=singleFetchUrl(tr,sr,"data");return yr&&xr.size>0&&_r.searchParams.set("_routes",Hn.filter(Sr=>xr.has(Sr.route.id)).map(Sr=>Sr.route.id).join(",")),[_r.pathname+_r.search]},[sr,ar,nr,ir,lr,Hn,tr,rr]),dr=reactExports.useMemo(()=>getModuleLinkHrefs(cr,ir),[cr,ir]),fr=useKeyedPrefetchLinks(cr);return reactExports.createElement(reactExports.Fragment,null,ur.map(xr=>reactExports.createElement("link",{key:xr,rel:"prefetch",as:"fetch",href:xr,...er})),dr.map(xr=>reactExports.createElement("link",{key:xr,rel:"modulepreload",href:xr,...er})),fr.map(({key:xr,link:yr})=>reactExports.createElement("link",{key:xr,nonce:er.nonce,...yr})))}function mergeRefs(...tr){return Hn=>{tr.forEach(er=>{typeof er=="function"?er(Hn):er!=null&&(er.current=Hn)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function HashRouter({basename:tr,children:Hn,window:er}){let nr=reactExports.useRef();nr.current==null&&(nr.current=createHashHistory({window:er,v5Compat:!0}));let ir=nr.current,[rr,sr]=reactExports.useState({action:ir.action,location:ir.location}),ar=reactExports.useCallback(or=>{reactExports.startTransition(()=>sr(or))},[sr]);return reactExports.useLayoutEffect(()=>ir.listen(ar),[ir,ar]),reactExports.createElement(Router,{basename:tr,children:Hn,location:rr.location,navigationType:rr.action,navigator:ir})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:Hn,discover:er="render",prefetch:nr="none",relative:ir,reloadDocument:rr,replace:sr,state:ar,target:or,to:lr,preventScrollReset:cr,viewTransition:ur,...dr},fr){let{basename:xr}=reactExports.useContext(NavigationContext),yr=typeof lr=="string"&&ABSOLUTE_URL_REGEX2.test(lr),_r,Sr=!1;if(typeof lr=="string"&&yr&&(_r=lr,isBrowser))try{let Vr=new URL(window.location.href),Zr=lr.startsWith("//")?new URL(Vr.protocol+lr):new URL(lr),Hr=stripBasename(Zr.pathname,xr);Zr.origin===Vr.origin&&Hr!=null?lr=Hr+Zr.search+Zr.hash:Sr=!0}catch{warning(!1,`<Link to="${lr}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let jr=useHref(lr,{relative:ir}),[Dr,Ir,Mr]=usePrefetchBehavior(nr,dr),Or=useLinkClickHandler(lr,{replace:sr,state:ar,target:or,preventScrollReset:cr,relative:ir,viewTransition:ur});function Lr(Vr){Hn&&Hn(Vr),Vr.defaultPrevented||Or(Vr)}let Fr=reactExports.createElement("a",{...dr,...Mr,href:_r||jr,onClick:Sr||rr?Hn:Lr,ref:mergeRefs(fr,Ir),target:or,"data-discover":!yr&&er==="render"?"true":void 0});return Dr&&!yr?reactExports.createElement(reactExports.Fragment,null,Fr,reactExports.createElement(PrefetchPageLinks,{page:jr})):Fr});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":Hn="page",caseSensitive:er=!1,className:nr="",end:ir=!1,style:rr,to:sr,viewTransition:ar,children:or,...lr},cr){let ur=useResolvedPath(sr,{relative:lr.relative}),dr=useLocation(),fr=reactExports.useContext(DataRouterStateContext),{navigator:xr,basename:yr}=reactExports.useContext(NavigationContext),_r=fr!=null&&useViewTransitionState(ur)&&ar===!0,Sr=xr.encodeLocation?xr.encodeLocation(ur).pathname:ur.pathname,jr=dr.pathname,Dr=fr&&fr.navigation&&fr.navigation.location?fr.navigation.location.pathname:null;er||(jr=jr.toLowerCase(),Dr=Dr?Dr.toLowerCase():null,Sr=Sr.toLowerCase()),Dr&&yr&&(Dr=stripBasename(Dr,yr)||Dr);const Ir=Sr!=="/"&&Sr.endsWith("/")?Sr.length-1:Sr.length;let Mr=jr===Sr||!ir&&jr.startsWith(Sr)&&jr.charAt(Ir)==="/",Or=Dr!=null&&(Dr===Sr||!ir&&Dr.startsWith(Sr)&&Dr.charAt(Sr.length)==="/"),Lr={isActive:Mr,isPending:Or,isTransitioning:_r},Fr=Mr?Hn:void 0,Vr;typeof nr=="function"?Vr=nr(Lr):Vr=[nr,Mr?"active":null,Or?"pending":null,_r?"transitioning":null].filter(Boolean).join(" ");let Zr=typeof rr=="function"?rr(Lr):rr;return reactExports.createElement(Link,{...lr,"aria-current":Fr,className:Vr,ref:cr,style:Zr,to:sr,viewTransition:ar},typeof or=="function"?or(Lr):or)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:tr="render",fetcherKey:Hn,navigate:er,reloadDocument:nr,replace:ir,state:rr,method:sr=defaultMethod,action:ar,onSubmit:or,relative:lr,preventScrollReset:cr,viewTransition:ur,...dr},fr)=>{let xr=useSubmit(),yr=useFormAction(ar,{relative:lr}),_r=sr.toLowerCase()==="get"?"get":"post",Sr=typeof ar=="string"&&ABSOLUTE_URL_REGEX2.test(ar),jr=Dr=>{if(or&&or(Dr),Dr.defaultPrevented)return;Dr.preventDefault();let Ir=Dr.nativeEvent.submitter,Mr=Ir?.getAttribute("formmethod")||sr;xr(Ir||Dr.currentTarget,{fetcherKey:Hn,method:Mr,navigate:er,replace:ir,state:rr,relative:lr,preventScrollReset:cr,viewTransition:ur})};return reactExports.createElement("form",{ref:fr,method:_r,action:yr,onSubmit:nr?or:jr,...dr,"data-discover":!Sr&&tr==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(tr){return`${tr} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(tr){let Hn=reactExports.useContext(DataRouterContext);return invariant$1(Hn,getDataRouterConsoleError2(tr)),Hn}function useLinkClickHandler(tr,{target:Hn,replace:er,state:nr,preventScrollReset:ir,relative:rr,viewTransition:sr}={}){let ar=useNavigate(),or=useLocation(),lr=useResolvedPath(tr,{relative:rr});return reactExports.useCallback(cr=>{if(shouldProcessLinkClick(cr,Hn)){cr.preventDefault();let ur=er!==void 0?er:createPath(or)===createPath(lr);ar(tr,{replace:ur,state:nr,preventScrollReset:ir,relative:rr,viewTransition:sr})}},[or,ar,lr,er,nr,Hn,tr,ir,rr,sr])}function useSearchParams(tr){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let Hn=reactExports.useRef(createSearchParams(tr)),er=reactExports.useRef(!1),nr=useLocation(),ir=reactExports.useMemo(()=>getSearchParamsForLocation(nr.search,er.current?null:Hn.current),[nr.search]),rr=useNavigate(),sr=reactExports.useCallback((ar,or)=>{const lr=createSearchParams(typeof ar=="function"?ar(new URLSearchParams(ir)):ar);er.current=!0,rr("?"+lr,or)},[rr,ir]);return[ir,sr]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:tr}=useDataRouterContext3("useSubmit"),{basename:Hn}=reactExports.useContext(NavigationContext),er=useRouteId();return reactExports.useCallback(async(nr,ir={})=>{let{action:rr,method:sr,encType:ar,formData:or,body:lr}=getFormSubmissionInfo(nr,Hn);if(ir.navigate===!1){let cr=ir.fetcherKey||getUniqueFetcherId();await tr.fetch(cr,er,ir.action||rr,{preventScrollReset:ir.preventScrollReset,formData:or,body:lr,formMethod:ir.method||sr,formEncType:ir.encType||ar,flushSync:ir.flushSync})}else await tr.navigate(ir.action||rr,{preventScrollReset:ir.preventScrollReset,formData:or,body:lr,formMethod:ir.method||sr,formEncType:ir.encType||ar,replace:ir.replace,state:ir.state,fromRouteId:er,flushSync:ir.flushSync,viewTransition:ir.viewTransition})},[tr,Hn,er])}function useFormAction(tr,{relative:Hn}={}){let{basename:er}=reactExports.useContext(NavigationContext),nr=reactExports.useContext(RouteContext);invariant$1(nr,"useFormAction must be used inside a RouteContext");let[ir]=nr.matches.slice(-1),rr={...useResolvedPath(tr||".",{relative:Hn})},sr=useLocation();if(tr==null){rr.search=sr.search;let ar=new URLSearchParams(rr.search),or=ar.getAll("index");if(or.some(cr=>cr==="")){ar.delete("index"),or.filter(ur=>ur).forEach(ur=>ar.append("index",ur));let cr=ar.toString();rr.search=cr?`?${cr}`:""}}return(!tr||tr===".")&&ir.route.index&&(rr.search=rr.search?rr.search.replace(/^\?/,"?index&"):"?index"),er!=="/"&&(rr.pathname=rr.pathname==="/"?er:joinPaths([er,rr.pathname])),createPath(rr)}function useViewTransitionState(tr,{relative:Hn}={}){let er=reactExports.useContext(ViewTransitionContext);invariant$1(er!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:nr}=useDataRouterContext3("useViewTransitionState"),ir=useResolvedPath(tr,{relative:Hn});if(!er.isTransitioning)return!1;let rr=stripBasename(er.currentLocation.pathname,nr)||er.currentLocation.pathname,sr=stripBasename(er.nextLocation.pathname,nr)||er.nextLocation.pathname;return matchPath(ir.pathname,sr)!=null||matchPath(ir.pathname,rr)!=null}var reactDomExports=requireReactDom();function round$2(tr){return tr+.5|0}const lim=(tr,Hn,er)=>Math.max(Math.min(tr,er),Hn);function p2b(tr){return lim(round$2(tr*2.55),0,255)}function n2b(tr){return lim(round$2(tr*255),0,255)}function b2n(tr){return lim(round$2(tr/2.55)/100,0,1)}function n2p(tr){return lim(round$2(tr*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=tr=>hex$1[tr&15],h2=tr=>hex$1[(tr&240)>>4]+hex$1[tr&15],eq$1=tr=>(tr&240)>>4===(tr&15),isShort=tr=>eq$1(tr.r)&&eq$1(tr.g)&&eq$1(tr.b)&&eq$1(tr.a);function hexParse(tr){var Hn=tr.length,er;return tr[0]==="#"&&(Hn===4||Hn===5?er={r:255&map$1$1[tr[1]]*17,g:255&map$1$1[tr[2]]*17,b:255&map$1$1[tr[3]]*17,a:Hn===5?map$1$1[tr[4]]*17:255}:(Hn===7||Hn===9)&&(er={r:map$1$1[tr[1]]<<4|map$1$1[tr[2]],g:map$1$1[tr[3]]<<4|map$1$1[tr[4]],b:map$1$1[tr[5]]<<4|map$1$1[tr[6]],a:Hn===9?map$1$1[tr[7]]<<4|map$1$1[tr[8]]:255})),er}const alpha$1=(tr,Hn)=>tr<255?Hn(tr):"";function hexString(tr){var Hn=isShort(tr)?h1:h2;return tr?"#"+Hn(tr.r)+Hn(tr.g)+Hn(tr.b)+alpha$1(tr.a,Hn):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(tr,Hn,er){const nr=Hn*Math.min(er,1-er),ir=(rr,sr=(rr+tr/30)%12)=>er-nr*Math.max(Math.min(sr-3,9-sr,1),-1);return[ir(0),ir(8),ir(4)]}function hsv2rgbn(tr,Hn,er){const nr=(ir,rr=(ir+tr/60)%6)=>er-er*Hn*Math.max(Math.min(rr,4-rr,1),0);return[nr(5),nr(3),nr(1)]}function hwb2rgbn(tr,Hn,er){const nr=hsl2rgbn(tr,1,.5);let ir;for(Hn+er>1&&(ir=1/(Hn+er),Hn*=ir,er*=ir),ir=0;ir<3;ir++)nr[ir]*=1-Hn-er,nr[ir]+=Hn;return nr}function hueValue(tr,Hn,er,nr,ir){return tr===ir?(Hn-er)/nr+(Hn<er?6:0):Hn===ir?(er-tr)/nr+2:(tr-Hn)/nr+4}function rgb2hsl(tr){const er=tr.r/255,nr=tr.g/255,ir=tr.b/255,rr=Math.max(er,nr,ir),sr=Math.min(er,nr,ir),ar=(rr+sr)/2;let or,lr,cr;return rr!==sr&&(cr=rr-sr,lr=ar>.5?cr/(2-rr-sr):cr/(rr+sr),or=hueValue(er,nr,ir,cr,rr),or=or*60+.5),[or|0,lr||0,ar]}function calln(tr,Hn,er,nr){return(Array.isArray(Hn)?tr(Hn[0],Hn[1],Hn[2]):tr(Hn,er,nr)).map(n2b)}function hsl2rgb$1(tr,Hn,er){return calln(hsl2rgbn,tr,Hn,er)}function hwb2rgb(tr,Hn,er){return calln(hwb2rgbn,tr,Hn,er)}function hsv2rgb(tr,Hn,er){return calln(hsv2rgbn,tr,Hn,er)}function hue(tr){return(tr%360+360)%360}function hueParse(tr){const Hn=HUE_RE.exec(tr);let er=255,nr;if(!Hn)return;Hn[5]!==nr&&(er=Hn[6]?p2b(+Hn[5]):n2b(+Hn[5]));const ir=hue(+Hn[2]),rr=+Hn[3]/100,sr=+Hn[4]/100;return Hn[1]==="hwb"?nr=hwb2rgb(ir,rr,sr):Hn[1]==="hsv"?nr=hsv2rgb(ir,rr,sr):nr=hsl2rgb$1(ir,rr,sr),{r:nr[0],g:nr[1],b:nr[2],a:er}}function rotate(tr,Hn){var er=rgb2hsl(tr);er[0]=hue(er[0]+Hn),er=hsl2rgb$1(er),tr.r=er[0],tr.g=er[1],tr.b=er[2]}function hslString(tr){if(!tr)return;const Hn=rgb2hsl(tr),er=Hn[0],nr=n2p(Hn[1]),ir=n2p(Hn[2]);return tr.a<255?`hsla(${er}, ${nr}%, ${ir}%, ${b2n(tr.a)})`:`hsl(${er}, ${nr}%, ${ir}%)`}const map$3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const tr={},Hn=Object.keys(names$1),er=Object.keys(map$3);let nr,ir,rr,sr,ar;for(nr=0;nr<Hn.length;nr++){for(sr=ar=Hn[nr],ir=0;ir<er.length;ir++)rr=er[ir],ar=ar.replace(rr,map$3[rr]);rr=parseInt(names$1[sr],16),tr[ar]=[rr>>16&255,rr>>8&255,rr&255]}return tr}let names;function nameParse(tr){names||(names=unpack(),names.transparent=[0,0,0,0]);const Hn=names[tr.toLowerCase()];return Hn&&{r:Hn[0],g:Hn[1],b:Hn[2],a:Hn.length===4?Hn[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(tr){const Hn=RGB_RE.exec(tr);let er=255,nr,ir,rr;if(Hn){if(Hn[7]!==nr){const sr=+Hn[7];er=Hn[8]?p2b(sr):lim(sr*255,0,255)}return nr=+Hn[1],ir=+Hn[3],rr=+Hn[5],nr=255&(Hn[2]?p2b(nr):lim(nr,0,255)),ir=255&(Hn[4]?p2b(ir):lim(ir,0,255)),rr=255&(Hn[6]?p2b(rr):lim(rr,0,255)),{r:nr,g:ir,b:rr,a:er}}}function rgbString(tr){return tr&&(tr.a<255?`rgba(${tr.r}, ${tr.g}, ${tr.b}, ${b2n(tr.a)})`:`rgb(${tr.r}, ${tr.g}, ${tr.b})`)}const to$1=tr=>tr<=.0031308?tr*12.92:Math.pow(tr,1/2.4)*1.055-.055,from$1=tr=>tr<=.04045?tr/12.92:Math.pow((tr+.055)/1.055,2.4);function interpolate$3(tr,Hn,er){const nr=from$1(b2n(tr.r)),ir=from$1(b2n(tr.g)),rr=from$1(b2n(tr.b));return{r:n2b(to$1(nr+er*(from$1(b2n(Hn.r))-nr))),g:n2b(to$1(ir+er*(from$1(b2n(Hn.g))-ir))),b:n2b(to$1(rr+er*(from$1(b2n(Hn.b))-rr))),a:tr.a+er*(Hn.a-tr.a)}}function modHSL(tr,Hn,er){if(tr){let nr=rgb2hsl(tr);nr[Hn]=Math.max(0,Math.min(nr[Hn]+nr[Hn]*er,Hn===0?360:1)),nr=hsl2rgb$1(nr),tr.r=nr[0],tr.g=nr[1],tr.b=nr[2]}}function clone$2(tr,Hn){return tr&&Object.assign(Hn||{},tr)}function fromObject(tr){var Hn={r:0,g:0,b:0,a:255};return Array.isArray(tr)?tr.length>=3&&(Hn={r:tr[0],g:tr[1],b:tr[2],a:255},tr.length>3&&(Hn.a=n2b(tr[3]))):(Hn=clone$2(tr,{r:0,g:0,b:0,a:1}),Hn.a=n2b(Hn.a)),Hn}function functionParse(tr){return tr.charAt(0)==="r"?rgbParse(tr):hueParse(tr)}let Color$1=class a1{constructor(Hn){if(Hn instanceof a1)return Hn;const er=typeof Hn;let nr;er==="object"?nr=fromObject(Hn):er==="string"&&(nr=hexParse(Hn)||nameParse(Hn)||functionParse(Hn)),this._rgb=nr,this._valid=!!nr}get valid(){return this._valid}get rgb(){var Hn=clone$2(this._rgb);return Hn&&(Hn.a=b2n(Hn.a)),Hn}set rgb(Hn){this._rgb=fromObject(Hn)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(Hn,er){if(Hn){const nr=this.rgb,ir=Hn.rgb;let rr;const sr=er===rr?.5:er,ar=2*sr-1,or=nr.a-ir.a,lr=((ar*or===-1?ar:(ar+or)/(1+ar*or))+1)/2;rr=1-lr,nr.r=255&lr*nr.r+rr*ir.r+.5,nr.g=255&lr*nr.g+rr*ir.g+.5,nr.b=255&lr*nr.b+rr*ir.b+.5,nr.a=sr*nr.a+(1-sr)*ir.a,this.rgb=nr}return this}interpolate(Hn,er){return Hn&&(this._rgb=interpolate$3(this._rgb,Hn._rgb,er)),this}clone(){return new a1(this.rgb)}alpha(Hn){return this._rgb.a=n2b(Hn),this}clearer(Hn){const er=this._rgb;return er.a*=1-Hn,this}greyscale(){const Hn=this._rgb,er=round$2(Hn.r*.3+Hn.g*.59+Hn.b*.11);return Hn.r=Hn.g=Hn.b=er,this}opaquer(Hn){const er=this._rgb;return er.a*=1+Hn,this}negate(){const Hn=this._rgb;return Hn.r=255-Hn.r,Hn.g=255-Hn.g,Hn.b=255-Hn.b,this}lighten(Hn){return modHSL(this._rgb,2,Hn),this}darken(Hn){return modHSL(this._rgb,2,-Hn),this}saturate(Hn){return modHSL(this._rgb,1,Hn),this}desaturate(Hn){return modHSL(this._rgb,1,-Hn),this}rotate(Hn){return rotate(this._rgb,Hn),this}};function noop$5(){}const uid=(()=>{let tr=0;return()=>tr++})();function isNullOrUndef(tr){return tr==null}function isArray$1(tr){if(Array.isArray&&Array.isArray(tr))return!0;const Hn=Object.prototype.toString.call(tr);return Hn.slice(0,7)==="[object"&&Hn.slice(-6)==="Array]"}function isObject$2(tr){return tr!==null&&Object.prototype.toString.call(tr)==="[object Object]"}function isNumberFinite(tr){return(typeof tr=="number"||tr instanceof Number)&&isFinite(+tr)}function finiteOrDefault(tr,Hn){return isNumberFinite(tr)?tr:Hn}function valueOrDefault(tr,Hn){return typeof tr>"u"?Hn:tr}const toPercentage=(tr,Hn)=>typeof tr=="string"&&tr.endsWith("%")?parseFloat(tr)/100:+tr/Hn,toDimension=(tr,Hn)=>typeof tr=="string"&&tr.endsWith("%")?parseFloat(tr)/100*Hn:+tr;function callback(tr,Hn,er){if(tr&&typeof tr.call=="function")return tr.apply(er,Hn)}function each$1(tr,Hn,er,nr){let ir,rr,sr;if(isArray$1(tr))for(rr=tr.length,ir=0;ir<rr;ir++)Hn.call(er,tr[ir],ir);else if(isObject$2(tr))for(sr=Object.keys(tr),rr=sr.length,ir=0;ir<rr;ir++)Hn.call(er,tr[sr[ir]],sr[ir])}function _elementsEqual(tr,Hn){let er,nr,ir,rr;if(!tr||!Hn||tr.length!==Hn.length)return!1;for(er=0,nr=tr.length;er<nr;++er)if(ir=tr[er],rr=Hn[er],ir.datasetIndex!==rr.datasetIndex||ir.index!==rr.index)return!1;return!0}function clone$1(tr){if(isArray$1(tr))return tr.map(clone$1);if(isObject$2(tr)){const Hn=Object.create(null),er=Object.keys(tr),nr=er.length;let ir=0;for(;ir<nr;++ir)Hn[er[ir]]=clone$1(tr[er[ir]]);return Hn}return tr}function isValidKey(tr){return["__proto__","prototype","constructor"].indexOf(tr)===-1}function _merger(tr,Hn,er,nr){if(!isValidKey(tr))return;const ir=Hn[tr],rr=er[tr];isObject$2(ir)&&isObject$2(rr)?merge$1(ir,rr,nr):Hn[tr]=clone$1(rr)}function merge$1(tr,Hn,er){const nr=isArray$1(Hn)?Hn:[Hn],ir=nr.length;if(!isObject$2(tr))return tr;er=er||{};const rr=er.merger||_merger;let sr;for(let ar=0;ar<ir;++ar){if(sr=nr[ar],!isObject$2(sr))continue;const or=Object.keys(sr);for(let lr=0,cr=or.length;lr<cr;++lr)rr(or[lr],tr,sr,er)}return tr}function mergeIf(tr,Hn){return merge$1(tr,Hn,{merger:_mergerIf})}function _mergerIf(tr,Hn,er){if(!isValidKey(tr))return;const nr=Hn[tr],ir=er[tr];isObject$2(nr)&&isObject$2(ir)?mergeIf(nr,ir):Object.prototype.hasOwnProperty.call(Hn,tr)||(Hn[tr]=clone$1(ir))}const keyResolvers={"":tr=>tr,x:tr=>tr.x,y:tr=>tr.y};function _splitKey(tr){const Hn=tr.split("."),er=[];let nr="";for(const ir of Hn)nr+=ir,nr.endsWith("\\")?nr=nr.slice(0,-1)+".":(er.push(nr),nr="");return er}function _getKeyResolver(tr){const Hn=_splitKey(tr);return er=>{for(const nr of Hn){if(nr==="")break;er=er&&er[nr]}return er}}function resolveObjectKey(tr,Hn){return(keyResolvers[Hn]||(keyResolvers[Hn]=_getKeyResolver(Hn)))(tr)}function _capitalize(tr){return tr.charAt(0).toUpperCase()+tr.slice(1)}const defined$1=tr=>typeof tr<"u",isFunction$2=tr=>typeof tr=="function",setsEqual=(tr,Hn)=>{if(tr.size!==Hn.size)return!1;for(const er of tr)if(!Hn.has(er))return!1;return!0};function _isClickEvent(tr){return tr.type==="mouseup"||tr.type==="click"||tr.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$1=Math.sign;function almostEquals(tr,Hn,er){return Math.abs(tr-Hn)<er}function niceNum(tr){const Hn=Math.round(tr);tr=almostEquals(tr,Hn,tr/1e3)?Hn:tr;const er=Math.pow(10,Math.floor(log10(tr))),nr=tr/er;return(nr<=1?1:nr<=2?2:nr<=5?5:10)*er}function _factorize(tr){const Hn=[],er=Math.sqrt(tr);let nr;for(nr=1;nr<er;nr++)tr%nr===0&&(Hn.push(nr),Hn.push(tr/nr));return er===(er|0)&&Hn.push(er),Hn.sort((ir,rr)=>ir-rr).pop(),Hn}function isNonPrimitive(tr){return typeof tr=="symbol"||typeof tr=="object"&&tr!==null&&!(Symbol.toPrimitive in tr||"toString"in tr||"valueOf"in tr)}function isNumber$2(tr){return!isNonPrimitive(tr)&&!isNaN(parseFloat(tr))&&isFinite(tr)}function almostWhole(tr,Hn){const er=Math.round(tr);return er-Hn<=tr&&er+Hn>=tr}function _setMinAndMaxByKey(tr,Hn,er){let nr,ir,rr;for(nr=0,ir=tr.length;nr<ir;nr++)rr=tr[nr][er],isNaN(rr)||(Hn.min=Math.min(Hn.min,rr),Hn.max=Math.max(Hn.max,rr))}function toRadians(tr){return tr*(PI/180)}function toDegrees(tr){return tr*(180/PI)}function _decimalPlaces(tr){if(!isNumberFinite(tr))return;let Hn=1,er=0;for(;Math.round(tr*Hn)/Hn!==tr;)Hn*=10,er++;return er}function getAngleFromPoint(tr,Hn){const er=Hn.x-tr.x,nr=Hn.y-tr.y,ir=Math.sqrt(er*er+nr*nr);let rr=Math.atan2(nr,er);return rr<-.5*PI&&(rr+=TAU),{angle:rr,distance:ir}}function distanceBetweenPoints$1(tr,Hn){return Math.sqrt(Math.pow(Hn.x-tr.x,2)+Math.pow(Hn.y-tr.y,2))}function _angleDiff(tr,Hn){return(tr-Hn+PITAU)%TAU-PI}function _normalizeAngle(tr){return(tr%TAU+TAU)%TAU}function _angleBetween(tr,Hn,er,nr){const ir=_normalizeAngle(tr),rr=_normalizeAngle(Hn),sr=_normalizeAngle(er),ar=_normalizeAngle(rr-ir),or=_normalizeAngle(sr-ir),lr=_normalizeAngle(ir-rr),cr=_normalizeAngle(ir-sr);return ir===rr||ir===sr||nr&&rr===sr||ar>or&&lr<cr}function _limitValue(tr,Hn,er){return Math.max(Hn,Math.min(er,tr))}function _int16Range(tr){return _limitValue(tr,-32768,32767)}function _isBetween(tr,Hn,er,nr=1e-6){return tr>=Math.min(Hn,er)-nr&&tr<=Math.max(Hn,er)+nr}function _lookup(tr,Hn,er){er=er||(sr=>tr[sr]<Hn);let nr=tr.length-1,ir=0,rr;for(;nr-ir>1;)rr=ir+nr>>1,er(rr)?ir=rr:nr=rr;return{lo:ir,hi:nr}}const _lookupByKey=(tr,Hn,er,nr)=>_lookup(tr,er,nr?ir=>{const rr=tr[ir][Hn];return rr<er||rr===er&&tr[ir+1][Hn]===er}:ir=>tr[ir][Hn]<er),_rlookupByKey=(tr,Hn,er)=>_lookup(tr,er,nr=>tr[nr][Hn]>=er);function _filterBetween(tr,Hn,er){let nr=0,ir=tr.length;for(;nr<ir&&tr[nr]<Hn;)nr++;for(;ir>nr&&tr[ir-1]>er;)ir--;return nr>0||ir<tr.length?tr.slice(nr,ir):tr}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(tr,Hn){if(tr._chartjs){tr._chartjs.listeners.push(Hn);return}Object.defineProperty(tr,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Hn]}}),arrayEvents.forEach(er=>{const nr="_onData"+_capitalize(er),ir=tr[er];Object.defineProperty(tr,er,{configurable:!0,enumerable:!1,value(...rr){const sr=ir.apply(this,rr);return tr._chartjs.listeners.forEach(ar=>{typeof ar[nr]=="function"&&ar[nr](...rr)}),sr}})})}function unlistenArrayEvents(tr,Hn){const er=tr._chartjs;if(!er)return;const nr=er.listeners,ir=nr.indexOf(Hn);ir!==-1&&nr.splice(ir,1),!(nr.length>0)&&(arrayEvents.forEach(rr=>{delete tr[rr]}),delete tr._chartjs)}function _arrayUnique(tr){const Hn=new Set(tr);return Hn.size===tr.length?tr:Array.from(Hn)}const requestAnimFrame=(function(){return typeof window>"u"?function(tr){return tr()}:window.requestAnimationFrame})();function throttled(tr,Hn){let er=[],nr=!1;return function(...ir){er=ir,nr||(nr=!0,requestAnimFrame.call(window,()=>{nr=!1,tr.apply(Hn,er)}))}}function debounce$3(tr,Hn){let er;return function(...nr){return Hn?(clearTimeout(er),er=setTimeout(tr,Hn,nr)):tr.apply(this,nr),Hn}}const _toLeftRightCenter=tr=>tr==="start"?"left":tr==="end"?"right":"center",_alignStartEnd=(tr,Hn,er)=>tr==="start"?Hn:tr==="end"?er:(Hn+er)/2,_textX=(tr,Hn,er,nr)=>tr===(nr?"left":"right")?er:tr==="center"?(Hn+er)/2:Hn;function _getStartAndCountOfVisiblePoints(tr,Hn,er){const nr=Hn.length;let ir=0,rr=nr;if(tr._sorted){const{iScale:sr,vScale:ar,_parsed:or}=tr,lr=tr.dataset&&tr.dataset.options?tr.dataset.options.spanGaps:null,cr=sr.axis,{min:ur,max:dr,minDefined:fr,maxDefined:xr}=sr.getUserBounds();if(fr){if(ir=Math.min(_lookupByKey(or,cr,ur).lo,er?nr:_lookupByKey(Hn,cr,sr.getPixelForValue(ur)).lo),lr){const yr=or.slice(0,ir+1).reverse().findIndex(_r=>!isNullOrUndef(_r[ar.axis]));ir-=Math.max(0,yr)}ir=_limitValue(ir,0,nr-1)}if(xr){let yr=Math.max(_lookupByKey(or,sr.axis,dr,!0).hi+1,er?0:_lookupByKey(Hn,cr,sr.getPixelForValue(dr),!0).hi+1);if(lr){const _r=or.slice(yr-1).findIndex(Sr=>!isNullOrUndef(Sr[ar.axis]));yr+=Math.max(0,_r)}rr=_limitValue(yr,ir,nr)-ir}else rr=nr-ir}return{start:ir,count:rr}}function _scaleRangesChanged(tr){const{xScale:Hn,yScale:er,_scaleRanges:nr}=tr,ir={xmin:Hn.min,xmax:Hn.max,ymin:er.min,ymax:er.max};if(!nr)return tr._scaleRanges=ir,!0;const rr=nr.xmin!==Hn.min||nr.xmax!==Hn.max||nr.ymin!==er.min||nr.ymax!==er.max;return Object.assign(nr,ir),rr}const atEdge=tr=>tr===0||tr===1,elasticIn=(tr,Hn,er)=>-(Math.pow(2,10*(tr-=1))*Math.sin((tr-Hn)*TAU/er)),elasticOut=(tr,Hn,er)=>Math.pow(2,-10*tr)*Math.sin((tr-Hn)*TAU/er)+1,effects={linear:tr=>tr,easeInQuad:tr=>tr*tr,easeOutQuad:tr=>-tr*(tr-2),easeInOutQuad:tr=>(tr/=.5)<1?.5*tr*tr:-.5*(--tr*(tr-2)-1),easeInCubic:tr=>tr*tr*tr,easeOutCubic:tr=>(tr-=1)*tr*tr+1,easeInOutCubic:tr=>(tr/=.5)<1?.5*tr*tr*tr:.5*((tr-=2)*tr*tr+2),easeInQuart:tr=>tr*tr*tr*tr,easeOutQuart:tr=>-((tr-=1)*tr*tr*tr-1),easeInOutQuart:tr=>(tr/=.5)<1?.5*tr*tr*tr*tr:-.5*((tr-=2)*tr*tr*tr-2),easeInQuint:tr=>tr*tr*tr*tr*tr,easeOutQuint:tr=>(tr-=1)*tr*tr*tr*tr+1,easeInOutQuint:tr=>(tr/=.5)<1?.5*tr*tr*tr*tr*tr:.5*((tr-=2)*tr*tr*tr*tr+2),easeInSine:tr=>-Math.cos(tr*HALF_PI)+1,easeOutSine:tr=>Math.sin(tr*HALF_PI),easeInOutSine:tr=>-.5*(Math.cos(PI*tr)-1),easeInExpo:tr=>tr===0?0:Math.pow(2,10*(tr-1)),easeOutExpo:tr=>tr===1?1:-Math.pow(2,-10*tr)+1,easeInOutExpo:tr=>atEdge(tr)?tr:tr<.5?.5*Math.pow(2,10*(tr*2-1)):.5*(-Math.pow(2,-10*(tr*2-1))+2),easeInCirc:tr=>tr>=1?tr:-(Math.sqrt(1-tr*tr)-1),easeOutCirc:tr=>Math.sqrt(1-(tr-=1)*tr),easeInOutCirc:tr=>(tr/=.5)<1?-.5*(Math.sqrt(1-tr*tr)-1):.5*(Math.sqrt(1-(tr-=2)*tr)+1),easeInElastic:tr=>atEdge(tr)?tr:elasticIn(tr,.075,.3),easeOutElastic:tr=>atEdge(tr)?tr:elasticOut(tr,.075,.3),easeInOutElastic(tr){return atEdge(tr)?tr:tr<.5?.5*elasticIn(tr*2,.1125,.45):.5+.5*elasticOut(tr*2-1,.1125,.45)},easeInBack(tr){return tr*tr*((1.70158+1)*tr-1.70158)},easeOutBack(tr){return(tr-=1)*tr*((1.70158+1)*tr+1.70158)+1},easeInOutBack(tr){let Hn=1.70158;return(tr/=.5)<1?.5*(tr*tr*(((Hn*=1.525)+1)*tr-Hn)):.5*((tr-=2)*tr*(((Hn*=1.525)+1)*tr+Hn)+2)},easeInBounce:tr=>1-effects.easeOutBounce(1-tr),easeOutBounce(tr){return tr<1/2.75?7.5625*tr*tr:tr<2/2.75?7.5625*(tr-=1.5/2.75)*tr+.75:tr<2.5/2.75?7.5625*(tr-=2.25/2.75)*tr+.9375:7.5625*(tr-=2.625/2.75)*tr+.984375},easeInOutBounce:tr=>tr<.5?effects.easeInBounce(tr*2)*.5:effects.easeOutBounce(tr*2-1)*.5+.5};function isPatternOrGradient(tr){if(tr&&typeof tr=="object"){const Hn=tr.toString();return Hn==="[object CanvasPattern]"||Hn==="[object CanvasGradient]"}return!1}function color$1(tr){return isPatternOrGradient(tr)?tr:new Color$1(tr)}function getHoverColor(tr){return isPatternOrGradient(tr)?tr:new Color$1(tr).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(tr){tr.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),tr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Hn=>Hn!=="onProgress"&&Hn!=="onComplete"&&Hn!=="fn"}),tr.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),tr.describe("animations",{_fallback:"animation"}),tr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Hn=>Hn|0}}}})}function applyLayoutsDefaults(tr){tr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(tr,Hn){Hn=Hn||{};const er=tr+JSON.stringify(Hn);let nr=intlCache.get(er);return nr||(nr=new Intl.NumberFormat(tr,Hn),intlCache.set(er,nr)),nr}function formatNumber$1(tr,Hn,er){return getNumberFormat(Hn,er).format(tr)}const formatters$1={values(tr){return isArray$1(tr)?tr:""+tr},numeric(tr,Hn,er){if(tr===0)return"0";const nr=this.chart.options.locale;let ir,rr=tr;if(er.length>1){const lr=Math.max(Math.abs(er[0].value),Math.abs(er[er.length-1].value));(lr<1e-4||lr>1e15)&&(ir="scientific"),rr=calculateDelta(tr,er)}const sr=log10(Math.abs(rr)),ar=isNaN(sr)?1:Math.max(Math.min(-1*Math.floor(sr),20),0),or={notation:ir,minimumFractionDigits:ar,maximumFractionDigits:ar};return Object.assign(or,this.options.ticks.format),formatNumber$1(tr,nr,or)},logarithmic(tr,Hn,er){if(tr===0)return"0";const nr=er[Hn].significand||tr/Math.pow(10,Math.floor(log10(tr)));return[1,2,3,5,10,15].includes(nr)||Hn>.8*er.length?formatters$1.numeric.call(this,tr,Hn,er):""}};function calculateDelta(tr,Hn){let er=Hn.length>3?Hn[2].value-Hn[1].value:Hn[1].value-Hn[0].value;return Math.abs(er)>=1&&tr!==Math.floor(tr)&&(er=tr-Math.floor(tr)),er}var Ticks$1={formatters:formatters$1};function applyScaleDefaults(tr){tr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Hn,er)=>er.lineWidth,tickColor:(Hn,er)=>er.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks$1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),tr.route("scale.ticks","color","","color"),tr.route("scale.grid","color","","borderColor"),tr.route("scale.border","color","","borderColor"),tr.route("scale.title","color","","color"),tr.describe("scale",{_fallback:!1,_scriptable:Hn=>!Hn.startsWith("before")&&!Hn.startsWith("after")&&Hn!=="callback"&&Hn!=="parser",_indexable:Hn=>Hn!=="borderDash"&&Hn!=="tickBorderDash"&&Hn!=="dash"}),tr.describe("scales",{_fallback:"scale"}),tr.describe("scale.ticks",{_scriptable:Hn=>Hn!=="backdropPadding"&&Hn!=="callback",_indexable:Hn=>Hn!=="backdropPadding"})}const overrides=Object.create(null),descriptors$1=Object.create(null);function getScope$1(tr,Hn){if(!Hn)return tr;const er=Hn.split(".");for(let nr=0,ir=er.length;nr<ir;++nr){const rr=er[nr];tr=tr[rr]||(tr[rr]=Object.create(null))}return tr}function set$1(tr,Hn,er){return typeof Hn=="string"?merge$1(getScope$1(tr,Hn),er):merge$1(getScope$1(tr,""),Hn)}class Defaults{constructor(Hn,er){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=nr=>nr.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(nr,ir)=>getHoverColor(ir.backgroundColor),this.hoverBorderColor=(nr,ir)=>getHoverColor(ir.borderColor),this.hoverColor=(nr,ir)=>getHoverColor(ir.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Hn),this.apply(er)}set(Hn,er){return set$1(this,Hn,er)}get(Hn){return getScope$1(this,Hn)}describe(Hn,er){return set$1(descriptors$1,Hn,er)}override(Hn,er){return set$1(overrides,Hn,er)}route(Hn,er,nr,ir){const rr=getScope$1(this,Hn),sr=getScope$1(this,nr),ar="_"+er;Object.defineProperties(rr,{[ar]:{value:rr[er],writable:!0},[er]:{enumerable:!0,get(){const or=this[ar],lr=sr[ir];return isObject$2(or)?Object.assign({},lr,or):valueOrDefault(or,lr)},set(or){this[ar]=or}}})}apply(Hn){Hn.forEach(er=>er(this))}}var defaults$4=new Defaults({_scriptable:tr=>!tr.startsWith("on"),_indexable:tr=>tr!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(tr){return!tr||isNullOrUndef(tr.size)||isNullOrUndef(tr.family)?null:(tr.style?tr.style+" ":"")+(tr.weight?tr.weight+" ":"")+tr.size+"px "+tr.family}function _measureText(tr,Hn,er,nr,ir){let rr=Hn[ir];return rr||(rr=Hn[ir]=tr.measureText(ir).width,er.push(ir)),rr>nr&&(nr=rr),nr}function _longestText(tr,Hn,er,nr){nr=nr||{};let ir=nr.data=nr.data||{},rr=nr.garbageCollect=nr.garbageCollect||[];nr.font!==Hn&&(ir=nr.data={},rr=nr.garbageCollect=[],nr.font=Hn),tr.save(),tr.font=Hn;let sr=0;const ar=er.length;let or,lr,cr,ur,dr;for(or=0;or<ar;or++)if(ur=er[or],ur!=null&&!isArray$1(ur))sr=_measureText(tr,ir,rr,sr,ur);else if(isArray$1(ur))for(lr=0,cr=ur.length;lr<cr;lr++)dr=ur[lr],dr!=null&&!isArray$1(dr)&&(sr=_measureText(tr,ir,rr,sr,dr));tr.restore();const fr=rr.length/2;if(fr>er.length){for(or=0;or<fr;or++)delete ir[rr[or]];rr.splice(0,fr)}return sr}function _alignPixel(tr,Hn,er){const nr=tr.currentDevicePixelRatio,ir=er!==0?Math.max(er/2,.5):0;return Math.round((Hn-ir)*nr)/nr+ir}function clearCanvas(tr,Hn){!Hn&&!tr||(Hn=Hn||tr.getContext("2d"),Hn.save(),Hn.resetTransform(),Hn.clearRect(0,0,tr.width,tr.height),Hn.restore())}function drawPoint$1(tr,Hn,er,nr){drawPointLegend(tr,Hn,er,nr,null)}function drawPointLegend(tr,Hn,er,nr,ir){let rr,sr,ar,or,lr,cr,ur,dr;const fr=Hn.pointStyle,xr=Hn.rotation,yr=Hn.radius;let _r=(xr||0)*RAD_PER_DEG;if(fr&&typeof fr=="object"&&(rr=fr.toString(),rr==="[object HTMLImageElement]"||rr==="[object HTMLCanvasElement]")){tr.save(),tr.translate(er,nr),tr.rotate(_r),tr.drawImage(fr,-fr.width/2,-fr.height/2,fr.width,fr.height),tr.restore();return}if(!(isNaN(yr)||yr<=0)){switch(tr.beginPath(),fr){default:ir?tr.ellipse(er,nr,ir/2,yr,0,0,TAU):tr.arc(er,nr,yr,0,TAU),tr.closePath();break;case"triangle":cr=ir?ir/2:yr,tr.moveTo(er+Math.sin(_r)*cr,nr-Math.cos(_r)*yr),_r+=TWO_THIRDS_PI,tr.lineTo(er+Math.sin(_r)*cr,nr-Math.cos(_r)*yr),_r+=TWO_THIRDS_PI,tr.lineTo(er+Math.sin(_r)*cr,nr-Math.cos(_r)*yr),tr.closePath();break;case"rectRounded":lr=yr*.516,or=yr-lr,sr=Math.cos(_r+QUARTER_PI)*or,ur=Math.cos(_r+QUARTER_PI)*(ir?ir/2-lr:or),ar=Math.sin(_r+QUARTER_PI)*or,dr=Math.sin(_r+QUARTER_PI)*(ir?ir/2-lr:or),tr.arc(er-ur,nr-ar,lr,_r-PI,_r-HALF_PI),tr.arc(er+dr,nr-sr,lr,_r-HALF_PI,_r),tr.arc(er+ur,nr+ar,lr,_r,_r+HALF_PI),tr.arc(er-dr,nr+sr,lr,_r+HALF_PI,_r+PI),tr.closePath();break;case"rect":if(!xr){or=Math.SQRT1_2*yr,cr=ir?ir/2:or,tr.rect(er-cr,nr-or,2*cr,2*or);break}_r+=QUARTER_PI;case"rectRot":ur=Math.cos(_r)*(ir?ir/2:yr),sr=Math.cos(_r)*yr,ar=Math.sin(_r)*yr,dr=Math.sin(_r)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+dr,nr-sr),tr.lineTo(er+ur,nr+ar),tr.lineTo(er-dr,nr+sr),tr.closePath();break;case"crossRot":_r+=QUARTER_PI;case"cross":ur=Math.cos(_r)*(ir?ir/2:yr),sr=Math.cos(_r)*yr,ar=Math.sin(_r)*yr,dr=Math.sin(_r)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+ur,nr+ar),tr.moveTo(er+dr,nr-sr),tr.lineTo(er-dr,nr+sr);break;case"star":ur=Math.cos(_r)*(ir?ir/2:yr),sr=Math.cos(_r)*yr,ar=Math.sin(_r)*yr,dr=Math.sin(_r)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+ur,nr+ar),tr.moveTo(er+dr,nr-sr),tr.lineTo(er-dr,nr+sr),_r+=QUARTER_PI,ur=Math.cos(_r)*(ir?ir/2:yr),sr=Math.cos(_r)*yr,ar=Math.sin(_r)*yr,dr=Math.sin(_r)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+ur,nr+ar),tr.moveTo(er+dr,nr-sr),tr.lineTo(er-dr,nr+sr);break;case"line":sr=ir?ir/2:Math.cos(_r)*yr,ar=Math.sin(_r)*yr,tr.moveTo(er-sr,nr-ar),tr.lineTo(er+sr,nr+ar);break;case"dash":tr.moveTo(er,nr),tr.lineTo(er+Math.cos(_r)*(ir?ir/2:yr),nr+Math.sin(_r)*yr);break;case!1:tr.closePath();break}tr.fill(),Hn.borderWidth>0&&tr.stroke()}}function _isPointInArea(tr,Hn,er){return er=er||.5,!Hn||tr&&tr.x>Hn.left-er&&tr.x<Hn.right+er&&tr.y>Hn.top-er&&tr.y<Hn.bottom+er}function clipArea(tr,Hn){tr.save(),tr.beginPath(),tr.rect(Hn.left,Hn.top,Hn.right-Hn.left,Hn.bottom-Hn.top),tr.clip()}function unclipArea(tr){tr.restore()}function _steppedLineTo(tr,Hn,er,nr,ir){if(!Hn)return tr.lineTo(er.x,er.y);if(ir==="middle"){const rr=(Hn.x+er.x)/2;tr.lineTo(rr,Hn.y),tr.lineTo(rr,er.y)}else ir==="after"!=!!nr?tr.lineTo(Hn.x,er.y):tr.lineTo(er.x,Hn.y);tr.lineTo(er.x,er.y)}function _bezierCurveTo(tr,Hn,er,nr){if(!Hn)return tr.lineTo(er.x,er.y);tr.bezierCurveTo(nr?Hn.cp1x:Hn.cp2x,nr?Hn.cp1y:Hn.cp2y,nr?er.cp2x:er.cp1x,nr?er.cp2y:er.cp1y,er.x,er.y)}function setRenderOpts(tr,Hn){Hn.translation&&tr.translate(Hn.translation[0],Hn.translation[1]),isNullOrUndef(Hn.rotation)||tr.rotate(Hn.rotation),Hn.color&&(tr.fillStyle=Hn.color),Hn.textAlign&&(tr.textAlign=Hn.textAlign),Hn.textBaseline&&(tr.textBaseline=Hn.textBaseline)}function decorateText(tr,Hn,er,nr,ir){if(ir.strikethrough||ir.underline){const rr=tr.measureText(nr),sr=Hn-rr.actualBoundingBoxLeft,ar=Hn+rr.actualBoundingBoxRight,or=er-rr.actualBoundingBoxAscent,lr=er+rr.actualBoundingBoxDescent,cr=ir.strikethrough?(or+lr)/2:lr;tr.strokeStyle=tr.fillStyle,tr.beginPath(),tr.lineWidth=ir.decorationWidth||2,tr.moveTo(sr,cr),tr.lineTo(ar,cr),tr.stroke()}}function drawBackdrop(tr,Hn){const er=tr.fillStyle;tr.fillStyle=Hn.color,tr.fillRect(Hn.left,Hn.top,Hn.width,Hn.height),tr.fillStyle=er}function renderText(tr,Hn,er,nr,ir,rr={}){const sr=isArray$1(Hn)?Hn:[Hn],ar=rr.strokeWidth>0&&rr.strokeColor!=="";let or,lr;for(tr.save(),tr.font=ir.string,setRenderOpts(tr,rr),or=0;or<sr.length;++or)lr=sr[or],rr.backdrop&&drawBackdrop(tr,rr.backdrop),ar&&(rr.strokeColor&&(tr.strokeStyle=rr.strokeColor),isNullOrUndef(rr.strokeWidth)||(tr.lineWidth=rr.strokeWidth),tr.strokeText(lr,er,nr,rr.maxWidth)),tr.fillText(lr,er,nr,rr.maxWidth),decorateText(tr,er,nr,lr,rr),nr+=Number(ir.lineHeight);tr.restore()}function addRoundedRectPath(tr,Hn){const{x:er,y:nr,w:ir,h:rr,radius:sr}=Hn;tr.arc(er+sr.topLeft,nr+sr.topLeft,sr.topLeft,1.5*PI,PI,!0),tr.lineTo(er,nr+rr-sr.bottomLeft),tr.arc(er+sr.bottomLeft,nr+rr-sr.bottomLeft,sr.bottomLeft,PI,HALF_PI,!0),tr.lineTo(er+ir-sr.bottomRight,nr+rr),tr.arc(er+ir-sr.bottomRight,nr+rr-sr.bottomRight,sr.bottomRight,HALF_PI,0,!0),tr.lineTo(er+ir,nr+sr.topRight),tr.arc(er+ir-sr.topRight,nr+sr.topRight,sr.topRight,0,-HALF_PI,!0),tr.lineTo(er+sr.topLeft,nr)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(tr,Hn){const er=(""+tr).match(LINE_HEIGHT);if(!er||er[1]==="normal")return Hn*1.2;switch(tr=+er[2],er[3]){case"px":return tr;case"%":tr/=100;break}return Hn*tr}const numberOrZero=tr=>+tr||0;function _readValueToProps(tr,Hn){const er={},nr=isObject$2(Hn),ir=nr?Object.keys(Hn):Hn,rr=isObject$2(tr)?nr?sr=>valueOrDefault(tr[sr],tr[Hn[sr]]):sr=>tr[sr]:()=>tr;for(const sr of ir)er[sr]=numberOrZero(rr(sr));return er}function toTRBL(tr){return _readValueToProps(tr,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(tr){return _readValueToProps(tr,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(tr){const Hn=toTRBL(tr);return Hn.width=Hn.left+Hn.right,Hn.height=Hn.top+Hn.bottom,Hn}function toFont(tr,Hn){tr=tr||{},Hn=Hn||defaults$4.font;let er=valueOrDefault(tr.size,Hn.size);typeof er=="string"&&(er=parseInt(er,10));let nr=valueOrDefault(tr.style,Hn.style);nr&&!(""+nr).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+nr+'"'),nr=void 0);const ir={family:valueOrDefault(tr.family,Hn.family),lineHeight:toLineHeight(valueOrDefault(tr.lineHeight,Hn.lineHeight),er),size:er,style:nr,weight:valueOrDefault(tr.weight,Hn.weight),string:""};return ir.string=toFontString(ir),ir}function resolve$1(tr,Hn,er,nr){let ir,rr,sr;for(ir=0,rr=tr.length;ir<rr;++ir)if(sr=tr[ir],sr!==void 0&&(Hn!==void 0&&typeof sr=="function"&&(sr=sr(Hn)),er!==void 0&&isArray$1(sr)&&(sr=sr[er%sr.length]),sr!==void 0))return sr}function _addGrace(tr,Hn,er){const{min:nr,max:ir}=tr,rr=toDimension(Hn,(ir-nr)/2),sr=(ar,or)=>er&&ar===0?0:ar+or;return{min:sr(nr,-Math.abs(rr)),max:sr(ir,rr)}}function createContext(tr,Hn){return Object.assign(Object.create(tr),Hn)}function _createResolver(tr,Hn=[""],er,nr,ir=()=>tr[0]){const rr=er||tr;typeof nr>"u"&&(nr=_resolve("_fallback",tr));const sr={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:tr,_rootScopes:rr,_fallback:nr,_getTarget:ir,override:ar=>_createResolver([ar,...tr],Hn,rr,nr)};return new Proxy(sr,{deleteProperty(ar,or){return delete ar[or],delete ar._keys,delete tr[0][or],!0},get(ar,or){return _cached(ar,or,()=>_resolveWithPrefixes(or,Hn,tr,ar))},getOwnPropertyDescriptor(ar,or){return Reflect.getOwnPropertyDescriptor(ar._scopes[0],or)},getPrototypeOf(){return Reflect.getPrototypeOf(tr[0])},has(ar,or){return getKeysFromAllScopes(ar).includes(or)},ownKeys(ar){return getKeysFromAllScopes(ar)},set(ar,or,lr){const cr=ar._storage||(ar._storage=ir());return ar[or]=cr[or]=lr,delete ar._keys,!0}})}function _attachContext(tr,Hn,er,nr){const ir={_cacheable:!1,_proxy:tr,_context:Hn,_subProxy:er,_stack:new Set,_descriptors:_descriptors(tr,nr),setContext:rr=>_attachContext(tr,rr,er,nr),override:rr=>_attachContext(tr.override(rr),Hn,er,nr)};return new Proxy(ir,{deleteProperty(rr,sr){return delete rr[sr],delete tr[sr],!0},get(rr,sr,ar){return _cached(rr,sr,()=>_resolveWithContext(rr,sr,ar))},getOwnPropertyDescriptor(rr,sr){return rr._descriptors.allKeys?Reflect.has(tr,sr)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(tr,sr)},getPrototypeOf(){return Reflect.getPrototypeOf(tr)},has(rr,sr){return Reflect.has(tr,sr)},ownKeys(){return Reflect.ownKeys(tr)},set(rr,sr,ar){return tr[sr]=ar,delete rr[sr],!0}})}function _descriptors(tr,Hn={scriptable:!0,indexable:!0}){const{_scriptable:er=Hn.scriptable,_indexable:nr=Hn.indexable,_allKeys:ir=Hn.allKeys}=tr;return{allKeys:ir,scriptable:er,indexable:nr,isScriptable:isFunction$2(er)?er:()=>er,isIndexable:isFunction$2(nr)?nr:()=>nr}}const readKey=(tr,Hn)=>tr?tr+_capitalize(Hn):Hn,needsSubResolver=(tr,Hn)=>isObject$2(Hn)&&tr!=="adapters"&&(Object.getPrototypeOf(Hn)===null||Hn.constructor===Object);function _cached(tr,Hn,er){if(Object.prototype.hasOwnProperty.call(tr,Hn)||Hn==="constructor")return tr[Hn];const nr=er();return tr[Hn]=nr,nr}function _resolveWithContext(tr,Hn,er){const{_proxy:nr,_context:ir,_subProxy:rr,_descriptors:sr}=tr;let ar=nr[Hn];return isFunction$2(ar)&&sr.isScriptable(Hn)&&(ar=_resolveScriptable(Hn,ar,tr,er)),isArray$1(ar)&&ar.length&&(ar=_resolveArray(Hn,ar,tr,sr.isIndexable)),needsSubResolver(Hn,ar)&&(ar=_attachContext(ar,ir,rr&&rr[Hn],sr)),ar}function _resolveScriptable(tr,Hn,er,nr){const{_proxy:ir,_context:rr,_subProxy:sr,_stack:ar}=er;if(ar.has(tr))throw new Error("Recursion detected: "+Array.from(ar).join("->")+"->"+tr);ar.add(tr);let or=Hn(rr,sr||nr);return ar.delete(tr),needsSubResolver(tr,or)&&(or=createSubResolver(ir._scopes,ir,tr,or)),or}function _resolveArray(tr,Hn,er,nr){const{_proxy:ir,_context:rr,_subProxy:sr,_descriptors:ar}=er;if(typeof rr.index<"u"&&nr(tr))return Hn[rr.index%Hn.length];if(isObject$2(Hn[0])){const or=Hn,lr=ir._scopes.filter(cr=>cr!==or);Hn=[];for(const cr of or){const ur=createSubResolver(lr,ir,tr,cr);Hn.push(_attachContext(ur,rr,sr&&sr[tr],ar))}}return Hn}function resolveFallback(tr,Hn,er){return isFunction$2(tr)?tr(Hn,er):tr}const getScope=(tr,Hn)=>tr===!0?Hn:typeof tr=="string"?resolveObjectKey(Hn,tr):void 0;function addScopes(tr,Hn,er,nr,ir){for(const rr of Hn){const sr=getScope(er,rr);if(sr){tr.add(sr);const ar=resolveFallback(sr._fallback,er,ir);if(typeof ar<"u"&&ar!==er&&ar!==nr)return ar}else if(sr===!1&&typeof nr<"u"&&er!==nr)return null}return!1}function createSubResolver(tr,Hn,er,nr){const ir=Hn._rootScopes,rr=resolveFallback(Hn._fallback,er,nr),sr=[...tr,...ir],ar=new Set;ar.add(nr);let or=addScopesFromKey(ar,sr,er,rr||er,nr);return or===null||typeof rr<"u"&&rr!==er&&(or=addScopesFromKey(ar,sr,rr,or,nr),or===null)?!1:_createResolver(Array.from(ar),[""],ir,rr,()=>subGetTarget(Hn,er,nr))}function addScopesFromKey(tr,Hn,er,nr,ir){for(;er;)er=addScopes(tr,Hn,er,nr,ir);return er}function subGetTarget(tr,Hn,er){const nr=tr._getTarget();Hn in nr||(nr[Hn]={});const ir=nr[Hn];return isArray$1(ir)&&isObject$2(er)?er:ir||{}}function _resolveWithPrefixes(tr,Hn,er,nr){let ir;for(const rr of Hn)if(ir=_resolve(readKey(rr,tr),er),typeof ir<"u")return needsSubResolver(tr,ir)?createSubResolver(er,nr,tr,ir):ir}function _resolve(tr,Hn){for(const er of Hn){if(!er)continue;const nr=er[tr];if(typeof nr<"u")return nr}}function getKeysFromAllScopes(tr){let Hn=tr._keys;return Hn||(Hn=tr._keys=resolveKeysFromAllScopes(tr._scopes)),Hn}function resolveKeysFromAllScopes(tr){const Hn=new Set;for(const er of tr)for(const nr of Object.keys(er).filter(ir=>!ir.startsWith("_")))Hn.add(nr);return Array.from(Hn)}function _parseObjectDataRadialScale(tr,Hn,er,nr){const{iScale:ir}=tr,{key:rr="r"}=this._parsing,sr=new Array(nr);let ar,or,lr,cr;for(ar=0,or=nr;ar<or;++ar)lr=ar+er,cr=Hn[lr],sr[ar]={r:ir.parse(resolveObjectKey(cr,rr),lr)};return sr}const EPSILON$1=Number.EPSILON||1e-14,getPoint=(tr,Hn)=>Hn<tr.length&&!tr[Hn].skip&&tr[Hn],getValueAxis=tr=>tr==="x"?"y":"x";function splineCurve(tr,Hn,er,nr){const ir=tr.skip?Hn:tr,rr=Hn,sr=er.skip?Hn:er,ar=distanceBetweenPoints$1(rr,ir),or=distanceBetweenPoints$1(sr,rr);let lr=ar/(ar+or),cr=or/(ar+or);lr=isNaN(lr)?0:lr,cr=isNaN(cr)?0:cr;const ur=nr*lr,dr=nr*cr;return{previous:{x:rr.x-ur*(sr.x-ir.x),y:rr.y-ur*(sr.y-ir.y)},next:{x:rr.x+dr*(sr.x-ir.x),y:rr.y+dr*(sr.y-ir.y)}}}function monotoneAdjust(tr,Hn,er){const nr=tr.length;let ir,rr,sr,ar,or,lr=getPoint(tr,0);for(let cr=0;cr<nr-1;++cr)if(or=lr,lr=getPoint(tr,cr+1),!(!or||!lr)){if(almostEquals(Hn[cr],0,EPSILON$1)){er[cr]=er[cr+1]=0;continue}ir=er[cr]/Hn[cr],rr=er[cr+1]/Hn[cr],ar=Math.pow(ir,2)+Math.pow(rr,2),!(ar<=9)&&(sr=3/Math.sqrt(ar),er[cr]=ir*sr*Hn[cr],er[cr+1]=rr*sr*Hn[cr])}}function monotoneCompute(tr,Hn,er="x"){const nr=getValueAxis(er),ir=tr.length;let rr,sr,ar,or=getPoint(tr,0);for(let lr=0;lr<ir;++lr){if(sr=ar,ar=or,or=getPoint(tr,lr+1),!ar)continue;const cr=ar[er],ur=ar[nr];sr&&(rr=(cr-sr[er])/3,ar[`cp1${er}`]=cr-rr,ar[`cp1${nr}`]=ur-rr*Hn[lr]),or&&(rr=(or[er]-cr)/3,ar[`cp2${er}`]=cr+rr,ar[`cp2${nr}`]=ur+rr*Hn[lr])}}function splineCurveMonotone(tr,Hn="x"){const er=getValueAxis(Hn),nr=tr.length,ir=Array(nr).fill(0),rr=Array(nr);let sr,ar,or,lr=getPoint(tr,0);for(sr=0;sr<nr;++sr)if(ar=or,or=lr,lr=getPoint(tr,sr+1),!!or){if(lr){const cr=lr[Hn]-or[Hn];ir[sr]=cr!==0?(lr[er]-or[er])/cr:0}rr[sr]=ar?lr?sign$1(ir[sr-1])!==sign$1(ir[sr])?0:(ir[sr-1]+ir[sr])/2:ir[sr-1]:ir[sr]}monotoneAdjust(tr,ir,rr),monotoneCompute(tr,rr,Hn)}function capControlPoint(tr,Hn,er){return Math.max(Math.min(tr,er),Hn)}function capBezierPoints(tr,Hn){let er,nr,ir,rr,sr,ar=_isPointInArea(tr[0],Hn);for(er=0,nr=tr.length;er<nr;++er)sr=rr,rr=ar,ar=er<nr-1&&_isPointInArea(tr[er+1],Hn),rr&&(ir=tr[er],sr&&(ir.cp1x=capControlPoint(ir.cp1x,Hn.left,Hn.right),ir.cp1y=capControlPoint(ir.cp1y,Hn.top,Hn.bottom)),ar&&(ir.cp2x=capControlPoint(ir.cp2x,Hn.left,Hn.right),ir.cp2y=capControlPoint(ir.cp2y,Hn.top,Hn.bottom)))}function _updateBezierControlPoints(tr,Hn,er,nr,ir){let rr,sr,ar,or;if(Hn.spanGaps&&(tr=tr.filter(lr=>!lr.skip)),Hn.cubicInterpolationMode==="monotone")splineCurveMonotone(tr,ir);else{let lr=nr?tr[tr.length-1]:tr[0];for(rr=0,sr=tr.length;rr<sr;++rr)ar=tr[rr],or=splineCurve(lr,ar,tr[Math.min(rr+1,sr-(nr?0:1))%sr],Hn.tension),ar.cp1x=or.previous.x,ar.cp1y=or.previous.y,ar.cp2x=or.next.x,ar.cp2y=or.next.y,lr=ar}Hn.capBezierPoints&&capBezierPoints(tr,er)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(tr){let Hn=tr.parentNode;return Hn&&Hn.toString()==="[object ShadowRoot]"&&(Hn=Hn.host),Hn}function parseMaxStyle(tr,Hn,er){let nr;return typeof tr=="string"?(nr=parseInt(tr,10),tr.indexOf("%")!==-1&&(nr=nr/100*Hn.parentNode[er])):nr=tr,nr}const getComputedStyle$2=tr=>tr.ownerDocument.defaultView.getComputedStyle(tr,null);function getStyle(tr,Hn){return getComputedStyle$2(tr).getPropertyValue(Hn)}const positions$1=["top","right","bottom","left"];function getPositionedStyle(tr,Hn,er){const nr={};er=er?"-"+er:"";for(let ir=0;ir<4;ir++){const rr=positions$1[ir];nr[rr]=parseFloat(tr[Hn+"-"+rr+er])||0}return nr.width=nr.left+nr.right,nr.height=nr.top+nr.bottom,nr}const useOffsetPos=(tr,Hn,er)=>(tr>0||Hn>0)&&(!er||!er.shadowRoot);function getCanvasPosition(tr,Hn){const er=tr.touches,nr=er&&er.length?er[0]:tr,{offsetX:ir,offsetY:rr}=nr;let sr=!1,ar,or;if(useOffsetPos(ir,rr,tr.target))ar=ir,or=rr;else{const lr=Hn.getBoundingClientRect();ar=nr.clientX-lr.left,or=nr.clientY-lr.top,sr=!0}return{x:ar,y:or,box:sr}}function getRelativePosition$1(tr,Hn){if("native"in tr)return tr;const{canvas:er,currentDevicePixelRatio:nr}=Hn,ir=getComputedStyle$2(er),rr=ir.boxSizing==="border-box",sr=getPositionedStyle(ir,"padding"),ar=getPositionedStyle(ir,"border","width"),{x:or,y:lr,box:cr}=getCanvasPosition(tr,er),ur=sr.left+(cr&&ar.left),dr=sr.top+(cr&&ar.top);let{width:fr,height:xr}=Hn;return rr&&(fr-=sr.width+ar.width,xr-=sr.height+ar.height),{x:Math.round((or-ur)/fr*er.width/nr),y:Math.round((lr-dr)/xr*er.height/nr)}}function getContainerSize(tr,Hn,er){let nr,ir;if(Hn===void 0||er===void 0){const rr=tr&&_getParentNode(tr);if(!rr)Hn=tr.clientWidth,er=tr.clientHeight;else{const sr=rr.getBoundingClientRect(),ar=getComputedStyle$2(rr),or=getPositionedStyle(ar,"border","width"),lr=getPositionedStyle(ar,"padding");Hn=sr.width-lr.width-or.width,er=sr.height-lr.height-or.height,nr=parseMaxStyle(ar.maxWidth,rr,"clientWidth"),ir=parseMaxStyle(ar.maxHeight,rr,"clientHeight")}}return{width:Hn,height:er,maxWidth:nr||INFINITY,maxHeight:ir||INFINITY}}const round1=tr=>Math.round(tr*10)/10;function getMaximumSize(tr,Hn,er,nr){const ir=getComputedStyle$2(tr),rr=getPositionedStyle(ir,"margin"),sr=parseMaxStyle(ir.maxWidth,tr,"clientWidth")||INFINITY,ar=parseMaxStyle(ir.maxHeight,tr,"clientHeight")||INFINITY,or=getContainerSize(tr,Hn,er);let{width:lr,height:cr}=or;if(ir.boxSizing==="content-box"){const dr=getPositionedStyle(ir,"border","width"),fr=getPositionedStyle(ir,"padding");lr-=fr.width+dr.width,cr-=fr.height+dr.height}return lr=Math.max(0,lr-rr.width),cr=Math.max(0,nr?lr/nr:cr-rr.height),lr=round1(Math.min(lr,sr,or.maxWidth)),cr=round1(Math.min(cr,ar,or.maxHeight)),lr&&!cr&&(cr=round1(lr/2)),(Hn!==void 0||er!==void 0)&&nr&&or.height&&cr>or.height&&(cr=or.height,lr=round1(Math.floor(cr*nr))),{width:lr,height:cr}}function retinaScale(tr,Hn,er){const nr=Hn||1,ir=round1(tr.height*nr),rr=round1(tr.width*nr);tr.height=round1(tr.height),tr.width=round1(tr.width);const sr=tr.canvas;return sr.style&&(er||!sr.style.height&&!sr.style.width)&&(sr.style.height=`${tr.height}px`,sr.style.width=`${tr.width}px`),tr.currentDevicePixelRatio!==nr||sr.height!==ir||sr.width!==rr?(tr.currentDevicePixelRatio=nr,sr.height=ir,sr.width=rr,tr.ctx.setTransform(nr,0,0,nr,0,0),!0):!1}const supportsEventListenerOptions=(function(){let tr=!1;try{const Hn={get passive(){return tr=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,Hn),window.removeEventListener("test",null,Hn))}catch{}return tr})();function readUsedSize(tr,Hn){const er=getStyle(tr,Hn),nr=er&&er.match(/^(\d+)(\.\d+)?px$/);return nr?+nr[1]:void 0}function _pointInLine(tr,Hn,er,nr){return{x:tr.x+er*(Hn.x-tr.x),y:tr.y+er*(Hn.y-tr.y)}}function _steppedInterpolation(tr,Hn,er,nr){return{x:tr.x+er*(Hn.x-tr.x),y:nr==="middle"?er<.5?tr.y:Hn.y:nr==="after"?er<1?tr.y:Hn.y:er>0?Hn.y:tr.y}}function _bezierInterpolation(tr,Hn,er,nr){const ir={x:tr.cp2x,y:tr.cp2y},rr={x:Hn.cp1x,y:Hn.cp1y},sr=_pointInLine(tr,ir,er),ar=_pointInLine(ir,rr,er),or=_pointInLine(rr,Hn,er),lr=_pointInLine(sr,ar,er),cr=_pointInLine(ar,or,er);return _pointInLine(lr,cr,er)}const getRightToLeftAdapter=function(tr,Hn){return{x(er){return tr+tr+Hn-er},setWidth(er){Hn=er},textAlign(er){return er==="center"?er:er==="right"?"left":"right"},xPlus(er,nr){return er-nr},leftForLtr(er,nr){return er-nr}}},getLeftToRightAdapter=function(){return{x(tr){return tr},setWidth(tr){},textAlign(tr){return tr},xPlus(tr,Hn){return tr+Hn},leftForLtr(tr,Hn){return tr}}};function getRtlAdapter(tr,Hn,er){return tr?getRightToLeftAdapter(Hn,er):getLeftToRightAdapter()}function overrideTextDirection(tr,Hn){let er,nr;(Hn==="ltr"||Hn==="rtl")&&(er=tr.canvas.style,nr=[er.getPropertyValue("direction"),er.getPropertyPriority("direction")],er.setProperty("direction",Hn,"important"),tr.prevTextDirection=nr)}function restoreTextDirection(tr,Hn){Hn!==void 0&&(delete tr.prevTextDirection,tr.canvas.style.setProperty("direction",Hn[0],Hn[1]))}function propertyFn(tr){return tr==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(Hn,er)=>Hn-er,normalize:Hn=>Hn}}function normalizeSegment({start:tr,end:Hn,count:er,loop:nr,style:ir}){return{start:tr%er,end:Hn%er,loop:nr&&(Hn-tr+1)%er===0,style:ir}}function getSegment(tr,Hn,er){const{property:nr,start:ir,end:rr}=er,{between:sr,normalize:ar}=propertyFn(nr),or=Hn.length;let{start:lr,end:cr,loop:ur}=tr,dr,fr;if(ur){for(lr+=or,cr+=or,dr=0,fr=or;dr<fr&&sr(ar(Hn[lr%or][nr]),ir,rr);++dr)lr--,cr--;lr%=or,cr%=or}return cr<lr&&(cr+=or),{start:lr,end:cr,loop:ur,style:tr.style}}function _boundSegment(tr,Hn,er){if(!er)return[tr];const{property:nr,start:ir,end:rr}=er,sr=Hn.length,{compare:ar,between:or,normalize:lr}=propertyFn(nr),{start:cr,end:ur,loop:dr,style:fr}=getSegment(tr,Hn,er),xr=[];let yr=!1,_r=null,Sr,jr,Dr;const Ir=()=>or(ir,Dr,Sr)&&ar(ir,Dr)!==0,Mr=()=>ar(rr,Sr)===0||or(rr,Dr,Sr),Or=()=>yr||Ir(),Lr=()=>!yr||Mr();for(let Fr=cr,Vr=cr;Fr<=ur;++Fr)jr=Hn[Fr%sr],!jr.skip&&(Sr=lr(jr[nr]),Sr!==Dr&&(yr=or(Sr,ir,rr),_r===null&&Or()&&(_r=ar(Sr,ir)===0?Fr:Vr),_r!==null&&Lr()&&(xr.push(normalizeSegment({start:_r,end:Fr,loop:dr,count:sr,style:fr})),_r=null),Vr=Fr,Dr=Sr));return _r!==null&&xr.push(normalizeSegment({start:_r,end:ur,loop:dr,count:sr,style:fr})),xr}function _boundSegments(tr,Hn){const er=[],nr=tr.segments;for(let ir=0;ir<nr.length;ir++){const rr=_boundSegment(nr[ir],tr.points,Hn);rr.length&&er.push(...rr)}return er}function findStartAndEnd(tr,Hn,er,nr){let ir=0,rr=Hn-1;if(er&&!nr)for(;ir<Hn&&!tr[ir].skip;)ir++;for(;ir<Hn&&tr[ir].skip;)ir++;for(ir%=Hn,er&&(rr+=ir);rr>ir&&tr[rr%Hn].skip;)rr--;return rr%=Hn,{start:ir,end:rr}}function solidSegments(tr,Hn,er,nr){const ir=tr.length,rr=[];let sr=Hn,ar=tr[Hn],or;for(or=Hn+1;or<=er;++or){const lr=tr[or%ir];lr.skip||lr.stop?ar.skip||(nr=!1,rr.push({start:Hn%ir,end:(or-1)%ir,loop:nr}),Hn=sr=lr.stop?or:null):(sr=or,ar.skip&&(Hn=or)),ar=lr}return sr!==null&&rr.push({start:Hn%ir,end:sr%ir,loop:nr}),rr}function _computeSegments(tr,Hn){const er=tr.points,nr=tr.options.spanGaps,ir=er.length;if(!ir)return[];const rr=!!tr._loop,{start:sr,end:ar}=findStartAndEnd(er,ir,rr,nr);if(nr===!0)return splitByStyles(tr,[{start:sr,end:ar,loop:rr}],er,Hn);const or=ar<sr?ar+ir:ar,lr=!!tr._fullLoop&&sr===0&&ar===ir-1;return splitByStyles(tr,solidSegments(er,sr,or,lr),er,Hn)}function splitByStyles(tr,Hn,er,nr){return!nr||!nr.setContext||!er?Hn:doSplitByStyles(tr,Hn,er,nr)}function doSplitByStyles(tr,Hn,er,nr){const ir=tr._chart.getContext(),rr=readStyle(tr.options),{_datasetIndex:sr,options:{spanGaps:ar}}=tr,or=er.length,lr=[];let cr=rr,ur=Hn[0].start,dr=ur;function fr(xr,yr,_r,Sr){const jr=ar?-1:1;if(xr!==yr){for(xr+=or;er[xr%or].skip;)xr-=jr;for(;er[yr%or].skip;)yr+=jr;xr%or!==yr%or&&(lr.push({start:xr%or,end:yr%or,loop:_r,style:Sr}),cr=Sr,ur=yr%or)}}for(const xr of Hn){ur=ar?ur:xr.start;let yr=er[ur%or],_r;for(dr=ur+1;dr<=xr.end;dr++){const Sr=er[dr%or];_r=readStyle(nr.setContext(createContext(ir,{type:"segment",p0:yr,p1:Sr,p0DataIndex:(dr-1)%or,p1DataIndex:dr%or,datasetIndex:sr}))),styleChanged(_r,cr)&&fr(ur,dr-1,xr.loop,cr),yr=Sr,cr=_r}ur<dr-1&&fr(ur,dr-1,xr.loop,cr)}return lr}function readStyle(tr){return{backgroundColor:tr.backgroundColor,borderCapStyle:tr.borderCapStyle,borderDash:tr.borderDash,borderDashOffset:tr.borderDashOffset,borderJoinStyle:tr.borderJoinStyle,borderWidth:tr.borderWidth,borderColor:tr.borderColor}}function styleChanged(tr,Hn){if(!Hn)return!1;const er=[],nr=function(ir,rr){return isPatternOrGradient(rr)?(er.includes(rr)||er.push(rr),er.indexOf(rr)):rr};return JSON.stringify(tr,nr)!==JSON.stringify(Hn,nr)}function getSizeForArea(tr,Hn,er){return tr.options.clip?tr[er]:Hn[er]}function getDatasetArea(tr,Hn){const{xScale:er,yScale:nr}=tr;return er&&nr?{left:getSizeForArea(er,Hn,"left"),right:getSizeForArea(er,Hn,"right"),top:getSizeForArea(nr,Hn,"top"),bottom:getSizeForArea(nr,Hn,"bottom")}:Hn}function getDatasetClipArea(tr,Hn){const er=Hn._clip;if(er.disabled)return!1;const nr=getDatasetArea(Hn,tr.chartArea);return{left:er.left===!1?0:nr.left-(er.left===!0?0:er.left),right:er.right===!1?tr.width:nr.right+(er.right===!0?0:er.right),top:er.top===!1?0:nr.top-(er.top===!0?0:er.top),bottom:er.bottom===!1?tr.height:nr.bottom+(er.bottom===!0?0:er.bottom)}}class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(Hn,er,nr,ir){const rr=er.listeners[ir],sr=er.duration;rr.forEach(ar=>ar({chart:Hn,initial:er.initial,numSteps:sr,currentStep:Math.min(nr-er.start,sr)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(Hn=Date.now()){let er=0;this._charts.forEach((nr,ir)=>{if(!nr.running||!nr.items.length)return;const rr=nr.items;let sr=rr.length-1,ar=!1,or;for(;sr>=0;--sr)or=rr[sr],or._active?(or._total>nr.duration&&(nr.duration=or._total),or.tick(Hn),ar=!0):(rr[sr]=rr[rr.length-1],rr.pop());ar&&(ir.draw(),this._notify(ir,nr,Hn,"progress")),rr.length||(nr.running=!1,this._notify(ir,nr,Hn,"complete"),nr.initial=!1),er+=rr.length}),this._lastDate=Hn,er===0&&(this._running=!1)}_getAnims(Hn){const er=this._charts;let nr=er.get(Hn);return nr||(nr={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},er.set(Hn,nr)),nr}listen(Hn,er,nr){this._getAnims(Hn).listeners[er].push(nr)}add(Hn,er){!er||!er.length||this._getAnims(Hn).items.push(...er)}has(Hn){return this._getAnims(Hn).items.length>0}start(Hn){const er=this._charts.get(Hn);er&&(er.running=!0,er.start=Date.now(),er.duration=er.items.reduce((nr,ir)=>Math.max(nr,ir._duration),0),this._refresh())}running(Hn){if(!this._running)return!1;const er=this._charts.get(Hn);return!(!er||!er.running||!er.items.length)}stop(Hn){const er=this._charts.get(Hn);if(!er||!er.items.length)return;const nr=er.items;let ir=nr.length-1;for(;ir>=0;--ir)nr[ir].cancel();er.items=[],this._notify(Hn,er,Date.now(),"complete")}remove(Hn){return this._charts.delete(Hn)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(tr,Hn,er){return er>.5?Hn:tr},color(tr,Hn,er){const nr=color$1(tr||transparent),ir=nr.valid&&color$1(Hn||transparent);return ir&&ir.valid?ir.mix(nr,er).hexString():Hn},number(tr,Hn,er){return tr+(Hn-tr)*er}};class Animation{constructor(Hn,er,nr,ir){const rr=er[nr];ir=resolve$1([Hn.to,ir,rr,Hn.from]);const sr=resolve$1([Hn.from,rr,ir]);this._active=!0,this._fn=Hn.fn||interpolators[Hn.type||typeof sr],this._easing=effects[Hn.easing]||effects.linear,this._start=Math.floor(Date.now()+(Hn.delay||0)),this._duration=this._total=Math.floor(Hn.duration),this._loop=!!Hn.loop,this._target=er,this._prop=nr,this._from=sr,this._to=ir,this._promises=void 0}active(){return this._active}update(Hn,er,nr){if(this._active){this._notify(!1);const ir=this._target[this._prop],rr=nr-this._start,sr=this._duration-rr;this._start=nr,this._duration=Math.floor(Math.max(sr,Hn.duration)),this._total+=rr,this._loop=!!Hn.loop,this._to=resolve$1([Hn.to,er,ir,Hn.from]),this._from=resolve$1([Hn.from,ir,er])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(Hn){const er=Hn-this._start,nr=this._duration,ir=this._prop,rr=this._from,sr=this._loop,ar=this._to;let or;if(this._active=rr!==ar&&(sr||er<nr),!this._active){this._target[ir]=ar,this._notify(!0);return}if(er<0){this._target[ir]=rr;return}or=er/nr%2,or=sr&&or>1?2-or:or,or=this._easing(Math.min(1,Math.max(0,or))),this._target[ir]=this._fn(rr,ar,or)}wait(){const Hn=this._promises||(this._promises=[]);return new Promise((er,nr)=>{Hn.push({res:er,rej:nr})})}_notify(Hn){const er=Hn?"res":"rej",nr=this._promises||[];for(let ir=0;ir<nr.length;ir++)nr[ir][er]()}}class Animations{constructor(Hn,er){this._chart=Hn,this._properties=new Map,this.configure(er)}configure(Hn){if(!isObject$2(Hn))return;const er=Object.keys(defaults$4.animation),nr=this._properties;Object.getOwnPropertyNames(Hn).forEach(ir=>{const rr=Hn[ir];if(!isObject$2(rr))return;const sr={};for(const ar of er)sr[ar]=rr[ar];(isArray$1(rr.properties)&&rr.properties||[ir]).forEach(ar=>{(ar===ir||!nr.has(ar))&&nr.set(ar,sr)})})}_animateOptions(Hn,er){const nr=er.options,ir=resolveTargetOptions(Hn,nr);if(!ir)return[];const rr=this._createAnimations(ir,nr);return nr.$shared&&awaitAll(Hn.options.$animations,nr).then(()=>{Hn.options=nr},()=>{}),rr}_createAnimations(Hn,er){const nr=this._properties,ir=[],rr=Hn.$animations||(Hn.$animations={}),sr=Object.keys(er),ar=Date.now();let or;for(or=sr.length-1;or>=0;--or){const lr=sr[or];if(lr.charAt(0)==="$")continue;if(lr==="options"){ir.push(...this._animateOptions(Hn,er));continue}const cr=er[lr];let ur=rr[lr];const dr=nr.get(lr);if(ur)if(dr&&ur.active()){ur.update(dr,cr,ar);continue}else ur.cancel();if(!dr||!dr.duration){Hn[lr]=cr;continue}rr[lr]=ur=new Animation(dr,Hn,lr,cr),ir.push(ur)}return ir}update(Hn,er){if(this._properties.size===0){Object.assign(Hn,er);return}const nr=this._createAnimations(Hn,er);if(nr.length)return animator.add(this._chart,nr),!0}}function awaitAll(tr,Hn){const er=[],nr=Object.keys(Hn);for(let ir=0;ir<nr.length;ir++){const rr=tr[nr[ir]];rr&&rr.active()&&er.push(rr.wait())}return Promise.all(er)}function resolveTargetOptions(tr,Hn){if(!Hn)return;let er=tr.options;if(!er){tr.options=Hn;return}return er.$shared&&(tr.options=er=Object.assign({},er,{$shared:!1,$animations:{}})),er}function scaleClip(tr,Hn){const er=tr&&tr.options||{},nr=er.reverse,ir=er.min===void 0?Hn:0,rr=er.max===void 0?Hn:0;return{start:nr?rr:ir,end:nr?ir:rr}}function defaultClip(tr,Hn,er){if(er===!1)return!1;const nr=scaleClip(tr,er),ir=scaleClip(Hn,er);return{top:ir.end,right:nr.end,bottom:ir.start,left:nr.start}}function toClip(tr){let Hn,er,nr,ir;return isObject$2(tr)?(Hn=tr.top,er=tr.right,nr=tr.bottom,ir=tr.left):Hn=er=nr=ir=tr,{top:Hn,right:er,bottom:nr,left:ir,disabled:tr===!1}}function getSortedDatasetIndices(tr,Hn){const er=[],nr=tr._getSortedDatasetMetas(Hn);let ir,rr;for(ir=0,rr=nr.length;ir<rr;++ir)er.push(nr[ir].index);return er}function applyStack(tr,Hn,er,nr={}){const ir=tr.keys,rr=nr.mode==="single";let sr,ar,or,lr;if(Hn===null)return;let cr=!1;for(sr=0,ar=ir.length;sr<ar;++sr){if(or=+ir[sr],or===er){if(cr=!0,nr.all)continue;break}lr=tr.values[or],isNumberFinite(lr)&&(rr||Hn===0||sign$1(Hn)===sign$1(lr))&&(Hn+=lr)}return!cr&&!nr.all?0:Hn}function convertObjectDataToArray(tr,Hn){const{iScale:er,vScale:nr}=Hn,ir=er.axis==="x"?"x":"y",rr=nr.axis==="x"?"x":"y",sr=Object.keys(tr),ar=new Array(sr.length);let or,lr,cr;for(or=0,lr=sr.length;or<lr;++or)cr=sr[or],ar[or]={[ir]:cr,[rr]:tr[cr]};return ar}function isStacked$1(tr,Hn){const er=tr&&tr.options.stacked;return er||er===void 0&&Hn.stack!==void 0}function getStackKey(tr,Hn,er){return`${tr.id}.${Hn.id}.${er.stack||er.type}`}function getUserBounds(tr){const{min:Hn,max:er,minDefined:nr,maxDefined:ir}=tr.getUserBounds();return{min:nr?Hn:Number.NEGATIVE_INFINITY,max:ir?er:Number.POSITIVE_INFINITY}}function getOrCreateStack(tr,Hn,er){const nr=tr[Hn]||(tr[Hn]={});return nr[er]||(nr[er]={})}function getLastIndexInStack(tr,Hn,er,nr){for(const ir of Hn.getMatchingVisibleMetas(nr).reverse()){const rr=tr[ir.index];if(er&&rr>0||!er&&rr<0)return ir.index}return null}function updateStacks(tr,Hn){const{chart:er,_cachedMeta:nr}=tr,ir=er._stacks||(er._stacks={}),{iScale:rr,vScale:sr,index:ar}=nr,or=rr.axis,lr=sr.axis,cr=getStackKey(rr,sr,nr),ur=Hn.length;let dr;for(let fr=0;fr<ur;++fr){const xr=Hn[fr],{[or]:yr,[lr]:_r}=xr,Sr=xr._stacks||(xr._stacks={});dr=Sr[lr]=getOrCreateStack(ir,cr,yr),dr[ar]=_r,dr._top=getLastIndexInStack(dr,sr,!0,nr.type),dr._bottom=getLastIndexInStack(dr,sr,!1,nr.type);const jr=dr._visualValues||(dr._visualValues={});jr[ar]=_r}}function getFirstScaleId(tr,Hn){const er=tr.scales;return Object.keys(er).filter(nr=>er[nr].axis===Hn).shift()}function createDatasetContext(tr,Hn){return createContext(tr,{active:!1,dataset:void 0,datasetIndex:Hn,index:Hn,mode:"default",type:"dataset"})}function createDataContext(tr,Hn,er){return createContext(tr,{active:!1,dataIndex:Hn,parsed:void 0,raw:void 0,element:er,index:Hn,mode:"default",type:"data"})}function clearStacks(tr,Hn){const er=tr.controller.index,nr=tr.vScale&&tr.vScale.axis;if(nr){Hn=Hn||tr._parsed;for(const ir of Hn){const rr=ir._stacks;if(!rr||rr[nr]===void 0||rr[nr][er]===void 0)return;delete rr[nr][er],rr[nr]._visualValues!==void 0&&rr[nr]._visualValues[er]!==void 0&&delete rr[nr]._visualValues[er]}}}const isDirectUpdateMode=tr=>tr==="reset"||tr==="none",cloneIfNotShared=(tr,Hn)=>Hn?tr:Object.assign({},tr),createStack=(tr,Hn,er)=>tr&&!Hn.hidden&&Hn._stacked&&{keys:getSortedDatasetIndices(er,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(Hn,er){this.chart=Hn,this._ctx=Hn.ctx,this.index=er,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const Hn=this._cachedMeta;this.configure(),this.linkScales(),Hn._stacked=isStacked$1(Hn.vScale,Hn),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(Hn){this.index!==Hn&&clearStacks(this._cachedMeta),this.index=Hn}linkScales(){const Hn=this.chart,er=this._cachedMeta,nr=this.getDataset(),ir=(ur,dr,fr,xr)=>ur==="x"?dr:ur==="r"?xr:fr,rr=er.xAxisID=valueOrDefault(nr.xAxisID,getFirstScaleId(Hn,"x")),sr=er.yAxisID=valueOrDefault(nr.yAxisID,getFirstScaleId(Hn,"y")),ar=er.rAxisID=valueOrDefault(nr.rAxisID,getFirstScaleId(Hn,"r")),or=er.indexAxis,lr=er.iAxisID=ir(or,rr,sr,ar),cr=er.vAxisID=ir(or,sr,rr,ar);er.xScale=this.getScaleForId(rr),er.yScale=this.getScaleForId(sr),er.rScale=this.getScaleForId(ar),er.iScale=this.getScaleForId(lr),er.vScale=this.getScaleForId(cr)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(Hn){return this.chart.scales[Hn]}_getOtherScale(Hn){const er=this._cachedMeta;return Hn===er.iScale?er.vScale:er.iScale}reset(){this._update("reset")}_destroy(){const Hn=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),Hn._stacked&&clearStacks(Hn)}_dataCheck(){const Hn=this.getDataset(),er=Hn.data||(Hn.data=[]),nr=this._data;if(isObject$2(er)){const ir=this._cachedMeta;this._data=convertObjectDataToArray(er,ir)}else if(nr!==er){if(nr){unlistenArrayEvents(nr,this);const ir=this._cachedMeta;clearStacks(ir),ir._parsed=[]}er&&Object.isExtensible(er)&&listenArrayEvents(er,this),this._syncList=[],this._data=er}}addElements(){const Hn=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(Hn.dataset=new this.datasetElementType)}buildOrUpdateElements(Hn){const er=this._cachedMeta,nr=this.getDataset();let ir=!1;this._dataCheck();const rr=er._stacked;er._stacked=isStacked$1(er.vScale,er),er.stack!==nr.stack&&(ir=!0,clearStacks(er),er.stack=nr.stack),this._resyncElements(Hn),(ir||rr!==er._stacked)&&(updateStacks(this,er._parsed),er._stacked=isStacked$1(er.vScale,er))}configure(){const Hn=this.chart.config,er=Hn.datasetScopeKeys(this._type),nr=Hn.getOptionScopes(this.getDataset(),er,!0);this.options=Hn.createResolver(nr,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(Hn,er){const{_cachedMeta:nr,_data:ir}=this,{iScale:rr,_stacked:sr}=nr,ar=rr.axis;let or=Hn===0&&er===ir.length?!0:nr._sorted,lr=Hn>0&&nr._parsed[Hn-1],cr,ur,dr;if(this._parsing===!1)nr._parsed=ir,nr._sorted=!0,dr=ir;else{isArray$1(ir[Hn])?dr=this.parseArrayData(nr,ir,Hn,er):isObject$2(ir[Hn])?dr=this.parseObjectData(nr,ir,Hn,er):dr=this.parsePrimitiveData(nr,ir,Hn,er);const fr=()=>ur[ar]===null||lr&&ur[ar]<lr[ar];for(cr=0;cr<er;++cr)nr._parsed[cr+Hn]=ur=dr[cr],or&&(fr()&&(or=!1),lr=ur);nr._sorted=or}sr&&updateStacks(this,dr)}parsePrimitiveData(Hn,er,nr,ir){const{iScale:rr,vScale:sr}=Hn,ar=rr.axis,or=sr.axis,lr=rr.getLabels(),cr=rr===sr,ur=new Array(ir);let dr,fr,xr;for(dr=0,fr=ir;dr<fr;++dr)xr=dr+nr,ur[dr]={[ar]:cr||rr.parse(lr[xr],xr),[or]:sr.parse(er[xr],xr)};return ur}parseArrayData(Hn,er,nr,ir){const{xScale:rr,yScale:sr}=Hn,ar=new Array(ir);let or,lr,cr,ur;for(or=0,lr=ir;or<lr;++or)cr=or+nr,ur=er[cr],ar[or]={x:rr.parse(ur[0],cr),y:sr.parse(ur[1],cr)};return ar}parseObjectData(Hn,er,nr,ir){const{xScale:rr,yScale:sr}=Hn,{xAxisKey:ar="x",yAxisKey:or="y"}=this._parsing,lr=new Array(ir);let cr,ur,dr,fr;for(cr=0,ur=ir;cr<ur;++cr)dr=cr+nr,fr=er[dr],lr[cr]={x:rr.parse(resolveObjectKey(fr,ar),dr),y:sr.parse(resolveObjectKey(fr,or),dr)};return lr}getParsed(Hn){return this._cachedMeta._parsed[Hn]}getDataElement(Hn){return this._cachedMeta.data[Hn]}applyStack(Hn,er,nr){const ir=this.chart,rr=this._cachedMeta,sr=er[Hn.axis],ar={keys:getSortedDatasetIndices(ir,!0),values:er._stacks[Hn.axis]._visualValues};return applyStack(ar,sr,rr.index,{mode:nr})}updateRangeFromParsed(Hn,er,nr,ir){const rr=nr[er.axis];let sr=rr===null?NaN:rr;const ar=ir&&nr._stacks[er.axis];ir&&ar&&(ir.values=ar,sr=applyStack(ir,rr,this._cachedMeta.index)),Hn.min=Math.min(Hn.min,sr),Hn.max=Math.max(Hn.max,sr)}getMinMax(Hn,er){const nr=this._cachedMeta,ir=nr._parsed,rr=nr._sorted&&Hn===nr.iScale,sr=ir.length,ar=this._getOtherScale(Hn),or=createStack(er,nr,this.chart),lr={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:cr,max:ur}=getUserBounds(ar);let dr,fr;function xr(){fr=ir[dr];const yr=fr[ar.axis];return!isNumberFinite(fr[Hn.axis])||cr>yr||ur<yr}for(dr=0;dr<sr&&!(!xr()&&(this.updateRangeFromParsed(lr,Hn,fr,or),rr));++dr);if(rr){for(dr=sr-1;dr>=0;--dr)if(!xr()){this.updateRangeFromParsed(lr,Hn,fr,or);break}}return lr}getAllParsedValues(Hn){const er=this._cachedMeta._parsed,nr=[];let ir,rr,sr;for(ir=0,rr=er.length;ir<rr;++ir)sr=er[ir][Hn.axis],isNumberFinite(sr)&&nr.push(sr);return nr}getMaxOverflow(){return!1}getLabelAndValue(Hn){const er=this._cachedMeta,nr=er.iScale,ir=er.vScale,rr=this.getParsed(Hn);return{label:nr?""+nr.getLabelForValue(rr[nr.axis]):"",value:ir?""+ir.getLabelForValue(rr[ir.axis]):""}}_update(Hn){const er=this._cachedMeta;this.update(Hn||"default"),er._clip=toClip(valueOrDefault(this.options.clip,defaultClip(er.xScale,er.yScale,this.getMaxOverflow())))}update(Hn){}draw(){const Hn=this._ctx,er=this.chart,nr=this._cachedMeta,ir=nr.data||[],rr=er.chartArea,sr=[],ar=this._drawStart||0,or=this._drawCount||ir.length-ar,lr=this.options.drawActiveElementsOnTop;let cr;for(nr.dataset&&nr.dataset.draw(Hn,rr,ar,or),cr=ar;cr<ar+or;++cr){const ur=ir[cr];ur.hidden||(ur.active&&lr?sr.push(ur):ur.draw(Hn,rr))}for(cr=0;cr<sr.length;++cr)sr[cr].draw(Hn,rr)}getStyle(Hn,er){const nr=er?"active":"default";return Hn===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(nr):this.resolveDataElementOptions(Hn||0,nr)}getContext(Hn,er,nr){const ir=this.getDataset();let rr;if(Hn>=0&&Hn<this._cachedMeta.data.length){const sr=this._cachedMeta.data[Hn];rr=sr.$context||(sr.$context=createDataContext(this.getContext(),Hn,sr)),rr.parsed=this.getParsed(Hn),rr.raw=ir.data[Hn],rr.index=rr.dataIndex=Hn}else rr=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),rr.dataset=ir,rr.index=rr.datasetIndex=this.index;return rr.active=!!er,rr.mode=nr,rr}resolveDatasetElementOptions(Hn){return this._resolveElementOptions(this.datasetElementType.id,Hn)}resolveDataElementOptions(Hn,er){return this._resolveElementOptions(this.dataElementType.id,er,Hn)}_resolveElementOptions(Hn,er="default",nr){const ir=er==="active",rr=this._cachedDataOpts,sr=Hn+"-"+er,ar=rr[sr],or=this.enableOptionSharing&&defined$1(nr);if(ar)return cloneIfNotShared(ar,or);const lr=this.chart.config,cr=lr.datasetElementScopeKeys(this._type,Hn),ur=ir?[`${Hn}Hover`,"hover",Hn,""]:[Hn,""],dr=lr.getOptionScopes(this.getDataset(),cr),fr=Object.keys(defaults$4.elements[Hn]),xr=()=>this.getContext(nr,ir,er),yr=lr.resolveNamedOptions(dr,fr,xr,ur);return yr.$shared&&(yr.$shared=or,rr[sr]=Object.freeze(cloneIfNotShared(yr,or))),yr}_resolveAnimations(Hn,er,nr){const ir=this.chart,rr=this._cachedDataOpts,sr=`animation-${er}`,ar=rr[sr];if(ar)return ar;let or;if(ir.options.animation!==!1){const cr=this.chart.config,ur=cr.datasetAnimationScopeKeys(this._type,er),dr=cr.getOptionScopes(this.getDataset(),ur);or=cr.createResolver(dr,this.getContext(Hn,nr,er))}const lr=new Animations(ir,or&&or.animations);return or&&or._cacheable&&(rr[sr]=Object.freeze(lr)),lr}getSharedOptions(Hn){if(Hn.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},Hn))}includeOptions(Hn,er){return!er||isDirectUpdateMode(Hn)||this.chart._animationsDisabled}_getSharedOptions(Hn,er){const nr=this.resolveDataElementOptions(Hn,er),ir=this._sharedOptions,rr=this.getSharedOptions(nr),sr=this.includeOptions(er,rr)||rr!==ir;return this.updateSharedOptions(rr,er,nr),{sharedOptions:rr,includeOptions:sr}}updateElement(Hn,er,nr,ir){isDirectUpdateMode(ir)?Object.assign(Hn,nr):this._resolveAnimations(er,ir).update(Hn,nr)}updateSharedOptions(Hn,er,nr){Hn&&!isDirectUpdateMode(er)&&this._resolveAnimations(void 0,er).update(Hn,nr)}_setStyle(Hn,er,nr,ir){Hn.active=ir;const rr=this.getStyle(er,ir);this._resolveAnimations(er,nr,ir).update(Hn,{options:!ir&&this.getSharedOptions(rr)||rr})}removeHoverStyle(Hn,er,nr){this._setStyle(Hn,nr,"active",!1)}setHoverStyle(Hn,er,nr){this._setStyle(Hn,nr,"active",!0)}_removeDatasetHoverStyle(){const Hn=this._cachedMeta.dataset;Hn&&this._setStyle(Hn,void 0,"active",!1)}_setDatasetHoverStyle(){const Hn=this._cachedMeta.dataset;Hn&&this._setStyle(Hn,void 0,"active",!0)}_resyncElements(Hn){const er=this._data,nr=this._cachedMeta.data;for(const[ar,or,lr]of this._syncList)this[ar](or,lr);this._syncList=[];const ir=nr.length,rr=er.length,sr=Math.min(rr,ir);sr&&this.parse(0,sr),rr>ir?this._insertElements(ir,rr-ir,Hn):rr<ir&&this._removeElements(rr,ir-rr)}_insertElements(Hn,er,nr=!0){const ir=this._cachedMeta,rr=ir.data,sr=Hn+er;let ar;const or=lr=>{for(lr.length+=er,ar=lr.length-1;ar>=sr;ar--)lr[ar]=lr[ar-er]};for(or(rr),ar=Hn;ar<sr;++ar)rr[ar]=new this.dataElementType;this._parsing&&or(ir._parsed),this.parse(Hn,er),nr&&this.updateElements(rr,Hn,er,"reset")}updateElements(Hn,er,nr,ir){}_removeElements(Hn,er){const nr=this._cachedMeta;if(this._parsing){const ir=nr._parsed.splice(Hn,er);nr._stacked&&clearStacks(nr,ir)}nr.data.splice(Hn,er)}_sync(Hn){if(this._parsing)this._syncList.push(Hn);else{const[er,nr,ir]=Hn;this[er](nr,ir)}this.chart._dataChanges.push([this.index,...Hn])}_onDataPush(){const Hn=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-Hn,Hn])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(Hn,er){er&&this._sync(["_removeElements",Hn,er]);const nr=arguments.length-2;nr&&this._sync(["_insertElements",Hn,nr])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(tr,Hn){if(!tr._cache.$bar){const er=tr.getMatchingVisibleMetas(Hn);let nr=[];for(let ir=0,rr=er.length;ir<rr;ir++)nr=nr.concat(er[ir].controller.getAllParsedValues(tr));tr._cache.$bar=_arrayUnique(nr.sort((ir,rr)=>ir-rr))}return tr._cache.$bar}function computeMinSampleSize(tr){const Hn=tr.iScale,er=getAllScaleValues(Hn,tr.type);let nr=Hn._length,ir,rr,sr,ar;const or=()=>{sr===32767||sr===-32768||(defined$1(ar)&&(nr=Math.min(nr,Math.abs(sr-ar)||nr)),ar=sr)};for(ir=0,rr=er.length;ir<rr;++ir)sr=Hn.getPixelForValue(er[ir]),or();for(ar=void 0,ir=0,rr=Hn.ticks.length;ir<rr;++ir)sr=Hn.getPixelForTick(ir),or();return nr}function computeFitCategoryTraits(tr,Hn,er,nr){const ir=er.barThickness;let rr,sr;return isNullOrUndef(ir)?(rr=Hn.min*er.categoryPercentage,sr=er.barPercentage):(rr=ir*nr,sr=1),{chunk:rr/nr,ratio:sr,start:Hn.pixels[tr]-rr/2}}function computeFlexCategoryTraits(tr,Hn,er,nr){const ir=Hn.pixels,rr=ir[tr];let sr=tr>0?ir[tr-1]:null,ar=tr<ir.length-1?ir[tr+1]:null;const or=er.categoryPercentage;sr===null&&(sr=rr-(ar===null?Hn.end-Hn.start:ar-rr)),ar===null&&(ar=rr+rr-sr);const lr=rr-(rr-Math.min(sr,ar))/2*or;return{chunk:Math.abs(ar-sr)/2*or/nr,ratio:er.barPercentage,start:lr}}function parseFloatBar(tr,Hn,er,nr){const ir=er.parse(tr[0],nr),rr=er.parse(tr[1],nr),sr=Math.min(ir,rr),ar=Math.max(ir,rr);let or=sr,lr=ar;Math.abs(sr)>Math.abs(ar)&&(or=ar,lr=sr),Hn[er.axis]=lr,Hn._custom={barStart:or,barEnd:lr,start:ir,end:rr,min:sr,max:ar}}function parseValue(tr,Hn,er,nr){return isArray$1(tr)?parseFloatBar(tr,Hn,er,nr):Hn[er.axis]=er.parse(tr,nr),Hn}function parseArrayOrPrimitive(tr,Hn,er,nr){const ir=tr.iScale,rr=tr.vScale,sr=ir.getLabels(),ar=ir===rr,or=[];let lr,cr,ur,dr;for(lr=er,cr=er+nr;lr<cr;++lr)dr=Hn[lr],ur={},ur[ir.axis]=ar||ir.parse(sr[lr],lr),or.push(parseValue(dr,ur,rr,lr));return or}function isFloatBar(tr){return tr&&tr.barStart!==void 0&&tr.barEnd!==void 0}function barSign(tr,Hn,er){return tr!==0?sign$1(tr):(Hn.isHorizontal()?1:-1)*(Hn.min>=er?1:-1)}function borderProps(tr){let Hn,er,nr,ir,rr;return tr.horizontal?(Hn=tr.base>tr.x,er="left",nr="right"):(Hn=tr.base<tr.y,er="bottom",nr="top"),Hn?(ir="end",rr="start"):(ir="start",rr="end"),{start:er,end:nr,reverse:Hn,top:ir,bottom:rr}}function setBorderSkipped(tr,Hn,er,nr){let ir=Hn.borderSkipped;const rr={};if(!ir){tr.borderSkipped=rr;return}if(ir===!0){tr.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:sr,end:ar,reverse:or,top:lr,bottom:cr}=borderProps(tr);ir==="middle"&&er&&(tr.enableBorderRadius=!0,(er._top||0)===nr?ir=lr:(er._bottom||0)===nr?ir=cr:(rr[parseEdge(cr,sr,ar,or)]=!0,ir=lr)),rr[parseEdge(ir,sr,ar,or)]=!0,tr.borderSkipped=rr}function parseEdge(tr,Hn,er,nr){return nr?(tr=swap$1(tr,Hn,er),tr=startEnd(tr,er,Hn)):tr=startEnd(tr,Hn,er),tr}function swap$1(tr,Hn,er){return tr===Hn?er:tr===er?Hn:tr}function startEnd(tr,Hn,er){return tr==="start"?Hn:tr==="end"?er:tr}function setInflateAmount(tr,{inflateAmount:Hn},er){tr.inflateAmount=Hn==="auto"?er===1?.33:0:Hn}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(Hn,er,nr,ir){return parseArrayOrPrimitive(Hn,er,nr,ir)}parseArrayData(Hn,er,nr,ir){return parseArrayOrPrimitive(Hn,er,nr,ir)}parseObjectData(Hn,er,nr,ir){const{iScale:rr,vScale:sr}=Hn,{xAxisKey:ar="x",yAxisKey:or="y"}=this._parsing,lr=rr.axis==="x"?ar:or,cr=sr.axis==="x"?ar:or,ur=[];let dr,fr,xr,yr;for(dr=nr,fr=nr+ir;dr<fr;++dr)yr=er[dr],xr={},xr[rr.axis]=rr.parse(resolveObjectKey(yr,lr),dr),ur.push(parseValue(resolveObjectKey(yr,cr),xr,sr,dr));return ur}updateRangeFromParsed(Hn,er,nr,ir){super.updateRangeFromParsed(Hn,er,nr,ir);const rr=nr._custom;rr&&er===this._cachedMeta.vScale&&(Hn.min=Math.min(Hn.min,rr.min),Hn.max=Math.max(Hn.max,rr.max))}getMaxOverflow(){return 0}getLabelAndValue(Hn){const er=this._cachedMeta,{iScale:nr,vScale:ir}=er,rr=this.getParsed(Hn),sr=rr._custom,ar=isFloatBar(sr)?"["+sr.start+", "+sr.end+"]":""+ir.getLabelForValue(rr[ir.axis]);return{label:""+nr.getLabelForValue(rr[nr.axis]),value:ar}}initialize(){this.enableOptionSharing=!0,super.initialize();const Hn=this._cachedMeta;Hn.stack=this.getDataset().stack}update(Hn){const er=this._cachedMeta;this.updateElements(er.data,0,er.data.length,Hn)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{index:sr,_cachedMeta:{vScale:ar}}=this,or=ar.getBasePixel(),lr=ar.isHorizontal(),cr=this._getRuler(),{sharedOptions:ur,includeOptions:dr}=this._getSharedOptions(er,ir);for(let fr=er;fr<er+nr;fr++){const xr=this.getParsed(fr),yr=rr||isNullOrUndef(xr[ar.axis])?{base:or,head:or}:this._calculateBarValuePixels(fr),_r=this._calculateBarIndexPixels(fr,cr),Sr=(xr._stacks||{})[ar.axis],jr={horizontal:lr,base:yr.base,enableBorderRadius:!Sr||isFloatBar(xr._custom)||sr===Sr._top||sr===Sr._bottom,x:lr?yr.head:_r.center,y:lr?_r.center:yr.head,height:lr?_r.size:Math.abs(yr.size),width:lr?Math.abs(yr.size):_r.size};dr&&(jr.options=ur||this.resolveDataElementOptions(fr,Hn[fr].active?"active":ir));const Dr=jr.options||Hn[fr].options;setBorderSkipped(jr,Dr,Sr,sr),setInflateAmount(jr,Dr,cr.ratio),this.updateElement(Hn[fr],fr,jr,ir)}}_getStacks(Hn,er){const{iScale:nr}=this._cachedMeta,ir=nr.getMatchingVisibleMetas(this._type).filter(cr=>cr.controller.options.grouped),rr=nr.options.stacked,sr=[],ar=this._cachedMeta.controller.getParsed(er),or=ar&&ar[nr.axis],lr=cr=>{const ur=cr._parsed.find(fr=>fr[nr.axis]===or),dr=ur&&ur[cr.vScale.axis];if(isNullOrUndef(dr)||isNaN(dr))return!0};for(const cr of ir)if(!(er!==void 0&&lr(cr))&&((rr===!1||sr.indexOf(cr.stack)===-1||rr===void 0&&cr.stack===void 0)&&sr.push(cr.stack),cr.index===Hn))break;return sr.length||sr.push(void 0),sr}_getStackCount(Hn){return this._getStacks(void 0,Hn).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const Hn=this.chart.scales,er=this.chart.options.indexAxis;return Object.keys(Hn).filter(nr=>Hn[nr].axis===er).shift()}_getAxis(){const Hn={},er=this.getFirstScaleIdForIndexAxis();for(const nr of this.chart.data.datasets)Hn[valueOrDefault(this.chart.options.indexAxis==="x"?nr.xAxisID:nr.yAxisID,er)]=!0;return Object.keys(Hn)}_getStackIndex(Hn,er,nr){const ir=this._getStacks(Hn,nr),rr=er!==void 0?ir.indexOf(er):-1;return rr===-1?ir.length-1:rr}_getRuler(){const Hn=this.options,er=this._cachedMeta,nr=er.iScale,ir=[];let rr,sr;for(rr=0,sr=er.data.length;rr<sr;++rr)ir.push(nr.getPixelForValue(this.getParsed(rr)[nr.axis],rr));const ar=Hn.barThickness;return{min:ar||computeMinSampleSize(er),pixels:ir,start:nr._startPixel,end:nr._endPixel,stackCount:this._getStackCount(),scale:nr,grouped:Hn.grouped,ratio:ar?1:Hn.categoryPercentage*Hn.barPercentage}}_calculateBarValuePixels(Hn){const{_cachedMeta:{vScale:er,_stacked:nr,index:ir},options:{base:rr,minBarLength:sr}}=this,ar=rr||0,or=this.getParsed(Hn),lr=or._custom,cr=isFloatBar(lr);let ur=or[er.axis],dr=0,fr=nr?this.applyStack(er,or,nr):ur,xr,yr;fr!==ur&&(dr=fr-ur,fr=ur),cr&&(ur=lr.barStart,fr=lr.barEnd-lr.barStart,ur!==0&&sign$1(ur)!==sign$1(lr.barEnd)&&(dr=0),dr+=ur);const _r=!isNullOrUndef(rr)&&!cr?rr:dr;let Sr=er.getPixelForValue(_r);if(this.chart.getDataVisibility(Hn)?xr=er.getPixelForValue(dr+fr):xr=Sr,yr=xr-Sr,Math.abs(yr)<sr){yr=barSign(yr,er,ar)*sr,ur===ar&&(Sr-=yr/2);const jr=er.getPixelForDecimal(0),Dr=er.getPixelForDecimal(1),Ir=Math.min(jr,Dr),Mr=Math.max(jr,Dr);Sr=Math.max(Math.min(Sr,Mr),Ir),xr=Sr+yr,nr&&!cr&&(or._stacks[er.axis]._visualValues[ir]=er.getValueForPixel(xr)-er.getValueForPixel(Sr))}if(Sr===er.getPixelForValue(ar)){const jr=sign$1(yr)*er.getLineWidthForValue(ar)/2;Sr+=jr,yr-=jr}return{size:yr,base:Sr,head:xr,center:xr+yr/2}}_calculateBarIndexPixels(Hn,er){const nr=er.scale,ir=this.options,rr=ir.skipNull,sr=valueOrDefault(ir.maxBarThickness,1/0);let ar,or;const lr=this._getAxisCount();if(er.grouped){const cr=rr?this._getStackCount(Hn):er.stackCount,ur=ir.barThickness==="flex"?computeFlexCategoryTraits(Hn,er,ir,cr*lr):computeFitCategoryTraits(Hn,er,ir,cr*lr),dr=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,fr=this._getAxis().indexOf(valueOrDefault(dr,this.getFirstScaleIdForIndexAxis())),xr=this._getStackIndex(this.index,this._cachedMeta.stack,rr?Hn:void 0)+fr;ar=ur.start+ur.chunk*xr+ur.chunk/2,or=Math.min(sr,ur.chunk*ur.ratio)}else ar=nr.getPixelForValue(this.getParsed(Hn)[nr.axis],Hn),or=Math.min(sr,er.min*er.ratio);return{base:ar-or/2,head:ar+or/2,center:ar,size:or}}draw(){const Hn=this._cachedMeta,er=Hn.vScale,nr=Hn.data,ir=nr.length;let rr=0;for(;rr<ir;++rr)this.getParsed(rr)[er.axis]!==null&&!nr[rr].hidden&&nr[rr].draw(this._ctx)}}class BubbleController extends DatasetController{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(Hn,er,nr,ir){const rr=super.parsePrimitiveData(Hn,er,nr,ir);for(let sr=0;sr<rr.length;sr++)rr[sr]._custom=this.resolveDataElementOptions(sr+nr).radius;return rr}parseArrayData(Hn,er,nr,ir){const rr=super.parseArrayData(Hn,er,nr,ir);for(let sr=0;sr<rr.length;sr++){const ar=er[nr+sr];rr[sr]._custom=valueOrDefault(ar[2],this.resolveDataElementOptions(sr+nr).radius)}return rr}parseObjectData(Hn,er,nr,ir){const rr=super.parseObjectData(Hn,er,nr,ir);for(let sr=0;sr<rr.length;sr++){const ar=er[nr+sr];rr[sr]._custom=valueOrDefault(ar&&ar.r&&+ar.r,this.resolveDataElementOptions(sr+nr).radius)}return rr}getMaxOverflow(){const Hn=this._cachedMeta.data;let er=0;for(let nr=Hn.length-1;nr>=0;--nr)er=Math.max(er,Hn[nr].size(this.resolveDataElementOptions(nr))/2);return er>0&&er}getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart.data.labels||[],{xScale:ir,yScale:rr}=er,sr=this.getParsed(Hn),ar=ir.getLabelForValue(sr.x),or=rr.getLabelForValue(sr.y),lr=sr._custom;return{label:nr[Hn]||"",value:"("+ar+", "+or+(lr?", "+lr:"")+")"}}update(Hn){const er=this._cachedMeta.data;this.updateElements(er,0,er.length,Hn)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{iScale:sr,vScale:ar}=this._cachedMeta,{sharedOptions:or,includeOptions:lr}=this._getSharedOptions(er,ir),cr=sr.axis,ur=ar.axis;for(let dr=er;dr<er+nr;dr++){const fr=Hn[dr],xr=!rr&&this.getParsed(dr),yr={},_r=yr[cr]=rr?sr.getPixelForDecimal(.5):sr.getPixelForValue(xr[cr]),Sr=yr[ur]=rr?ar.getBasePixel():ar.getPixelForValue(xr[ur]);yr.skip=isNaN(_r)||isNaN(Sr),lr&&(yr.options=or||this.resolveDataElementOptions(dr,fr.active?"active":ir),rr&&(yr.options.radius=0)),this.updateElement(fr,dr,yr,ir)}}resolveDataElementOptions(Hn,er){const nr=this.getParsed(Hn);let ir=super.resolveDataElementOptions(Hn,er);ir.$shared&&(ir=Object.assign({},ir,{$shared:!1}));const rr=ir.radius;return er!=="active"&&(ir.radius=0),ir.radius+=valueOrDefault(nr&&nr._custom,rr),ir}}function getRatioAndOffset(tr,Hn,er){let nr=1,ir=1,rr=0,sr=0;if(Hn<TAU){const ar=tr,or=ar+Hn,lr=Math.cos(ar),cr=Math.sin(ar),ur=Math.cos(or),dr=Math.sin(or),fr=(Dr,Ir,Mr)=>_angleBetween(Dr,ar,or,!0)?1:Math.max(Ir,Ir*er,Mr,Mr*er),xr=(Dr,Ir,Mr)=>_angleBetween(Dr,ar,or,!0)?-1:Math.min(Ir,Ir*er,Mr,Mr*er),yr=fr(0,lr,ur),_r=fr(HALF_PI,cr,dr),Sr=xr(PI,lr,ur),jr=xr(PI+HALF_PI,cr,dr);nr=(yr-Sr)/2,ir=(_r-jr)/2,rr=-(yr+Sr)/2,sr=-(_r+jr)/2}return{ratioX:nr,ratioY:ir,offsetX:rr,offsetY:sr}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:Hn=>Hn!=="spacing",_indexable:Hn=>Hn!=="spacing"&&!Hn.startsWith("borderDash")&&!Hn.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Hn){const er=Hn.data,{labels:{pointStyle:nr,textAlign:ir,color:rr,useBorderRadius:sr,borderRadius:ar}}=Hn.legend.options;return er.labels.length&&er.datasets.length?er.labels.map((or,lr)=>{const ur=Hn.getDatasetMeta(0).controller.getStyle(lr);return{text:or,fillStyle:ur.backgroundColor,fontColor:rr,hidden:!Hn.getDataVisibility(lr),lineDash:ur.borderDash,lineDashOffset:ur.borderDashOffset,lineJoin:ur.borderJoinStyle,lineWidth:ur.borderWidth,strokeStyle:ur.borderColor,textAlign:ir,pointStyle:nr,borderRadius:sr&&(ar||ur.borderRadius),index:lr}}):[]}},onClick(Hn,er,nr){nr.chart.toggleDataVisibility(er.index),nr.chart.update()}}}};constructor(Hn,er){super(Hn,er),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(Hn,er){const nr=this.getDataset().data,ir=this._cachedMeta;if(this._parsing===!1)ir._parsed=nr;else{let rr=or=>+nr[or];if(isObject$2(nr[Hn])){const{key:or="value"}=this._parsing;rr=lr=>+resolveObjectKey(nr[lr],or)}let sr,ar;for(sr=Hn,ar=Hn+er;sr<ar;++sr)ir._parsed[sr]=rr(sr)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let Hn=TAU,er=-TAU;for(let nr=0;nr<this.chart.data.datasets.length;++nr)if(this.chart.isDatasetVisible(nr)&&this.chart.getDatasetMeta(nr).type===this._type){const ir=this.chart.getDatasetMeta(nr).controller,rr=ir._getRotation(),sr=ir._getCircumference();Hn=Math.min(Hn,rr),er=Math.max(er,rr+sr)}return{rotation:Hn,circumference:er-Hn}}update(Hn){const er=this.chart,{chartArea:nr}=er,ir=this._cachedMeta,rr=ir.data,sr=this.getMaxBorderWidth()+this.getMaxOffset(rr)+this.options.spacing,ar=Math.max((Math.min(nr.width,nr.height)-sr)/2,0),or=Math.min(toPercentage(this.options.cutout,ar),1),lr=this._getRingWeight(this.index),{circumference:cr,rotation:ur}=this._getRotationExtents(),{ratioX:dr,ratioY:fr,offsetX:xr,offsetY:yr}=getRatioAndOffset(ur,cr,or),_r=(nr.width-sr)/dr,Sr=(nr.height-sr)/fr,jr=Math.max(Math.min(_r,Sr)/2,0),Dr=toDimension(this.options.radius,jr),Ir=Math.max(Dr*or,0),Mr=(Dr-Ir)/this._getVisibleDatasetWeightTotal();this.offsetX=xr*Dr,this.offsetY=yr*Dr,ir.total=this.calculateTotal(),this.outerRadius=Dr-Mr*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Mr*lr,0),this.updateElements(rr,0,rr.length,Hn)}_circumference(Hn,er){const nr=this.options,ir=this._cachedMeta,rr=this._getCircumference();return er&&nr.animation.animateRotate||!this.chart.getDataVisibility(Hn)||ir._parsed[Hn]===null||ir.data[Hn].hidden?0:this.calculateCircumference(ir._parsed[Hn]*rr/TAU)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this.chart,ar=sr.chartArea,lr=sr.options.animation,cr=(ar.left+ar.right)/2,ur=(ar.top+ar.bottom)/2,dr=rr&&lr.animateScale,fr=dr?0:this.innerRadius,xr=dr?0:this.outerRadius,{sharedOptions:yr,includeOptions:_r}=this._getSharedOptions(er,ir);let Sr=this._getRotation(),jr;for(jr=0;jr<er;++jr)Sr+=this._circumference(jr,rr);for(jr=er;jr<er+nr;++jr){const Dr=this._circumference(jr,rr),Ir=Hn[jr],Mr={x:cr+this.offsetX,y:ur+this.offsetY,startAngle:Sr,endAngle:Sr+Dr,circumference:Dr,outerRadius:xr,innerRadius:fr};_r&&(Mr.options=yr||this.resolveDataElementOptions(jr,Ir.active?"active":ir)),Sr+=Dr,this.updateElement(Ir,jr,Mr,ir)}}calculateTotal(){const Hn=this._cachedMeta,er=Hn.data;let nr=0,ir;for(ir=0;ir<er.length;ir++){const rr=Hn._parsed[ir];rr!==null&&!isNaN(rr)&&this.chart.getDataVisibility(ir)&&!er[ir].hidden&&(nr+=Math.abs(rr))}return nr}calculateCircumference(Hn){const er=this._cachedMeta.total;return er>0&&!isNaN(Hn)?TAU*(Math.abs(Hn)/er):0}getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart,ir=nr.data.labels||[],rr=formatNumber$1(er._parsed[Hn],nr.options.locale);return{label:ir[Hn]||"",value:rr}}getMaxBorderWidth(Hn){let er=0;const nr=this.chart;let ir,rr,sr,ar,or;if(!Hn){for(ir=0,rr=nr.data.datasets.length;ir<rr;++ir)if(nr.isDatasetVisible(ir)){sr=nr.getDatasetMeta(ir),Hn=sr.data,ar=sr.controller;break}}if(!Hn)return 0;for(ir=0,rr=Hn.length;ir<rr;++ir)or=ar.resolveDataElementOptions(ir),or.borderAlign!=="inner"&&(er=Math.max(er,or.borderWidth||0,or.hoverBorderWidth||0));return er}getMaxOffset(Hn){let er=0;for(let nr=0,ir=Hn.length;nr<ir;++nr){const rr=this.resolveDataElementOptions(nr);er=Math.max(er,rr.offset||0,rr.hoverOffset||0)}return er}_getRingWeightOffset(Hn){let er=0;for(let nr=0;nr<Hn;++nr)this.chart.isDatasetVisible(nr)&&(er+=this._getRingWeight(nr));return er}_getRingWeight(Hn){return Math.max(valueOrDefault(this.chart.data.datasets[Hn].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class LineController extends DatasetController{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(Hn){const er=this._cachedMeta,{dataset:nr,data:ir=[],_dataset:rr}=er,sr=this.chart._animationsDisabled;let{start:ar,count:or}=_getStartAndCountOfVisiblePoints(er,ir,sr);this._drawStart=ar,this._drawCount=or,_scaleRangesChanged(er)&&(ar=0,or=ir.length),nr._chart=this.chart,nr._datasetIndex=this.index,nr._decimated=!!rr._decimated,nr.points=ir;const lr=this.resolveDatasetElementOptions(Hn);this.options.showLine||(lr.borderWidth=0),lr.segment=this.options.segment,this.updateElement(nr,void 0,{animated:!sr,options:lr},Hn),this.updateElements(ir,ar,or,Hn)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{iScale:sr,vScale:ar,_stacked:or,_dataset:lr}=this._cachedMeta,{sharedOptions:cr,includeOptions:ur}=this._getSharedOptions(er,ir),dr=sr.axis,fr=ar.axis,{spanGaps:xr,segment:yr}=this.options,_r=isNumber$2(xr)?xr:Number.POSITIVE_INFINITY,Sr=this.chart._animationsDisabled||rr||ir==="none",jr=er+nr,Dr=Hn.length;let Ir=er>0&&this.getParsed(er-1);for(let Mr=0;Mr<Dr;++Mr){const Or=Hn[Mr],Lr=Sr?Or:{};if(Mr<er||Mr>=jr){Lr.skip=!0;continue}const Fr=this.getParsed(Mr),Vr=isNullOrUndef(Fr[fr]),Zr=Lr[dr]=sr.getPixelForValue(Fr[dr],Mr),Hr=Lr[fr]=rr||Vr?ar.getBasePixel():ar.getPixelForValue(or?this.applyStack(ar,Fr,or):Fr[fr],Mr);Lr.skip=isNaN(Zr)||isNaN(Hr)||Vr,Lr.stop=Mr>0&&Math.abs(Fr[dr]-Ir[dr])>_r,yr&&(Lr.parsed=Fr,Lr.raw=lr.data[Mr]),ur&&(Lr.options=cr||this.resolveDataElementOptions(Mr,Or.active?"active":ir)),Sr||this.updateElement(Or,Mr,Lr,ir),Ir=Fr}}getMaxOverflow(){const Hn=this._cachedMeta,er=Hn.dataset,nr=er.options&&er.options.borderWidth||0,ir=Hn.data||[];if(!ir.length)return nr;const rr=ir[0].size(this.resolveDataElementOptions(0)),sr=ir[ir.length-1].size(this.resolveDataElementOptions(ir.length-1));return Math.max(nr,rr,sr)/2}draw(){const Hn=this._cachedMeta;Hn.dataset.updateControlPoints(this.chart.chartArea,Hn.iScale.axis),super.draw()}}class PolarAreaController extends DatasetController{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Hn){const er=Hn.data;if(er.labels.length&&er.datasets.length){const{labels:{pointStyle:nr,color:ir}}=Hn.legend.options;return er.labels.map((rr,sr)=>{const or=Hn.getDatasetMeta(0).controller.getStyle(sr);return{text:rr,fillStyle:or.backgroundColor,strokeStyle:or.borderColor,fontColor:ir,lineWidth:or.borderWidth,pointStyle:nr,hidden:!Hn.getDataVisibility(sr),index:sr}})}return[]}},onClick(Hn,er,nr){nr.chart.toggleDataVisibility(er.index),nr.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(Hn,er){super(Hn,er),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart,ir=nr.data.labels||[],rr=formatNumber$1(er._parsed[Hn].r,nr.options.locale);return{label:ir[Hn]||"",value:rr}}parseObjectData(Hn,er,nr,ir){return _parseObjectDataRadialScale.bind(this)(Hn,er,nr,ir)}update(Hn){const er=this._cachedMeta.data;this._updateRadius(),this.updateElements(er,0,er.length,Hn)}getMinMax(){const Hn=this._cachedMeta,er={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return Hn.data.forEach((nr,ir)=>{const rr=this.getParsed(ir).r;!isNaN(rr)&&this.chart.getDataVisibility(ir)&&(rr<er.min&&(er.min=rr),rr>er.max&&(er.max=rr))}),er}_updateRadius(){const Hn=this.chart,er=Hn.chartArea,nr=Hn.options,ir=Math.min(er.right-er.left,er.bottom-er.top),rr=Math.max(ir/2,0),sr=Math.max(nr.cutoutPercentage?rr/100*nr.cutoutPercentage:1,0),ar=(rr-sr)/Hn.getVisibleDatasetCount();this.outerRadius=rr-ar*this.index,this.innerRadius=this.outerRadius-ar}updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this.chart,or=sr.options.animation,lr=this._cachedMeta.rScale,cr=lr.xCenter,ur=lr.yCenter,dr=lr.getIndexAngle(0)-.5*PI;let fr=dr,xr;const yr=360/this.countVisibleElements();for(xr=0;xr<er;++xr)fr+=this._computeAngle(xr,ir,yr);for(xr=er;xr<er+nr;xr++){const _r=Hn[xr];let Sr=fr,jr=fr+this._computeAngle(xr,ir,yr),Dr=sr.getDataVisibility(xr)?lr.getDistanceFromCenterForValue(this.getParsed(xr).r):0;fr=jr,rr&&(or.animateScale&&(Dr=0),or.animateRotate&&(Sr=jr=dr));const Ir={x:cr,y:ur,innerRadius:0,outerRadius:Dr,startAngle:Sr,endAngle:jr,options:this.resolveDataElementOptions(xr,_r.active?"active":ir)};this.updateElement(_r,xr,Ir,ir)}}countVisibleElements(){const Hn=this._cachedMeta;let er=0;return Hn.data.forEach((nr,ir)=>{!isNaN(this.getParsed(ir).r)&&this.chart.getDataVisibility(ir)&&er++}),er}_computeAngle(Hn,er,nr){return this.chart.getDataVisibility(Hn)?toRadians(this.resolveDataElementOptions(Hn,er).angle||nr):0}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class RadarController extends DatasetController{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(Hn){const er=this._cachedMeta.vScale,nr=this.getParsed(Hn);return{label:er.getLabels()[Hn],value:""+er.getLabelForValue(nr[er.axis])}}parseObjectData(Hn,er,nr,ir){return _parseObjectDataRadialScale.bind(this)(Hn,er,nr,ir)}update(Hn){const er=this._cachedMeta,nr=er.dataset,ir=er.data||[],rr=er.iScale.getLabels();if(nr.points=ir,Hn!=="resize"){const sr=this.resolveDatasetElementOptions(Hn);this.options.showLine||(sr.borderWidth=0);const ar={_loop:!0,_fullLoop:rr.length===ir.length,options:sr};this.updateElement(nr,void 0,ar,Hn)}this.updateElements(ir,0,ir.length,Hn)}updateElements(Hn,er,nr,ir){const rr=this._cachedMeta.rScale,sr=ir==="reset";for(let ar=er;ar<er+nr;ar++){const or=Hn[ar],lr=this.resolveDataElementOptions(ar,or.active?"active":ir),cr=rr.getPointPositionForValue(ar,this.getParsed(ar).r),ur=sr?rr.xCenter:cr.x,dr=sr?rr.yCenter:cr.y,fr={x:ur,y:dr,angle:cr.angle,skip:isNaN(ur)||isNaN(dr),options:lr};this.updateElement(or,ar,fr,ir)}}}class ScatterController extends DatasetController{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart.data.labels||[],{xScale:ir,yScale:rr}=er,sr=this.getParsed(Hn),ar=ir.getLabelForValue(sr.x),or=rr.getLabelForValue(sr.y);return{label:nr[Hn]||"",value:"("+ar+", "+or+")"}}update(Hn){const er=this._cachedMeta,{data:nr=[]}=er,ir=this.chart._animationsDisabled;let{start:rr,count:sr}=_getStartAndCountOfVisiblePoints(er,nr,ir);if(this._drawStart=rr,this._drawCount=sr,_scaleRangesChanged(er)&&(rr=0,sr=nr.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:ar,_dataset:or}=er;ar._chart=this.chart,ar._datasetIndex=this.index,ar._decimated=!!or._decimated,ar.points=nr;const lr=this.resolveDatasetElementOptions(Hn);lr.segment=this.options.segment,this.updateElement(ar,void 0,{animated:!ir,options:lr},Hn)}else this.datasetElementType&&(delete er.dataset,this.datasetElementType=!1);this.updateElements(nr,rr,sr,Hn)}addElements(){const{showLine:Hn}=this.options;!this.datasetElementType&&Hn&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{iScale:sr,vScale:ar,_stacked:or,_dataset:lr}=this._cachedMeta,cr=this.resolveDataElementOptions(er,ir),ur=this.getSharedOptions(cr),dr=this.includeOptions(ir,ur),fr=sr.axis,xr=ar.axis,{spanGaps:yr,segment:_r}=this.options,Sr=isNumber$2(yr)?yr:Number.POSITIVE_INFINITY,jr=this.chart._animationsDisabled||rr||ir==="none";let Dr=er>0&&this.getParsed(er-1);for(let Ir=er;Ir<er+nr;++Ir){const Mr=Hn[Ir],Or=this.getParsed(Ir),Lr=jr?Mr:{},Fr=isNullOrUndef(Or[xr]),Vr=Lr[fr]=sr.getPixelForValue(Or[fr],Ir),Zr=Lr[xr]=rr||Fr?ar.getBasePixel():ar.getPixelForValue(or?this.applyStack(ar,Or,or):Or[xr],Ir);Lr.skip=isNaN(Vr)||isNaN(Zr)||Fr,Lr.stop=Ir>0&&Math.abs(Or[fr]-Dr[fr])>Sr,_r&&(Lr.parsed=Or,Lr.raw=lr.data[Ir]),dr&&(Lr.options=ur||this.resolveDataElementOptions(Ir,Mr.active?"active":ir)),jr||this.updateElement(Mr,Ir,Lr,ir),Dr=Or}this.updateSharedOptions(ur,ir,cr)}getMaxOverflow(){const Hn=this._cachedMeta,er=Hn.data||[];if(!this.options.showLine){let ar=0;for(let or=er.length-1;or>=0;--or)ar=Math.max(ar,er[or].size(this.resolveDataElementOptions(or))/2);return ar>0&&ar}const nr=Hn.dataset,ir=nr.options&&nr.options.borderWidth||0;if(!er.length)return ir;const rr=er[0].size(this.resolveDataElementOptions(0)),sr=er[er.length-1].size(this.resolveDataElementOptions(er.length-1));return Math.max(ir,rr,sr)/2}}var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PieController,PolarAreaController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(Hn){Object.assign(DateAdapterBase.prototype,Hn)}options;constructor(Hn){this.options=Hn||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters$1={_date:DateAdapterBase};function binarySearch(tr,Hn,er,nr){const{controller:ir,data:rr,_sorted:sr}=tr,ar=ir._cachedMeta.iScale,or=tr.dataset&&tr.dataset.options?tr.dataset.options.spanGaps:null;if(ar&&Hn===ar.axis&&Hn!=="r"&&sr&&rr.length){const lr=ar._reversePixels?_rlookupByKey:_lookupByKey;if(nr){if(ir._sharedOptions){const cr=rr[0],ur=typeof cr.getRange=="function"&&cr.getRange(Hn);if(ur){const dr=lr(rr,Hn,er-ur),fr=lr(rr,Hn,er+ur);return{lo:dr.lo,hi:fr.hi}}}}else{const cr=lr(rr,Hn,er);if(or){const{vScale:ur}=ir._cachedMeta,{_parsed:dr}=tr,fr=dr.slice(0,cr.lo+1).reverse().findIndex(yr=>!isNullOrUndef(yr[ur.axis]));cr.lo-=Math.max(0,fr);const xr=dr.slice(cr.hi).findIndex(yr=>!isNullOrUndef(yr[ur.axis]));cr.hi+=Math.max(0,xr)}return cr}}return{lo:0,hi:rr.length-1}}function evaluateInteractionItems(tr,Hn,er,nr,ir){const rr=tr.getSortedVisibleDatasetMetas(),sr=er[Hn];for(let ar=0,or=rr.length;ar<or;++ar){const{index:lr,data:cr}=rr[ar],{lo:ur,hi:dr}=binarySearch(rr[ar],Hn,sr,ir);for(let fr=ur;fr<=dr;++fr){const xr=cr[fr];xr.skip||nr(xr,lr,fr)}}}function getDistanceMetricForAxis(tr){const Hn=tr.indexOf("x")!==-1,er=tr.indexOf("y")!==-1;return function(nr,ir){const rr=Hn?Math.abs(nr.x-ir.x):0,sr=er?Math.abs(nr.y-ir.y):0;return Math.sqrt(Math.pow(rr,2)+Math.pow(sr,2))}}function getIntersectItems(tr,Hn,er,nr,ir){const rr=[];return!ir&&!tr.isPointInArea(Hn)||evaluateInteractionItems(tr,er,Hn,function(ar,or,lr){!ir&&!_isPointInArea(ar,tr.chartArea,0)||ar.inRange(Hn.x,Hn.y,nr)&&rr.push({element:ar,datasetIndex:or,index:lr})},!0),rr}function getNearestRadialItems(tr,Hn,er,nr){let ir=[];function rr(sr,ar,or){const{startAngle:lr,endAngle:cr}=sr.getProps(["startAngle","endAngle"],nr),{angle:ur}=getAngleFromPoint(sr,{x:Hn.x,y:Hn.y});_angleBetween(ur,lr,cr)&&ir.push({element:sr,datasetIndex:ar,index:or})}return evaluateInteractionItems(tr,er,Hn,rr),ir}function getNearestCartesianItems(tr,Hn,er,nr,ir,rr){let sr=[];const ar=getDistanceMetricForAxis(er);let or=Number.POSITIVE_INFINITY;function lr(cr,ur,dr){const fr=cr.inRange(Hn.x,Hn.y,ir);if(nr&&!fr)return;const xr=cr.getCenterPoint(ir);if(!(!!rr||tr.isPointInArea(xr))&&!fr)return;const _r=ar(Hn,xr);_r<or?(sr=[{element:cr,datasetIndex:ur,index:dr}],or=_r):_r===or&&sr.push({element:cr,datasetIndex:ur,index:dr})}return evaluateInteractionItems(tr,er,Hn,lr),sr}function getNearestItems(tr,Hn,er,nr,ir,rr){return!rr&&!tr.isPointInArea(Hn)?[]:er==="r"&&!nr?getNearestRadialItems(tr,Hn,er,ir):getNearestCartesianItems(tr,Hn,er,nr,ir,rr)}function getAxisItems(tr,Hn,er,nr,ir){const rr=[],sr=er==="x"?"inXRange":"inYRange";let ar=!1;return evaluateInteractionItems(tr,er,Hn,(or,lr,cr)=>{or[sr]&&or[sr](Hn[er],ir)&&(rr.push({element:or,datasetIndex:lr,index:cr}),ar=ar||or.inRange(Hn.x,Hn.y,ir))}),nr&&!ar?[]:rr}var Interaction={modes:{index(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"x",sr=er.includeInvisible||!1,ar=er.intersect?getIntersectItems(tr,ir,rr,nr,sr):getNearestItems(tr,ir,rr,!1,nr,sr),or=[];return ar.length?(tr.getSortedVisibleDatasetMetas().forEach(lr=>{const cr=ar[0].index,ur=lr.data[cr];ur&&!ur.skip&&or.push({element:ur,datasetIndex:lr.index,index:cr})}),or):[]},dataset(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"xy",sr=er.includeInvisible||!1;let ar=er.intersect?getIntersectItems(tr,ir,rr,nr,sr):getNearestItems(tr,ir,rr,!1,nr,sr);if(ar.length>0){const or=ar[0].datasetIndex,lr=tr.getDatasetMeta(or).data;ar=[];for(let cr=0;cr<lr.length;++cr)ar.push({element:lr[cr],datasetIndex:or,index:cr})}return ar},point(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"xy",sr=er.includeInvisible||!1;return getIntersectItems(tr,ir,rr,nr,sr)},nearest(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"xy",sr=er.includeInvisible||!1;return getNearestItems(tr,ir,rr,er.intersect,nr,sr)},x(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr);return getAxisItems(tr,ir,"x",er.intersect,nr)},y(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr);return getAxisItems(tr,ir,"y",er.intersect,nr)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(tr,Hn){return tr.filter(er=>er.pos===Hn)}function filterDynamicPositionByAxis(tr,Hn){return tr.filter(er=>STATIC_POSITIONS.indexOf(er.pos)===-1&&er.box.axis===Hn)}function sortByWeight(tr,Hn){return tr.sort((er,nr)=>{const ir=Hn?nr:er,rr=Hn?er:nr;return ir.weight===rr.weight?ir.index-rr.index:ir.weight-rr.weight})}function wrapBoxes(tr){const Hn=[];let er,nr,ir,rr,sr,ar;for(er=0,nr=(tr||[]).length;er<nr;++er)ir=tr[er],{position:rr,options:{stack:sr,stackWeight:ar=1}}=ir,Hn.push({index:er,box:ir,pos:rr,horizontal:ir.isHorizontal(),weight:ir.weight,stack:sr&&rr+sr,stackWeight:ar});return Hn}function buildStacks(tr){const Hn={};for(const er of tr){const{stack:nr,pos:ir,stackWeight:rr}=er;if(!nr||!STATIC_POSITIONS.includes(ir))continue;const sr=Hn[nr]||(Hn[nr]={count:0,placed:0,weight:0,size:0});sr.count++,sr.weight+=rr}return Hn}function setLayoutDims(tr,Hn){const er=buildStacks(tr),{vBoxMaxWidth:nr,hBoxMaxHeight:ir}=Hn;let rr,sr,ar;for(rr=0,sr=tr.length;rr<sr;++rr){ar=tr[rr];const{fullSize:or}=ar.box,lr=er[ar.stack],cr=lr&&ar.stackWeight/lr.weight;ar.horizontal?(ar.width=cr?cr*nr:or&&Hn.availableWidth,ar.height=ir):(ar.width=nr,ar.height=cr?cr*ir:or&&Hn.availableHeight)}return er}function buildLayoutBoxes(tr){const Hn=wrapBoxes(tr),er=sortByWeight(Hn.filter(lr=>lr.box.fullSize),!0),nr=sortByWeight(filterByPosition(Hn,"left"),!0),ir=sortByWeight(filterByPosition(Hn,"right")),rr=sortByWeight(filterByPosition(Hn,"top"),!0),sr=sortByWeight(filterByPosition(Hn,"bottom")),ar=filterDynamicPositionByAxis(Hn,"x"),or=filterDynamicPositionByAxis(Hn,"y");return{fullSize:er,leftAndTop:nr.concat(rr),rightAndBottom:ir.concat(or).concat(sr).concat(ar),chartArea:filterByPosition(Hn,"chartArea"),vertical:nr.concat(ir).concat(or),horizontal:rr.concat(sr).concat(ar)}}function getCombinedMax(tr,Hn,er,nr){return Math.max(tr[er],Hn[er])+Math.max(tr[nr],Hn[nr])}function updateMaxPadding(tr,Hn){tr.top=Math.max(tr.top,Hn.top),tr.left=Math.max(tr.left,Hn.left),tr.bottom=Math.max(tr.bottom,Hn.bottom),tr.right=Math.max(tr.right,Hn.right)}function updateDims(tr,Hn,er,nr){const{pos:ir,box:rr}=er,sr=tr.maxPadding;if(!isObject$2(ir)){er.size&&(tr[ir]-=er.size);const ur=nr[er.stack]||{size:0,count:1};ur.size=Math.max(ur.size,er.horizontal?rr.height:rr.width),er.size=ur.size/ur.count,tr[ir]+=er.size}rr.getPadding&&updateMaxPadding(sr,rr.getPadding());const ar=Math.max(0,Hn.outerWidth-getCombinedMax(sr,tr,"left","right")),or=Math.max(0,Hn.outerHeight-getCombinedMax(sr,tr,"top","bottom")),lr=ar!==tr.w,cr=or!==tr.h;return tr.w=ar,tr.h=or,er.horizontal?{same:lr,other:cr}:{same:cr,other:lr}}function handleMaxPadding(tr){const Hn=tr.maxPadding;function er(nr){const ir=Math.max(Hn[nr]-tr[nr],0);return tr[nr]+=ir,ir}tr.y+=er("top"),tr.x+=er("left"),er("right"),er("bottom")}function getMargins(tr,Hn){const er=Hn.maxPadding;function nr(ir){const rr={left:0,top:0,right:0,bottom:0};return ir.forEach(sr=>{rr[sr]=Math.max(Hn[sr],er[sr])}),rr}return nr(tr?["left","right"]:["top","bottom"])}function fitBoxes(tr,Hn,er,nr){const ir=[];let rr,sr,ar,or,lr,cr;for(rr=0,sr=tr.length,lr=0;rr<sr;++rr){ar=tr[rr],or=ar.box,or.update(ar.width||Hn.w,ar.height||Hn.h,getMargins(ar.horizontal,Hn));const{same:ur,other:dr}=updateDims(Hn,er,ar,nr);lr|=ur&&ir.length,cr=cr||dr,or.fullSize||ir.push(ar)}return lr&&fitBoxes(ir,Hn,er,nr)||cr}function setBoxDims(tr,Hn,er,nr,ir){tr.top=er,tr.left=Hn,tr.right=Hn+nr,tr.bottom=er+ir,tr.width=nr,tr.height=ir}function placeBoxes(tr,Hn,er,nr){const ir=er.padding;let{x:rr,y:sr}=Hn;for(const ar of tr){const or=ar.box,lr=nr[ar.stack]||{placed:0,weight:1},cr=ar.stackWeight/lr.weight||1;if(ar.horizontal){const ur=Hn.w*cr,dr=lr.size||or.height;defined$1(lr.start)&&(sr=lr.start),or.fullSize?setBoxDims(or,ir.left,sr,er.outerWidth-ir.right-ir.left,dr):setBoxDims(or,Hn.left+lr.placed,sr,ur,dr),lr.start=sr,lr.placed+=ur,sr=or.bottom}else{const ur=Hn.h*cr,dr=lr.size||or.width;defined$1(lr.start)&&(rr=lr.start),or.fullSize?setBoxDims(or,rr,ir.top,dr,er.outerHeight-ir.bottom-ir.top):setBoxDims(or,rr,Hn.top+lr.placed,dr,ur),lr.start=rr,lr.placed+=ur,rr=or.right}}Hn.x=rr,Hn.y=sr}var layouts={addBox(tr,Hn){tr.boxes||(tr.boxes=[]),Hn.fullSize=Hn.fullSize||!1,Hn.position=Hn.position||"top",Hn.weight=Hn.weight||0,Hn._layers=Hn._layers||function(){return[{z:0,draw(er){Hn.draw(er)}}]},tr.boxes.push(Hn)},removeBox(tr,Hn){const er=tr.boxes?tr.boxes.indexOf(Hn):-1;er!==-1&&tr.boxes.splice(er,1)},configure(tr,Hn,er){Hn.fullSize=er.fullSize,Hn.position=er.position,Hn.weight=er.weight},update(tr,Hn,er,nr){if(!tr)return;const ir=toPadding(tr.options.layout.padding),rr=Math.max(Hn-ir.width,0),sr=Math.max(er-ir.height,0),ar=buildLayoutBoxes(tr.boxes),or=ar.vertical,lr=ar.horizontal;each$1(tr.boxes,yr=>{typeof yr.beforeLayout=="function"&&yr.beforeLayout()});const cr=or.reduce((yr,_r)=>_r.box.options&&_r.box.options.display===!1?yr:yr+1,0)||1,ur=Object.freeze({outerWidth:Hn,outerHeight:er,padding:ir,availableWidth:rr,availableHeight:sr,vBoxMaxWidth:rr/2/cr,hBoxMaxHeight:sr/2}),dr=Object.assign({},ir);updateMaxPadding(dr,toPadding(nr));const fr=Object.assign({maxPadding:dr,w:rr,h:sr,x:ir.left,y:ir.top},ir),xr=setLayoutDims(or.concat(lr),ur);fitBoxes(ar.fullSize,fr,ur,xr),fitBoxes(or,fr,ur,xr),fitBoxes(lr,fr,ur,xr)&&fitBoxes(or,fr,ur,xr),handleMaxPadding(fr),placeBoxes(ar.leftAndTop,fr,ur,xr),fr.x+=fr.w,fr.y+=fr.h,placeBoxes(ar.rightAndBottom,fr,ur,xr),tr.chartArea={left:fr.left,top:fr.top,right:fr.left+fr.w,bottom:fr.top+fr.h,height:fr.h,width:fr.w},each$1(ar.chartArea,yr=>{const _r=yr.box;Object.assign(_r,tr.chartArea),_r.update(fr.w,fr.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(Hn,er){}releaseContext(Hn){return!1}addEventListener(Hn,er,nr){}removeEventListener(Hn,er,nr){}getDevicePixelRatio(){return 1}getMaximumSize(Hn,er,nr,ir){return er=Math.max(0,er||Hn.width),nr=nr||Hn.height,{width:er,height:Math.max(0,ir?Math.floor(er/ir):nr)}}isAttached(Hn){return!0}updateConfig(Hn){}}class BasicPlatform extends BasePlatform{acquireContext(Hn){return Hn&&Hn.getContext&&Hn.getContext("2d")||null}updateConfig(Hn){Hn.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=tr=>tr===null||tr==="";function initCanvas(tr,Hn){const er=tr.style,nr=tr.getAttribute("height"),ir=tr.getAttribute("width");if(tr[EXPANDO_KEY$1]={initial:{height:nr,width:ir,style:{display:er.display,height:er.height,width:er.width}}},er.display=er.display||"block",er.boxSizing=er.boxSizing||"border-box",isNullOrEmpty(ir)){const rr=readUsedSize(tr,"width");rr!==void 0&&(tr.width=rr)}if(isNullOrEmpty(nr))if(tr.style.height==="")tr.height=tr.width/(Hn||2);else{const rr=readUsedSize(tr,"height");rr!==void 0&&(tr.height=rr)}return tr}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener$1(tr,Hn,er){tr&&tr.addEventListener(Hn,er,eventListenerOptions)}function removeListener$1(tr,Hn,er){tr&&tr.canvas&&tr.canvas.removeEventListener(Hn,er,eventListenerOptions)}function fromNativeEvent(tr,Hn){const er=EVENT_TYPES[tr.type]||tr.type,{x:nr,y:ir}=getRelativePosition$1(tr,Hn);return{type:er,chart:Hn,native:tr,x:nr!==void 0?nr:null,y:ir!==void 0?ir:null}}function nodeListContains(tr,Hn){for(const er of tr)if(er===Hn||er.contains(Hn))return!0}function createAttachObserver(tr,Hn,er){const nr=tr.canvas,ir=new MutationObserver(rr=>{let sr=!1;for(const ar of rr)sr=sr||nodeListContains(ar.addedNodes,nr),sr=sr&&!nodeListContains(ar.removedNodes,nr);sr&&er()});return ir.observe(document,{childList:!0,subtree:!0}),ir}function createDetachObserver(tr,Hn,er){const nr=tr.canvas,ir=new MutationObserver(rr=>{let sr=!1;for(const ar of rr)sr=sr||nodeListContains(ar.removedNodes,nr),sr=sr&&!nodeListContains(ar.addedNodes,nr);sr&&er()});return ir.observe(document,{childList:!0,subtree:!0}),ir}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const tr=window.devicePixelRatio;tr!==oldDevicePixelRatio&&(oldDevicePixelRatio=tr,drpListeningCharts.forEach((Hn,er)=>{er.currentDevicePixelRatio!==tr&&Hn()}))}function listenDevicePixelRatioChanges(tr,Hn){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(tr,Hn)}function unlistenDevicePixelRatioChanges(tr){drpListeningCharts.delete(tr),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(tr,Hn,er){const nr=tr.canvas,ir=nr&&_getParentNode(nr);if(!ir)return;const rr=throttled((ar,or)=>{const lr=ir.clientWidth;er(ar,or),lr<ir.clientWidth&&er()},window),sr=new ResizeObserver(ar=>{const or=ar[0],lr=or.contentRect.width,cr=or.contentRect.height;lr===0&&cr===0||rr(lr,cr)});return sr.observe(ir),listenDevicePixelRatioChanges(tr,rr),sr}function releaseObserver(tr,Hn,er){er&&er.disconnect(),Hn==="resize"&&unlistenDevicePixelRatioChanges(tr)}function createProxyAndListen(tr,Hn,er){const nr=tr.canvas,ir=throttled(rr=>{tr.ctx!==null&&er(fromNativeEvent(rr,tr))},tr);return addListener$1(nr,Hn,ir),ir}class DomPlatform extends BasePlatform{acquireContext(Hn,er){const nr=Hn&&Hn.getContext&&Hn.getContext("2d");return nr&&nr.canvas===Hn?(initCanvas(Hn,er),nr):null}releaseContext(Hn){const er=Hn.canvas;if(!er[EXPANDO_KEY$1])return!1;const nr=er[EXPANDO_KEY$1].initial;["height","width"].forEach(rr=>{const sr=nr[rr];isNullOrUndef(sr)?er.removeAttribute(rr):er.setAttribute(rr,sr)});const ir=nr.style||{};return Object.keys(ir).forEach(rr=>{er.style[rr]=ir[rr]}),er.width=er.width,delete er[EXPANDO_KEY$1],!0}addEventListener(Hn,er,nr){this.removeEventListener(Hn,er);const ir=Hn.$proxies||(Hn.$proxies={}),sr={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[er]||createProxyAndListen;ir[er]=sr(Hn,er,nr)}removeEventListener(Hn,er){const nr=Hn.$proxies||(Hn.$proxies={}),ir=nr[er];if(!ir)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[er]||removeListener$1)(Hn,er,ir),nr[er]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(Hn,er,nr,ir){return getMaximumSize(Hn,er,nr,ir)}isAttached(Hn){const er=Hn&&_getParentNode(Hn);return!!(er&&er.isConnected)}}function _detectPlatform(tr){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&tr instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(Hn){const{x:er,y:nr}=this.getProps(["x","y"],Hn);return{x:er,y:nr}}hasValue(){return isNumber$2(this.x)&&isNumber$2(this.y)}getProps(Hn,er){const nr=this.$animations;if(!er||!nr)return this;const ir={};return Hn.forEach(rr=>{ir[rr]=nr[rr]&&nr[rr].active()?nr[rr]._to:this[rr]}),ir}};function autoSkip(tr,Hn){const er=tr.options.ticks,nr=determineMaxTicks(tr),ir=Math.min(er.maxTicksLimit||nr,nr),rr=er.major.enabled?getMajorIndices(Hn):[],sr=rr.length,ar=rr[0],or=rr[sr-1],lr=[];if(sr>ir)return skipMajors(Hn,lr,rr,sr/ir),lr;const cr=calculateSpacing(rr,Hn,ir);if(sr>0){let ur,dr;const fr=sr>1?Math.round((or-ar)/(sr-1)):null;for(skip(Hn,lr,cr,isNullOrUndef(fr)?0:ar-fr,ar),ur=0,dr=sr-1;ur<dr;ur++)skip(Hn,lr,cr,rr[ur],rr[ur+1]);return skip(Hn,lr,cr,or,isNullOrUndef(fr)?Hn.length:or+fr),lr}return skip(Hn,lr,cr),lr}function determineMaxTicks(tr){const Hn=tr.options.offset,er=tr._tickSize(),nr=tr._length/er+(Hn?0:1),ir=tr._maxLength/er;return Math.floor(Math.min(nr,ir))}function calculateSpacing(tr,Hn,er){const nr=getEvenSpacing(tr),ir=Hn.length/er;if(!nr)return Math.max(ir,1);const rr=_factorize(nr);for(let sr=0,ar=rr.length-1;sr<ar;sr++){const or=rr[sr];if(or>ir)return or}return Math.max(ir,1)}function getMajorIndices(tr){const Hn=[];let er,nr;for(er=0,nr=tr.length;er<nr;er++)tr[er].major&&Hn.push(er);return Hn}function skipMajors(tr,Hn,er,nr){let ir=0,rr=er[0],sr;for(nr=Math.ceil(nr),sr=0;sr<tr.length;sr++)sr===rr&&(Hn.push(tr[sr]),ir++,rr=er[ir*nr])}function skip(tr,Hn,er,nr,ir){const rr=valueOrDefault(nr,0),sr=Math.min(valueOrDefault(ir,tr.length),tr.length);let ar=0,or,lr,cr;for(er=Math.ceil(er),ir&&(or=ir-nr,er=or/Math.floor(or/er)),cr=rr;cr<0;)ar++,cr=Math.round(rr+ar*er);for(lr=Math.max(rr,0);lr<sr;lr++)lr===cr&&(Hn.push(tr[lr]),ar++,cr=Math.round(rr+ar*er))}function getEvenSpacing(tr){const Hn=tr.length;let er,nr;if(Hn<2)return!1;for(nr=tr[0],er=1;er<Hn;++er)if(tr[er]-tr[er-1]!==nr)return!1;return nr}const reverseAlign=tr=>tr==="left"?"right":tr==="right"?"left":tr,offsetFromEdge=(tr,Hn,er)=>Hn==="top"||Hn==="left"?tr[Hn]+er:tr[Hn]-er,getTicksLimit=(tr,Hn)=>Math.min(Hn||tr,tr);function sample(tr,Hn){const er=[],nr=tr.length/Hn,ir=tr.length;let rr=0;for(;rr<ir;rr+=nr)er.push(tr[Math.floor(rr)]);return er}function getPixelForGridLine(tr,Hn,er){const nr=tr.ticks.length,ir=Math.min(Hn,nr-1),rr=tr._startPixel,sr=tr._endPixel,ar=1e-6;let or=tr.getPixelForTick(ir),lr;if(!(er&&(nr===1?lr=Math.max(or-rr,sr-or):Hn===0?lr=(tr.getPixelForTick(1)-or)/2:lr=(or-tr.getPixelForTick(ir-1))/2,or+=ir<Hn?lr:-lr,or<rr-ar||or>sr+ar)))return or}function garbageCollect(tr,Hn){each$1(tr,er=>{const nr=er.gc,ir=nr.length/2;let rr;if(ir>Hn){for(rr=0;rr<ir;++rr)delete er.data[nr[rr]];nr.splice(0,ir)}})}function getTickMarkLength(tr){return tr.drawTicks?tr.tickLength:0}function getTitleHeight(tr,Hn){if(!tr.display)return 0;const er=toFont(tr.font,Hn),nr=toPadding(tr.padding);return(isArray$1(tr.text)?tr.text.length:1)*er.lineHeight+nr.height}function createScaleContext(tr,Hn){return createContext(tr,{scale:Hn,type:"scale"})}function createTickContext(tr,Hn,er){return createContext(tr,{tick:er,index:Hn,type:"tick"})}function titleAlign(tr,Hn,er){let nr=_toLeftRightCenter(tr);return(er&&Hn!=="right"||!er&&Hn==="right")&&(nr=reverseAlign(nr)),nr}function titleArgs(tr,Hn,er,nr){const{top:ir,left:rr,bottom:sr,right:ar,chart:or}=tr,{chartArea:lr,scales:cr}=or;let ur=0,dr,fr,xr;const yr=sr-ir,_r=ar-rr;if(tr.isHorizontal()){if(fr=_alignStartEnd(nr,rr,ar),isObject$2(er)){const Sr=Object.keys(er)[0],jr=er[Sr];xr=cr[Sr].getPixelForValue(jr)+yr-Hn}else er==="center"?xr=(lr.bottom+lr.top)/2+yr-Hn:xr=offsetFromEdge(tr,er,Hn);dr=ar-rr}else{if(isObject$2(er)){const Sr=Object.keys(er)[0],jr=er[Sr];fr=cr[Sr].getPixelForValue(jr)-_r+Hn}else er==="center"?fr=(lr.left+lr.right)/2-_r+Hn:fr=offsetFromEdge(tr,er,Hn);xr=_alignStartEnd(nr,sr,ir),ur=er==="left"?-HALF_PI:HALF_PI}return{titleX:fr,titleY:xr,maxWidth:dr,rotation:ur}}class Scale extends Element$1{constructor(Hn){super(),this.id=Hn.id,this.type=Hn.type,this.options=void 0,this.ctx=Hn.ctx,this.chart=Hn.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(Hn){this.options=Hn.setContext(this.getContext()),this.axis=Hn.axis,this._userMin=this.parse(Hn.min),this._userMax=this.parse(Hn.max),this._suggestedMin=this.parse(Hn.suggestedMin),this._suggestedMax=this.parse(Hn.suggestedMax)}parse(Hn,er){return Hn}getUserBounds(){let{_userMin:Hn,_userMax:er,_suggestedMin:nr,_suggestedMax:ir}=this;return Hn=finiteOrDefault(Hn,Number.POSITIVE_INFINITY),er=finiteOrDefault(er,Number.NEGATIVE_INFINITY),nr=finiteOrDefault(nr,Number.POSITIVE_INFINITY),ir=finiteOrDefault(ir,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(Hn,nr),max:finiteOrDefault(er,ir),minDefined:isNumberFinite(Hn),maxDefined:isNumberFinite(er)}}getMinMax(Hn){let{min:er,max:nr,minDefined:ir,maxDefined:rr}=this.getUserBounds(),sr;if(ir&&rr)return{min:er,max:nr};const ar=this.getMatchingVisibleMetas();for(let or=0,lr=ar.length;or<lr;++or)sr=ar[or].controller.getMinMax(this,Hn),ir||(er=Math.min(er,sr.min)),rr||(nr=Math.max(nr,sr.max));return er=rr&&er>nr?nr:er,nr=ir&&er>nr?er:nr,{min:finiteOrDefault(er,finiteOrDefault(nr,er)),max:finiteOrDefault(nr,finiteOrDefault(er,nr))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const Hn=this.chart.data;return this.options.labels||(this.isHorizontal()?Hn.xLabels:Hn.yLabels)||Hn.labels||[]}getLabelItems(Hn=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(Hn))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(Hn,er,nr){const{beginAtZero:ir,grace:rr,ticks:sr}=this.options,ar=sr.sampleSize;this.beforeUpdate(),this.maxWidth=Hn,this.maxHeight=er,this._margins=nr=Object.assign({left:0,right:0,top:0,bottom:0},nr),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+nr.left+nr.right:this.height+nr.top+nr.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,rr,ir),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const or=ar<this.ticks.length;this._convertTicksToLabels(or?sample(this.ticks,ar):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),sr.display&&(sr.autoSkip||sr.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),or&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let Hn=this.options.reverse,er,nr;this.isHorizontal()?(er=this.left,nr=this.right):(er=this.top,nr=this.bottom,Hn=!Hn),this._startPixel=er,this._endPixel=nr,this._reversePixels=Hn,this._length=nr-er,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(Hn){this.chart.notifyPlugins(Hn,this.getContext()),callback(this.options[Hn],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(Hn){const er=this.options.ticks;let nr,ir,rr;for(nr=0,ir=Hn.length;nr<ir;nr++)rr=Hn[nr],rr.label=callback(er.callback,[rr.value,nr,Hn],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const Hn=this.options,er=Hn.ticks,nr=getTicksLimit(this.ticks.length,Hn.ticks.maxTicksLimit),ir=er.minRotation||0,rr=er.maxRotation;let sr=ir,ar,or,lr;if(!this._isVisible()||!er.display||ir>=rr||nr<=1||!this.isHorizontal()){this.labelRotation=ir;return}const cr=this._getLabelSizes(),ur=cr.widest.width,dr=cr.highest.height,fr=_limitValue(this.chart.width-ur,0,this.maxWidth);ar=Hn.offset?this.maxWidth/nr:fr/(nr-1),ur+6>ar&&(ar=fr/(nr-(Hn.offset?.5:1)),or=this.maxHeight-getTickMarkLength(Hn.grid)-er.padding-getTitleHeight(Hn.title,this.chart.options.font),lr=Math.sqrt(ur*ur+dr*dr),sr=toDegrees(Math.min(Math.asin(_limitValue((cr.highest.height+6)/ar,-1,1)),Math.asin(_limitValue(or/lr,-1,1))-Math.asin(_limitValue(dr/lr,-1,1)))),sr=Math.max(ir,Math.min(rr,sr))),this.labelRotation=sr}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const Hn={width:0,height:0},{chart:er,options:{ticks:nr,title:ir,grid:rr}}=this,sr=this._isVisible(),ar=this.isHorizontal();if(sr){const or=getTitleHeight(ir,er.options.font);if(ar?(Hn.width=this.maxWidth,Hn.height=getTickMarkLength(rr)+or):(Hn.height=this.maxHeight,Hn.width=getTickMarkLength(rr)+or),nr.display&&this.ticks.length){const{first:lr,last:cr,widest:ur,highest:dr}=this._getLabelSizes(),fr=nr.padding*2,xr=toRadians(this.labelRotation),yr=Math.cos(xr),_r=Math.sin(xr);if(ar){const Sr=nr.mirror?0:_r*ur.width+yr*dr.height;Hn.height=Math.min(this.maxHeight,Hn.height+Sr+fr)}else{const Sr=nr.mirror?0:yr*ur.width+_r*dr.height;Hn.width=Math.min(this.maxWidth,Hn.width+Sr+fr)}this._calculatePadding(lr,cr,_r,yr)}}this._handleMargins(),ar?(this.width=this._length=er.width-this._margins.left-this._margins.right,this.height=Hn.height):(this.width=Hn.width,this.height=this._length=er.height-this._margins.top-this._margins.bottom)}_calculatePadding(Hn,er,nr,ir){const{ticks:{align:rr,padding:sr},position:ar}=this.options,or=this.labelRotation!==0,lr=ar!=="top"&&this.axis==="x";if(this.isHorizontal()){const cr=this.getPixelForTick(0)-this.left,ur=this.right-this.getPixelForTick(this.ticks.length-1);let dr=0,fr=0;or?lr?(dr=ir*Hn.width,fr=nr*er.height):(dr=nr*Hn.height,fr=ir*er.width):rr==="start"?fr=er.width:rr==="end"?dr=Hn.width:rr!=="inner"&&(dr=Hn.width/2,fr=er.width/2),this.paddingLeft=Math.max((dr-cr+sr)*this.width/(this.width-cr),0),this.paddingRight=Math.max((fr-ur+sr)*this.width/(this.width-ur),0)}else{let cr=er.height/2,ur=Hn.height/2;rr==="start"?(cr=0,ur=Hn.height):rr==="end"&&(cr=er.height,ur=0),this.paddingTop=cr+sr,this.paddingBottom=ur+sr}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:Hn,position:er}=this.options;return er==="top"||er==="bottom"||Hn==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(Hn){this.beforeTickToLabelConversion(),this.generateTickLabels(Hn);let er,nr;for(er=0,nr=Hn.length;er<nr;er++)isNullOrUndef(Hn[er].label)&&(Hn.splice(er,1),nr--,er--);this.afterTickToLabelConversion()}_getLabelSizes(){let Hn=this._labelSizes;if(!Hn){const er=this.options.ticks.sampleSize;let nr=this.ticks;er<nr.length&&(nr=sample(nr,er)),this._labelSizes=Hn=this._computeLabelSizes(nr,nr.length,this.options.ticks.maxTicksLimit)}return Hn}_computeLabelSizes(Hn,er,nr){const{ctx:ir,_longestTextCache:rr}=this,sr=[],ar=[],or=Math.floor(er/getTicksLimit(er,nr));let lr=0,cr=0,ur,dr,fr,xr,yr,_r,Sr,jr,Dr,Ir,Mr;for(ur=0;ur<er;ur+=or){if(xr=Hn[ur].label,yr=this._resolveTickFontOptions(ur),ir.font=_r=yr.string,Sr=rr[_r]=rr[_r]||{data:{},gc:[]},jr=yr.lineHeight,Dr=Ir=0,!isNullOrUndef(xr)&&!isArray$1(xr))Dr=_measureText(ir,Sr.data,Sr.gc,Dr,xr),Ir=jr;else if(isArray$1(xr))for(dr=0,fr=xr.length;dr<fr;++dr)Mr=xr[dr],!isNullOrUndef(Mr)&&!isArray$1(Mr)&&(Dr=_measureText(ir,Sr.data,Sr.gc,Dr,Mr),Ir+=jr);sr.push(Dr),ar.push(Ir),lr=Math.max(Dr,lr),cr=Math.max(Ir,cr)}garbageCollect(rr,er);const Or=sr.indexOf(lr),Lr=ar.indexOf(cr),Fr=Vr=>({width:sr[Vr]||0,height:ar[Vr]||0});return{first:Fr(0),last:Fr(er-1),widest:Fr(Or),highest:Fr(Lr),widths:sr,heights:ar}}getLabelForValue(Hn){return Hn}getPixelForValue(Hn,er){return NaN}getValueForPixel(Hn){}getPixelForTick(Hn){const er=this.ticks;return Hn<0||Hn>er.length-1?null:this.getPixelForValue(er[Hn].value)}getPixelForDecimal(Hn){this._reversePixels&&(Hn=1-Hn);const er=this._startPixel+Hn*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,er,0):er)}getDecimalForPixel(Hn){const er=(Hn-this._startPixel)/this._length;return this._reversePixels?1-er:er}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:Hn,max:er}=this;return Hn<0&&er<0?er:Hn>0&&er>0?Hn:0}getContext(Hn){const er=this.ticks||[];if(Hn>=0&&Hn<er.length){const nr=er[Hn];return nr.$context||(nr.$context=createTickContext(this.getContext(),Hn,nr))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const Hn=this.options.ticks,er=toRadians(this.labelRotation),nr=Math.abs(Math.cos(er)),ir=Math.abs(Math.sin(er)),rr=this._getLabelSizes(),sr=Hn.autoSkipPadding||0,ar=rr?rr.widest.width+sr:0,or=rr?rr.highest.height+sr:0;return this.isHorizontal()?or*nr>ar*ir?ar/nr:or/ir:or*ir<ar*nr?or/nr:ar/ir}_isVisible(){const Hn=this.options.display;return Hn!=="auto"?!!Hn:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(Hn){const er=this.axis,nr=this.chart,ir=this.options,{grid:rr,position:sr,border:ar}=ir,or=rr.offset,lr=this.isHorizontal(),ur=this.ticks.length+(or?1:0),dr=getTickMarkLength(rr),fr=[],xr=ar.setContext(this.getContext()),yr=xr.display?xr.width:0,_r=yr/2,Sr=function(so){return _alignPixel(nr,so,yr)};let jr,Dr,Ir,Mr,Or,Lr,Fr,Vr,Zr,Hr,Yr,eo;if(sr==="top")jr=Sr(this.bottom),Lr=this.bottom-dr,Vr=jr-_r,Hr=Sr(Hn.top)+_r,eo=Hn.bottom;else if(sr==="bottom")jr=Sr(this.top),Hr=Hn.top,eo=Sr(Hn.bottom)-_r,Lr=jr+_r,Vr=this.top+dr;else if(sr==="left")jr=Sr(this.right),Or=this.right-dr,Fr=jr-_r,Zr=Sr(Hn.left)+_r,Yr=Hn.right;else if(sr==="right")jr=Sr(this.left),Zr=Hn.left,Yr=Sr(Hn.right)-_r,Or=jr+_r,Fr=this.left+dr;else if(er==="x"){if(sr==="center")jr=Sr((Hn.top+Hn.bottom)/2+.5);else if(isObject$2(sr)){const so=Object.keys(sr)[0],no=sr[so];jr=Sr(this.chart.scales[so].getPixelForValue(no))}Hr=Hn.top,eo=Hn.bottom,Lr=jr+_r,Vr=Lr+dr}else if(er==="y"){if(sr==="center")jr=Sr((Hn.left+Hn.right)/2);else if(isObject$2(sr)){const so=Object.keys(sr)[0],no=sr[so];jr=Sr(this.chart.scales[so].getPixelForValue(no))}Or=jr-_r,Fr=Or-dr,Zr=Hn.left,Yr=Hn.right}const io=valueOrDefault(ir.ticks.maxTicksLimit,ur),uo=Math.max(1,Math.ceil(ur/io));for(Dr=0;Dr<ur;Dr+=uo){const so=this.getContext(Dr),no=rr.setContext(so),po=ar.setContext(so),co=no.lineWidth,lo=no.color,ao=po.dash||[],xo=po.dashOffset,_o=no.tickWidth,Po=no.tickColor,Oo=no.tickBorderDash||[],So=no.tickBorderDashOffset;Ir=getPixelForGridLine(this,Dr,or),Ir!==void 0&&(Mr=_alignPixel(nr,Ir,co),lr?Or=Fr=Zr=Yr=Mr:Lr=Vr=Hr=eo=Mr,fr.push({tx1:Or,ty1:Lr,tx2:Fr,ty2:Vr,x1:Zr,y1:Hr,x2:Yr,y2:eo,width:co,color:lo,borderDash:ao,borderDashOffset:xo,tickWidth:_o,tickColor:Po,tickBorderDash:Oo,tickBorderDashOffset:So}))}return this._ticksLength=ur,this._borderValue=jr,fr}_computeLabelItems(Hn){const er=this.axis,nr=this.options,{position:ir,ticks:rr}=nr,sr=this.isHorizontal(),ar=this.ticks,{align:or,crossAlign:lr,padding:cr,mirror:ur}=rr,dr=getTickMarkLength(nr.grid),fr=dr+cr,xr=ur?-cr:fr,yr=-toRadians(this.labelRotation),_r=[];let Sr,jr,Dr,Ir,Mr,Or,Lr,Fr,Vr,Zr,Hr,Yr,eo="middle";if(ir==="top")Or=this.bottom-xr,Lr=this._getXAxisLabelAlignment();else if(ir==="bottom")Or=this.top+xr,Lr=this._getXAxisLabelAlignment();else if(ir==="left"){const uo=this._getYAxisLabelAlignment(dr);Lr=uo.textAlign,Mr=uo.x}else if(ir==="right"){const uo=this._getYAxisLabelAlignment(dr);Lr=uo.textAlign,Mr=uo.x}else if(er==="x"){if(ir==="center")Or=(Hn.top+Hn.bottom)/2+fr;else if(isObject$2(ir)){const uo=Object.keys(ir)[0],so=ir[uo];Or=this.chart.scales[uo].getPixelForValue(so)+fr}Lr=this._getXAxisLabelAlignment()}else if(er==="y"){if(ir==="center")Mr=(Hn.left+Hn.right)/2-fr;else if(isObject$2(ir)){const uo=Object.keys(ir)[0],so=ir[uo];Mr=this.chart.scales[uo].getPixelForValue(so)}Lr=this._getYAxisLabelAlignment(dr).textAlign}er==="y"&&(or==="start"?eo="top":or==="end"&&(eo="bottom"));const io=this._getLabelSizes();for(Sr=0,jr=ar.length;Sr<jr;++Sr){Dr=ar[Sr],Ir=Dr.label;const uo=rr.setContext(this.getContext(Sr));Fr=this.getPixelForTick(Sr)+rr.labelOffset,Vr=this._resolveTickFontOptions(Sr),Zr=Vr.lineHeight,Hr=isArray$1(Ir)?Ir.length:1;const so=Hr/2,no=uo.color,po=uo.textStrokeColor,co=uo.textStrokeWidth;let lo=Lr;sr?(Mr=Fr,Lr==="inner"&&(Sr===jr-1?lo=this.options.reverse?"left":"right":Sr===0?lo=this.options.reverse?"right":"left":lo="center"),ir==="top"?lr==="near"||yr!==0?Yr=-Hr*Zr+Zr/2:lr==="center"?Yr=-io.highest.height/2-so*Zr+Zr:Yr=-io.highest.height+Zr/2:lr==="near"||yr!==0?Yr=Zr/2:lr==="center"?Yr=io.highest.height/2-so*Zr:Yr=io.highest.height-Hr*Zr,ur&&(Yr*=-1),yr!==0&&!uo.showLabelBackdrop&&(Mr+=Zr/2*Math.sin(yr))):(Or=Fr,Yr=(1-Hr)*Zr/2);let ao;if(uo.showLabelBackdrop){const xo=toPadding(uo.backdropPadding),_o=io.heights[Sr],Po=io.widths[Sr];let Oo=Yr-xo.top,So=0-xo.left;switch(eo){case"middle":Oo-=_o/2;break;case"bottom":Oo-=_o;break}switch(Lr){case"center":So-=Po/2;break;case"right":So-=Po;break;case"inner":Sr===jr-1?So-=Po:Sr>0&&(So-=Po/2);break}ao={left:So,top:Oo,width:Po+xo.width,height:_o+xo.height,color:uo.backdropColor}}_r.push({label:Ir,font:Vr,textOffset:Yr,options:{rotation:yr,color:no,strokeColor:po,strokeWidth:co,textAlign:lo,textBaseline:eo,translation:[Mr,Or],backdrop:ao}})}return _r}_getXAxisLabelAlignment(){const{position:Hn,ticks:er}=this.options;if(-toRadians(this.labelRotation))return Hn==="top"?"left":"right";let ir="center";return er.align==="start"?ir="left":er.align==="end"?ir="right":er.align==="inner"&&(ir="inner"),ir}_getYAxisLabelAlignment(Hn){const{position:er,ticks:{crossAlign:nr,mirror:ir,padding:rr}}=this.options,sr=this._getLabelSizes(),ar=Hn+rr,or=sr.widest.width;let lr,cr;return er==="left"?ir?(cr=this.right+rr,nr==="near"?lr="left":nr==="center"?(lr="center",cr+=or/2):(lr="right",cr+=or)):(cr=this.right-ar,nr==="near"?lr="right":nr==="center"?(lr="center",cr-=or/2):(lr="left",cr=this.left)):er==="right"?ir?(cr=this.left+rr,nr==="near"?lr="right":nr==="center"?(lr="center",cr-=or/2):(lr="left",cr-=or)):(cr=this.left+ar,nr==="near"?lr="left":nr==="center"?(lr="center",cr+=or/2):(lr="right",cr=this.right)):lr="right",{textAlign:lr,x:cr}}_computeLabelArea(){if(this.options.ticks.mirror)return;const Hn=this.chart,er=this.options.position;if(er==="left"||er==="right")return{top:0,left:this.left,bottom:Hn.height,right:this.right};if(er==="top"||er==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:Hn.width}}drawBackground(){const{ctx:Hn,options:{backgroundColor:er},left:nr,top:ir,width:rr,height:sr}=this;er&&(Hn.save(),Hn.fillStyle=er,Hn.fillRect(nr,ir,rr,sr),Hn.restore())}getLineWidthForValue(Hn){const er=this.options.grid;if(!this._isVisible()||!er.display)return 0;const ir=this.ticks.findIndex(rr=>rr.value===Hn);return ir>=0?er.setContext(this.getContext(ir)).lineWidth:0}drawGrid(Hn){const er=this.options.grid,nr=this.ctx,ir=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(Hn));let rr,sr;const ar=(or,lr,cr)=>{!cr.width||!cr.color||(nr.save(),nr.lineWidth=cr.width,nr.strokeStyle=cr.color,nr.setLineDash(cr.borderDash||[]),nr.lineDashOffset=cr.borderDashOffset,nr.beginPath(),nr.moveTo(or.x,or.y),nr.lineTo(lr.x,lr.y),nr.stroke(),nr.restore())};if(er.display)for(rr=0,sr=ir.length;rr<sr;++rr){const or=ir[rr];er.drawOnChartArea&&ar({x:or.x1,y:or.y1},{x:or.x2,y:or.y2},or),er.drawTicks&&ar({x:or.tx1,y:or.ty1},{x:or.tx2,y:or.ty2},{color:or.tickColor,width:or.tickWidth,borderDash:or.tickBorderDash,borderDashOffset:or.tickBorderDashOffset})}}drawBorder(){const{chart:Hn,ctx:er,options:{border:nr,grid:ir}}=this,rr=nr.setContext(this.getContext()),sr=nr.display?rr.width:0;if(!sr)return;const ar=ir.setContext(this.getContext(0)).lineWidth,or=this._borderValue;let lr,cr,ur,dr;this.isHorizontal()?(lr=_alignPixel(Hn,this.left,sr)-sr/2,cr=_alignPixel(Hn,this.right,ar)+ar/2,ur=dr=or):(ur=_alignPixel(Hn,this.top,sr)-sr/2,dr=_alignPixel(Hn,this.bottom,ar)+ar/2,lr=cr=or),er.save(),er.lineWidth=rr.width,er.strokeStyle=rr.color,er.beginPath(),er.moveTo(lr,ur),er.lineTo(cr,dr),er.stroke(),er.restore()}drawLabels(Hn){if(!this.options.ticks.display)return;const nr=this.ctx,ir=this._computeLabelArea();ir&&clipArea(nr,ir);const rr=this.getLabelItems(Hn);for(const sr of rr){const ar=sr.options,or=sr.font,lr=sr.label,cr=sr.textOffset;renderText(nr,lr,0,cr,or,ar)}ir&&unclipArea(nr)}drawTitle(){const{ctx:Hn,options:{position:er,title:nr,reverse:ir}}=this;if(!nr.display)return;const rr=toFont(nr.font),sr=toPadding(nr.padding),ar=nr.align;let or=rr.lineHeight/2;er==="bottom"||er==="center"||isObject$2(er)?(or+=sr.bottom,isArray$1(nr.text)&&(or+=rr.lineHeight*(nr.text.length-1))):or+=sr.top;const{titleX:lr,titleY:cr,maxWidth:ur,rotation:dr}=titleArgs(this,or,er,ar);renderText(Hn,nr.text,0,0,rr,{color:nr.color,maxWidth:ur,rotation:dr,textAlign:titleAlign(ar,er,ir),textBaseline:"middle",translation:[lr,cr]})}draw(Hn){this._isVisible()&&(this.drawBackground(),this.drawGrid(Hn),this.drawBorder(),this.drawTitle(),this.drawLabels(Hn))}_layers(){const Hn=this.options,er=Hn.ticks&&Hn.ticks.z||0,nr=valueOrDefault(Hn.grid&&Hn.grid.z,-1),ir=valueOrDefault(Hn.border&&Hn.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:er,draw:rr=>{this.draw(rr)}}]:[{z:nr,draw:rr=>{this.drawBackground(),this.drawGrid(rr),this.drawTitle()}},{z:ir,draw:()=>{this.drawBorder()}},{z:er,draw:rr=>{this.drawLabels(rr)}}]}getMatchingVisibleMetas(Hn){const er=this.chart.getSortedVisibleDatasetMetas(),nr=this.axis+"AxisID",ir=[];let rr,sr;for(rr=0,sr=er.length;rr<sr;++rr){const ar=er[rr];ar[nr]===this.id&&(!Hn||ar.type===Hn)&&ir.push(ar)}return ir}_resolveTickFontOptions(Hn){const er=this.options.ticks.setContext(this.getContext(Hn));return toFont(er.font)}_maxDigits(){const Hn=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/Hn}}class TypedRegistry{constructor(Hn,er,nr){this.type=Hn,this.scope=er,this.override=nr,this.items=Object.create(null)}isForType(Hn){return Object.prototype.isPrototypeOf.call(this.type.prototype,Hn.prototype)}register(Hn){const er=Object.getPrototypeOf(Hn);let nr;isIChartComponent(er)&&(nr=this.register(er));const ir=this.items,rr=Hn.id,sr=this.scope+"."+rr;if(!rr)throw new Error("class does not have id: "+Hn);return rr in ir||(ir[rr]=Hn,registerDefaults(Hn,sr,nr),this.override&&defaults$4.override(Hn.id,Hn.overrides)),sr}get(Hn){return this.items[Hn]}unregister(Hn){const er=this.items,nr=Hn.id,ir=this.scope;nr in er&&delete er[nr],ir&&nr in defaults$4[ir]&&(delete defaults$4[ir][nr],this.override&&delete overrides[nr])}}function registerDefaults(tr,Hn,er){const nr=merge$1(Object.create(null),[er?defaults$4.get(er):{},defaults$4.get(Hn),tr.defaults]);defaults$4.set(Hn,nr),tr.defaultRoutes&&routeDefaults(Hn,tr.defaultRoutes),tr.descriptors&&defaults$4.describe(Hn,tr.descriptors)}function routeDefaults(tr,Hn){Object.keys(Hn).forEach(er=>{const nr=er.split("."),ir=nr.pop(),rr=[tr].concat(nr).join("."),sr=Hn[er].split("."),ar=sr.pop(),or=sr.join(".");defaults$4.route(rr,ir,or,ar)})}function isIChartComponent(tr){return"id"in tr&&"defaults"in tr}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...Hn){this._each("register",Hn)}remove(...Hn){this._each("unregister",Hn)}addControllers(...Hn){this._each("register",Hn,this.controllers)}addElements(...Hn){this._each("register",Hn,this.elements)}addPlugins(...Hn){this._each("register",Hn,this.plugins)}addScales(...Hn){this._each("register",Hn,this.scales)}getController(Hn){return this._get(Hn,this.controllers,"controller")}getElement(Hn){return this._get(Hn,this.elements,"element")}getPlugin(Hn){return this._get(Hn,this.plugins,"plugin")}getScale(Hn){return this._get(Hn,this.scales,"scale")}removeControllers(...Hn){this._each("unregister",Hn,this.controllers)}removeElements(...Hn){this._each("unregister",Hn,this.elements)}removePlugins(...Hn){this._each("unregister",Hn,this.plugins)}removeScales(...Hn){this._each("unregister",Hn,this.scales)}_each(Hn,er,nr){[...er].forEach(ir=>{const rr=nr||this._getRegistryForType(ir);nr||rr.isForType(ir)||rr===this.plugins&&ir.id?this._exec(Hn,rr,ir):each$1(ir,sr=>{const ar=nr||this._getRegistryForType(sr);this._exec(Hn,ar,sr)})})}_exec(Hn,er,nr){const ir=_capitalize(Hn);callback(nr["before"+ir],[],nr),er[Hn](nr),callback(nr["after"+ir],[],nr)}_getRegistryForType(Hn){for(let er=0;er<this._typedRegistries.length;er++){const nr=this._typedRegistries[er];if(nr.isForType(Hn))return nr}return this.plugins}_get(Hn,er,nr){const ir=er.get(Hn);if(ir===void 0)throw new Error('"'+Hn+'" is not a registered '+nr+".");return ir}}var registry=new Registry;class PluginService{constructor(){this._init=void 0}notify(Hn,er,nr,ir){if(er==="beforeInit"&&(this._init=this._createDescriptors(Hn,!0),this._notify(this._init,Hn,"install")),this._init===void 0)return;const rr=ir?this._descriptors(Hn).filter(ir):this._descriptors(Hn),sr=this._notify(rr,Hn,er,nr);return er==="afterDestroy"&&(this._notify(rr,Hn,"stop"),this._notify(this._init,Hn,"uninstall"),this._init=void 0),sr}_notify(Hn,er,nr,ir){ir=ir||{};for(const rr of Hn){const sr=rr.plugin,ar=sr[nr],or=[er,ir,rr.options];if(callback(ar,or,sr)===!1&&ir.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(Hn){if(this._cache)return this._cache;const er=this._cache=this._createDescriptors(Hn);return this._notifyStateChanges(Hn),er}_createDescriptors(Hn,er){const nr=Hn&&Hn.config,ir=valueOrDefault(nr.options&&nr.options.plugins,{}),rr=allPlugins(nr);return ir===!1&&!er?[]:createDescriptors(Hn,rr,ir,er)}_notifyStateChanges(Hn){const er=this._oldCache||[],nr=this._cache,ir=(rr,sr)=>rr.filter(ar=>!sr.some(or=>ar.plugin.id===or.plugin.id));this._notify(ir(er,nr),Hn,"stop"),this._notify(ir(nr,er),Hn,"start")}}function allPlugins(tr){const Hn={},er=[],nr=Object.keys(registry.plugins.items);for(let rr=0;rr<nr.length;rr++)er.push(registry.getPlugin(nr[rr]));const ir=tr.plugins||[];for(let rr=0;rr<ir.length;rr++){const sr=ir[rr];er.indexOf(sr)===-1&&(er.push(sr),Hn[sr.id]=!0)}return{plugins:er,localIds:Hn}}function getOpts(tr,Hn){return!Hn&&tr===!1?null:tr===!0?{}:tr}function createDescriptors(tr,{plugins:Hn,localIds:er},nr,ir){const rr=[],sr=tr.getContext();for(const ar of Hn){const or=ar.id,lr=getOpts(nr[or],ir);lr!==null&&rr.push({plugin:ar,options:pluginOpts(tr.config,{plugin:ar,local:er[or]},lr,sr)})}return rr}function pluginOpts(tr,{plugin:Hn,local:er},nr,ir){const rr=tr.pluginScopeKeys(Hn),sr=tr.getOptionScopes(nr,rr);return er&&Hn.defaults&&sr.push(Hn.defaults),tr.createResolver(sr,ir,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(tr,Hn){const er=defaults$4.datasets[tr]||{};return((Hn.datasets||{})[tr]||{}).indexAxis||Hn.indexAxis||er.indexAxis||"x"}function getAxisFromDefaultScaleID(tr,Hn){let er=tr;return tr==="_index_"?er=Hn:tr==="_value_"&&(er=Hn==="x"?"y":"x"),er}function getDefaultScaleIDFromAxis(tr,Hn){return tr===Hn?"_index_":"_value_"}function idMatchesAxis(tr){if(tr==="x"||tr==="y"||tr==="r")return tr}function axisFromPosition(tr){if(tr==="top"||tr==="bottom")return"x";if(tr==="left"||tr==="right")return"y"}function determineAxis(tr,...Hn){if(idMatchesAxis(tr))return tr;for(const er of Hn){const nr=er.axis||axisFromPosition(er.position)||tr.length>1&&idMatchesAxis(tr[0].toLowerCase());if(nr)return nr}throw new Error(`Cannot determine type of '${tr}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(tr,Hn,er){if(er[Hn+"AxisID"]===tr)return{axis:Hn}}function retrieveAxisFromDatasets(tr,Hn){if(Hn.data&&Hn.data.datasets){const er=Hn.data.datasets.filter(nr=>nr.xAxisID===tr||nr.yAxisID===tr);if(er.length)return getAxisFromDataset(tr,"x",er[0])||getAxisFromDataset(tr,"y",er[0])}return{}}function mergeScaleConfig(tr,Hn){const er=overrides[tr.type]||{scales:{}},nr=Hn.scales||{},ir=getIndexAxis(tr.type,Hn),rr=Object.create(null);return Object.keys(nr).forEach(sr=>{const ar=nr[sr];if(!isObject$2(ar))return console.error(`Invalid scale configuration for scale: ${sr}`);if(ar._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${sr}`);const or=determineAxis(sr,ar,retrieveAxisFromDatasets(sr,tr),defaults$4.scales[ar.type]),lr=getDefaultScaleIDFromAxis(or,ir),cr=er.scales||{};rr[sr]=mergeIf(Object.create(null),[{axis:or},ar,cr[or],cr[lr]])}),tr.data.datasets.forEach(sr=>{const ar=sr.type||tr.type,or=sr.indexAxis||getIndexAxis(ar,Hn),cr=(overrides[ar]||{}).scales||{};Object.keys(cr).forEach(ur=>{const dr=getAxisFromDefaultScaleID(ur,or),fr=sr[dr+"AxisID"]||dr;rr[fr]=rr[fr]||Object.create(null),mergeIf(rr[fr],[{axis:dr},nr[fr],cr[ur]])})}),Object.keys(rr).forEach(sr=>{const ar=rr[sr];mergeIf(ar,[defaults$4.scales[ar.type],defaults$4.scale])}),rr}function initOptions(tr){const Hn=tr.options||(tr.options={});Hn.plugins=valueOrDefault(Hn.plugins,{}),Hn.scales=mergeScaleConfig(tr,Hn)}function initData(tr){return tr=tr||{},tr.datasets=tr.datasets||[],tr.labels=tr.labels||[],tr}function initConfig(tr){return tr=tr||{},tr.data=initData(tr.data),initOptions(tr),tr}const keyCache=new Map,keysCached=new Set;function cachedKeys(tr,Hn){let er=keyCache.get(tr);return er||(er=Hn(),keyCache.set(tr,er),keysCached.add(er)),er}const addIfFound=(tr,Hn,er)=>{const nr=resolveObjectKey(Hn,er);nr!==void 0&&tr.add(nr)};class Config{constructor(Hn){this._config=initConfig(Hn),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(Hn){this._config.type=Hn}get data(){return this._config.data}set data(Hn){this._config.data=initData(Hn)}get options(){return this._config.options}set options(Hn){this._config.options=Hn}get plugins(){return this._config.plugins}update(){const Hn=this._config;this.clearCache(),initOptions(Hn)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(Hn){return cachedKeys(Hn,()=>[[`datasets.${Hn}`,""]])}datasetAnimationScopeKeys(Hn,er){return cachedKeys(`${Hn}.transition.${er}`,()=>[[`datasets.${Hn}.transitions.${er}`,`transitions.${er}`],[`datasets.${Hn}`,""]])}datasetElementScopeKeys(Hn,er){return cachedKeys(`${Hn}-${er}`,()=>[[`datasets.${Hn}.elements.${er}`,`datasets.${Hn}`,`elements.${er}`,""]])}pluginScopeKeys(Hn){const er=Hn.id,nr=this.type;return cachedKeys(`${nr}-plugin-${er}`,()=>[[`plugins.${er}`,...Hn.additionalOptionScopes||[]]])}_cachedScopes(Hn,er){const nr=this._scopeCache;let ir=nr.get(Hn);return(!ir||er)&&(ir=new Map,nr.set(Hn,ir)),ir}getOptionScopes(Hn,er,nr){const{options:ir,type:rr}=this,sr=this._cachedScopes(Hn,nr),ar=sr.get(er);if(ar)return ar;const or=new Set;er.forEach(cr=>{Hn&&(or.add(Hn),cr.forEach(ur=>addIfFound(or,Hn,ur))),cr.forEach(ur=>addIfFound(or,ir,ur)),cr.forEach(ur=>addIfFound(or,overrides[rr]||{},ur)),cr.forEach(ur=>addIfFound(or,defaults$4,ur)),cr.forEach(ur=>addIfFound(or,descriptors$1,ur))});const lr=Array.from(or);return lr.length===0&&lr.push(Object.create(null)),keysCached.has(er)&&sr.set(er,lr),lr}chartOptionScopes(){const{options:Hn,type:er}=this;return[Hn,overrides[er]||{},defaults$4.datasets[er]||{},{type:er},defaults$4,descriptors$1]}resolveNamedOptions(Hn,er,nr,ir=[""]){const rr={$shared:!0},{resolver:sr,subPrefixes:ar}=getResolver(this._resolverCache,Hn,ir);let or=sr;if(needContext(sr,er)){rr.$shared=!1,nr=isFunction$2(nr)?nr():nr;const lr=this.createResolver(Hn,nr,ar);or=_attachContext(sr,nr,lr)}for(const lr of er)rr[lr]=or[lr];return rr}createResolver(Hn,er,nr=[""],ir){const{resolver:rr}=getResolver(this._resolverCache,Hn,nr);return isObject$2(er)?_attachContext(rr,er,void 0,ir):rr}}function getResolver(tr,Hn,er){let nr=tr.get(Hn);nr||(nr=new Map,tr.set(Hn,nr));const ir=er.join();let rr=nr.get(ir);return rr||(rr={resolver:_createResolver(Hn,er),subPrefixes:er.filter(ar=>!ar.toLowerCase().includes("hover"))},nr.set(ir,rr)),rr}const hasFunction=tr=>isObject$2(tr)&&Object.getOwnPropertyNames(tr).some(Hn=>isFunction$2(tr[Hn]));function needContext(tr,Hn){const{isScriptable:er,isIndexable:nr}=_descriptors(tr);for(const ir of Hn){const rr=er(ir),sr=nr(ir),ar=(sr||rr)&&tr[ir];if(rr&&(isFunction$2(ar)||hasFunction(ar))||sr&&isArray$1(ar))return!0}return!1}var version$2="4.5.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(tr,Hn){return tr==="top"||tr==="bottom"||KNOWN_POSITIONS.indexOf(tr)===-1&&Hn==="x"}function compare2Level(tr,Hn){return function(er,nr){return er[tr]===nr[tr]?er[Hn]-nr[Hn]:er[tr]-nr[tr]}}function onAnimationsComplete(tr){const Hn=tr.chart,er=Hn.options.animation;Hn.notifyPlugins("afterRender"),callback(er&&er.onComplete,[tr],Hn)}function onAnimationProgress(tr){const Hn=tr.chart,er=Hn.options.animation;callback(er&&er.onProgress,[tr],Hn)}function getCanvas(tr){return _isDomSupported()&&typeof tr=="string"?tr=document.getElementById(tr):tr&&tr.length&&(tr=tr[0]),tr&&tr.canvas&&(tr=tr.canvas),tr}const instances={},getChart=tr=>{const Hn=getCanvas(tr);return Object.values(instances).filter(er=>er.canvas===Hn).pop()};function moveNumericKeys(tr,Hn,er){const nr=Object.keys(tr);for(const ir of nr){const rr=+ir;if(rr>=Hn){const sr=tr[ir];delete tr[ir],(er>0||rr>Hn)&&(tr[rr+er]=sr)}}}function determineLastEvent(tr,Hn,er,nr){return!er||tr.type==="mouseout"?null:nr?Hn:tr}let Chart$1=class{static defaults=defaults$4;static instances=instances;static overrides=overrides;static registry=registry;static version=version$2;static getChart=getChart;static register(...Hn){registry.add(...Hn),invalidatePlugins()}static unregister(...Hn){registry.remove(...Hn),invalidatePlugins()}constructor(Hn,er){const nr=this.config=new Config(er),ir=getCanvas(Hn),rr=getChart(ir);if(rr)throw new Error("Canvas is already in use. Chart with ID '"+rr.id+"' must be destroyed before the canvas with ID '"+rr.canvas.id+"' can be reused.");const sr=nr.createResolver(nr.chartOptionScopes(),this.getContext());this.platform=new(nr.platform||_detectPlatform(ir)),this.platform.updateConfig(nr);const ar=this.platform.acquireContext(ir,sr.aspectRatio),or=ar&&ar.canvas,lr=or&&or.height,cr=or&&or.width;if(this.id=uid(),this.ctx=ar,this.canvas=or,this.width=cr,this.height=lr,this._options=sr,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$3(ur=>this.update(ur),sr.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!ar||!or){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:Hn,maintainAspectRatio:er},width:nr,height:ir,_aspectRatio:rr}=this;return isNullOrUndef(Hn)?er&&rr?rr:ir?nr/ir:null:Hn}get data(){return this.config.data}set data(Hn){this.config.data=Hn}get options(){return this._options}set options(Hn){this.config.options=Hn}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(Hn,er){animator.running(this)?this._resizeBeforeDraw={width:Hn,height:er}:this._resize(Hn,er)}_resize(Hn,er){const nr=this.options,ir=this.canvas,rr=nr.maintainAspectRatio&&this.aspectRatio,sr=this.platform.getMaximumSize(ir,Hn,er,rr),ar=nr.devicePixelRatio||this.platform.getDevicePixelRatio(),or=this.width?"resize":"attach";this.width=sr.width,this.height=sr.height,this._aspectRatio=this.aspectRatio,retinaScale(this,ar,!0)&&(this.notifyPlugins("resize",{size:sr}),callback(nr.onResize,[this,sr],this),this.attached&&this._doResize(or)&&this.render())}ensureScalesHaveIDs(){const er=this.options.scales||{};each$1(er,(nr,ir)=>{nr.id=ir})}buildOrUpdateScales(){const Hn=this.options,er=Hn.scales,nr=this.scales,ir=Object.keys(nr).reduce((sr,ar)=>(sr[ar]=!1,sr),{});let rr=[];er&&(rr=rr.concat(Object.keys(er).map(sr=>{const ar=er[sr],or=determineAxis(sr,ar),lr=or==="r",cr=or==="x";return{options:ar,dposition:lr?"chartArea":cr?"bottom":"left",dtype:lr?"radialLinear":cr?"category":"linear"}}))),each$1(rr,sr=>{const ar=sr.options,or=ar.id,lr=determineAxis(or,ar),cr=valueOrDefault(ar.type,sr.dtype);(ar.position===void 0||positionIsHorizontal(ar.position,lr)!==positionIsHorizontal(sr.dposition))&&(ar.position=sr.dposition),ir[or]=!0;let ur=null;if(or in nr&&nr[or].type===cr)ur=nr[or];else{const dr=registry.getScale(cr);ur=new dr({id:or,type:cr,ctx:this.ctx,chart:this}),nr[ur.id]=ur}ur.init(ar,Hn)}),each$1(ir,(sr,ar)=>{sr||delete nr[ar]}),each$1(nr,sr=>{layouts.configure(this,sr,sr.options),layouts.addBox(this,sr)})}_updateMetasets(){const Hn=this._metasets,er=this.data.datasets.length,nr=Hn.length;if(Hn.sort((ir,rr)=>ir.index-rr.index),nr>er){for(let ir=er;ir<nr;++ir)this._destroyDatasetMeta(ir);Hn.splice(er,nr-er)}this._sortedMetasets=Hn.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:Hn,data:{datasets:er}}=this;Hn.length>er.length&&delete this._stacks,Hn.forEach((nr,ir)=>{er.filter(rr=>rr===nr._dataset).length===0&&this._destroyDatasetMeta(ir)})}buildOrUpdateControllers(){const Hn=[],er=this.data.datasets;let nr,ir;for(this._removeUnreferencedMetasets(),nr=0,ir=er.length;nr<ir;nr++){const rr=er[nr];let sr=this.getDatasetMeta(nr);const ar=rr.type||this.config.type;if(sr.type&&sr.type!==ar&&(this._destroyDatasetMeta(nr),sr=this.getDatasetMeta(nr)),sr.type=ar,sr.indexAxis=rr.indexAxis||getIndexAxis(ar,this.options),sr.order=rr.order||0,sr.index=nr,sr.label=""+rr.label,sr.visible=this.isDatasetVisible(nr),sr.controller)sr.controller.updateIndex(nr),sr.controller.linkScales();else{const or=registry.getController(ar),{datasetElementType:lr,dataElementType:cr}=defaults$4.datasets[ar];Object.assign(or,{dataElementType:registry.getElement(cr),datasetElementType:lr&&registry.getElement(lr)}),sr.controller=new or(this,nr),Hn.push(sr.controller)}}return this._updateMetasets(),Hn}_resetElements(){each$1(this.data.datasets,(Hn,er)=>{this.getDatasetMeta(er).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(Hn){const er=this.config;er.update();const nr=this._options=er.createResolver(er.chartOptionScopes(),this.getContext()),ir=this._animationsDisabled=!nr.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:Hn,cancelable:!0})===!1)return;const rr=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let sr=0;for(let lr=0,cr=this.data.datasets.length;lr<cr;lr++){const{controller:ur}=this.getDatasetMeta(lr),dr=!ir&&rr.indexOf(ur)===-1;ur.buildOrUpdateElements(dr),sr=Math.max(+ur.getMaxOverflow(),sr)}sr=this._minPadding=nr.layout.autoPadding?sr:0,this._updateLayout(sr),ir||each$1(rr,lr=>{lr.reset()}),this._updateDatasets(Hn),this.notifyPlugins("afterUpdate",{mode:Hn}),this._layers.sort(compare2Level("z","_idx"));const{_active:ar,_lastEvent:or}=this;or?this._eventHandler(or,!0):ar.length&&this._updateHoverStyles(ar,ar,!0),this.render()}_updateScales(){each$1(this.scales,Hn=>{layouts.removeBox(this,Hn)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const Hn=this.options,er=new Set(Object.keys(this._listeners)),nr=new Set(Hn.events);(!setsEqual(er,nr)||!!this._responsiveListeners!==Hn.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:Hn}=this,er=this._getUniformDataChanges()||[];for(const{method:nr,start:ir,count:rr}of er){const sr=nr==="_removeElements"?-rr:rr;moveNumericKeys(Hn,ir,sr)}}_getUniformDataChanges(){const Hn=this._dataChanges;if(!Hn||!Hn.length)return;this._dataChanges=[];const er=this.data.datasets.length,nr=rr=>new Set(Hn.filter(sr=>sr[0]===rr).map((sr,ar)=>ar+","+sr.splice(1).join(","))),ir=nr(0);for(let rr=1;rr<er;rr++)if(!setsEqual(ir,nr(rr)))return;return Array.from(ir).map(rr=>rr.split(",")).map(rr=>({method:rr[1],start:+rr[2],count:+rr[3]}))}_updateLayout(Hn){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,Hn);const er=this.chartArea,nr=er.width<=0||er.height<=0;this._layers=[],each$1(this.boxes,ir=>{nr&&ir.position==="chartArea"||(ir.configure&&ir.configure(),this._layers.push(...ir._layers()))},this),this._layers.forEach((ir,rr)=>{ir._idx=rr}),this.notifyPlugins("afterLayout")}_updateDatasets(Hn){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:Hn,cancelable:!0})!==!1){for(let er=0,nr=this.data.datasets.length;er<nr;++er)this.getDatasetMeta(er).controller.configure();for(let er=0,nr=this.data.datasets.length;er<nr;++er)this._updateDataset(er,isFunction$2(Hn)?Hn({datasetIndex:er}):Hn);this.notifyPlugins("afterDatasetsUpdate",{mode:Hn})}}_updateDataset(Hn,er){const nr=this.getDatasetMeta(Hn),ir={meta:nr,index:Hn,mode:er,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",ir)!==!1&&(nr.controller._update(er),ir.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",ir))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let Hn;if(this._resizeBeforeDraw){const{width:nr,height:ir}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(nr,ir)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const er=this._layers;for(Hn=0;Hn<er.length&&er[Hn].z<=0;++Hn)er[Hn].draw(this.chartArea);for(this._drawDatasets();Hn<er.length;++Hn)er[Hn].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(Hn){const er=this._sortedMetasets,nr=[];let ir,rr;for(ir=0,rr=er.length;ir<rr;++ir){const sr=er[ir];(!Hn||sr.visible)&&nr.push(sr)}return nr}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const Hn=this.getSortedVisibleDatasetMetas();for(let er=Hn.length-1;er>=0;--er)this._drawDataset(Hn[er]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(Hn){const er=this.ctx,nr={meta:Hn,index:Hn.index,cancelable:!0},ir=getDatasetClipArea(this,Hn);this.notifyPlugins("beforeDatasetDraw",nr)!==!1&&(ir&&clipArea(er,ir),Hn.controller.draw(),ir&&unclipArea(er),nr.cancelable=!1,this.notifyPlugins("afterDatasetDraw",nr))}isPointInArea(Hn){return _isPointInArea(Hn,this.chartArea,this._minPadding)}getElementsAtEventForMode(Hn,er,nr,ir){const rr=Interaction.modes[er];return typeof rr=="function"?rr(this,Hn,nr,ir):[]}getDatasetMeta(Hn){const er=this.data.datasets[Hn],nr=this._metasets;let ir=nr.filter(rr=>rr&&rr._dataset===er).pop();return ir||(ir={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:er&&er.order||0,index:Hn,_dataset:er,_parsed:[],_sorted:!1},nr.push(ir)),ir}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(Hn){const er=this.data.datasets[Hn];if(!er)return!1;const nr=this.getDatasetMeta(Hn);return typeof nr.hidden=="boolean"?!nr.hidden:!er.hidden}setDatasetVisibility(Hn,er){const nr=this.getDatasetMeta(Hn);nr.hidden=!er}toggleDataVisibility(Hn){this._hiddenIndices[Hn]=!this._hiddenIndices[Hn]}getDataVisibility(Hn){return!this._hiddenIndices[Hn]}_updateVisibility(Hn,er,nr){const ir=nr?"show":"hide",rr=this.getDatasetMeta(Hn),sr=rr.controller._resolveAnimations(void 0,ir);defined$1(er)?(rr.data[er].hidden=!nr,this.update()):(this.setDatasetVisibility(Hn,nr),sr.update(rr,{visible:nr}),this.update(ar=>ar.datasetIndex===Hn?ir:void 0))}hide(Hn,er){this._updateVisibility(Hn,er,!1)}show(Hn,er){this._updateVisibility(Hn,er,!0)}_destroyDatasetMeta(Hn){const er=this._metasets[Hn];er&&er.controller&&er.controller._destroy(),delete this._metasets[Hn]}_stop(){let Hn,er;for(this.stop(),animator.remove(this),Hn=0,er=this.data.datasets.length;Hn<er;++Hn)this._destroyDatasetMeta(Hn)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:Hn,ctx:er}=this;this._stop(),this.config.clearCache(),Hn&&(this.unbindEvents(),clearCanvas(Hn,er),this.platform.releaseContext(er),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...Hn){return this.canvas.toDataURL(...Hn)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const Hn=this._listeners,er=this.platform,nr=(rr,sr)=>{er.addEventListener(this,rr,sr),Hn[rr]=sr},ir=(rr,sr,ar)=>{rr.offsetX=sr,rr.offsetY=ar,this._eventHandler(rr)};each$1(this.options.events,rr=>nr(rr,ir))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const Hn=this._responsiveListeners,er=this.platform,nr=(or,lr)=>{er.addEventListener(this,or,lr),Hn[or]=lr},ir=(or,lr)=>{Hn[or]&&(er.removeEventListener(this,or,lr),delete Hn[or])},rr=(or,lr)=>{this.canvas&&this.resize(or,lr)};let sr;const ar=()=>{ir("attach",ar),this.attached=!0,this.resize(),nr("resize",rr),nr("detach",sr)};sr=()=>{this.attached=!1,ir("resize",rr),this._stop(),this._resize(0,0),nr("attach",ar)},er.isAttached(this.canvas)?ar():sr()}unbindEvents(){each$1(this._listeners,(Hn,er)=>{this.platform.removeEventListener(this,er,Hn)}),this._listeners={},each$1(this._responsiveListeners,(Hn,er)=>{this.platform.removeEventListener(this,er,Hn)}),this._responsiveListeners=void 0}updateHoverStyle(Hn,er,nr){const ir=nr?"set":"remove";let rr,sr,ar,or;for(er==="dataset"&&(rr=this.getDatasetMeta(Hn[0].datasetIndex),rr.controller["_"+ir+"DatasetHoverStyle"]()),ar=0,or=Hn.length;ar<or;++ar){sr=Hn[ar];const lr=sr&&this.getDatasetMeta(sr.datasetIndex).controller;lr&&lr[ir+"HoverStyle"](sr.element,sr.datasetIndex,sr.index)}}getActiveElements(){return this._active||[]}setActiveElements(Hn){const er=this._active||[],nr=Hn.map(({datasetIndex:rr,index:sr})=>{const ar=this.getDatasetMeta(rr);if(!ar)throw new Error("No dataset found at index "+rr);return{datasetIndex:rr,element:ar.data[sr],index:sr}});!_elementsEqual(nr,er)&&(this._active=nr,this._lastEvent=null,this._updateHoverStyles(nr,er))}notifyPlugins(Hn,er,nr){return this._plugins.notify(this,Hn,er,nr)}isPluginEnabled(Hn){return this._plugins._cache.filter(er=>er.plugin.id===Hn).length===1}_updateHoverStyles(Hn,er,nr){const ir=this.options.hover,rr=(or,lr)=>or.filter(cr=>!lr.some(ur=>cr.datasetIndex===ur.datasetIndex&&cr.index===ur.index)),sr=rr(er,Hn),ar=nr?Hn:rr(Hn,er);sr.length&&this.updateHoverStyle(sr,ir.mode,!1),ar.length&&ir.mode&&this.updateHoverStyle(ar,ir.mode,!0)}_eventHandler(Hn,er){const nr={event:Hn,replay:er,cancelable:!0,inChartArea:this.isPointInArea(Hn)},ir=sr=>(sr.options.events||this.options.events).includes(Hn.native.type);if(this.notifyPlugins("beforeEvent",nr,ir)===!1)return;const rr=this._handleEvent(Hn,er,nr.inChartArea);return nr.cancelable=!1,this.notifyPlugins("afterEvent",nr,ir),(rr||nr.changed)&&this.render(),this}_handleEvent(Hn,er,nr){const{_active:ir=[],options:rr}=this,sr=er,ar=this._getActiveElements(Hn,ir,nr,sr),or=_isClickEvent(Hn),lr=determineLastEvent(Hn,this._lastEvent,nr,or);nr&&(this._lastEvent=null,callback(rr.onHover,[Hn,ar,this],this),or&&callback(rr.onClick,[Hn,ar,this],this));const cr=!_elementsEqual(ar,ir);return(cr||er)&&(this._active=ar,this._updateHoverStyles(ar,ir,er)),this._lastEvent=lr,cr}_getActiveElements(Hn,er,nr,ir){if(Hn.type==="mouseout")return[];if(!nr)return er;const rr=this.options.hover;return this.getElementsAtEventForMode(Hn,rr.mode,rr,ir)}};function invalidatePlugins(){return each$1(Chart$1.instances,tr=>tr._plugins.invalidate())}function clipSelf(tr,Hn,er){const{startAngle:nr,x:ir,y:rr,outerRadius:sr,innerRadius:ar,options:or}=Hn,{borderWidth:lr,borderJoinStyle:cr}=or,ur=Math.min(lr/sr,_normalizeAngle(nr-er));if(tr.beginPath(),tr.arc(ir,rr,sr-lr/2,nr+ur/2,er-ur/2),ar>0){const dr=Math.min(lr/ar,_normalizeAngle(nr-er));tr.arc(ir,rr,ar+lr/2,er-dr/2,nr+dr/2,!0)}else{const dr=Math.min(lr/2,sr*_normalizeAngle(nr-er));if(cr==="round")tr.arc(ir,rr,dr,er-PI/2,nr+PI/2,!0);else if(cr==="bevel"){const fr=2*dr*dr,xr=-fr*Math.cos(er+PI/2)+ir,yr=-fr*Math.sin(er+PI/2)+rr,_r=fr*Math.cos(nr+PI/2)+ir,Sr=fr*Math.sin(nr+PI/2)+rr;tr.lineTo(xr,yr),tr.lineTo(_r,Sr)}}tr.closePath(),tr.moveTo(0,0),tr.rect(0,0,tr.canvas.width,tr.canvas.height),tr.clip("evenodd")}function clipArc(tr,Hn,er){const{startAngle:nr,pixelMargin:ir,x:rr,y:sr,outerRadius:ar,innerRadius:or}=Hn;let lr=ir/ar;tr.beginPath(),tr.arc(rr,sr,ar,nr-lr,er+lr),or>ir?(lr=ir/or,tr.arc(rr,sr,or,er+lr,nr-lr,!0)):tr.arc(rr,sr,ir,er+HALF_PI,nr-HALF_PI),tr.closePath(),tr.clip()}function toRadiusCorners(tr){return _readValueToProps(tr,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(tr,Hn,er,nr){const ir=toRadiusCorners(tr.options.borderRadius),rr=(er-Hn)/2,sr=Math.min(rr,nr*Hn/2),ar=or=>{const lr=(er-Math.min(rr,or))*nr/2;return _limitValue(or,0,Math.min(rr,lr))};return{outerStart:ar(ir.outerStart),outerEnd:ar(ir.outerEnd),innerStart:_limitValue(ir.innerStart,0,sr),innerEnd:_limitValue(ir.innerEnd,0,sr)}}function rThetaToXY(tr,Hn,er,nr){return{x:er+tr*Math.cos(Hn),y:nr+tr*Math.sin(Hn)}}function pathArc(tr,Hn,er,nr,ir,rr){const{x:sr,y:ar,startAngle:or,pixelMargin:lr,innerRadius:cr}=Hn,ur=Math.max(Hn.outerRadius+nr+er-lr,0),dr=cr>0?cr+nr+er+lr:0;let fr=0;const xr=ir-or;if(nr){const uo=cr>0?cr-nr:0,so=ur>0?ur-nr:0,no=(uo+so)/2,po=no!==0?xr*no/(no+nr):xr;fr=(xr-po)/2}const yr=Math.max(.001,xr*ur-er/PI)/ur,_r=(xr-yr)/2,Sr=or+_r+fr,jr=ir-_r-fr,{outerStart:Dr,outerEnd:Ir,innerStart:Mr,innerEnd:Or}=parseBorderRadius$1(Hn,dr,ur,jr-Sr),Lr=ur-Dr,Fr=ur-Ir,Vr=Sr+Dr/Lr,Zr=jr-Ir/Fr,Hr=dr+Mr,Yr=dr+Or,eo=Sr+Mr/Hr,io=jr-Or/Yr;if(tr.beginPath(),rr){const uo=(Vr+Zr)/2;if(tr.arc(sr,ar,ur,Vr,uo),tr.arc(sr,ar,ur,uo,Zr),Ir>0){const co=rThetaToXY(Fr,Zr,sr,ar);tr.arc(co.x,co.y,Ir,Zr,jr+HALF_PI)}const so=rThetaToXY(Yr,jr,sr,ar);if(tr.lineTo(so.x,so.y),Or>0){const co=rThetaToXY(Yr,io,sr,ar);tr.arc(co.x,co.y,Or,jr+HALF_PI,io+Math.PI)}const no=(jr-Or/dr+(Sr+Mr/dr))/2;if(tr.arc(sr,ar,dr,jr-Or/dr,no,!0),tr.arc(sr,ar,dr,no,Sr+Mr/dr,!0),Mr>0){const co=rThetaToXY(Hr,eo,sr,ar);tr.arc(co.x,co.y,Mr,eo+Math.PI,Sr-HALF_PI)}const po=rThetaToXY(Lr,Sr,sr,ar);if(tr.lineTo(po.x,po.y),Dr>0){const co=rThetaToXY(Lr,Vr,sr,ar);tr.arc(co.x,co.y,Dr,Sr-HALF_PI,Vr)}}else{tr.moveTo(sr,ar);const uo=Math.cos(Vr)*ur+sr,so=Math.sin(Vr)*ur+ar;tr.lineTo(uo,so);const no=Math.cos(Zr)*ur+sr,po=Math.sin(Zr)*ur+ar;tr.lineTo(no,po)}tr.closePath()}function drawArc(tr,Hn,er,nr,ir){const{fullCircles:rr,startAngle:sr,circumference:ar}=Hn;let or=Hn.endAngle;if(rr){pathArc(tr,Hn,er,nr,or,ir);for(let lr=0;lr<rr;++lr)tr.fill();isNaN(ar)||(or=sr+(ar%TAU||TAU))}return pathArc(tr,Hn,er,nr,or,ir),tr.fill(),or}function drawBorder(tr,Hn,er,nr,ir){const{fullCircles:rr,startAngle:sr,circumference:ar,options:or}=Hn,{borderWidth:lr,borderJoinStyle:cr,borderDash:ur,borderDashOffset:dr,borderRadius:fr}=or,xr=or.borderAlign==="inner";if(!lr)return;tr.setLineDash(ur||[]),tr.lineDashOffset=dr,xr?(tr.lineWidth=lr*2,tr.lineJoin=cr||"round"):(tr.lineWidth=lr,tr.lineJoin=cr||"bevel");let yr=Hn.endAngle;if(rr){pathArc(tr,Hn,er,nr,yr,ir);for(let _r=0;_r<rr;++_r)tr.stroke();isNaN(ar)||(yr=sr+(ar%TAU||TAU))}xr&&clipArc(tr,Hn,yr),or.selfJoin&&yr-sr>=PI&&fr===0&&cr!=="miter"&&clipSelf(tr,Hn,yr),rr||(pathArc(tr,Hn,er,nr,yr,ir),tr.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:Hn=>Hn!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(Hn){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,Hn&&Object.assign(this,Hn)}inRange(Hn,er,nr){const ir=this.getProps(["x","y"],nr),{angle:rr,distance:sr}=getAngleFromPoint(ir,{x:Hn,y:er}),{startAngle:ar,endAngle:or,innerRadius:lr,outerRadius:cr,circumference:ur}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],nr),dr=(this.options.spacing+this.options.borderWidth)/2,fr=valueOrDefault(ur,or-ar),xr=_angleBetween(rr,ar,or)&&ar!==or,yr=fr>=TAU||xr,_r=_isBetween(sr,lr+dr,cr+dr);return yr&&_r}getCenterPoint(Hn){const{x:er,y:nr,startAngle:ir,endAngle:rr,innerRadius:sr,outerRadius:ar}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],Hn),{offset:or,spacing:lr}=this.options,cr=(ir+rr)/2,ur=(sr+ar+lr+or)/2;return{x:er+Math.cos(cr)*ur,y:nr+Math.sin(cr)*ur}}tooltipPosition(Hn){return this.getCenterPoint(Hn)}draw(Hn){const{options:er,circumference:nr}=this,ir=(er.offset||0)/4,rr=(er.spacing||0)/2,sr=er.circular;if(this.pixelMargin=er.borderAlign==="inner"?.33:0,this.fullCircles=nr>TAU?Math.floor(nr/TAU):0,nr===0||this.innerRadius<0||this.outerRadius<0)return;Hn.save();const ar=(this.startAngle+this.endAngle)/2;Hn.translate(Math.cos(ar)*ir,Math.sin(ar)*ir);const or=1-Math.sin(Math.min(PI,nr||0)),lr=ir*or;Hn.fillStyle=er.backgroundColor,Hn.strokeStyle=er.borderColor,drawArc(Hn,this,lr,rr,sr),drawBorder(Hn,this,lr,rr,sr),Hn.restore()}}function setStyle(tr,Hn,er=Hn){tr.lineCap=valueOrDefault(er.borderCapStyle,Hn.borderCapStyle),tr.setLineDash(valueOrDefault(er.borderDash,Hn.borderDash)),tr.lineDashOffset=valueOrDefault(er.borderDashOffset,Hn.borderDashOffset),tr.lineJoin=valueOrDefault(er.borderJoinStyle,Hn.borderJoinStyle),tr.lineWidth=valueOrDefault(er.borderWidth,Hn.borderWidth),tr.strokeStyle=valueOrDefault(er.borderColor,Hn.borderColor)}function lineTo(tr,Hn,er){tr.lineTo(er.x,er.y)}function getLineMethod(tr){return tr.stepped?_steppedLineTo:tr.tension||tr.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(tr,Hn,er={}){const nr=tr.length,{start:ir=0,end:rr=nr-1}=er,{start:sr,end:ar}=Hn,or=Math.max(ir,sr),lr=Math.min(rr,ar),cr=ir<sr&&rr<sr||ir>ar&&rr>ar;return{count:nr,start:or,loop:Hn.loop,ilen:lr<or&&!cr?nr+lr-or:lr-or}}function pathSegment(tr,Hn,er,nr){const{points:ir,options:rr}=Hn,{count:sr,start:ar,loop:or,ilen:lr}=pathVars(ir,er,nr),cr=getLineMethod(rr);let{move:ur=!0,reverse:dr}=nr||{},fr,xr,yr;for(fr=0;fr<=lr;++fr)xr=ir[(ar+(dr?lr-fr:fr))%sr],!xr.skip&&(ur?(tr.moveTo(xr.x,xr.y),ur=!1):cr(tr,yr,xr,dr,rr.stepped),yr=xr);return or&&(xr=ir[(ar+(dr?lr:0))%sr],cr(tr,yr,xr,dr,rr.stepped)),!!or}function fastPathSegment(tr,Hn,er,nr){const ir=Hn.points,{count:rr,start:sr,ilen:ar}=pathVars(ir,er,nr),{move:or=!0,reverse:lr}=nr||{};let cr=0,ur=0,dr,fr,xr,yr,_r,Sr;const jr=Ir=>(sr+(lr?ar-Ir:Ir))%rr,Dr=()=>{yr!==_r&&(tr.lineTo(cr,_r),tr.lineTo(cr,yr),tr.lineTo(cr,Sr))};for(or&&(fr=ir[jr(0)],tr.moveTo(fr.x,fr.y)),dr=0;dr<=ar;++dr){if(fr=ir[jr(dr)],fr.skip)continue;const Ir=fr.x,Mr=fr.y,Or=Ir|0;Or===xr?(Mr<yr?yr=Mr:Mr>_r&&(_r=Mr),cr=(ur*cr+Ir)/++ur):(Dr(),tr.lineTo(Ir,Mr),xr=Or,ur=0,yr=_r=Mr),Sr=Mr}Dr()}function _getSegmentMethod(tr){const Hn=tr.options,er=Hn.borderDash&&Hn.borderDash.length;return!tr._decimated&&!tr._loop&&!Hn.tension&&Hn.cubicInterpolationMode!=="monotone"&&!Hn.stepped&&!er?fastPathSegment:pathSegment}function _getInterpolationMethod(tr){return tr.stepped?_steppedInterpolation:tr.tension||tr.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(tr,Hn,er,nr){let ir=Hn._path;ir||(ir=Hn._path=new Path2D,Hn.path(ir,er,nr)&&ir.closePath()),setStyle(tr,Hn.options),tr.stroke(ir)}function strokePathDirect(tr,Hn,er,nr){const{segments:ir,options:rr}=Hn,sr=_getSegmentMethod(Hn);for(const ar of ir)setStyle(tr,rr,ar.style),tr.beginPath(),sr(tr,Hn,ar,{start:er,end:er+nr-1})&&tr.closePath(),tr.stroke()}const usePath2D=typeof Path2D=="function";function draw$2(tr,Hn,er,nr){usePath2D&&!Hn.options.segment?strokePathWithCache(tr,Hn,er,nr):strokePathDirect(tr,Hn,er,nr)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:Hn=>Hn!=="borderDash"&&Hn!=="fill"};constructor(Hn){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,Hn&&Object.assign(this,Hn)}updateControlPoints(Hn,er){const nr=this.options;if((nr.tension||nr.cubicInterpolationMode==="monotone")&&!nr.stepped&&!this._pointsUpdated){const ir=nr.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,nr,Hn,ir,er),this._pointsUpdated=!0}}set points(Hn){this._points=Hn,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const Hn=this.segments,er=this.points;return Hn.length&&er[Hn[0].start]}last(){const Hn=this.segments,er=this.points,nr=Hn.length;return nr&&er[Hn[nr-1].end]}interpolate(Hn,er){const nr=this.options,ir=Hn[er],rr=this.points,sr=_boundSegments(this,{property:er,start:ir,end:ir});if(!sr.length)return;const ar=[],or=_getInterpolationMethod(nr);let lr,cr;for(lr=0,cr=sr.length;lr<cr;++lr){const{start:ur,end:dr}=sr[lr],fr=rr[ur],xr=rr[dr];if(fr===xr){ar.push(fr);continue}const yr=Math.abs((ir-fr[er])/(xr[er]-fr[er])),_r=or(fr,xr,yr,nr.stepped);_r[er]=Hn[er],ar.push(_r)}return ar.length===1?ar[0]:ar}pathSegment(Hn,er,nr){return _getSegmentMethod(this)(Hn,this,er,nr)}path(Hn,er,nr){const ir=this.segments,rr=_getSegmentMethod(this);let sr=this._loop;er=er||0,nr=nr||this.points.length-er;for(const ar of ir)sr&=rr(Hn,this,ar,{start:er,end:er+nr-1});return!!sr}draw(Hn,er,nr,ir){const rr=this.options||{};(this.points||[]).length&&rr.borderWidth&&(Hn.save(),draw$2(Hn,this,nr,ir),Hn.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(tr,Hn,er,nr){const ir=tr.options,{[er]:rr}=tr.getProps([er],nr);return Math.abs(Hn-rr)<ir.radius+ir.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Hn){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,Hn&&Object.assign(this,Hn)}inRange(Hn,er,nr){const ir=this.options,{x:rr,y:sr}=this.getProps(["x","y"],nr);return Math.pow(Hn-rr,2)+Math.pow(er-sr,2)<Math.pow(ir.hitRadius+ir.radius,2)}inXRange(Hn,er){return inRange$1(this,Hn,"x",er)}inYRange(Hn,er){return inRange$1(this,Hn,"y",er)}getCenterPoint(Hn){const{x:er,y:nr}=this.getProps(["x","y"],Hn);return{x:er,y:nr}}size(Hn){Hn=Hn||this.options||{};let er=Hn.radius||0;er=Math.max(er,er&&Hn.hoverRadius||0);const nr=er&&Hn.borderWidth||0;return(er+nr)*2}draw(Hn,er){const nr=this.options;this.skip||nr.radius<.1||!_isPointInArea(this,er,this.size(nr)/2)||(Hn.strokeStyle=nr.borderColor,Hn.lineWidth=nr.borderWidth,Hn.fillStyle=nr.backgroundColor,drawPoint$1(Hn,nr,this.x,this.y))}getRange(){const Hn=this.options||{};return Hn.radius+Hn.hitRadius}}function getBarBounds$1(tr,Hn){const{x:er,y:nr,base:ir,width:rr,height:sr}=tr.getProps(["x","y","base","width","height"],Hn);let ar,or,lr,cr,ur;return tr.horizontal?(ur=sr/2,ar=Math.min(er,ir),or=Math.max(er,ir),lr=nr-ur,cr=nr+ur):(ur=rr/2,ar=er-ur,or=er+ur,lr=Math.min(nr,ir),cr=Math.max(nr,ir)),{left:ar,top:lr,right:or,bottom:cr}}function skipOrLimit(tr,Hn,er,nr){return tr?0:_limitValue(Hn,er,nr)}function parseBorderWidth(tr,Hn,er){const nr=tr.options.borderWidth,ir=tr.borderSkipped,rr=toTRBL(nr);return{t:skipOrLimit(ir.top,rr.top,0,er),r:skipOrLimit(ir.right,rr.right,0,Hn),b:skipOrLimit(ir.bottom,rr.bottom,0,er),l:skipOrLimit(ir.left,rr.left,0,Hn)}}function parseBorderRadius(tr,Hn,er){const{enableBorderRadius:nr}=tr.getProps(["enableBorderRadius"]),ir=tr.options.borderRadius,rr=toTRBLCorners(ir),sr=Math.min(Hn,er),ar=tr.borderSkipped,or=nr||isObject$2(ir);return{topLeft:skipOrLimit(!or||ar.top||ar.left,rr.topLeft,0,sr),topRight:skipOrLimit(!or||ar.top||ar.right,rr.topRight,0,sr),bottomLeft:skipOrLimit(!or||ar.bottom||ar.left,rr.bottomLeft,0,sr),bottomRight:skipOrLimit(!or||ar.bottom||ar.right,rr.bottomRight,0,sr)}}function boundingRects$1(tr){const Hn=getBarBounds$1(tr),er=Hn.right-Hn.left,nr=Hn.bottom-Hn.top,ir=parseBorderWidth(tr,er/2,nr/2),rr=parseBorderRadius(tr,er/2,nr/2);return{outer:{x:Hn.left,y:Hn.top,w:er,h:nr,radius:rr},inner:{x:Hn.left+ir.l,y:Hn.top+ir.t,w:er-ir.l-ir.r,h:nr-ir.t-ir.b,radius:{topLeft:Math.max(0,rr.topLeft-Math.max(ir.t,ir.l)),topRight:Math.max(0,rr.topRight-Math.max(ir.t,ir.r)),bottomLeft:Math.max(0,rr.bottomLeft-Math.max(ir.b,ir.l)),bottomRight:Math.max(0,rr.bottomRight-Math.max(ir.b,ir.r))}}}}function inRange$2(tr,Hn,er,nr){const ir=Hn===null,rr=er===null,ar=tr&&!(ir&&rr)&&getBarBounds$1(tr,nr);return ar&&(ir||_isBetween(Hn,ar.left,ar.right))&&(rr||_isBetween(er,ar.top,ar.bottom))}function hasRadius(tr){return tr.topLeft||tr.topRight||tr.bottomLeft||tr.bottomRight}function addNormalRectPath(tr,Hn){tr.rect(Hn.x,Hn.y,Hn.w,Hn.h)}function inflateRect(tr,Hn,er={}){const nr=tr.x!==er.x?-Hn:0,ir=tr.y!==er.y?-Hn:0,rr=(tr.x+tr.w!==er.x+er.w?Hn:0)-nr,sr=(tr.y+tr.h!==er.y+er.h?Hn:0)-ir;return{x:tr.x+nr,y:tr.y+ir,w:tr.w+rr,h:tr.h+sr,radius:tr.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Hn){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,Hn&&Object.assign(this,Hn)}draw(Hn){const{inflateAmount:er,options:{borderColor:nr,backgroundColor:ir}}=this,{inner:rr,outer:sr}=boundingRects$1(this),ar=hasRadius(sr.radius)?addRoundedRectPath:addNormalRectPath;Hn.save(),(sr.w!==rr.w||sr.h!==rr.h)&&(Hn.beginPath(),ar(Hn,inflateRect(sr,er,rr)),Hn.clip(),ar(Hn,inflateRect(rr,-er,sr)),Hn.fillStyle=nr,Hn.fill("evenodd")),Hn.beginPath(),ar(Hn,inflateRect(rr,er)),Hn.fillStyle=ir,Hn.fill(),Hn.restore()}inRange(Hn,er,nr){return inRange$2(this,Hn,er,nr)}inXRange(Hn,er){return inRange$2(this,Hn,null,er)}inYRange(Hn,er){return inRange$2(this,null,Hn,er)}getCenterPoint(Hn){const{x:er,y:nr,base:ir,horizontal:rr}=this.getProps(["x","y","base","horizontal"],Hn);return{x:rr?(er+ir)/2:er,y:rr?nr:(nr+ir)/2}}getRange(Hn){return Hn==="x"?this.width/2:this.height/2}}var elements=Object.freeze({__proto__:null,ArcElement,BarElement,LineElement,PointElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(tr=>tr.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(tr){return BORDER_COLORS[tr%BORDER_COLORS.length]}function getBackgroundColor(tr){return BACKGROUND_COLORS[tr%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(tr,Hn){return tr.borderColor=getBorderColor(Hn),tr.backgroundColor=getBackgroundColor(Hn),++Hn}function colorizeDoughnutDataset(tr,Hn){return tr.backgroundColor=tr.data.map(()=>getBorderColor(Hn++)),Hn}function colorizePolarAreaDataset(tr,Hn){return tr.backgroundColor=tr.data.map(()=>getBackgroundColor(Hn++)),Hn}function getColorizer(tr){let Hn=0;return(er,nr)=>{const ir=tr.getDatasetMeta(nr).controller;ir instanceof DoughnutController?Hn=colorizeDoughnutDataset(er,Hn):ir instanceof PolarAreaController?Hn=colorizePolarAreaDataset(er,Hn):ir&&(Hn=colorizeDefaultDataset(er,Hn))}}function containsColorsDefinitions(tr){let Hn;for(Hn in tr)if(tr[Hn].borderColor||tr[Hn].backgroundColor)return!0;return!1}function containsColorsDefinition(tr){return tr&&(tr.borderColor||tr.backgroundColor)}function containsDefaultColorsDefenitions(){return defaults$4.borderColor!=="rgba(0,0,0,0.1)"||defaults$4.backgroundColor!=="rgba(0,0,0,0.1)"}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(tr,Hn,er){if(!er.enabled)return;const{data:{datasets:nr},options:ir}=tr.config,{elements:rr}=ir,sr=containsColorsDefinitions(nr)||containsColorsDefinition(ir)||rr&&containsColorsDefinitions(rr)||containsDefaultColorsDefenitions();if(!er.forceOverride&&sr)return;const ar=getColorizer(tr);nr.forEach(ar)}};function lttbDecimation(tr,Hn,er,nr,ir){const rr=ir.samples||nr;if(rr>=er)return tr.slice(Hn,Hn+er);const sr=[],ar=(er-2)/(rr-2);let or=0;const lr=Hn+er-1;let cr=Hn,ur,dr,fr,xr,yr;for(sr[or++]=tr[cr],ur=0;ur<rr-2;ur++){let _r=0,Sr=0,jr;const Dr=Math.floor((ur+1)*ar)+1+Hn,Ir=Math.min(Math.floor((ur+2)*ar)+1,er)+Hn,Mr=Ir-Dr;for(jr=Dr;jr<Ir;jr++)_r+=tr[jr].x,Sr+=tr[jr].y;_r/=Mr,Sr/=Mr;const Or=Math.floor(ur*ar)+1+Hn,Lr=Math.min(Math.floor((ur+1)*ar)+1,er)+Hn,{x:Fr,y:Vr}=tr[cr];for(fr=xr=-1,jr=Or;jr<Lr;jr++)xr=.5*Math.abs((Fr-_r)*(tr[jr].y-Vr)-(Fr-tr[jr].x)*(Sr-Vr)),xr>fr&&(fr=xr,dr=tr[jr],yr=jr);sr[or++]=dr,cr=yr}return sr[or++]=tr[lr],sr}function minMaxDecimation(tr,Hn,er,nr){let ir=0,rr=0,sr,ar,or,lr,cr,ur,dr,fr,xr,yr;const _r=[],Sr=Hn+er-1,jr=tr[Hn].x,Ir=tr[Sr].x-jr;for(sr=Hn;sr<Hn+er;++sr){ar=tr[sr],or=(ar.x-jr)/Ir*nr,lr=ar.y;const Mr=or|0;if(Mr===cr)lr<xr?(xr=lr,ur=sr):lr>yr&&(yr=lr,dr=sr),ir=(rr*ir+ar.x)/++rr;else{const Or=sr-1;if(!isNullOrUndef(ur)&&!isNullOrUndef(dr)){const Lr=Math.min(ur,dr),Fr=Math.max(ur,dr);Lr!==fr&&Lr!==Or&&_r.push({...tr[Lr],x:ir}),Fr!==fr&&Fr!==Or&&_r.push({...tr[Fr],x:ir})}sr>0&&Or!==fr&&_r.push(tr[Or]),_r.push(ar),cr=Mr,rr=0,xr=yr=lr,ur=dr=fr=sr}}return _r}function cleanDecimatedDataset(tr){if(tr._decimated){const Hn=tr._data;delete tr._decimated,delete tr._data,Object.defineProperty(tr,"data",{configurable:!0,enumerable:!0,writable:!0,value:Hn})}}function cleanDecimatedData(tr){tr.data.datasets.forEach(Hn=>{cleanDecimatedDataset(Hn)})}function getStartAndCountOfVisiblePointsSimplified(tr,Hn){const er=Hn.length;let nr=0,ir;const{iScale:rr}=tr,{min:sr,max:ar,minDefined:or,maxDefined:lr}=rr.getUserBounds();return or&&(nr=_limitValue(_lookupByKey(Hn,rr.axis,sr).lo,0,er-1)),lr?ir=_limitValue(_lookupByKey(Hn,rr.axis,ar).hi+1,nr,er)-nr:ir=er-nr,{start:nr,count:ir}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(tr,Hn,er)=>{if(!er.enabled){cleanDecimatedData(tr);return}const nr=tr.width;tr.data.datasets.forEach((ir,rr)=>{const{_data:sr,indexAxis:ar}=ir,or=tr.getDatasetMeta(rr),lr=sr||ir.data;if(resolve$1([ar,tr.options.indexAxis])==="y"||!or.controller.supportsDecimation)return;const cr=tr.scales[or.xAxisID];if(cr.type!=="linear"&&cr.type!=="time"||tr.options.parsing)return;let{start:ur,count:dr}=getStartAndCountOfVisiblePointsSimplified(or,lr);const fr=er.threshold||4*nr;if(dr<=fr){cleanDecimatedDataset(ir);return}isNullOrUndef(sr)&&(ir._data=lr,delete ir.data,Object.defineProperty(ir,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(yr){this._data=yr}}));let xr;switch(er.algorithm){case"lttb":xr=lttbDecimation(lr,ur,dr,nr,er);break;case"min-max":xr=minMaxDecimation(lr,ur,dr,nr);break;default:throw new Error(`Unsupported decimation algorithm '${er.algorithm}'`)}ir._decimated=xr})},destroy(tr){cleanDecimatedData(tr)}};function _segments(tr,Hn,er){const nr=tr.segments,ir=tr.points,rr=Hn.points,sr=[];for(const ar of nr){let{start:or,end:lr}=ar;lr=_findSegmentEnd(or,lr,ir);const cr=_getBounds(er,ir[or],ir[lr],ar.loop);if(!Hn.segments){sr.push({source:ar,target:cr,start:ir[or],end:ir[lr]});continue}const ur=_boundSegments(Hn,cr);for(const dr of ur){const fr=_getBounds(er,rr[dr.start],rr[dr.end],dr.loop),xr=_boundSegment(ar,ir,fr);for(const yr of xr)sr.push({source:yr,target:dr,start:{[er]:_getEdge(cr,fr,"start",Math.max)},end:{[er]:_getEdge(cr,fr,"end",Math.min)}})}}return sr}function _getBounds(tr,Hn,er,nr){if(nr)return;let ir=Hn[tr],rr=er[tr];return tr==="angle"&&(ir=_normalizeAngle(ir),rr=_normalizeAngle(rr)),{property:tr,start:ir,end:rr}}function _pointsFromSegments(tr,Hn){const{x:er=null,y:nr=null}=tr||{},ir=Hn.points,rr=[];return Hn.segments.forEach(({start:sr,end:ar})=>{ar=_findSegmentEnd(sr,ar,ir);const or=ir[sr],lr=ir[ar];nr!==null?(rr.push({x:or.x,y:nr}),rr.push({x:lr.x,y:nr})):er!==null&&(rr.push({x:er,y:or.y}),rr.push({x:er,y:lr.y}))}),rr}function _findSegmentEnd(tr,Hn,er){for(;Hn>tr;Hn--){const nr=er[Hn];if(!isNaN(nr.x)&&!isNaN(nr.y))break}return Hn}function _getEdge(tr,Hn,er,nr){return tr&&Hn?nr(tr[er],Hn[er]):tr?tr[er]:Hn?Hn[er]:0}function _createBoundaryLine(tr,Hn){let er=[],nr=!1;return isArray$1(tr)?(nr=!0,er=tr):er=_pointsFromSegments(tr,Hn),er.length?new LineElement({points:er,options:{tension:0},_loop:nr,_fullLoop:nr}):null}function _shouldApplyFill(tr){return tr&&tr.fill!==!1}function _resolveTarget(tr,Hn,er){let ir=tr[Hn].fill;const rr=[Hn];let sr;if(!er)return ir;for(;ir!==!1&&rr.indexOf(ir)===-1;){if(!isNumberFinite(ir))return ir;if(sr=tr[ir],!sr)return!1;if(sr.visible)return ir;rr.push(ir),ir=sr.fill}return!1}function _decodeFill(tr,Hn,er){const nr=parseFillOption(tr);if(isObject$2(nr))return isNaN(nr.value)?!1:nr;let ir=parseFloat(nr);return isNumberFinite(ir)&&Math.floor(ir)===ir?decodeTargetIndex(nr[0],Hn,ir,er):["origin","start","end","stack","shape"].indexOf(nr)>=0&&nr}function decodeTargetIndex(tr,Hn,er,nr){return(tr==="-"||tr==="+")&&(er=Hn+er),er===Hn||er<0||er>=nr?!1:er}function _getTargetPixel(tr,Hn){let er=null;return tr==="start"?er=Hn.bottom:tr==="end"?er=Hn.top:isObject$2(tr)?er=Hn.getPixelForValue(tr.value):Hn.getBasePixel&&(er=Hn.getBasePixel()),er}function _getTargetValue(tr,Hn,er){let nr;return tr==="start"?nr=er:tr==="end"?nr=Hn.options.reverse?Hn.min:Hn.max:isObject$2(tr)?nr=tr.value:nr=Hn.getBaseValue(),nr}function parseFillOption(tr){const Hn=tr.options,er=Hn.fill;let nr=valueOrDefault(er&&er.target,er);return nr===void 0&&(nr=!!Hn.backgroundColor),nr===!1||nr===null?!1:nr===!0?"origin":nr}function _buildStackLine(tr){const{scale:Hn,index:er,line:nr}=tr,ir=[],rr=nr.segments,sr=nr.points,ar=getLinesBelow(Hn,er);ar.push(_createBoundaryLine({x:null,y:Hn.bottom},nr));for(let or=0;or<rr.length;or++){const lr=rr[or];for(let cr=lr.start;cr<=lr.end;cr++)addPointsBelow(ir,sr[cr],ar)}return new LineElement({points:ir,options:{}})}function getLinesBelow(tr,Hn){const er=[],nr=tr.getMatchingVisibleMetas("line");for(let ir=0;ir<nr.length;ir++){const rr=nr[ir];if(rr.index===Hn)break;rr.hidden||er.unshift(rr.dataset)}return er}function addPointsBelow(tr,Hn,er){const nr=[];for(let ir=0;ir<er.length;ir++){const rr=er[ir],{first:sr,last:ar,point:or}=findPoint(rr,Hn,"x");if(!(!or||sr&&ar)){if(sr)nr.unshift(or);else if(tr.push(or),!ar)break}}tr.push(...nr)}function findPoint(tr,Hn,er){const nr=tr.interpolate(Hn,er);if(!nr)return{};const ir=nr[er],rr=tr.segments,sr=tr.points;let ar=!1,or=!1;for(let lr=0;lr<rr.length;lr++){const cr=rr[lr],ur=sr[cr.start][er],dr=sr[cr.end][er];if(_isBetween(ir,ur,dr)){ar=ir===ur,or=ir===dr;break}}return{first:ar,last:or,point:nr}}class simpleArc{constructor(Hn){this.x=Hn.x,this.y=Hn.y,this.radius=Hn.radius}pathSegment(Hn,er,nr){const{x:ir,y:rr,radius:sr}=this;return er=er||{start:0,end:TAU},Hn.arc(ir,rr,sr,er.end,er.start,!0),!nr.bounds}interpolate(Hn){const{x:er,y:nr,radius:ir}=this,rr=Hn.angle;return{x:er+Math.cos(rr)*ir,y:nr+Math.sin(rr)*ir,angle:rr}}}function _getTarget(tr){const{chart:Hn,fill:er,line:nr}=tr;if(isNumberFinite(er))return getLineByIndex(Hn,er);if(er==="stack")return _buildStackLine(tr);if(er==="shape")return!0;const ir=computeBoundary(tr);return ir instanceof simpleArc?ir:_createBoundaryLine(ir,nr)}function getLineByIndex(tr,Hn){const er=tr.getDatasetMeta(Hn);return er&&tr.isDatasetVisible(Hn)?er.dataset:null}function computeBoundary(tr){return(tr.scale||{}).getPointPositionForValue?computeCircularBoundary(tr):computeLinearBoundary(tr)}function computeLinearBoundary(tr){const{scale:Hn={},fill:er}=tr,nr=_getTargetPixel(er,Hn);if(isNumberFinite(nr)){const ir=Hn.isHorizontal();return{x:ir?nr:null,y:ir?null:nr}}return null}function computeCircularBoundary(tr){const{scale:Hn,fill:er}=tr,nr=Hn.options,ir=Hn.getLabels().length,rr=nr.reverse?Hn.max:Hn.min,sr=_getTargetValue(er,Hn,rr),ar=[];if(nr.grid.circular){const or=Hn.getPointPositionForValue(0,rr);return new simpleArc({x:or.x,y:or.y,radius:Hn.getDistanceFromCenterForValue(sr)})}for(let or=0;or<ir;++or)ar.push(Hn.getPointPositionForValue(or,sr));return ar}function _drawfill(tr,Hn,er){const nr=_getTarget(Hn),{chart:ir,index:rr,line:sr,scale:ar,axis:or}=Hn,lr=sr.options,cr=lr.fill,ur=lr.backgroundColor,{above:dr=ur,below:fr=ur}=cr||{},xr=ir.getDatasetMeta(rr),yr=getDatasetClipArea(ir,xr);nr&&sr.points.length&&(clipArea(tr,er),doFill(tr,{line:sr,target:nr,above:dr,below:fr,area:er,scale:ar,axis:or,clip:yr}),unclipArea(tr))}function doFill(tr,Hn){const{line:er,target:nr,above:ir,below:rr,area:sr,scale:ar,clip:or}=Hn,lr=er._loop?"angle":Hn.axis;tr.save();let cr=rr;rr!==ir&&(lr==="x"?(clipVertical(tr,nr,sr.top),fill(tr,{line:er,target:nr,color:ir,scale:ar,property:lr,clip:or}),tr.restore(),tr.save(),clipVertical(tr,nr,sr.bottom)):lr==="y"&&(clipHorizontal(tr,nr,sr.left),fill(tr,{line:er,target:nr,color:rr,scale:ar,property:lr,clip:or}),tr.restore(),tr.save(),clipHorizontal(tr,nr,sr.right),cr=ir)),fill(tr,{line:er,target:nr,color:cr,scale:ar,property:lr,clip:or}),tr.restore()}function clipVertical(tr,Hn,er){const{segments:nr,points:ir}=Hn;let rr=!0,sr=!1;tr.beginPath();for(const ar of nr){const{start:or,end:lr}=ar,cr=ir[or],ur=ir[_findSegmentEnd(or,lr,ir)];rr?(tr.moveTo(cr.x,cr.y),rr=!1):(tr.lineTo(cr.x,er),tr.lineTo(cr.x,cr.y)),sr=!!Hn.pathSegment(tr,ar,{move:sr}),sr?tr.closePath():tr.lineTo(ur.x,er)}tr.lineTo(Hn.first().x,er),tr.closePath(),tr.clip()}function clipHorizontal(tr,Hn,er){const{segments:nr,points:ir}=Hn;let rr=!0,sr=!1;tr.beginPath();for(const ar of nr){const{start:or,end:lr}=ar,cr=ir[or],ur=ir[_findSegmentEnd(or,lr,ir)];rr?(tr.moveTo(cr.x,cr.y),rr=!1):(tr.lineTo(er,cr.y),tr.lineTo(cr.x,cr.y)),sr=!!Hn.pathSegment(tr,ar,{move:sr}),sr?tr.closePath():tr.lineTo(er,ur.y)}tr.lineTo(er,Hn.first().y),tr.closePath(),tr.clip()}function fill(tr,Hn){const{line:er,target:nr,property:ir,color:rr,scale:sr,clip:ar}=Hn,or=_segments(er,nr,ir);for(const{source:lr,target:cr,start:ur,end:dr}of or){const{style:{backgroundColor:fr=rr}={}}=lr,xr=nr!==!0;tr.save(),tr.fillStyle=fr,clipBounds(tr,sr,ar,xr&&_getBounds(ir,ur,dr)),tr.beginPath();const yr=!!er.pathSegment(tr,lr);let _r;if(xr){yr?tr.closePath():interpolatedLineTo(tr,nr,dr,ir);const Sr=!!nr.pathSegment(tr,cr,{move:yr,reverse:!0});_r=yr&&Sr,_r||interpolatedLineTo(tr,nr,ur,ir)}tr.closePath(),tr.fill(_r?"evenodd":"nonzero"),tr.restore()}}function clipBounds(tr,Hn,er,nr){const ir=Hn.chart.chartArea,{property:rr,start:sr,end:ar}=nr||{};if(rr==="x"||rr==="y"){let or,lr,cr,ur;rr==="x"?(or=sr,lr=ir.top,cr=ar,ur=ir.bottom):(or=ir.left,lr=sr,cr=ir.right,ur=ar),tr.beginPath(),er&&(or=Math.max(or,er.left),cr=Math.min(cr,er.right),lr=Math.max(lr,er.top),ur=Math.min(ur,er.bottom)),tr.rect(or,lr,cr-or,ur-lr),tr.clip()}}function interpolatedLineTo(tr,Hn,er,nr){const ir=Hn.interpolate(er,nr);ir&&tr.lineTo(ir.x,ir.y)}var index={id:"filler",afterDatasetsUpdate(tr,Hn,er){const nr=(tr.data.datasets||[]).length,ir=[];let rr,sr,ar,or;for(sr=0;sr<nr;++sr)rr=tr.getDatasetMeta(sr),ar=rr.dataset,or=null,ar&&ar.options&&ar instanceof LineElement&&(or={visible:tr.isDatasetVisible(sr),index:sr,fill:_decodeFill(ar,sr,nr),chart:tr,axis:rr.controller.options.indexAxis,scale:rr.vScale,line:ar}),rr.$filler=or,ir.push(or);for(sr=0;sr<nr;++sr)or=ir[sr],!(!or||or.fill===!1)&&(or.fill=_resolveTarget(ir,sr,er.propagate))},beforeDraw(tr,Hn,er){const nr=er.drawTime==="beforeDraw",ir=tr.getSortedVisibleDatasetMetas(),rr=tr.chartArea;for(let sr=ir.length-1;sr>=0;--sr){const ar=ir[sr].$filler;ar&&(ar.line.updateControlPoints(rr,ar.axis),nr&&ar.fill&&_drawfill(tr.ctx,ar,rr))}},beforeDatasetsDraw(tr,Hn,er){if(er.drawTime!=="beforeDatasetsDraw")return;const nr=tr.getSortedVisibleDatasetMetas();for(let ir=nr.length-1;ir>=0;--ir){const rr=nr[ir].$filler;_shouldApplyFill(rr)&&_drawfill(tr.ctx,rr,tr.chartArea)}},beforeDatasetDraw(tr,Hn,er){const nr=Hn.meta.$filler;!_shouldApplyFill(nr)||er.drawTime!=="beforeDatasetDraw"||_drawfill(tr.ctx,nr,tr.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(tr,Hn)=>{let{boxHeight:er=Hn,boxWidth:nr=Hn}=tr;return tr.usePointStyle&&(er=Math.min(er,Hn),nr=tr.pointStyleWidth||Math.min(nr,Hn)),{boxWidth:nr,boxHeight:er,itemHeight:Math.max(Hn,er)}},itemsEqual=(tr,Hn)=>tr!==null&&Hn!==null&&tr.datasetIndex===Hn.datasetIndex&&tr.index===Hn.index;class Legend extends Element$1{constructor(Hn){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=Hn.chart,this.options=Hn.options,this.ctx=Hn.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Hn,er,nr){this.maxWidth=Hn,this.maxHeight=er,this._margins=nr,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const Hn=this.options.labels||{};let er=callback(Hn.generateLabels,[this.chart],this)||[];Hn.filter&&(er=er.filter(nr=>Hn.filter(nr,this.chart.data))),Hn.sort&&(er=er.sort((nr,ir)=>Hn.sort(nr,ir,this.chart.data))),this.options.reverse&&er.reverse(),this.legendItems=er}fit(){const{options:Hn,ctx:er}=this;if(!Hn.display){this.width=this.height=0;return}const nr=Hn.labels,ir=toFont(nr.font),rr=ir.size,sr=this._computeTitleHeight(),{boxWidth:ar,itemHeight:or}=getBoxSize(nr,rr);let lr,cr;er.font=ir.string,this.isHorizontal()?(lr=this.maxWidth,cr=this._fitRows(sr,rr,ar,or)+10):(cr=this.maxHeight,lr=this._fitCols(sr,ir,ar,or)+10),this.width=Math.min(lr,Hn.maxWidth||this.maxWidth),this.height=Math.min(cr,Hn.maxHeight||this.maxHeight)}_fitRows(Hn,er,nr,ir){const{ctx:rr,maxWidth:sr,options:{labels:{padding:ar}}}=this,or=this.legendHitBoxes=[],lr=this.lineWidths=[0],cr=ir+ar;let ur=Hn;rr.textAlign="left",rr.textBaseline="middle";let dr=-1,fr=-cr;return this.legendItems.forEach((xr,yr)=>{const _r=nr+er/2+rr.measureText(xr.text).width;(yr===0||lr[lr.length-1]+_r+2*ar>sr)&&(ur+=cr,lr[lr.length-(yr>0?0:1)]=0,fr+=cr,dr++),or[yr]={left:0,top:fr,row:dr,width:_r,height:ir},lr[lr.length-1]+=_r+ar}),ur}_fitCols(Hn,er,nr,ir){const{ctx:rr,maxHeight:sr,options:{labels:{padding:ar}}}=this,or=this.legendHitBoxes=[],lr=this.columnSizes=[],cr=sr-Hn;let ur=ar,dr=0,fr=0,xr=0,yr=0;return this.legendItems.forEach((_r,Sr)=>{const{itemWidth:jr,itemHeight:Dr}=calculateItemSize(nr,er,rr,_r,ir);Sr>0&&fr+Dr+2*ar>cr&&(ur+=dr+ar,lr.push({width:dr,height:fr}),xr+=dr+ar,yr++,dr=fr=0),or[Sr]={left:xr,top:fr,col:yr,width:jr,height:Dr},dr=Math.max(dr,jr),fr+=Dr+ar}),ur+=dr,lr.push({width:dr,height:fr}),ur}adjustHitBoxes(){if(!this.options.display)return;const Hn=this._computeTitleHeight(),{legendHitBoxes:er,options:{align:nr,labels:{padding:ir},rtl:rr}}=this,sr=getRtlAdapter(rr,this.left,this.width);if(this.isHorizontal()){let ar=0,or=_alignStartEnd(nr,this.left+ir,this.right-this.lineWidths[ar]);for(const lr of er)ar!==lr.row&&(ar=lr.row,or=_alignStartEnd(nr,this.left+ir,this.right-this.lineWidths[ar])),lr.top+=this.top+Hn+ir,lr.left=sr.leftForLtr(sr.x(or),lr.width),or+=lr.width+ir}else{let ar=0,or=_alignStartEnd(nr,this.top+Hn+ir,this.bottom-this.columnSizes[ar].height);for(const lr of er)lr.col!==ar&&(ar=lr.col,or=_alignStartEnd(nr,this.top+Hn+ir,this.bottom-this.columnSizes[ar].height)),lr.top=or,lr.left+=this.left+ir,lr.left=sr.leftForLtr(sr.x(lr.left),lr.width),or+=lr.height+ir}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const Hn=this.ctx;clipArea(Hn,this),this._draw(),unclipArea(Hn)}}_draw(){const{options:Hn,columnSizes:er,lineWidths:nr,ctx:ir}=this,{align:rr,labels:sr}=Hn,ar=defaults$4.color,or=getRtlAdapter(Hn.rtl,this.left,this.width),lr=toFont(sr.font),{padding:cr}=sr,ur=lr.size,dr=ur/2;let fr;this.drawTitle(),ir.textAlign=or.textAlign("left"),ir.textBaseline="middle",ir.lineWidth=.5,ir.font=lr.string;const{boxWidth:xr,boxHeight:yr,itemHeight:_r}=getBoxSize(sr,ur),Sr=function(Or,Lr,Fr){if(isNaN(xr)||xr<=0||isNaN(yr)||yr<0)return;ir.save();const Vr=valueOrDefault(Fr.lineWidth,1);if(ir.fillStyle=valueOrDefault(Fr.fillStyle,ar),ir.lineCap=valueOrDefault(Fr.lineCap,"butt"),ir.lineDashOffset=valueOrDefault(Fr.lineDashOffset,0),ir.lineJoin=valueOrDefault(Fr.lineJoin,"miter"),ir.lineWidth=Vr,ir.strokeStyle=valueOrDefault(Fr.strokeStyle,ar),ir.setLineDash(valueOrDefault(Fr.lineDash,[])),sr.usePointStyle){const Zr={radius:yr*Math.SQRT2/2,pointStyle:Fr.pointStyle,rotation:Fr.rotation,borderWidth:Vr},Hr=or.xPlus(Or,xr/2),Yr=Lr+dr;drawPointLegend(ir,Zr,Hr,Yr,sr.pointStyleWidth&&xr)}else{const Zr=Lr+Math.max((ur-yr)/2,0),Hr=or.leftForLtr(Or,xr),Yr=toTRBLCorners(Fr.borderRadius);ir.beginPath(),Object.values(Yr).some(eo=>eo!==0)?addRoundedRectPath(ir,{x:Hr,y:Zr,w:xr,h:yr,radius:Yr}):ir.rect(Hr,Zr,xr,yr),ir.fill(),Vr!==0&&ir.stroke()}ir.restore()},jr=function(Or,Lr,Fr){renderText(ir,Fr.text,Or,Lr+_r/2,lr,{strikethrough:Fr.hidden,textAlign:or.textAlign(Fr.textAlign)})},Dr=this.isHorizontal(),Ir=this._computeTitleHeight();Dr?fr={x:_alignStartEnd(rr,this.left+cr,this.right-nr[0]),y:this.top+cr+Ir,line:0}:fr={x:this.left+cr,y:_alignStartEnd(rr,this.top+Ir+cr,this.bottom-er[0].height),line:0},overrideTextDirection(this.ctx,Hn.textDirection);const Mr=_r+cr;this.legendItems.forEach((Or,Lr)=>{ir.strokeStyle=Or.fontColor,ir.fillStyle=Or.fontColor;const Fr=ir.measureText(Or.text).width,Vr=or.textAlign(Or.textAlign||(Or.textAlign=sr.textAlign)),Zr=xr+dr+Fr;let Hr=fr.x,Yr=fr.y;or.setWidth(this.width),Dr?Lr>0&&Hr+Zr+cr>this.right&&(Yr=fr.y+=Mr,fr.line++,Hr=fr.x=_alignStartEnd(rr,this.left+cr,this.right-nr[fr.line])):Lr>0&&Yr+Mr>this.bottom&&(Hr=fr.x=Hr+er[fr.line].width+cr,fr.line++,Yr=fr.y=_alignStartEnd(rr,this.top+Ir+cr,this.bottom-er[fr.line].height));const eo=or.x(Hr);if(Sr(eo,Yr,Or),Hr=_textX(Vr,Hr+xr+dr,Dr?Hr+Zr:this.right,Hn.rtl),jr(or.x(Hr),Yr,Or),Dr)fr.x+=Zr+cr;else if(typeof Or.text!="string"){const io=lr.lineHeight;fr.y+=calculateLegendItemHeight(Or,io)+cr}else fr.y+=Mr}),restoreTextDirection(this.ctx,Hn.textDirection)}drawTitle(){const Hn=this.options,er=Hn.title,nr=toFont(er.font),ir=toPadding(er.padding);if(!er.display)return;const rr=getRtlAdapter(Hn.rtl,this.left,this.width),sr=this.ctx,ar=er.position,or=nr.size/2,lr=ir.top+or;let cr,ur=this.left,dr=this.width;if(this.isHorizontal())dr=Math.max(...this.lineWidths),cr=this.top+lr,ur=_alignStartEnd(Hn.align,ur,this.right-dr);else{const xr=this.columnSizes.reduce((yr,_r)=>Math.max(yr,_r.height),0);cr=lr+_alignStartEnd(Hn.align,this.top,this.bottom-xr-Hn.labels.padding-this._computeTitleHeight())}const fr=_alignStartEnd(ar,ur,ur+dr);sr.textAlign=rr.textAlign(_toLeftRightCenter(ar)),sr.textBaseline="middle",sr.strokeStyle=er.color,sr.fillStyle=er.color,sr.font=nr.string,renderText(sr,er.text,fr,cr,nr)}_computeTitleHeight(){const Hn=this.options.title,er=toFont(Hn.font),nr=toPadding(Hn.padding);return Hn.display?er.lineHeight+nr.height:0}_getLegendItemAt(Hn,er){let nr,ir,rr;if(_isBetween(Hn,this.left,this.right)&&_isBetween(er,this.top,this.bottom)){for(rr=this.legendHitBoxes,nr=0;nr<rr.length;++nr)if(ir=rr[nr],_isBetween(Hn,ir.left,ir.left+ir.width)&&_isBetween(er,ir.top,ir.top+ir.height))return this.legendItems[nr]}return null}handleEvent(Hn){const er=this.options;if(!isListened(Hn.type,er))return;const nr=this._getLegendItemAt(Hn.x,Hn.y);if(Hn.type==="mousemove"||Hn.type==="mouseout"){const ir=this._hoveredItem,rr=itemsEqual(ir,nr);ir&&!rr&&callback(er.onLeave,[Hn,ir,this],this),this._hoveredItem=nr,nr&&!rr&&callback(er.onHover,[Hn,nr,this],this)}else nr&&callback(er.onClick,[Hn,nr,this],this)}}function calculateItemSize(tr,Hn,er,nr,ir){const rr=calculateItemWidth(nr,tr,Hn,er),sr=calculateItemHeight(ir,nr,Hn.lineHeight);return{itemWidth:rr,itemHeight:sr}}function calculateItemWidth(tr,Hn,er,nr){let ir=tr.text;return ir&&typeof ir!="string"&&(ir=ir.reduce((rr,sr)=>rr.length>sr.length?rr:sr)),Hn+er.size/2+nr.measureText(ir).width}function calculateItemHeight(tr,Hn,er){let nr=tr;return typeof Hn.text!="string"&&(nr=calculateLegendItemHeight(Hn,er)),nr}function calculateLegendItemHeight(tr,Hn){const er=tr.text?tr.text.length:0;return Hn*er}function isListened(tr,Hn){return!!((tr==="mousemove"||tr==="mouseout")&&(Hn.onHover||Hn.onLeave)||Hn.onClick&&(tr==="click"||tr==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(tr,Hn,er){const nr=tr.legend=new Legend({ctx:tr.ctx,options:er,chart:tr});layouts.configure(tr,nr,er),layouts.addBox(tr,nr)},stop(tr){layouts.removeBox(tr,tr.legend),delete tr.legend},beforeUpdate(tr,Hn,er){const nr=tr.legend;layouts.configure(tr,nr,er),nr.options=er},afterUpdate(tr){const Hn=tr.legend;Hn.buildLabels(),Hn.adjustHitBoxes()},afterEvent(tr,Hn){Hn.replay||tr.legend.handleEvent(Hn.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(tr,Hn,er){const nr=Hn.datasetIndex,ir=er.chart;ir.isDatasetVisible(nr)?(ir.hide(nr),Hn.hidden=!0):(ir.show(nr),Hn.hidden=!1)},onHover:null,onLeave:null,labels:{color:tr=>tr.chart.options.color,boxWidth:40,padding:10,generateLabels(tr){const Hn=tr.data.datasets,{labels:{usePointStyle:er,pointStyle:nr,textAlign:ir,color:rr,useBorderRadius:sr,borderRadius:ar}}=tr.legend.options;return tr._getSortedDatasetMetas().map(or=>{const lr=or.controller.getStyle(er?0:void 0),cr=toPadding(lr.borderWidth);return{text:Hn[or.index].label,fillStyle:lr.backgroundColor,fontColor:rr,hidden:!or.visible,lineCap:lr.borderCapStyle,lineDash:lr.borderDash,lineDashOffset:lr.borderDashOffset,lineJoin:lr.borderJoinStyle,lineWidth:(cr.width+cr.height)/4,strokeStyle:lr.borderColor,pointStyle:nr||lr.pointStyle,rotation:lr.rotation,textAlign:ir||lr.textAlign,borderRadius:sr&&(ar||lr.borderRadius),datasetIndex:or.index}},this)}},title:{color:tr=>tr.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:tr=>!tr.startsWith("on"),labels:{_scriptable:tr=>!["generateLabels","filter","sort"].includes(tr)}}};class Title extends Element$1{constructor(Hn){super(),this.chart=Hn.chart,this.options=Hn.options,this.ctx=Hn.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Hn,er){const nr=this.options;if(this.left=0,this.top=0,!nr.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=Hn,this.height=this.bottom=er;const ir=isArray$1(nr.text)?nr.text.length:1;this._padding=toPadding(nr.padding);const rr=ir*toFont(nr.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=rr:this.width=rr}isHorizontal(){const Hn=this.options.position;return Hn==="top"||Hn==="bottom"}_drawArgs(Hn){const{top:er,left:nr,bottom:ir,right:rr,options:sr}=this,ar=sr.align;let or=0,lr,cr,ur;return this.isHorizontal()?(cr=_alignStartEnd(ar,nr,rr),ur=er+Hn,lr=rr-nr):(sr.position==="left"?(cr=nr+Hn,ur=_alignStartEnd(ar,ir,er),or=PI*-.5):(cr=rr-Hn,ur=_alignStartEnd(ar,er,ir),or=PI*.5),lr=ir-er),{titleX:cr,titleY:ur,maxWidth:lr,rotation:or}}draw(){const Hn=this.ctx,er=this.options;if(!er.display)return;const nr=toFont(er.font),rr=nr.lineHeight/2+this._padding.top,{titleX:sr,titleY:ar,maxWidth:or,rotation:lr}=this._drawArgs(rr);renderText(Hn,er.text,0,0,nr,{color:er.color,maxWidth:or,rotation:lr,textAlign:_toLeftRightCenter(er.align),textBaseline:"middle",translation:[sr,ar]})}}function createTitle(tr,Hn){const er=new Title({ctx:tr.ctx,options:Hn,chart:tr});layouts.configure(tr,er,Hn),layouts.addBox(tr,er),tr.titleBlock=er}var plugin_title={id:"title",_element:Title,start(tr,Hn,er){createTitle(tr,er)},stop(tr){const Hn=tr.titleBlock;layouts.removeBox(tr,Hn),delete tr.titleBlock},beforeUpdate(tr,Hn,er){const nr=tr.titleBlock;layouts.configure(tr,nr,er),nr.options=er},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map$2=new WeakMap;var plugin_subtitle={id:"subtitle",start(tr,Hn,er){const nr=new Title({ctx:tr.ctx,options:er,chart:tr});layouts.configure(tr,nr,er),layouts.addBox(tr,nr),map$2.set(tr,nr)},stop(tr){layouts.removeBox(tr,map$2.get(tr)),map$2.delete(tr)},beforeUpdate(tr,Hn,er){const nr=map$2.get(tr);layouts.configure(tr,nr,er),nr.options=er},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(tr){if(!tr.length)return!1;let Hn,er,nr=new Set,ir=0,rr=0;for(Hn=0,er=tr.length;Hn<er;++Hn){const ar=tr[Hn].element;if(ar&&ar.hasValue()){const or=ar.tooltipPosition();nr.add(or.x),ir+=or.y,++rr}}return rr===0||nr.size===0?!1:{x:[...nr].reduce((ar,or)=>ar+or)/nr.size,y:ir/rr}},nearest(tr,Hn){if(!tr.length)return!1;let er=Hn.x,nr=Hn.y,ir=Number.POSITIVE_INFINITY,rr,sr,ar;for(rr=0,sr=tr.length;rr<sr;++rr){const or=tr[rr].element;if(or&&or.hasValue()){const lr=or.getCenterPoint(),cr=distanceBetweenPoints$1(Hn,lr);cr<ir&&(ir=cr,ar=or)}}if(ar){const or=ar.tooltipPosition();er=or.x,nr=or.y}return{x:er,y:nr}}};function pushOrConcat(tr,Hn){return Hn&&(isArray$1(Hn)?Array.prototype.push.apply(tr,Hn):tr.push(Hn)),tr}function splitNewlines(tr){return(typeof tr=="string"||tr instanceof String)&&tr.indexOf(`
`)>-1?tr.split(`
`):tr}function createTooltipItem(tr,Hn){const{element:er,datasetIndex:nr,index:ir}=Hn,rr=tr.getDatasetMeta(nr).controller,{label:sr,value:ar}=rr.getLabelAndValue(ir);return{chart:tr,label:sr,parsed:rr.getParsed(ir),raw:tr.data.datasets[nr].data[ir],formattedValue:ar,dataset:rr.getDataset(),dataIndex:ir,datasetIndex:nr,element:er}}function getTooltipSize(tr,Hn){const er=tr.chart.ctx,{body:nr,footer:ir,title:rr}=tr,{boxWidth:sr,boxHeight:ar}=Hn,or=toFont(Hn.bodyFont),lr=toFont(Hn.titleFont),cr=toFont(Hn.footerFont),ur=rr.length,dr=ir.length,fr=nr.length,xr=toPadding(Hn.padding);let yr=xr.height,_r=0,Sr=nr.reduce((Ir,Mr)=>Ir+Mr.before.length+Mr.lines.length+Mr.after.length,0);if(Sr+=tr.beforeBody.length+tr.afterBody.length,ur&&(yr+=ur*lr.lineHeight+(ur-1)*Hn.titleSpacing+Hn.titleMarginBottom),Sr){const Ir=Hn.displayColors?Math.max(ar,or.lineHeight):or.lineHeight;yr+=fr*Ir+(Sr-fr)*or.lineHeight+(Sr-1)*Hn.bodySpacing}dr&&(yr+=Hn.footerMarginTop+dr*cr.lineHeight+(dr-1)*Hn.footerSpacing);let jr=0;const Dr=function(Ir){_r=Math.max(_r,er.measureText(Ir).width+jr)};return er.save(),er.font=lr.string,each$1(tr.title,Dr),er.font=or.string,each$1(tr.beforeBody.concat(tr.afterBody),Dr),jr=Hn.displayColors?sr+2+Hn.boxPadding:0,each$1(nr,Ir=>{each$1(Ir.before,Dr),each$1(Ir.lines,Dr),each$1(Ir.after,Dr)}),jr=0,er.font=cr.string,each$1(tr.footer,Dr),er.restore(),_r+=xr.width,{width:_r,height:yr}}function determineYAlign(tr,Hn){const{y:er,height:nr}=Hn;return er<nr/2?"top":er>tr.height-nr/2?"bottom":"center"}function doesNotFitWithAlign(tr,Hn,er,nr){const{x:ir,width:rr}=nr,sr=er.caretSize+er.caretPadding;if(tr==="left"&&ir+rr+sr>Hn.width||tr==="right"&&ir-rr-sr<0)return!0}function determineXAlign(tr,Hn,er,nr){const{x:ir,width:rr}=er,{width:sr,chartArea:{left:ar,right:or}}=tr;let lr="center";return nr==="center"?lr=ir<=(ar+or)/2?"left":"right":ir<=rr/2?lr="left":ir>=sr-rr/2&&(lr="right"),doesNotFitWithAlign(lr,tr,Hn,er)&&(lr="center"),lr}function determineAlignment(tr,Hn,er){const nr=er.yAlign||Hn.yAlign||determineYAlign(tr,er);return{xAlign:er.xAlign||Hn.xAlign||determineXAlign(tr,Hn,er,nr),yAlign:nr}}function alignX(tr,Hn){let{x:er,width:nr}=tr;return Hn==="right"?er-=nr:Hn==="center"&&(er-=nr/2),er}function alignY(tr,Hn,er){let{y:nr,height:ir}=tr;return Hn==="top"?nr+=er:Hn==="bottom"?nr-=ir+er:nr-=ir/2,nr}function getBackgroundPoint(tr,Hn,er,nr){const{caretSize:ir,caretPadding:rr,cornerRadius:sr}=tr,{xAlign:ar,yAlign:or}=er,lr=ir+rr,{topLeft:cr,topRight:ur,bottomLeft:dr,bottomRight:fr}=toTRBLCorners(sr);let xr=alignX(Hn,ar);const yr=alignY(Hn,or,lr);return or==="center"?ar==="left"?xr+=lr:ar==="right"&&(xr-=lr):ar==="left"?xr-=Math.max(cr,dr)+ir:ar==="right"&&(xr+=Math.max(ur,fr)+ir),{x:_limitValue(xr,0,nr.width-Hn.width),y:_limitValue(yr,0,nr.height-Hn.height)}}function getAlignedX(tr,Hn,er){const nr=toPadding(er.padding);return Hn==="center"?tr.x+tr.width/2:Hn==="right"?tr.x+tr.width-nr.right:tr.x+nr.left}function getBeforeAfterBodyLines(tr){return pushOrConcat([],splitNewlines(tr))}function createTooltipContext(tr,Hn,er){return createContext(tr,{tooltip:Hn,tooltipItems:er,type:"tooltip"})}function overrideCallbacks(tr,Hn){const er=Hn&&Hn.dataset&&Hn.dataset.tooltip&&Hn.dataset.tooltip.callbacks;return er?tr.override(er):tr}const defaultCallbacks={beforeTitle:noop$5,title(tr){if(tr.length>0){const Hn=tr[0],er=Hn.chart.data.labels,nr=er?er.length:0;if(this&&this.options&&this.options.mode==="dataset")return Hn.dataset.label||"";if(Hn.label)return Hn.label;if(nr>0&&Hn.dataIndex<nr)return er[Hn.dataIndex]}return""},afterTitle:noop$5,beforeBody:noop$5,beforeLabel:noop$5,label(tr){if(this&&this.options&&this.options.mode==="dataset")return tr.label+": "+tr.formattedValue||tr.formattedValue;let Hn=tr.dataset.label||"";Hn&&(Hn+=": ");const er=tr.formattedValue;return isNullOrUndef(er)||(Hn+=er),Hn},labelColor(tr){const er=tr.chart.getDatasetMeta(tr.datasetIndex).controller.getStyle(tr.dataIndex);return{borderColor:er.borderColor,backgroundColor:er.backgroundColor,borderWidth:er.borderWidth,borderDash:er.borderDash,borderDashOffset:er.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(tr){const er=tr.chart.getDatasetMeta(tr.datasetIndex).controller.getStyle(tr.dataIndex);return{pointStyle:er.pointStyle,rotation:er.rotation}},afterLabel:noop$5,afterBody:noop$5,beforeFooter:noop$5,footer:noop$5,afterFooter:noop$5};function invokeCallbackWithFallback(tr,Hn,er,nr){const ir=tr[Hn].call(er,nr);return typeof ir>"u"?defaultCallbacks[Hn].call(er,nr):ir}let Tooltip$2=class extends Element$1{static positioners=positioners$1;constructor(Hn){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=Hn.chart,this.options=Hn.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(Hn){this.options=Hn,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const Hn=this._cachedAnimations;if(Hn)return Hn;const er=this.chart,nr=this.options.setContext(this.getContext()),ir=nr.enabled&&er.options.animation&&nr.animations,rr=new Animations(this.chart,ir);return ir._cacheable&&(this._cachedAnimations=Object.freeze(rr)),rr}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(Hn,er){const{callbacks:nr}=er,ir=invokeCallbackWithFallback(nr,"beforeTitle",this,Hn),rr=invokeCallbackWithFallback(nr,"title",this,Hn),sr=invokeCallbackWithFallback(nr,"afterTitle",this,Hn);let ar=[];return ar=pushOrConcat(ar,splitNewlines(ir)),ar=pushOrConcat(ar,splitNewlines(rr)),ar=pushOrConcat(ar,splitNewlines(sr)),ar}getBeforeBody(Hn,er){return getBeforeAfterBodyLines(invokeCallbackWithFallback(er.callbacks,"beforeBody",this,Hn))}getBody(Hn,er){const{callbacks:nr}=er,ir=[];return each$1(Hn,rr=>{const sr={before:[],lines:[],after:[]},ar=overrideCallbacks(nr,rr);pushOrConcat(sr.before,splitNewlines(invokeCallbackWithFallback(ar,"beforeLabel",this,rr))),pushOrConcat(sr.lines,invokeCallbackWithFallback(ar,"label",this,rr)),pushOrConcat(sr.after,splitNewlines(invokeCallbackWithFallback(ar,"afterLabel",this,rr))),ir.push(sr)}),ir}getAfterBody(Hn,er){return getBeforeAfterBodyLines(invokeCallbackWithFallback(er.callbacks,"afterBody",this,Hn))}getFooter(Hn,er){const{callbacks:nr}=er,ir=invokeCallbackWithFallback(nr,"beforeFooter",this,Hn),rr=invokeCallbackWithFallback(nr,"footer",this,Hn),sr=invokeCallbackWithFallback(nr,"afterFooter",this,Hn);let ar=[];return ar=pushOrConcat(ar,splitNewlines(ir)),ar=pushOrConcat(ar,splitNewlines(rr)),ar=pushOrConcat(ar,splitNewlines(sr)),ar}_createItems(Hn){const er=this._active,nr=this.chart.data,ir=[],rr=[],sr=[];let ar=[],or,lr;for(or=0,lr=er.length;or<lr;++or)ar.push(createTooltipItem(this.chart,er[or]));return Hn.filter&&(ar=ar.filter((cr,ur,dr)=>Hn.filter(cr,ur,dr,nr))),Hn.itemSort&&(ar=ar.sort((cr,ur)=>Hn.itemSort(cr,ur,nr))),each$1(ar,cr=>{const ur=overrideCallbacks(Hn.callbacks,cr);ir.push(invokeCallbackWithFallback(ur,"labelColor",this,cr)),rr.push(invokeCallbackWithFallback(ur,"labelPointStyle",this,cr)),sr.push(invokeCallbackWithFallback(ur,"labelTextColor",this,cr))}),this.labelColors=ir,this.labelPointStyles=rr,this.labelTextColors=sr,this.dataPoints=ar,ar}update(Hn,er){const nr=this.options.setContext(this.getContext()),ir=this._active;let rr,sr=[];if(!ir.length)this.opacity!==0&&(rr={opacity:0});else{const ar=positioners$1[nr.position].call(this,ir,this._eventPosition);sr=this._createItems(nr),this.title=this.getTitle(sr,nr),this.beforeBody=this.getBeforeBody(sr,nr),this.body=this.getBody(sr,nr),this.afterBody=this.getAfterBody(sr,nr),this.footer=this.getFooter(sr,nr);const or=this._size=getTooltipSize(this,nr),lr=Object.assign({},ar,or),cr=determineAlignment(this.chart,nr,lr),ur=getBackgroundPoint(nr,lr,cr,this.chart);this.xAlign=cr.xAlign,this.yAlign=cr.yAlign,rr={opacity:1,x:ur.x,y:ur.y,width:or.width,height:or.height,caretX:ar.x,caretY:ar.y}}this._tooltipItems=sr,this.$context=void 0,rr&&this._resolveAnimations().update(this,rr),Hn&&nr.external&&nr.external.call(this,{chart:this.chart,tooltip:this,replay:er})}drawCaret(Hn,er,nr,ir){const rr=this.getCaretPosition(Hn,nr,ir);er.lineTo(rr.x1,rr.y1),er.lineTo(rr.x2,rr.y2),er.lineTo(rr.x3,rr.y3)}getCaretPosition(Hn,er,nr){const{xAlign:ir,yAlign:rr}=this,{caretSize:sr,cornerRadius:ar}=nr,{topLeft:or,topRight:lr,bottomLeft:cr,bottomRight:ur}=toTRBLCorners(ar),{x:dr,y:fr}=Hn,{width:xr,height:yr}=er;let _r,Sr,jr,Dr,Ir,Mr;return rr==="center"?(Ir=fr+yr/2,ir==="left"?(_r=dr,Sr=_r-sr,Dr=Ir+sr,Mr=Ir-sr):(_r=dr+xr,Sr=_r+sr,Dr=Ir-sr,Mr=Ir+sr),jr=_r):(ir==="left"?Sr=dr+Math.max(or,cr)+sr:ir==="right"?Sr=dr+xr-Math.max(lr,ur)-sr:Sr=this.caretX,rr==="top"?(Dr=fr,Ir=Dr-sr,_r=Sr-sr,jr=Sr+sr):(Dr=fr+yr,Ir=Dr+sr,_r=Sr+sr,jr=Sr-sr),Mr=Dr),{x1:_r,x2:Sr,x3:jr,y1:Dr,y2:Ir,y3:Mr}}drawTitle(Hn,er,nr){const ir=this.title,rr=ir.length;let sr,ar,or;if(rr){const lr=getRtlAdapter(nr.rtl,this.x,this.width);for(Hn.x=getAlignedX(this,nr.titleAlign,nr),er.textAlign=lr.textAlign(nr.titleAlign),er.textBaseline="middle",sr=toFont(nr.titleFont),ar=nr.titleSpacing,er.fillStyle=nr.titleColor,er.font=sr.string,or=0;or<rr;++or)er.fillText(ir[or],lr.x(Hn.x),Hn.y+sr.lineHeight/2),Hn.y+=sr.lineHeight+ar,or+1===rr&&(Hn.y+=nr.titleMarginBottom-ar)}}_drawColorBox(Hn,er,nr,ir,rr){const sr=this.labelColors[nr],ar=this.labelPointStyles[nr],{boxHeight:or,boxWidth:lr}=rr,cr=toFont(rr.bodyFont),ur=getAlignedX(this,"left",rr),dr=ir.x(ur),fr=or<cr.lineHeight?(cr.lineHeight-or)/2:0,xr=er.y+fr;if(rr.usePointStyle){const yr={radius:Math.min(lr,or)/2,pointStyle:ar.pointStyle,rotation:ar.rotation,borderWidth:1},_r=ir.leftForLtr(dr,lr)+lr/2,Sr=xr+or/2;Hn.strokeStyle=rr.multiKeyBackground,Hn.fillStyle=rr.multiKeyBackground,drawPoint$1(Hn,yr,_r,Sr),Hn.strokeStyle=sr.borderColor,Hn.fillStyle=sr.backgroundColor,drawPoint$1(Hn,yr,_r,Sr)}else{Hn.lineWidth=isObject$2(sr.borderWidth)?Math.max(...Object.values(sr.borderWidth)):sr.borderWidth||1,Hn.strokeStyle=sr.borderColor,Hn.setLineDash(sr.borderDash||[]),Hn.lineDashOffset=sr.borderDashOffset||0;const yr=ir.leftForLtr(dr,lr),_r=ir.leftForLtr(ir.xPlus(dr,1),lr-2),Sr=toTRBLCorners(sr.borderRadius);Object.values(Sr).some(jr=>jr!==0)?(Hn.beginPath(),Hn.fillStyle=rr.multiKeyBackground,addRoundedRectPath(Hn,{x:yr,y:xr,w:lr,h:or,radius:Sr}),Hn.fill(),Hn.stroke(),Hn.fillStyle=sr.backgroundColor,Hn.beginPath(),addRoundedRectPath(Hn,{x:_r,y:xr+1,w:lr-2,h:or-2,radius:Sr}),Hn.fill()):(Hn.fillStyle=rr.multiKeyBackground,Hn.fillRect(yr,xr,lr,or),Hn.strokeRect(yr,xr,lr,or),Hn.fillStyle=sr.backgroundColor,Hn.fillRect(_r,xr+1,lr-2,or-2))}Hn.fillStyle=this.labelTextColors[nr]}drawBody(Hn,er,nr){const{body:ir}=this,{bodySpacing:rr,bodyAlign:sr,displayColors:ar,boxHeight:or,boxWidth:lr,boxPadding:cr}=nr,ur=toFont(nr.bodyFont);let dr=ur.lineHeight,fr=0;const xr=getRtlAdapter(nr.rtl,this.x,this.width),yr=function(Fr){er.fillText(Fr,xr.x(Hn.x+fr),Hn.y+dr/2),Hn.y+=dr+rr},_r=xr.textAlign(sr);let Sr,jr,Dr,Ir,Mr,Or,Lr;for(er.textAlign=sr,er.textBaseline="middle",er.font=ur.string,Hn.x=getAlignedX(this,_r,nr),er.fillStyle=nr.bodyColor,each$1(this.beforeBody,yr),fr=ar&&_r!=="right"?sr==="center"?lr/2+cr:lr+2+cr:0,Ir=0,Or=ir.length;Ir<Or;++Ir){for(Sr=ir[Ir],jr=this.labelTextColors[Ir],er.fillStyle=jr,each$1(Sr.before,yr),Dr=Sr.lines,ar&&Dr.length&&(this._drawColorBox(er,Hn,Ir,xr,nr),dr=Math.max(ur.lineHeight,or)),Mr=0,Lr=Dr.length;Mr<Lr;++Mr)yr(Dr[Mr]),dr=ur.lineHeight;each$1(Sr.after,yr)}fr=0,dr=ur.lineHeight,each$1(this.afterBody,yr),Hn.y-=rr}drawFooter(Hn,er,nr){const ir=this.footer,rr=ir.length;let sr,ar;if(rr){const or=getRtlAdapter(nr.rtl,this.x,this.width);for(Hn.x=getAlignedX(this,nr.footerAlign,nr),Hn.y+=nr.footerMarginTop,er.textAlign=or.textAlign(nr.footerAlign),er.textBaseline="middle",sr=toFont(nr.footerFont),er.fillStyle=nr.footerColor,er.font=sr.string,ar=0;ar<rr;++ar)er.fillText(ir[ar],or.x(Hn.x),Hn.y+sr.lineHeight/2),Hn.y+=sr.lineHeight+nr.footerSpacing}}drawBackground(Hn,er,nr,ir){const{xAlign:rr,yAlign:sr}=this,{x:ar,y:or}=Hn,{width:lr,height:cr}=nr,{topLeft:ur,topRight:dr,bottomLeft:fr,bottomRight:xr}=toTRBLCorners(ir.cornerRadius);er.fillStyle=ir.backgroundColor,er.strokeStyle=ir.borderColor,er.lineWidth=ir.borderWidth,er.beginPath(),er.moveTo(ar+ur,or),sr==="top"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar+lr-dr,or),er.quadraticCurveTo(ar+lr,or,ar+lr,or+dr),sr==="center"&&rr==="right"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar+lr,or+cr-xr),er.quadraticCurveTo(ar+lr,or+cr,ar+lr-xr,or+cr),sr==="bottom"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar+fr,or+cr),er.quadraticCurveTo(ar,or+cr,ar,or+cr-fr),sr==="center"&&rr==="left"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar,or+ur),er.quadraticCurveTo(ar,or,ar+ur,or),er.closePath(),er.fill(),ir.borderWidth>0&&er.stroke()}_updateAnimationTarget(Hn){const er=this.chart,nr=this.$animations,ir=nr&&nr.x,rr=nr&&nr.y;if(ir||rr){const sr=positioners$1[Hn.position].call(this,this._active,this._eventPosition);if(!sr)return;const ar=this._size=getTooltipSize(this,Hn),or=Object.assign({},sr,this._size),lr=determineAlignment(er,Hn,or),cr=getBackgroundPoint(Hn,or,lr,er);(ir._to!==cr.x||rr._to!==cr.y)&&(this.xAlign=lr.xAlign,this.yAlign=lr.yAlign,this.width=ar.width,this.height=ar.height,this.caretX=sr.x,this.caretY=sr.y,this._resolveAnimations().update(this,cr))}}_willRender(){return!!this.opacity}draw(Hn){const er=this.options.setContext(this.getContext());let nr=this.opacity;if(!nr)return;this._updateAnimationTarget(er);const ir={width:this.width,height:this.height},rr={x:this.x,y:this.y};nr=Math.abs(nr)<.001?0:nr;const sr=toPadding(er.padding),ar=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;er.enabled&&ar&&(Hn.save(),Hn.globalAlpha=nr,this.drawBackground(rr,Hn,ir,er),overrideTextDirection(Hn,er.textDirection),rr.y+=sr.top,this.drawTitle(rr,Hn,er),this.drawBody(rr,Hn,er),this.drawFooter(rr,Hn,er),restoreTextDirection(Hn,er.textDirection),Hn.restore())}getActiveElements(){return this._active||[]}setActiveElements(Hn,er){const nr=this._active,ir=Hn.map(({datasetIndex:ar,index:or})=>{const lr=this.chart.getDatasetMeta(ar);if(!lr)throw new Error("Cannot find a dataset at index "+ar);return{datasetIndex:ar,element:lr.data[or],index:or}}),rr=!_elementsEqual(nr,ir),sr=this._positionChanged(ir,er);(rr||sr)&&(this._active=ir,this._eventPosition=er,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(Hn,er,nr=!0){if(er&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const ir=this.options,rr=this._active||[],sr=this._getActiveElements(Hn,rr,er,nr),ar=this._positionChanged(sr,Hn),or=er||!_elementsEqual(sr,rr)||ar;return or&&(this._active=sr,(ir.enabled||ir.external)&&(this._eventPosition={x:Hn.x,y:Hn.y},this.update(!0,er))),or}_getActiveElements(Hn,er,nr,ir){const rr=this.options;if(Hn.type==="mouseout")return[];if(!ir)return er.filter(ar=>this.chart.data.datasets[ar.datasetIndex]&&this.chart.getDatasetMeta(ar.datasetIndex).controller.getParsed(ar.index)!==void 0);const sr=this.chart.getElementsAtEventForMode(Hn,rr.mode,rr,nr);return rr.reverse&&sr.reverse(),sr}_positionChanged(Hn,er){const{caretX:nr,caretY:ir,options:rr}=this,sr=positioners$1[rr.position].call(this,Hn,er);return sr!==!1&&(nr!==sr.x||ir!==sr.y)}};var plugin_tooltip={id:"tooltip",_element:Tooltip$2,positioners:positioners$1,afterInit(tr,Hn,er){er&&(tr.tooltip=new Tooltip$2({chart:tr,options:er}))},beforeUpdate(tr,Hn,er){tr.tooltip&&tr.tooltip.initialize(er)},reset(tr,Hn,er){tr.tooltip&&tr.tooltip.initialize(er)},afterDraw(tr){const Hn=tr.tooltip;if(Hn&&Hn._willRender()){const er={tooltip:Hn};if(tr.notifyPlugins("beforeTooltipDraw",{...er,cancelable:!0})===!1)return;Hn.draw(tr.ctx),tr.notifyPlugins("afterTooltipDraw",er)}},afterEvent(tr,Hn){if(tr.tooltip){const er=Hn.replay;tr.tooltip.handleEvent(Hn.event,er,Hn.inChartArea)&&(Hn.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(tr,Hn)=>Hn.bodyFont.size,boxWidth:(tr,Hn)=>Hn.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:tr=>tr!=="filter"&&tr!=="itemSort"&&tr!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins$1=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(tr,Hn,er,nr)=>(typeof Hn=="string"?(er=tr.push(Hn)-1,nr.unshift({index:er,label:Hn})):isNaN(Hn)&&(er=null),er);function findOrAddLabel(tr,Hn,er,nr){const ir=tr.indexOf(Hn);if(ir===-1)return addIfString(tr,Hn,er,nr);const rr=tr.lastIndexOf(Hn);return ir!==rr?er:ir}const validIndex=(tr,Hn)=>tr===null?null:_limitValue(Math.round(tr),0,Hn);function _getLabelForValue(tr){const Hn=this.getLabels();return tr>=0&&tr<Hn.length?Hn[tr]:tr}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(Hn){super(Hn),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(Hn){const er=this._addedLabels;if(er.length){const nr=this.getLabels();for(const{index:ir,label:rr}of er)nr[ir]===rr&&nr.splice(ir,1);this._addedLabels=[]}super.init(Hn)}parse(Hn,er){if(isNullOrUndef(Hn))return null;const nr=this.getLabels();return er=isFinite(er)&&nr[er]===Hn?er:findOrAddLabel(nr,Hn,valueOrDefault(er,Hn),this._addedLabels),validIndex(er,nr.length-1)}determineDataLimits(){const{minDefined:Hn,maxDefined:er}=this.getUserBounds();let{min:nr,max:ir}=this.getMinMax(!0);this.options.bounds==="ticks"&&(Hn||(nr=0),er||(ir=this.getLabels().length-1)),this.min=nr,this.max=ir}buildTicks(){const Hn=this.min,er=this.max,nr=this.options.offset,ir=[];let rr=this.getLabels();rr=Hn===0&&er===rr.length-1?rr:rr.slice(Hn,er+1),this._valueRange=Math.max(rr.length-(nr?0:1),1),this._startValue=this.min-(nr?.5:0);for(let sr=Hn;sr<=er;sr++)ir.push({value:sr});return ir}getLabelForValue(Hn){return _getLabelForValue.call(this,Hn)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(Hn){return typeof Hn!="number"&&(Hn=this.parse(Hn)),Hn===null?NaN:this.getPixelForDecimal((Hn-this._startValue)/this._valueRange)}getPixelForTick(Hn){const er=this.ticks;return Hn<0||Hn>er.length-1?null:this.getPixelForValue(er[Hn].value)}getValueForPixel(Hn){return Math.round(this._startValue+this.getDecimalForPixel(Hn)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(tr,Hn){const er=[],{bounds:ir,step:rr,min:sr,max:ar,precision:or,count:lr,maxTicks:cr,maxDigits:ur,includeBounds:dr}=tr,fr=rr||1,xr=cr-1,{min:yr,max:_r}=Hn,Sr=!isNullOrUndef(sr),jr=!isNullOrUndef(ar),Dr=!isNullOrUndef(lr),Ir=(_r-yr)/(ur+1);let Mr=niceNum((_r-yr)/xr/fr)*fr,Or,Lr,Fr,Vr;if(Mr<1e-14&&!Sr&&!jr)return[{value:yr},{value:_r}];Vr=Math.ceil(_r/Mr)-Math.floor(yr/Mr),Vr>xr&&(Mr=niceNum(Vr*Mr/xr/fr)*fr),isNullOrUndef(or)||(Or=Math.pow(10,or),Mr=Math.ceil(Mr*Or)/Or),ir==="ticks"?(Lr=Math.floor(yr/Mr)*Mr,Fr=Math.ceil(_r/Mr)*Mr):(Lr=yr,Fr=_r),Sr&&jr&&rr&&almostWhole((ar-sr)/rr,Mr/1e3)?(Vr=Math.round(Math.min((ar-sr)/Mr,cr)),Mr=(ar-sr)/Vr,Lr=sr,Fr=ar):Dr?(Lr=Sr?sr:Lr,Fr=jr?ar:Fr,Vr=lr-1,Mr=(Fr-Lr)/Vr):(Vr=(Fr-Lr)/Mr,almostEquals(Vr,Math.round(Vr),Mr/1e3)?Vr=Math.round(Vr):Vr=Math.ceil(Vr));const Zr=Math.max(_decimalPlaces(Mr),_decimalPlaces(Lr));Or=Math.pow(10,isNullOrUndef(or)?Zr:or),Lr=Math.round(Lr*Or)/Or,Fr=Math.round(Fr*Or)/Or;let Hr=0;for(Sr&&(dr&&Lr!==sr?(er.push({value:sr}),Lr<sr&&Hr++,almostEquals(Math.round((Lr+Hr*Mr)*Or)/Or,sr,relativeLabelSize(sr,Ir,tr))&&Hr++):Lr<sr&&Hr++);Hr<Vr;++Hr){const Yr=Math.round((Lr+Hr*Mr)*Or)/Or;if(jr&&Yr>ar)break;er.push({value:Yr})}return jr&&dr&&Fr!==ar?er.length&&almostEquals(er[er.length-1].value,ar,relativeLabelSize(ar,Ir,tr))?er[er.length-1].value=ar:er.push({value:ar}):(!jr||Fr===ar)&&er.push({value:Fr}),er}function relativeLabelSize(tr,Hn,{horizontal:er,minRotation:nr}){const ir=toRadians(nr),rr=(er?Math.sin(ir):Math.cos(ir))||.001,sr=.75*Hn*(""+tr).length;return Math.min(Hn/rr,sr)}class LinearScaleBase extends Scale{constructor(Hn){super(Hn),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(Hn,er){return isNullOrUndef(Hn)||(typeof Hn=="number"||Hn instanceof Number)&&!isFinite(+Hn)?null:+Hn}handleTickRangeOptions(){const{beginAtZero:Hn}=this.options,{minDefined:er,maxDefined:nr}=this.getUserBounds();let{min:ir,max:rr}=this;const sr=or=>ir=er?ir:or,ar=or=>rr=nr?rr:or;if(Hn){const or=sign$1(ir),lr=sign$1(rr);or<0&&lr<0?ar(0):or>0&&lr>0&&sr(0)}if(ir===rr){let or=rr===0?1:Math.abs(rr*.05);ar(rr+or),Hn||sr(ir-or)}this.min=ir,this.max=rr}getTickLimit(){const Hn=this.options.ticks;let{maxTicksLimit:er,stepSize:nr}=Hn,ir;return nr?(ir=Math.ceil(this.max/nr)-Math.floor(this.min/nr)+1,ir>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${nr} would result generating up to ${ir} ticks. Limiting to 1000.`),ir=1e3)):(ir=this.computeTickLimit(),er=er||11),er&&(ir=Math.min(er,ir)),ir}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const Hn=this.options,er=Hn.ticks;let nr=this.getTickLimit();nr=Math.max(2,nr);const ir={maxTicks:nr,bounds:Hn.bounds,min:Hn.min,max:Hn.max,precision:er.precision,step:er.stepSize,count:er.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:er.minRotation||0,includeBounds:er.includeBounds!==!1},rr=this._range||this,sr=generateTicks$1(ir,rr);return Hn.bounds==="ticks"&&_setMinAndMaxByKey(sr,this,"value"),Hn.reverse?(sr.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),sr}configure(){const Hn=this.ticks;let er=this.min,nr=this.max;if(super.configure(),this.options.offset&&Hn.length){const ir=(nr-er)/Math.max(Hn.length-1,1)/2;er-=ir,nr+=ir}this._startValue=er,this._endValue=nr,this._valueRange=nr-er}getLabelForValue(Hn){return formatNumber$1(Hn,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks$1.formatters.numeric}};determineDataLimits(){const{min:Hn,max:er}=this.getMinMax(!0);this.min=isNumberFinite(Hn)?Hn:0,this.max=isNumberFinite(er)?er:1,this.handleTickRangeOptions()}computeTickLimit(){const Hn=this.isHorizontal(),er=Hn?this.width:this.height,nr=toRadians(this.options.ticks.minRotation),ir=(Hn?Math.sin(nr):Math.cos(nr))||.001,rr=this._resolveTickFontOptions(0);return Math.ceil(er/Math.min(40,rr.lineHeight/ir))}getPixelForValue(Hn){return Hn===null?NaN:this.getPixelForDecimal((Hn-this._startValue)/this._valueRange)}getValueForPixel(Hn){return this._startValue+this.getDecimalForPixel(Hn)*this._valueRange}}const log10Floor=tr=>Math.floor(log10(tr)),changeExponent=(tr,Hn)=>Math.pow(10,log10Floor(tr)+Hn);function isMajor(tr){return tr/Math.pow(10,log10Floor(tr))===1}function steps(tr,Hn,er){const nr=Math.pow(10,er),ir=Math.floor(tr/nr);return Math.ceil(Hn/nr)-ir}function startExp(tr,Hn){const er=Hn-tr;let nr=log10Floor(er);for(;steps(tr,Hn,nr)>10;)nr++;for(;steps(tr,Hn,nr)<10;)nr--;return Math.min(nr,log10Floor(tr))}function generateTicks(tr,{min:Hn,max:er}){Hn=finiteOrDefault(tr.min,Hn);const nr=[],ir=log10Floor(Hn);let rr=startExp(Hn,er),sr=rr<0?Math.pow(10,Math.abs(rr)):1;const ar=Math.pow(10,rr),or=ir>rr?Math.pow(10,ir):0,lr=Math.round((Hn-or)*sr)/sr,cr=Math.floor((Hn-or)/ar/10)*ar*10;let ur=Math.floor((lr-cr)/Math.pow(10,rr)),dr=finiteOrDefault(tr.min,Math.round((or+cr+ur*Math.pow(10,rr))*sr)/sr);for(;dr<er;)nr.push({value:dr,major:isMajor(dr),significand:ur}),ur>=10?ur=ur<15?15:20:ur++,ur>=20&&(rr++,ur=2,sr=rr>=0?1:sr),dr=Math.round((or+cr+ur*Math.pow(10,rr))*sr)/sr;const fr=finiteOrDefault(tr.max,dr);return nr.push({value:fr,major:isMajor(fr),significand:ur}),nr}class LogarithmicScale extends Scale{static id="logarithmic";static defaults={ticks:{callback:Ticks$1.formatters.logarithmic,major:{enabled:!0}}};constructor(Hn){super(Hn),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(Hn,er){const nr=LinearScaleBase.prototype.parse.apply(this,[Hn,er]);if(nr===0){this._zero=!0;return}return isNumberFinite(nr)&&nr>0?nr:null}determineDataLimits(){const{min:Hn,max:er}=this.getMinMax(!0);this.min=isNumberFinite(Hn)?Math.max(0,Hn):null,this.max=isNumberFinite(er)?Math.max(0,er):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=Hn===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:Hn,maxDefined:er}=this.getUserBounds();let nr=this.min,ir=this.max;const rr=ar=>nr=Hn?nr:ar,sr=ar=>ir=er?ir:ar;nr===ir&&(nr<=0?(rr(1),sr(10)):(rr(changeExponent(nr,-1)),sr(changeExponent(ir,1)))),nr<=0&&rr(changeExponent(ir,-1)),ir<=0&&sr(changeExponent(nr,1)),this.min=nr,this.max=ir}buildTicks(){const Hn=this.options,er={min:this._userMin,max:this._userMax},nr=generateTicks(er,this);return Hn.bounds==="ticks"&&_setMinAndMaxByKey(nr,this,"value"),Hn.reverse?(nr.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),nr}getLabelForValue(Hn){return Hn===void 0?"0":formatNumber$1(Hn,this.chart.options.locale,this.options.ticks.format)}configure(){const Hn=this.min;super.configure(),this._startValue=log10(Hn),this._valueRange=log10(this.max)-log10(Hn)}getPixelForValue(Hn){return(Hn===void 0||Hn===0)&&(Hn=this.min),Hn===null||isNaN(Hn)?NaN:this.getPixelForDecimal(Hn===this.min?0:(log10(Hn)-this._startValue)/this._valueRange)}getValueForPixel(Hn){const er=this.getDecimalForPixel(Hn);return Math.pow(10,this._startValue+er*this._valueRange)}}function getTickBackdropHeight(tr){const Hn=tr.ticks;if(Hn.display&&tr.display){const er=toPadding(Hn.backdropPadding);return valueOrDefault(Hn.font&&Hn.font.size,defaults$4.font.size)+er.height}return 0}function measureLabelSize$1(tr,Hn,er){return er=isArray$1(er)?er:[er],{w:_longestText(tr,Hn.string,er),h:er.length*Hn.lineHeight}}function determineLimits(tr,Hn,er,nr,ir){return tr===nr||tr===ir?{start:Hn-er/2,end:Hn+er/2}:tr<nr||tr>ir?{start:Hn-er,end:Hn}:{start:Hn,end:Hn+er}}function fitWithPointLabels(tr){const Hn={l:tr.left+tr._padding.left,r:tr.right-tr._padding.right,t:tr.top+tr._padding.top,b:tr.bottom-tr._padding.bottom},er=Object.assign({},Hn),nr=[],ir=[],rr=tr._pointLabels.length,sr=tr.options.pointLabels,ar=sr.centerPointLabels?PI/rr:0;for(let or=0;or<rr;or++){const lr=sr.setContext(tr.getPointLabelContext(or));ir[or]=lr.padding;const cr=tr.getPointPosition(or,tr.drawingArea+ir[or],ar),ur=toFont(lr.font),dr=measureLabelSize$1(tr.ctx,ur,tr._pointLabels[or]);nr[or]=dr;const fr=_normalizeAngle(tr.getIndexAngle(or)+ar),xr=Math.round(toDegrees(fr)),yr=determineLimits(xr,cr.x,dr.w,0,180),_r=determineLimits(xr,cr.y,dr.h,90,270);updateLimits$1(er,Hn,fr,yr,_r)}tr.setCenterPoint(Hn.l-er.l,er.r-Hn.r,Hn.t-er.t,er.b-Hn.b),tr._pointLabelItems=buildPointLabelItems(tr,nr,ir)}function updateLimits$1(tr,Hn,er,nr,ir){const rr=Math.abs(Math.sin(er)),sr=Math.abs(Math.cos(er));let ar=0,or=0;nr.start<Hn.l?(ar=(Hn.l-nr.start)/rr,tr.l=Math.min(tr.l,Hn.l-ar)):nr.end>Hn.r&&(ar=(nr.end-Hn.r)/rr,tr.r=Math.max(tr.r,Hn.r+ar)),ir.start<Hn.t?(or=(Hn.t-ir.start)/sr,tr.t=Math.min(tr.t,Hn.t-or)):ir.end>Hn.b&&(or=(ir.end-Hn.b)/sr,tr.b=Math.max(tr.b,Hn.b+or))}function createPointLabelItem(tr,Hn,er){const nr=tr.drawingArea,{extra:ir,additionalAngle:rr,padding:sr,size:ar}=er,or=tr.getPointPosition(Hn,nr+ir+sr,rr),lr=Math.round(toDegrees(_normalizeAngle(or.angle+HALF_PI))),cr=yForAngle(or.y,ar.h,lr),ur=getTextAlignForAngle(lr),dr=leftForTextAlign(or.x,ar.w,ur);return{visible:!0,x:or.x,y:cr,textAlign:ur,left:dr,top:cr,right:dr+ar.w,bottom:cr+ar.h}}function isNotOverlapped(tr,Hn){if(!Hn)return!0;const{left:er,top:nr,right:ir,bottom:rr}=tr;return!(_isPointInArea({x:er,y:nr},Hn)||_isPointInArea({x:er,y:rr},Hn)||_isPointInArea({x:ir,y:nr},Hn)||_isPointInArea({x:ir,y:rr},Hn))}function buildPointLabelItems(tr,Hn,er){const nr=[],ir=tr._pointLabels.length,rr=tr.options,{centerPointLabels:sr,display:ar}=rr.pointLabels,or={extra:getTickBackdropHeight(rr)/2,additionalAngle:sr?PI/ir:0};let lr;for(let cr=0;cr<ir;cr++){or.padding=er[cr],or.size=Hn[cr];const ur=createPointLabelItem(tr,cr,or);nr.push(ur),ar==="auto"&&(ur.visible=isNotOverlapped(ur,lr),ur.visible&&(lr=ur))}return nr}function getTextAlignForAngle(tr){return tr===0||tr===180?"center":tr<180?"left":"right"}function leftForTextAlign(tr,Hn,er){return er==="right"?tr-=Hn:er==="center"&&(tr-=Hn/2),tr}function yForAngle(tr,Hn,er){return er===90||er===270?tr-=Hn/2:(er>270||er<90)&&(tr-=Hn),tr}function drawPointLabelBox(tr,Hn,er){const{left:nr,top:ir,right:rr,bottom:sr}=er,{backdropColor:ar}=Hn;if(!isNullOrUndef(ar)){const or=toTRBLCorners(Hn.borderRadius),lr=toPadding(Hn.backdropPadding);tr.fillStyle=ar;const cr=nr-lr.left,ur=ir-lr.top,dr=rr-nr+lr.width,fr=sr-ir+lr.height;Object.values(or).some(xr=>xr!==0)?(tr.beginPath(),addRoundedRectPath(tr,{x:cr,y:ur,w:dr,h:fr,radius:or}),tr.fill()):tr.fillRect(cr,ur,dr,fr)}}function drawPointLabels(tr,Hn){const{ctx:er,options:{pointLabels:nr}}=tr;for(let ir=Hn-1;ir>=0;ir--){const rr=tr._pointLabelItems[ir];if(!rr.visible)continue;const sr=nr.setContext(tr.getPointLabelContext(ir));drawPointLabelBox(er,sr,rr);const ar=toFont(sr.font),{x:or,y:lr,textAlign:cr}=rr;renderText(er,tr._pointLabels[ir],or,lr+ar.lineHeight/2,ar,{color:sr.color,textAlign:cr,textBaseline:"middle"})}}function pathRadiusLine(tr,Hn,er,nr){const{ctx:ir}=tr;if(er)ir.arc(tr.xCenter,tr.yCenter,Hn,0,TAU);else{let rr=tr.getPointPosition(0,Hn);ir.moveTo(rr.x,rr.y);for(let sr=1;sr<nr;sr++)rr=tr.getPointPosition(sr,Hn),ir.lineTo(rr.x,rr.y)}}function drawRadiusLine(tr,Hn,er,nr,ir){const rr=tr.ctx,sr=Hn.circular,{color:ar,lineWidth:or}=Hn;!sr&&!nr||!ar||!or||er<0||(rr.save(),rr.strokeStyle=ar,rr.lineWidth=or,rr.setLineDash(ir.dash||[]),rr.lineDashOffset=ir.dashOffset,rr.beginPath(),pathRadiusLine(tr,er,sr,nr),rr.closePath(),rr.stroke(),rr.restore())}function createPointLabelContext(tr,Hn,er){return createContext(tr,{label:er,index:Hn,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks$1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(Hn){return Hn},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(Hn){super(Hn),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const Hn=this._padding=toPadding(getTickBackdropHeight(this.options)/2),er=this.width=this.maxWidth-Hn.width,nr=this.height=this.maxHeight-Hn.height;this.xCenter=Math.floor(this.left+er/2+Hn.left),this.yCenter=Math.floor(this.top+nr/2+Hn.top),this.drawingArea=Math.floor(Math.min(er,nr)/2)}determineDataLimits(){const{min:Hn,max:er}=this.getMinMax(!1);this.min=isNumberFinite(Hn)&&!isNaN(Hn)?Hn:0,this.max=isNumberFinite(er)&&!isNaN(er)?er:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(Hn){LinearScaleBase.prototype.generateTickLabels.call(this,Hn),this._pointLabels=this.getLabels().map((er,nr)=>{const ir=callback(this.options.pointLabels.callback,[er,nr],this);return ir||ir===0?ir:""}).filter((er,nr)=>this.chart.getDataVisibility(nr))}fit(){const Hn=this.options;Hn.display&&Hn.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(Hn,er,nr,ir){this.xCenter+=Math.floor((Hn-er)/2),this.yCenter+=Math.floor((nr-ir)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(Hn,er,nr,ir))}getIndexAngle(Hn){const er=TAU/(this._pointLabels.length||1),nr=this.options.startAngle||0;return _normalizeAngle(Hn*er+toRadians(nr))}getDistanceFromCenterForValue(Hn){if(isNullOrUndef(Hn))return NaN;const er=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-Hn)*er:(Hn-this.min)*er}getValueForDistanceFromCenter(Hn){if(isNullOrUndef(Hn))return NaN;const er=Hn/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-er:this.min+er}getPointLabelContext(Hn){const er=this._pointLabels||[];if(Hn>=0&&Hn<er.length){const nr=er[Hn];return createPointLabelContext(this.getContext(),Hn,nr)}}getPointPosition(Hn,er,nr=0){const ir=this.getIndexAngle(Hn)-HALF_PI+nr;return{x:Math.cos(ir)*er+this.xCenter,y:Math.sin(ir)*er+this.yCenter,angle:ir}}getPointPositionForValue(Hn,er){return this.getPointPosition(Hn,this.getDistanceFromCenterForValue(er))}getBasePosition(Hn){return this.getPointPositionForValue(Hn||0,this.getBaseValue())}getPointLabelPosition(Hn){const{left:er,top:nr,right:ir,bottom:rr}=this._pointLabelItems[Hn];return{left:er,top:nr,right:ir,bottom:rr}}drawBackground(){const{backgroundColor:Hn,grid:{circular:er}}=this.options;if(Hn){const nr=this.ctx;nr.save(),nr.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),er,this._pointLabels.length),nr.closePath(),nr.fillStyle=Hn,nr.fill(),nr.restore()}}drawGrid(){const Hn=this.ctx,er=this.options,{angleLines:nr,grid:ir,border:rr}=er,sr=this._pointLabels.length;let ar,or,lr;if(er.pointLabels.display&&drawPointLabels(this,sr),ir.display&&this.ticks.forEach((cr,ur)=>{if(ur!==0||ur===0&&this.min<0){or=this.getDistanceFromCenterForValue(cr.value);const dr=this.getContext(ur),fr=ir.setContext(dr),xr=rr.setContext(dr);drawRadiusLine(this,fr,or,sr,xr)}}),nr.display){for(Hn.save(),ar=sr-1;ar>=0;ar--){const cr=nr.setContext(this.getPointLabelContext(ar)),{color:ur,lineWidth:dr}=cr;!dr||!ur||(Hn.lineWidth=dr,Hn.strokeStyle=ur,Hn.setLineDash(cr.borderDash),Hn.lineDashOffset=cr.borderDashOffset,or=this.getDistanceFromCenterForValue(er.reverse?this.min:this.max),lr=this.getPointPosition(ar,or),Hn.beginPath(),Hn.moveTo(this.xCenter,this.yCenter),Hn.lineTo(lr.x,lr.y),Hn.stroke())}Hn.restore()}}drawBorder(){}drawLabels(){const Hn=this.ctx,er=this.options,nr=er.ticks;if(!nr.display)return;const ir=this.getIndexAngle(0);let rr,sr;Hn.save(),Hn.translate(this.xCenter,this.yCenter),Hn.rotate(ir),Hn.textAlign="center",Hn.textBaseline="middle",this.ticks.forEach((ar,or)=>{if(or===0&&this.min>=0&&!er.reverse)return;const lr=nr.setContext(this.getContext(or)),cr=toFont(lr.font);if(rr=this.getDistanceFromCenterForValue(this.ticks[or].value),lr.showLabelBackdrop){Hn.font=cr.string,sr=Hn.measureText(ar.label).width,Hn.fillStyle=lr.backdropColor;const ur=toPadding(lr.backdropPadding);Hn.fillRect(-sr/2-ur.left,-rr-cr.size/2-ur.top,sr+ur.width,cr.size+ur.height)}renderText(Hn,ar.label,0,-rr,cr,{color:lr.color,strokeColor:lr.textStrokeColor,strokeWidth:lr.textStrokeWidth})}),Hn.restore()}drawTitle(){}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(tr,Hn){return tr-Hn}function parse$1(tr,Hn){if(isNullOrUndef(Hn))return null;const er=tr._adapter,{parser:nr,round:ir,isoWeekday:rr}=tr._parseOpts;let sr=Hn;return typeof nr=="function"&&(sr=nr(sr)),isNumberFinite(sr)||(sr=typeof nr=="string"?er.parse(sr,nr):er.parse(sr)),sr===null?null:(ir&&(sr=ir==="week"&&(isNumber$2(rr)||rr===!0)?er.startOf(sr,"isoWeek",rr):er.startOf(sr,ir)),+sr)}function determineUnitForAutoTicks(tr,Hn,er,nr){const ir=UNITS.length;for(let rr=UNITS.indexOf(tr);rr<ir-1;++rr){const sr=INTERVALS[UNITS[rr]],ar=sr.steps?sr.steps:Number.MAX_SAFE_INTEGER;if(sr.common&&Math.ceil((er-Hn)/(ar*sr.size))<=nr)return UNITS[rr]}return UNITS[ir-1]}function determineUnitForFormatting(tr,Hn,er,nr,ir){for(let rr=UNITS.length-1;rr>=UNITS.indexOf(er);rr--){const sr=UNITS[rr];if(INTERVALS[sr].common&&tr._adapter.diff(ir,nr,sr)>=Hn-1)return sr}return UNITS[er?UNITS.indexOf(er):0]}function determineMajorUnit(tr){for(let Hn=UNITS.indexOf(tr)+1,er=UNITS.length;Hn<er;++Hn)if(INTERVALS[UNITS[Hn]].common)return UNITS[Hn]}function addTick(tr,Hn,er){if(!er)tr[Hn]=!0;else if(er.length){const{lo:nr,hi:ir}=_lookup(er,Hn),rr=er[nr]>=Hn?er[nr]:er[ir];tr[rr]=!0}}function setMajorTicks(tr,Hn,er,nr){const ir=tr._adapter,rr=+ir.startOf(Hn[0].value,nr),sr=Hn[Hn.length-1].value;let ar,or;for(ar=rr;ar<=sr;ar=+ir.add(ar,1,nr))or=er[ar],or>=0&&(Hn[or].major=!0);return Hn}function ticksFromTimestamps(tr,Hn,er){const nr=[],ir={},rr=Hn.length;let sr,ar;for(sr=0;sr<rr;++sr)ar=Hn[sr],ir[ar]=sr,nr.push({value:ar,major:!1});return rr===0||!er?nr:setMajorTicks(tr,nr,ir,er)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(Hn){super(Hn),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(Hn,er={}){const nr=Hn.time||(Hn.time={}),ir=this._adapter=new adapters$1._date(Hn.adapters.date);ir.init(er),mergeIf(nr.displayFormats,ir.formats()),this._parseOpts={parser:nr.parser,round:nr.round,isoWeekday:nr.isoWeekday},super.init(Hn),this._normalized=er.normalized}parse(Hn,er){return Hn===void 0?null:parse$1(this,Hn)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const Hn=this.options,er=this._adapter,nr=Hn.time.unit||"day";let{min:ir,max:rr,minDefined:sr,maxDefined:ar}=this.getUserBounds();function or(lr){!sr&&!isNaN(lr.min)&&(ir=Math.min(ir,lr.min)),!ar&&!isNaN(lr.max)&&(rr=Math.max(rr,lr.max))}(!sr||!ar)&&(or(this._getLabelBounds()),(Hn.bounds!=="ticks"||Hn.ticks.source!=="labels")&&or(this.getMinMax(!1))),ir=isNumberFinite(ir)&&!isNaN(ir)?ir:+er.startOf(Date.now(),nr),rr=isNumberFinite(rr)&&!isNaN(rr)?rr:+er.endOf(Date.now(),nr)+1,this.min=Math.min(ir,rr-1),this.max=Math.max(ir+1,rr)}_getLabelBounds(){const Hn=this.getLabelTimestamps();let er=Number.POSITIVE_INFINITY,nr=Number.NEGATIVE_INFINITY;return Hn.length&&(er=Hn[0],nr=Hn[Hn.length-1]),{min:er,max:nr}}buildTicks(){const Hn=this.options,er=Hn.time,nr=Hn.ticks,ir=nr.source==="labels"?this.getLabelTimestamps():this._generate();Hn.bounds==="ticks"&&ir.length&&(this.min=this._userMin||ir[0],this.max=this._userMax||ir[ir.length-1]);const rr=this.min,sr=this.max,ar=_filterBetween(ir,rr,sr);return this._unit=er.unit||(nr.autoSkip?determineUnitForAutoTicks(er.minUnit,this.min,this.max,this._getLabelCapacity(rr)):determineUnitForFormatting(this,ar.length,er.minUnit,this.min,this.max)),this._majorUnit=!nr.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(ir),Hn.reverse&&ar.reverse(),ticksFromTimestamps(this,ar,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(Hn=>+Hn.value))}initOffsets(Hn=[]){let er=0,nr=0,ir,rr;this.options.offset&&Hn.length&&(ir=this.getDecimalForValue(Hn[0]),Hn.length===1?er=1-ir:er=(this.getDecimalForValue(Hn[1])-ir)/2,rr=this.getDecimalForValue(Hn[Hn.length-1]),Hn.length===1?nr=rr:nr=(rr-this.getDecimalForValue(Hn[Hn.length-2]))/2);const sr=Hn.length<3?.5:.25;er=_limitValue(er,0,sr),nr=_limitValue(nr,0,sr),this._offsets={start:er,end:nr,factor:1/(er+1+nr)}}_generate(){const Hn=this._adapter,er=this.min,nr=this.max,ir=this.options,rr=ir.time,sr=rr.unit||determineUnitForAutoTicks(rr.minUnit,er,nr,this._getLabelCapacity(er)),ar=valueOrDefault(ir.ticks.stepSize,1),or=sr==="week"?rr.isoWeekday:!1,lr=isNumber$2(or)||or===!0,cr={};let ur=er,dr,fr;if(lr&&(ur=+Hn.startOf(ur,"isoWeek",or)),ur=+Hn.startOf(ur,lr?"day":sr),Hn.diff(nr,er,sr)>1e5*ar)throw new Error(er+" and "+nr+" are too far apart with stepSize of "+ar+" "+sr);const xr=ir.ticks.source==="data"&&this.getDataTimestamps();for(dr=ur,fr=0;dr<nr;dr=+Hn.add(dr,ar,sr),fr++)addTick(cr,dr,xr);return(dr===nr||ir.bounds==="ticks"||fr===1)&&addTick(cr,dr,xr),Object.keys(cr).sort(sorter).map(yr=>+yr)}getLabelForValue(Hn){const er=this._adapter,nr=this.options.time;return nr.tooltipFormat?er.format(Hn,nr.tooltipFormat):er.format(Hn,nr.displayFormats.datetime)}format(Hn,er){const ir=this.options.time.displayFormats,rr=this._unit,sr=er||ir[rr];return this._adapter.format(Hn,sr)}_tickFormatFunction(Hn,er,nr,ir){const rr=this.options,sr=rr.ticks.callback;if(sr)return callback(sr,[Hn,er,nr],this);const ar=rr.time.displayFormats,or=this._unit,lr=this._majorUnit,cr=or&&ar[or],ur=lr&&ar[lr],dr=nr[er],fr=lr&&ur&&dr&&dr.major;return this._adapter.format(Hn,ir||(fr?ur:cr))}generateTickLabels(Hn){let er,nr,ir;for(er=0,nr=Hn.length;er<nr;++er)ir=Hn[er],ir.label=this._tickFormatFunction(ir.value,er,Hn)}getDecimalForValue(Hn){return Hn===null?NaN:(Hn-this.min)/(this.max-this.min)}getPixelForValue(Hn){const er=this._offsets,nr=this.getDecimalForValue(Hn);return this.getPixelForDecimal((er.start+nr)*er.factor)}getValueForPixel(Hn){const er=this._offsets,nr=this.getDecimalForPixel(Hn)/er.factor-er.end;return this.min+nr*(this.max-this.min)}_getLabelSize(Hn){const er=this.options.ticks,nr=this.ctx.measureText(Hn).width,ir=toRadians(this.isHorizontal()?er.maxRotation:er.minRotation),rr=Math.cos(ir),sr=Math.sin(ir),ar=this._resolveTickFontOptions(0).size;return{w:nr*rr+ar*sr,h:nr*sr+ar*rr}}_getLabelCapacity(Hn){const er=this.options.time,nr=er.displayFormats,ir=nr[er.unit]||nr.millisecond,rr=this._tickFormatFunction(Hn,0,ticksFromTimestamps(this,[Hn],this._majorUnit),ir),sr=this._getLabelSize(rr),ar=Math.floor(this.isHorizontal()?this.width/sr.w:this.height/sr.h)-1;return ar>0?ar:1}getDataTimestamps(){let Hn=this._cache.data||[],er,nr;if(Hn.length)return Hn;const ir=this.getMatchingVisibleMetas();if(this._normalized&&ir.length)return this._cache.data=ir[0].controller.getAllParsedValues(this);for(er=0,nr=ir.length;er<nr;++er)Hn=Hn.concat(ir[er].controller.getAllParsedValues(this));return this._cache.data=this.normalize(Hn)}getLabelTimestamps(){const Hn=this._cache.labels||[];let er,nr;if(Hn.length)return Hn;const ir=this.getLabels();for(er=0,nr=ir.length;er<nr;++er)Hn.push(parse$1(this,ir[er]));return this._cache.labels=this._normalized?Hn:this.normalize(Hn)}normalize(Hn){return _arrayUnique(Hn.sort(sorter))}}function interpolate$2(tr,Hn,er){let nr=0,ir=tr.length-1,rr,sr,ar,or;er?(Hn>=tr[nr].pos&&Hn<=tr[ir].pos&&({lo:nr,hi:ir}=_lookupByKey(tr,"pos",Hn)),{pos:rr,time:ar}=tr[nr],{pos:sr,time:or}=tr[ir]):(Hn>=tr[nr].time&&Hn<=tr[ir].time&&({lo:nr,hi:ir}=_lookupByKey(tr,"time",Hn)),{time:rr,pos:ar}=tr[nr],{time:sr,pos:or}=tr[ir]);const lr=sr-rr;return lr?ar+(or-ar)*(Hn-rr)/lr:ar}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(Hn){super(Hn),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const Hn=this._getTimestampsForTable(),er=this._table=this.buildLookupTable(Hn);this._minPos=interpolate$2(er,this.min),this._tableRange=interpolate$2(er,this.max)-this._minPos,super.initOffsets(Hn)}buildLookupTable(Hn){const{min:er,max:nr}=this,ir=[],rr=[];let sr,ar,or,lr,cr;for(sr=0,ar=Hn.length;sr<ar;++sr)lr=Hn[sr],lr>=er&&lr<=nr&&ir.push(lr);if(ir.length<2)return[{time:er,pos:0},{time:nr,pos:1}];for(sr=0,ar=ir.length;sr<ar;++sr)cr=ir[sr+1],or=ir[sr-1],lr=ir[sr],Math.round((cr+or)/2)!==lr&&rr.push({time:lr,pos:sr/(ar-1)});return rr}_generate(){const Hn=this.min,er=this.max;let nr=super.getDataTimestamps();return(!nr.includes(Hn)||!nr.length)&&nr.splice(0,0,Hn),(!nr.includes(er)||nr.length===1)&&nr.push(er),nr.sort((ir,rr)=>ir-rr)}_getTimestampsForTable(){let Hn=this._cache.all||[];if(Hn.length)return Hn;const er=this.getDataTimestamps(),nr=this.getLabelTimestamps();return er.length&&nr.length?Hn=this.normalize(er.concat(nr)):Hn=er.length?er:nr,Hn=this._cache.all=Hn,Hn}getDecimalForValue(Hn){return(interpolate$2(this._table,Hn)-this._minPos)/this._tableRange}getValueForPixel(Hn){const er=this._offsets,nr=this.getDecimalForPixel(Hn)/er.factor-er.end;return interpolate$2(this._table,nr*this._tableRange+this._minPos,!0)}}var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins$1,scales],defaultDatasetIdKey="label";function reforwardRef(tr,Hn){typeof tr=="function"?tr(Hn):tr&&(tr.current=Hn)}function setOptions(tr,Hn){const er=tr.options;er&&Hn&&Object.assign(er,Hn)}function setLabels(tr,Hn){tr.labels=Hn}function setDatasets(tr,Hn,er=defaultDatasetIdKey){const nr=[];tr.datasets=Hn.map(ir=>{const rr=tr.datasets.find(sr=>sr[er]===ir[er]);return!rr||!ir.data||nr.includes(rr)?{...ir}:(nr.push(rr),Object.assign(rr,ir),rr)})}function cloneData(tr,Hn=defaultDatasetIdKey){const er={labels:[],datasets:[]};return setLabels(er,tr.labels),setDatasets(er,tr.datasets,Hn),er}function getElementAtEvent(tr,Hn){return tr.getElementsAtEventForMode(Hn.nativeEvent,"nearest",{intersect:!0},!1)}function ChartComponent(tr,Hn){const{height:er=150,width:nr=300,redraw:ir=!1,datasetIdKey:rr,type:sr,data:ar,options:or,plugins:lr=[],fallbackContent:cr,updateMode:ur,...dr}=tr,fr=reactExports.useRef(null),xr=reactExports.useRef(null),yr=()=>{fr.current&&(xr.current=new Chart$1(fr.current,{type:sr,data:cloneData(ar,rr),options:or&&{...or},plugins:lr}),reforwardRef(Hn,xr.current))},_r=()=>{reforwardRef(Hn,null),xr.current&&(xr.current.destroy(),xr.current=null)};return reactExports.useEffect(()=>{!ir&&xr.current&&or&&setOptions(xr.current,or)},[ir,or]),reactExports.useEffect(()=>{!ir&&xr.current&&setLabels(xr.current.config.data,ar.labels)},[ir,ar.labels]),reactExports.useEffect(()=>{!ir&&xr.current&&ar.datasets&&setDatasets(xr.current.config.data,ar.datasets,rr)},[ir,ar.datasets]),reactExports.useEffect(()=>{xr.current&&(ir?(_r(),setTimeout(yr)):xr.current.update(ur))},[ir,or,ar.labels,ar.datasets,ur]),reactExports.useEffect(()=>{xr.current&&(_r(),setTimeout(yr))},[sr]),reactExports.useEffect(()=>(yr(),()=>_r()),[]),jsxRuntimeExports.jsx("canvas",{ref:fr,role:"img",height:er,width:nr,...dr,children:cr})}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(tr,Hn){return Chart$1.register(Hn),reactExports.forwardRef((er,nr)=>jsxRuntimeExports.jsx(Chart,{...er,ref:nr,type:tr}))}const Line=createTypedChart("line",LineController),Bar$1=createTypedChart("bar",BarController),millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(tr,Hn){return typeof tr=="function"?tr(Hn):tr&&typeof tr=="object"&&constructFromSymbol in tr?tr[constructFromSymbol](Hn):tr instanceof Date?new tr.constructor(Hn):new Date(Hn)}function toDate$1(tr,Hn){return constructFrom(Hn||tr,tr)}function addDays(tr,Hn,er){const nr=toDate$1(tr,er?.in);return isNaN(Hn)?constructFrom(er?.in||tr,NaN):(Hn&&nr.setDate(nr.getDate()+Hn),nr)}function addMonths(tr,Hn,er){const nr=toDate$1(tr,er?.in);if(isNaN(Hn))return constructFrom(tr,NaN);if(!Hn)return nr;const ir=nr.getDate(),rr=constructFrom(tr,nr.getTime());rr.setMonth(nr.getMonth()+Hn+1,0);const sr=rr.getDate();return ir>=sr?rr:(nr.setFullYear(rr.getFullYear(),rr.getMonth(),ir),nr)}function addMilliseconds(tr,Hn,er){return constructFrom(tr,+toDate$1(tr)+Hn)}function addHours(tr,Hn,er){return addMilliseconds(tr,Hn*millisecondsInHour)}let defaultOptions={};function getDefaultOptions$1(){return defaultOptions}function startOfWeek(tr,Hn){const er=getDefaultOptions$1(),nr=Hn?.weekStartsOn??Hn?.locale?.options?.weekStartsOn??er.weekStartsOn??er.locale?.options?.weekStartsOn??0,ir=toDate$1(tr,Hn?.in),rr=ir.getDay(),sr=(rr<nr?7:0)+rr-nr;return ir.setDate(ir.getDate()-sr),ir.setHours(0,0,0,0),ir}function startOfISOWeek(tr,Hn){return startOfWeek(tr,{...Hn,weekStartsOn:1})}function getISOWeekYear(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getFullYear(),ir=constructFrom(er,0);ir.setFullYear(nr+1,0,4),ir.setHours(0,0,0,0);const rr=startOfISOWeek(ir),sr=constructFrom(er,0);sr.setFullYear(nr,0,4),sr.setHours(0,0,0,0);const ar=startOfISOWeek(sr);return er.getTime()>=rr.getTime()?nr+1:er.getTime()>=ar.getTime()?nr:nr-1}function getTimezoneOffsetInMilliseconds(tr){const Hn=toDate$1(tr),er=new Date(Date.UTC(Hn.getFullYear(),Hn.getMonth(),Hn.getDate(),Hn.getHours(),Hn.getMinutes(),Hn.getSeconds(),Hn.getMilliseconds()));return er.setUTCFullYear(Hn.getFullYear()),+tr-+er}function normalizeDates(tr,...Hn){const er=constructFrom.bind(null,Hn.find(nr=>typeof nr=="object"));return Hn.map(er)}function startOfDay(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setHours(0,0,0,0),er}function differenceInCalendarDays(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=startOfDay(nr),sr=startOfDay(ir),ar=+rr-getTimezoneOffsetInMilliseconds(rr),or=+sr-getTimezoneOffsetInMilliseconds(sr);return Math.round((ar-or)/millisecondsInDay)}function startOfISOWeekYear(tr,Hn){const er=getISOWeekYear(tr,Hn),nr=constructFrom(tr,0);return nr.setFullYear(er,0,4),nr.setHours(0,0,0,0),startOfISOWeek(nr)}function addMinutes(tr,Hn,er){const nr=toDate$1(tr,er?.in);return nr.setTime(nr.getTime()+Hn*millisecondsInMinute),nr}function addQuarters(tr,Hn,er){return addMonths(tr,Hn*3,er)}function addSeconds(tr,Hn,er){return addMilliseconds(tr,Hn*1e3)}function addWeeks(tr,Hn,er){return addDays(tr,Hn*7,er)}function addYears(tr,Hn,er){return addMonths(tr,Hn*12,er)}function compareAsc(tr,Hn){const er=+toDate$1(tr)-+toDate$1(Hn);return er<0?-1:er>0?1:er}function isDate$1(tr){return tr instanceof Date||typeof tr=="object"&&Object.prototype.toString.call(tr)==="[object Date]"}function isValid(tr){return!(!isDate$1(tr)&&typeof tr!="number"||isNaN(+toDate$1(tr)))}function differenceInCalendarMonths(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=nr.getFullYear()-ir.getFullYear(),sr=nr.getMonth()-ir.getMonth();return rr*12+sr}function differenceInCalendarYears(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn);return nr.getFullYear()-ir.getFullYear()}function differenceInDays(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=compareLocalAsc(nr,ir),sr=Math.abs(differenceInCalendarDays(nr,ir));nr.setDate(nr.getDate()-rr*sr);const ar=+(compareLocalAsc(nr,ir)===-rr),or=rr*(sr-ar);return or===0?0:or}function compareLocalAsc(tr,Hn){const er=tr.getFullYear()-Hn.getFullYear()||tr.getMonth()-Hn.getMonth()||tr.getDate()-Hn.getDate()||tr.getHours()-Hn.getHours()||tr.getMinutes()-Hn.getMinutes()||tr.getSeconds()-Hn.getSeconds()||tr.getMilliseconds()-Hn.getMilliseconds();return er<0?-1:er>0?1:er}function getRoundingMethod(tr){return Hn=>{const nr=(tr?Math[tr]:Math.trunc)(Hn);return nr===0?0:nr}}function differenceInHours(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=(+nr-+ir)/millisecondsInHour;return getRoundingMethod(er?.roundingMethod)(rr)}function differenceInMilliseconds(tr,Hn){return+toDate$1(tr)-+toDate$1(Hn)}function differenceInMinutes(tr,Hn,er){const nr=differenceInMilliseconds(tr,Hn)/millisecondsInMinute;return getRoundingMethod(er?.roundingMethod)(nr)}function endOfDay(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setHours(23,59,59,999),er}function endOfMonth(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getMonth();return er.setFullYear(er.getFullYear(),nr+1,0),er.setHours(23,59,59,999),er}function isLastDayOfMonth(tr,Hn){const er=toDate$1(tr,Hn?.in);return+endOfDay(er,Hn)==+endOfMonth(er,Hn)}function differenceInMonths(tr,Hn,er){const[nr,ir,rr]=normalizeDates(er?.in,tr,tr,Hn),sr=compareAsc(ir,rr),ar=Math.abs(differenceInCalendarMonths(ir,rr));if(ar<1)return 0;ir.getMonth()===1&&ir.getDate()>27&&ir.setDate(30),ir.setMonth(ir.getMonth()-sr*ar);let or=compareAsc(ir,rr)===-sr;isLastDayOfMonth(nr)&&ar===1&&compareAsc(nr,rr)===1&&(or=!1);const lr=sr*(ar-+or);return lr===0?0:lr}function differenceInQuarters(tr,Hn,er){const nr=differenceInMonths(tr,Hn,er)/3;return getRoundingMethod(er?.roundingMethod)(nr)}function differenceInSeconds(tr,Hn,er){const nr=differenceInMilliseconds(tr,Hn)/1e3;return getRoundingMethod(er?.roundingMethod)(nr)}function differenceInWeeks(tr,Hn,er){const nr=differenceInDays(tr,Hn,er)/7;return getRoundingMethod(er?.roundingMethod)(nr)}function differenceInYears(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=compareAsc(nr,ir),sr=Math.abs(differenceInCalendarYears(nr,ir));nr.setFullYear(1584),ir.setFullYear(1584);const ar=compareAsc(nr,ir)===-rr,or=rr*(sr-+ar);return or===0?0:or}function startOfQuarter(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getMonth(),ir=nr-nr%3;return er.setMonth(ir,1),er.setHours(0,0,0,0),er}function startOfMonth(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setDate(1),er.setHours(0,0,0,0),er}function endOfYear(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getFullYear();return er.setFullYear(nr+1,0,0),er.setHours(23,59,59,999),er}function startOfYear(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setFullYear(er.getFullYear(),0,1),er.setHours(0,0,0,0),er}function endOfHour(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMinutes(59,59,999),er}function endOfWeek(tr,Hn){const er=getDefaultOptions$1(),nr=er.weekStartsOn??er.locale?.options?.weekStartsOn??0,ir=toDate$1(tr,Hn?.in),rr=ir.getDay(),sr=(rr<nr?-7:0)+6-(rr-nr);return ir.setDate(ir.getDate()+sr),ir.setHours(23,59,59,999),ir}function endOfMinute(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setSeconds(59,999),er}function endOfQuarter(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getMonth(),ir=nr-nr%3+3;return er.setMonth(ir,0),er.setHours(23,59,59,999),er}function endOfSecond(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMilliseconds(999),er}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(tr,Hn,er)=>{let nr;const ir=formatDistanceLocale$1[tr];return typeof ir=="string"?nr=ir:Hn===1?nr=ir.one:nr=ir.other.replace("{{count}}",Hn.toString()),er?.addSuffix?er.comparison&&er.comparison>0?"in "+nr:nr+" ago":nr};function buildFormatLongFn(tr){return(Hn={})=>{const er=Hn.width?String(Hn.width):tr.defaultWidth;return tr.formats[er]||tr.formats[tr.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(tr,Hn,er,nr)=>formatRelativeLocale$1[tr];function buildLocalizeFn(tr){return(Hn,er)=>{const nr=er?.context?String(er.context):"standalone";let ir;if(nr==="formatting"&&tr.formattingValues){const sr=tr.defaultFormattingWidth||tr.defaultWidth,ar=er?.width?String(er.width):sr;ir=tr.formattingValues[ar]||tr.formattingValues[sr]}else{const sr=tr.defaultWidth,ar=er?.width?String(er.width):tr.defaultWidth;ir=tr.values[ar]||tr.values[sr]}const rr=tr.argumentCallback?tr.argumentCallback(Hn):Hn;return ir[rr]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(tr,Hn)=>{const er=Number(tr),nr=er%100;if(nr>20||nr<10)switch(nr%10){case 1:return er+"st";case 2:return er+"nd";case 3:return er+"rd"}return er+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:tr=>tr-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(tr){return(Hn,er={})=>{const nr=er.width,ir=nr&&tr.matchPatterns[nr]||tr.matchPatterns[tr.defaultMatchWidth],rr=Hn.match(ir);if(!rr)return null;const sr=rr[0],ar=nr&&tr.parsePatterns[nr]||tr.parsePatterns[tr.defaultParseWidth],or=Array.isArray(ar)?findIndex(ar,ur=>ur.test(sr)):findKey$1(ar,ur=>ur.test(sr));let lr;lr=tr.valueCallback?tr.valueCallback(or):or,lr=er.valueCallback?er.valueCallback(lr):lr;const cr=Hn.slice(sr.length);return{value:lr,rest:cr}}}function findKey$1(tr,Hn){for(const er in tr)if(Object.prototype.hasOwnProperty.call(tr,er)&&Hn(tr[er]))return er}function findIndex(tr,Hn){for(let er=0;er<tr.length;er++)if(Hn(tr[er]))return er}function buildMatchPatternFn(tr){return(Hn,er={})=>{const nr=Hn.match(tr.matchPattern);if(!nr)return null;const ir=nr[0],rr=Hn.match(tr.parsePattern);if(!rr)return null;let sr=tr.valueCallback?tr.valueCallback(rr[0]):rr[0];sr=er.valueCallback?er.valueCallback(sr):sr;const ar=Hn.slice(ir.length);return{value:sr,rest:ar}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:tr=>parseInt(tr,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:tr=>tr+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(tr,Hn){const er=toDate$1(tr,Hn?.in);return differenceInCalendarDays(er,startOfYear(er))+1}function getISOWeek(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=+startOfISOWeek(er)-+startOfISOWeekYear(er);return Math.round(nr/millisecondsInWeek)+1}function getWeekYear(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getFullYear(),ir=getDefaultOptions$1(),rr=Hn?.firstWeekContainsDate??Hn?.locale?.options?.firstWeekContainsDate??ir.firstWeekContainsDate??ir.locale?.options?.firstWeekContainsDate??1,sr=constructFrom(Hn?.in||tr,0);sr.setFullYear(nr+1,0,rr),sr.setHours(0,0,0,0);const ar=startOfWeek(sr,Hn),or=constructFrom(Hn?.in||tr,0);or.setFullYear(nr,0,rr),or.setHours(0,0,0,0);const lr=startOfWeek(or,Hn);return+er>=+ar?nr+1:+er>=+lr?nr:nr-1}function startOfWeekYear(tr,Hn){const er=getDefaultOptions$1(),nr=Hn?.firstWeekContainsDate??Hn?.locale?.options?.firstWeekContainsDate??er.firstWeekContainsDate??er.locale?.options?.firstWeekContainsDate??1,ir=getWeekYear(tr,Hn),rr=constructFrom(Hn?.in||tr,0);return rr.setFullYear(ir,0,nr),rr.setHours(0,0,0,0),startOfWeek(rr,Hn)}function getWeek(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=+startOfWeek(er,Hn)-+startOfWeekYear(er,Hn);return Math.round(nr/millisecondsInWeek)+1}function addLeadingZeros(tr,Hn){const er=tr<0?"-":"",nr=Math.abs(tr).toString().padStart(Hn,"0");return er+nr}const lightFormatters={y(tr,Hn){const er=tr.getFullYear(),nr=er>0?er:1-er;return addLeadingZeros(Hn==="yy"?nr%100:nr,Hn.length)},M(tr,Hn){const er=tr.getMonth();return Hn==="M"?String(er+1):addLeadingZeros(er+1,2)},d(tr,Hn){return addLeadingZeros(tr.getDate(),Hn.length)},a(tr,Hn){const er=tr.getHours()/12>=1?"pm":"am";switch(Hn){case"a":case"aa":return er.toUpperCase();case"aaa":return er;case"aaaaa":return er[0];case"aaaa":default:return er==="am"?"a.m.":"p.m."}},h(tr,Hn){return addLeadingZeros(tr.getHours()%12||12,Hn.length)},H(tr,Hn){return addLeadingZeros(tr.getHours(),Hn.length)},m(tr,Hn){return addLeadingZeros(tr.getMinutes(),Hn.length)},s(tr,Hn){return addLeadingZeros(tr.getSeconds(),Hn.length)},S(tr,Hn){const er=Hn.length,nr=tr.getMilliseconds(),ir=Math.trunc(nr*Math.pow(10,er-3));return addLeadingZeros(ir,Hn.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(tr,Hn,er){const nr=tr.getFullYear()>0?1:0;switch(Hn){case"G":case"GG":case"GGG":return er.era(nr,{width:"abbreviated"});case"GGGGG":return er.era(nr,{width:"narrow"});case"GGGG":default:return er.era(nr,{width:"wide"})}},y:function(tr,Hn,er){if(Hn==="yo"){const nr=tr.getFullYear(),ir=nr>0?nr:1-nr;return er.ordinalNumber(ir,{unit:"year"})}return lightFormatters.y(tr,Hn)},Y:function(tr,Hn,er,nr){const ir=getWeekYear(tr,nr),rr=ir>0?ir:1-ir;if(Hn==="YY"){const sr=rr%100;return addLeadingZeros(sr,2)}return Hn==="Yo"?er.ordinalNumber(rr,{unit:"year"}):addLeadingZeros(rr,Hn.length)},R:function(tr,Hn){const er=getISOWeekYear(tr);return addLeadingZeros(er,Hn.length)},u:function(tr,Hn){const er=tr.getFullYear();return addLeadingZeros(er,Hn.length)},Q:function(tr,Hn,er){const nr=Math.ceil((tr.getMonth()+1)/3);switch(Hn){case"Q":return String(nr);case"QQ":return addLeadingZeros(nr,2);case"Qo":return er.ordinalNumber(nr,{unit:"quarter"});case"QQQ":return er.quarter(nr,{width:"abbreviated",context:"formatting"});case"QQQQQ":return er.quarter(nr,{width:"narrow",context:"formatting"});case"QQQQ":default:return er.quarter(nr,{width:"wide",context:"formatting"})}},q:function(tr,Hn,er){const nr=Math.ceil((tr.getMonth()+1)/3);switch(Hn){case"q":return String(nr);case"qq":return addLeadingZeros(nr,2);case"qo":return er.ordinalNumber(nr,{unit:"quarter"});case"qqq":return er.quarter(nr,{width:"abbreviated",context:"standalone"});case"qqqqq":return er.quarter(nr,{width:"narrow",context:"standalone"});case"qqqq":default:return er.quarter(nr,{width:"wide",context:"standalone"})}},M:function(tr,Hn,er){const nr=tr.getMonth();switch(Hn){case"M":case"MM":return lightFormatters.M(tr,Hn);case"Mo":return er.ordinalNumber(nr+1,{unit:"month"});case"MMM":return er.month(nr,{width:"abbreviated",context:"formatting"});case"MMMMM":return er.month(nr,{width:"narrow",context:"formatting"});case"MMMM":default:return er.month(nr,{width:"wide",context:"formatting"})}},L:function(tr,Hn,er){const nr=tr.getMonth();switch(Hn){case"L":return String(nr+1);case"LL":return addLeadingZeros(nr+1,2);case"Lo":return er.ordinalNumber(nr+1,{unit:"month"});case"LLL":return er.month(nr,{width:"abbreviated",context:"standalone"});case"LLLLL":return er.month(nr,{width:"narrow",context:"standalone"});case"LLLL":default:return er.month(nr,{width:"wide",context:"standalone"})}},w:function(tr,Hn,er,nr){const ir=getWeek(tr,nr);return Hn==="wo"?er.ordinalNumber(ir,{unit:"week"}):addLeadingZeros(ir,Hn.length)},I:function(tr,Hn,er){const nr=getISOWeek(tr);return Hn==="Io"?er.ordinalNumber(nr,{unit:"week"}):addLeadingZeros(nr,Hn.length)},d:function(tr,Hn,er){return Hn==="do"?er.ordinalNumber(tr.getDate(),{unit:"date"}):lightFormatters.d(tr,Hn)},D:function(tr,Hn,er){const nr=getDayOfYear(tr);return Hn==="Do"?er.ordinalNumber(nr,{unit:"dayOfYear"}):addLeadingZeros(nr,Hn.length)},E:function(tr,Hn,er){const nr=tr.getDay();switch(Hn){case"E":case"EE":case"EEE":return er.day(nr,{width:"abbreviated",context:"formatting"});case"EEEEE":return er.day(nr,{width:"narrow",context:"formatting"});case"EEEEEE":return er.day(nr,{width:"short",context:"formatting"});case"EEEE":default:return er.day(nr,{width:"wide",context:"formatting"})}},e:function(tr,Hn,er,nr){const ir=tr.getDay(),rr=(ir-nr.weekStartsOn+8)%7||7;switch(Hn){case"e":return String(rr);case"ee":return addLeadingZeros(rr,2);case"eo":return er.ordinalNumber(rr,{unit:"day"});case"eee":return er.day(ir,{width:"abbreviated",context:"formatting"});case"eeeee":return er.day(ir,{width:"narrow",context:"formatting"});case"eeeeee":return er.day(ir,{width:"short",context:"formatting"});case"eeee":default:return er.day(ir,{width:"wide",context:"formatting"})}},c:function(tr,Hn,er,nr){const ir=tr.getDay(),rr=(ir-nr.weekStartsOn+8)%7||7;switch(Hn){case"c":return String(rr);case"cc":return addLeadingZeros(rr,Hn.length);case"co":return er.ordinalNumber(rr,{unit:"day"});case"ccc":return er.day(ir,{width:"abbreviated",context:"standalone"});case"ccccc":return er.day(ir,{width:"narrow",context:"standalone"});case"cccccc":return er.day(ir,{width:"short",context:"standalone"});case"cccc":default:return er.day(ir,{width:"wide",context:"standalone"})}},i:function(tr,Hn,er){const nr=tr.getDay(),ir=nr===0?7:nr;switch(Hn){case"i":return String(ir);case"ii":return addLeadingZeros(ir,Hn.length);case"io":return er.ordinalNumber(ir,{unit:"day"});case"iii":return er.day(nr,{width:"abbreviated",context:"formatting"});case"iiiii":return er.day(nr,{width:"narrow",context:"formatting"});case"iiiiii":return er.day(nr,{width:"short",context:"formatting"});case"iiii":default:return er.day(nr,{width:"wide",context:"formatting"})}},a:function(tr,Hn,er){const ir=tr.getHours()/12>=1?"pm":"am";switch(Hn){case"a":case"aa":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"});case"aaa":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return er.dayPeriod(ir,{width:"narrow",context:"formatting"});case"aaaa":default:return er.dayPeriod(ir,{width:"wide",context:"formatting"})}},b:function(tr,Hn,er){const nr=tr.getHours();let ir;switch(nr===12?ir=dayPeriodEnum.noon:nr===0?ir=dayPeriodEnum.midnight:ir=nr/12>=1?"pm":"am",Hn){case"b":case"bb":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"});case"bbb":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return er.dayPeriod(ir,{width:"narrow",context:"formatting"});case"bbbb":default:return er.dayPeriod(ir,{width:"wide",context:"formatting"})}},B:function(tr,Hn,er){const nr=tr.getHours();let ir;switch(nr>=17?ir=dayPeriodEnum.evening:nr>=12?ir=dayPeriodEnum.afternoon:nr>=4?ir=dayPeriodEnum.morning:ir=dayPeriodEnum.night,Hn){case"B":case"BB":case"BBB":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"});case"BBBBB":return er.dayPeriod(ir,{width:"narrow",context:"formatting"});case"BBBB":default:return er.dayPeriod(ir,{width:"wide",context:"formatting"})}},h:function(tr,Hn,er){if(Hn==="ho"){let nr=tr.getHours()%12;return nr===0&&(nr=12),er.ordinalNumber(nr,{unit:"hour"})}return lightFormatters.h(tr,Hn)},H:function(tr,Hn,er){return Hn==="Ho"?er.ordinalNumber(tr.getHours(),{unit:"hour"}):lightFormatters.H(tr,Hn)},K:function(tr,Hn,er){const nr=tr.getHours()%12;return Hn==="Ko"?er.ordinalNumber(nr,{unit:"hour"}):addLeadingZeros(nr,Hn.length)},k:function(tr,Hn,er){let nr=tr.getHours();return nr===0&&(nr=24),Hn==="ko"?er.ordinalNumber(nr,{unit:"hour"}):addLeadingZeros(nr,Hn.length)},m:function(tr,Hn,er){return Hn==="mo"?er.ordinalNumber(tr.getMinutes(),{unit:"minute"}):lightFormatters.m(tr,Hn)},s:function(tr,Hn,er){return Hn==="so"?er.ordinalNumber(tr.getSeconds(),{unit:"second"}):lightFormatters.s(tr,Hn)},S:function(tr,Hn){return lightFormatters.S(tr,Hn)},X:function(tr,Hn,er){const nr=tr.getTimezoneOffset();if(nr===0)return"Z";switch(Hn){case"X":return formatTimezoneWithOptionalMinutes(nr);case"XXXX":case"XX":return formatTimezone(nr);case"XXXXX":case"XXX":default:return formatTimezone(nr,":")}},x:function(tr,Hn,er){const nr=tr.getTimezoneOffset();switch(Hn){case"x":return formatTimezoneWithOptionalMinutes(nr);case"xxxx":case"xx":return formatTimezone(nr);case"xxxxx":case"xxx":default:return formatTimezone(nr,":")}},O:function(tr,Hn,er){const nr=tr.getTimezoneOffset();switch(Hn){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(nr,":");case"OOOO":default:return"GMT"+formatTimezone(nr,":")}},z:function(tr,Hn,er){const nr=tr.getTimezoneOffset();switch(Hn){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(nr,":");case"zzzz":default:return"GMT"+formatTimezone(nr,":")}},t:function(tr,Hn,er){const nr=Math.trunc(+tr/1e3);return addLeadingZeros(nr,Hn.length)},T:function(tr,Hn,er){return addLeadingZeros(+tr,Hn.length)}};function formatTimezoneShort(tr,Hn=""){const er=tr>0?"-":"+",nr=Math.abs(tr),ir=Math.trunc(nr/60),rr=nr%60;return rr===0?er+String(ir):er+String(ir)+Hn+addLeadingZeros(rr,2)}function formatTimezoneWithOptionalMinutes(tr,Hn){return tr%60===0?(tr>0?"-":"+")+addLeadingZeros(Math.abs(tr)/60,2):formatTimezone(tr,Hn)}function formatTimezone(tr,Hn=""){const er=tr>0?"-":"+",nr=Math.abs(tr),ir=addLeadingZeros(Math.trunc(nr/60),2),rr=addLeadingZeros(nr%60,2);return er+ir+Hn+rr}const dateLongFormatter=(tr,Hn)=>{switch(tr){case"P":return Hn.date({width:"short"});case"PP":return Hn.date({width:"medium"});case"PPP":return Hn.date({width:"long"});case"PPPP":default:return Hn.date({width:"full"})}},timeLongFormatter=(tr,Hn)=>{switch(tr){case"p":return Hn.time({width:"short"});case"pp":return Hn.time({width:"medium"});case"ppp":return Hn.time({width:"long"});case"pppp":default:return Hn.time({width:"full"})}},dateTimeLongFormatter=(tr,Hn)=>{const er=tr.match(/(P+)(p+)?/)||[],nr=er[1],ir=er[2];if(!ir)return dateLongFormatter(tr,Hn);let rr;switch(nr){case"P":rr=Hn.dateTime({width:"short"});break;case"PP":rr=Hn.dateTime({width:"medium"});break;case"PPP":rr=Hn.dateTime({width:"long"});break;case"PPPP":default:rr=Hn.dateTime({width:"full"});break}return rr.replace("{{date}}",dateLongFormatter(nr,Hn)).replace("{{time}}",timeLongFormatter(ir,Hn))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(tr){return dayOfYearTokenRE.test(tr)}function isProtectedWeekYearToken(tr){return weekYearTokenRE.test(tr)}function warnOrThrowProtectedError(tr,Hn,er){const nr=message$1(tr,Hn,er);if(console.warn(nr),throwTokens.includes(tr))throw new RangeError(nr)}function message$1(tr,Hn,er){const nr=tr[0]==="Y"?"years":"days of the month";return`Use \`${tr.toLowerCase()}\` instead of \`${tr}\` (in \`${Hn}\`) for formatting ${nr} to the input \`${er}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format$1(tr,Hn,er){const nr=getDefaultOptions$1(),ir=er?.locale??nr.locale??enUS,rr=er?.firstWeekContainsDate??er?.locale?.options?.firstWeekContainsDate??nr.firstWeekContainsDate??nr.locale?.options?.firstWeekContainsDate??1,sr=er?.weekStartsOn??er?.locale?.options?.weekStartsOn??nr.weekStartsOn??nr.locale?.options?.weekStartsOn??0,ar=toDate$1(tr,er?.in);if(!isValid(ar))throw new RangeError("Invalid time value");let or=Hn.match(longFormattingTokensRegExp$1).map(cr=>{const ur=cr[0];if(ur==="p"||ur==="P"){const dr=longFormatters[ur];return dr(cr,ir.formatLong)}return cr}).join("").match(formattingTokensRegExp$1).map(cr=>{if(cr==="''")return{isToken:!1,value:"'"};const ur=cr[0];if(ur==="'")return{isToken:!1,value:cleanEscapedString$1(cr)};if(formatters[ur])return{isToken:!0,value:cr};if(ur.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ur+"`");return{isToken:!1,value:cr}});ir.localize.preprocessor&&(or=ir.localize.preprocessor(ar,or));const lr={firstWeekContainsDate:rr,weekStartsOn:sr,locale:ir};return or.map(cr=>{if(!cr.isToken)return cr.value;const ur=cr.value;(!er?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(ur)||!er?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(ur))&&warnOrThrowProtectedError(ur,Hn,String(tr));const dr=formatters[ur[0]];return dr(ar,ur,ir.localize,lr)}).join("")}function cleanEscapedString$1(tr){const Hn=tr.match(escapedStringRegExp$1);return Hn?Hn[1].replace(doubleQuoteRegExp$1,"'"):tr}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function getISODay(tr,Hn){const er=toDate$1(tr,Hn?.in).getDay();return er===0?7:er}function isAfter(tr,Hn){return+toDate$1(tr)>+toDate$1(Hn)}function transpose(tr,Hn){const er=isConstructor(Hn)?new Hn(0):constructFrom(Hn,0);return er.setFullYear(tr.getFullYear(),tr.getMonth(),tr.getDate()),er.setHours(tr.getHours(),tr.getMinutes(),tr.getSeconds(),tr.getMilliseconds()),er}function isConstructor(tr){return typeof tr=="function"&&tr.prototype?.constructor===tr}const TIMEZONE_UNIT_PRIORITY=10;class Setter{subPriority=0;validate(Hn,er){return!0}}class ValueSetter extends Setter{constructor(Hn,er,nr,ir,rr){super(),this.value=Hn,this.validateValue=er,this.setValue=nr,this.priority=ir,rr&&(this.subPriority=rr)}validate(Hn,er){return this.validateValue(Hn,this.value,er)}set(Hn,er,nr){return this.setValue(Hn,er,this.value,nr)}}class DateTimezoneSetter extends Setter{priority=TIMEZONE_UNIT_PRIORITY;subPriority=-1;constructor(Hn,er){super(),this.context=Hn||(nr=>constructFrom(er,nr))}set(Hn,er){return er.timestampIsSet?Hn:constructFrom(Hn,transpose(Hn,this.context))}}class Parser{run(Hn,er,nr,ir){const rr=this.parse(Hn,er,nr,ir);return rr?{setter:new ValueSetter(rr.value,this.validate,this.set,this.priority,this.subPriority),rest:rr.rest}:null}validate(Hn,er,nr){return!0}}class EraParser extends Parser{priority=140;parse(Hn,er,nr){switch(er){case"G":case"GG":case"GGG":return nr.era(Hn,{width:"abbreviated"})||nr.era(Hn,{width:"narrow"});case"GGGGG":return nr.era(Hn,{width:"narrow"});case"GGGG":default:return nr.era(Hn,{width:"wide"})||nr.era(Hn,{width:"abbreviated"})||nr.era(Hn,{width:"narrow"})}}set(Hn,er,nr){return er.era=nr,Hn.setFullYear(nr,0,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["R","u","t","T"]}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(tr,Hn){return tr&&{value:Hn(tr.value),rest:tr.rest}}function parseNumericPattern(tr,Hn){const er=Hn.match(tr);return er?{value:parseInt(er[0],10),rest:Hn.slice(er[0].length)}:null}function parseTimezonePattern(tr,Hn){const er=Hn.match(tr);if(!er)return null;if(er[0]==="Z")return{value:0,rest:Hn.slice(1)};const nr=er[1]==="+"?1:-1,ir=er[2]?parseInt(er[2],10):0,rr=er[3]?parseInt(er[3],10):0,sr=er[5]?parseInt(er[5],10):0;return{value:nr*(ir*millisecondsInHour+rr*millisecondsInMinute+sr*millisecondsInSecond),rest:Hn.slice(er[0].length)}}function parseAnyDigitsSigned(tr){return parseNumericPattern(numericPatterns.anyDigitsSigned,tr)}function parseNDigits(tr,Hn){switch(tr){case 1:return parseNumericPattern(numericPatterns.singleDigit,Hn);case 2:return parseNumericPattern(numericPatterns.twoDigits,Hn);case 3:return parseNumericPattern(numericPatterns.threeDigits,Hn);case 4:return parseNumericPattern(numericPatterns.fourDigits,Hn);default:return parseNumericPattern(new RegExp("^\\d{1,"+tr+"}"),Hn)}}function parseNDigitsSigned(tr,Hn){switch(tr){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,Hn);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,Hn);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,Hn);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,Hn);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+tr+"}"),Hn)}}function dayPeriodEnumToHours(tr){switch(tr){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(tr,Hn){const er=Hn>0,nr=er?Hn:1-Hn;let ir;if(nr<=50)ir=tr||100;else{const rr=nr+50,sr=Math.trunc(rr/100)*100,ar=tr>=rr%100;ir=tr+sr-(ar?100:0)}return er?ir:1-ir}function isLeapYearIndex$1(tr){return tr%400===0||tr%4===0&&tr%100!==0}class YearParser extends Parser{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(Hn,er,nr){const ir=rr=>({year:rr,isTwoDigitYear:er==="yy"});switch(er){case"y":return mapValue(parseNDigits(4,Hn),ir);case"yo":return mapValue(nr.ordinalNumber(Hn,{unit:"year"}),ir);default:return mapValue(parseNDigits(er.length,Hn),ir)}}validate(Hn,er){return er.isTwoDigitYear||er.year>0}set(Hn,er,nr){const ir=Hn.getFullYear();if(nr.isTwoDigitYear){const sr=normalizeTwoDigitYear(nr.year,ir);return Hn.setFullYear(sr,0,1),Hn.setHours(0,0,0,0),Hn}const rr=!("era"in er)||er.era===1?nr.year:1-nr.year;return Hn.setFullYear(rr,0,1),Hn.setHours(0,0,0,0),Hn}}class LocalWeekYearParser extends Parser{priority=130;parse(Hn,er,nr){const ir=rr=>({year:rr,isTwoDigitYear:er==="YY"});switch(er){case"Y":return mapValue(parseNDigits(4,Hn),ir);case"Yo":return mapValue(nr.ordinalNumber(Hn,{unit:"year"}),ir);default:return mapValue(parseNDigits(er.length,Hn),ir)}}validate(Hn,er){return er.isTwoDigitYear||er.year>0}set(Hn,er,nr,ir){const rr=getWeekYear(Hn,ir);if(nr.isTwoDigitYear){const ar=normalizeTwoDigitYear(nr.year,rr);return Hn.setFullYear(ar,0,ir.firstWeekContainsDate),Hn.setHours(0,0,0,0),startOfWeek(Hn,ir)}const sr=!("era"in er)||er.era===1?nr.year:1-nr.year;return Hn.setFullYear(sr,0,ir.firstWeekContainsDate),Hn.setHours(0,0,0,0),startOfWeek(Hn,ir)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class ISOWeekYearParser extends Parser{priority=130;parse(Hn,er){return parseNDigitsSigned(er==="R"?4:er.length,Hn)}set(Hn,er,nr){const ir=constructFrom(Hn,0);return ir.setFullYear(nr,0,4),ir.setHours(0,0,0,0),startOfISOWeek(ir)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class ExtendedYearParser extends Parser{priority=130;parse(Hn,er){return parseNDigitsSigned(er==="u"?4:er.length,Hn)}set(Hn,er,nr){return Hn.setFullYear(nr,0,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class QuarterParser extends Parser{priority=120;parse(Hn,er,nr){switch(er){case"Q":case"QQ":return parseNDigits(er.length,Hn);case"Qo":return nr.ordinalNumber(Hn,{unit:"quarter"});case"QQQ":return nr.quarter(Hn,{width:"abbreviated",context:"formatting"})||nr.quarter(Hn,{width:"narrow",context:"formatting"});case"QQQQQ":return nr.quarter(Hn,{width:"narrow",context:"formatting"});case"QQQQ":default:return nr.quarter(Hn,{width:"wide",context:"formatting"})||nr.quarter(Hn,{width:"abbreviated",context:"formatting"})||nr.quarter(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=1&&er<=4}set(Hn,er,nr){return Hn.setMonth((nr-1)*3,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class StandAloneQuarterParser extends Parser{priority=120;parse(Hn,er,nr){switch(er){case"q":case"qq":return parseNDigits(er.length,Hn);case"qo":return nr.ordinalNumber(Hn,{unit:"quarter"});case"qqq":return nr.quarter(Hn,{width:"abbreviated",context:"standalone"})||nr.quarter(Hn,{width:"narrow",context:"standalone"});case"qqqqq":return nr.quarter(Hn,{width:"narrow",context:"standalone"});case"qqqq":default:return nr.quarter(Hn,{width:"wide",context:"standalone"})||nr.quarter(Hn,{width:"abbreviated",context:"standalone"})||nr.quarter(Hn,{width:"narrow",context:"standalone"})}}validate(Hn,er){return er>=1&&er<=4}set(Hn,er,nr){return Hn.setMonth((nr-1)*3,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class MonthParser extends Parser{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(Hn,er,nr){const ir=rr=>rr-1;switch(er){case"M":return mapValue(parseNumericPattern(numericPatterns.month,Hn),ir);case"MM":return mapValue(parseNDigits(2,Hn),ir);case"Mo":return mapValue(nr.ordinalNumber(Hn,{unit:"month"}),ir);case"MMM":return nr.month(Hn,{width:"abbreviated",context:"formatting"})||nr.month(Hn,{width:"narrow",context:"formatting"});case"MMMMM":return nr.month(Hn,{width:"narrow",context:"formatting"});case"MMMM":default:return nr.month(Hn,{width:"wide",context:"formatting"})||nr.month(Hn,{width:"abbreviated",context:"formatting"})||nr.month(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=0&&er<=11}set(Hn,er,nr){return Hn.setMonth(nr,1),Hn.setHours(0,0,0,0),Hn}}class StandAloneMonthParser extends Parser{priority=110;parse(Hn,er,nr){const ir=rr=>rr-1;switch(er){case"L":return mapValue(parseNumericPattern(numericPatterns.month,Hn),ir);case"LL":return mapValue(parseNDigits(2,Hn),ir);case"Lo":return mapValue(nr.ordinalNumber(Hn,{unit:"month"}),ir);case"LLL":return nr.month(Hn,{width:"abbreviated",context:"standalone"})||nr.month(Hn,{width:"narrow",context:"standalone"});case"LLLLL":return nr.month(Hn,{width:"narrow",context:"standalone"});case"LLLL":default:return nr.month(Hn,{width:"wide",context:"standalone"})||nr.month(Hn,{width:"abbreviated",context:"standalone"})||nr.month(Hn,{width:"narrow",context:"standalone"})}}validate(Hn,er){return er>=0&&er<=11}set(Hn,er,nr){return Hn.setMonth(nr,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function setWeek(tr,Hn,er){const nr=toDate$1(tr,er?.in),ir=getWeek(nr,er)-Hn;return nr.setDate(nr.getDate()-ir*7),toDate$1(nr,er?.in)}class LocalWeekParser extends Parser{priority=100;parse(Hn,er,nr){switch(er){case"w":return parseNumericPattern(numericPatterns.week,Hn);case"wo":return nr.ordinalNumber(Hn,{unit:"week"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=53}set(Hn,er,nr,ir){return startOfWeek(setWeek(Hn,nr,ir),ir)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function setISOWeek(tr,Hn,er){const nr=toDate$1(tr,er?.in),ir=getISOWeek(nr,er)-Hn;return nr.setDate(nr.getDate()-ir*7),nr}class ISOWeekParser extends Parser{priority=100;parse(Hn,er,nr){switch(er){case"I":return parseNumericPattern(numericPatterns.week,Hn);case"Io":return nr.ordinalNumber(Hn,{unit:"week"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=53}set(Hn,er,nr){return startOfISOWeek(setISOWeek(Hn,nr))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{priority=90;subPriority=1;parse(Hn,er,nr){switch(er){case"d":return parseNumericPattern(numericPatterns.date,Hn);case"do":return nr.ordinalNumber(Hn,{unit:"date"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){const nr=Hn.getFullYear(),ir=isLeapYearIndex$1(nr),rr=Hn.getMonth();return ir?er>=1&&er<=DAYS_IN_MONTH_LEAP_YEAR[rr]:er>=1&&er<=DAYS_IN_MONTH[rr]}set(Hn,er,nr){return Hn.setDate(nr),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class DayOfYearParser extends Parser{priority=90;subpriority=1;parse(Hn,er,nr){switch(er){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,Hn);case"Do":return nr.ordinalNumber(Hn,{unit:"date"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){const nr=Hn.getFullYear();return isLeapYearIndex$1(nr)?er>=1&&er<=366:er>=1&&er<=365}set(Hn,er,nr){return Hn.setMonth(0,nr),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function setDay(tr,Hn,er){const nr=getDefaultOptions$1(),ir=er?.weekStartsOn??er?.locale?.options?.weekStartsOn??nr.weekStartsOn??nr.locale?.options?.weekStartsOn??0,rr=toDate$1(tr,er?.in),sr=rr.getDay(),or=(Hn%7+7)%7,lr=7-ir,cr=Hn<0||Hn>6?Hn-(sr+lr)%7:(or+lr)%7-(sr+lr)%7;return addDays(rr,cr,er)}class DayParser extends Parser{priority=90;parse(Hn,er,nr){switch(er){case"E":case"EE":case"EEE":return nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"EEEEE":return nr.day(Hn,{width:"narrow",context:"formatting"});case"EEEEEE":return nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"EEEE":default:return nr.day(Hn,{width:"wide",context:"formatting"})||nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=0&&er<=6}set(Hn,er,nr,ir){return Hn=setDay(Hn,nr,ir),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["D","i","e","c","t","T"]}class LocalDayParser extends Parser{priority=90;parse(Hn,er,nr,ir){const rr=sr=>{const ar=Math.floor((sr-1)/7)*7;return(sr+ir.weekStartsOn+6)%7+ar};switch(er){case"e":case"ee":return mapValue(parseNDigits(er.length,Hn),rr);case"eo":return mapValue(nr.ordinalNumber(Hn,{unit:"day"}),rr);case"eee":return nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"eeeee":return nr.day(Hn,{width:"narrow",context:"formatting"});case"eeeeee":return nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"eeee":default:return nr.day(Hn,{width:"wide",context:"formatting"})||nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=0&&er<=6}set(Hn,er,nr,ir){return Hn=setDay(Hn,nr,ir),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class StandAloneLocalDayParser extends Parser{priority=90;parse(Hn,er,nr,ir){const rr=sr=>{const ar=Math.floor((sr-1)/7)*7;return(sr+ir.weekStartsOn+6)%7+ar};switch(er){case"c":case"cc":return mapValue(parseNDigits(er.length,Hn),rr);case"co":return mapValue(nr.ordinalNumber(Hn,{unit:"day"}),rr);case"ccc":return nr.day(Hn,{width:"abbreviated",context:"standalone"})||nr.day(Hn,{width:"short",context:"standalone"})||nr.day(Hn,{width:"narrow",context:"standalone"});case"ccccc":return nr.day(Hn,{width:"narrow",context:"standalone"});case"cccccc":return nr.day(Hn,{width:"short",context:"standalone"})||nr.day(Hn,{width:"narrow",context:"standalone"});case"cccc":default:return nr.day(Hn,{width:"wide",context:"standalone"})||nr.day(Hn,{width:"abbreviated",context:"standalone"})||nr.day(Hn,{width:"short",context:"standalone"})||nr.day(Hn,{width:"narrow",context:"standalone"})}}validate(Hn,er){return er>=0&&er<=6}set(Hn,er,nr,ir){return Hn=setDay(Hn,nr,ir),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function setISODay(tr,Hn,er){const nr=toDate$1(tr,er?.in),ir=getISODay(nr,er),rr=Hn-ir;return addDays(nr,rr,er)}class ISODayParser extends Parser{priority=90;parse(Hn,er,nr){const ir=rr=>rr===0?7:rr;switch(er){case"i":case"ii":return parseNDigits(er.length,Hn);case"io":return nr.ordinalNumber(Hn,{unit:"day"});case"iii":return mapValue(nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"}),ir);case"iiiii":return mapValue(nr.day(Hn,{width:"narrow",context:"formatting"}),ir);case"iiiiii":return mapValue(nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"}),ir);case"iiii":default:return mapValue(nr.day(Hn,{width:"wide",context:"formatting"})||nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"}),ir)}}validate(Hn,er){return er>=1&&er<=7}set(Hn,er,nr){return Hn=setISODay(Hn,nr),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class AMPMParser extends Parser{priority=80;parse(Hn,er,nr){switch(er){case"a":case"aa":case"aaa":return nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"aaaaa":return nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"aaaa":default:return nr.dayPeriod(Hn,{width:"wide",context:"formatting"})||nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"})}}set(Hn,er,nr){return Hn.setHours(dayPeriodEnumToHours(nr),0,0,0),Hn}incompatibleTokens=["b","B","H","k","t","T"]}class AMPMMidnightParser extends Parser{priority=80;parse(Hn,er,nr){switch(er){case"b":case"bb":case"bbb":return nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"bbbbb":return nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"bbbb":default:return nr.dayPeriod(Hn,{width:"wide",context:"formatting"})||nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"})}}set(Hn,er,nr){return Hn.setHours(dayPeriodEnumToHours(nr),0,0,0),Hn}incompatibleTokens=["a","B","H","k","t","T"]}class DayPeriodParser extends Parser{priority=80;parse(Hn,er,nr){switch(er){case"B":case"BB":case"BBB":return nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"BBBBB":return nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"BBBB":default:return nr.dayPeriod(Hn,{width:"wide",context:"formatting"})||nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"})}}set(Hn,er,nr){return Hn.setHours(dayPeriodEnumToHours(nr),0,0,0),Hn}incompatibleTokens=["a","b","t","T"]}class Hour1to12Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"h":return parseNumericPattern(numericPatterns.hour12h,Hn);case"ho":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=12}set(Hn,er,nr){const ir=Hn.getHours()>=12;return ir&&nr<12?Hn.setHours(nr+12,0,0,0):!ir&&nr===12?Hn.setHours(0,0,0,0):Hn.setHours(nr,0,0,0),Hn}incompatibleTokens=["H","K","k","t","T"]}class Hour0to23Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"H":return parseNumericPattern(numericPatterns.hour23h,Hn);case"Ho":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=23}set(Hn,er,nr){return Hn.setHours(nr,0,0,0),Hn}incompatibleTokens=["a","b","h","K","k","t","T"]}class Hour0To11Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"K":return parseNumericPattern(numericPatterns.hour11h,Hn);case"Ko":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=11}set(Hn,er,nr){return Hn.getHours()>=12&&nr<12?Hn.setHours(nr+12,0,0,0):Hn.setHours(nr,0,0,0),Hn}incompatibleTokens=["h","H","k","t","T"]}class Hour1To24Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"k":return parseNumericPattern(numericPatterns.hour24h,Hn);case"ko":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=24}set(Hn,er,nr){const ir=nr<=24?nr%24:nr;return Hn.setHours(ir,0,0,0),Hn}incompatibleTokens=["a","b","h","H","K","t","T"]}class MinuteParser extends Parser{priority=60;parse(Hn,er,nr){switch(er){case"m":return parseNumericPattern(numericPatterns.minute,Hn);case"mo":return nr.ordinalNumber(Hn,{unit:"minute"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=59}set(Hn,er,nr){return Hn.setMinutes(nr,0,0),Hn}incompatibleTokens=["t","T"]}class SecondParser extends Parser{priority=50;parse(Hn,er,nr){switch(er){case"s":return parseNumericPattern(numericPatterns.second,Hn);case"so":return nr.ordinalNumber(Hn,{unit:"second"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=59}set(Hn,er,nr){return Hn.setSeconds(nr,0),Hn}incompatibleTokens=["t","T"]}class FractionOfSecondParser extends Parser{priority=30;parse(Hn,er){const nr=ir=>Math.trunc(ir*Math.pow(10,-er.length+3));return mapValue(parseNDigits(er.length,Hn),nr)}set(Hn,er,nr){return Hn.setMilliseconds(nr),Hn}incompatibleTokens=["t","T"]}class ISOTimezoneWithZParser extends Parser{priority=10;parse(Hn,er){switch(er){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,Hn);case"XX":return parseTimezonePattern(timezonePatterns.basic,Hn);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,Hn);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,Hn);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,Hn)}}set(Hn,er,nr){return er.timestampIsSet?Hn:constructFrom(Hn,Hn.getTime()-getTimezoneOffsetInMilliseconds(Hn)-nr)}incompatibleTokens=["t","T","x"]}class ISOTimezoneParser extends Parser{priority=10;parse(Hn,er){switch(er){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,Hn);case"xx":return parseTimezonePattern(timezonePatterns.basic,Hn);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,Hn);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,Hn);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,Hn)}}set(Hn,er,nr){return er.timestampIsSet?Hn:constructFrom(Hn,Hn.getTime()-getTimezoneOffsetInMilliseconds(Hn)-nr)}incompatibleTokens=["t","T","X"]}class TimestampSecondsParser extends Parser{priority=40;parse(Hn){return parseAnyDigitsSigned(Hn)}set(Hn,er,nr){return[constructFrom(Hn,nr*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class TimestampMillisecondsParser extends Parser{priority=20;parse(Hn){return parseAnyDigitsSigned(Hn)}set(Hn,er,nr){return[constructFrom(Hn,nr),{timestampIsSet:!0}]}incompatibleTokens="*"}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(tr,Hn,er,nr){const ir=()=>constructFrom(nr?.in||er,NaN),rr=getDefaultOptions(),sr=nr?.locale??rr.locale??enUS,ar=nr?.firstWeekContainsDate??nr?.locale?.options?.firstWeekContainsDate??rr.firstWeekContainsDate??rr.locale?.options?.firstWeekContainsDate??1,or=nr?.weekStartsOn??nr?.locale?.options?.weekStartsOn??rr.weekStartsOn??rr.locale?.options?.weekStartsOn??0;if(!Hn)return tr?ir():toDate$1(er,nr?.in);const lr={firstWeekContainsDate:ar,weekStartsOn:or,locale:sr},cr=[new DateTimezoneSetter(nr?.in,er)],ur=Hn.match(longFormattingTokensRegExp).map(_r=>{const Sr=_r[0];if(Sr in longFormatters){const jr=longFormatters[Sr];return jr(_r,sr.formatLong)}return _r}).join("").match(formattingTokensRegExp),dr=[];for(let _r of ur){!nr?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(_r)&&warnOrThrowProtectedError(_r,Hn,tr),!nr?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(_r)&&warnOrThrowProtectedError(_r,Hn,tr);const Sr=_r[0],jr=parsers[Sr];if(jr){const{incompatibleTokens:Dr}=jr;if(Array.isArray(Dr)){const Mr=dr.find(Or=>Dr.includes(Or.token)||Or.token===Sr);if(Mr)throw new RangeError(`The format string mustn't contain \`${Mr.fullToken}\` and \`${_r}\` at the same time`)}else if(jr.incompatibleTokens==="*"&&dr.length>0)throw new RangeError(`The format string mustn't contain \`${_r}\` and any other token at the same time`);dr.push({token:Sr,fullToken:_r});const Ir=jr.run(tr,_r,sr.match,lr);if(!Ir)return ir();cr.push(Ir.setter),tr=Ir.rest}else{if(Sr.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Sr+"`");if(_r==="''"?_r="'":Sr==="'"&&(_r=cleanEscapedString(_r)),tr.indexOf(_r)===0)tr=tr.slice(_r.length);else return ir()}}if(tr.length>0&&notWhitespaceRegExp.test(tr))return ir();const fr=cr.map(_r=>_r.priority).sort((_r,Sr)=>Sr-_r).filter((_r,Sr,jr)=>jr.indexOf(_r)===Sr).map(_r=>cr.filter(Sr=>Sr.priority===_r).sort((Sr,jr)=>jr.subPriority-Sr.subPriority)).map(_r=>_r[0]);let xr=toDate$1(er,nr?.in);if(isNaN(+xr))return ir();const yr={};for(const _r of fr){if(!_r.validate(xr,lr))return ir();const Sr=_r.set(xr,yr,lr);Array.isArray(Sr)?(xr=Sr[0],Object.assign(yr,Sr[1])):xr=Sr}return xr}function cleanEscapedString(tr){return tr.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMinutes(0,0,0),er}function startOfMinute(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setSeconds(0,0),er}function startOfSecond(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMilliseconds(0),er}function subDays(tr,Hn,er){return addDays(tr,-Hn,er)}function parseISO(tr,Hn){const er=()=>constructFrom(Hn?.in,NaN),nr=Hn?.additionalDigits??2,ir=splitDateString(tr);let rr;if(ir.date){const lr=parseYear$1(ir.date,nr);rr=parseDate(lr.restDateString,lr.year)}if(!rr||isNaN(+rr))return er();const sr=+rr;let ar=0,or;if(ir.time&&(ar=parseTime(ir.time),isNaN(ar)))return er();if(ir.timezone){if(or=parseTimezone(ir.timezone),isNaN(or))return er()}else{const lr=new Date(sr+ar),cr=toDate$1(0,Hn?.in);return cr.setFullYear(lr.getUTCFullYear(),lr.getUTCMonth(),lr.getUTCDate()),cr.setHours(lr.getUTCHours(),lr.getUTCMinutes(),lr.getUTCSeconds(),lr.getUTCMilliseconds()),cr}return toDate$1(sr+ar+or,Hn?.in)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(tr){const Hn={},er=tr.split(patterns.dateTimeDelimiter);let nr;if(er.length>2)return Hn;if(/:/.test(er[0])?nr=er[0]:(Hn.date=er[0],nr=er[1],patterns.timeZoneDelimiter.test(Hn.date)&&(Hn.date=tr.split(patterns.timeZoneDelimiter)[0],nr=tr.substr(Hn.date.length,tr.length))),nr){const ir=patterns.timezone.exec(nr);ir?(Hn.time=nr.replace(ir[1],""),Hn.timezone=ir[1]):Hn.time=nr}return Hn}function parseYear$1(tr,Hn){const er=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+Hn)+"})|(\\d{2}|[+-]\\d{"+(2+Hn)+"})$)"),nr=tr.match(er);if(!nr)return{year:NaN,restDateString:""};const ir=nr[1]?parseInt(nr[1]):null,rr=nr[2]?parseInt(nr[2]):null;return{year:rr===null?ir:rr*100,restDateString:tr.slice((nr[1]||nr[2]).length)}}function parseDate(tr,Hn){if(Hn===null)return new Date(NaN);const er=tr.match(dateRegex);if(!er)return new Date(NaN);const nr=!!er[4],ir=parseDateUnit(er[1]),rr=parseDateUnit(er[2])-1,sr=parseDateUnit(er[3]),ar=parseDateUnit(er[4]),or=parseDateUnit(er[5])-1;if(nr)return validateWeekDate(Hn,ar,or)?dayOfISOWeekYear(Hn,ar,or):new Date(NaN);{const lr=new Date(0);return!validateDate(Hn,rr,sr)||!validateDayOfYearDate(Hn,ir)?new Date(NaN):(lr.setUTCFullYear(Hn,rr,Math.max(ir,sr)),lr)}}function parseDateUnit(tr){return tr?parseInt(tr):1}function parseTime(tr){const Hn=tr.match(timeRegex);if(!Hn)return NaN;const er=parseTimeUnit(Hn[1]),nr=parseTimeUnit(Hn[2]),ir=parseTimeUnit(Hn[3]);return validateTime(er,nr,ir)?er*millisecondsInHour+nr*millisecondsInMinute+ir*1e3:NaN}function parseTimeUnit(tr){return tr&&parseFloat(tr.replace(",","."))||0}function parseTimezone(tr){if(tr==="Z")return 0;const Hn=tr.match(timezoneRegex);if(!Hn)return 0;const er=Hn[1]==="+"?-1:1,nr=parseInt(Hn[2]),ir=Hn[3]&&parseInt(Hn[3])||0;return validateTimezone(nr,ir)?er*(nr*millisecondsInHour+ir*millisecondsInMinute):NaN}function dayOfISOWeekYear(tr,Hn,er){const nr=new Date(0);nr.setUTCFullYear(tr,0,4);const ir=nr.getUTCDay()||7,rr=(Hn-1)*7+er+1-ir;return nr.setUTCDate(nr.getUTCDate()+rr),nr}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(tr){return tr%400===0||tr%4===0&&tr%100!==0}function validateDate(tr,Hn,er){return Hn>=0&&Hn<=11&&er>=1&&er<=(daysInMonths[Hn]||(isLeapYearIndex(tr)?29:28))}function validateDayOfYearDate(tr,Hn){return Hn>=1&&Hn<=(isLeapYearIndex(tr)?366:365)}function validateWeekDate(tr,Hn,er){return Hn>=1&&Hn<=53&&er>=0&&er<=6}function validateTime(tr,Hn,er){return tr===24?Hn===0&&er===0:er>=0&&er<60&&Hn>=0&&Hn<60&&tr>=0&&tr<25}function validateTimezone(tr,Hn){return Hn>=0&&Hn<=59}function subMonths(tr,Hn,er){return addMonths(tr,-Hn,er)}function subYears(tr,Hn,er){return addYears(tr,-1,er)}const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters$1._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(tr,Hn){if(tr===null||typeof tr>"u")return null;const er=typeof tr;return er==="number"||tr instanceof Date?tr=toDate$1(tr):er==="string"&&(typeof Hn=="string"?tr=parse(tr,Hn,new Date,this.options):tr=parseISO(tr,this.options)),isValid(tr)?tr.getTime():null},format:function(tr,Hn){return format$1(tr,Hn,this.options)},add:function(tr,Hn,er){switch(er){case"millisecond":return addMilliseconds(tr,Hn);case"second":return addSeconds(tr,Hn);case"minute":return addMinutes(tr,Hn);case"hour":return addHours(tr,Hn);case"day":return addDays(tr,Hn);case"week":return addWeeks(tr,Hn);case"month":return addMonths(tr,Hn);case"quarter":return addQuarters(tr,Hn);case"year":return addYears(tr,Hn);default:return tr}},diff:function(tr,Hn,er){switch(er){case"millisecond":return differenceInMilliseconds(tr,Hn);case"second":return differenceInSeconds(tr,Hn);case"minute":return differenceInMinutes(tr,Hn);case"hour":return differenceInHours(tr,Hn);case"day":return differenceInDays(tr,Hn);case"week":return differenceInWeeks(tr,Hn);case"month":return differenceInMonths(tr,Hn);case"quarter":return differenceInQuarters(tr,Hn);case"year":return differenceInYears(tr,Hn);default:return 0}},startOf:function(tr,Hn,er){switch(Hn){case"second":return startOfSecond(tr);case"minute":return startOfMinute(tr);case"hour":return startOfHour(tr);case"day":return startOfDay(tr);case"week":return startOfWeek(tr);case"isoWeek":return startOfWeek(tr,{weekStartsOn:+er});case"month":return startOfMonth(tr);case"quarter":return startOfQuarter(tr);case"year":return startOfYear(tr);default:return tr}},endOf:function(tr,Hn){switch(Hn){case"second":return endOfSecond(tr);case"minute":return endOfMinute(tr);case"hour":return endOfHour(tr);case"day":return endOfDay(tr);case"week":return endOfWeek(tr);case"month":return endOfMonth(tr);case"quarter":return endOfQuarter(tr);case"year":return endOfYear(tr);default:return tr}}});Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend);const API_URL$6="https://api_gold.thinkdiff.us/ZSL_proshare_ultrashort_silver",verticalLinePlugin$1={id:"verticalLine",afterDraw(tr){const Hn=tr.tooltip;if(!Hn||!Hn.getActiveElements().length)return;const er=tr.ctx,nr=Hn.getActiveElements()[0].element.x,ir=tr.chartArea.top,rr=tr.chartArea.bottom;er.save(),er.beginPath(),er.moveTo(nr,ir),er.lineTo(nr,rr),er.lineWidth=1.2,er.strokeStyle="rgba(148,163,184,0.12)",er.stroke(),er.restore()}},buildPoints=(tr=[],Hn=[],er=1)=>!Array.isArray(tr)||!Array.isArray(Hn)?[]:tr.map((nr,ir)=>{const rr=Hn[ir];return rr==null?null:{x:new Date(nr*1e3),y:Number(rr)/er}}).filter(Boolean),buildVolumePoints=(tr=[],Hn=[])=>!Array.isArray(tr)||!Array.isArray(Hn)?[]:tr.map((er,nr)=>{const ir=Hn[nr];return ir==null?null:{x:new Date(er*1e3),y:Number(ir)}}).filter(Boolean),ZslPriceChart=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState("6M");reactExports.useEffect(()=>{let jr=!1;return(async()=>{try{nr(!0);const Ir=await(await fetch(API_URL$6)).json();jr||Hn(Ir)}catch(Dr){jr||rr(Dr.message||"Li khi fetch d liu")}finally{jr||nr(!1)}})(),()=>jr=!0},[]);const{pricePoints:or,volPoints:lr,latest:cr,allPricePoints:ur}=reactExports.useMemo(()=>{if(!tr)return{pricePoints:[],volPoints:[],latest:null};const jr=tr.ZSL_co_phieu?.chart?.result?.[0],Dr=jr?.timestamp||[],Ir=jr?.indicators?.quote?.[0]||{},Mr=Ir.close||[],Or=Ir.volume||[],Lr=jr?.meta?.priceHint??4,Fr=Math.pow(10,Lr),Vr=buildPoints(Dr,Mr,Fr),Zr=buildVolumePoints(Dr,Or),Hr=Vr.length?Vr[Vr.length-1].x.getTime():Date.now(),Yr=1440*60*1e3;let eo=0;switch(sr){case"1W":eo=Hr-7*Yr;break;case"1M":eo=Hr-30*Yr;break;case"6M":eo=Hr-180*Yr;break;default:eo=-1/0}const io=sr==="ALL"?Vr:Vr.filter(co=>co.x.getTime()>=eo),uo=sr==="ALL"?Zr:Zr.filter(co=>co.x.getTime()>=eo),so=io.length?io[io.length-1]:null;let no=null;io.length>=2&&(no=io[io.length-2]);const po=so?{price:so.y,prev:no?no.y:null,date:so.x}:null;return{pricePoints:io,volPoints:uo,latest:po,allPricePoints:Vr}},[tr,sr]),dr={datasets:[{type:"line",label:"Price",data:or,borderColor:"#e25555",backgroundColor:jr=>{const Ir=jr.chart.ctx.createLinearGradient(0,0,0,200);return Ir.addColorStop(0,"rgba(226,85,85,0.16)"),Ir.addColorStop(1,"rgba(226,85,85,0.02)"),Ir},pointRadius:0,tension:.25,yAxisID:"y",fill:!0},{type:"bar",label:"Volume",data:lr,backgroundColor:"rgba(200,200,200,0.6)",yAxisID:"yVolume",barThickness:"flex"}]},fr=[...or,...lr].map(jr=>+jr.x),xr=fr.length?Math.min(...fr):void 0,yr=fr.length?Math.max(...fr):void 0,_r=jr=>{const Dr=ur;if(!Dr||Dr.length===0)return null;if(Dr.length===1)return Dr[0].y;for(let Ir=0;Ir<Dr.length-1;Ir++){const Mr=Dr[Ir],Or=Dr[Ir+1],Lr=Mr.x.getTime(),Fr=Or.x.getTime();if(jr>=Lr&&jr<=Fr){const Vr=(jr-Lr)/(Fr-Lr);return Mr.y+(Or.y-Mr.y)*Vr}}return jr<Dr[0].x.getTime()?Dr[0].y:jr>Dr[Dr.length-1].x.getTime()?Dr[Dr.length-1].y:null},Sr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"x",intersect:!1},plugins:{legend:{position:"top"},tooltip:{filter:jr=>jr.raw&&jr.raw.y!==null&&jr.raw.y!==void 0,callbacks:{title:jr=>jr&&jr.length?new Date(jr[0].parsed.x).toLocaleDateString():"",label:jr=>jr.dataset.type==="bar"?`Volume: ${Number(jr.parsed.y).toLocaleString()}`:`Price: ${Number(jr.parsed.y).toFixed(4)}`,footer:jr=>{if(!jr||!jr.length)return"";const Dr=jr[0].parsed?jr[0].parsed.x:jr[0].raw&&jr[0].raw.x?new Date(jr[0].raw.x).getTime():null;if(!Dr)return"";const Ir=_r(Dr);return Ir==null?"":`Price (interp): ${Number(Ir).toFixed(4)}`}}}},scales:{x:{type:"time",min:xr,max:yr,time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{color:"rgba(148,163,184,0.06)"}},y:{position:"left",ticks:{color:"#e6eef6"},grid:{color:"rgba(148,163,184,0.06)"}},yVolume:{position:"right",grid:{display:!1},ticks:{display:!1}}}};return jsxRuntimeExports.jsxs("div",{className:"zsl-price-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"zsl-price-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:20},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[jsxRuntimeExports.jsx("div",{className:"zsl-price-title",children:"ProShares UltraShort Silver (ZSL)"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:8},children:["1W","1M","6M","ALL"].map(jr=>jsxRuntimeExports.jsx("button",{onClick:()=>ar(jr),style:{padding:"6px 10px",borderRadius:8,border:sr===jr?"1px solid #e25555":"1px solid rgba(255,255,255,0.06)",background:sr===jr?"rgba(226,85,85,0.12)":"transparent",color:"#e6eef6",cursor:"pointer",fontSize:12,fontWeight:"bold"},children:jr==="1W"?"1 Tun":jr==="1M"?"1 Thng":jr==="6M"?"6 Thng":"Tt c"},jr))})]}),jsxRuntimeExports.jsxs("div",{className:"zsl-price-stats",children:[er&&jsxRuntimeExports.jsx("span",{children:"ang ti..."}),!er&&!cr&&jsxRuntimeExports.jsx("span",{children:"Khng c d liu"}),!er&&cr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"price",children:cr.price.toFixed(4)}),jsxRuntimeExports.jsx("div",{className:`change ${cr.prev!==null&&cr.prev>cr.price?"down":"up"}`,children:cr.prev!==null?`${(cr.price-cr.prev).toFixed(4)} (${((cr.price-cr.prev)/cr.prev*100).toFixed(2)}%)`:""})]})]})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"zsl-error",children:["Li: ",ir]}),jsxRuntimeExports.jsx("div",{className:"zsl-price-chart",children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:dr,options:Sr,plugins:[verticalLinePlugin$1]})})]})};Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const API_URL$5="https://api_gold.thinkdiff.us/ZSL_proshare_ultrashort_silver",parseSeries=(tr,Hn)=>{if(!tr)return[];if(typeof tr=="object"&&!Array.isArray(tr)){if(tr[Hn])return tr[Hn];for(const er of Object.keys(tr))if(Array.isArray(tr[er]))return tr[er];return[]}return Array.isArray(tr)?tr:[]},toChartPoints=tr=>Array.isArray(tr)?tr.map(Hn=>!Hn||typeof Hn!="object"?null:Hn.date&&Array.isArray(Hn.data)&&Hn.data.length>0?{x:new Date(Hn.date),y:Number(Hn.data[0])}:Hn.x!==void 0&&Hn.y!==void 0?{x:new Date(Hn.x),y:Number(Hn.y)}:null).filter(Boolean).sort((Hn,er)=>Hn.x-er.x):[],pctFormat=tr=>tr==null||isNaN(tr)?"N/A":`${Number(tr).toFixed(2)}%`,verticalLinePlugin={id:"verticalLine",afterDraw(tr){const Hn=tr.tooltip;if(!Hn||!Hn.getActiveElements().length)return;const er=tr.ctx,nr=Hn.getActiveElements()[0].element.x,ir=tr.chartArea.top,rr=tr.chartArea.bottom;er.save(),er.beginPath(),er.moveTo(nr,ir),er.lineTo(nr,rr),er.lineWidth=1.5,er.strokeStyle="gray",er.stroke(),er.restore()}},ZslComparisonChart=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null);reactExports.useEffect(()=>{let fr=!1;return(async()=>{rr(!0),ar(null);try{const _r=await(await fetch(API_URL$5)).json(),Sr=parseSeries(_r,"ZSL_performance")||[],jr=parseSeries(_r,"ZSL_proshare_ultrashort_silver")||[],Dr=toChartPoints(Sr).slice(-15),Ir=toChartPoints(jr).slice(-16);fr||(Hn(Dr),nr(Ir))}catch(yr){fr||ar(yr.message||"Li khi fetch d liu")}finally{fr||rr(!1)}})(),()=>fr=!0},[]);const or={datasets:[{label:"ZSL Performance",data:tr,borderColor:"#4DA6FF",backgroundColor:"rgba(77,166,255,0.08)",tension:.25,pointRadius:3,pointHoverRadius:6,fill:!1},{label:"ZSL Proshare UltraShort Silver",data:er,borderColor:"#0B2B2B",backgroundColor:"rgba(11,43,43,0.04)",tension:.25,pointRadius:3,pointHoverRadius:6,fill:!1}]},lr=[...tr,...er].map(fr=>+fr.x),cr=lr.length?Math.min(...lr):void 0,ur=lr.length?Math.max(...lr):void 0,dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"x",intersect:!1},plugins:{legend:{position:"top"},tooltip:{filter:fr=>fr.raw&&fr.raw.y!==null&&fr.raw.y!==void 0,callbacks:{title:fr=>fr.length?new Date(fr[0].parsed.x).toLocaleDateString():"",label:fr=>`${fr.dataset.label}: ${pctFormat(fr.parsed.y)}`}}},scales:{x:{type:"time",offset:!1,min:cr,max:ur,time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{color:"rgba(148,163,184,0.06)"}},y:{ticks:{callback:fr=>`${fr}%`,color:"#64748B"},grid:{color:"rgba(148,163,184,0.06)"}}}};return jsxRuntimeExports.jsxs("div",{className:"zsl-chart-wrapper",children:[jsxRuntimeExports.jsx("h3",{children:"ZSL Comparison"}),ir&&jsxRuntimeExports.jsx("div",{className:"zsl-loading",children:"ang ti d liu..."}),sr&&jsxRuntimeExports.jsxs("div",{className:"zsl-error",children:["Li: ",sr]}),!ir&&!sr&&jsxRuntimeExports.jsx("div",{className:"zsl-chart-container",children:jsxRuntimeExports.jsx(Chart,{type:"line",data:or,options:dr,plugins:[verticalLinePlugin]})})]})},ZslPage=()=>jsxRuntimeExports.jsxs("div",{style:{padding:20},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#f1c40f"},children:"ZSL  Price & Comparison"}),jsxRuntimeExports.jsxs("section",{style:{marginTop:20},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#e25555",marginBottom:12},children:"Price"}),jsxRuntimeExports.jsx(ZslPriceChart,{})]}),jsxRuntimeExports.jsx("hr",{style:{margin:"30px 0",borderColor:"rgba(148,163,184,0.06)"}}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#4DA6FF",marginBottom:12},children:"Comparison"}),jsxRuntimeExports.jsx(ZslComparisonChart,{})]})]}),useRealTimeData=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(()=>new Set),cr=reactExports.useRef(null),ur=reactExports.useRef(null),dr=reactExports.useRef(null),fr=reactExports.useRef(!1),xr=reactExports.useRef(!1),yr=Dr=>{if(Dr&&(Hn(Dr),Dr.ContentNew&&Array.isArray(Dr.ContentNew))){const Ir=[...Dr.ContentNew].sort((Mr,Or)=>new Date(Or.created_at||Or.id)-new Date(Mr.created_at||Mr.id));rr(Ir),lr(Mr=>{const Or=Ir.filter(Lr=>!Mr.has(Lr.id||Lr.ID)).length;return ar(Or),Mr})}},_r=async()=>{try{const Ir=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"/api_gold/socket_mihong_goldenfund":"https://api_gold.thinkdiff.us/socket_mihong_goldenfund",Mr=await fetch(Ir),Or=Mr.headers.get("content-type");if(!Or||!Or.includes("application/json")){const Vr=await Mr.text();return}const Lr=await Mr.json();let Fr=Lr?.data?.socket_all??Lr?.socket_all??Lr?.data?.data?.socket_all??null;Fr&&(xr.current=!0,yr(Fr))}catch(Dr){console.warn(" fetchFallbackData error:",Dr.message)}},Sr=()=>{dr.current&&clearInterval(dr.current),dr.current=setInterval(()=>{xr.current&&!er&&_r()},3e4)};return reactExports.useEffect(()=>{let Dr=!0;const Ir=()=>{const Mr="wss://vang247.com/price-service/ws/v1/prices",Or=new WebSocket(Mr);cr.current=Or,Or.onopen=()=>{nr(!0),xr.current=!1,dr.current&&clearInterval(dr.current)},Or.onmessage=Lr=>{try{const Fr=JSON.parse(Lr.data);yr(Fr)}catch(Fr){console.warn(" WS parse error:",Fr)}},Or.onclose=()=>{nr(!1),ur.current=setTimeout(Ir,5e3)}};return setTimeout(()=>{fr.current||(fr.current=!0,_r(),Sr())},50),setTimeout(()=>{Dr&&Ir()},150),()=>{Dr=!1,ur.current&&clearTimeout(ur.current),dr.current&&clearInterval(dr.current),cr.current&&cr.current.close()}},[]),{liveData:tr,isConnected:er,news:ir,unreadNewsCount:sr,markNewsAsSeen:()=>{const Dr=ir.map(Ir=>Ir.id||Ir.ID);lr(new Set(Dr)),ar(0)}}},getVang247FolderUrl=(tr,Hn,er)=>{const nr=String(tr).padStart(2,"0"),ir=String(Hn).padStart(2,"0"),sr=`https://api_gold.thinkdiff.us/all_json_1_day/${`${nr}_${ir}_${er}`}`;return getApiUrl$2(sr)},API_BASE_THINKDIFF="https://api_gold.thinkdiff.us",isLocalhost=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",getApiUrl$2=tr=>{if(isLocalhost()){if(tr.includes("api_gold.thinkdiff.us"))return tr.replace("https://api_gold.thinkdiff.us","/api_gold");if(tr.includes("thinkdiff.us"))return tr.replace("https://thinkdiff.us","/vang247_xyz")}return tr},getVang247FileUrl=(tr,Hn,er,nr,ir,rr=null)=>{if(!tr||!Hn||!er)return console.warn("getVang247FileUrl: missing date parts",{day:tr,month:Hn,year:er,hour:nr,minute:ir,second:rr}),null;const sr=`${tr}_${Hn}_${er}`,ar=Number(nr),or=Number(ir),lr=rr!==null?Number(rr):null;if(!Number.isFinite(ar)||!Number.isFinite(or)||rr!==null&&!Number.isFinite(lr))return console.warn("getVang247FileUrl: invalid time parts",{day:tr,month:Hn,year:er,hour:nr,minute:ir,second:rr}),null;const cr=lr===null?`${ar}_${or}`:`${ar}_${or}_${lr}`,ur=`view_full_data_json/${sr}/${sr}_${cr}.json`,dr=`${API_BASE_THINKDIFF}/${ur}`;return getApiUrl$2(dr)},fetchVang247FileList=async(tr,Hn,er)=>{const nr=getVang247FolderUrl(tr,Hn,er),ir=await fetch(nr);if(!ir.ok)throw new Error(`HTTP ${ir.status}`);const rr=ir.headers.get("content-type");if(!rr||!rr.includes("application/json")){const ar=await ir.text();throw console.error("API Error: Server returned non-JSON data (likely HTML error page). Content:",ar.substring(0,200)+(ar.length>200?"...":"")),new Error("API did not return expected JSON data. Check the URL rewrite or API endpoint.")}const sr=await ir.json();if(!sr||!sr.data)throw new Error("Invalid structure: 'data' field not found in response.");return sr.data.map(ar=>({link:ar.link,modified_time:ar.modified_time,size_bytes:ar.size_bytes}))},fetchVang247SingleFile=async tr=>{const Hn=getApiUrl$2(tr),er=await fetch(Hn);if(!er.ok)throw new Error(`HTTP ${er.status}`);return await er.json()},fetchVangOneDayData=async(tr,Hn,er,nr,ir,rr=null)=>{try{const sr=getVang247FileUrl(tr,Hn,er,nr,ir,rr);if(console.log("url getVang247FileUrl: ",sr),!sr)throw new Error(`Invalid parameters when building Vang247 file URL: ${tr}/${Hn}/${er} ${nr}:${ir}`);const ar=await fetch(sr);if(!ar.ok){if(ar.status===404||ar.status===500){const cr=new Error(`Khng tm thy d liu cho ngy ${tr}/${Hn}/${er} lc ${nr}:${ir}`);throw cr.status=ar.status,cr.isNotFound=!0,cr}throw new Error(`HTTP error! status: ${ar.status}`)}const or=await ar.json();if(console.log("data",or),!or.data||!or.data.list_server)throw new Error("Invalid data structure");const lr=or.data.list_server.map(cr=>({site:cr.site||cr.data?.site,name:cr.name||cr.data?.name,fetched_at:cr.data?.data?.fetched_at||null,timestamp:cr.data?.data?.site_timestamp||null,items:cr.data?.data?.items||cr.data?.items||[],do_uy_tin:cr.do_uy_tin||null,quoc_gia:cr.quoc_gia||null,maps:cr.maps||[]}));return console.log("list_server",lr),{list_server:lr,phan_tich:or.data.phan_tich,tin_tuc:or.data.tintuc,bieu_do:or.data.bieudo}}catch(sr){throw sr.isNotFound||console.error("Error fetching Vang247 prices:",sr.message),sr}},findNearestAvailableFile=(tr,Hn,er)=>{if(!tr||tr.length===0)return null;const nr=new Date(`2000-01-01 ${String(Hn).padStart(2,"0")}:${String(er).padStart(2,"0")}:00`).getTime(),ir=[...tr].sort((sr,ar)=>{const or=new Date(`2000-01-01 ${String(sr.hour).padStart(2,"0")}:${String(sr.minute).padStart(2,"0")}:00`).getTime();return new Date(`2000-01-01 ${String(ar.hour).padStart(2,"0")}:${String(ar.minute).padStart(2,"0")}:00`).getTime()-or});return ir.find(sr=>new Date(`2000-01-01 ${String(sr.hour).padStart(2,"0")}:${String(sr.minute).padStart(2,"0")}:00`).getTime()<=nr)||ir[ir.length-1]||null},getLatestUpdateTime$1=tr=>{if(!tr||tr.length===0)return"";const Hn=tr.reduce((er,nr)=>er.timestamp?new Date(nr.timestamp)>new Date(er.timestamp)?nr:er:nr,tr[0]);return Hn.fetched_at||Hn.timestamp},UseGoldOneDayPrices=tr=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(null),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(null),[fr,xr]=reactExports.useState({loaded:0,total:0});reactExports.useEffect(()=>{let jr=!1;return(async()=>{try{const{day:Ir,month:Mr,year:Or,hour:Lr,minute:Fr}=tr;if(!Ir||!Mr||!Or||!Lr||!Fr){cr(!1),er([]),dr(null);return}cr(!0),er([]),dr(null),xr({loaded:0,total:1});const Vr=String(Lr).padStart(2,"0"),Zr=String(Fr).padStart(2,"0");try{const Hr=await fetchVangOneDayData(Ir,Mr,Or,Vr,Zr);if(jr)return;er(Hr.list_server||[]),ir(Hr.phan_tich),sr(Hr.tin_tuc),or(Hr.bieu_do),xr({loaded:1,total:1}),dr(null)}catch(Hr){if(jr)return;if(Hr.isNotFound)try{const Yr=await fetchVang247FileList(Ir,Mr,Or),eo=so=>{try{const po=so.split("/").pop().replace(".json","").split("_");if(po.length>=5){const[co,lo,ao,xo,_o]=po;return{day:co,month:lo,year:ao,hour:xo,minute:_o}}return null}catch{return null}},io=(Yr||[]).map(so=>eo(so.link)).filter(so=>so!==null),uo=findNearestAvailableFile(io,Vr,Zr);if(uo){const so=await fetchVangOneDayData(uo.day,uo.month,uo.year,uo.hour,uo.minute);if(jr)return;er(so.list_server||[]),ir(so.phan_tich),sr(so.tin_tuc),or(so.bieu_do),xr({loaded:1,total:1}),dr(null)}else throw new Error(`Khng tm thy d liu cho ngy ${Ir}/${Mr}/${Or}`)}catch{jr||dr(`Khng tm thy d liu cho ngy ${Ir}/${Mr}/${Or} lc ${Vr}:${Zr}`)}else jr||dr(Hr.message||"Khng th ti d liu gi vng. Vui lng th li sau.")}}catch(Ir){jr||dr(Ir.message||"Li h thng khi ti d liu.")}finally{jr||cr(!1)}})(),()=>{jr=!0}},[tr.day,tr.month,tr.year,tr.hour,tr.minute]);const yr=reactExports.useMemo(()=>{if(!Hn||!Array.isArray(Hn))return[];let jr=Hn;return tr.region&&(tr.region==="vietnam"?jr=Hn.filter(Mr=>Mr.quoc_gia==="Vietnam"||Mr.quoc_gia==="Vit Nam"||!Mr.quoc_gia):tr.region==="international"?jr=Hn.filter(Mr=>Mr.quoc_gia&&Mr.quoc_gia!=="Vietnam"&&Mr.quoc_gia!=="Vit Nam"):jr=Hn.filter(Mr=>Mr.quoc_gia===tr.region)),jr.map(Mr=>{let Or=Mr.items||Mr.data?.data?.items||[];return Array.isArray(Or)||(Or=[]),{...Mr,items:Or.filter(Lr=>{if(!Lr||!Lr.TYPE)return!1;const Fr=Lr.TYPE.toUpperCase();return tr.type==="gold"?Fr==="VANG"||Fr==="GOLD":tr.type==="silver"?Fr==="BAC"||Fr==="SILVER":!0})}}).filter(Mr=>Mr.items&&Mr.items.length>0).map(Mr=>({...Mr,items:Mr.items.map(Or=>({...Or,buy:Number(Or.buy)>1e9?Number(Or.buy)/1e3:Number(Or.buy),sell:Number(Or.sell)>1e9?Number(Or.sell)/1e3:Number(Or.sell)}))}))},[Hn,tr]),_r=reactExports.useMemo(()=>getLatestUpdateTime$1(Hn),[Hn]),Sr=reactExports.useMemo(()=>{const jr=new Set;return Array.isArray(Hn)&&Hn.forEach(Dr=>{Dr.quoc_gia&&jr.add(Dr.quoc_gia)}),Array.from(jr).sort()},[Hn]);return{loading:lr,error:ur,displayedPrices:yr,lastUpdated:_r,loadingProgress:fr,availableCountries:Sr,fomo:nr,news:rr,charts:ar}},NotificationDropdown=({newsItems:tr,onNewsClick:Hn,onClose:er,newsInAPI:nr})=>{const ir=()=>{let rr=tr.length;return nr.forEach((sr,ar)=>{sr.data.forEach((or,lr)=>{rr++})}),rr};return!tr||tr.length===0?jsxRuntimeExports.jsxs("div",{className:"notification-dropdown",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-header",children:[jsxRuntimeExports.jsx("h3",{children:"Thng bo"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:er,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"empty-state",children:[jsxRuntimeExports.jsx("span",{className:"empty-icon",children:""}),jsxRuntimeExports.jsx("p",{children:"Cha c tin tc mi"})]})]}):jsxRuntimeExports.jsxs("div",{className:"notification-dropdown",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-header",children:[jsxRuntimeExports.jsxs("h3",{children:["Thng bo (",ir,")"]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:er,children:""})]}),jsxRuntimeExports.jsx("div",{className:"news-list",children:tr.slice(0,10).map(rr=>jsxRuntimeExports.jsxs("div",{className:"news-item",onClick:()=>Hn(rr),children:[jsxRuntimeExports.jsx("div",{className:"news-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"news-content",children:[jsxRuntimeExports.jsx("div",{className:"news-title",children:rr.title}),rr.created_at&&jsxRuntimeExports.jsx("div",{className:"news-time",children:new Date(rr.created_at).toLocaleString("vi-VN")})]}),jsxRuntimeExports.jsx("div",{className:"news-arrow",children:""})]},rr.id||rr.ID))}),jsxRuntimeExports.jsx("div",{className:"dropdown-footer",children:jsxRuntimeExports.jsx("button",{className:"view-all-btn",children:"Xem tt c"})})]})},NotificationBell=({onNewsClick:tr,newsInAPI:Hn})=>{const{news:er,unreadNewsCount:nr,markNewsAsSeen:ir}=useRealTimeData(),[rr,sr]=reactExports.useState(!1),ar=reactExports.useRef(null);reactExports.useEffect(()=>{const cr=ur=>{ar.current&&!ar.current.contains(ur.target)&&sr(!1)};return rr&&document.addEventListener("mousedown",cr),()=>{document.removeEventListener("mousedown",cr)}},[rr]);const or=()=>{rr||ir(),sr(!rr)},lr=cr=>{sr(!1),tr&&tr(cr)};return jsxRuntimeExports.jsxs("div",{className:"notification-bell-container",ref:ar,children:[jsxRuntimeExports.jsxs("button",{className:`notification-bell ${nr>0?"has-unread":""}`,onClick:or,"aria-label":"Thng bo",children:[jsxRuntimeExports.jsx("span",{className:"bell-icon",children:""}),nr>0&&jsxRuntimeExports.jsx("span",{className:"notification-badge",children:nr})]}),rr&&jsxRuntimeExports.jsx(NotificationDropdown,{newsItems:er,onNewsClick:lr,onClose:()=>sr(!1),newsInAPI:Hn})]})},getApiUrl$1=tr=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?tr.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):tr,API_GET_DIRS="https://api_gold.thinkdiff.us/all_day_save_price",fetchAllDirnames=async()=>{try{const tr=getApiUrl$1(API_GET_DIRS),Hn=await fetch(tr);if(console.log("response: ",Hn),!Hn.ok)throw new Error(`HTTP Error ${Hn.status}`);return(await Hn.json()).data.toSorted((nr,ir)=>{const rr=nr.dirname.split("_").map(Number),sr=ir.dirname.split("_").map(Number);return new Date(sr[2],sr[1]-1,sr[0])-new Date(rr[2],rr[1]-1,rr[0])})}catch(tr){throw console.error("Error fetchAllDirnames:",tr),tr}},useDateGold=(tr={})=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(!0),[rr,sr]=reactExports.useState(null);reactExports.useEffect(()=>{let lr=!1;return(async()=>{try{ir(!0),sr(null);const ur=await fetchAllDirnames();console.log("dataDate",ur),lr||er(ur)}catch(ur){lr||(console.error("Error loading gold dates:",ur),sr("Khng th ti danh sch ngy."))}finally{lr||ir(!1)}})(),()=>{lr=!0}},[]);const ar=reactExports.useMemo(()=>{if(!tr.sortBy)return Hn;const{sortBy:lr,sortOrder:cr="asc"}=tr,ur=cr==="asc"?1:-1;return[...Hn].sort((fr,xr)=>lr==="dirname"?fr.dirname.localeCompare(xr.dirname)*ur:lr==="datetime"?fr.datetime.localeCompare(xr.datetime)*ur:0)},[Hn,tr]),or=reactExports.useMemo(()=>Hn.map(lr=>lr.dirname),[Hn]);return{loading:nr,error:rr,displayedDates:ar,availableDates:or}},parseDateFromFileUrl=tr=>{try{const er=tr.split("/").pop().replace(".json","").split("_");if(er.length===5){const[nr,ir,rr,sr,ar]=er;return{day:nr,month:ir,year:rr,hour:sr,minute:ar,second:null}}if(er.length===6){const[nr,ir,rr,sr,ar,or]=er;return{day:nr,month:ir,year:rr,hour:sr,minute:ar,second:or}}return null}catch{return null}},useVang247Dates=(tr,Hn,er)=>{const[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState(!0),[ar,or]=reactExports.useState(null);reactExports.useEffect(()=>{if(!tr||!Hn||!er){sr(!1),ir([]);return}let dr=!1;return(async()=>{try{sr(!0),or(null);let xr=[];try{xr=await fetchVang247FileList(tr,Hn,er)}catch{dr||(ir([]),or(null));return}if(dr)return;if(!xr||xr.length===0){ir([]),or(null);return}const yr=xr.map(_r=>{const Sr=parseDateFromFileUrl(_r.link);return{..._r,...Sr}});ir(yr)}catch(xr){dr||(console.error("Error loading files:",xr),or(null),ir([]))}finally{dr||sr(!1)}})(),()=>{dr=!0}},[tr,Hn,er]);const lr=dr=>String(dr).padStart(2,"0"),cr=dr=>new Date(`${dr.year}-${lr(dr.month)}-${lr(dr.day)}T${lr(dr.hour)}:${lr(dr.minute)}:${lr(dr.second??0)}`).getTime(),ur=reactExports.useMemo(()=>[...nr].sort((dr,fr)=>cr(fr)-cr(dr)),[nr]);return{loading:rr,error:ar,files:ur}};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$l=["attr","size","title"];function _objectWithoutProperties$k(tr,Hn){if(tr==null)return{};var er=_objectWithoutPropertiesLoose$l(tr,Hn),nr,ir;if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(ir=0;ir<rr.length;ir++)nr=rr[ir],!(Hn.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(er[nr]=tr[nr])}return er}function _objectWithoutPropertiesLoose$l(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)>=0)continue;er[nr]=tr[nr]}return er}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$p.apply(this,arguments)}function ownKeys$A(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$A(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$A(Object(er),!0).forEach(function(nr){_defineProperty$B(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$A(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$B(tr,Hn,er){return Hn=_toPropertyKey$B(Hn),Hn in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$B(tr){var Hn=_toPrimitive$B(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$B(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function Tree2Element(tr){return tr&&tr.map((Hn,er)=>React.createElement(Hn.tag,_objectSpread$A({key:er},Hn.attr),Tree2Element(Hn.child)))}function GenIcon(tr){return Hn=>React.createElement(IconBase,_extends$p({attr:_objectSpread$A({},tr.attr)},Hn),Tree2Element(tr.child))}function IconBase(tr){var Hn=er=>{var{attr:nr,size:ir,title:rr}=tr,sr=_objectWithoutProperties$k(tr,_excluded$l),ar=ir||er.size||"1em",or;return er.className&&(or=er.className),tr.className&&(or=(or?or+" ":"")+tr.className),React.createElement("svg",_extends$p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},er.attr,nr,sr,{className:or,style:_objectSpread$A(_objectSpread$A({color:tr.color||er.color},er.style),tr.style),height:ar,width:ar,xmlns:"http://www.w3.org/2000/svg"}),rr&&React.createElement("title",null,rr),tr.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,er=>Hn(er)):Hn(DefaultContext)}function MdOutlineTableChart(tr){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 2v3H5V5h15zm-5 14h-5v-9h5v9zM5 10h3v9H5v-9zm12 9v-9h3v9h-3z"},child:[]}]})(tr)}const UpdateDataModal=({isVisible:tr,latestData:Hn,onConfirm:er,onCancel:nr})=>{if(!tr||!Hn)return null;const rr=((sr,ar,or,lr,cr)=>`${String(sr).padStart(2,"0")}/${String(ar).padStart(2,"0")}/${or} ${String(lr).padStart(2,"0")}:${String(cr).padStart(2,"0")}`)(Hn.day,Hn.month,Hn.year,Hn.hour,Hn.minute);return jsxRuntimeExports.jsx("div",{className:"update-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"update-modal-container",children:[jsxRuntimeExports.jsxs("div",{className:"update-modal-header",children:[jsxRuntimeExports.jsx("div",{className:"update-modal-icon",children:""}),jsxRuntimeExports.jsx("h2",{children:"D Liu Mi C Sn"}),jsxRuntimeExports.jsx("button",{className:"update-modal-close",onClick:nr,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"update-modal-body",children:[jsxRuntimeExports.jsx("p",{className:"update-modal-message",children:" c d liu vng mi hn cho thi gian:"}),jsxRuntimeExports.jsxs("div",{className:"update-modal-timestamp",children:[jsxRuntimeExports.jsx("span",{className:"time-icon",children:""}),jsxRuntimeExports.jsx("span",{className:"time-value",children:rr})]}),jsxRuntimeExports.jsx("p",{className:"update-modal-subtext",children:"Bn c mun cp nht  xem d liu mi nht khng?"})]}),jsxRuntimeExports.jsxs("div",{className:"update-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"btn-cancel",onClick:nr,children:"Khng, Cm n"}),jsxRuntimeExports.jsx("button",{className:"btn-confirm",onClick:er,children:" Cp Nht Ngay"})]})]})})},LiveNewsBell=({onClick:tr,hasNew:Hn})=>jsxRuntimeExports.jsx("button",{className:`notification-bell ${Hn?"has-unread":""}`,onClick:tr,title:"Tin tc mi",children:jsxRuntimeExports.jsx("span",{className:"bell-icon",children:""})});function bind(tr,Hn){return function(){return tr.apply(Hn,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(tr=>Hn=>{const er=toString$2.call(Hn);return tr[er]||(tr[er]=er.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=tr=>(tr=tr.toLowerCase(),Hn=>kindOf(Hn)===tr),typeOfTest=tr=>Hn=>typeof Hn===tr,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(tr){return tr!==null&&!isUndefined(tr)&&tr.constructor!==null&&!isUndefined(tr.constructor)&&isFunction$1(tr.constructor.isBuffer)&&tr.constructor.isBuffer(tr)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(tr){let Hn;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Hn=ArrayBuffer.isView(tr):Hn=tr&&tr.buffer&&isArrayBuffer(tr.buffer),Hn}const isString$1=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=tr=>tr!==null&&typeof tr=="object",isBoolean$1=tr=>tr===!0||tr===!1,isPlainObject$5=tr=>{if(kindOf(tr)!=="object")return!1;const Hn=getPrototypeOf$1(tr);return(Hn===null||Hn===Object.prototype||Object.getPrototypeOf(Hn)===null)&&!(toStringTag in tr)&&!(iterator in tr)},isEmptyObject=tr=>{if(!isObject$1(tr)||isBuffer(tr))return!1;try{return Object.keys(tr).length===0&&Object.getPrototypeOf(tr)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=tr=>isObject$1(tr)&&isFunction$1(tr.pipe),isFormData=tr=>{let Hn;return tr&&(typeof FormData=="function"&&tr instanceof FormData||isFunction$1(tr.append)&&((Hn=kindOf(tr))==="formdata"||Hn==="object"&&isFunction$1(tr.toString)&&tr.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=tr=>tr.trim?tr.trim():tr.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(tr,Hn,{allOwnKeys:er=!1}={}){if(tr===null||typeof tr>"u")return;let nr,ir;if(typeof tr!="object"&&(tr=[tr]),isArray(tr))for(nr=0,ir=tr.length;nr<ir;nr++)Hn.call(null,tr[nr],nr,tr);else{if(isBuffer(tr))return;const rr=er?Object.getOwnPropertyNames(tr):Object.keys(tr),sr=rr.length;let ar;for(nr=0;nr<sr;nr++)ar=rr[nr],Hn.call(null,tr[ar],ar,tr)}}function findKey(tr,Hn){if(isBuffer(tr))return null;Hn=Hn.toLowerCase();const er=Object.keys(tr);let nr=er.length,ir;for(;nr-- >0;)if(ir=er[nr],Hn===ir.toLowerCase())return ir;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=tr=>!isUndefined(tr)&&tr!==_global;function merge(){const{caseless:tr,skipUndefined:Hn}=isContextDefined(this)&&this||{},er={},nr=(ir,rr)=>{const sr=tr&&findKey(er,rr)||rr;isPlainObject$5(er[sr])&&isPlainObject$5(ir)?er[sr]=merge(er[sr],ir):isPlainObject$5(ir)?er[sr]=merge({},ir):isArray(ir)?er[sr]=ir.slice():(!Hn||!isUndefined(ir))&&(er[sr]=ir)};for(let ir=0,rr=arguments.length;ir<rr;ir++)arguments[ir]&&forEach(arguments[ir],nr);return er}const extend$1=(tr,Hn,er,{allOwnKeys:nr}={})=>(forEach(Hn,(ir,rr)=>{er&&isFunction$1(ir)?tr[rr]=bind(ir,er):tr[rr]=ir},{allOwnKeys:nr}),tr),stripBOM=tr=>(tr.charCodeAt(0)===65279&&(tr=tr.slice(1)),tr),inherits=(tr,Hn,er,nr)=>{tr.prototype=Object.create(Hn.prototype,nr),tr.prototype.constructor=tr,Object.defineProperty(tr,"super",{value:Hn.prototype}),er&&Object.assign(tr.prototype,er)},toFlatObject=(tr,Hn,er,nr)=>{let ir,rr,sr;const ar={};if(Hn=Hn||{},tr==null)return Hn;do{for(ir=Object.getOwnPropertyNames(tr),rr=ir.length;rr-- >0;)sr=ir[rr],(!nr||nr(sr,tr,Hn))&&!ar[sr]&&(Hn[sr]=tr[sr],ar[sr]=!0);tr=er!==!1&&getPrototypeOf$1(tr)}while(tr&&(!er||er(tr,Hn))&&tr!==Object.prototype);return Hn},endsWith=(tr,Hn,er)=>{tr=String(tr),(er===void 0||er>tr.length)&&(er=tr.length),er-=Hn.length;const nr=tr.indexOf(Hn,er);return nr!==-1&&nr===er},toArray$2=tr=>{if(!tr)return null;if(isArray(tr))return tr;let Hn=tr.length;if(!isNumber$1(Hn))return null;const er=new Array(Hn);for(;Hn-- >0;)er[Hn]=tr[Hn];return er},isTypedArray$1=(tr=>Hn=>tr&&Hn instanceof tr)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(tr,Hn)=>{const nr=(tr&&tr[iterator]).call(tr);let ir;for(;(ir=nr.next())&&!ir.done;){const rr=ir.value;Hn.call(tr,rr[0],rr[1])}},matchAll=(tr,Hn)=>{let er;const nr=[];for(;(er=tr.exec(Hn))!==null;)nr.push(er);return nr},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=tr=>tr.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(er,nr,ir){return nr.toUpperCase()+ir}),hasOwnProperty=(({hasOwnProperty:tr})=>(Hn,er)=>tr.call(Hn,er))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(tr,Hn)=>{const er=Object.getOwnPropertyDescriptors(tr),nr={};forEach(er,(ir,rr)=>{let sr;(sr=Hn(ir,rr,tr))!==!1&&(nr[rr]=sr||ir)}),Object.defineProperties(tr,nr)},freezeMethods=tr=>{reduceDescriptors(tr,(Hn,er)=>{if(isFunction$1(tr)&&["arguments","caller","callee"].indexOf(er)!==-1)return!1;const nr=tr[er];if(isFunction$1(nr)){if(Hn.enumerable=!1,"writable"in Hn){Hn.writable=!1;return}Hn.set||(Hn.set=()=>{throw Error("Can not rewrite read-only method '"+er+"'")})}})},toObjectSet=(tr,Hn)=>{const er={},nr=ir=>{ir.forEach(rr=>{er[rr]=!0})};return isArray(tr)?nr(tr):nr(String(tr).split(Hn)),er},noop$4=()=>{},toFiniteNumber$1=(tr,Hn)=>tr!=null&&Number.isFinite(tr=+tr)?tr:Hn;function isSpecCompliantForm(tr){return!!(tr&&isFunction$1(tr.append)&&tr[toStringTag]==="FormData"&&tr[iterator])}const toJSONObject=tr=>{const Hn=new Array(10),er=(nr,ir)=>{if(isObject$1(nr)){if(Hn.indexOf(nr)>=0)return;if(isBuffer(nr))return nr;if(!("toJSON"in nr)){Hn[ir]=nr;const rr=isArray(nr)?[]:{};return forEach(nr,(sr,ar)=>{const or=er(sr,ir+1);!isUndefined(or)&&(rr[ar]=or)}),Hn[ir]=void 0,rr}}return nr};return er(tr,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=tr=>tr&&(isObject$1(tr)||isFunction$1(tr))&&isFunction$1(tr.then)&&isFunction$1(tr.catch),_setImmediate=((tr,Hn)=>tr?setImmediate:Hn?((er,nr)=>(_global.addEventListener("message",({source:ir,data:rr})=>{ir===_global&&rr===er&&nr.length&&nr.shift()()},!1),ir=>{nr.push(ir),_global.postMessage(er,"*")}))(`axios@${Math.random()}`,[]):er=>setTimeout(er))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=tr=>tr!=null&&isFunction$1(tr[iterator]),utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject:isPlainObject$5,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$2,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$4,toFiniteNumber:toFiniteNumber$1,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(tr,Hn,er,nr,ir){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=tr,this.name="AxiosError",Hn&&(this.code=Hn),er&&(this.config=er),nr&&(this.request=nr),ir&&(this.response=ir,this.status=ir.status?ir.status:null)}utils$2.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(tr=>{descriptors[tr]={value:tr}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(tr,Hn,er,nr,ir,rr)=>{const sr=Object.create(prototype$1);utils$2.toFlatObject(tr,sr,function(cr){return cr!==Error.prototype},lr=>lr!=="isAxiosError");const ar=tr&&tr.message?tr.message:"Error",or=Hn==null&&tr?tr.code:Hn;return AxiosError$1.call(sr,ar,or,er,nr,ir),tr&&sr.cause==null&&Object.defineProperty(sr,"cause",{value:tr,configurable:!0}),sr.name=tr&&tr.name||"Error",rr&&Object.assign(sr,rr),sr};const httpAdapter=null;function isVisitable(tr){return utils$2.isPlainObject(tr)||utils$2.isArray(tr)}function removeBrackets(tr){return utils$2.endsWith(tr,"[]")?tr.slice(0,-2):tr}function renderKey(tr,Hn,er){return tr?tr.concat(Hn).map(function(ir,rr){return ir=removeBrackets(ir),!er&&rr?"["+ir+"]":ir}).join(er?".":""):Hn}function isFlatArray(tr){return utils$2.isArray(tr)&&!tr.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(Hn){return/^is[A-Z]/.test(Hn)});function toFormData$1(tr,Hn,er){if(!utils$2.isObject(tr))throw new TypeError("target must be an object");Hn=Hn||new FormData,er=utils$2.toFlatObject(er,{metaTokens:!0,dots:!1,indexes:!1},!1,function(yr,_r){return!utils$2.isUndefined(_r[yr])});const nr=er.metaTokens,ir=er.visitor||cr,rr=er.dots,sr=er.indexes,or=(er.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(Hn);if(!utils$2.isFunction(ir))throw new TypeError("visitor must be a function");function lr(xr){if(xr===null)return"";if(utils$2.isDate(xr))return xr.toISOString();if(utils$2.isBoolean(xr))return xr.toString();if(!or&&utils$2.isBlob(xr))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(xr)||utils$2.isTypedArray(xr)?or&&typeof Blob=="function"?new Blob([xr]):Buffer.from(xr):xr}function cr(xr,yr,_r){let Sr=xr;if(xr&&!_r&&typeof xr=="object"){if(utils$2.endsWith(yr,"{}"))yr=nr?yr:yr.slice(0,-2),xr=JSON.stringify(xr);else if(utils$2.isArray(xr)&&isFlatArray(xr)||(utils$2.isFileList(xr)||utils$2.endsWith(yr,"[]"))&&(Sr=utils$2.toArray(xr)))return yr=removeBrackets(yr),Sr.forEach(function(Dr,Ir){!(utils$2.isUndefined(Dr)||Dr===null)&&Hn.append(sr===!0?renderKey([yr],Ir,rr):sr===null?yr:yr+"[]",lr(Dr))}),!1}return isVisitable(xr)?!0:(Hn.append(renderKey(_r,yr,rr),lr(xr)),!1)}const ur=[],dr=Object.assign(predicates,{defaultVisitor:cr,convertValue:lr,isVisitable});function fr(xr,yr){if(!utils$2.isUndefined(xr)){if(ur.indexOf(xr)!==-1)throw Error("Circular reference detected in "+yr.join("."));ur.push(xr),utils$2.forEach(xr,function(Sr,jr){(!(utils$2.isUndefined(Sr)||Sr===null)&&ir.call(Hn,Sr,utils$2.isString(jr)?jr.trim():jr,yr,dr))===!0&&fr(Sr,yr?yr.concat(jr):[jr])}),ur.pop()}}if(!utils$2.isObject(tr))throw new TypeError("data must be an object");return fr(tr),Hn}function encode$1(tr){const Hn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(tr).replace(/[!'()~]|%20|%00/g,function(nr){return Hn[nr]})}function AxiosURLSearchParams(tr,Hn){this._pairs=[],tr&&toFormData$1(tr,this,Hn)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(Hn,er){this._pairs.push([Hn,er])};prototype.toString=function(Hn){const er=Hn?function(nr){return Hn.call(this,nr,encode$1)}:encode$1;return this._pairs.map(function(ir){return er(ir[0])+"="+er(ir[1])},"").join("&")};function encode(tr){return encodeURIComponent(tr).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(tr,Hn,er){if(!Hn)return tr;const nr=er&&er.encode||encode;utils$2.isFunction(er)&&(er={serialize:er});const ir=er&&er.serialize;let rr;if(ir?rr=ir(Hn,er):rr=utils$2.isURLSearchParams(Hn)?Hn.toString():new AxiosURLSearchParams(Hn,er).toString(nr),rr){const sr=tr.indexOf("#");sr!==-1&&(tr=tr.slice(0,sr)),tr+=(tr.indexOf("?")===-1?"?":"&")+rr}return tr}class InterceptorManager{constructor(){this.handlers=[]}use(Hn,er,nr){return this.handlers.push({fulfilled:Hn,rejected:er,synchronous:nr?nr.synchronous:!1,runWhen:nr?nr.runWhen:null}),this.handlers.length-1}eject(Hn){this.handlers[Hn]&&(this.handlers[Hn]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(Hn){utils$2.forEach(this.handlers,function(nr){nr!==null&&Hn(nr)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform$1={...utils$1,...platform$2};function toURLEncodedForm(tr,Hn){return toFormData$1(tr,new platform$1.classes.URLSearchParams,{visitor:function(er,nr,ir,rr){return platform$1.isNode&&utils$2.isBuffer(er)?(this.append(nr,er.toString("base64")),!1):rr.defaultVisitor.apply(this,arguments)},...Hn})}function parsePropPath(tr){return utils$2.matchAll(/\w+|\[(\w*)]/g,tr).map(Hn=>Hn[0]==="[]"?"":Hn[1]||Hn[0])}function arrayToObject(tr){const Hn={},er=Object.keys(tr);let nr;const ir=er.length;let rr;for(nr=0;nr<ir;nr++)rr=er[nr],Hn[rr]=tr[rr];return Hn}function formDataToJSON(tr){function Hn(er,nr,ir,rr){let sr=er[rr++];if(sr==="__proto__")return!0;const ar=Number.isFinite(+sr),or=rr>=er.length;return sr=!sr&&utils$2.isArray(ir)?ir.length:sr,or?(utils$2.hasOwnProp(ir,sr)?ir[sr]=[ir[sr],nr]:ir[sr]=nr,!ar):((!ir[sr]||!utils$2.isObject(ir[sr]))&&(ir[sr]=[]),Hn(er,nr,ir[sr],rr)&&utils$2.isArray(ir[sr])&&(ir[sr]=arrayToObject(ir[sr])),!ar)}if(utils$2.isFormData(tr)&&utils$2.isFunction(tr.entries)){const er={};return utils$2.forEachEntry(tr,(nr,ir)=>{Hn(parsePropPath(nr),ir,er,0)}),er}return null}function stringifySafely(tr,Hn,er){if(utils$2.isString(tr))try{return(Hn||JSON.parse)(tr),utils$2.trim(tr)}catch(nr){if(nr.name!=="SyntaxError")throw nr}return(er||JSON.stringify)(tr)}const defaults$3={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(Hn,er){const nr=er.getContentType()||"",ir=nr.indexOf("application/json")>-1,rr=utils$2.isObject(Hn);if(rr&&utils$2.isHTMLForm(Hn)&&(Hn=new FormData(Hn)),utils$2.isFormData(Hn))return ir?JSON.stringify(formDataToJSON(Hn)):Hn;if(utils$2.isArrayBuffer(Hn)||utils$2.isBuffer(Hn)||utils$2.isStream(Hn)||utils$2.isFile(Hn)||utils$2.isBlob(Hn)||utils$2.isReadableStream(Hn))return Hn;if(utils$2.isArrayBufferView(Hn))return Hn.buffer;if(utils$2.isURLSearchParams(Hn))return er.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Hn.toString();let ar;if(rr){if(nr.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(Hn,this.formSerializer).toString();if((ar=utils$2.isFileList(Hn))||nr.indexOf("multipart/form-data")>-1){const or=this.env&&this.env.FormData;return toFormData$1(ar?{"files[]":Hn}:Hn,or&&new or,this.formSerializer)}}return rr||ir?(er.setContentType("application/json",!1),stringifySafely(Hn)):Hn}],transformResponse:[function(Hn){const er=this.transitional||defaults$3.transitional,nr=er&&er.forcedJSONParsing,ir=this.responseType==="json";if(utils$2.isResponse(Hn)||utils$2.isReadableStream(Hn))return Hn;if(Hn&&utils$2.isString(Hn)&&(nr&&!this.responseType||ir)){const sr=!(er&&er.silentJSONParsing)&&ir;try{return JSON.parse(Hn,this.parseReviver)}catch(ar){if(sr)throw ar.name==="SyntaxError"?AxiosError$1.from(ar,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):ar}}return Hn}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(Hn){return Hn>=200&&Hn<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],tr=>{defaults$3.headers[tr]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=tr=>{const Hn={};let er,nr,ir;return tr&&tr.split(`
`).forEach(function(sr){ir=sr.indexOf(":"),er=sr.substring(0,ir).trim().toLowerCase(),nr=sr.substring(ir+1).trim(),!(!er||Hn[er]&&ignoreDuplicateOf[er])&&(er==="set-cookie"?Hn[er]?Hn[er].push(nr):Hn[er]=[nr]:Hn[er]=Hn[er]?Hn[er]+", "+nr:nr)}),Hn},$internals=Symbol("internals");function normalizeHeader(tr){return tr&&String(tr).trim().toLowerCase()}function normalizeValue(tr){return tr===!1||tr==null?tr:utils$2.isArray(tr)?tr.map(normalizeValue):String(tr)}function parseTokens(tr){const Hn=Object.create(null),er=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nr;for(;nr=er.exec(tr);)Hn[nr[1]]=nr[2];return Hn}const isValidHeaderName=tr=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(tr.trim());function matchHeaderValue(tr,Hn,er,nr,ir){if(utils$2.isFunction(nr))return nr.call(this,Hn,er);if(ir&&(Hn=er),!!utils$2.isString(Hn)){if(utils$2.isString(nr))return Hn.indexOf(nr)!==-1;if(utils$2.isRegExp(nr))return nr.test(Hn)}}function formatHeader(tr){return tr.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(Hn,er,nr)=>er.toUpperCase()+nr)}function buildAccessors(tr,Hn){const er=utils$2.toCamelCase(" "+Hn);["get","set","has"].forEach(nr=>{Object.defineProperty(tr,nr+er,{value:function(ir,rr,sr){return this[nr].call(this,Hn,ir,rr,sr)},configurable:!0})})}let AxiosHeaders$1=class{constructor(Hn){Hn&&this.set(Hn)}set(Hn,er,nr){const ir=this;function rr(ar,or,lr){const cr=normalizeHeader(or);if(!cr)throw new Error("header name must be a non-empty string");const ur=utils$2.findKey(ir,cr);(!ur||ir[ur]===void 0||lr===!0||lr===void 0&&ir[ur]!==!1)&&(ir[ur||or]=normalizeValue(ar))}const sr=(ar,or)=>utils$2.forEach(ar,(lr,cr)=>rr(lr,cr,or));if(utils$2.isPlainObject(Hn)||Hn instanceof this.constructor)sr(Hn,er);else if(utils$2.isString(Hn)&&(Hn=Hn.trim())&&!isValidHeaderName(Hn))sr(parseHeaders(Hn),er);else if(utils$2.isObject(Hn)&&utils$2.isIterable(Hn)){let ar={},or,lr;for(const cr of Hn){if(!utils$2.isArray(cr))throw TypeError("Object iterator must return a key-value pair");ar[lr=cr[0]]=(or=ar[lr])?utils$2.isArray(or)?[...or,cr[1]]:[or,cr[1]]:cr[1]}sr(ar,er)}else Hn!=null&&rr(er,Hn,nr);return this}get(Hn,er){if(Hn=normalizeHeader(Hn),Hn){const nr=utils$2.findKey(this,Hn);if(nr){const ir=this[nr];if(!er)return ir;if(er===!0)return parseTokens(ir);if(utils$2.isFunction(er))return er.call(this,ir,nr);if(utils$2.isRegExp(er))return er.exec(ir);throw new TypeError("parser must be boolean|regexp|function")}}}has(Hn,er){if(Hn=normalizeHeader(Hn),Hn){const nr=utils$2.findKey(this,Hn);return!!(nr&&this[nr]!==void 0&&(!er||matchHeaderValue(this,this[nr],nr,er)))}return!1}delete(Hn,er){const nr=this;let ir=!1;function rr(sr){if(sr=normalizeHeader(sr),sr){const ar=utils$2.findKey(nr,sr);ar&&(!er||matchHeaderValue(nr,nr[ar],ar,er))&&(delete nr[ar],ir=!0)}}return utils$2.isArray(Hn)?Hn.forEach(rr):rr(Hn),ir}clear(Hn){const er=Object.keys(this);let nr=er.length,ir=!1;for(;nr--;){const rr=er[nr];(!Hn||matchHeaderValue(this,this[rr],rr,Hn,!0))&&(delete this[rr],ir=!0)}return ir}normalize(Hn){const er=this,nr={};return utils$2.forEach(this,(ir,rr)=>{const sr=utils$2.findKey(nr,rr);if(sr){er[sr]=normalizeValue(ir),delete er[rr];return}const ar=Hn?formatHeader(rr):String(rr).trim();ar!==rr&&delete er[rr],er[ar]=normalizeValue(ir),nr[ar]=!0}),this}concat(...Hn){return this.constructor.concat(this,...Hn)}toJSON(Hn){const er=Object.create(null);return utils$2.forEach(this,(nr,ir)=>{nr!=null&&nr!==!1&&(er[ir]=Hn&&utils$2.isArray(nr)?nr.join(", "):nr)}),er}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([Hn,er])=>Hn+": "+er).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(Hn){return Hn instanceof this?Hn:new this(Hn)}static concat(Hn,...er){const nr=new this(Hn);return er.forEach(ir=>nr.set(ir)),nr}static accessor(Hn){const nr=(this[$internals]=this[$internals]={accessors:{}}).accessors,ir=this.prototype;function rr(sr){const ar=normalizeHeader(sr);nr[ar]||(buildAccessors(ir,sr),nr[ar]=!0)}return utils$2.isArray(Hn)?Hn.forEach(rr):rr(Hn),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders$1.prototype,({value:tr},Hn)=>{let er=Hn[0].toUpperCase()+Hn.slice(1);return{get:()=>tr,set(nr){this[er]=nr}}});utils$2.freezeMethods(AxiosHeaders$1);function transformData(tr,Hn){const er=this||defaults$3,nr=Hn||er,ir=AxiosHeaders$1.from(nr.headers);let rr=nr.data;return utils$2.forEach(tr,function(ar){rr=ar.call(er,rr,ir.normalize(),Hn?Hn.status:void 0)}),ir.normalize(),rr}function isCancel$1(tr){return!!(tr&&tr.__CANCEL__)}function CanceledError$1(tr,Hn,er){AxiosError$1.call(this,tr??"canceled",AxiosError$1.ERR_CANCELED,Hn,er),this.name="CanceledError"}utils$2.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(tr,Hn,er){const nr=er.config.validateStatus;!er.status||!nr||nr(er.status)?tr(er):Hn(new AxiosError$1("Request failed with status code "+er.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(er.status/100)-4],er.config,er.request,er))}function parseProtocol(tr){const Hn=/^([-+\w]{1,25})(:?\/\/|:)/.exec(tr);return Hn&&Hn[1]||""}function speedometer(tr,Hn){tr=tr||10;const er=new Array(tr),nr=new Array(tr);let ir=0,rr=0,sr;return Hn=Hn!==void 0?Hn:1e3,function(or){const lr=Date.now(),cr=nr[rr];sr||(sr=lr),er[ir]=or,nr[ir]=lr;let ur=rr,dr=0;for(;ur!==ir;)dr+=er[ur++],ur=ur%tr;if(ir=(ir+1)%tr,ir===rr&&(rr=(rr+1)%tr),lr-sr<Hn)return;const fr=cr&&lr-cr;return fr?Math.round(dr*1e3/fr):void 0}}function throttle$3(tr,Hn){let er=0,nr=1e3/Hn,ir,rr;const sr=(lr,cr=Date.now())=>{er=cr,ir=null,rr&&(clearTimeout(rr),rr=null),tr(...lr)};return[(...lr)=>{const cr=Date.now(),ur=cr-er;ur>=nr?sr(lr,cr):(ir=lr,rr||(rr=setTimeout(()=>{rr=null,sr(ir)},nr-ur)))},()=>ir&&sr(ir)]}const progressEventReducer=(tr,Hn,er=3)=>{let nr=0;const ir=speedometer(50,250);return throttle$3(rr=>{const sr=rr.loaded,ar=rr.lengthComputable?rr.total:void 0,or=sr-nr,lr=ir(or),cr=sr<=ar;nr=sr;const ur={loaded:sr,total:ar,progress:ar?sr/ar:void 0,bytes:or,rate:lr||void 0,estimated:lr&&ar&&cr?(ar-sr)/lr:void 0,event:rr,lengthComputable:ar!=null,[Hn?"download":"upload"]:!0};tr(ur)},er)},progressEventDecorator=(tr,Hn)=>{const er=tr!=null;return[nr=>Hn[0]({lengthComputable:er,total:tr,loaded:nr}),Hn[1]]},asyncDecorator=tr=>(...Hn)=>utils$2.asap(()=>tr(...Hn)),isURLSameOrigin=platform$1.hasStandardBrowserEnv?((tr,Hn)=>er=>(er=new URL(er,platform$1.origin),tr.protocol===er.protocol&&tr.host===er.host&&(Hn||tr.port===er.port)))(new URL(platform$1.origin),platform$1.navigator&&/(msie|trident)/i.test(platform$1.navigator.userAgent)):()=>!0,cookies=platform$1.hasStandardBrowserEnv?{write(tr,Hn,er,nr,ir,rr,sr){if(typeof document>"u")return;const ar=[`${tr}=${encodeURIComponent(Hn)}`];utils$2.isNumber(er)&&ar.push(`expires=${new Date(er).toUTCString()}`),utils$2.isString(nr)&&ar.push(`path=${nr}`),utils$2.isString(ir)&&ar.push(`domain=${ir}`),rr===!0&&ar.push("secure"),utils$2.isString(sr)&&ar.push(`SameSite=${sr}`),document.cookie=ar.join("; ")},read(tr){if(typeof document>"u")return null;const Hn=document.cookie.match(new RegExp("(?:^|; )"+tr+"=([^;]*)"));return Hn?decodeURIComponent(Hn[1]):null},remove(tr){this.write(tr,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(tr){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(tr)}function combineURLs(tr,Hn){return Hn?tr.replace(/\/?\/$/,"")+"/"+Hn.replace(/^\/+/,""):tr}function buildFullPath(tr,Hn,er){let nr=!isAbsoluteURL(Hn);return tr&&(nr||er==!1)?combineURLs(tr,Hn):Hn}const headersToObject=tr=>tr instanceof AxiosHeaders$1?{...tr}:tr;function mergeConfig$1(tr,Hn){Hn=Hn||{};const er={};function nr(lr,cr,ur,dr){return utils$2.isPlainObject(lr)&&utils$2.isPlainObject(cr)?utils$2.merge.call({caseless:dr},lr,cr):utils$2.isPlainObject(cr)?utils$2.merge({},cr):utils$2.isArray(cr)?cr.slice():cr}function ir(lr,cr,ur,dr){if(utils$2.isUndefined(cr)){if(!utils$2.isUndefined(lr))return nr(void 0,lr,ur,dr)}else return nr(lr,cr,ur,dr)}function rr(lr,cr){if(!utils$2.isUndefined(cr))return nr(void 0,cr)}function sr(lr,cr){if(utils$2.isUndefined(cr)){if(!utils$2.isUndefined(lr))return nr(void 0,lr)}else return nr(void 0,cr)}function ar(lr,cr,ur){if(ur in Hn)return nr(lr,cr);if(ur in tr)return nr(void 0,lr)}const or={url:rr,method:rr,data:rr,baseURL:sr,transformRequest:sr,transformResponse:sr,paramsSerializer:sr,timeout:sr,timeoutMessage:sr,withCredentials:sr,withXSRFToken:sr,adapter:sr,responseType:sr,xsrfCookieName:sr,xsrfHeaderName:sr,onUploadProgress:sr,onDownloadProgress:sr,decompress:sr,maxContentLength:sr,maxBodyLength:sr,beforeRedirect:sr,transport:sr,httpAgent:sr,httpsAgent:sr,cancelToken:sr,socketPath:sr,responseEncoding:sr,validateStatus:ar,headers:(lr,cr,ur)=>ir(headersToObject(lr),headersToObject(cr),ur,!0)};return utils$2.forEach(Object.keys({...tr,...Hn}),function(cr){const ur=or[cr]||ir,dr=ur(tr[cr],Hn[cr],cr);utils$2.isUndefined(dr)&&ur!==ar||(er[cr]=dr)}),er}const resolveConfig=tr=>{const Hn=mergeConfig$1({},tr);let{data:er,withXSRFToken:nr,xsrfHeaderName:ir,xsrfCookieName:rr,headers:sr,auth:ar}=Hn;if(Hn.headers=sr=AxiosHeaders$1.from(sr),Hn.url=buildURL(buildFullPath(Hn.baseURL,Hn.url,Hn.allowAbsoluteUrls),tr.params,tr.paramsSerializer),ar&&sr.set("Authorization","Basic "+btoa((ar.username||"")+":"+(ar.password?unescape(encodeURIComponent(ar.password)):""))),utils$2.isFormData(er)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)sr.setContentType(void 0);else if(utils$2.isFunction(er.getHeaders)){const or=er.getHeaders(),lr=["content-type","content-length"];Object.entries(or).forEach(([cr,ur])=>{lr.includes(cr.toLowerCase())&&sr.set(cr,ur)})}}if(platform$1.hasStandardBrowserEnv&&(nr&&utils$2.isFunction(nr)&&(nr=nr(Hn)),nr||nr!==!1&&isURLSameOrigin(Hn.url))){const or=ir&&rr&&cookies.read(rr);or&&sr.set(ir,or)}return Hn},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(tr){return new Promise(function(er,nr){const ir=resolveConfig(tr);let rr=ir.data;const sr=AxiosHeaders$1.from(ir.headers).normalize();let{responseType:ar,onUploadProgress:or,onDownloadProgress:lr}=ir,cr,ur,dr,fr,xr;function yr(){fr&&fr(),xr&&xr(),ir.cancelToken&&ir.cancelToken.unsubscribe(cr),ir.signal&&ir.signal.removeEventListener("abort",cr)}let _r=new XMLHttpRequest;_r.open(ir.method.toUpperCase(),ir.url,!0),_r.timeout=ir.timeout;function Sr(){if(!_r)return;const Dr=AxiosHeaders$1.from("getAllResponseHeaders"in _r&&_r.getAllResponseHeaders()),Mr={data:!ar||ar==="text"||ar==="json"?_r.responseText:_r.response,status:_r.status,statusText:_r.statusText,headers:Dr,config:tr,request:_r};settle(function(Lr){er(Lr),yr()},function(Lr){nr(Lr),yr()},Mr),_r=null}"onloadend"in _r?_r.onloadend=Sr:_r.onreadystatechange=function(){!_r||_r.readyState!==4||_r.status===0&&!(_r.responseURL&&_r.responseURL.indexOf("file:")===0)||setTimeout(Sr)},_r.onabort=function(){_r&&(nr(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,tr,_r)),_r=null)},_r.onerror=function(Ir){const Mr=Ir&&Ir.message?Ir.message:"Network Error",Or=new AxiosError$1(Mr,AxiosError$1.ERR_NETWORK,tr,_r);Or.event=Ir||null,nr(Or),_r=null},_r.ontimeout=function(){let Ir=ir.timeout?"timeout of "+ir.timeout+"ms exceeded":"timeout exceeded";const Mr=ir.transitional||transitionalDefaults;ir.timeoutErrorMessage&&(Ir=ir.timeoutErrorMessage),nr(new AxiosError$1(Ir,Mr.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,tr,_r)),_r=null},rr===void 0&&sr.setContentType(null),"setRequestHeader"in _r&&utils$2.forEach(sr.toJSON(),function(Ir,Mr){_r.setRequestHeader(Mr,Ir)}),utils$2.isUndefined(ir.withCredentials)||(_r.withCredentials=!!ir.withCredentials),ar&&ar!=="json"&&(_r.responseType=ir.responseType),lr&&([dr,xr]=progressEventReducer(lr,!0),_r.addEventListener("progress",dr)),or&&_r.upload&&([ur,fr]=progressEventReducer(or),_r.upload.addEventListener("progress",ur),_r.upload.addEventListener("loadend",fr)),(ir.cancelToken||ir.signal)&&(cr=Dr=>{_r&&(nr(!Dr||Dr.type?new CanceledError$1(null,tr,_r):Dr),_r.abort(),_r=null)},ir.cancelToken&&ir.cancelToken.subscribe(cr),ir.signal&&(ir.signal.aborted?cr():ir.signal.addEventListener("abort",cr)));const jr=parseProtocol(ir.url);if(jr&&platform$1.protocols.indexOf(jr)===-1){nr(new AxiosError$1("Unsupported protocol "+jr+":",AxiosError$1.ERR_BAD_REQUEST,tr));return}_r.send(rr||null)})},composeSignals=(tr,Hn)=>{const{length:er}=tr=tr?tr.filter(Boolean):[];if(Hn||er){let nr=new AbortController,ir;const rr=function(lr){if(!ir){ir=!0,ar();const cr=lr instanceof Error?lr:this.reason;nr.abort(cr instanceof AxiosError$1?cr:new CanceledError$1(cr instanceof Error?cr.message:cr))}};let sr=Hn&&setTimeout(()=>{sr=null,rr(new AxiosError$1(`timeout ${Hn} of ms exceeded`,AxiosError$1.ETIMEDOUT))},Hn);const ar=()=>{tr&&(sr&&clearTimeout(sr),sr=null,tr.forEach(lr=>{lr.unsubscribe?lr.unsubscribe(rr):lr.removeEventListener("abort",rr)}),tr=null)};tr.forEach(lr=>lr.addEventListener("abort",rr));const{signal:or}=nr;return or.unsubscribe=()=>utils$2.asap(ar),or}},streamChunk=function*(tr,Hn){let er=tr.byteLength;if(er<Hn){yield tr;return}let nr=0,ir;for(;nr<er;)ir=nr+Hn,yield tr.slice(nr,ir),nr=ir},readBytes=async function*(tr,Hn){for await(const er of readStream(tr))yield*streamChunk(er,Hn)},readStream=async function*(tr){if(tr[Symbol.asyncIterator]){yield*tr;return}const Hn=tr.getReader();try{for(;;){const{done:er,value:nr}=await Hn.read();if(er)break;yield nr}}finally{await Hn.cancel()}},trackStream=(tr,Hn,er,nr)=>{const ir=readBytes(tr,Hn);let rr=0,sr,ar=or=>{sr||(sr=!0,nr&&nr(or))};return new ReadableStream({async pull(or){try{const{done:lr,value:cr}=await ir.next();if(lr){ar(),or.close();return}let ur=cr.byteLength;if(er){let dr=rr+=ur;er(dr)}or.enqueue(new Uint8Array(cr))}catch(lr){throw ar(lr),lr}},cancel(or){return ar(or),ir.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils$2,globalFetchAPI=(({Request:tr,Response:Hn})=>({Request:tr,Response:Hn}))(utils$2.global),{ReadableStream:ReadableStream$1,TextEncoder}=utils$2.global,test=(tr,...Hn)=>{try{return!!tr(...Hn)}catch{return!1}},factory=tr=>{tr=utils$2.merge.call({skipUndefined:!0},globalFetchAPI,tr);const{fetch:Hn,Request:er,Response:nr}=tr,ir=Hn?isFunction(Hn):typeof fetch=="function",rr=isFunction(er),sr=isFunction(nr);if(!ir)return!1;const ar=ir&&isFunction(ReadableStream$1),or=ir&&(typeof TextEncoder=="function"?(xr=>yr=>xr.encode(yr))(new TextEncoder):async xr=>new Uint8Array(await new er(xr).arrayBuffer())),lr=rr&&ar&&test(()=>{let xr=!1;const yr=new er(platform$1.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return xr=!0,"half"}}).headers.has("Content-Type");return xr&&!yr}),cr=sr&&ar&&test(()=>utils$2.isReadableStream(new nr("").body)),ur={stream:cr&&(xr=>xr.body)};ir&&["text","arrayBuffer","blob","formData","stream"].forEach(xr=>{!ur[xr]&&(ur[xr]=(yr,_r)=>{let Sr=yr&&yr[xr];if(Sr)return Sr.call(yr);throw new AxiosError$1(`Response type '${xr}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,_r)})});const dr=async xr=>{if(xr==null)return 0;if(utils$2.isBlob(xr))return xr.size;if(utils$2.isSpecCompliantForm(xr))return(await new er(platform$1.origin,{method:"POST",body:xr}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(xr)||utils$2.isArrayBuffer(xr))return xr.byteLength;if(utils$2.isURLSearchParams(xr)&&(xr=xr+""),utils$2.isString(xr))return(await or(xr)).byteLength},fr=async(xr,yr)=>{const _r=utils$2.toFiniteNumber(xr.getContentLength());return _r??dr(yr)};return async xr=>{let{url:yr,method:_r,data:Sr,signal:jr,cancelToken:Dr,timeout:Ir,onDownloadProgress:Mr,onUploadProgress:Or,responseType:Lr,headers:Fr,withCredentials:Vr="same-origin",fetchOptions:Zr}=resolveConfig(xr),Hr=Hn||fetch;Lr=Lr?(Lr+"").toLowerCase():"text";let Yr=composeSignals([jr,Dr&&Dr.toAbortSignal()],Ir),eo=null;const io=Yr&&Yr.unsubscribe&&(()=>{Yr.unsubscribe()});let uo;try{if(Or&&lr&&_r!=="get"&&_r!=="head"&&(uo=await fr(Fr,Sr))!==0){let ao=new er(yr,{method:"POST",body:Sr,duplex:"half"}),xo;if(utils$2.isFormData(Sr)&&(xo=ao.headers.get("content-type"))&&Fr.setContentType(xo),ao.body){const[_o,Po]=progressEventDecorator(uo,progressEventReducer(asyncDecorator(Or)));Sr=trackStream(ao.body,DEFAULT_CHUNK_SIZE,_o,Po)}}utils$2.isString(Vr)||(Vr=Vr?"include":"omit");const so=rr&&"credentials"in er.prototype,no={...Zr,signal:Yr,method:_r.toUpperCase(),headers:Fr.normalize().toJSON(),body:Sr,duplex:"half",credentials:so?Vr:void 0};eo=rr&&new er(yr,no);let po=await(rr?Hr(eo,Zr):Hr(yr,no));const co=cr&&(Lr==="stream"||Lr==="response");if(cr&&(Mr||co&&io)){const ao={};["status","statusText","headers"].forEach(Oo=>{ao[Oo]=po[Oo]});const xo=utils$2.toFiniteNumber(po.headers.get("content-length")),[_o,Po]=Mr&&progressEventDecorator(xo,progressEventReducer(asyncDecorator(Mr),!0))||[];po=new nr(trackStream(po.body,DEFAULT_CHUNK_SIZE,_o,()=>{Po&&Po(),io&&io()}),ao)}Lr=Lr||"text";let lo=await ur[utils$2.findKey(ur,Lr)||"text"](po,xr);return!co&&io&&io(),await new Promise((ao,xo)=>{settle(ao,xo,{data:lo,headers:AxiosHeaders$1.from(po.headers),status:po.status,statusText:po.statusText,config:xr,request:eo})})}catch(so){throw io&&io(),so&&so.name==="TypeError"&&/Load failed|fetch/i.test(so.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,xr,eo),{cause:so.cause||so}):AxiosError$1.from(so,so&&so.code,xr,eo)}}},seedCache=new Map,getFetch=tr=>{let Hn=tr&&tr.env||{};const{fetch:er,Request:nr,Response:ir}=Hn,rr=[nr,ir,er];let sr=rr.length,ar=sr,or,lr,cr=seedCache;for(;ar--;)or=rr[ar],lr=cr.get(or),lr===void 0&&cr.set(or,lr=ar?new Map:factory(Hn)),cr=lr;return lr};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$2.forEach(knownAdapters,(tr,Hn)=>{if(tr){try{Object.defineProperty(tr,"name",{value:Hn})}catch{}Object.defineProperty(tr,"adapterName",{value:Hn})}});const renderReason=tr=>`- ${tr}`,isResolvedHandle=tr=>utils$2.isFunction(tr)||tr===null||tr===!1;function getAdapter$1(tr,Hn){tr=utils$2.isArray(tr)?tr:[tr];const{length:er}=tr;let nr,ir;const rr={};for(let sr=0;sr<er;sr++){nr=tr[sr];let ar;if(ir=nr,!isResolvedHandle(nr)&&(ir=knownAdapters[(ar=String(nr)).toLowerCase()],ir===void 0))throw new AxiosError$1(`Unknown adapter '${ar}'`);if(ir&&(utils$2.isFunction(ir)||(ir=ir.get(Hn))))break;rr[ar||"#"+sr]=ir}if(!ir){const sr=Object.entries(rr).map(([or,lr])=>`adapter ${or} `+(lr===!1?"is not supported by the environment":"is not available in the build"));let ar=er?sr.length>1?`since :
`+sr.map(renderReason).join(`
`):" "+renderReason(sr[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+ar,"ERR_NOT_SUPPORT")}return ir}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(tr){if(tr.cancelToken&&tr.cancelToken.throwIfRequested(),tr.signal&&tr.signal.aborted)throw new CanceledError$1(null,tr)}function dispatchRequest(tr){return throwIfCancellationRequested(tr),tr.headers=AxiosHeaders$1.from(tr.headers),tr.data=transformData.call(tr,tr.transformRequest),["post","put","patch"].indexOf(tr.method)!==-1&&tr.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(tr.adapter||defaults$3.adapter,tr)(tr).then(function(nr){return throwIfCancellationRequested(tr),nr.data=transformData.call(tr,tr.transformResponse,nr),nr.headers=AxiosHeaders$1.from(nr.headers),nr},function(nr){return isCancel$1(nr)||(throwIfCancellationRequested(tr),nr&&nr.response&&(nr.response.data=transformData.call(tr,tr.transformResponse,nr.response),nr.response.headers=AxiosHeaders$1.from(nr.response.headers))),Promise.reject(nr)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((tr,Hn)=>{validators$1[tr]=function(nr){return typeof nr===tr||"a"+(Hn<1?"n ":" ")+tr}});const deprecatedWarnings={};validators$1.transitional=function(Hn,er,nr){function ir(rr,sr){return"[Axios v"+VERSION$1+"] Transitional option '"+rr+"'"+sr+(nr?". "+nr:"")}return(rr,sr,ar)=>{if(Hn===!1)throw new AxiosError$1(ir(sr," has been removed"+(er?" in "+er:"")),AxiosError$1.ERR_DEPRECATED);return er&&!deprecatedWarnings[sr]&&(deprecatedWarnings[sr]=!0,console.warn(ir(sr," has been deprecated since v"+er+" and will be removed in the near future"))),Hn?Hn(rr,sr,ar):!0}};validators$1.spelling=function(Hn){return(er,nr)=>(console.warn(`${nr} is likely a misspelling of ${Hn}`),!0)};function assertOptions(tr,Hn,er){if(typeof tr!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const nr=Object.keys(tr);let ir=nr.length;for(;ir-- >0;){const rr=nr[ir],sr=Hn[rr];if(sr){const ar=tr[rr],or=ar===void 0||sr(ar,rr,tr);if(or!==!0)throw new AxiosError$1("option "+rr+" must be "+or,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(er!==!0)throw new AxiosError$1("Unknown option "+rr,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(Hn){this.defaults=Hn||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(Hn,er){try{return await this._request(Hn,er)}catch(nr){if(nr instanceof Error){let ir={};Error.captureStackTrace?Error.captureStackTrace(ir):ir=new Error;const rr=ir.stack?ir.stack.replace(/^.+\n/,""):"";try{nr.stack?rr&&!String(nr.stack).endsWith(rr.replace(/^.+\n.+\n/,""))&&(nr.stack+=`
`+rr):nr.stack=rr}catch{}}throw nr}}_request(Hn,er){typeof Hn=="string"?(er=er||{},er.url=Hn):er=Hn||{},er=mergeConfig$1(this.defaults,er);const{transitional:nr,paramsSerializer:ir,headers:rr}=er;nr!==void 0&&validator.assertOptions(nr,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ir!=null&&(utils$2.isFunction(ir)?er.paramsSerializer={serialize:ir}:validator.assertOptions(ir,{encode:validators.function,serialize:validators.function},!0)),er.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?er.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:er.allowAbsoluteUrls=!0),validator.assertOptions(er,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),er.method=(er.method||this.defaults.method||"get").toLowerCase();let sr=rr&&utils$2.merge(rr.common,rr[er.method]);rr&&utils$2.forEach(["delete","get","head","post","put","patch","common"],xr=>{delete rr[xr]}),er.headers=AxiosHeaders$1.concat(sr,rr);const ar=[];let or=!0;this.interceptors.request.forEach(function(yr){typeof yr.runWhen=="function"&&yr.runWhen(er)===!1||(or=or&&yr.synchronous,ar.unshift(yr.fulfilled,yr.rejected))});const lr=[];this.interceptors.response.forEach(function(yr){lr.push(yr.fulfilled,yr.rejected)});let cr,ur=0,dr;if(!or){const xr=[dispatchRequest.bind(this),void 0];for(xr.unshift(...ar),xr.push(...lr),dr=xr.length,cr=Promise.resolve(er);ur<dr;)cr=cr.then(xr[ur++],xr[ur++]);return cr}dr=ar.length;let fr=er;for(;ur<dr;){const xr=ar[ur++],yr=ar[ur++];try{fr=xr(fr)}catch(_r){yr.call(this,_r);break}}try{cr=dispatchRequest.call(this,fr)}catch(xr){return Promise.reject(xr)}for(ur=0,dr=lr.length;ur<dr;)cr=cr.then(lr[ur++],lr[ur++]);return cr}getUri(Hn){Hn=mergeConfig$1(this.defaults,Hn);const er=buildFullPath(Hn.baseURL,Hn.url,Hn.allowAbsoluteUrls);return buildURL(er,Hn.params,Hn.paramsSerializer)}};utils$2.forEach(["delete","get","head","options"],function(Hn){Axios$1.prototype[Hn]=function(er,nr){return this.request(mergeConfig$1(nr||{},{method:Hn,url:er,data:(nr||{}).data}))}});utils$2.forEach(["post","put","patch"],function(Hn){function er(nr){return function(rr,sr,ar){return this.request(mergeConfig$1(ar||{},{method:Hn,headers:nr?{"Content-Type":"multipart/form-data"}:{},url:rr,data:sr}))}}Axios$1.prototype[Hn]=er(),Axios$1.prototype[Hn+"Form"]=er(!0)});let CancelToken$1=class l1{constructor(Hn){if(typeof Hn!="function")throw new TypeError("executor must be a function.");let er;this.promise=new Promise(function(rr){er=rr});const nr=this;this.promise.then(ir=>{if(!nr._listeners)return;let rr=nr._listeners.length;for(;rr-- >0;)nr._listeners[rr](ir);nr._listeners=null}),this.promise.then=ir=>{let rr;const sr=new Promise(ar=>{nr.subscribe(ar),rr=ar}).then(ir);return sr.cancel=function(){nr.unsubscribe(rr)},sr},Hn(function(rr,sr,ar){nr.reason||(nr.reason=new CanceledError$1(rr,sr,ar),er(nr.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(Hn){if(this.reason){Hn(this.reason);return}this._listeners?this._listeners.push(Hn):this._listeners=[Hn]}unsubscribe(Hn){if(!this._listeners)return;const er=this._listeners.indexOf(Hn);er!==-1&&this._listeners.splice(er,1)}toAbortSignal(){const Hn=new AbortController,er=nr=>{Hn.abort(nr)};return this.subscribe(er),Hn.signal.unsubscribe=()=>this.unsubscribe(er),Hn.signal}static source(){let Hn;return{token:new l1(function(ir){Hn=ir}),cancel:Hn}}};function spread$1(tr){return function(er){return tr.apply(null,er)}}function isAxiosError$1(tr){return utils$2.isObject(tr)&&tr.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([tr,Hn])=>{HttpStatusCode$1[Hn]=tr});function createInstance(tr){const Hn=new Axios$1(tr),er=bind(Axios$1.prototype.request,Hn);return utils$2.extend(er,Axios$1.prototype,Hn,{allOwnKeys:!0}),utils$2.extend(er,Hn,null,{allOwnKeys:!0}),er.create=function(ir){return createInstance(mergeConfig$1(tr,ir))},er}const axios=createInstance(defaults$3);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(Hn){return Promise.all(Hn)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=tr=>formDataToJSON(utils$2.isHTMLForm(tr)?new FormData(tr):tr);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;function LuClock(tr){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(tr)}function LuLanguages(tr){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m5 8 6 6"},child:[]},{tag:"path",attr:{d:"m4 14 6-6 2-3"},child:[]},{tag:"path",attr:{d:"M2 5h12"},child:[]},{tag:"path",attr:{d:"M7 2h1"},child:[]},{tag:"path",attr:{d:"m22 22-5-10-5 10"},child:[]},{tag:"path",attr:{d:"M14 18h6"},child:[]}]})(tr)}function FaChartBar(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(tr)}function FaEye(tr){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(tr)}function FaMapMarkedAlt(tr){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(tr)}function FaShare(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(tr)}function FaThList(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(tr)}function FaRegComment$1(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(tr)}const cleanText=tr=>tr?tr.replace(/#[a-zA-Z0-9_]+/g,"").replace(/\s+/g," ").trim():"",LiveNewsPanel=({open:tr,onClose:Hn})=>{const er=reactExports.useRef(null),[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState(!1),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(""),[fr,xr]=reactExports.useState(!1),[yr,_r]=reactExports.useState(!1),[Sr,jr]=reactExports.useState({}),[Dr,Ir]=reactExports.useState(!1),[Mr,Or]=reactExports.useState(!1),[Lr,Fr]=reactExports.useState(""),[Vr,Zr]=reactExports.useState(!1),[Hr,Yr]=reactExports.useState(!1),eo=reactExports.useRef(null),[io,uo]=reactExports.useState(0);if(reactExports.useEffect(()=>{if(!tr||ar)return;const lo=ao=>{const xo=er.current&&er.current.contains(ao.target),_o=ao.target.closest(".news-toast")||ao.target.closest(".hot-toast-container");!xo&&!_o&&Hn()};return document.addEventListener("mousedown",lo),()=>document.removeEventListener("mousedown",lo)},[tr,Hn,ar]),reactExports.useEffect(()=>{if(!tr)return;(async()=>{Or(!0);try{const xo=(await axios.get("https://api_gold.thinkdiff.us/all_day_save_price")).data?.data||[],_o=xo[xo.length-1]?.dirname;if(!_o){ir([]);return}const Oo=(await axios.get(`https://api_gold.thinkdiff.us/all_json_1_day/${_o}`)).data?.data||[],So=Oo[Oo.length-1]?.link;if(!So){ir([]);return}const Ao=So.split("vang247_xyz/")[1],Go=((await axios.get(`https://api_gold.thinkdiff.us/view_full_data_json/${Ao}`)).data?.data?.tintuc||[]).flatMap(Qo=>Qo.data.map((Vo,nl)=>({id:`${Qo.name}-${nl}`,content:Vo.content_text_vi||Vo.content||"",time:Vo.date_time,source:Qo.name,link:Qo.link,images:Vo.images||[]})));ir(Go)}catch(ao){console.error(ao),ir([])}finally{Or(!1)}})()},[tr]),reactExports.useEffect(()=>{ar||(cr(!1),dr(""))},[ar]),reactExports.useEffect(()=>{tr&&nr.length&&!yr&&no()},[tr,nr]),!tr)return null;const so=async()=>{if(ar){if(lr){cr(!1);return}if(ur){cr(!0);return}xr(!0);try{const xo=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(ar.content)}`)).json())[0].map(_o=>_o[0]).join("");dr(xo),cr(!0)}catch(lo){console.error(lo)}finally{xr(!1)}}},no=async()=>{if(yr){_r(!1);return}if(Object.keys(Sr).length){_r(!0);return}Ir(!0);const lo={};try{for(const xo of nr){const Po=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(xo.content.slice(0,400))}`)).json();lo[xo.id]=Po[0].map(Oo=>Oo[0]).join("")}const ao=Object.values(lo).map(xo=>cleanText(xo)).join(". . . Tin tc tip theo . . .");Fr(ao),jr(lo),_r(!0)}catch(ao){console.error("Translate list failed:",ao)}finally{Ir(!1)}},po=()=>{const lo=window.speechSynthesis;if(Hr){lo.resume(),Yr(!1),Zr(!0);return}if(Vr&&!Hr){lo.pause(),Yr(!0);return}if(!Lr)return;lo.cancel();const ao=new SpeechSynthesisUtterance(Lr);ao.lang="vi-VN",ao.rate=1.1,ao.onboundary=xo=>{const _o=xo.charIndex,Po=Lr.length;Po>0&&uo(_o/Po*100)},ao.onstart=()=>{Zr(!0),Yr(!1)},ao.onend=()=>{Zr(!1),Yr(!1),uo(0)},ao.onerror=()=>{Zr(!1),Yr(!1)},eo.current=ao,lo.speak(ao)},co=()=>{window.speechSynthesis.cancel(),Zr(!1),Yr(!1),uo(0)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"live-news-overlay",children:jsxRuntimeExports.jsxs("div",{ref:er,className:`live-news-panel ${rr?"zoomed":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"live-news-header",children:[jsxRuntimeExports.jsx("span",{children:" TIN TC MI NHT"}),jsxRuntimeExports.jsxs("div",{className:"live-news-actions",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"10px"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1,height:"8px",backgroundColor:"#e0e0e0",borderRadius:"5px",overflow:"hidden",minWidth:"100px"},children:jsxRuntimeExports.jsx("div",{style:{width:`${io}%`,height:"100%",backgroundColor:"#4caf50",transition:"width 0.2s ease-in-out"}})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[jsxRuntimeExports.jsx("button",{onClick:po,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:Vr&&!Hr?"#f0ad4e":"#0275d8",color:"white",border:"none",borderRadius:"4px",whiteSpace:"nowrap",fontSize:"14px"},children:Hr?"":Vr?"":""}),jsxRuntimeExports.jsx("button",{onClick:co,disabled:!Vr&&!Hr,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:"#d9534f",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",opacity:!Vr&&!Hr?.5:1,whiteSpace:"nowrap"},children:"Stop"})]})]}),jsxRuntimeExports.jsxs("button",{className:`live-news-translate ${yr?"active":""}`,onClick:no,title:"Dch ton b tin",children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),Dr?"...":"VN"]}),jsxRuntimeExports.jsx("button",{className:"live-news-zoom",onClick:()=>sr(lo=>!lo),children:rr?"":""}),jsxRuntimeExports.jsx("button",{className:"live-news-close",onClick:()=>{Hn(),co()},children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"live-news-body",children:jsxRuntimeExports.jsxs("div",{className:"live-news-vertical",children:[Mr&&jsxRuntimeExports.jsx("div",{className:"live-news-empty",children:" ang cp nht tin tc, xin ch cht..."}),!Mr&&nr.length===0&&jsxRuntimeExports.jsx("div",{className:"live-news-empty",children:" Hin cha c tin tc mi"}),!Mr&&nr.map((lo,ao)=>jsxRuntimeExports.jsxs("div",{className:"live-news-row",onClick:()=>or(lo),children:[lo.images.length>0&&jsxRuntimeExports.jsx("img",{src:lo.images[0],alt:"",className:"news-thumb"}),jsxRuntimeExports.jsx("div",{className:"news-preview",children:yr&&Sr[lo.id]||lo.content}),jsxRuntimeExports.jsxs("div",{className:"live-news-meta",children:[jsxRuntimeExports.jsx("span",{children:lo.source}),jsxRuntimeExports.jsx("span",{children:lo.time})]})]},`${lo.id}-${ao}`))]})})]})}),ar&&reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"news-modal-overlay",onClick:()=>or(null),children:jsxRuntimeExports.jsxs("div",{className:"news-modal-content",onClick:lo=>lo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"news-modal-header",children:[jsxRuntimeExports.jsx("h2",{children:" Tin tc chi tit"}),jsxRuntimeExports.jsxs("div",{className:"news-modal-actions",children:[jsxRuntimeExports.jsxs("button",{className:"news-translate-btn",onClick:so,disabled:fr,children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),fr?"...":lr?"Gc":"VN"]}),jsxRuntimeExports.jsx("button",{className:"news-modal-close",onClick:()=>or(null),children:""})]})]}),ar.images?.length>0&&jsxRuntimeExports.jsx("img",{src:ar.images[0],alt:"",className:"news-modal-image"}),jsxRuntimeExports.jsx("p",{className:"news-modal-text",children:lr?ur:ar.content}),jsxRuntimeExports.jsxs("div",{className:"news-modal-meta",children:[ar.source,"  ",ar.time]}),ar.link&&jsxRuntimeExports.jsx("a",{href:ar.link,target:"_blank",rel:"noopener noreferrer",className:"news-modal-link",children:"Xem ngun gc "})]})}),document.body)]})},Header=({lastUpdated:tr,newsInAPI:Hn})=>{const[er,nr]=reactExports.useState(null),ir=useLocation(),rr=useNavigate(),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(null),xr=ir.pathname;useParams();const yr=xr.split("/");let _r="";if(yr.length>=8){const Hr=String(yr[3]).padStart(2,"0"),Yr=String(yr[4]).padStart(2,"0"),eo=yr[5],io=String(yr[6]).padStart(2,"0"),uo=String(yr[7]).padStart(2,"0");_r=`${Hr}/${Yr}/${eo}/${io}/${uo}`}const Sr=async(Hr,Yr)=>{if(Hr.stopPropagation(),sr){ar(!1);return}if(or){ar(!0);return}ur(!0);try{const io=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Yr||"")}`)).json();if(io&&io[0]){const uo=io[0].map(so=>so[0]).join("");lr(uo),ar(!0)}}catch(eo){console.error("Li dch:",eo)}finally{ur(!1)}};reactExports.useEffect(()=>{(async()=>{let Hr=null;const Yr=new Date;for(let ao=0;ao<3;ao++){const xo=new Date(Yr);xo.setDate(xo.getDate()-ao);const _o=String(xo.getDate()).padStart(2,"0"),Po=String(xo.getMonth()+1).padStart(2,"0"),Oo=xo.getFullYear();try{const So=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${_o}_${Po}_${Oo}`);if(!So.ok)continue;const Ao=await So.json();if(Ao.status==="success"&&Ao.data?.length){Hr=Ao.data;break}}catch{continue}}if(!Hr)return;const eo=Hr?.at(-1);if(!eo?.modified_time)return;const[io,uo]=eo.modified_time.split(" "),[so,no,po]=io.split("/"),[co,lo]=uo.split(":");fr({day:so,month:no,year:po,hour:co,minute:lo})})()},[xr]);const jr=Hr=>{nr(Hr),ar(!1),lr("")},Dr=()=>{nr(null),ar(!1),lr("")},[Ir,Mr]=reactExports.useState(!1),Or=()=>{Mr(!1),rr(`/vietnam/gold/${dr?.day}/${dr?.month}/${dr?.year}/${dr?.hour}/${dr?.minute}`)},Lr=()=>{Mr(!1)},[Fr,Vr]=reactExports.useState(!1),Zr=()=>{const Hr=new Date,Yr=Hr.getDate(),eo=Hr.getMonth()+1,io=Hr.getFullYear();return`/orderflowanalysis/gold/${Yr}/${eo}/${io}`};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[dr&&jsxRuntimeExports.jsx(UpdateDataModal,{isVisible:Ir,latestData:dr,onConfirm:Or,onCancel:Lr}),jsxRuntimeExports.jsxs("header",{className:"header",children:[jsxRuntimeExports.jsxs("div",{className:"header-content",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsxs("div",{style:{color:"#ffffff",fontSize:"24px",fontWeight:"500",marginBottom:"5px"},children:["Thi gian update cui cng:"," ",jsxRuntimeExports.jsx("span",{style:{color:`${dr?.day}/${dr?.month}/${dr?.year}/${dr?.hour}/${dr?.minute}`===_r?"#006400":"red",cursor:"pointer"},onClick:()=>{dr&&`${dr?.day}/${dr?.month}/${dr?.year}/${dr?.hour}/${dr?.minute}`!==_r&&Mr(!0)},children:dr?`${dr?.day}/${dr?.month}/${dr?.year} ${dr?.hour}:${dr?.minute}`:"ang ti thi gian..."})]}),jsxRuntimeExports.jsx("h2",{className:"site-title",children:"TOOL PHN TCH GI VNG - BC - T GI"})]}),jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsxs("div",{className:"header-right-top",children:[jsxRuntimeExports.jsxs(NavLink,{to:"/",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Bng Gi Vng",children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 17l4-9h10l4 9H3zm7-7l-2 5h8l-2-5H10z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bng Gi Vng"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/tin-tuc-moi-nhat",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Bng Gi Vng",children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M19 3H4a2 2 0 00-2 2v13a3 3 0 003 3h14a3 3 0 003-3V6a3 3 0 00-3-3zm0 15H5a1 1 0 01-1-1V6h15z"}),jsxRuntimeExports.jsx("path",{d:"M7 8h7v2H7zM7 12h10v2H7z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Tin tc"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/lich_kinh_te",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Lch Kinh T",children:[jsxRuntimeExports.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lch Kinh T"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/ty-gia",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"T Gi USD",children:[jsxRuntimeExports.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"T Gi USD"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/TradingEconomicsWidgets",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Ch s kinh t",children:[jsxRuntimeExports.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Ch s kinh t"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/lich-su-gia",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Lng truy cp",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M13 3a9 9 0 1 0 8.94 10h-2.02A7 7 0 1 1 13 5v4l5-5-5-5v4z"}),jsxRuntimeExports.jsx("path",{d:"M12 8v5l4 2 .75-1.23-3.25-1.77V8z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lch s gi"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/bao-cao-luong-luu-tru",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"2",width:"18",height:"20",rx:"2",ry:"2",stroke:"currentColor",fill:"none",strokeWidth:"2"}),jsxRuntimeExports.jsx("path",{d:"M5 5h14v1H5z"})," ",jsxRuntimeExports.jsx("path",{d:"M5 8h14v1H5z"})," ",jsxRuntimeExports.jsx("path",{d:"M5 11h14v1H5z"}),jsxRuntimeExports.jsx("path",{d:"M5 14h14v1H5z"})," ",jsxRuntimeExports.jsx("path",{d:"M5 17h14v1H5z"}),"  ",jsxRuntimeExports.jsx("path",{d:"M5 20h14v1H5z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lng lu tr SHFE"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/bao-cao-san-thuong-hai-tuong-lai",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bo co SHFE"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/luong-truy-cap",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Lng truy cp",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h2v18H3V3zm7 6h2v12h-2V9zm7-4h2v16h-2V5z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lng truy cp"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/lbma-reserves",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"LBMA Reserves",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 4.02 2 6.5S6.48 11 12 11s10-2.02 10-4.5S17.52 2 12 2zm0 9c-5.52 0-10 2.02-10 4.5S6.48 20 12 20s10-2.02 10-4.5S17.52 11 12 11z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"LBMA Reserves"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/loi-nhuan-tuan",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bo co tc  tng trng ca nh vng"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/volumexagxau",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Xem tt c biu ",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Volume XAG / XAU"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/futures-chain",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Xem tt c biu ",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h18v2H3V3zm2 4h3v10H5V7zm5 4h3v6h-3v-6zm5-6h3v12h-3V5z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Futures Gold & Silver"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/xau-xag-chart",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Biu  XAU/XAG",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Biu  XAU/XAG Kt Hp"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/zsl",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"ZSL",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"ZSL"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/dang-ky-tai-khoan",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"ng k ti khon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"ng k v"})]}),jsxRuntimeExports.jsxs(NavLink,{to:Zr(),className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Biu  t lnh gi vng bc theo timeline",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"}),jsxRuntimeExports.jsx("path",{d:"M7 14h2v3H7zm4-2h2v5h-2zm4-3h2v8h-2z",opacity:".3"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:" Timeline"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/trade-flow",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"SLV Trade History",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 13h6v8H3zM9 3h6v18H9zM15 9h6v12h-6z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"SLV Trade History"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/ig-sentiment",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"IG Sentiment",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),jsxRuntimeExports.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"IG Sentiment"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/cftc_comexchart",className:({isActive:Hr})=>`calendar-btn ${Hr?"active":""}`,title:"Bo co COT & Comex",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"calendar-icon",children:[jsxRuntimeExports.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),jsxRuntimeExports.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"CFTC & Comex"})]})]}),jsxRuntimeExports.jsxs("div",{className:"header-right-bottom",style:{display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsx(LiveNewsBell,{hasNew:!0,onClick:()=>Vr(!0)}),jsxRuntimeExports.jsx(LiveNewsPanel,{open:Fr,onClose:()=>Vr(!1)}),jsxRuntimeExports.jsx(NotificationBell,{onNewsClick:jr,newsInAPI:Hn})]})]})]}),er&&jsxRuntimeExports.jsx("div",{className:"news-modal-overlay",onClick:Dr,children:jsxRuntimeExports.jsxs("div",{className:"news-modal-content",onClick:Hr=>Hr.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:"news-modal-close",onClick:Dr,children:""}),jsxRuntimeExports.jsx("h2",{className:"news-modal-title",children:er.title}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px"},children:jsxRuntimeExports.jsx("button",{onClick:Hr=>Sr(Hr,er.content),disabled:cr,style:{cursor:"pointer",padding:"5px 12px",borderRadius:"15px",border:"1px solid #1877f2",fontSize:"12px",fontWeight:"bold",background:sr?"#1877f2":"#fff",color:sr?"#fff":"#1877f2"},children:cr?"...":sr?"Xem gc":"Dch ni dung"})}),jsxRuntimeExports.jsx("div",{className:"news-modal-body",dangerouslySetInnerHTML:{__html:sr?or:er.content}}),jsxRuntimeExports.jsx("div",{className:"news-modal-footer",children:jsxRuntimeExports.jsx("small",{children:er.created_at?new Date(er.created_at).toLocaleString("vi-VN"):""})})]})})]})]})},Footer=()=>jsxRuntimeExports.jsxs("footer",{className:"footer",children:[jsxRuntimeExports.jsxs("div",{className:"footer-content",children:[jsxRuntimeExports.jsxs("div",{className:"footer-section",children:[jsxRuntimeExports.jsx("h3",{children:"AI ANALYSIS"}),jsxRuntimeExports.jsx("p",{className:"company-tagline",children:"S dng AI  phn tch bin ng gi vng"})]}),jsxRuntimeExports.jsx("div",{className:"footer-section",children:jsxRuntimeExports.jsx("h4",{children:"Lin h"})}),jsxRuntimeExports.jsxs("div",{className:"footer-section",children:[jsxRuntimeExports.jsx("h4",{children:" Tuyn b min tr trch nhim"}),jsxRuntimeExports.jsx("p",{className:"disclaimer",children:"Thng tin gi vng c hin th trn trang web ny ch mang tnh cht tham kho. Vui lng lin h trc tip vi cc nh cung cp  c thng tin chnh xc v cp nht nht."})]})]}),jsxRuntimeExports.jsx("div",{className:"footer-bottom",children:jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," All rights reserved."]})})]});var src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=tr;function tr(Hn,er){for(var nr=new Array(arguments.length-1),ir=0,rr=2,sr=!0;rr<arguments.length;)nr[ir++]=arguments[rr++];return new Promise(function(or,lr){nr[ir]=function(ur){if(sr)if(sr=!1,ur)lr(ur);else{for(var dr=new Array(arguments.length-1),fr=0;fr<dr.length;)dr[fr++]=arguments[fr];or.apply(null,dr)}};try{Hn.apply(er||null,nr)}catch(cr){sr&&(sr=!1,lr(cr))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(tr){var Hn=tr;Hn.length=function(ar){var or=ar.length;if(!or)return 0;for(var lr=0;--or%4>1&&ar.charAt(or)==="=";)++lr;return Math.ceil(ar.length*3)/4-lr};for(var er=new Array(64),nr=new Array(123),ir=0;ir<64;)nr[er[ir]=ir<26?ir+65:ir<52?ir+71:ir<62?ir-4:ir-59|43]=ir++;Hn.encode=function(ar,or,lr){for(var cr=null,ur=[],dr=0,fr=0,xr;or<lr;){var yr=ar[or++];switch(fr){case 0:ur[dr++]=er[yr>>2],xr=(yr&3)<<4,fr=1;break;case 1:ur[dr++]=er[xr|yr>>4],xr=(yr&15)<<2,fr=2;break;case 2:ur[dr++]=er[xr|yr>>6],ur[dr++]=er[yr&63],fr=0;break}dr>8191&&((cr||(cr=[])).push(String.fromCharCode.apply(String,ur)),dr=0)}return fr&&(ur[dr++]=er[xr],ur[dr++]=61,fr===1&&(ur[dr++]=61)),cr?(dr&&cr.push(String.fromCharCode.apply(String,ur.slice(0,dr))),cr.join("")):String.fromCharCode.apply(String,ur.slice(0,dr))};var rr="invalid encoding";Hn.decode=function(ar,or,lr){for(var cr=lr,ur=0,dr,fr=0;fr<ar.length;){var xr=ar.charCodeAt(fr++);if(xr===61&&ur>1)break;if((xr=nr[xr])===void 0)throw Error(rr);switch(ur){case 0:dr=xr,ur=1;break;case 1:or[lr++]=dr<<2|(xr&48)>>4,dr=xr,ur=2;break;case 2:or[lr++]=(dr&15)<<4|(xr&60)>>2,dr=xr,ur=3;break;case 3:or[lr++]=(dr&3)<<6|xr,ur=0;break}}if(ur===1)throw Error(rr);return lr-cr},Hn.test=function(ar){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ar)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=tr;function tr(){this._listeners={}}return tr.prototype.on=function(er,nr,ir){return(this._listeners[er]||(this._listeners[er]=[])).push({fn:nr,ctx:ir||this}),this},tr.prototype.off=function(er,nr){if(er===void 0)this._listeners={};else if(nr===void 0)this._listeners[er]=[];else for(var ir=this._listeners[er],rr=0;rr<ir.length;)ir[rr].fn===nr?ir.splice(rr,1):++rr;return this},tr.prototype.emit=function(er){var nr=this._listeners[er];if(nr){for(var ir=[],rr=1;rr<arguments.length;)ir.push(arguments[rr++]);for(rr=0;rr<nr.length;)nr[rr].fn.apply(nr[rr++].ctx,ir)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=tr(tr);function tr(rr){return typeof Float32Array<"u"?(function(){var sr=new Float32Array([-0]),ar=new Uint8Array(sr.buffer),or=ar[3]===128;function lr(fr,xr,yr){sr[0]=fr,xr[yr]=ar[0],xr[yr+1]=ar[1],xr[yr+2]=ar[2],xr[yr+3]=ar[3]}function cr(fr,xr,yr){sr[0]=fr,xr[yr]=ar[3],xr[yr+1]=ar[2],xr[yr+2]=ar[1],xr[yr+3]=ar[0]}rr.writeFloatLE=or?lr:cr,rr.writeFloatBE=or?cr:lr;function ur(fr,xr){return ar[0]=fr[xr],ar[1]=fr[xr+1],ar[2]=fr[xr+2],ar[3]=fr[xr+3],sr[0]}function dr(fr,xr){return ar[3]=fr[xr],ar[2]=fr[xr+1],ar[1]=fr[xr+2],ar[0]=fr[xr+3],sr[0]}rr.readFloatLE=or?ur:dr,rr.readFloatBE=or?dr:ur})():(function(){function sr(or,lr,cr,ur){var dr=lr<0?1:0;if(dr&&(lr=-lr),lr===0)or(1/lr>0?0:2147483648,cr,ur);else if(isNaN(lr))or(2143289344,cr,ur);else if(lr>34028234663852886e22)or((dr<<31|2139095040)>>>0,cr,ur);else if(lr<11754943508222875e-54)or((dr<<31|Math.round(lr/1401298464324817e-60))>>>0,cr,ur);else{var fr=Math.floor(Math.log(lr)/Math.LN2),xr=Math.round(lr*Math.pow(2,-fr)*8388608)&8388607;or((dr<<31|fr+127<<23|xr)>>>0,cr,ur)}}rr.writeFloatLE=sr.bind(null,Hn),rr.writeFloatBE=sr.bind(null,er);function ar(or,lr,cr){var ur=or(lr,cr),dr=(ur>>31)*2+1,fr=ur>>>23&255,xr=ur&8388607;return fr===255?xr?NaN:dr*(1/0):fr===0?dr*1401298464324817e-60*xr:dr*Math.pow(2,fr-150)*(xr+8388608)}rr.readFloatLE=ar.bind(null,nr),rr.readFloatBE=ar.bind(null,ir)})(),typeof Float64Array<"u"?(function(){var sr=new Float64Array([-0]),ar=new Uint8Array(sr.buffer),or=ar[7]===128;function lr(fr,xr,yr){sr[0]=fr,xr[yr]=ar[0],xr[yr+1]=ar[1],xr[yr+2]=ar[2],xr[yr+3]=ar[3],xr[yr+4]=ar[4],xr[yr+5]=ar[5],xr[yr+6]=ar[6],xr[yr+7]=ar[7]}function cr(fr,xr,yr){sr[0]=fr,xr[yr]=ar[7],xr[yr+1]=ar[6],xr[yr+2]=ar[5],xr[yr+3]=ar[4],xr[yr+4]=ar[3],xr[yr+5]=ar[2],xr[yr+6]=ar[1],xr[yr+7]=ar[0]}rr.writeDoubleLE=or?lr:cr,rr.writeDoubleBE=or?cr:lr;function ur(fr,xr){return ar[0]=fr[xr],ar[1]=fr[xr+1],ar[2]=fr[xr+2],ar[3]=fr[xr+3],ar[4]=fr[xr+4],ar[5]=fr[xr+5],ar[6]=fr[xr+6],ar[7]=fr[xr+7],sr[0]}function dr(fr,xr){return ar[7]=fr[xr],ar[6]=fr[xr+1],ar[5]=fr[xr+2],ar[4]=fr[xr+3],ar[3]=fr[xr+4],ar[2]=fr[xr+5],ar[1]=fr[xr+6],ar[0]=fr[xr+7],sr[0]}rr.readDoubleLE=or?ur:dr,rr.readDoubleBE=or?dr:ur})():(function(){function sr(or,lr,cr,ur,dr,fr){var xr=ur<0?1:0;if(xr&&(ur=-ur),ur===0)or(0,dr,fr+lr),or(1/ur>0?0:2147483648,dr,fr+cr);else if(isNaN(ur))or(0,dr,fr+lr),or(2146959360,dr,fr+cr);else if(ur>17976931348623157e292)or(0,dr,fr+lr),or((xr<<31|2146435072)>>>0,dr,fr+cr);else{var yr;if(ur<22250738585072014e-324)yr=ur/5e-324,or(yr>>>0,dr,fr+lr),or((xr<<31|yr/4294967296)>>>0,dr,fr+cr);else{var _r=Math.floor(Math.log(ur)/Math.LN2);_r===1024&&(_r=1023),yr=ur*Math.pow(2,-_r),or(yr*4503599627370496>>>0,dr,fr+lr),or((xr<<31|_r+1023<<20|yr*1048576&1048575)>>>0,dr,fr+cr)}}}rr.writeDoubleLE=sr.bind(null,Hn,0,4),rr.writeDoubleBE=sr.bind(null,er,4,0);function ar(or,lr,cr,ur,dr){var fr=or(ur,dr+lr),xr=or(ur,dr+cr),yr=(xr>>31)*2+1,_r=xr>>>20&2047,Sr=4294967296*(xr&1048575)+fr;return _r===2047?Sr?NaN:yr*(1/0):_r===0?yr*5e-324*Sr:yr*Math.pow(2,_r-1075)*(Sr+4503599627370496)}rr.readDoubleLE=ar.bind(null,nr,0,4),rr.readDoubleBE=ar.bind(null,ir,4,0)})(),rr}function Hn(rr,sr,ar){sr[ar]=rr&255,sr[ar+1]=rr>>>8&255,sr[ar+2]=rr>>>16&255,sr[ar+3]=rr>>>24}function er(rr,sr,ar){sr[ar]=rr>>>24,sr[ar+1]=rr>>>16&255,sr[ar+2]=rr>>>8&255,sr[ar+3]=rr&255}function nr(rr,sr){return(rr[sr]|rr[sr+1]<<8|rr[sr+2]<<16|rr[sr+3]<<24)>>>0}function ir(rr,sr){return(rr[sr]<<24|rr[sr+1]<<16|rr[sr+2]<<8|rr[sr+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(tr){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(tr){var Hn=tr;Hn.length=function(nr){for(var ir=0,rr=0,sr=0;sr<nr.length;++sr)rr=nr.charCodeAt(sr),rr<128?ir+=1:rr<2048?ir+=2:(rr&64512)===55296&&(nr.charCodeAt(sr+1)&64512)===56320?(++sr,ir+=4):ir+=3;return ir},Hn.read=function(nr,ir,rr){var sr=rr-ir;if(sr<1)return"";for(var ar=null,or=[],lr=0,cr;ir<rr;)cr=nr[ir++],cr<128?or[lr++]=cr:cr>191&&cr<224?or[lr++]=(cr&31)<<6|nr[ir++]&63:cr>239&&cr<365?(cr=((cr&7)<<18|(nr[ir++]&63)<<12|(nr[ir++]&63)<<6|nr[ir++]&63)-65536,or[lr++]=55296+(cr>>10),or[lr++]=56320+(cr&1023)):or[lr++]=(cr&15)<<12|(nr[ir++]&63)<<6|nr[ir++]&63,lr>8191&&((ar||(ar=[])).push(String.fromCharCode.apply(String,or)),lr=0);return ar?(lr&&ar.push(String.fromCharCode.apply(String,or.slice(0,lr))),ar.join("")):String.fromCharCode.apply(String,or.slice(0,lr))},Hn.write=function(nr,ir,rr){for(var sr=rr,ar,or,lr=0;lr<nr.length;++lr)ar=nr.charCodeAt(lr),ar<128?ir[rr++]=ar:ar<2048?(ir[rr++]=ar>>6|192,ir[rr++]=ar&63|128):(ar&64512)===55296&&((or=nr.charCodeAt(lr+1))&64512)===56320?(ar=65536+((ar&1023)<<10)+(or&1023),++lr,ir[rr++]=ar>>18|240,ir[rr++]=ar>>12&63|128,ir[rr++]=ar>>6&63|128,ir[rr++]=ar&63|128):(ir[rr++]=ar>>12|224,ir[rr++]=ar>>6&63|128,ir[rr++]=ar&63|128);return rr-sr}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=tr;function tr(Hn,er,nr){var ir=nr||8192,rr=ir>>>1,sr=null,ar=ir;return function(lr){if(lr<1||lr>rr)return Hn(lr);ar+lr>ir&&(sr=Hn(ir),ar=0);var cr=er.call(sr,ar,ar+=lr);return ar&7&&(ar=(ar|7)+1),cr}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=Hn;var tr=requireMinimal();function Hn(rr,sr){this.lo=rr>>>0,this.hi=sr>>>0}var er=Hn.zero=new Hn(0,0);er.toNumber=function(){return 0},er.zzEncode=er.zzDecode=function(){return this},er.length=function(){return 1};var nr=Hn.zeroHash="\0\0\0\0\0\0\0\0";Hn.fromNumber=function(sr){if(sr===0)return er;var ar=sr<0;ar&&(sr=-sr);var or=sr>>>0,lr=(sr-or)/4294967296>>>0;return ar&&(lr=~lr>>>0,or=~or>>>0,++or>4294967295&&(or=0,++lr>4294967295&&(lr=0))),new Hn(or,lr)},Hn.from=function(sr){if(typeof sr=="number")return Hn.fromNumber(sr);if(tr.isString(sr))if(tr.Long)sr=tr.Long.fromString(sr);else return Hn.fromNumber(parseInt(sr,10));return sr.low||sr.high?new Hn(sr.low>>>0,sr.high>>>0):er},Hn.prototype.toNumber=function(sr){if(!sr&&this.hi>>>31){var ar=~this.lo+1>>>0,or=~this.hi>>>0;return ar||(or=or+1>>>0),-(ar+or*4294967296)}return this.lo+this.hi*4294967296},Hn.prototype.toLong=function(sr){return tr.Long?new tr.Long(this.lo|0,this.hi|0,!!sr):{low:this.lo|0,high:this.hi|0,unsigned:!!sr}};var ir=String.prototype.charCodeAt;return Hn.fromHash=function(sr){return sr===nr?er:new Hn((ir.call(sr,0)|ir.call(sr,1)<<8|ir.call(sr,2)<<16|ir.call(sr,3)<<24)>>>0,(ir.call(sr,4)|ir.call(sr,5)<<8|ir.call(sr,6)<<16|ir.call(sr,7)<<24)>>>0)},Hn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Hn.prototype.zzEncode=function(){var sr=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^sr)>>>0,this.lo=(this.lo<<1^sr)>>>0,this},Hn.prototype.zzDecode=function(){var sr=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^sr)>>>0,this.hi=(this.hi>>>1^sr)>>>0,this},Hn.prototype.length=function(){var sr=this.lo,ar=(this.lo>>>28|this.hi<<4)>>>0,or=this.hi>>>24;return or===0?ar===0?sr<16384?sr<128?1:2:sr<2097152?3:4:ar<16384?ar<128?5:6:ar<2097152?7:8:or<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,(function(tr){var Hn=tr;Hn.asPromise=requireAspromise(),Hn.base64=requireBase64(),Hn.EventEmitter=requireEventemitter(),Hn.float=requireFloat(),Hn.inquire=requireInquire(),Hn.utf8=requireUtf8(),Hn.pool=requirePool(),Hn.LongBits=requireLongbits(),Hn.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),Hn.global=Hn.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal,Hn.emptyArray=Object.freeze?Object.freeze([]):[],Hn.emptyObject=Object.freeze?Object.freeze({}):{},Hn.isInteger=Number.isInteger||function(rr){return typeof rr=="number"&&isFinite(rr)&&Math.floor(rr)===rr},Hn.isString=function(rr){return typeof rr=="string"||rr instanceof String},Hn.isObject=function(rr){return rr&&typeof rr=="object"},Hn.isset=Hn.isSet=function(rr,sr){var ar=rr[sr];return ar!=null&&rr.hasOwnProperty(sr)?typeof ar!="object"||(Array.isArray(ar)?ar.length:Object.keys(ar).length)>0:!1},Hn.Buffer=(function(){try{var ir=Hn.inquire("buffer").Buffer;return ir.prototype.utf8Write?ir:null}catch{return null}})(),Hn._Buffer_from=null,Hn._Buffer_allocUnsafe=null,Hn.newBuffer=function(rr){return typeof rr=="number"?Hn.Buffer?Hn._Buffer_allocUnsafe(rr):new Hn.Array(rr):Hn.Buffer?Hn._Buffer_from(rr):typeof Uint8Array>"u"?rr:new Uint8Array(rr)},Hn.Array=typeof Uint8Array<"u"?Uint8Array:Array,Hn.Long=Hn.global.dcodeIO&&Hn.global.dcodeIO.Long||Hn.global.Long||Hn.inquire("long"),Hn.key2Re=/^true|false|0|1$/,Hn.key32Re=/^-?(?:0|[1-9][0-9]*)$/,Hn.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,Hn.longToHash=function(rr){return rr?Hn.LongBits.from(rr).toHash():Hn.LongBits.zeroHash},Hn.longFromHash=function(rr,sr){var ar=Hn.LongBits.fromHash(rr);return Hn.Long?Hn.Long.fromBits(ar.lo,ar.hi,sr):ar.toNumber(!!sr)};function er(ir,rr,sr){for(var ar=Object.keys(rr),or=0;or<ar.length;++or)(ir[ar[or]]===void 0||!sr)&&(ir[ar[or]]=rr[ar[or]]);return ir}Hn.merge=er,Hn.lcFirst=function(rr){return rr.charAt(0).toLowerCase()+rr.substring(1)};function nr(ir){function rr(sr,ar){if(!(this instanceof rr))return new rr(sr,ar);Object.defineProperty(this,"message",{get:function(){return sr}}),Error.captureStackTrace?Error.captureStackTrace(this,rr):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ar&&er(this,ar)}return rr.prototype=Object.create(Error.prototype,{constructor:{value:rr,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ir},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),rr}Hn.newError=nr,Hn.ProtocolError=nr("ProtocolError"),Hn.oneOfGetter=function(rr){for(var sr={},ar=0;ar<rr.length;++ar)sr[rr[ar]]=1;return function(){for(var or=Object.keys(this),lr=or.length-1;lr>-1;--lr)if(sr[or[lr]]===1&&this[or[lr]]!==void 0&&this[or[lr]]!==null)return or[lr]}},Hn.oneOfSetter=function(rr){return function(sr){for(var ar=0;ar<rr.length;++ar)rr[ar]!==sr&&delete this[rr[ar]]}},Hn.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},Hn._configure=function(){var ir=Hn.Buffer;if(!ir){Hn._Buffer_from=Hn._Buffer_allocUnsafe=null;return}Hn._Buffer_from=ir.from!==Uint8Array.from&&ir.from||function(sr,ar){return new ir(sr,ar)},Hn._Buffer_allocUnsafe=ir.allocUnsafe||function(sr){return new ir(sr)}}})(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=or;var tr=requireMinimal(),Hn,er=tr.LongBits,nr=tr.base64,ir=tr.utf8;function rr(_r,Sr,jr){this.fn=_r,this.len=Sr,this.next=void 0,this.val=jr}function sr(){}function ar(_r){this.head=_r.head,this.tail=_r.tail,this.len=_r.len,this.next=_r.states}function or(){this.len=0,this.head=new rr(sr,0,0),this.tail=this.head,this.states=null}var lr=function(){return tr.Buffer?function(){return(or.create=function(){return new Hn})()}:function(){return new or}};or.create=lr(),or.alloc=function(Sr){return new tr.Array(Sr)},tr.Array!==Array&&(or.alloc=tr.pool(or.alloc,tr.Array.prototype.subarray)),or.prototype._push=function(Sr,jr,Dr){return this.tail=this.tail.next=new rr(Sr,jr,Dr),this.len+=jr,this};function cr(_r,Sr,jr){Sr[jr]=_r&255}function ur(_r,Sr,jr){for(;_r>127;)Sr[jr++]=_r&127|128,_r>>>=7;Sr[jr]=_r}function dr(_r,Sr){this.len=_r,this.next=void 0,this.val=Sr}dr.prototype=Object.create(rr.prototype),dr.prototype.fn=ur,or.prototype.uint32=function(Sr){return this.len+=(this.tail=this.tail.next=new dr((Sr=Sr>>>0)<128?1:Sr<16384?2:Sr<2097152?3:Sr<268435456?4:5,Sr)).len,this},or.prototype.int32=function(Sr){return Sr<0?this._push(fr,10,er.fromNumber(Sr)):this.uint32(Sr)},or.prototype.sint32=function(Sr){return this.uint32((Sr<<1^Sr>>31)>>>0)};function fr(_r,Sr,jr){for(;_r.hi;)Sr[jr++]=_r.lo&127|128,_r.lo=(_r.lo>>>7|_r.hi<<25)>>>0,_r.hi>>>=7;for(;_r.lo>127;)Sr[jr++]=_r.lo&127|128,_r.lo=_r.lo>>>7;Sr[jr++]=_r.lo}or.prototype.uint64=function(Sr){var jr=er.from(Sr);return this._push(fr,jr.length(),jr)},or.prototype.int64=or.prototype.uint64,or.prototype.sint64=function(Sr){var jr=er.from(Sr).zzEncode();return this._push(fr,jr.length(),jr)},or.prototype.bool=function(Sr){return this._push(cr,1,Sr?1:0)};function xr(_r,Sr,jr){Sr[jr]=_r&255,Sr[jr+1]=_r>>>8&255,Sr[jr+2]=_r>>>16&255,Sr[jr+3]=_r>>>24}or.prototype.fixed32=function(Sr){return this._push(xr,4,Sr>>>0)},or.prototype.sfixed32=or.prototype.fixed32,or.prototype.fixed64=function(Sr){var jr=er.from(Sr);return this._push(xr,4,jr.lo)._push(xr,4,jr.hi)},or.prototype.sfixed64=or.prototype.fixed64,or.prototype.float=function(Sr){return this._push(tr.float.writeFloatLE,4,Sr)},or.prototype.double=function(Sr){return this._push(tr.float.writeDoubleLE,8,Sr)};var yr=tr.Array.prototype.set?function(Sr,jr,Dr){jr.set(Sr,Dr)}:function(Sr,jr,Dr){for(var Ir=0;Ir<Sr.length;++Ir)jr[Dr+Ir]=Sr[Ir]};return or.prototype.bytes=function(Sr){var jr=Sr.length>>>0;if(!jr)return this._push(cr,1,0);if(tr.isString(Sr)){var Dr=or.alloc(jr=nr.length(Sr));nr.decode(Sr,Dr,0),Sr=Dr}return this.uint32(jr)._push(yr,jr,Sr)},or.prototype.string=function(Sr){var jr=ir.length(Sr);return jr?this.uint32(jr)._push(ir.write,jr,Sr):this._push(cr,1,0)},or.prototype.fork=function(){return this.states=new ar(this),this.head=this.tail=new rr(sr,0,0),this.len=0,this},or.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new rr(sr,0,0),this.len=0),this},or.prototype.ldelim=function(){var Sr=this.head,jr=this.tail,Dr=this.len;return this.reset().uint32(Dr),Dr&&(this.tail.next=Sr.next,this.tail=jr,this.len+=Dr),this},or.prototype.finish=function(){for(var Sr=this.head.next,jr=this.constructor.alloc(this.len),Dr=0;Sr;)Sr.fn(Sr.val,jr,Dr),Dr+=Sr.len,Sr=Sr.next;return jr},or._configure=function(_r){Hn=_r,or.create=lr(),Hn._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=er;var tr=requireWriter();(er.prototype=Object.create(tr.prototype)).constructor=er;var Hn=requireMinimal();function er(){tr.call(this)}er._configure=function(){er.alloc=Hn._Buffer_allocUnsafe,er.writeBytesBuffer=Hn.Buffer&&Hn.Buffer.prototype instanceof Uint8Array&&Hn.Buffer.prototype.set.name==="set"?function(rr,sr,ar){sr.set(rr,ar)}:function(rr,sr,ar){if(rr.copy)rr.copy(sr,ar,0,rr.length);else for(var or=0;or<rr.length;)sr[ar++]=rr[or++]}},er.prototype.bytes=function(rr){Hn.isString(rr)&&(rr=Hn._Buffer_from(rr,"base64"));var sr=rr.length>>>0;return this.uint32(sr),sr&&this._push(er.writeBytesBuffer,sr,rr),this};function nr(ir,rr,sr){ir.length<40?Hn.utf8.write(ir,rr,sr):rr.utf8Write?rr.utf8Write(ir,sr):rr.write(ir,sr)}return er.prototype.string=function(rr){var sr=Hn.Buffer.byteLength(rr);return this.uint32(sr),sr&&this._push(nr,sr,rr),this},er._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=rr;var tr=requireMinimal(),Hn,er=tr.LongBits,nr=tr.utf8;function ir(ur,dr){return RangeError("index out of range: "+ur.pos+" + "+(dr||1)+" > "+ur.len)}function rr(ur){this.buf=ur,this.pos=0,this.len=ur.length}var sr=typeof Uint8Array<"u"?function(dr){if(dr instanceof Uint8Array||Array.isArray(dr))return new rr(dr);throw Error("illegal buffer")}:function(dr){if(Array.isArray(dr))return new rr(dr);throw Error("illegal buffer")},ar=function(){return tr.Buffer?function(fr){return(rr.create=function(yr){return tr.Buffer.isBuffer(yr)?new Hn(yr):sr(yr)})(fr)}:sr};rr.create=ar(),rr.prototype._slice=tr.Array.prototype.subarray||tr.Array.prototype.slice,rr.prototype.uint32=(function(){var dr=4294967295;return function(){if(dr=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(dr=(dr|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(dr=(dr|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(dr=(dr|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(dr=(dr|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return dr;if((this.pos+=5)>this.len)throw this.pos=this.len,ir(this,10);return dr}})(),rr.prototype.int32=function(){return this.uint32()|0},rr.prototype.sint32=function(){var dr=this.uint32();return dr>>>1^-(dr&1)|0};function or(){var ur=new er(0,0),dr=0;if(this.len-this.pos>4){for(;dr<4;++dr)if(ur.lo=(ur.lo|(this.buf[this.pos]&127)<<dr*7)>>>0,this.buf[this.pos++]<128)return ur;if(ur.lo=(ur.lo|(this.buf[this.pos]&127)<<28)>>>0,ur.hi=(ur.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ur;dr=0}else{for(;dr<3;++dr){if(this.pos>=this.len)throw ir(this);if(ur.lo=(ur.lo|(this.buf[this.pos]&127)<<dr*7)>>>0,this.buf[this.pos++]<128)return ur}return ur.lo=(ur.lo|(this.buf[this.pos++]&127)<<dr*7)>>>0,ur}if(this.len-this.pos>4){for(;dr<5;++dr)if(ur.hi=(ur.hi|(this.buf[this.pos]&127)<<dr*7+3)>>>0,this.buf[this.pos++]<128)return ur}else for(;dr<5;++dr){if(this.pos>=this.len)throw ir(this);if(ur.hi=(ur.hi|(this.buf[this.pos]&127)<<dr*7+3)>>>0,this.buf[this.pos++]<128)return ur}throw Error("invalid varint encoding")}rr.prototype.bool=function(){return this.uint32()!==0};function lr(ur,dr){return(ur[dr-4]|ur[dr-3]<<8|ur[dr-2]<<16|ur[dr-1]<<24)>>>0}rr.prototype.fixed32=function(){if(this.pos+4>this.len)throw ir(this,4);return lr(this.buf,this.pos+=4)},rr.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ir(this,4);return lr(this.buf,this.pos+=4)|0};function cr(){if(this.pos+8>this.len)throw ir(this,8);return new er(lr(this.buf,this.pos+=4),lr(this.buf,this.pos+=4))}return rr.prototype.float=function(){if(this.pos+4>this.len)throw ir(this,4);var dr=tr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,dr},rr.prototype.double=function(){if(this.pos+8>this.len)throw ir(this,4);var dr=tr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,dr},rr.prototype.bytes=function(){var dr=this.uint32(),fr=this.pos,xr=this.pos+dr;if(xr>this.len)throw ir(this,dr);if(this.pos+=dr,Array.isArray(this.buf))return this.buf.slice(fr,xr);if(fr===xr){var yr=tr.Buffer;return yr?yr.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,fr,xr)},rr.prototype.string=function(){var dr=this.bytes();return nr.read(dr,0,dr.length)},rr.prototype.skip=function(dr){if(typeof dr=="number"){if(this.pos+dr>this.len)throw ir(this,dr);this.pos+=dr}else do if(this.pos>=this.len)throw ir(this);while(this.buf[this.pos++]&128);return this},rr.prototype.skipType=function(ur){switch(ur){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ur=this.uint32()&7)!==4;)this.skipType(ur);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ur+" at offset "+this.pos)}return this},rr._configure=function(ur){Hn=ur,rr.create=ar(),Hn._configure();var dr=tr.Long?"toLong":"toNumber";tr.merge(rr.prototype,{int64:function(){return or.call(this)[dr](!1)},uint64:function(){return or.call(this)[dr](!0)},sint64:function(){return or.call(this).zzDecode()[dr](!1)},fixed64:function(){return cr.call(this)[dr](!0)},sfixed64:function(){return cr.call(this)[dr](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=er;var tr=requireReader();(er.prototype=Object.create(tr.prototype)).constructor=er;var Hn=requireMinimal();function er(nr){tr.call(this,nr)}return er._configure=function(){Hn.Buffer&&(er.prototype._slice=Hn.Buffer.prototype.slice)},er.prototype.string=function(){var ir=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ir,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ir,this.len))},er._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=Hn;var tr=requireMinimal();(Hn.prototype=Object.create(tr.EventEmitter.prototype)).constructor=Hn;function Hn(er,nr,ir){if(typeof er!="function")throw TypeError("rpcImpl must be a function");tr.EventEmitter.call(this),this.rpcImpl=er,this.requestDelimited=!!nr,this.responseDelimited=!!ir}return Hn.prototype.rpcCall=function er(nr,ir,rr,sr,ar){if(!sr)throw TypeError("request must be specified");var or=this;if(!ar)return tr.asPromise(er,or,nr,ir,rr,sr);if(!or.rpcImpl){setTimeout(function(){ar(Error("already ended"))},0);return}try{return or.rpcImpl(nr,ir[or.requestDelimited?"encodeDelimited":"encode"](sr).finish(),function(cr,ur){if(cr)return or.emit("error",cr,nr),ar(cr);if(ur===null){or.end(!0);return}if(!(ur instanceof rr))try{ur=rr[or.responseDelimited?"decodeDelimited":"decode"](ur)}catch(dr){return or.emit("error",dr,nr),ar(dr)}return or.emit("data",ur,nr),ar(null,ur)})}catch(lr){or.emit("error",lr,nr),setTimeout(function(){ar(lr)},0);return}},Hn.prototype.end=function(nr){return this.rpcImpl&&(nr||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(tr){var Hn=tr;Hn.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(tr){var Hn=tr;Hn.build="minimal",Hn.Writer=requireWriter(),Hn.BufferWriter=requireWriter_buffer(),Hn.Reader=requireReader(),Hn.BufferReader=requireReader_buffer(),Hn.util=requireMinimal(),Hn.rpc=requireRpc(),Hn.roots=requireRoots(),Hn.configure=er;function er(){Hn.util._configure(),Hn.Writer._configure(Hn.BufferWriter),Hn.Reader._configure(Hn.BufferReader)}er()})(indexMinimal)),indexMinimal}var types={},util={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=tr;function tr(Hn,er){typeof Hn=="string"&&(er=Hn,Hn=void 0);var nr=[];function ir(sr){if(typeof sr!="string"){var ar=rr();if(tr.verbose&&console.log("codegen: "+ar),ar="return "+ar,sr){for(var or=Object.keys(sr),lr=new Array(or.length+1),cr=new Array(or.length),ur=0;ur<or.length;)lr[ur]=or[ur],cr[ur]=sr[or[ur++]];return lr[ur]=ar,Function.apply(null,lr).apply(null,cr)}return Function(ar)()}for(var dr=new Array(arguments.length-1),fr=0;fr<dr.length;)dr[fr]=arguments[++fr];if(fr=0,sr=sr.replace(/%([%dfijs])/g,function(yr,_r){var Sr=dr[fr++];switch(_r){case"d":case"f":return String(Number(Sr));case"i":return String(Math.floor(Sr));case"j":return JSON.stringify(Sr);case"s":return String(Sr)}return"%"}),fr!==dr.length)throw Error("parameter count mismatch");return nr.push(sr),ir}function rr(sr){return"function "+(sr||er||"")+"("+(Hn&&Hn.join(",")||"")+`){
  `+nr.join(`
  `)+`
}`}return ir.toString=rr,ir}return tr.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=nr;var tr=requireAspromise(),Hn=requireInquire(),er=Hn("fs");function nr(ir,rr,sr){return typeof rr=="function"?(sr=rr,rr={}):rr||(rr={}),sr?!rr.xhr&&er&&er.readFile?er.readFile(ir,function(or,lr){return or&&typeof XMLHttpRequest<"u"?nr.xhr(ir,rr,sr):or?sr(or):sr(null,rr.binary?lr:lr.toString("utf8"))}):nr.xhr(ir,rr,sr):tr(nr,this,ir,rr)}return nr.xhr=function(rr,sr,ar){var or=new XMLHttpRequest;or.onreadystatechange=function(){if(or.readyState===4){if(or.status!==0&&or.status!==200)return ar(Error("status "+or.status));if(sr.binary){var cr=or.response;if(!cr){cr=[];for(var ur=0;ur<or.responseText.length;++ur)cr.push(or.responseText.charCodeAt(ur)&255)}return ar(null,typeof Uint8Array<"u"?new Uint8Array(cr):cr)}return ar(null,or.responseText)}},sr.binary&&("overrideMimeType"in or&&or.overrideMimeType("text/plain; charset=x-user-defined"),or.responseType="arraybuffer"),or.open("GET",rr),or.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,(function(tr){var Hn=tr,er=Hn.isAbsolute=function(rr){return/^(?:\/|\w+:)/.test(rr)},nr=Hn.normalize=function(rr){rr=rr.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var sr=rr.split("/"),ar=er(rr),or="";ar&&(or=sr.shift()+"/");for(var lr=0;lr<sr.length;)sr[lr]===".."?lr>0&&sr[lr-1]!==".."?sr.splice(--lr,2):ar?sr.splice(lr,1):++lr:sr[lr]==="."?sr.splice(lr,1):++lr;return or+sr.join("/")};Hn.resolve=function(rr,sr,ar){return ar||(sr=nr(sr)),er(sr)?sr:(ar||(rr=nr(rr)),(rr=rr.replace(/(?:\/|^)[^/]+$/,"")).length?nr(rr+"/"+sr):sr)}})(path)),path}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=or;var tr=requireObject();((or.prototype=Object.create(tr.prototype)).constructor=or).className="Namespace";var Hn=requireField(),er=requireUtil(),nr=requireOneof(),ir,rr,sr;or.fromJSON=function(ur,dr){return new or(ur,dr.options).addJSON(dr.nested)};function ar(cr,ur){if(cr&&cr.length){for(var dr={},fr=0;fr<cr.length;++fr)dr[cr[fr].name]=cr[fr].toJSON(ur);return dr}}or.arrayToJSON=ar,or.isReservedId=function(ur,dr){if(ur){for(var fr=0;fr<ur.length;++fr)if(typeof ur[fr]!="string"&&ur[fr][0]<=dr&&ur[fr][1]>dr)return!0}return!1},or.isReservedName=function(ur,dr){if(ur){for(var fr=0;fr<ur.length;++fr)if(ur[fr]===dr)return!0}return!1};function or(cr,ur){tr.call(this,cr,ur),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function lr(cr){cr._nestedArray=null,cr._lookupCache={};for(var ur=cr;ur=ur.parent;)ur._lookupCache={};return cr}return Object.defineProperty(or.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=er.toArray(this.nested))}}),or.prototype.toJSON=function(ur){return er.toObject(["options",this.options,"nested",ar(this.nestedArray,ur)])},or.prototype.addJSON=function(ur){var dr=this;if(ur)for(var fr=Object.keys(ur),xr=0,yr;xr<fr.length;++xr)yr=ur[fr[xr]],dr.add((yr.fields!==void 0?ir.fromJSON:yr.values!==void 0?sr.fromJSON:yr.methods!==void 0?rr.fromJSON:yr.id!==void 0?Hn.fromJSON:or.fromJSON)(fr[xr],yr));return this},or.prototype.get=function(ur){return this.nested&&this.nested[ur]||null},or.prototype.getEnum=function(ur){if(this.nested&&this.nested[ur]instanceof sr)return this.nested[ur].values;throw Error("no such enum: "+ur)},or.prototype.add=function(ur){if(!(ur instanceof Hn&&ur.extend!==void 0||ur instanceof ir||ur instanceof nr||ur instanceof sr||ur instanceof rr||ur instanceof or))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var dr=this.get(ur.name);if(dr)if(dr instanceof or&&ur instanceof or&&!(dr instanceof ir||dr instanceof rr)){for(var fr=dr.nestedArray,xr=0;xr<fr.length;++xr)ur.add(fr[xr]);this.remove(dr),this.nested||(this.nested={}),ur.setOptions(dr.options,!0)}else throw Error("duplicate name '"+ur.name+"' in "+this)}this.nested[ur.name]=ur,this instanceof ir||this instanceof rr||this instanceof sr||this instanceof Hn||ur._edition||(ur._edition=ur._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var yr=this;yr=yr.parent;)yr._needsRecursiveFeatureResolution=!0,yr._needsRecursiveResolve=!0;return ur.onAdd(this),lr(this)},or.prototype.remove=function(ur){if(!(ur instanceof tr))throw TypeError("object must be a ReflectionObject");if(ur.parent!==this)throw Error(ur+" is not a member of "+this);return delete this.nested[ur.name],Object.keys(this.nested).length||(this.nested=void 0),ur.onRemove(this),lr(this)},or.prototype.define=function(ur,dr){if(er.isString(ur))ur=ur.split(".");else if(!Array.isArray(ur))throw TypeError("illegal path");if(ur&&ur.length&&ur[0]==="")throw Error("path must be relative");for(var fr=this;ur.length>0;){var xr=ur.shift();if(fr.nested&&fr.nested[xr]){if(fr=fr.nested[xr],!(fr instanceof or))throw Error("path conflicts with non-namespace objects")}else fr.add(fr=new or(xr))}return dr&&fr.addJSON(dr),fr},or.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var ur=this.nestedArray,dr=0;for(this.resolve();dr<ur.length;)ur[dr]instanceof or?ur[dr++].resolveAll():ur[dr++].resolve();return this._needsRecursiveResolve=!1,this},or.prototype._resolveFeaturesRecursive=function(ur){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,ur=this._edition||ur,tr.prototype._resolveFeaturesRecursive.call(this,ur),this.nestedArray.forEach(dr=>{dr._resolveFeaturesRecursive(ur)}),this):this},or.prototype.lookup=function(ur,dr,fr){if(typeof dr=="boolean"?(fr=dr,dr=void 0):dr&&!Array.isArray(dr)&&(dr=[dr]),er.isString(ur)&&ur.length){if(ur===".")return this.root;ur=ur.split(".")}else if(!ur.length)return this;var xr=ur.join(".");if(ur[0]==="")return this.root.lookup(ur.slice(1),dr);var yr=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+xr];if(yr&&(!dr||dr.indexOf(yr.constructor)>-1)||(yr=this._lookupImpl(ur,xr),yr&&(!dr||dr.indexOf(yr.constructor)>-1)))return yr;if(fr)return null;for(var _r=this;_r.parent;){if(yr=_r.parent._lookupImpl(ur,xr),yr&&(!dr||dr.indexOf(yr.constructor)>-1))return yr;_r=_r.parent}return null},or.prototype._lookupImpl=function(ur,dr){if(Object.prototype.hasOwnProperty.call(this._lookupCache,dr))return this._lookupCache[dr];var fr=this.get(ur[0]),xr=null;if(fr)ur.length===1?xr=fr:fr instanceof or&&(ur=ur.slice(1),xr=fr._lookupImpl(ur,ur.join(".")));else for(var yr=0;yr<this.nestedArray.length;++yr)this._nestedArray[yr]instanceof or&&(fr=this._nestedArray[yr]._lookupImpl(ur,dr))&&(xr=fr);return this._lookupCache[dr]=xr,xr},or.prototype.lookupType=function(ur){var dr=this.lookup(ur,[ir]);if(!dr)throw Error("no such type: "+ur);return dr},or.prototype.lookupEnum=function(ur){var dr=this.lookup(ur,[sr]);if(!dr)throw Error("no such Enum '"+ur+"' in "+this);return dr},or.prototype.lookupTypeOrEnum=function(ur){var dr=this.lookup(ur,[ir,sr]);if(!dr)throw Error("no such Type or Enum '"+ur+"' in "+this);return dr},or.prototype.lookupService=function(ur){var dr=this.lookup(ur,[rr]);if(!dr)throw Error("no such Service '"+ur+"' in "+this);return dr},or._configure=function(cr,ur,dr){ir=cr,rr=ur,sr=dr},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=nr;var tr=requireField();((nr.prototype=Object.create(tr.prototype)).constructor=nr).className="MapField";var Hn=requireTypes(),er=requireUtil();function nr(ir,rr,sr,ar,or,lr){if(tr.call(this,ir,rr,ar,void 0,void 0,or,lr),!er.isString(sr))throw TypeError("keyType must be a string");this.keyType=sr,this.resolvedKeyType=null,this.map=!0}return nr.fromJSON=function(rr,sr){return new nr(rr,sr.id,sr.keyType,sr.type,sr.options,sr.comment)},nr.prototype.toJSON=function(rr){var sr=rr?!!rr.keepComments:!1;return er.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",sr?this.comment:void 0])},nr.prototype.resolve=function(){if(this.resolved)return this;if(Hn.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return tr.prototype.resolve.call(this)},nr.d=function(rr,sr,ar){return typeof ar=="function"?ar=er.decorateType(ar).name:ar&&typeof ar=="object"&&(ar=er.decorateEnum(ar).name),function(lr,cr){er.decorateType(lr.constructor).add(new nr(cr,rr,sr,ar))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=er;var tr=requireObject();((er.prototype=Object.create(tr.prototype)).constructor=er).className="Method";var Hn=requireUtil();function er(nr,ir,rr,sr,ar,or,lr,cr,ur){if(Hn.isObject(ar)?(lr=ar,ar=or=void 0):Hn.isObject(or)&&(lr=or,or=void 0),!(ir===void 0||Hn.isString(ir)))throw TypeError("type must be a string");if(!Hn.isString(rr))throw TypeError("requestType must be a string");if(!Hn.isString(sr))throw TypeError("responseType must be a string");tr.call(this,nr,lr),this.type=ir||"rpc",this.requestType=rr,this.requestStream=ar?!0:void 0,this.responseType=sr,this.responseStream=or?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=cr,this.parsedOptions=ur}return er.fromJSON=function(ir,rr){return new er(ir,rr.type,rr.requestType,rr.responseType,rr.requestStream,rr.responseStream,rr.options,rr.comment,rr.parsedOptions)},er.prototype.toJSON=function(ir){var rr=ir?!!ir.keepComments:!1;return Hn.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",rr?this.comment:void 0,"parsedOptions",this.parsedOptions])},er.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),tr.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=ir;var tr=requireNamespace();((ir.prototype=Object.create(tr.prototype)).constructor=ir).className="Service";var Hn=requireMethod(),er=requireUtil(),nr=requireRpc();function ir(sr,ar){tr.call(this,sr,ar),this.methods={},this._methodsArray=null}ir.fromJSON=function(ar,or){var lr=new ir(ar,or.options);if(or.methods)for(var cr=Object.keys(or.methods),ur=0;ur<cr.length;++ur)lr.add(Hn.fromJSON(cr[ur],or.methods[cr[ur]]));return or.nested&&lr.addJSON(or.nested),or.edition&&(lr._edition=or.edition),lr.comment=or.comment,lr._defaultEdition="proto3",lr},ir.prototype.toJSON=function(ar){var or=tr.prototype.toJSON.call(this,ar),lr=ar?!!ar.keepComments:!1;return er.toObject(["edition",this._editionToJSON(),"options",or&&or.options||void 0,"methods",tr.arrayToJSON(this.methodsArray,ar)||{},"nested",or&&or.nested||void 0,"comment",lr?this.comment:void 0])},Object.defineProperty(ir.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=er.toArray(this.methods))}});function rr(sr){return sr._methodsArray=null,sr}return ir.prototype.get=function(ar){return this.methods[ar]||tr.prototype.get.call(this,ar)},ir.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;tr.prototype.resolve.call(this);for(var ar=this.methodsArray,or=0;or<ar.length;++or)ar[or].resolve();return this},ir.prototype._resolveFeaturesRecursive=function(ar){return this._needsRecursiveFeatureResolution?(ar=this._edition||ar,tr.prototype._resolveFeaturesRecursive.call(this,ar),this.methodsArray.forEach(or=>{or._resolveFeaturesRecursive(ar)}),this):this},ir.prototype.add=function(ar){if(this.get(ar.name))throw Error("duplicate name '"+ar.name+"' in "+this);return ar instanceof Hn?(this.methods[ar.name]=ar,ar.parent=this,rr(this)):tr.prototype.add.call(this,ar)},ir.prototype.remove=function(ar){if(ar instanceof Hn){if(this.methods[ar.name]!==ar)throw Error(ar+" is not a member of "+this);return delete this.methods[ar.name],ar.parent=null,rr(this)}return tr.prototype.remove.call(this,ar)},ir.prototype.create=function(ar,or,lr){for(var cr=new nr.Service(ar,or,lr),ur=0,dr;ur<this.methodsArray.length;++ur){var fr=er.lcFirst((dr=this._methodsArray[ur]).resolve().name).replace(/[^$\w_]/g,"");cr[fr]=er.codegen(["r","c"],er.isReserved(fr)?fr+"_":fr)("return this.rpcCall(m,q,s,r,c)")({m:dr,q:dr.resolvedRequestType.ctor,s:dr.resolvedResponseType.ctor})}return cr},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=Hn;var tr=requireMinimal();function Hn(er){if(er)for(var nr=Object.keys(er),ir=0;ir<nr.length;++ir)this[nr[ir]]=er[nr[ir]]}return Hn.create=function(nr){return this.$type.create(nr)},Hn.encode=function(nr,ir){return this.$type.encode(nr,ir)},Hn.encodeDelimited=function(nr,ir){return this.$type.encodeDelimited(nr,ir)},Hn.decode=function(nr){return this.$type.decode(nr)},Hn.decodeDelimited=function(nr){return this.$type.decodeDelimited(nr)},Hn.verify=function(nr){return this.$type.verify(nr)},Hn.fromObject=function(nr){return this.$type.fromObject(nr)},Hn.toObject=function(nr,ir){return this.$type.toObject(nr,ir)},Hn.prototype.toJSON=function(){return this.$type.toObject(this,tr.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=ir;var tr=require_enum(),Hn=requireTypes(),er=requireUtil();function nr(rr){return"missing required '"+rr.name+"'"}function ir(rr){for(var sr=er.codegen(["r","l","e"],rr.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(rr.fieldsArray.filter(function(dr){return dr.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),ar=0;ar<rr.fieldsArray.length;++ar){var or=rr._fieldsArray[ar].resolve(),lr=or.resolvedType instanceof tr?"int32":or.type,cr="m"+er.safeProp(or.name);sr("case %i: {",or.id),or.map?(sr("if(%s===util.emptyObject)",cr)("%s={}",cr)("var c2 = r.uint32()+r.pos"),Hn.defaults[or.keyType]!==void 0?sr("k=%j",Hn.defaults[or.keyType]):sr("k=null"),Hn.defaults[lr]!==void 0?sr("value=%j",Hn.defaults[lr]):sr("value=null"),sr("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",or.keyType)("case 2:"),Hn.basic[lr]===void 0?sr("value=types[%i].decode(r,r.uint32())",ar):sr("value=r.%s()",lr),sr("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Hn.long[or.keyType]!==void 0?sr('%s[typeof k==="object"?util.longToHash(k):k]=value',cr):sr("%s[k]=value",cr)):or.repeated?(sr("if(!(%s&&%s.length))",cr,cr)("%s=[]",cr),Hn.packed[lr]!==void 0&&sr("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",cr,lr)("}else"),Hn.basic[lr]===void 0?sr(or.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",cr,ar):sr("%s.push(r.%s())",cr,lr)):Hn.basic[lr]===void 0?sr(or.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",cr,ar):sr("%s=r.%s()",cr,lr),sr("break")("}")}for(sr("default:")("r.skipType(t&7)")("break")("}")("}"),ar=0;ar<rr._fieldsArray.length;++ar){var ur=rr._fieldsArray[ar];ur.required&&sr("if(!m.hasOwnProperty(%j))",ur.name)("throw util.ProtocolError(%j,{instance:m})",nr(ur))}return sr("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=rr;var tr=require_enum(),Hn=requireUtil();function er(sr,ar){return sr.name+": "+ar+(sr.repeated&&ar!=="array"?"[]":sr.map&&ar!=="object"?"{k:"+sr.keyType+"}":"")+" expected"}function nr(sr,ar,or,lr){if(ar.resolvedType)if(ar.resolvedType instanceof tr){sr("switch(%s){",lr)("default:")("return%j",er(ar,"enum value"));for(var cr=Object.keys(ar.resolvedType.values),ur=0;ur<cr.length;++ur)sr("case %i:",ar.resolvedType.values[cr[ur]]);sr("break")("}")}else sr("{")("var e=types[%i].verify(%s);",or,lr)("if(e)")("return%j+e",ar.name+".")("}");else switch(ar.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":sr("if(!util.isInteger(%s))",lr)("return%j",er(ar,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":sr("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",lr,lr,lr,lr)("return%j",er(ar,"integer|Long"));break;case"float":case"double":sr('if(typeof %s!=="number")',lr)("return%j",er(ar,"number"));break;case"bool":sr('if(typeof %s!=="boolean")',lr)("return%j",er(ar,"boolean"));break;case"string":sr("if(!util.isString(%s))",lr)("return%j",er(ar,"string"));break;case"bytes":sr('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',lr,lr,lr)("return%j",er(ar,"buffer"));break}return sr}function ir(sr,ar,or){switch(ar.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":sr("if(!util.key32Re.test(%s))",or)("return%j",er(ar,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":sr("if(!util.key64Re.test(%s))",or)("return%j",er(ar,"integer|Long key"));break;case"bool":sr("if(!util.key2Re.test(%s))",or)("return%j",er(ar,"boolean key"));break}return sr}function rr(sr){var ar=Hn.codegen(["m"],sr.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),or=sr.oneofsArray,lr={};or.length&&ar("var p={}");for(var cr=0;cr<sr.fieldsArray.length;++cr){var ur=sr._fieldsArray[cr].resolve(),dr="m"+Hn.safeProp(ur.name);if(ur.optional&&ar("if(%s!=null&&m.hasOwnProperty(%j)){",dr,ur.name),ur.map)ar("if(!util.isObject(%s))",dr)("return%j",er(ur,"object"))("var k=Object.keys(%s)",dr)("for(var i=0;i<k.length;++i){"),ir(ar,ur,"k[i]"),nr(ar,ur,cr,dr+"[k[i]]")("}");else if(ur.repeated)ar("if(!Array.isArray(%s))",dr)("return%j",er(ur,"array"))("for(var i=0;i<%s.length;++i){",dr),nr(ar,ur,cr,dr+"[i]")("}");else{if(ur.partOf){var fr=Hn.safeProp(ur.partOf.name);lr[ur.partOf.name]===1&&ar("if(p%s===1)",fr)("return%j",ur.partOf.name+": multiple values"),lr[ur.partOf.name]=1,ar("p%s=1",fr)}nr(ar,ur,cr,dr)}ur.optional&&ar("}")}return ar("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(tr){var Hn=tr,er=require_enum(),nr=requireUtil();function ir(sr,ar,or,lr){var cr=!1;if(ar.resolvedType)if(ar.resolvedType instanceof er){sr("switch(d%s){",lr);for(var ur=ar.resolvedType.values,dr=Object.keys(ur),fr=0;fr<dr.length;++fr)ur[dr[fr]]===ar.typeDefault&&!cr&&(sr("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',lr,lr,lr),ar.repeated||sr("break"),cr=!0),sr("case%j:",dr[fr])("case %i:",ur[dr[fr]])("m%s=%j",lr,ur[dr[fr]])("break");sr("}")}else sr('if(typeof d%s!=="object")',lr)("throw TypeError(%j)",ar.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",lr,or,lr);else{var xr=!1;switch(ar.type){case"double":case"float":sr("m%s=Number(d%s)",lr,lr);break;case"uint32":case"fixed32":sr("m%s=d%s>>>0",lr,lr);break;case"int32":case"sint32":case"sfixed32":sr("m%s=d%s|0",lr,lr);break;case"uint64":xr=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":sr("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",lr,lr,xr)('else if(typeof d%s==="string")',lr)("m%s=parseInt(d%s,10)",lr,lr)('else if(typeof d%s==="number")',lr)("m%s=d%s",lr,lr)('else if(typeof d%s==="object")',lr)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",lr,lr,lr,xr?"true":"");break;case"bytes":sr('if(typeof d%s==="string")',lr)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",lr,lr,lr)("else if(d%s.length >= 0)",lr)("m%s=d%s",lr,lr);break;case"string":sr("m%s=String(d%s)",lr,lr);break;case"bool":sr("m%s=Boolean(d%s)",lr,lr);break}}return sr}Hn.fromObject=function(ar){var or=ar.fieldsArray,lr=nr.codegen(["d"],ar.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!or.length)return lr("return new this.ctor");lr("var m=new this.ctor");for(var cr=0;cr<or.length;++cr){var ur=or[cr].resolve(),dr=nr.safeProp(ur.name);ur.map?(lr("if(d%s){",dr)('if(typeof d%s!=="object")',dr)("throw TypeError(%j)",ur.fullName+": object expected")("m%s={}",dr)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",dr),ir(lr,ur,cr,dr+"[ks[i]]")("}")("}")):ur.repeated?(lr("if(d%s){",dr)("if(!Array.isArray(d%s))",dr)("throw TypeError(%j)",ur.fullName+": array expected")("m%s=[]",dr)("for(var i=0;i<d%s.length;++i){",dr),ir(lr,ur,cr,dr+"[i]")("}")("}")):(ur.resolvedType instanceof er||lr("if(d%s!=null){",dr),ir(lr,ur,cr,dr),ur.resolvedType instanceof er||lr("}"))}return lr("return m")};function rr(sr,ar,or,lr){if(ar.resolvedType)ar.resolvedType instanceof er?sr("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",lr,or,lr,lr,or,lr,lr):sr("d%s=types[%i].toObject(m%s,o)",lr,or,lr);else{var cr=!1;switch(ar.type){case"double":case"float":sr("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",lr,lr,lr,lr);break;case"uint64":cr=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":sr('if(typeof m%s==="number")',lr)("d%s=o.longs===String?String(m%s):m%s",lr,lr,lr)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",lr,lr,lr,lr,cr?"true":"",lr);break;case"bytes":sr("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",lr,lr,lr,lr,lr);break;default:sr("d%s=m%s",lr,lr);break}}return sr}Hn.toObject=function(ar){var or=ar.fieldsArray.slice().sort(nr.compareFieldsById);if(!or.length)return nr.codegen()("return {}");for(var lr=nr.codegen(["m","o"],ar.name+"$toObject")("if(!o)")("o={}")("var d={}"),cr=[],ur=[],dr=[],fr=0;fr<or.length;++fr)or[fr].partOf||(or[fr].resolve().repeated?cr:or[fr].map?ur:dr).push(or[fr]);if(cr.length){for(lr("if(o.arrays||o.defaults){"),fr=0;fr<cr.length;++fr)lr("d%s=[]",nr.safeProp(cr[fr].name));lr("}")}if(ur.length){for(lr("if(o.objects||o.defaults){"),fr=0;fr<ur.length;++fr)lr("d%s={}",nr.safeProp(ur[fr].name));lr("}")}if(dr.length){for(lr("if(o.defaults){"),fr=0;fr<dr.length;++fr){var xr=dr[fr],yr=nr.safeProp(xr.name);if(xr.resolvedType instanceof er)lr("d%s=o.enums===String?%j:%j",yr,xr.resolvedType.valuesById[xr.typeDefault],xr.typeDefault);else if(xr.long)lr("if(util.Long){")("var n=new util.Long(%i,%i,%j)",xr.typeDefault.low,xr.typeDefault.high,xr.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",yr)("}else")("d%s=o.longs===String?%j:%i",yr,xr.typeDefault.toString(),xr.typeDefault.toNumber());else if(xr.bytes){var _r="["+Array.prototype.slice.call(xr.typeDefault).join(",")+"]";lr("if(o.bytes===String)d%s=%j",yr,String.fromCharCode.apply(String,xr.typeDefault))("else{")("d%s=%s",yr,_r)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",yr,yr)("}")}else lr("d%s=%j",yr,xr.typeDefault)}lr("}")}var Sr=!1;for(fr=0;fr<or.length;++fr){var xr=or[fr],jr=ar._fieldsArray.indexOf(xr),yr=nr.safeProp(xr.name);xr.map?(Sr||(Sr=!0,lr("var ks2")),lr("if(m%s&&(ks2=Object.keys(m%s)).length){",yr,yr)("d%s={}",yr)("for(var j=0;j<ks2.length;++j){"),rr(lr,xr,jr,yr+"[ks2[j]]")("}")):xr.repeated?(lr("if(m%s&&m%s.length){",yr,yr)("d%s=[]",yr)("for(var j=0;j<m%s.length;++j){",yr),rr(lr,xr,jr,yr+"[j]")("}")):(lr("if(m%s!=null&&m.hasOwnProperty(%j)){",yr,xr.name),rr(lr,xr,jr,yr),xr.partOf&&lr("if(o.oneofs)")("d%s=%j",nr.safeProp(xr.partOf.name),xr.name)),lr("}")}return lr("return d")}})(converter)),converter}var wrappers={},hasRequiredWrappers;function requireWrappers(){return hasRequiredWrappers||(hasRequiredWrappers=1,(function(tr){var Hn=tr,er=requireMessage();Hn[".google.protobuf.Any"]={fromObject:function(nr){if(nr&&nr["@type"]){var ir=nr["@type"].substring(nr["@type"].lastIndexOf("/")+1),rr=this.lookup(ir);if(rr){var sr=nr["@type"].charAt(0)==="."?nr["@type"].slice(1):nr["@type"];return sr.indexOf("/")===-1&&(sr="/"+sr),this.create({type_url:sr,value:rr.encode(rr.fromObject(nr)).finish()})}}return this.fromObject(nr)},toObject:function(nr,ir){var rr="type.googleapis.com/",sr="",ar="";if(ir&&ir.json&&nr.type_url&&nr.value){ar=nr.type_url.substring(nr.type_url.lastIndexOf("/")+1),sr=nr.type_url.substring(0,nr.type_url.lastIndexOf("/")+1);var or=this.lookup(ar);or&&(nr=or.decode(nr.value))}if(!(nr instanceof this.ctor)&&nr instanceof er){var lr=nr.$type.toObject(nr,ir),cr=nr.$type.fullName[0]==="."?nr.$type.fullName.slice(1):nr.$type.fullName;return sr===""&&(sr=rr),ar=sr+cr,lr["@type"]=ar,lr}return this.toObject(nr,ir)}}})(wrappers)),wrappers}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=yr;var tr=requireNamespace();((yr.prototype=Object.create(tr.prototype)).constructor=yr).className="Type";var Hn=require_enum(),er=requireOneof(),nr=requireField(),ir=requireMapfield(),rr=requireService(),sr=requireMessage(),ar=requireReader(),or=requireWriter(),lr=requireUtil(),cr=requireEncoder(),ur=requireDecoder(),dr=requireVerifier(),fr=requireConverter(),xr=requireWrappers();function yr(Sr,jr){tr.call(this,Sr,jr),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(yr.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var Sr=Object.keys(this.fields),jr=0;jr<Sr.length;++jr){var Dr=this.fields[Sr[jr]],Ir=Dr.id;if(this._fieldsById[Ir])throw Error("duplicate id "+Ir+" in "+this);this._fieldsById[Ir]=Dr}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=lr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=lr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=yr.generateConstructor(this)())},set:function(Sr){var jr=Sr.prototype;jr instanceof sr||((Sr.prototype=new sr).constructor=Sr,lr.merge(Sr.prototype,jr)),Sr.$type=Sr.prototype.$type=this,lr.merge(Sr,sr,!0),this._ctor=Sr;for(var Dr=0;Dr<this.fieldsArray.length;++Dr)this._fieldsArray[Dr].resolve();var Ir={};for(Dr=0;Dr<this.oneofsArray.length;++Dr)Ir[this._oneofsArray[Dr].resolve().name]={get:lr.oneOfGetter(this._oneofsArray[Dr].oneof),set:lr.oneOfSetter(this._oneofsArray[Dr].oneof)};Dr&&Object.defineProperties(Sr.prototype,Ir)}}}),yr.generateConstructor=function(jr){for(var Dr=lr.codegen(["p"],jr.name),Ir=0,Mr;Ir<jr.fieldsArray.length;++Ir)(Mr=jr._fieldsArray[Ir]).map?Dr("this%s={}",lr.safeProp(Mr.name)):Mr.repeated&&Dr("this%s=[]",lr.safeProp(Mr.name));return Dr("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function _r(Sr){return Sr._fieldsById=Sr._fieldsArray=Sr._oneofsArray=null,delete Sr.encode,delete Sr.decode,delete Sr.verify,Sr}return yr.fromJSON=function(jr,Dr){var Ir=new yr(jr,Dr.options);Ir.extensions=Dr.extensions,Ir.reserved=Dr.reserved;for(var Mr=Object.keys(Dr.fields),Or=0;Or<Mr.length;++Or)Ir.add((typeof Dr.fields[Mr[Or]].keyType<"u"?ir.fromJSON:nr.fromJSON)(Mr[Or],Dr.fields[Mr[Or]]));if(Dr.oneofs)for(Mr=Object.keys(Dr.oneofs),Or=0;Or<Mr.length;++Or)Ir.add(er.fromJSON(Mr[Or],Dr.oneofs[Mr[Or]]));if(Dr.nested)for(Mr=Object.keys(Dr.nested),Or=0;Or<Mr.length;++Or){var Lr=Dr.nested[Mr[Or]];Ir.add((Lr.id!==void 0?nr.fromJSON:Lr.fields!==void 0?yr.fromJSON:Lr.values!==void 0?Hn.fromJSON:Lr.methods!==void 0?rr.fromJSON:tr.fromJSON)(Mr[Or],Lr))}return Dr.extensions&&Dr.extensions.length&&(Ir.extensions=Dr.extensions),Dr.reserved&&Dr.reserved.length&&(Ir.reserved=Dr.reserved),Dr.group&&(Ir.group=!0),Dr.comment&&(Ir.comment=Dr.comment),Dr.edition&&(Ir._edition=Dr.edition),Ir._defaultEdition="proto3",Ir},yr.prototype.toJSON=function(jr){var Dr=tr.prototype.toJSON.call(this,jr),Ir=jr?!!jr.keepComments:!1;return lr.toObject(["edition",this._editionToJSON(),"options",Dr&&Dr.options||void 0,"oneofs",tr.arrayToJSON(this.oneofsArray,jr),"fields",tr.arrayToJSON(this.fieldsArray.filter(function(Mr){return!Mr.declaringField}),jr)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",Dr&&Dr.nested||void 0,"comment",Ir?this.comment:void 0])},yr.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;tr.prototype.resolveAll.call(this);var jr=this.oneofsArray;for(Ir=0;Ir<jr.length;)jr[Ir++].resolve();for(var Dr=this.fieldsArray,Ir=0;Ir<Dr.length;)Dr[Ir++].resolve();return this},yr.prototype._resolveFeaturesRecursive=function(jr){return this._needsRecursiveFeatureResolution?(jr=this._edition||jr,tr.prototype._resolveFeaturesRecursive.call(this,jr),this.oneofsArray.forEach(Dr=>{Dr._resolveFeatures(jr)}),this.fieldsArray.forEach(Dr=>{Dr._resolveFeatures(jr)}),this):this},yr.prototype.get=function(jr){return this.fields[jr]||this.oneofs&&this.oneofs[jr]||this.nested&&this.nested[jr]||null},yr.prototype.add=function(jr){if(this.get(jr.name))throw Error("duplicate name '"+jr.name+"' in "+this);if(jr instanceof nr&&jr.extend===void 0){if(this._fieldsById?this._fieldsById[jr.id]:this.fieldsById[jr.id])throw Error("duplicate id "+jr.id+" in "+this);if(this.isReservedId(jr.id))throw Error("id "+jr.id+" is reserved in "+this);if(this.isReservedName(jr.name))throw Error("name '"+jr.name+"' is reserved in "+this);return jr.parent&&jr.parent.remove(jr),this.fields[jr.name]=jr,jr.message=this,jr.onAdd(this),_r(this)}return jr instanceof er?(this.oneofs||(this.oneofs={}),this.oneofs[jr.name]=jr,jr.onAdd(this),_r(this)):tr.prototype.add.call(this,jr)},yr.prototype.remove=function(jr){if(jr instanceof nr&&jr.extend===void 0){if(!this.fields||this.fields[jr.name]!==jr)throw Error(jr+" is not a member of "+this);return delete this.fields[jr.name],jr.parent=null,jr.onRemove(this),_r(this)}if(jr instanceof er){if(!this.oneofs||this.oneofs[jr.name]!==jr)throw Error(jr+" is not a member of "+this);return delete this.oneofs[jr.name],jr.parent=null,jr.onRemove(this),_r(this)}return tr.prototype.remove.call(this,jr)},yr.prototype.isReservedId=function(jr){return tr.isReservedId(this.reserved,jr)},yr.prototype.isReservedName=function(jr){return tr.isReservedName(this.reserved,jr)},yr.prototype.create=function(jr){return new this.ctor(jr)},yr.prototype.setup=function(){for(var jr=this.fullName,Dr=[],Ir=0;Ir<this.fieldsArray.length;++Ir)Dr.push(this._fieldsArray[Ir].resolve().resolvedType);this.encode=cr(this)({Writer:or,types:Dr,util:lr}),this.decode=ur(this)({Reader:ar,types:Dr,util:lr}),this.verify=dr(this)({types:Dr,util:lr}),this.fromObject=fr.fromObject(this)({types:Dr,util:lr}),this.toObject=fr.toObject(this)({types:Dr,util:lr});var Mr=xr[jr];if(Mr){var Or=Object.create(this);Or.fromObject=this.fromObject,this.fromObject=Mr.fromObject.bind(Or),Or.toObject=this.toObject,this.toObject=Mr.toObject.bind(Or)}return this},yr.prototype.encode=function(jr,Dr){return this.setup().encode(jr,Dr)},yr.prototype.encodeDelimited=function(jr,Dr){return this.encode(jr,Dr&&Dr.len?Dr.fork():Dr).ldelim()},yr.prototype.decode=function(jr,Dr){return this.setup().decode(jr,Dr)},yr.prototype.decodeDelimited=function(jr){return jr instanceof ar||(jr=ar.create(jr)),this.decode(jr,jr.uint32())},yr.prototype.verify=function(jr){return this.setup().verify(jr)},yr.prototype.fromObject=function(jr){return this.setup().fromObject(jr)},yr.prototype.toObject=function(jr,Dr){return this.setup().toObject(jr,Dr)},yr.d=function(jr){return function(Ir){lr.decorateType(Ir,jr)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=or;var tr=requireNamespace();((or.prototype=Object.create(tr.prototype)).constructor=or).className="Root";var Hn=requireField(),er=require_enum(),nr=requireOneof(),ir=requireUtil(),rr,sr,ar;function or(dr){tr.call(this,"",dr),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}or.fromJSON=function(fr,xr){return xr||(xr=new or),fr.options&&xr.setOptions(fr.options),xr.addJSON(fr.nested).resolveAll()},or.prototype.resolvePath=ir.path.resolve,or.prototype.fetch=ir.fetch;function lr(){}or.prototype.load=function dr(fr,xr,yr){typeof xr=="function"&&(yr=xr,xr=void 0);var _r=this;if(!yr)return ir.asPromise(dr,_r,fr,xr);var Sr=yr===lr;function jr(Vr,Zr){if(yr){if(Sr)throw Vr;Zr&&Zr.resolveAll();var Hr=yr;yr=null,Hr(Vr,Zr)}}function Dr(Vr){var Zr=Vr.lastIndexOf("google/protobuf/");if(Zr>-1){var Hr=Vr.substring(Zr);if(Hr in ar)return Hr}return null}function Ir(Vr,Zr){try{if(ir.isString(Zr)&&Zr.charAt(0)==="{"&&(Zr=JSON.parse(Zr)),!ir.isString(Zr))_r.setOptions(Zr.options).addJSON(Zr.nested);else{sr.filename=Vr;var Hr=sr(Zr,_r,xr),Yr,eo=0;if(Hr.imports)for(;eo<Hr.imports.length;++eo)(Yr=Dr(Hr.imports[eo])||_r.resolvePath(Vr,Hr.imports[eo]))&&Mr(Yr);if(Hr.weakImports)for(eo=0;eo<Hr.weakImports.length;++eo)(Yr=Dr(Hr.weakImports[eo])||_r.resolvePath(Vr,Hr.weakImports[eo]))&&Mr(Yr,!0)}}catch(io){jr(io)}!Sr&&!Or&&jr(null,_r)}function Mr(Vr,Zr){if(Vr=Dr(Vr)||Vr,!(_r.files.indexOf(Vr)>-1)){if(_r.files.push(Vr),Vr in ar){Sr?Ir(Vr,ar[Vr]):(++Or,setTimeout(function(){--Or,Ir(Vr,ar[Vr])}));return}if(Sr){var Hr;try{Hr=ir.fs.readFileSync(Vr).toString("utf8")}catch(Yr){Zr||jr(Yr);return}Ir(Vr,Hr)}else++Or,_r.fetch(Vr,function(Yr,eo){if(--Or,!!yr){if(Yr){Zr?Or||jr(null,_r):jr(Yr);return}Ir(Vr,eo)}})}}var Or=0;ir.isString(fr)&&(fr=[fr]);for(var Lr=0,Fr;Lr<fr.length;++Lr)(Fr=_r.resolvePath("",fr[Lr]))&&Mr(Fr);return Sr?(_r.resolveAll(),_r):(Or||jr(null,_r),_r)},or.prototype.loadSync=function(fr,xr){if(!ir.isNode)throw Error("not supported");return this.load(fr,xr,lr)},or.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(fr){return"'extend "+fr.extend+"' in "+fr.parent.fullName}).join(", "));return tr.prototype.resolveAll.call(this)};var cr=/^[A-Z]/;function ur(dr,fr){var xr=fr.parent.lookup(fr.extend);if(xr){var yr=new Hn(fr.fullName,fr.id,fr.type,fr.rule,void 0,fr.options);return xr.get(yr.name)||(yr.declaringField=fr,fr.extensionField=yr,xr.add(yr)),!0}return!1}return or.prototype._handleAdd=function(fr){if(fr instanceof Hn)fr.extend!==void 0&&!fr.extensionField&&(ur(this,fr)||this.deferred.push(fr));else if(fr instanceof er)cr.test(fr.name)&&(fr.parent[fr.name]=fr.values);else if(!(fr instanceof nr)){if(fr instanceof rr)for(var xr=0;xr<this.deferred.length;)ur(this,this.deferred[xr])?this.deferred.splice(xr,1):++xr;for(var yr=0;yr<fr.nestedArray.length;++yr)this._handleAdd(fr._nestedArray[yr]);cr.test(fr.name)&&(fr.parent[fr.name]=fr)}(fr instanceof rr||fr instanceof er||fr instanceof Hn)&&(this._fullyQualifiedObjects[fr.fullName]=fr)},or.prototype._handleRemove=function(fr){if(fr instanceof Hn){if(fr.extend!==void 0)if(fr.extensionField)fr.extensionField.parent.remove(fr.extensionField),fr.extensionField=null;else{var xr=this.deferred.indexOf(fr);xr>-1&&this.deferred.splice(xr,1)}}else if(fr instanceof er)cr.test(fr.name)&&delete fr.parent[fr.name];else if(fr instanceof tr){for(var yr=0;yr<fr.nestedArray.length;++yr)this._handleRemove(fr._nestedArray[yr]);cr.test(fr.name)&&delete fr.parent[fr.name]}delete this._fullyQualifiedObjects[fr.fullName]},or._configure=function(dr,fr,xr){rr=dr,sr=fr,ar=xr},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util.exports;hasRequiredUtil=1;var tr=util.exports=requireMinimal(),Hn=requireRoots(),er,nr;tr.codegen=requireCodegen(),tr.fetch=requireFetch(),tr.path=requirePath(),tr.fs=tr.inquire("fs"),tr.toArray=function(lr){if(lr){for(var cr=Object.keys(lr),ur=new Array(cr.length),dr=0;dr<cr.length;)ur[dr]=lr[cr[dr++]];return ur}return[]},tr.toObject=function(lr){for(var cr={},ur=0;ur<lr.length;){var dr=lr[ur++],fr=lr[ur++];fr!==void 0&&(cr[dr]=fr)}return cr};var ir=/\\/g,rr=/"/g;tr.isReserved=function(lr){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(lr)},tr.safeProp=function(lr){return!/^[$\w_]+$/.test(lr)||tr.isReserved(lr)?'["'+lr.replace(ir,"\\\\").replace(rr,'\\"')+'"]':"."+lr},tr.ucFirst=function(lr){return lr.charAt(0).toUpperCase()+lr.substring(1)};var sr=/_([a-z])/g;tr.camelCase=function(lr){return lr.substring(0,1)+lr.substring(1).replace(sr,function(cr,ur){return ur.toUpperCase()})},tr.compareFieldsById=function(lr,cr){return lr.id-cr.id},tr.decorateType=function(lr,cr){if(lr.$type)return cr&&lr.$type.name!==cr&&(tr.decorateRoot.remove(lr.$type),lr.$type.name=cr,tr.decorateRoot.add(lr.$type)),lr.$type;er||(er=requireType());var ur=new er(cr||lr.name);return tr.decorateRoot.add(ur),ur.ctor=lr,Object.defineProperty(lr,"$type",{value:ur,enumerable:!1}),Object.defineProperty(lr.prototype,"$type",{value:ur,enumerable:!1}),ur};var ar=0;return tr.decorateEnum=function(lr){if(lr.$type)return lr.$type;nr||(nr=require_enum());var cr=new nr("Enum"+ar++,lr);return tr.decorateRoot.add(cr),Object.defineProperty(lr,"$type",{value:cr,enumerable:!1}),cr},tr.setProperty=function(lr,cr,ur,dr){function fr(xr,yr,_r){var Sr=yr.shift();if(Sr==="__proto__"||Sr==="prototype")return xr;if(yr.length>0)xr[Sr]=fr(xr[Sr]||{},yr,_r);else{var jr=xr[Sr];if(jr&&dr)return xr;jr&&(_r=[].concat(jr).concat(_r)),xr[Sr]=_r}return xr}if(typeof lr!="object")throw TypeError("dst must be an object");if(!cr)throw TypeError("path must be specified");return cr=cr.split("."),fr(lr,cr,ur)},Object.defineProperty(tr,"decorateRoot",{get:function(){return Hn.decorated||(Hn.decorated=new(requireRoot()))}}),util.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(tr){var Hn=tr,er=requireUtil(),nr=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function ir(rr,sr){var ar=0,or={};for(sr|=0;ar<rr.length;)or[nr[ar+sr]]=rr[ar++];return or}Hn.basic=ir([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),Hn.defaults=ir([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",er.emptyArray,null]),Hn.long=ir([0,0,0,1,1],7),Hn.mapKey=ir([0,0,0,5,5,0,0,0,1,1,0,2],2),Hn.packed=ir([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=sr;var tr=requireObject();((sr.prototype=Object.create(tr.prototype)).constructor=sr).className="Field";var Hn=require_enum(),er=requireTypes(),nr=requireUtil(),ir,rr=/^required|optional|repeated$/;sr.fromJSON=function(or,lr){var cr=new sr(or,lr.id,lr.type,lr.rule,lr.extend,lr.options,lr.comment);return lr.edition&&(cr._edition=lr.edition),cr._defaultEdition="proto3",cr};function sr(ar,or,lr,cr,ur,dr,fr){if(nr.isObject(cr)?(fr=ur,dr=cr,cr=ur=void 0):nr.isObject(ur)&&(fr=dr,dr=ur,ur=void 0),tr.call(this,ar,dr),!nr.isInteger(or)||or<0)throw TypeError("id must be a non-negative integer");if(!nr.isString(lr))throw TypeError("type must be a string");if(cr!==void 0&&!rr.test(cr=cr.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(ur!==void 0&&!nr.isString(ur))throw TypeError("extend must be a string");cr==="proto3_optional"&&(cr="optional"),this.rule=cr&&cr!=="optional"?cr:void 0,this.type=lr,this.id=or,this.extend=ur||void 0,this.repeated=cr==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=nr.Long?er.long[lr]!==void 0:!1,this.bytes=lr==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=fr}return Object.defineProperty(sr.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(sr.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(sr.prototype,"delimited",{get:function(){return this.resolvedType instanceof ir&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(sr.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(sr.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),sr.prototype.setOption=function(or,lr,cr){return tr.prototype.setOption.call(this,or,lr,cr)},sr.prototype.toJSON=function(or){var lr=or?!!or.keepComments:!1;return nr.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",lr?this.comment:void 0])},sr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=er.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof ir?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Hn&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Hn)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=nr.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var or;nr.base64.test(this.typeDefault)?nr.base64.decode(this.typeDefault,or=nr.newBuffer(nr.base64.length(this.typeDefault)),0):nr.utf8.write(this.typeDefault,or=nr.newBuffer(nr.utf8.length(this.typeDefault)),0),this.typeDefault=or}return this.map?this.defaultValue=nr.emptyObject:this.repeated?this.defaultValue=nr.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof ir&&(this.parent.ctor.prototype[this.name]=this.defaultValue),tr.prototype.resolve.call(this)},sr.prototype._inferLegacyProtoFeatures=function(or){if(or!=="proto2"&&or!=="proto3")return{};var lr={};if(this.rule==="required"&&(lr.field_presence="LEGACY_REQUIRED"),this.parent&&er.defaults[this.type]===void 0){var cr=this.parent.get(this.type.split(".").pop());cr&&cr instanceof ir&&cr.group&&(lr.message_encoding="DELIMITED")}return this.getOption("packed")===!0?lr.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(lr.repeated_field_encoding="EXPANDED"),lr},sr.prototype._resolveFeatures=function(or){return tr.prototype._resolveFeatures.call(this,this._edition||or)},sr.d=function(or,lr,cr,ur){return typeof lr=="function"?lr=nr.decorateType(lr).name:lr&&typeof lr=="object"&&(lr=nr.decorateEnum(lr).name),function(fr,xr){nr.decorateType(fr.constructor).add(new sr(xr,or,lr,cr,{default:ur}))}},sr._configure=function(or){ir=or},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=nr;var tr=requireObject();((nr.prototype=Object.create(tr.prototype)).constructor=nr).className="OneOf";var Hn=requireField(),er=requireUtil();function nr(rr,sr,ar,or){if(Array.isArray(sr)||(ar=sr,sr=void 0),tr.call(this,rr,ar),!(sr===void 0||Array.isArray(sr)))throw TypeError("fieldNames must be an Array");this.oneof=sr||[],this.fieldsArray=[],this.comment=or}nr.fromJSON=function(sr,ar){return new nr(sr,ar.oneof,ar.options,ar.comment)},nr.prototype.toJSON=function(sr){var ar=sr?!!sr.keepComments:!1;return er.toObject(["options",this.options,"oneof",this.oneof,"comment",ar?this.comment:void 0])};function ir(rr){if(rr.parent)for(var sr=0;sr<rr.fieldsArray.length;++sr)rr.fieldsArray[sr].parent||rr.parent.add(rr.fieldsArray[sr])}return nr.prototype.add=function(sr){if(!(sr instanceof Hn))throw TypeError("field must be a Field");return sr.parent&&sr.parent!==this.parent&&sr.parent.remove(sr),this.oneof.push(sr.name),this.fieldsArray.push(sr),sr.partOf=this,ir(this),this},nr.prototype.remove=function(sr){if(!(sr instanceof Hn))throw TypeError("field must be a Field");var ar=this.fieldsArray.indexOf(sr);if(ar<0)throw Error(sr+" is not a member of "+this);return this.fieldsArray.splice(ar,1),ar=this.oneof.indexOf(sr.name),ar>-1&&this.oneof.splice(ar,1),sr.partOf=null,this},nr.prototype.onAdd=function(sr){tr.prototype.onAdd.call(this,sr);for(var ar=this,or=0;or<this.oneof.length;++or){var lr=sr.get(this.oneof[or]);lr&&!lr.partOf&&(lr.partOf=ar,ar.fieldsArray.push(lr))}ir(this)},nr.prototype.onRemove=function(sr){for(var ar=0,or;ar<this.fieldsArray.length;++ar)(or=this.fieldsArray[ar]).parent&&or.parent.remove(or);tr.prototype.onRemove.call(this,sr)},Object.defineProperty(nr.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var rr=this.fieldsArray[0];return rr.options!=null&&rr.options.proto3_optional===!0}}),nr.d=function(){for(var sr=new Array(arguments.length),ar=0;ar<arguments.length;)sr[ar]=arguments[ar++];return function(lr,cr){er.decorateType(lr.constructor).add(new nr(cr,sr)),Object.defineProperty(lr,cr,{get:er.oneOfGetter(sr),set:er.oneOfSetter(sr)})}},oneof}var object$1,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object$1;hasRequiredObject=1,object$1=ar,ar.className="ReflectionObject";const tr=requireOneof();var Hn=requireUtil(),er,nr={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY",enforce_naming_style:"STYLE2024",default_symbol_visibility:"EXPORT_TOP_LEVEL"},ir={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY",enforce_naming_style:"STYLE_LEGACY",default_symbol_visibility:"EXPORT_ALL"},rr={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE",enforce_naming_style:"STYLE_LEGACY",default_symbol_visibility:"EXPORT_ALL"},sr={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY",enforce_naming_style:"STYLE_LEGACY",default_symbol_visibility:"EXPORT_ALL"};function ar(or,lr){if(!Hn.isString(or))throw TypeError("name must be a string");if(lr&&!Hn.isObject(lr))throw TypeError("options must be an object");this.options=lr,this.parsedOptions=null,this.name=or,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(ar.prototype,{root:{get:function(){for(var or=this;or.parent!==null;)or=or.parent;return or}},fullName:{get:function(){for(var or=[this.name],lr=this.parent;lr;)or.unshift(lr.name),lr=lr.parent;return or.join(".")}}}),ar.prototype.toJSON=function(){throw Error()},ar.prototype.onAdd=function(lr){this.parent&&this.parent!==lr&&this.parent.remove(this),this.parent=lr,this.resolved=!1;var cr=lr.root;cr instanceof er&&cr._handleAdd(this)},ar.prototype.onRemove=function(lr){var cr=lr.root;cr instanceof er&&cr._handleRemove(this),this.parent=null,this.resolved=!1},ar.prototype.resolve=function(){return this.resolved?this:(this.root instanceof er&&(this.resolved=!0),this)},ar.prototype._resolveFeaturesRecursive=function(lr){return this._resolveFeatures(this._edition||lr)},ar.prototype._resolveFeatures=function(lr){if(!this._featuresResolved){var cr={};if(!lr)throw new Error("Unknown edition for "+this.fullName);var ur=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(lr));if(this._edition){if(lr==="proto2")cr=Object.assign({},rr);else if(lr==="proto3")cr=Object.assign({},sr);else if(lr==="2023")cr=Object.assign({},ir);else if(lr==="2024")cr=Object.assign({},nr);else throw new Error("Unknown edition: "+lr);this._features=Object.assign(cr,ur||{}),this._featuresResolved=!0;return}if(this.partOf instanceof tr){var dr=Object.assign({},this.partOf._features);this._features=Object.assign(dr,ur||{})}else if(!this.declaringField)if(this.parent){var fr=Object.assign({},this.parent._features);this._features=Object.assign(fr,ur||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},ar.prototype._inferLegacyProtoFeatures=function(){return{}},ar.prototype.getOption=function(lr){if(this.options)return this.options[lr]},ar.prototype.setOption=function(lr,cr,ur){return this.options||(this.options={}),/^features\./.test(lr)?Hn.setProperty(this.options,lr,cr,ur):(!ur||this.options[lr]===void 0)&&(this.getOption(lr)!==cr&&(this.resolved=!1),this.options[lr]=cr),this},ar.prototype.setParsedOption=function(lr,cr,ur){this.parsedOptions||(this.parsedOptions=[]);var dr=this.parsedOptions;if(ur){var fr=dr.find(function(_r){return Object.prototype.hasOwnProperty.call(_r,lr)});if(fr){var xr=fr[lr];Hn.setProperty(xr,ur,cr)}else fr={},fr[lr]=Hn.setProperty({},ur,cr),dr.push(fr)}else{var yr={};yr[lr]=cr,dr.push(yr)}return this},ar.prototype.setOptions=function(lr,cr){if(lr)for(var ur=Object.keys(lr),dr=0;dr<ur.length;++dr)this.setOption(ur[dr],lr[ur[dr]],cr);return this},ar.prototype.toString=function(){var lr=this.constructor.className,cr=this.fullName;return cr.length?lr+" "+cr:lr},ar.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},ar._configure=function(or){er=or},object$1}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=nr;var tr=requireObject();((nr.prototype=Object.create(tr.prototype)).constructor=nr).className="Enum";var Hn=requireNamespace(),er=requireUtil();function nr(ir,rr,sr,ar,or,lr){if(tr.call(this,ir,sr),rr&&typeof rr!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=ar,this.comments=or||{},this.valuesOptions=lr,this._valuesFeatures={},this.reserved=void 0,rr)for(var cr=Object.keys(rr),ur=0;ur<cr.length;++ur)typeof rr[cr[ur]]=="number"&&(this.valuesById[this.values[cr[ur]]=rr[cr[ur]]]=cr[ur])}return nr.prototype._resolveFeatures=function(rr){return rr=this._edition||rr,tr.prototype._resolveFeatures.call(this,rr),Object.keys(this.values).forEach(sr=>{var ar=Object.assign({},this._features);this._valuesFeatures[sr]=Object.assign(ar,this.valuesOptions&&this.valuesOptions[sr]&&this.valuesOptions[sr].features)}),this},nr.fromJSON=function(rr,sr){var ar=new nr(rr,sr.values,sr.options,sr.comment,sr.comments);return ar.reserved=sr.reserved,sr.edition&&(ar._edition=sr.edition),ar._defaultEdition="proto3",ar},nr.prototype.toJSON=function(rr){var sr=rr?!!rr.keepComments:!1;return er.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",sr?this.comment:void 0,"comments",sr?this.comments:void 0])},nr.prototype.add=function(rr,sr,ar,or){if(!er.isString(rr))throw TypeError("name must be a string");if(!er.isInteger(sr))throw TypeError("id must be an integer");if(this.values[rr]!==void 0)throw Error("duplicate name '"+rr+"' in "+this);if(this.isReservedId(sr))throw Error("id "+sr+" is reserved in "+this);if(this.isReservedName(rr))throw Error("name '"+rr+"' is reserved in "+this);if(this.valuesById[sr]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+sr+" in "+this);this.values[rr]=sr}else this.valuesById[this.values[rr]=sr]=rr;return or&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[rr]=or||null),this.comments[rr]=ar||null,this},nr.prototype.remove=function(rr){if(!er.isString(rr))throw TypeError("name must be a string");var sr=this.values[rr];if(sr==null)throw Error("name '"+rr+"' does not exist in "+this);return delete this.valuesById[sr],delete this.values[rr],delete this.comments[rr],this.valuesOptions&&delete this.valuesOptions[rr],this},nr.prototype.isReservedId=function(rr){return Hn.isReservedId(this.reserved,rr)},nr.prototype.isReservedName=function(rr){return Hn.isReservedName(this.reserved,rr)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=ir;var tr=require_enum(),Hn=requireTypes(),er=requireUtil();function nr(rr,sr,ar,or){return sr.delimited?rr("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",ar,or,(sr.id<<3|3)>>>0,(sr.id<<3|4)>>>0):rr("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",ar,or,(sr.id<<3|2)>>>0)}function ir(rr){for(var sr=er.codegen(["m","w"],rr.name+"$encode")("if(!w)")("w=Writer.create()"),ar,or,lr=rr.fieldsArray.slice().sort(er.compareFieldsById),ar=0;ar<lr.length;++ar){var cr=lr[ar].resolve(),ur=rr._fieldsArray.indexOf(cr),dr=cr.resolvedType instanceof tr?"int32":cr.type,fr=Hn.basic[dr];or="m"+er.safeProp(cr.name),cr.map?(sr("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",or,cr.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",or)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(cr.id<<3|2)>>>0,8|Hn.mapKey[cr.keyType],cr.keyType),fr===void 0?sr("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",ur,or):sr(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|fr,dr,or),sr("}")("}")):cr.repeated?(sr("if(%s!=null&&%s.length){",or,or),cr.packed&&Hn.packed[dr]!==void 0?sr("w.uint32(%i).fork()",(cr.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",or)("w.%s(%s[i])",dr,or)("w.ldelim()"):(sr("for(var i=0;i<%s.length;++i)",or),fr===void 0?nr(sr,cr,ur,or+"[i]"):sr("w.uint32(%i).%s(%s[i])",(cr.id<<3|fr)>>>0,dr,or)),sr("}")):(cr.optional&&sr("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",or,cr.name),fr===void 0?nr(sr,cr,ur,or):sr("w.uint32(%i).%s(%s)",(cr.id<<3|fr)>>>0,dr,or))}return sr("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var tr=indexLight.exports=requireIndexMinimal();tr.build="light";function Hn(nr,ir,rr){return typeof ir=="function"?(rr=ir,ir=new tr.Root):ir||(ir=new tr.Root),ir.load(nr,rr)}tr.load=Hn;function er(nr,ir){return ir||(ir=new tr.Root),ir.loadSync(nr)}return tr.loadSync=er,tr.encoder=requireEncoder(),tr.decoder=requireDecoder(),tr.verifier=requireVerifier(),tr.converter=requireConverter(),tr.ReflectionObject=requireObject(),tr.Namespace=requireNamespace(),tr.Root=requireRoot(),tr.Enum=require_enum(),tr.Type=requireType(),tr.Field=requireField(),tr.OneOf=requireOneof(),tr.MapField=requireMapfield(),tr.Service=requireService(),tr.Method=requireMethod(),tr.Message=requireMessage(),tr.wrappers=requireWrappers(),tr.types=requireTypes(),tr.util=requireUtil(),tr.ReflectionObject._configure(tr.Root),tr.Namespace._configure(tr.Type,tr.Service,tr.Enum),tr.Root._configure(tr.Type),tr.Field._configure(tr.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=cr;var tr=/[\s{}=;:[\],'"()<>]/g,Hn=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,er=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,nr=/^ *[*/]+ */,ir=/^\s*\*?\/*/,rr=/\n/g,sr=/\s/,ar=/\\(.?)/g,or={0:"\0",r:"\r",n:`
`,t:"	"};function lr(ur){return ur.replace(ar,function(dr,fr){switch(fr){case"\\":case"":return fr;default:return or[fr]||""}})}cr.unescape=lr;function cr(ur,dr){ur=ur.toString();var fr=0,xr=ur.length,yr=1,_r=0,Sr={},jr=[],Dr=null;function Ir(uo){return Error("illegal "+uo+" (line "+yr+")")}function Mr(){var uo=Dr==="'"?er:Hn;uo.lastIndex=fr-1;var so=uo.exec(ur);if(!so)throw Ir("string");return fr=uo.lastIndex,Hr(Dr),Dr=null,lr(so[1])}function Or(uo){return ur.charAt(uo)}function Lr(uo,so,no){var po={type:ur.charAt(uo++),lineEmpty:!1,leading:no},co;dr?co=2:co=3;var lo=uo-co,ao;do if(--lo<0||(ao=ur.charAt(lo))===`
`){po.lineEmpty=!0;break}while(ao===" "||ao==="	");for(var xo=ur.substring(uo,so).split(rr),_o=0;_o<xo.length;++_o)xo[_o]=xo[_o].replace(dr?ir:nr,"").trim();po.text=xo.join(`
`).trim(),Sr[yr]=po,_r=yr}function Fr(uo){var so=Vr(uo),no=ur.substring(uo,so),po=/^\s*\/\//.test(no);return po}function Vr(uo){for(var so=uo;so<xr&&Or(so)!==`
`;)so++;return so}function Zr(){if(jr.length>0)return jr.shift();if(Dr)return Mr();var uo,so,no,po,co,lo=fr===0;do{if(fr===xr)return null;for(uo=!1;sr.test(no=Or(fr));)if(no===`
`&&(lo=!0,++yr),++fr===xr)return null;if(Or(fr)==="/"){if(++fr===xr)throw Ir("comment");if(Or(fr)==="/")if(dr){if(po=fr,co=!1,Fr(fr-1)){co=!0;do if(fr=Vr(fr),fr===xr||(fr++,!lo))break;while(Fr(fr))}else fr=Math.min(xr,Vr(fr)+1);co&&(Lr(po,fr,lo),lo=!0),yr++,uo=!0}else{for(co=Or(po=fr+1)==="/";Or(++fr)!==`
`;)if(fr===xr)return null;++fr,co&&(Lr(po,fr-1,lo),lo=!0),++yr,uo=!0}else if((no=Or(fr))==="*"){po=fr+1,co=dr||Or(po)==="*";do{if(no===`
`&&++yr,++fr===xr)throw Ir("comment");so=no,no=Or(fr)}while(so!=="*"||no!=="/");++fr,co&&(Lr(po,fr-2,lo),lo=!0),uo=!0}else return"/"}}while(uo);var ao=fr;tr.lastIndex=0;var xo=tr.test(Or(ao++));if(!xo)for(;ao<xr&&!tr.test(Or(ao));)++ao;var _o=ur.substring(fr,fr=ao);return(_o==='"'||_o==="'")&&(Dr=_o),_o}function Hr(uo){jr.push(uo)}function Yr(){if(!jr.length){var uo=Zr();if(uo===null)return null;Hr(uo)}return jr[0]}function eo(uo,so){var no=Yr(),po=no===uo;if(po)return Zr(),!0;if(!so)throw Ir("token '"+no+"', '"+uo+"' expected");return!1}function io(uo){var so=null,no;return uo===void 0?(no=Sr[yr-1],delete Sr[yr-1],no&&(dr||no.type==="*"||no.lineEmpty)&&(so=no.leading?no.text:null)):(_r<uo&&Yr(),no=Sr[uo],delete Sr[uo],no&&!no.lineEmpty&&(dr||no.type==="/")&&(so=no.leading?null:no.text)),so}return Object.defineProperty({next:Zr,peek:Yr,push:Hr,skip:eo,cmnt:io},"line",{get:function(){return yr}})}return tokenize_1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1,parse_1=Mr,Mr.filename=null,Mr.defaults={keepCase:!1};var tr=requireTokenize(),Hn=requireRoot(),er=requireType(),nr=requireField(),ir=requireMapfield(),rr=requireOneof(),sr=require_enum(),ar=requireService(),or=requireMethod(),lr=requireObject(),cr=requireTypes(),ur=requireUtil(),dr=/^[1-9][0-9]*$/,fr=/^-?[1-9][0-9]*$/,xr=/^0[x][0-9a-fA-F]+$/,yr=/^-?0[x][0-9a-fA-F]+$/,_r=/^0[0-7]+$/,Sr=/^-?0[0-7]+$/,jr=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Dr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ir=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function Mr(Or,Lr,Fr){Lr instanceof Hn||(Fr=Lr,Lr=new Hn),Fr||(Fr=Mr.defaults);var Vr=Fr.preferTrailingComment||!1,Zr=tr(Or,Fr.alternateCommentMode||!1),Hr=Zr.next,Yr=Zr.push,eo=Zr.peek,io=Zr.skip,uo=Zr.cmnt,so=!0,no,po,co,lo="proto2",ao=Lr,xo=[],_o={},Po=Fr.keepCase?function(rl){return rl}:ur.camelCase;function Oo(){xo.forEach(rl=>{rl._edition=lo,Object.keys(_o).forEach(il=>{rl.getOption(il)===void 0&&rl.setOption(il,_o[il],!0)})})}function So(rl,il,hl){var Dl=Mr.filename;return hl||(Mr.filename=null),Error("illegal "+(il||"token")+" '"+rl+"' ("+(Dl?Dl+", ":"")+"line "+Zr.line+")")}function Ao(){var rl=[],il;do{if((il=Hr())!=='"'&&il!=="'")throw So(il);rl.push(Hr()),io(il),il=eo()}while(il==='"'||il==="'");return rl.join("")}function zo(rl){var il=Hr();switch(il){case"'":case'"':return Yr(il),Ao();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return Go(il,!0)}catch{if(Ir.test(il))return il;throw So(il,"value")}}function Ro(rl,il){var hl,Dl;do if(il&&((hl=eo())==='"'||hl==="'")){var Pl=Ao();if(rl.push(Pl),lo>=2023)throw So(Pl,"id")}else try{rl.push([Dl=Qo(Hr()),io("to",!0)?Qo(Hr()):Dl])}catch(oc){if(il&&Ir.test(hl)&&lo>=2023)rl.push(hl);else throw oc}while(io(",",!0));var Jl={options:void 0};Jl.setOption=function(oc,qc){this.options===void 0&&(this.options={}),this.options[oc]=qc},Tl(Jl,function(qc){if(qc==="option")cc(Jl,qc),io(";");else throw So(qc)},function(){gl(Jl)})}function Go(rl,il){var hl=1;switch(rl.charAt(0)==="-"&&(hl=-1,rl=rl.substring(1)),rl){case"inf":case"INF":case"Inf":return hl*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(dr.test(rl))return hl*parseInt(rl,10);if(xr.test(rl))return hl*parseInt(rl,16);if(_r.test(rl))return hl*parseInt(rl,8);if(jr.test(rl))return hl*parseFloat(rl);throw So(rl,"number",il)}function Qo(rl,il){switch(rl){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!il&&rl.charAt(0)==="-")throw So(rl,"id");if(fr.test(rl))return parseInt(rl,10);if(yr.test(rl))return parseInt(rl,16);if(Sr.test(rl))return parseInt(rl,8);throw So(rl,"id")}function Vo(){if(no!==void 0)throw So("package");if(no=Hr(),!Ir.test(no))throw So(no,"name");ao=ao.define(no),io(";")}function nl(){var rl=eo(),il;switch(rl){case"option":if(lo<"2024")throw So("option");Hr(),Ao(),io(";");return;case"weak":il=co||(co=[]),Hr();break;case"public":Hr();default:il=po||(po=[]);break}rl=Ao(),io(";"),il.push(rl)}function fl(){if(io("="),lo=Ao(),lo<2023)throw So(lo,"syntax");io(";")}function Bl(){if(io("="),lo=Ao(),!["2023","2024"].includes(lo))throw So(lo,"edition");io(";")}function Gl(rl,il){switch(il){case"option":return cc(rl,il),io(";"),!0;case"message":return Pc(rl,il),!0;case"enum":return Yl(rl,il),!0;case"export":case"local":return lo<"2024"||(il=Hr(),il==="export"||il==="local")||il!=="message"&&il!=="enum"?!1:Gl(rl,il);case"service":return Ql(rl,il),!0;case"extend":return wc(rl,il),!0}return!1}function Tl(rl,il,hl){var Dl=Zr.line;if(rl&&(typeof rl.comment!="string"&&(rl.comment=uo()),rl.filename=Mr.filename),io("{",!0)){for(var Pl;(Pl=Hr())!=="}";)il(Pl);io(";",!0)}else hl&&hl(),io(";"),rl&&(typeof rl.comment!="string"||Vr)&&(rl.comment=uo(Dl)||rl.comment)}function Pc(rl,il){if(!Dr.test(il=Hr()))throw So(il,"type name");var hl=new er(il);Tl(hl,function(Pl){if(!Gl(hl,Pl))switch(Pl){case"map":Vl(hl);break;case"required":if(lo!=="proto2")throw So(Pl);case"repeated":mc(hl,Pl);break;case"optional":if(lo==="proto3")mc(hl,"proto3_optional");else{if(lo!=="proto2")throw So(Pl);mc(hl,"optional")}break;case"oneof":Jc(hl,Pl);break;case"extensions":Ro(hl.extensions||(hl.extensions=[]));break;case"reserved":Ro(hl.reserved||(hl.reserved=[]),!0);break;default:if(lo==="proto2"||!Ir.test(Pl))throw So(Pl);Yr(Pl),mc(hl,"optional");break}}),rl.add(hl),rl===ao&&xo.push(hl)}function mc(rl,il,hl){var Dl=Hr();if(Dl==="group"){Hc(rl,il);return}for(;Dl.endsWith(".")||eo().startsWith(".");)Dl+=Hr();if(!Ir.test(Dl))throw So(Dl,"type");var Pl=Hr();if(!Dr.test(Pl))throw So(Pl,"name");Pl=Po(Pl),io("=");var Jl=new nr(Pl,Qo(Hr()),Dl,il,hl);if(Tl(Jl,function(xc){if(xc==="option")cc(Jl,xc),io(";");else throw So(xc)},function(){gl(Jl)}),il==="proto3_optional"){var oc=new rr("_"+Pl);Jl.setOption("proto3_optional",!0),oc.add(Jl),rl.add(oc)}else rl.add(Jl);rl===ao&&xo.push(Jl)}function Hc(rl,il){if(lo>=2023)throw So("group");var hl=Hr();if(!Dr.test(hl))throw So(hl,"name");var Dl=ur.lcFirst(hl);hl===Dl&&(hl=ur.ucFirst(hl)),io("=");var Pl=Qo(Hr()),Jl=new er(hl);Jl.group=!0;var oc=new nr(Dl,Pl,hl,il);oc.filename=Mr.filename,Tl(Jl,function(xc){switch(xc){case"option":cc(Jl,xc),io(";");break;case"required":case"repeated":mc(Jl,xc);break;case"optional":lo==="proto3"?mc(Jl,"proto3_optional"):mc(Jl,"optional");break;case"message":Pc(Jl,xc);break;case"enum":Yl(Jl,xc);break;case"reserved":Ro(Jl.reserved||(Jl.reserved=[]),!0);break;case"export":case"local":if(lo<"2024")throw So(xc);switch(xc=Hr(),xc){case"message":Pc(Jl,xc);break;case"enum":Pc(Jl,xc);break;default:throw So(xc)}break;default:throw So(xc)}}),rl.add(Jl).add(oc)}function Vl(rl){io("<");var il=Hr();if(cr.mapKey[il]===void 0)throw So(il,"type");io(",");var hl=Hr();if(!Ir.test(hl))throw So(hl,"type");io(">");var Dl=Hr();if(!Dr.test(Dl))throw So(Dl,"name");io("=");var Pl=new ir(Po(Dl),Qo(Hr()),il,hl);Tl(Pl,function(oc){if(oc==="option")cc(Pl,oc),io(";");else throw So(oc)},function(){gl(Pl)}),rl.add(Pl)}function Jc(rl,il){if(!Dr.test(il=Hr()))throw So(il,"name");var hl=new rr(Po(il));Tl(hl,function(Pl){Pl==="option"?(cc(hl,Pl),io(";")):(Yr(Pl),mc(hl,"optional"))}),rl.add(hl)}function Yl(rl,il){if(!Dr.test(il=Hr()))throw So(il,"name");var hl=new sr(il);Tl(hl,function(Pl){switch(Pl){case"option":cc(hl,Pl),io(";");break;case"reserved":Ro(hl.reserved||(hl.reserved=[]),!0),hl.reserved===void 0&&(hl.reserved=[]);break;default:ic(hl,Pl)}}),rl.add(hl),rl===ao&&xo.push(hl)}function ic(rl,il){if(!Dr.test(il))throw So(il,"name");io("=");var hl=Qo(Hr(),!0),Dl={options:void 0};Dl.getOption=function(Pl){return this.options[Pl]},Dl.setOption=function(Pl,Jl){lr.prototype.setOption.call(Dl,Pl,Jl)},Dl.setParsedOption=function(){},Tl(Dl,function(Jl){if(Jl==="option")cc(Dl,Jl),io(";");else throw So(Jl)},function(){gl(Dl)}),rl.add(il,hl,Dl.comment,Dl.parsedOptions||Dl.options)}function cc(rl,il){var hl,Dl,Pl=!0;for(il==="option"&&(il=Hr());il!=="=";){if(il==="("){var Jl=Hr();io(")"),il="("+Jl+")"}if(Pl){if(Pl=!1,il.includes(".")&&!il.includes("(")){var oc=il.split(".");hl=oc[0]+".",il=oc[1];continue}hl=il}else Dl=Dl?Dl+=il:il;il=Hr()}var qc=Dl?hl.concat(Dl):hl,xc=Xc(rl,qc);Dl=Dl&&Dl[0]==="."?Dl.slice(1):Dl,hl=hl&&hl[hl.length-1]==="."?hl.slice(0,-1):hl,Oc(rl,hl,xc,Dl)}function Xc(rl,il){if(io("{",!0)){for(var hl={};!io("}",!0);){if(!Dr.test(Il=Hr()))throw So(Il,"name");if(Il===null)throw So(Il,"end of input");var Dl,Pl=Il;if(io(":",!0),eo()==="{")Dl=Xc(rl,il+"."+Il);else if(eo()==="["){Dl=[];var Jl;if(io("[",!0)){do Jl=zo(),Dl.push(Jl);while(io(",",!0));io("]"),typeof Jl<"u"&&Sc(rl,il+"."+Il,Jl)}}else Dl=zo(),Sc(rl,il+"."+Il,Dl);var oc=hl[Pl];oc&&(Dl=[].concat(oc).concat(Dl)),hl[Pl]=Dl,io(",",!0),io(";",!0)}return hl}var qc=zo();return Sc(rl,il,qc),qc}function Sc(rl,il,hl){if(ao===rl&&/^features\./.test(il)){_o[il]=hl;return}rl.setOption&&rl.setOption(il,hl)}function Oc(rl,il,hl,Dl){rl.setParsedOption&&rl.setParsedOption(il,hl,Dl)}function gl(rl){if(io("[",!0)){do cc(rl,"option");while(io(",",!0));io("]")}return rl}function Ql(rl,il){if(!Dr.test(il=Hr()))throw So(il,"service name");var hl=new ar(il);Tl(hl,function(Pl){if(!Gl(hl,Pl))if(Pl==="rpc")ql(hl,Pl);else throw So(Pl)}),rl.add(hl),rl===ao&&xo.push(hl)}function ql(rl,il){var hl=uo(),Dl=il;if(!Dr.test(il=Hr()))throw So(il,"name");var Pl=il,Jl,oc,qc,xc;if(io("("),io("stream",!0)&&(oc=!0),!Ir.test(il=Hr())||(Jl=il,io(")"),io("returns"),io("("),io("stream",!0)&&(xc=!0),!Ir.test(il=Hr())))throw So(il);qc=il,io(")");var jc=new or(Pl,Dl,Jl,qc,oc,xc);jc.comment=hl,Tl(jc,function(Kc){if(Kc==="option")cc(jc,Kc),io(";");else throw So(Kc)}),rl.add(jc)}function wc(rl,il){if(!Ir.test(il=Hr()))throw So(il,"reference");var hl=il;Tl(null,function(Pl){switch(Pl){case"required":case"repeated":mc(rl,Pl,hl);break;case"optional":lo==="proto3"?mc(rl,"proto3_optional",hl):mc(rl,"optional",hl);break;default:if(lo==="proto2"||!Ir.test(Pl))throw So(Pl);Yr(Pl),mc(rl,"optional",hl);break}})}for(var Il;(Il=Hr())!==null;)switch(Il){case"package":if(!so)throw So(Il);Vo();break;case"import":if(!so)throw So(Il);nl();break;case"syntax":if(!so)throw So(Il);fl();break;case"edition":if(!so)throw So(Il);Bl();break;case"option":cc(ao,Il),io(";",!0);break;default:if(Gl(ao,Il)){so=!1;continue}throw So(Il)}return Oo(),Mr.filename=null,{package:no,imports:po,weakImports:co,root:Lr}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=Hn;var tr=/\/|\./;function Hn(nr,ir){tr.test(nr)||(nr="google/protobuf/"+nr+".proto",ir={nested:{google:{nested:{protobuf:{nested:ir}}}}}),Hn[nr]=ir}Hn("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var er;return Hn("duration",{Duration:er={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),Hn("timestamp",{Timestamp:er}),Hn("empty",{Empty:{fields:{}}}),Hn("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),Hn("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),Hn("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),Hn.get=function(ir){return Hn[ir]||null},common_1}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src.exports;hasRequiredSrc=1;var tr=src.exports=requireIndexLight();return tr.build="full",tr.tokenize=requireTokenize(),tr.parse=requireParse(),tr.common=requireCommon(),tr.Root._configure(tr.Type,tr.parse,tr.common),src.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc()),protobufjs}var protobufjsExports=requireProtobufjs();const protobuf=getDefaultExportFromCjs(protobufjsExports),schemaJSON={nested:{Yaticker:{fields:{id:{type:"string",id:1},price:{type:"float",id:2},changePercent:{type:"float",id:8},change:{type:"float",id:12}}}}},YahooFinanceSocket=()=>{const[tr,Hn]=reactExports.useState({}),er=reactExports.useRef({});return reactExports.useEffect(()=>{const ir=protobuf.Root.fromJSON(schemaJSON).lookupType("Yaticker");let rr=null;const sr=()=>{rr=new WebSocket("wss://streamer.finance.yahoo.com/?version=2"),rr.onopen=()=>{const ar={subscribe:["GLD","SLV","GLDM","PSLV","ZSL","161226.SZ","1542.T","1540.T","518880.SS","159937.SZ","159934.SZ","518800.SS"]};rr.readyState===WebSocket.OPEN&&rr.send(JSON.stringify(ar))},rr.onmessage=ar=>{try{const or=JSON.parse(ar.data);if(or.message){const lr=window.atob(or.message),cr=Uint8Array.from(lr,xr=>xr.charCodeAt(0)),ur=protobuf.Reader.create(cr),dr=ir.decode(ur,ur.len),fr=er.current[dr.id]||{};fr.price!==dr.price&&(er.current[dr.id]={...fr,...dr,prevPrice:fr.price},Hn({...er.current}))}}catch{console.warn("Yahoo Decode Error")}},rr.onclose=()=>setTimeout(sr,3e3)};return sr(),()=>rr&&rr.close()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(tr).filter(nr=>nr.price!==void 0&&nr.price!==null).sort((nr,ir)=>nr.id.localeCompare(ir.id)).map(nr=>jsxRuntimeExports.jsx(YahooTickerItem,{stock:nr},nr.id))})},YahooTickerItem=({stock:tr})=>{const[Hn,er]=reactExports.useState("");reactExports.useEffect(()=>{if(!tr.prevPrice||!tr.price)return;tr.price>tr.prevPrice?er("flash-green"):tr.price<tr.prevPrice&&er("flash-red");const ar=setTimeout(()=>er(""),1e3);return()=>clearTimeout(ar)},[tr.price,tr.prevPrice]);const nr=tr.change>=0,ir=ar=>ar.endsWith(".SZ")||ar.endsWith(".SS")||ar.endsWith(".T")?"":"$",rr=ar=>{switch(ar){case"GLD":case"GLDM":return"(Vng)";case"PSLV":case"SLV":return"(Bc)";case"ZSL":return"(Short Bc)";case"161226.SZ":return"UBS SDIC Silver Futures(Bc China)";case"1542.T":return"Japan Physical Silver(Bc Japan)";case"1540.T":return"Japan Physical Gold(Vng Japan)";case"518880.SS":return"Huaan Yifu Gold Exchange Traded Fund(Vng China)";case"159937.SZ":return"Bosera Gold Tradable Open(Vng China)";case"159934.SZ":return"E Fund Management Company(Vng China)";case"518800.SS":return"Guotai Asset Management Company(Vng China)";default:return""}},sr=ar=>{const or=rr(ar).toLowerCase();return or.includes("vng")||or.includes("gold")?"#ffd700":"#ffffff"};return jsxRuntimeExports.jsxs("div",{className:`ticker-item ${Hn}`,children:[jsxRuntimeExports.jsx("div",{className:"item-label",style:{color:sr(tr.id)},children:tr.id.endsWith(".SS")||tr.id.endsWith(".SZ")||tr.id.endsWith(".T")?jsxRuntimeExports.jsx("span",{className:"stock-full-name",children:rr(tr.id)}):jsxRuntimeExports.jsxs("div",{className:"stock-id-wrapper",children:[jsxRuntimeExports.jsx("span",{className:"stock-id",style:{color:sr(tr.id)},children:tr.id}),jsxRuntimeExports.jsxs("span",{className:"stock-note",children:["(",rr(tr.id),")"]})]})}),jsxRuntimeExports.jsxs("div",{className:"item-price",children:[jsxRuntimeExports.jsx("span",{className:"currency-symbol",children:ir(tr.id)}),tr.price?.toLocaleString(void 0,{minimumFractionDigits:2}),jsxRuntimeExports.jsxs("span",{className:`price-change ${nr?"positive":"negative"}`,children:[nr?"+":"",tr.change?.toFixed(2)," (",nr?"+":"",tr.changePercent?.toFixed(2),"%)"]})]})]})},findItem=(tr,Hn,er="hanoi")=>{if(!tr||!Array.isArray(tr))return null;const nr=tr.find(ir=>ir.name===Hn);return nr?nr[er]||nr:null},getXauUsd=tr=>{if(tr?.currencyNationWide){const Hn=findItem(tr.currencyNationWide,"XAUUSD","hanoi");if(Hn)return Hn}if(tr?.goldNationWide){const Hn=findItem(tr.goldNationWide,"XAUUSD","hanoi");if(Hn)return Hn}return null},getGold9999Hanoi=tr=>tr?.goldNationWide?findItem(tr.goldNationWide,"999,9 TD","hanoi"):null,getGold9999Saigon=tr=>tr?.goldNationWide?findItem(tr.goldNationWide,"999,9 TD","saigon"):null,getUsdVnd=tr=>tr?.currencyNationWide?findItem(tr.currencyNationWide,"USD","hanoi"):null,getGoldConversion=tr=>{const Hn=getXauUsd(tr),er=getUsdVnd(tr);if(!Hn?.buy||!er?.buy)return null;const nr=Hn.buy*er.buy*1.20565303,ir=Hn.sell*er.sell*1.20565303;return{buy:Math.round(nr),sell:Math.round(ir)}},getSjcFree=tr=>tr?.sjcNationWide?findItem(tr.sjcNationWide,"SJC TD","hanoi"):null,getXagUsd=tr=>{if(tr?.silver_price){const Hn=findItem(tr.silver_price,"XAGUSD","hanoi");if(Hn)return Hn}if(tr?.currencyNationWide){const Hn=findItem(tr.currencyNationWide,"XAGUSD","hanoi");if(Hn)return Hn}return null},getSilverPerCanHanoi=tr=>{const Hn=tr?.silver_price?findItem(tr.silver_price,"XAGUSD","hanoi"):null,er=tr?.currencyNationWide?findItem(tr.currencyNationWide,"USD","hanoi"):null;if(Hn?.buy&&er?.buy){const nr=Hn.buy*er.buy*26.6666*1.20565303,ir=Hn.sell*er.sell*26.6666*1.20565303;return{buy:Math.round(nr),sell:Math.round(ir)}}return null},getSilverPerCanSaigon=tr=>{const Hn=tr?.silver_price?findItem(tr.silver_price,"GOLDENFUND_1L","saigon"):null,er=tr?.currencyNationWide?findItem(tr.currencyNationWide,"USD","saigon"):null;if(Hn?.buy&&er?.buy){const nr=Hn.buy*26.6666*1e3,ir=Hn.sell*26.6666*1e3;return{buy:Math.round(nr),sell:Math.round(ir)}}return null},formatTickerPrice=tr=>!tr&&tr!==0?"N/A":new Intl.NumberFormat("vi-VN").format(Math.round(tr)),RealTimeTicker=()=>{const{liveData:tr}=useRealTimeData(),[Hn,er]=reactExports.useState({}),nr=reactExports.useMemo(()=>tr?{xauUsd:getXauUsd(tr),gold9999Hanoi:getGold9999Hanoi(tr),gold9999Saigon:getGold9999Saigon(tr),usdVnd:getUsdVnd(tr),goldConversion:getGoldConversion(tr),sjcFree:getSjcFree(tr),xagUsd:getXauUsd(tr),silverPerCanHanoi:getSilverPerCanHanoi(tr),silverPerCanSaigon:getSilverPerCanSaigon(tr)}:null,[tr]);return reactExports.useEffect(()=>{nr&&er(nr)},[nr]),jsxRuntimeExports.jsx("div",{className:"real-time-ticker",children:jsxRuntimeExports.jsx("div",{className:"ticker-scroll",children:jsxRuntimeExports.jsxs("div",{className:"ticker-content",children:[jsxRuntimeExports.jsxs("div",{className:"ticker-row",children:[jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label",children:" VNG"}),jsxRuntimeExports.jsx(TickerItem,{label:"XAU/USD (oz)",data:nr?.xauUsd,prevData:Hn.xauUsd}),jsxRuntimeExports.jsx(TickerItem,{label:"Vng NL 9999 HN",data:nr?.gold9999Hanoi,prevData:Hn.gold9999Hanoi}),jsxRuntimeExports.jsx(TickerItem,{label:"Vng NL 9999 SG",data:nr?.gold9999Saigon,prevData:Hn.gold9999Saigon}),jsxRuntimeExports.jsx(TickerItem,{label:"Vng Quy i",data:nr?.goldConversion,prevData:Hn.goldConversion}),jsxRuntimeExports.jsx(TickerItem,{label:"SJC T Do",data:nr?.sjcFree,prevData:Hn.sjcFree})]}),jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label",children:" T GI"}),jsxRuntimeExports.jsx(TickerItem,{label:"USD/VND",data:nr?.usdVnd,prevData:Hn.usdVnd})]}),jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label",children:" BC"}),jsxRuntimeExports.jsx(TickerItem,{label:"XAG/USD (oz)",data:nr?.xagUsd,prevData:Hn.xagUsd}),jsxRuntimeExports.jsx(TickerItem,{label:"Gi quy i bc 1kg",data:nr?.silverPerCanHanoi,prevData:Hn.silverPerCanHanoi}),jsxRuntimeExports.jsx(TickerItem,{label:"BC NGUYN LIU 1KG",data:nr?.silverPerCanSaigon,prevData:Hn.silverPerCanSaigon})]})]}),jsxRuntimeExports.jsx("div",{className:"ticker-row etf-row",style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"4px"},children:jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:"ETF"}),jsxRuntimeExports.jsx(YahooFinanceSocket,{})]})})]})})})},TickerItem=({label:tr,data:Hn,prevData:er})=>{const[nr,ir]=reactExports.useState("");return reactExports.useEffect(()=>{if(!er||!Hn)return;Hn.buy>er.buy||Hn.sell>er.sell?ir("flash-green"):(Hn.buy<er.buy||Hn.sell<er.sell)&&ir("flash-red");const rr=setTimeout(()=>ir(""),1e3);return()=>clearTimeout(rr)},[Hn,er]),Hn?jsxRuntimeExports.jsxs("div",{className:`ticker-item ${nr}`,children:[jsxRuntimeExports.jsx("span",{className:"item-label",children:tr}),jsxRuntimeExports.jsxs("div",{className:"item-prices",children:[jsxRuntimeExports.jsxs("span",{className:"price-buy",children:["Mua: ",formatTickerPrice(Hn.buy)]}),jsxRuntimeExports.jsxs("span",{className:"price-sell",children:["Bn: ",formatTickerPrice(Hn.sell)]})]})]}):jsxRuntimeExports.jsxs("div",{className:"ticker-item",children:[jsxRuntimeExports.jsx("span",{className:"item-label",children:tr}),jsxRuntimeExports.jsx("span",{children:"N/A"})]})},normalizeCalendarEvents=tr=>{if(!tr)return[];let Hn=[];return Array.isArray(tr)?Hn=tr:Array.isArray(tr.Calendars)?Hn=tr.Calendars:Array.isArray(tr.calendar)?Hn=tr.calendar:Array.isArray(tr.calendarEvents)?Hn=tr.calendarEvents:tr.calendars&&Array.isArray(tr.calendars.items)?Hn=tr.calendars.items:tr.calendars&&Array.isArray(tr.calendars)&&(Hn=tr.calendars),Hn.map((er,nr)=>{const ir=parseDateTime(er);return{id:er.id||er.ID||er.event_id||nr,title:er.title||er.event||er.event_name||"S kin kinh t",country:(er.country||er.country_code||"US").toUpperCase(),important:Number(er.important??er.importance??er.level??0),previous:er.previous??er.prev??null,forecast:er.forecast??er.consensus??null,actual:er.actual??er.real??null,time:ir,result:inferResult(er)}})},generateMockCalendarData=()=>[{id:1,title:"ISM PMI SN XUT",country:"US",important:3,previous:49.1,forecast:49.4,actual:48.7,time:new Date("2025-11-03T22:00:00"),result:!1},{id:2,title:"BO CO ADP NONFARM",country:"US",important:3,previous:null,forecast:28,actual:42,time:new Date("2025-11-05T20:15:00"),result:!0},{id:3,title:"ISM PMI DCH V",country:"US",important:3,previous:50,forecast:50.8,actual:52.4,time:new Date("2025-11-05T22:00:00"),result:!0}],formatTime$1=tr=>tr?tr.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"N/A",formatDate$4=tr=>{if(!tr)return"N/A";const er=["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"][tr.getDay()],nr=String(tr.getDate()).padStart(2,"0"),ir=String(tr.getMonth()+1).padStart(2,"0");return`${er}, ${nr}/${ir}`},formatStat=tr=>tr==null?"N/A":typeof tr=="string"?tr:Number(tr).toLocaleString("vi-VN"),parseDateTime=tr=>{if(!tr)return new Date;const Hn=tr.date||tr.day||tr.event_date||tr.ngay||tr.date_time,er=tr.time||tr.event_time||tr.gio||tr.hour;if(tr.timestamp){const nr=Number(tr.timestamp);if(!Number.isNaN(nr))return new Date(nr*(nr<1e12?1e3:1))}if(Hn){const nr=`${Hn} ${er||""}`.trim(),ir=new Date(nr);if(!Number.isNaN(ir.getTime()))return ir}return new Date},inferResult=tr=>{const Hn=Number(tr.actual??tr.real??NaN),er=Number(tr.forecast??tr.consensus??NaN);if(!Number.isNaN(Hn)&&!Number.isNaN(er))return Hn>=er;if(typeof tr.result<"u"){if(tr.result===!0||tr.result==="good")return!0;if(tr.result===!1||tr.result==="bad")return!1}return null},CountryFlag=({country:tr="US"})=>{const Hn=er=>({US:"",GB:"",EU:"",JP:"",CN:"",AU:"",CA:"",CH:"",NZ:"",VN:""})[er.toUpperCase()]||"";return jsxRuntimeExports.jsx("div",{className:"country-flag",children:jsxRuntimeExports.jsx("span",{className:"flag-emoji",children:Hn(tr)})})},ImportanceStars=({level:tr=0})=>{const Hn=[];for(let er=0;er<3;er++)Hn.push(jsxRuntimeExports.jsx("span",{className:`star ${er<tr?"filled":""}`,children:""},er));return jsxRuntimeExports.jsx("div",{className:"importance-stars",children:Hn})},StatsBlock=({actual:tr,forecast:Hn,previous:er,result:nr})=>{const ir=()=>nr===!0?"stat-good":nr===!1?"stat-bad":"";return jsxRuntimeExports.jsxs("div",{className:"stats-block",children:[jsxRuntimeExports.jsxs("div",{className:"stat-column",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"Thc t"}),jsxRuntimeExports.jsx("div",{className:`stat-value ${ir()}`,children:formatStat(tr)})]}),jsxRuntimeExports.jsxs("div",{className:"stat-column",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"D bo"}),jsxRuntimeExports.jsx("div",{className:"stat-value stat-neutral",children:formatStat(Hn)})]}),jsxRuntimeExports.jsxs("div",{className:"stat-column",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"Trc "}),jsxRuntimeExports.jsx("div",{className:"stat-value stat-neutral",children:formatStat(er)})]})]})},CalendarRow=({event:tr})=>jsxRuntimeExports.jsxs("div",{className:"calendar-row",children:[jsxRuntimeExports.jsxs("div",{className:"col-datetime",children:[jsxRuntimeExports.jsx("div",{className:"date-text",children:formatDate$4(tr.time)}),jsxRuntimeExports.jsx("div",{className:"time-text",children:formatTime$1(tr.time)})]}),jsxRuntimeExports.jsx("div",{className:"col-country",children:jsxRuntimeExports.jsx(CountryFlag,{country:tr.country})}),jsxRuntimeExports.jsx("div",{className:"col-importance",children:jsxRuntimeExports.jsx(ImportanceStars,{level:tr.important})}),jsxRuntimeExports.jsxs("div",{className:"col-content",children:[jsxRuntimeExports.jsx("div",{className:"event-title",children:tr.title}),jsxRuntimeExports.jsx("button",{className:"btn-detail",children:"Xem ngay phn tch chi tit >>"})]}),jsxRuntimeExports.jsx("div",{className:"col-stats",children:jsxRuntimeExports.jsx(StatsBlock,{actual:tr.actual,forecast:tr.forecast,previous:tr.previous,result:tr.result})})]}),CalendarTable=({events:tr=[]})=>tr.length===0?jsxRuntimeExports.jsx("div",{className:"calendar-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c s kin kinh t no"})}):jsxRuntimeExports.jsxs("div",{className:"calendar-table",children:[jsxRuntimeExports.jsxs("div",{className:"calendar-header",children:[jsxRuntimeExports.jsxs("div",{className:"header-col-datetime",children:[jsxRuntimeExports.jsx("span",{children:"NGY"}),jsxRuntimeExports.jsx("span",{children:"THI GIAN"})]}),jsxRuntimeExports.jsx("div",{className:"header-col-country",children:"QUC GIA"}),jsxRuntimeExports.jsx("div",{className:"header-col-importance",children:"MC "}),jsxRuntimeExports.jsx("div",{className:"header-col-content",children:"NI DUNG"}),jsxRuntimeExports.jsx("div",{className:"header-col-stats",children:"THNG K S LIU"})]}),jsxRuntimeExports.jsx("div",{className:"calendar-body",children:tr.map(Hn=>jsxRuntimeExports.jsx(CalendarRow,{event:Hn},Hn.id))})]}),logUserInfo=(tr="Mn hnh Home.jsx")=>{const Hn=navigator.userAgent;let er="Unknown";Hn.includes("Chrome")&&!Hn.includes("Edg")&&!Hn.includes("OPR")?er="Chrome":Hn.includes("Edg")?er="Edge":Hn.includes("Firefox")?er="Firefox":Hn.includes("OPR")||Hn.includes("Opera")?er="Opera":Hn.includes("Safari")&&!Hn.includes("Chrome")&&(er="Safari");let nr="Unknown";/Windows/i.test(Hn)?nr="Windows":/Mac/i.test(Hn)?nr="MacOS":/Linux/i.test(Hn)?nr="Linux":/Android/i.test(Hn)?nr="Android":/iPhone|iPad|iPod/i.test(Hn)&&(nr="iOS");const ir=(sr,ar,or)=>{if(!/iphone/i.test(sr))return"";const lr=Math.min(ar,or),cr=Math.max(ar,or);return Math.abs(lr-375)<=5&&Math.abs(cr-667)<=5?"iPhone SE / 4.7-inch":Math.abs(lr-375)<=5&&Math.abs(cr-812)<=5?"iPhone Mini (5.4-inch)":Math.abs(lr-390)<=5&&Math.abs(cr-844)<=5?"iPhone 6.1-inch":Math.abs(lr-393)<=5&&Math.abs(cr-852)<=5?"iPhone Pro 6.1-inch":Math.abs(lr-414)<=5&&Math.abs(cr-896)<=5?"iPhone Plus / Max":Math.abs(lr-430)<=5&&Math.abs(cr-932)<=5?"iPhone Pro Max":"iPhone (Unknown)"},rr=async sr=>{const ar=window.screen.width,or=window.screen.height,lr=Math.min(ar,or)<768?1:0,cr=ir(Hn,ar,or),ur=new FormData;sr&&ur.append("maps",JSON.stringify(sr)),ur.append("widget_activate",tr),ur.append("browser_info",`${er} ${nr}`),ur.append("is_mobile",lr),ur.append("width",ar),ur.append("height",or),ur.append("device_group",cr);try{console.log("[LOG] Sending log...",{widgetActivate:tr,browser:er,os:nr,is_mobile:lr,width:ar,height:or,device_group:cr,maps:sr});const dr=await fetch("https://api_gold.thinkdiff.us/check_data_pro",{method:"POST",body:ur});console.log("[LOG] Server response:",dr.status)}catch(dr){console.error("[LOG] Fetch error:",dr)}};navigator.geolocation.getCurrentPosition(sr=>{console.log("[LOG] Geolocation OK",sr.coords),rr({lat:sr.coords.latitude,long:sr.coords.longitude})},sr=>{console.warn("[LOG] Geolocation FAILED",sr.code,sr.message),rr(null)},{timeout:5e3})},EconomicCalendar$1=()=>{const{liveData:tr}=useRealTimeData();reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh EconomicCanlendar.jsx"))()},[]);const Hn=reactExports.useMemo(()=>{if(tr){const er=normalizeCalendarEvents(tr.Calendars||tr.calendar||tr.Calendar||tr.calendars||tr.calendarEvents||tr.EconomicCalendar||tr.calendar_data);if(er.length>0)return er}return generateMockCalendarData()},[tr]);return jsxRuntimeExports.jsx("section",{className:"calendar-section",children:jsxRuntimeExports.jsxs("div",{className:"calendar-container",children:[jsxRuntimeExports.jsx("h2",{className:"calendar-title",children:"Lch Kinh T"}),jsxRuntimeExports.jsx(CalendarTable,{events:Hn})]})})};let e$2={data:""},t$1=tr=>{if(typeof window=="object"){let Hn=(tr?tr.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return Hn.nonce=window.__nonce__,Hn.parentNode||(tr||document.head).appendChild(Hn),Hn.firstChild}return tr||e$2},l$3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$4=/\/\*[^]*?\*\/|  +/g,n$2=/\n+/g,o$3=(tr,Hn)=>{let er="",nr="",ir="";for(let rr in tr){let sr=tr[rr];rr[0]=="@"?rr[1]=="i"?er=rr+" "+sr+";":nr+=rr[1]=="f"?o$3(sr,rr):rr+"{"+o$3(sr,rr[1]=="k"?"":Hn)+"}":typeof sr=="object"?nr+=o$3(sr,Hn?Hn.replace(/([^,])+/g,ar=>rr.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,or=>/&/.test(or)?or.replace(/&/g,ar):ar?ar+" "+or:or)):rr):sr!=null&&(rr=/^--/.test(rr)?rr:rr.replace(/[A-Z]/g,"-$&").toLowerCase(),ir+=o$3.p?o$3.p(rr,sr):rr+":"+sr+";")}return er+(Hn&&ir?Hn+"{"+ir+"}":ir)+nr},c$4={},s$3=tr=>{if(typeof tr=="object"){let Hn="";for(let er in tr)Hn+=er+s$3(tr[er]);return Hn}return tr},i$2=(tr,Hn,er,nr,ir)=>{let rr=s$3(tr),sr=c$4[rr]||(c$4[rr]=(or=>{let lr=0,cr=11;for(;lr<or.length;)cr=101*cr+or.charCodeAt(lr++)>>>0;return"go"+cr})(rr));if(!c$4[sr]){let or=rr!==tr?tr:(lr=>{let cr,ur,dr=[{}];for(;cr=l$3.exec(lr.replace(a$4,""));)cr[4]?dr.shift():cr[3]?(ur=cr[3].replace(n$2," ").trim(),dr.unshift(dr[0][ur]=dr[0][ur]||{})):dr[0][cr[1]]=cr[2].replace(n$2," ").trim();return dr[0]})(tr);c$4[sr]=o$3(ir?{["@keyframes "+sr]:or}:or,er?"":"."+sr)}let ar=er&&c$4.g?c$4.g:null;return er&&(c$4.g=c$4[sr]),((or,lr,cr,ur)=>{ur?lr.data=lr.data.replace(ur,or):lr.data.indexOf(or)===-1&&(lr.data=cr?or+lr.data:lr.data+or)})(c$4[sr],Hn,nr,ar),sr},p$3=(tr,Hn,er)=>tr.reduce((nr,ir,rr)=>{let sr=Hn[rr];if(sr&&sr.call){let ar=sr(er),or=ar&&ar.props&&ar.props.className||/^go/.test(ar)&&ar;sr=or?"."+or:ar&&typeof ar=="object"?ar.props?"":o$3(ar,""):ar===!1?"":ar}return nr+ir+(sr??"")},"");function u$3(tr){let Hn=this||{},er=tr.call?tr(Hn.p):tr;return i$2(er.unshift?er.raw?p$3(er,[].slice.call(arguments,1),Hn.p):er.reduce((nr,ir)=>Object.assign(nr,ir&&ir.call?ir(Hn.p):ir),{}):er,t$1(Hn.target),Hn.g,Hn.o,Hn.k)}let d$2,f$4,g$2;u$3.bind({g:1});let h$5=u$3.bind({k:1});function m$2(tr,Hn,er,nr){o$3.p=Hn,d$2=tr,f$4=er,g$2=nr}function w$4(tr,Hn){let er=this||{};return function(){let nr=arguments;function ir(rr,sr){let ar=Object.assign({},rr),or=ar.className||ir.className;er.p=Object.assign({theme:f$4&&f$4()},ar),er.o=/ *go\d+/.test(or),ar.className=u$3.apply(er,nr)+(or?" "+or:"");let lr=tr;return tr[0]&&(lr=ar.as||tr,delete ar.as),g$2&&lr[0]&&g$2(ar),d$2(lr,ar)}return ir}}var Z$2=tr=>typeof tr=="function",h$4=(tr,Hn)=>Z$2(tr)?tr(Hn):tr,W$2=(()=>{let tr=0;return()=>(++tr).toString()})(),E$3=(()=>{let tr;return()=>{if(tr===void 0&&typeof window<"u"){let Hn=matchMedia("(prefers-reduced-motion: reduce)");tr=!Hn||Hn.matches}return tr}})(),re$2=20,k$4="default",H$3=(tr,Hn)=>{let{toastLimit:er}=tr.settings;switch(Hn.type){case 0:return{...tr,toasts:[Hn.toast,...tr.toasts].slice(0,er)};case 1:return{...tr,toasts:tr.toasts.map(sr=>sr.id===Hn.toast.id?{...sr,...Hn.toast}:sr)};case 2:let{toast:nr}=Hn;return H$3(tr,{type:tr.toasts.find(sr=>sr.id===nr.id)?1:0,toast:nr});case 3:let{toastId:ir}=Hn;return{...tr,toasts:tr.toasts.map(sr=>sr.id===ir||ir===void 0?{...sr,dismissed:!0,visible:!1}:sr)};case 4:return Hn.toastId===void 0?{...tr,toasts:[]}:{...tr,toasts:tr.toasts.filter(sr=>sr.id!==Hn.toastId)};case 5:return{...tr,pausedAt:Hn.time};case 6:let rr=Hn.time-(tr.pausedAt||0);return{...tr,pausedAt:void 0,toasts:tr.toasts.map(sr=>({...sr,pauseDuration:sr.pauseDuration+rr}))}}},v$2=[],j$2={toasts:[],pausedAt:void 0,settings:{toastLimit:re$2}},f$3={},Y$2=(tr,Hn=k$4)=>{f$3[Hn]=H$3(f$3[Hn]||j$2,tr),v$2.forEach(([er,nr])=>{er===Hn&&nr(f$3[Hn])})},_$4=tr=>Object.keys(f$3).forEach(Hn=>Y$2(tr,Hn)),Q$2=tr=>Object.keys(f$3).find(Hn=>f$3[Hn].toasts.some(er=>er.id===tr)),S$3=(tr=k$4)=>Hn=>{Y$2(Hn,tr)},se$1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V$2=(tr={},Hn=k$4)=>{let[er,nr]=reactExports.useState(f$3[Hn]||j$2),ir=reactExports.useRef(f$3[Hn]);reactExports.useEffect(()=>(ir.current!==f$3[Hn]&&nr(f$3[Hn]),v$2.push([Hn,nr]),()=>{let sr=v$2.findIndex(([ar])=>ar===Hn);sr>-1&&v$2.splice(sr,1)}),[Hn]);let rr=er.toasts.map(sr=>{var ar,or,lr;return{...tr,...tr[sr.type],...sr,removeDelay:sr.removeDelay||((ar=tr[sr.type])==null?void 0:ar.removeDelay)||tr?.removeDelay,duration:sr.duration||((or=tr[sr.type])==null?void 0:or.duration)||tr?.duration||se$1[sr.type],style:{...tr.style,...(lr=tr[sr.type])==null?void 0:lr.style,...sr.style}}});return{...er,toasts:rr}},ie$1=(tr,Hn="blank",er)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:Hn,ariaProps:{role:"status","aria-live":"polite"},message:tr,pauseDuration:0,...er,id:er?.id||W$2()}),P$3=tr=>(Hn,er)=>{let nr=ie$1(Hn,tr,er);return S$3(nr.toasterId||Q$2(nr.id))({type:2,toast:nr}),nr.id},n$1=(tr,Hn)=>P$3("blank")(tr,Hn);n$1.error=P$3("error");n$1.success=P$3("success");n$1.loading=P$3("loading");n$1.custom=P$3("custom");n$1.dismiss=(tr,Hn)=>{let er={type:3,toastId:tr};Hn?S$3(Hn)(er):_$4(er)};n$1.dismissAll=tr=>n$1.dismiss(void 0,tr);n$1.remove=(tr,Hn)=>{let er={type:4,toastId:tr};Hn?S$3(Hn)(er):_$4(er)};n$1.removeAll=tr=>n$1.remove(void 0,tr);n$1.promise=(tr,Hn,er)=>{let nr=n$1.loading(Hn.loading,{...er,...er?.loading});return typeof tr=="function"&&(tr=tr()),tr.then(ir=>{let rr=Hn.success?h$4(Hn.success,ir):void 0;return rr?n$1.success(rr,{id:nr,...er,...er?.success}):n$1.dismiss(nr),ir}).catch(ir=>{let rr=Hn.error?h$4(Hn.error,ir):void 0;rr?n$1.error(rr,{id:nr,...er,...er?.error}):n$1.dismiss(nr)}),tr};var ce$1=1e3,w$3=(tr,Hn="default")=>{let{toasts:er,pausedAt:nr}=V$2(tr,Hn),ir=reactExports.useRef(new Map).current,rr=reactExports.useCallback((ur,dr=ce$1)=>{if(ir.has(ur))return;let fr=setTimeout(()=>{ir.delete(ur),sr({type:4,toastId:ur})},dr);ir.set(ur,fr)},[]);reactExports.useEffect(()=>{if(nr)return;let ur=Date.now(),dr=er.map(fr=>{if(fr.duration===1/0)return;let xr=(fr.duration||0)+fr.pauseDuration-(ur-fr.createdAt);if(xr<0){fr.visible&&n$1.dismiss(fr.id);return}return setTimeout(()=>n$1.dismiss(fr.id,Hn),xr)});return()=>{dr.forEach(fr=>fr&&clearTimeout(fr))}},[er,nr,Hn]);let sr=reactExports.useCallback(S$3(Hn),[Hn]),ar=reactExports.useCallback(()=>{sr({type:5,time:Date.now()})},[sr]),or=reactExports.useCallback((ur,dr)=>{sr({type:1,toast:{id:ur,height:dr}})},[sr]),lr=reactExports.useCallback(()=>{nr&&sr({type:6,time:Date.now()})},[nr,sr]),cr=reactExports.useCallback((ur,dr)=>{let{reverseOrder:fr=!1,gutter:xr=8,defaultPosition:yr}=dr||{},_r=er.filter(Dr=>(Dr.position||yr)===(ur.position||yr)&&Dr.height),Sr=_r.findIndex(Dr=>Dr.id===ur.id),jr=_r.filter((Dr,Ir)=>Ir<Sr&&Dr.visible).length;return _r.filter(Dr=>Dr.visible).slice(...fr?[jr+1]:[0,jr]).reduce((Dr,Ir)=>Dr+(Ir.height||0)+xr,0)},[er]);return reactExports.useEffect(()=>{er.forEach(ur=>{if(ur.dismissed)rr(ur.id,ur.removeDelay);else{let dr=ir.get(ur.id);dr&&(clearTimeout(dr),ir.delete(ur.id))}})},[er,rr]),{toasts:er,handlers:{updateHeight:or,startPause:ar,endPause:lr,calculateOffset:cr}}},de$1=h$5`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me$2=h$5`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le$1=h$5`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C$3=w$4("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${tr=>tr.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me$2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${tr=>tr.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le$1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te$2=h$5`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F$2=w$4("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${tr=>tr.secondary||"#e0e0e0"};
  border-right-color: ${tr=>tr.primary||"#616161"};
  animation: ${Te$2} 1s linear infinite;
`,ge$1=h$5`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he$1=h$5`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$5=w$4("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${tr=>tr.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he$1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${tr=>tr.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be$1=w$4("div")`
  position: absolute;
`,Se$1=w$4("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae$1=h$5`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe$2=w$4("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$$3=({toast:tr})=>{let{icon:Hn,type:er,iconTheme:nr}=tr;return Hn!==void 0?typeof Hn=="string"?reactExports.createElement(Pe$2,null,Hn):Hn:er==="blank"?null:reactExports.createElement(Se$1,null,reactExports.createElement(F$2,{...nr}),er!=="loading"&&reactExports.createElement(be$1,null,er==="error"?reactExports.createElement(C$3,{...nr}):reactExports.createElement(L$5,{...nr})))},Re$1=tr=>`
0% {transform: translate3d(0,${tr*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee$1=tr=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${tr*-150}%,-1px) scale(.6); opacity:0;}
`,ve$2="0%{opacity:0;} 100%{opacity:1;}",De$1="0%{opacity:1;} 100%{opacity:0;}",Oe$1=w$4("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie$1=w$4("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke$2=(tr,Hn)=>{let er=tr.includes("top")?1:-1,[nr,ir]=E$3()?[ve$2,De$1]:[Re$1(er),Ee$1(er)];return{animation:Hn?`${h$5(nr)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$5(ir)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N$3=reactExports.memo(({toast:tr,position:Hn,style:er,children:nr})=>{let ir=tr.height?ke$2(tr.position||Hn||"top-center",tr.visible):{opacity:0},rr=reactExports.createElement($$3,{toast:tr}),sr=reactExports.createElement(Ie$1,{...tr.ariaProps},h$4(tr.message,tr));return reactExports.createElement(Oe$1,{className:tr.className,style:{...ir,...er,...tr.style}},typeof nr=="function"?nr({icon:rr,message:sr}):reactExports.createElement(reactExports.Fragment,null,rr,sr))});m$2(reactExports.createElement);var we$2=({id:tr,className:Hn,style:er,onHeightUpdate:nr,children:ir})=>{let rr=reactExports.useCallback(sr=>{if(sr){let ar=()=>{let or=sr.getBoundingClientRect().height;nr(tr,or)};ar(),new MutationObserver(ar).observe(sr,{subtree:!0,childList:!0,characterData:!0})}},[tr,nr]);return reactExports.createElement("div",{ref:rr,className:Hn,style:er},ir)},Me$2=(tr,Hn)=>{let er=tr.includes("top"),nr=er?{top:0}:{bottom:0},ir=tr.includes("center")?{justifyContent:"center"}:tr.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E$3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${Hn*(er?1:-1)}px)`,...nr,...ir}},Ce$2=u$3`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D$3=16,Fe$1=({reverseOrder:tr,position:Hn="top-center",toastOptions:er,gutter:nr,children:ir,toasterId:rr,containerStyle:sr,containerClassName:ar})=>{let{toasts:or,handlers:lr}=w$3(er,rr);return reactExports.createElement("div",{"data-rht-toaster":rr||"",style:{position:"fixed",zIndex:9999,top:D$3,left:D$3,right:D$3,bottom:D$3,pointerEvents:"none",...sr},className:ar,onMouseEnter:lr.startPause,onMouseLeave:lr.endPause},or.map(cr=>{let ur=cr.position||Hn,dr=lr.calculateOffset(cr,{reverseOrder:tr,gutter:nr,defaultPosition:Hn}),fr=Me$2(ur,dr);return reactExports.createElement(we$2,{id:cr.id,key:cr.id,onHeightUpdate:lr.updateHeight,className:cr.visible?Ce$2:"",style:fr},cr.type==="custom"?h$4(cr.message,cr):ir?ir(cr):reactExports.createElement(N$3,{toast:cr,position:ur}))}))},zt$2=n$1;function IoSend(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(tr)}function IoShareSocialOutline(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"128",cy:"256",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"384",cy:"112",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"384",cy:"400",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m169.83 279.53 172.34 96.94m0-240.94-172.34 96.94"},child:[]}]})(tr)}const NewsNotification=({newsInAPI:tr})=>{const Hn="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg",{liveData:er}=useRealTimeData(),[nr,ir]=reactExports.useState(new Set),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(null),[fr,xr]=reactExports.useState(!1),[yr,_r]=reactExports.useState(!1),[Sr,jr]=reactExports.useState(null),[Dr,Ir]=reactExports.useState([]),[Mr,Or]=reactExports.useState(""),[Lr,Fr]=reactExports.useState(!1),[Vr,Zr]=reactExports.useState({}),[Hr,Yr]=reactExports.useState(null),eo=reactExports.useRef([]),io=reactExports.useRef([]),uo=reactExports.useRef(new Set),so=async(Ao,zo="vi")=>{if(!Ao)return"";if(zo==="vi"&&/[]/i.test(Ao))return Ao;try{return(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${zo}&dt=t&q=${encodeURIComponent(Ao)}`)).json())[0].map(Qo=>Qo[0]).join("")}catch(Ro){return console.error("Li dch thng bo:",Ro),Ao}},no=async(Ao,zo)=>{if(Ao){if(Vr[zo]){Zr(Ro=>{const Go={...Ro};return delete Go[zo],Go});return}Yr(zo);try{const Ro=await so(Ao,"vi");Zr(Go=>({...Go,[zo]:Ro}))}catch(Ro){console.error("Li dch bnh lun",Ro)}finally{Yr(null)}}};reactExports.useEffect(()=>{if(!tr||tr.length===0)return;(async()=>{const zo=tr.flatMap(Ro=>{const Go=Ro.link;return(Ro.data||[]).map(Qo=>({id:Qo.post_db_id,title:Qo.content_text_vi||Qo.content_text||Qo.content,content:Qo.content_text||Qo.content,image:Qo.images?.[0]||null,originalTitle:Qo.content_text||Qo.content,originalContent:Qo.content_text||Qo.content,link:Go}))}).filter(Ro=>!uo.current.has(Ro.id));zo.length>0&&(eo.current.push(...zo),zo.forEach(Ro=>{Ro.id&&uo.current.add(Ro.id)}))})()},[tr]),reactExports.useEffect(()=>{if(!er?.ContentNew)return;const Ao=er.ContentNew.filter(zo=>!uo.current.has(zo.id));Ao.length>0&&(io.current.push(...Ao),Ao.forEach(zo=>uo.current.add(zo.id)))},[er]),reactExports.useEffect(()=>{const Ao=setInterval(async()=>{let zo=null;if(eo.current.length>0){const Vo=Math.floor(Math.random()*eo.current.length);zo=eo.current.splice(Vo,1)[0]}else if(io.current.length>0){const Vo=Math.floor(Math.random()*io.current.length);zo=io.current.splice(Vo,1)[0]}if(!zo)return;const Ro=await so(zo.title),Go=await so(zo.content),Qo={...zo,title:Ro,content:Go,originalTitle:zo.title,originalContent:zo.content};po(Qo),ir(Vo=>new Set([...Vo,zo.id]))},1e4);return()=>clearInterval(Ao)},[]);const po=Ao=>{zt$2.custom(zo=>jsxRuntimeExports.jsxs("div",{className:`news-toast ${zo.visible?"show":"hide"}`,onClick:()=>{zt$2.dismiss(zo.id),sr(Ao)},children:[jsxRuntimeExports.jsx("div",{className:"toast-icon",children:Ao.image?jsxRuntimeExports.jsx("img",{className:"icon-img",src:Ao.image,alt:""}):""}),jsxRuntimeExports.jsxs("div",{className:"toast-content",children:[jsxRuntimeExports.jsx("div",{className:"toast-title",children:"Tin tc mi"}),jsxRuntimeExports.jsx("div",{className:"toast-message",children:Ao.title})]}),jsxRuntimeExports.jsx("button",{className:"toast-close",onClick:Ro=>{Ro.stopPropagation(),zt$2.dismiss(zo.id)},children:""})]}),{duration:5e3,position:"bottom-right"})};reactExports.useEffect(()=>{if(!rr?.originalContent)return;(async()=>{try{const zo=new FormData;zo.append("content",rr.originalContent);const Go=await(await fetch("https://api_gold.thinkdiff.us/get_api_forumpost",{method:"POST",body:zo})).json();console.log("Fetched post comments:",Go),jr(rr.id),Ir(Go.data.list_comment_json||[])}catch(zo){console.error(zo)}})()},[rr]);function co(){const[Ao,zo]=reactExports.useState({lat:null,long:null});return reactExports.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Ro=>{zo({lat:Ro.coords.latitude,long:Ro.coords.longitude})},Ro=>{console.error("Li ly v tr:",Ro),zo({lat:null,long:null})}):console.error("Trnh duyt khng h tr geolocation")},[]),Ao}const{lat:lo,long:ao}=co(),xo=async()=>{if(console.log("click comment: ",Mr.trim(),Sr,Lr),!(!Mr.trim()||Lr)){Fr(!0);try{const Ao=new FormData;if(Ao.append("idPost",Sr),Ao.append("content",Mr),Ao.append("browser_info","Chrome Web"),Ao.append("lat",lo||""),Ao.append("long",ao||""),(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Ao})).ok){const Ro={contentVI:Mr,actionAt:new Date().toLocaleString(),avatar_group:Hn};Ir(Go=>[...Go,Ro]),Or(""),zt$2.success("Bnh lun thnh cng!")}}catch(Ao){console.error("Li gi bnh lun:",Ao),zt$2.error("Khng th gi bnh lun.")}finally{Fr(!1)}}},_o=()=>{sr(null),cr(!1),dr(null),xr(!1)},Po=async Ao=>{if(!Ao||Ao.length===0)return;const zo={};await Promise.all(Ao.map(async(Ro,Go)=>{if(Vr[Go])return;const Qo=Ro.contentVI||Ro.content||"";if(Qo.trim())try{const Vo=await so(Qo,"vi");Vo&&Vo!==Qo&&(zo[Go]=Vo)}catch(Vo){console.error(`Li dch comment index ${Go}:`,Vo)}})),Object.keys(zo).length>0&&Zr(Ro=>({...Ro,...zo}))};reactExports.useEffect(()=>{Dr&&Dr.length>0&&Po(Dr)},[Dr]);const Oo=Ao=>{if(!Ao)return"";const Ro=window.innerWidth<=768?200:500;return Ao.length>Ro?Ao.slice(0,Ro)+"...":Ao},So=async()=>{if(!rr)return;const Ao=rr.link||window.location.href,zo={title:rr.title,text:rr.title,url:Ao};if(navigator.share)try{await navigator.share(zo)}catch(Ro){console.error("Share cancelled",Ro)}else try{await navigator.clipboard.writeText(Ao),zt$2.success(" copy link bi vit!")}catch{zt$2.error("Khng th copy link")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Fe$1,{position:"bottom-right",containerStyle:{bottom:40,right:40,zIndex:900}}),rr&&jsxRuntimeExports.jsxs("div",{className:"news-modal-overlay",onClick:_o,children:[jsxRuntimeExports.jsxs("div",{className:`news-modal ${yr?"news-modal--expanded":""}`,onClick:Ao=>Ao.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"modal-title",children:Oo(lr?rr.originalTitle:rr.title)}),jsxRuntimeExports.jsx("button",{className:"modal-expand-btn",onClick:()=>_r(Ao=>!Ao),title:"Phng to / Thu nh",children:yr?"":""}),jsxRuntimeExports.jsx("button",{className:"modal-close",onClick:_o,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body",children:[rr.image&&jsxRuntimeExports.jsx("div",{className:"contain-image",children:jsxRuntimeExports.jsx("img",{className:"icon-img-popup",src:rr.image,alt:"",onClick:()=>or(rr.image)})}),jsxRuntimeExports.jsx("div",{className:"modal-content-notification",dangerouslySetInnerHTML:{__html:lr?rr.originalContent:rr.content}}),jsxRuntimeExports.jsxs("div",{className:"comment-section",children:[jsxRuntimeExports.jsxs("div",{className:"comment-title",children:[" Bnh lun (",Dr.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"comment-input-wrap",children:[jsxRuntimeExports.jsx("img",{src:Hn,className:"comment-item-avatar",style:{borderRadius:"50%"},alt:"avt"}),jsxRuntimeExports.jsxs("div",{className:"comment-input-box",children:[jsxRuntimeExports.jsx("textarea",{className:"comment-textarea",placeholder:"Vit bnh lun...",value:Mr,onChange:Ao=>Or(Ao.target.value)}),Lr?jsxRuntimeExports.jsx("div",{className:"comment-loading-spinner"}):jsxRuntimeExports.jsx(IoSend,{onClick:xo,style:{cursor:"pointer",color:Mr.trim()?"#0084ff":"#555",fontSize:"1.2rem"}})]})]}),jsxRuntimeExports.jsxs("div",{className:"comment-list",children:[Dr.length===0&&jsxRuntimeExports.jsx("p",{style:{fontStyle:"italic",color:"#888"},children:"Cha c bnh lun"}),Dr.map((Ao,zo)=>{const Ro=Ao.contentVI||Ao.content,Go=Vr[zo];return jsxRuntimeExports.jsxs("div",{className:"comment-item",children:[jsxRuntimeExports.jsx("img",{src:Ao?.avatar_group||Hn,className:"comment-item-avatar",style:{borderRadius:"50%"},alt:"avt"}),jsxRuntimeExports.jsxs("div",{className:"comment-bubble",children:[jsxRuntimeExports.jsxs("div",{className:"comment-username",children:["Ngi dng ",zo+1]}),jsxRuntimeExports.jsx("div",{className:"comment-content",children:Go||Ro}),jsxRuntimeExports.jsx("div",{className:"comment-time",children:Ao.actionAt}),jsxRuntimeExports.jsx("button",{className:"comment-translate-btn",onClick:()=>no(Ro,zo),disabled:Hr===zo,children:Hr===zo?"ang dch...":Go?"Hin bn gc":"Dch"})]})]},zo)})]})]}),fr&&jsxRuntimeExports.jsx("div",{className:"translating-indicator",children:jsxRuntimeExports.jsx("p",{style:{color:"#3b82f6",textAlign:"center",fontStyle:"italic"},children:"..."})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-footer",children:[jsxRuntimeExports.jsxs("div",{className:"modal-footer-left",children:[jsxRuntimeExports.jsx("button",{className:"modal-btn-original",onClick:()=>cr(Ao=>!Ao),disabled:fr,children:lr?"Hin th ting Vit":"Hin th bn gc"}),jsxRuntimeExports.jsxs("button",{className:"modal-btn-share",onClick:So,title:"Chia s tin tc",children:[jsxRuntimeExports.jsx(IoShareSocialOutline,{size:18}),jsxRuntimeExports.jsx("span",{children:"Chia s"})]}),rr?.link&&jsxRuntimeExports.jsx("a",{href:rr.link,target:"_blank",rel:"noopener noreferrer",className:"modal-link-more",children:"Xem thm"})]}),jsxRuntimeExports.jsx("button",{className:"modal-btn-close",onClick:_o,children:"ng"})]})]}),ar&&jsxRuntimeExports.jsx("div",{className:"zoom-overlay",onClick:()=>or(null),children:jsxRuntimeExports.jsxs("div",{className:"zoom-container",onClick:Ao=>Ao.stopPropagation(),children:[jsxRuntimeExports.jsx("img",{className:"zoom-image",src:ar,alt:""}),jsxRuntimeExports.jsx("button",{className:"zoom-close-bottom",onClick:()=>or(null),children:"ng"})]})})]})]})},FALLBACK_DATE={day:"01",month:"01",year:"2020",hour:"00",minute:"00"},extractDateParams=(tr,Hn)=>{if(Hn?.day&&Hn?.month&&Hn?.year&&Hn?.hour&&Hn?.minute)return{day:String(parseInt(Hn.day)||FALLBACK_DATE.day),month:String(parseInt(Hn.month)||FALLBACK_DATE.month),year:String(parseInt(Hn.year)||FALLBACK_DATE.year),hour:String(parseInt(Hn.hour)||FALLBACK_DATE.hour),minute:String(parseInt(Hn.minute)||FALLBACK_DATE.minute)};const er=tr.split("/");return er.length>=7?{day:String(parseInt(er[2])||FALLBACK_DATE.day),month:String(parseInt(er[3])||FALLBACK_DATE.month),year:String(parseInt(er[4])||FALLBACK_DATE.year),hour:String(parseInt(er[5])||FALLBACK_DATE.hour),minute:String(parseInt(er[6])||FALLBACK_DATE.minute)}:{day:String(FALLBACK_DATE.day),month:String(FALLBACK_DATE.month),year:String(FALLBACK_DATE.year),hour:String(FALLBACK_DATE.hour),minute:String(FALLBACK_DATE.minute)}},filterDate={sortBy:"datetime",sortOrder:"desc"},TimeRangeSelector=()=>{const tr=useNavigate(),Hn=useLocation(),er=useParams();console.log("urlParams",er);const nr=Hn.pathname,ir=er.region||"vietnam",rr=er.type||"gold",{displayedDates:sr,isLoading:ar}=useDateGold(filterDate);console.log("temp1",sr);const or=sr.length>0?sr[0]?.dirname:null,[lr,cr,ur]=or?or.split("_"):[null,null,null],{files:dr,isLoading:fr}=useVang247Dates(lr,cr,ur),xr=dr?.length>0?dr[0]:null,yr=reactExports.useMemo(()=>extractDateParams(nr,er),[nr,er]),_r=yr.day!==FALLBACK_DATE.day,Sr=_r?yr.day:lr||FALLBACK_DATE.day,jr=_r?yr.month:cr||FALLBACK_DATE.month,Dr=_r?yr.year:ur||FALLBACK_DATE.year,Ir=_r&&yr.hour!==FALLBACK_DATE.hour?`${yr.hour}-${yr.minute}`:xr?`${xr.hour}-${xr.minute}`:"",[Mr,Or]=reactExports.useState(Sr),[Lr,Fr]=reactExports.useState(jr),[Vr,Zr]=reactExports.useState(Dr),[Hr,Yr]=reactExports.useState(Ir),{files:eo}=useVang247Dates(Mr,Lr,Vr);console.log("currentSelectedDateFiles",eo),reactExports.useEffect(()=>{if(uo.current||io.current)return;const{day:co,month:lo,year:ao,hour:xo,minute:_o}=yr;if(co!==FALLBACK_DATE.day){const Po=`${xo}-${_o}`;(Mr!==co||Lr!==lo||Vr!==ao||Hr!==Po)&&(Or(co),Fr(lo),Zr(ao),Yr(Po))}},[yr]),reactExports.useEffect(()=>{const co=er.day&&er.month&&er.year&&er.hour&&er.minute,lo=nr==="/"||!er.day&&!er.region||!co;if(!ar&&!fr&&xr&&lo&&lr&&cr&&ur){const ao=String(xr.hour).padStart(2,"0"),xo=String(xr.minute).padStart(2,"0");console.log("cp nht navigate");const _o=`/${ir}/${rr}/${lr}/${cr}/${ur}/${ao}/${xo}`;er.symbol||tr(_o,{replace:!0})}},[ar,fr,xr,lr,cr,ur,tr,nr,ir,rr,er.day,er.month,er.year,er.hour,er.minute,er.region]);const io=React.useRef(!1),uo=React.useRef(!1),so=co=>{const[lo,ao,xo]=co.split("_");io.current=!0,uo.current=!0,Or(lo),Fr(ao),Zr(xo),Yr("")},no=co=>{if(!co)return;uo.current=!0,Yr(co);const[lo,ao]=co.split("-");if(Mr&&Lr&&Vr&&lo&&ao){const xo=String(lo).padStart(2,"0"),_o=String(ao).padStart(2,"0"),Po=`/${ir}/${rr}/${Mr}/${Lr}/${Vr}/${xo}/${_o}`;er.symbol||tr(Po,{replace:!0}),setTimeout(()=>{uo.current=!1},100)}};reactExports.useEffect(()=>{if(io.current&&Mr&&Lr&&Vr&&!Hr&&eo?.length>0){const co=eo[0],lo=String(co.hour).padStart(2,"0"),ao=String(co.minute).padStart(2,"0"),xo=`${lo}-${ao}`;io.current=!1,uo.current=!1,Yr(xo);const _o=`/${ir}/${rr}/${Mr}/${Lr}/${Vr}/${lo}/${ao}`;er.symbol||tr(_o,{replace:!0})}},[Mr,Lr,Vr,Hr,eo,ir,rr,tr]);const po=`${Mr}_${Lr}_${Vr}`;return ar||fr?jsxRuntimeExports.jsx("div",{className:"time-range-loading",children:"ang ti d liu..."}):jsxRuntimeExports.jsx("div",{className:"time-range-container",children:jsxRuntimeExports.jsxs("div",{className:"time-range-selects",children:[jsxRuntimeExports.jsxs("label",{className:"pill-select",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Ngy"}),jsxRuntimeExports.jsx("select",{id:"start-date-select",onChange:co=>so(co.target.value),value:po,style:{background:"#334155"},children:sr.filter(co=>co.dirname!=="image_tintuc").map(co=>jsxRuntimeExports.jsx("option",{value:co.dirname,children:co.dirname.split("_").join("/")},co.dirname))})]}),jsxRuntimeExports.jsxs("label",{className:"pill-select",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Gi"}),jsxRuntimeExports.jsxs("select",{id:"time-select",onChange:co=>no(co.target.value),value:Hr,disabled:eo?.length===0,style:{background:"#334155"},children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"-- Chn gi --"}),eo?.map(co=>jsxRuntimeExports.jsxs("option",{value:`${co.hour}-${co.minute}`,children:[co.hour,":",co.minute]},co.link))??null]})]})]})})},TimeRangeSelector$1=React.memo(TimeRangeSelector);function useAttribution(tr,Hn){const er=reactExports.useRef(Hn);reactExports.useEffect(function(){Hn!==er.current&&tr.attributionControl!=null&&(er.current!=null&&tr.attributionControl.removeAttribution(er.current),Hn!=null&&tr.attributionControl.addAttribution(Hn)),er.current=Hn},[tr,Hn])}const CONTEXT_VERSION=1;function createLeafletContext(tr){return Object.freeze({__version:CONTEXT_VERSION,map:tr})}function extendContext(tr,Hn){return Object.freeze({...tr,...Hn})}const LeafletContext=reactExports.createContext(null);function useLeafletContext(){const tr=reactExports.use(LeafletContext);if(tr==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return tr}function createContainerComponent(tr){function Hn(er,nr){const{instance:ir,context:rr}=tr(er).current;reactExports.useImperativeHandle(nr,()=>ir);const{children:sr}=er;return sr==null?null:React.createElement(LeafletContext,{value:rr},sr)}return reactExports.forwardRef(Hn)}function createDivOverlayComponent(tr){function Hn(er,nr){const[ir,rr]=reactExports.useState(!1),{instance:sr}=tr(er,rr).current;reactExports.useImperativeHandle(nr,()=>sr),reactExports.useEffect(function(){ir&&sr.update()},[sr,ir,er.children]);const ar=sr._contentNode;return ar?reactDomExports.createPortal(er.children,ar):null}return reactExports.forwardRef(Hn)}function createLeafComponent(tr){function Hn(er,nr){const{instance:ir}=tr(er).current;return reactExports.useImperativeHandle(nr,()=>ir),null}return reactExports.forwardRef(Hn)}function useEventHandlers(tr,Hn){const er=reactExports.useRef(void 0);reactExports.useEffect(function(){return Hn!=null&&tr.instance.on(Hn),er.current=Hn,function(){er.current!=null&&tr.instance.off(er.current),er.current=null}},[tr,Hn])}function withPane(tr,Hn){const er=tr.pane??Hn.pane;return er?{...tr,pane:er}:tr}function createDivOverlayHook(tr,Hn){return function(nr,ir){const rr=useLeafletContext(),sr=tr(withPane(nr,rr),rr);return useAttribution(rr.map,nr.attribution),useEventHandlers(sr.current,nr.eventHandlers),Hn(sr.current,rr,nr,ir),sr}}var leafletSrc$1={exports:{}};var leafletSrc=leafletSrc$1.exports,hasRequiredLeafletSrc;function requireLeafletSrc(){return hasRequiredLeafletSrc||(hasRequiredLeafletSrc=1,(function(tr,Hn){(function(er,nr){nr(Hn)})(leafletSrc,(function(er){var nr="1.9.4";function ir(gr){var Rr,Br,Qr,ho;for(Br=1,Qr=arguments.length;Br<Qr;Br++){ho=arguments[Br];for(Rr in ho)gr[Rr]=ho[Rr]}return gr}var rr=Object.create||(function(){function gr(){}return function(Rr){return gr.prototype=Rr,new gr}})();function sr(gr,Rr){var Br=Array.prototype.slice;if(gr.bind)return gr.bind.apply(gr,Br.call(arguments,1));var Qr=Br.call(arguments,2);return function(){return gr.apply(Rr,Qr.length?Qr.concat(Br.call(arguments)):arguments)}}var ar=0;function or(gr){return"_leaflet_id"in gr||(gr._leaflet_id=++ar),gr._leaflet_id}function lr(gr,Rr,Br){var Qr,ho,Eo,Io;return Io=function(){Qr=!1,ho&&(Eo.apply(Br,ho),ho=!1)},Eo=function(){Qr?ho=arguments:(gr.apply(Br,arguments),setTimeout(Io,Rr),Qr=!0)},Eo}function cr(gr,Rr,Br){var Qr=Rr[1],ho=Rr[0],Eo=Qr-ho;return gr===Qr&&Br?gr:((gr-ho)%Eo+Eo)%Eo+ho}function ur(){return!1}function dr(gr,Rr){if(Rr===!1)return gr;var Br=Math.pow(10,Rr===void 0?6:Rr);return Math.round(gr*Br)/Br}function fr(gr){return gr.trim?gr.trim():gr.replace(/^\s+|\s+$/g,"")}function xr(gr){return fr(gr).split(/\s+/)}function yr(gr,Rr){Object.prototype.hasOwnProperty.call(gr,"options")||(gr.options=gr.options?rr(gr.options):{});for(var Br in Rr)gr.options[Br]=Rr[Br];return gr.options}function _r(gr,Rr,Br){var Qr=[];for(var ho in gr)Qr.push(encodeURIComponent(Br?ho.toUpperCase():ho)+"="+encodeURIComponent(gr[ho]));return(!Rr||Rr.indexOf("?")===-1?"?":"&")+Qr.join("&")}var Sr=/\{ *([\w_ -]+) *\}/g;function jr(gr,Rr){return gr.replace(Sr,function(Br,Qr){var ho=Rr[Qr];if(ho===void 0)throw new Error("No value provided for variable "+Br);return typeof ho=="function"&&(ho=ho(Rr)),ho})}var Dr=Array.isArray||function(gr){return Object.prototype.toString.call(gr)==="[object Array]"};function Ir(gr,Rr){for(var Br=0;Br<gr.length;Br++)if(gr[Br]===Rr)return Br;return-1}var Mr="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Or(gr){return window["webkit"+gr]||window["moz"+gr]||window["ms"+gr]}var Lr=0;function Fr(gr){var Rr=+new Date,Br=Math.max(0,16-(Rr-Lr));return Lr=Rr+Br,window.setTimeout(gr,Br)}var Vr=window.requestAnimationFrame||Or("RequestAnimationFrame")||Fr,Zr=window.cancelAnimationFrame||Or("CancelAnimationFrame")||Or("CancelRequestAnimationFrame")||function(gr){window.clearTimeout(gr)};function Hr(gr,Rr,Br){if(Br&&Vr===Fr)gr.call(Rr);else return Vr.call(window,sr(gr,Rr))}function Yr(gr){gr&&Zr.call(window,gr)}var eo={__proto__:null,extend:ir,create:rr,bind:sr,get lastId(){return ar},stamp:or,throttle:lr,wrapNum:cr,falseFn:ur,formatNum:dr,trim:fr,splitWords:xr,setOptions:yr,getParamString:_r,template:jr,isArray:Dr,indexOf:Ir,emptyImageUrl:Mr,requestFn:Vr,cancelFn:Zr,requestAnimFrame:Hr,cancelAnimFrame:Yr};function io(){}io.extend=function(gr){var Rr=function(){yr(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Br=Rr.__super__=this.prototype,Qr=rr(Br);Qr.constructor=Rr,Rr.prototype=Qr;for(var ho in this)Object.prototype.hasOwnProperty.call(this,ho)&&ho!=="prototype"&&ho!=="__super__"&&(Rr[ho]=this[ho]);return gr.statics&&ir(Rr,gr.statics),gr.includes&&(uo(gr.includes),ir.apply(null,[Qr].concat(gr.includes))),ir(Qr,gr),delete Qr.statics,delete Qr.includes,Qr.options&&(Qr.options=Br.options?rr(Br.options):{},ir(Qr.options,gr.options)),Qr._initHooks=[],Qr.callInitHooks=function(){if(!this._initHooksCalled){Br.callInitHooks&&Br.callInitHooks.call(this),this._initHooksCalled=!0;for(var Eo=0,Io=Qr._initHooks.length;Eo<Io;Eo++)Qr._initHooks[Eo].call(this)}},Rr},io.include=function(gr){var Rr=this.prototype.options;return ir(this.prototype,gr),gr.options&&(this.prototype.options=Rr,this.mergeOptions(gr.options)),this},io.mergeOptions=function(gr){return ir(this.prototype.options,gr),this},io.addInitHook=function(gr){var Rr=Array.prototype.slice.call(arguments,1),Br=typeof gr=="function"?gr:function(){this[gr].apply(this,Rr)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Br),this};function uo(gr){if(!(typeof L>"u"||!L||!L.Mixin)){gr=Dr(gr)?gr:[gr];for(var Rr=0;Rr<gr.length;Rr++)gr[Rr]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var so={on:function(gr,Rr,Br){if(typeof gr=="object")for(var Qr in gr)this._on(Qr,gr[Qr],Rr);else{gr=xr(gr);for(var ho=0,Eo=gr.length;ho<Eo;ho++)this._on(gr[ho],Rr,Br)}return this},off:function(gr,Rr,Br){if(!arguments.length)delete this._events;else if(typeof gr=="object")for(var Qr in gr)this._off(Qr,gr[Qr],Rr);else{gr=xr(gr);for(var ho=arguments.length===1,Eo=0,Io=gr.length;Eo<Io;Eo++)ho?this._off(gr[Eo]):this._off(gr[Eo],Rr,Br)}return this},_on:function(gr,Rr,Br,Qr){if(typeof Rr!="function"){console.warn("wrong listener type: "+typeof Rr);return}if(this._listens(gr,Rr,Br)===!1){Br===this&&(Br=void 0);var ho={fn:Rr,ctx:Br};Qr&&(ho.once=!0),this._events=this._events||{},this._events[gr]=this._events[gr]||[],this._events[gr].push(ho)}},_off:function(gr,Rr,Br){var Qr,ho,Eo;if(this._events&&(Qr=this._events[gr],!!Qr)){if(arguments.length===1){if(this._firingCount)for(ho=0,Eo=Qr.length;ho<Eo;ho++)Qr[ho].fn=ur;delete this._events[gr];return}if(typeof Rr!="function"){console.warn("wrong listener type: "+typeof Rr);return}var Io=this._listens(gr,Rr,Br);if(Io!==!1){var Jo=Qr[Io];this._firingCount&&(Jo.fn=ur,this._events[gr]=Qr=Qr.slice()),Qr.splice(Io,1)}}},fire:function(gr,Rr,Br){if(!this.listens(gr,Br))return this;var Qr=ir({},Rr,{type:gr,target:this,sourceTarget:Rr&&Rr.sourceTarget||this});if(this._events){var ho=this._events[gr];if(ho){this._firingCount=this._firingCount+1||1;for(var Eo=0,Io=ho.length;Eo<Io;Eo++){var Jo=ho[Eo],Ko=Jo.fn;Jo.once&&this.off(gr,Ko,Jo.ctx),Ko.call(Jo.ctx||this,Qr)}this._firingCount--}}return Br&&this._propagateEvent(Qr),this},listens:function(gr,Rr,Br,Qr){typeof gr!="string"&&console.warn('"string" type argument expected');var ho=Rr;typeof Rr!="function"&&(Qr=!!Rr,ho=void 0,Br=void 0);var Eo=this._events&&this._events[gr];if(Eo&&Eo.length&&this._listens(gr,ho,Br)!==!1)return!0;if(Qr){for(var Io in this._eventParents)if(this._eventParents[Io].listens(gr,Rr,Br,Qr))return!0}return!1},_listens:function(gr,Rr,Br){if(!this._events)return!1;var Qr=this._events[gr]||[];if(!Rr)return!!Qr.length;Br===this&&(Br=void 0);for(var ho=0,Eo=Qr.length;ho<Eo;ho++)if(Qr[ho].fn===Rr&&Qr[ho].ctx===Br)return ho;return!1},once:function(gr,Rr,Br){if(typeof gr=="object")for(var Qr in gr)this._on(Qr,gr[Qr],Rr,!0);else{gr=xr(gr);for(var ho=0,Eo=gr.length;ho<Eo;ho++)this._on(gr[ho],Rr,Br,!0)}return this},addEventParent:function(gr){return this._eventParents=this._eventParents||{},this._eventParents[or(gr)]=gr,this},removeEventParent:function(gr){return this._eventParents&&delete this._eventParents[or(gr)],this},_propagateEvent:function(gr){for(var Rr in this._eventParents)this._eventParents[Rr].fire(gr.type,ir({layer:gr.target,propagatedFrom:gr.target},gr),!0)}};so.addEventListener=so.on,so.removeEventListener=so.clearAllEventListeners=so.off,so.addOneTimeEventListener=so.once,so.fireEvent=so.fire,so.hasEventListeners=so.listens;var no=io.extend(so);function po(gr,Rr,Br){this.x=Br?Math.round(gr):gr,this.y=Br?Math.round(Rr):Rr}var co=Math.trunc||function(gr){return gr>0?Math.floor(gr):Math.ceil(gr)};po.prototype={clone:function(){return new po(this.x,this.y)},add:function(gr){return this.clone()._add(lo(gr))},_add:function(gr){return this.x+=gr.x,this.y+=gr.y,this},subtract:function(gr){return this.clone()._subtract(lo(gr))},_subtract:function(gr){return this.x-=gr.x,this.y-=gr.y,this},divideBy:function(gr){return this.clone()._divideBy(gr)},_divideBy:function(gr){return this.x/=gr,this.y/=gr,this},multiplyBy:function(gr){return this.clone()._multiplyBy(gr)},_multiplyBy:function(gr){return this.x*=gr,this.y*=gr,this},scaleBy:function(gr){return new po(this.x*gr.x,this.y*gr.y)},unscaleBy:function(gr){return new po(this.x/gr.x,this.y/gr.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=co(this.x),this.y=co(this.y),this},distanceTo:function(gr){gr=lo(gr);var Rr=gr.x-this.x,Br=gr.y-this.y;return Math.sqrt(Rr*Rr+Br*Br)},equals:function(gr){return gr=lo(gr),gr.x===this.x&&gr.y===this.y},contains:function(gr){return gr=lo(gr),Math.abs(gr.x)<=Math.abs(this.x)&&Math.abs(gr.y)<=Math.abs(this.y)},toString:function(){return"Point("+dr(this.x)+", "+dr(this.y)+")"}};function lo(gr,Rr,Br){return gr instanceof po?gr:Dr(gr)?new po(gr[0],gr[1]):gr==null?gr:typeof gr=="object"&&"x"in gr&&"y"in gr?new po(gr.x,gr.y):new po(gr,Rr,Br)}function ao(gr,Rr){if(gr)for(var Br=Rr?[gr,Rr]:gr,Qr=0,ho=Br.length;Qr<ho;Qr++)this.extend(Br[Qr])}ao.prototype={extend:function(gr){var Rr,Br;if(!gr)return this;if(gr instanceof po||typeof gr[0]=="number"||"x"in gr)Rr=Br=lo(gr);else if(gr=xo(gr),Rr=gr.min,Br=gr.max,!Rr||!Br)return this;return!this.min&&!this.max?(this.min=Rr.clone(),this.max=Br.clone()):(this.min.x=Math.min(Rr.x,this.min.x),this.max.x=Math.max(Br.x,this.max.x),this.min.y=Math.min(Rr.y,this.min.y),this.max.y=Math.max(Br.y,this.max.y)),this},getCenter:function(gr){return lo((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,gr)},getBottomLeft:function(){return lo(this.min.x,this.max.y)},getTopRight:function(){return lo(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(gr){var Rr,Br;return typeof gr[0]=="number"||gr instanceof po?gr=lo(gr):gr=xo(gr),gr instanceof ao?(Rr=gr.min,Br=gr.max):Rr=Br=gr,Rr.x>=this.min.x&&Br.x<=this.max.x&&Rr.y>=this.min.y&&Br.y<=this.max.y},intersects:function(gr){gr=xo(gr);var Rr=this.min,Br=this.max,Qr=gr.min,ho=gr.max,Eo=ho.x>=Rr.x&&Qr.x<=Br.x,Io=ho.y>=Rr.y&&Qr.y<=Br.y;return Eo&&Io},overlaps:function(gr){gr=xo(gr);var Rr=this.min,Br=this.max,Qr=gr.min,ho=gr.max,Eo=ho.x>Rr.x&&Qr.x<Br.x,Io=ho.y>Rr.y&&Qr.y<Br.y;return Eo&&Io},isValid:function(){return!!(this.min&&this.max)},pad:function(gr){var Rr=this.min,Br=this.max,Qr=Math.abs(Rr.x-Br.x)*gr,ho=Math.abs(Rr.y-Br.y)*gr;return xo(lo(Rr.x-Qr,Rr.y-ho),lo(Br.x+Qr,Br.y+ho))},equals:function(gr){return gr?(gr=xo(gr),this.min.equals(gr.getTopLeft())&&this.max.equals(gr.getBottomRight())):!1}};function xo(gr,Rr){return!gr||gr instanceof ao?gr:new ao(gr,Rr)}function _o(gr,Rr){if(gr)for(var Br=Rr?[gr,Rr]:gr,Qr=0,ho=Br.length;Qr<ho;Qr++)this.extend(Br[Qr])}_o.prototype={extend:function(gr){var Rr=this._southWest,Br=this._northEast,Qr,ho;if(gr instanceof Oo)Qr=gr,ho=gr;else if(gr instanceof _o){if(Qr=gr._southWest,ho=gr._northEast,!Qr||!ho)return this}else return gr?this.extend(So(gr)||Po(gr)):this;return!Rr&&!Br?(this._southWest=new Oo(Qr.lat,Qr.lng),this._northEast=new Oo(ho.lat,ho.lng)):(Rr.lat=Math.min(Qr.lat,Rr.lat),Rr.lng=Math.min(Qr.lng,Rr.lng),Br.lat=Math.max(ho.lat,Br.lat),Br.lng=Math.max(ho.lng,Br.lng)),this},pad:function(gr){var Rr=this._southWest,Br=this._northEast,Qr=Math.abs(Rr.lat-Br.lat)*gr,ho=Math.abs(Rr.lng-Br.lng)*gr;return new _o(new Oo(Rr.lat-Qr,Rr.lng-ho),new Oo(Br.lat+Qr,Br.lng+ho))},getCenter:function(){return new Oo((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Oo(this.getNorth(),this.getWest())},getSouthEast:function(){return new Oo(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(gr){typeof gr[0]=="number"||gr instanceof Oo||"lat"in gr?gr=So(gr):gr=Po(gr);var Rr=this._southWest,Br=this._northEast,Qr,ho;return gr instanceof _o?(Qr=gr.getSouthWest(),ho=gr.getNorthEast()):Qr=ho=gr,Qr.lat>=Rr.lat&&ho.lat<=Br.lat&&Qr.lng>=Rr.lng&&ho.lng<=Br.lng},intersects:function(gr){gr=Po(gr);var Rr=this._southWest,Br=this._northEast,Qr=gr.getSouthWest(),ho=gr.getNorthEast(),Eo=ho.lat>=Rr.lat&&Qr.lat<=Br.lat,Io=ho.lng>=Rr.lng&&Qr.lng<=Br.lng;return Eo&&Io},overlaps:function(gr){gr=Po(gr);var Rr=this._southWest,Br=this._northEast,Qr=gr.getSouthWest(),ho=gr.getNorthEast(),Eo=ho.lat>Rr.lat&&Qr.lat<Br.lat,Io=ho.lng>Rr.lng&&Qr.lng<Br.lng;return Eo&&Io},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(gr,Rr){return gr?(gr=Po(gr),this._southWest.equals(gr.getSouthWest(),Rr)&&this._northEast.equals(gr.getNorthEast(),Rr)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Po(gr,Rr){return gr instanceof _o?gr:new _o(gr,Rr)}function Oo(gr,Rr,Br){if(isNaN(gr)||isNaN(Rr))throw new Error("Invalid LatLng object: ("+gr+", "+Rr+")");this.lat=+gr,this.lng=+Rr,Br!==void 0&&(this.alt=+Br)}Oo.prototype={equals:function(gr,Rr){if(!gr)return!1;gr=So(gr);var Br=Math.max(Math.abs(this.lat-gr.lat),Math.abs(this.lng-gr.lng));return Br<=(Rr===void 0?1e-9:Rr)},toString:function(gr){return"LatLng("+dr(this.lat,gr)+", "+dr(this.lng,gr)+")"},distanceTo:function(gr){return zo.distance(this,So(gr))},wrap:function(){return zo.wrapLatLng(this)},toBounds:function(gr){var Rr=180*gr/40075017,Br=Rr/Math.cos(Math.PI/180*this.lat);return Po([this.lat-Rr,this.lng-Br],[this.lat+Rr,this.lng+Br])},clone:function(){return new Oo(this.lat,this.lng,this.alt)}};function So(gr,Rr,Br){return gr instanceof Oo?gr:Dr(gr)&&typeof gr[0]!="object"?gr.length===3?new Oo(gr[0],gr[1],gr[2]):gr.length===2?new Oo(gr[0],gr[1]):null:gr==null?gr:typeof gr=="object"&&"lat"in gr?new Oo(gr.lat,"lng"in gr?gr.lng:gr.lon,gr.alt):Rr===void 0?null:new Oo(gr,Rr,Br)}var Ao={latLngToPoint:function(gr,Rr){var Br=this.projection.project(gr),Qr=this.scale(Rr);return this.transformation._transform(Br,Qr)},pointToLatLng:function(gr,Rr){var Br=this.scale(Rr),Qr=this.transformation.untransform(gr,Br);return this.projection.unproject(Qr)},project:function(gr){return this.projection.project(gr)},unproject:function(gr){return this.projection.unproject(gr)},scale:function(gr){return 256*Math.pow(2,gr)},zoom:function(gr){return Math.log(gr/256)/Math.LN2},getProjectedBounds:function(gr){if(this.infinite)return null;var Rr=this.projection.bounds,Br=this.scale(gr),Qr=this.transformation.transform(Rr.min,Br),ho=this.transformation.transform(Rr.max,Br);return new ao(Qr,ho)},infinite:!1,wrapLatLng:function(gr){var Rr=this.wrapLng?cr(gr.lng,this.wrapLng,!0):gr.lng,Br=this.wrapLat?cr(gr.lat,this.wrapLat,!0):gr.lat,Qr=gr.alt;return new Oo(Br,Rr,Qr)},wrapLatLngBounds:function(gr){var Rr=gr.getCenter(),Br=this.wrapLatLng(Rr),Qr=Rr.lat-Br.lat,ho=Rr.lng-Br.lng;if(Qr===0&&ho===0)return gr;var Eo=gr.getSouthWest(),Io=gr.getNorthEast(),Jo=new Oo(Eo.lat-Qr,Eo.lng-ho),Ko=new Oo(Io.lat-Qr,Io.lng-ho);return new _o(Jo,Ko)}},zo=ir({},Ao,{wrapLng:[-180,180],R:6371e3,distance:function(gr,Rr){var Br=Math.PI/180,Qr=gr.lat*Br,ho=Rr.lat*Br,Eo=Math.sin((Rr.lat-gr.lat)*Br/2),Io=Math.sin((Rr.lng-gr.lng)*Br/2),Jo=Eo*Eo+Math.cos(Qr)*Math.cos(ho)*Io*Io,Ko=2*Math.atan2(Math.sqrt(Jo),Math.sqrt(1-Jo));return this.R*Ko}}),Ro=6378137,Go={R:Ro,MAX_LATITUDE:85.0511287798,project:function(gr){var Rr=Math.PI/180,Br=this.MAX_LATITUDE,Qr=Math.max(Math.min(Br,gr.lat),-Br),ho=Math.sin(Qr*Rr);return new po(this.R*gr.lng*Rr,this.R*Math.log((1+ho)/(1-ho))/2)},unproject:function(gr){var Rr=180/Math.PI;return new Oo((2*Math.atan(Math.exp(gr.y/this.R))-Math.PI/2)*Rr,gr.x*Rr/this.R)},bounds:(function(){var gr=Ro*Math.PI;return new ao([-gr,-gr],[gr,gr])})()};function Qo(gr,Rr,Br,Qr){if(Dr(gr)){this._a=gr[0],this._b=gr[1],this._c=gr[2],this._d=gr[3];return}this._a=gr,this._b=Rr,this._c=Br,this._d=Qr}Qo.prototype={transform:function(gr,Rr){return this._transform(gr.clone(),Rr)},_transform:function(gr,Rr){return Rr=Rr||1,gr.x=Rr*(this._a*gr.x+this._b),gr.y=Rr*(this._c*gr.y+this._d),gr},untransform:function(gr,Rr){return Rr=Rr||1,new po((gr.x/Rr-this._b)/this._a,(gr.y/Rr-this._d)/this._c)}};function Vo(gr,Rr,Br,Qr){return new Qo(gr,Rr,Br,Qr)}var nl=ir({},zo,{code:"EPSG:3857",projection:Go,transformation:(function(){var gr=.5/(Math.PI*Go.R);return Vo(gr,.5,-gr,.5)})()}),fl=ir({},nl,{code:"EPSG:900913"});function Bl(gr){return document.createElementNS("http://www.w3.org/2000/svg",gr)}function Gl(gr,Rr){var Br="",Qr,ho,Eo,Io,Jo,Ko;for(Qr=0,Eo=gr.length;Qr<Eo;Qr++){for(Jo=gr[Qr],ho=0,Io=Jo.length;ho<Io;ho++)Ko=Jo[ho],Br+=(ho?"L":"M")+Ko.x+" "+Ko.y;Br+=Rr?kl.svg?"z":"x":""}return Br||"M0 0"}var Tl=document.documentElement.style,Pc="ActiveXObject"in window,mc=Pc&&!document.addEventListener,Hc="msLaunchUri"in navigator&&!("documentMode"in document),Vl=Cl("webkit"),Jc=Cl("android"),Yl=Cl("android 2")||Cl("android 3"),ic=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cc=Jc&&Cl("Google")&&ic<537&&!("AudioNode"in window),Xc=!!window.opera,Sc=!Hc&&Cl("chrome"),Oc=Cl("gecko")&&!Vl&&!Xc&&!Pc,gl=!Sc&&Cl("safari"),Ql=Cl("phantom"),ql="OTransition"in Tl,wc=navigator.platform.indexOf("Win")===0,Il=Pc&&"transition"in Tl,rl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yl,il="MozPerspective"in Tl,hl=!window.L_DISABLE_3D&&(Il||rl||il)&&!ql&&!Ql,Dl=typeof orientation<"u"||Cl("mobile"),Pl=Dl&&Vl,Jl=Dl&&rl,oc=!window.PointerEvent&&window.MSPointerEvent,qc=!!(window.PointerEvent||oc),xc="ontouchstart"in window||!!window.TouchEvent,jc=!window.L_NO_TOUCH&&(xc||qc),vu=Dl&&Xc,Kc=Dl&&Oc,uc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ic=(function(){var gr=!1;try{var Rr=Object.defineProperty({},"passive",{get:function(){gr=!0}});window.addEventListener("testPassiveEventSupport",ur,Rr),window.removeEventListener("testPassiveEventSupport",ur,Rr)}catch{}return gr})(),ec=(function(){return!!document.createElement("canvas").getContext})(),Hl=!!(document.createElementNS&&Bl("svg").createSVGRect),ah=!!Hl&&(function(){var gr=document.createElement("div");return gr.innerHTML="<svg/>",(gr.firstChild&&gr.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),sl=!Hl&&(function(){try{var gr=document.createElement("div");gr.innerHTML='<v:shape adj="1"/>';var Rr=gr.firstChild;return Rr.style.behavior="url(#default#VML)",Rr&&typeof Rr.adj=="object"}catch{return!1}})(),yl=navigator.platform.indexOf("Mac")===0,Ll=navigator.platform.indexOf("Linux")===0;function Cl(gr){return navigator.userAgent.toLowerCase().indexOf(gr)>=0}var kl={ie:Pc,ielt9:mc,edge:Hc,webkit:Vl,android:Jc,android23:Yl,androidStock:cc,opera:Xc,chrome:Sc,gecko:Oc,safari:gl,phantom:Ql,opera12:ql,win:wc,ie3d:Il,webkit3d:rl,gecko3d:il,any3d:hl,mobile:Dl,mobileWebkit:Pl,mobileWebkit3d:Jl,msPointer:oc,pointer:qc,touch:jc,touchNative:xc,mobileOpera:vu,mobileGecko:Kc,retina:uc,passiveEvents:Ic,canvas:ec,svg:Hl,vml:sl,inlineSvg:ah,mac:yl,linux:Ll},bu=kl.msPointer?"MSPointerDown":"pointerdown",oh=kl.msPointer?"MSPointerMove":"pointermove",ku=kl.msPointer?"MSPointerUp":"pointerup",Dc=kl.msPointer?"MSPointerCancel":"pointercancel",eu={touchstart:bu,touchmove:oh,touchend:ku,touchcancel:Dc},Zc={touchstart:Hu,touchmove:Fc,touchend:Fc,touchcancel:Fc},ac={},hu=!1;function du(gr,Rr,Br){return Rr==="touchstart"&&zh(),Zc[Rr]?(Br=Zc[Rr].bind(this,Br),gr.addEventListener(eu[Rr],Br,!1),Br):(console.warn("wrong event specified:",Rr),ur)}function Wc(gr,Rr,Br){if(!eu[Rr]){console.warn("wrong event specified:",Rr);return}gr.removeEventListener(eu[Rr],Br,!1)}function Iu(gr){ac[gr.pointerId]=gr}function qh(gr){ac[gr.pointerId]&&(ac[gr.pointerId]=gr)}function Bh(gr){delete ac[gr.pointerId]}function zh(){hu||(document.addEventListener(bu,Iu,!0),document.addEventListener(oh,qh,!0),document.addEventListener(ku,Bh,!0),document.addEventListener(Dc,Bh,!0),hu=!0)}function Fc(gr,Rr){if(Rr.pointerType!==(Rr.MSPOINTER_TYPE_MOUSE||"mouse")){Rr.touches=[];for(var Br in ac)Rr.touches.push(ac[Br]);Rr.changedTouches=[Rr],gr(Rr)}}function Hu(gr,Rr){Rr.MSPOINTER_TYPE_TOUCH&&Rr.pointerType===Rr.MSPOINTER_TYPE_TOUCH&&Ec(Rr),Fc(gr,Rr)}function tu(gr){var Rr={},Br,Qr;for(Qr in gr)Br=gr[Qr],Rr[Qr]=Br&&Br.bind?Br.bind(gr):Br;return gr=Rr,Rr.type="dblclick",Rr.detail=2,Rr.isTrusted=!1,Rr._simulated=!0,Rr}var Hh=200;function cd(gr,Rr){gr.addEventListener("dblclick",Rr);var Br=0,Qr;function ho(Eo){if(Eo.detail!==1){Qr=Eo.detail;return}if(!(Eo.pointerType==="mouse"||Eo.sourceCapabilities&&!Eo.sourceCapabilities.firesTouchEvents)){var Io=dm(Eo);if(!(Io.some(function(Ko){return Ko instanceof HTMLLabelElement&&Ko.attributes.for})&&!Io.some(function(Ko){return Ko instanceof HTMLInputElement||Ko instanceof HTMLSelectElement}))){var Jo=Date.now();Jo-Br<=Hh?(Qr++,Qr===2&&Rr(tu(Eo))):Qr=1,Br=Jo}}}return gr.addEventListener("click",ho),{dblclick:Rr,simDblclick:ho}}function fh(gr,Rr){gr.removeEventListener("dblclick",Rr.dblclick),gr.removeEventListener("click",Rr.simDblclick)}var Nh=Jd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bh=Jd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ed=bh==="webkitTransition"||bh==="OTransition"?bh+"End":"transitionend";function _u(gr){return typeof gr=="string"?document.getElementById(gr):gr}function Bf(gr,Rr){var Br=gr.style[Rr]||gr.currentStyle&&gr.currentStyle[Rr];if((!Br||Br==="auto")&&document.defaultView){var Qr=document.defaultView.getComputedStyle(gr,null);Br=Qr?Qr[Rr]:null}return Br==="auto"?null:Br}function Lc(gr,Rr,Br){var Qr=document.createElement(gr);return Qr.className=Rr||"",Br&&Br.appendChild(Qr),Qr}function Gc(gr){var Rr=gr.parentNode;Rr&&Rr.removeChild(gr)}function Th(gr){for(;gr.firstChild;)gr.removeChild(gr.firstChild)}function ph(gr){var Rr=gr.parentNode;Rr&&Rr.lastChild!==gr&&Rr.appendChild(gr)}function Sd(gr){var Rr=gr.parentNode;Rr&&Rr.firstChild!==gr&&Rr.insertBefore(gr,Rr.firstChild)}function fp(gr,Rr){if(gr.classList!==void 0)return gr.classList.contains(Rr);var Br=um(gr);return Br.length>0&&new RegExp("(^|\\s)"+Rr+"(\\s|$)").test(Br)}function yc(gr,Rr){if(gr.classList!==void 0)for(var Br=xr(Rr),Qr=0,ho=Br.length;Qr<ho;Qr++)gr.classList.add(Br[Qr]);else if(!fp(gr,Rr)){var Eo=um(gr);Wh(gr,(Eo?Eo+" ":"")+Rr)}}function wu(gr,Rr){gr.classList!==void 0?gr.classList.remove(Rr):Wh(gr,fr((" "+um(gr)+" ").replace(" "+Rr+" "," ")))}function Wh(gr,Rr){gr.className.baseVal===void 0?gr.className=Rr:gr.className.baseVal=Rr}function um(gr){return gr.correspondingElement&&(gr=gr.correspondingElement),gr.className.baseVal===void 0?gr.className:gr.className.baseVal}function Eu(gr,Rr){"opacity"in gr.style?gr.style.opacity=Rr:"filter"in gr.style&&zf(gr,Rr)}function zf(gr,Rr){var Br=!1,Qr="DXImageTransform.Microsoft.Alpha";try{Br=gr.filters.item(Qr)}catch{if(Rr===1)return}Rr=Math.round(Rr*100),Br?(Br.Enabled=Rr!==100,Br.Opacity=Rr):gr.style.filter+=" progid:"+Qr+"(opacity="+Rr+")"}function Jd(gr){for(var Rr=document.documentElement.style,Br=0;Br<gr.length;Br++)if(gr[Br]in Rr)return gr[Br];return!1}function ud(gr,Rr,Br){var Qr=Rr||new po(0,0);gr.style[Nh]=(kl.ie3d?"translate("+Qr.x+"px,"+Qr.y+"px)":"translate3d("+Qr.x+"px,"+Qr.y+"px,0)")+(Br?" scale("+Br+")":"")}function Au(gr,Rr){gr._leaflet_pos=Rr,kl.any3d?ud(gr,Rr):(gr.style.left=Rr.x+"px",gr.style.top=Rr.y+"px")}function jo(gr){return gr._leaflet_pos||new po(0,0)}var Mo,$o,ll;if("onselectstart"in document)Mo=function(){bc(window,"selectstart",Ec)},$o=function(){Du(window,"selectstart",Ec)};else{var Rl=Jd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mo=function(){if(Rl){var gr=document.documentElement.style;ll=gr[Rl],gr[Rl]="none"}},$o=function(){Rl&&(document.documentElement.style[Rl]=ll,ll=void 0)}}function zl(){bc(window,"dragstart",Ec)}function vc(){Du(window,"dragstart",Ec)}var Ku,mh;function Zu(gr){for(;gr.tabIndex===-1;)gr=gr.parentNode;gr.style&&(Qu(),Ku=gr,mh=gr.style.outlineStyle,gr.style.outlineStyle="none",bc(window,"keydown",Qu))}function Qu(){Ku&&(Ku.style.outlineStyle=mh,Ku=void 0,mh=void 0,Du(window,"keydown",Qu))}function Hf(gr){do gr=gr.parentNode;while((!gr.offsetWidth||!gr.offsetHeight)&&gr!==document.body);return gr}function Vm(gr){var Rr=gr.getBoundingClientRect();return{x:Rr.width/gr.offsetWidth||1,y:Rr.height/gr.offsetHeight||1,boundingClientRect:Rr}}var vf={__proto__:null,TRANSFORM:Nh,TRANSITION:bh,TRANSITION_END:Ed,get:_u,getStyle:Bf,create:Lc,remove:Gc,empty:Th,toFront:ph,toBack:Sd,hasClass:fp,addClass:yc,removeClass:wu,setClass:Wh,getClass:um,setOpacity:Eu,testProp:Jd,setTransform:ud,setPosition:Au,getPosition:jo,get disableTextSelection(){return Mo},get enableTextSelection(){return $o},disableImageDrag:zl,enableImageDrag:vc,preventOutline:Zu,restoreOutline:Qu,getSizedParentNode:Hf,getScale:Vm};function bc(gr,Rr,Br,Qr){if(Rr&&typeof Rr=="object")for(var ho in Rr)hd(gr,ho,Rr[ho],Br);else{Rr=xr(Rr);for(var Eo=0,Io=Rr.length;Eo<Io;Eo++)hd(gr,Rr[Eo],Br,Qr)}return this}var ef="_leaflet_events";function Du(gr,Rr,Br,Qr){if(arguments.length===1)Um(gr),delete gr[ef];else if(Rr&&typeof Rr=="object")for(var ho in Rr)hm(gr,ho,Rr[ho],Br);else if(Rr=xr(Rr),arguments.length===2)Um(gr,function(Jo){return Ir(Rr,Jo)!==-1});else for(var Eo=0,Io=Rr.length;Eo<Io;Eo++)hm(gr,Rr[Eo],Br,Qr);return this}function Um(gr,Rr){for(var Br in gr[ef]){var Qr=Br.split(/\d/)[0];(!Rr||Rr(Qr))&&hm(gr,Qr,null,null,Br)}}var Wf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hd(gr,Rr,Br,Qr){var ho=Rr+or(Br)+(Qr?"_"+or(Qr):"");if(gr[ef]&&gr[ef][ho])return this;var Eo=function(Jo){return Br.call(Qr||gr,Jo||window.event)},Io=Eo;!kl.touchNative&&kl.pointer&&Rr.indexOf("touch")===0?Eo=du(gr,Rr,Eo):kl.touch&&Rr==="dblclick"?Eo=cd(gr,Eo):"addEventListener"in gr?Rr==="touchstart"||Rr==="touchmove"||Rr==="wheel"||Rr==="mousewheel"?gr.addEventListener(Wf[Rr]||Rr,Eo,kl.passiveEvents?{passive:!1}:!1):Rr==="mouseenter"||Rr==="mouseleave"?(Eo=function(Jo){Jo=Jo||window.event,_f(gr,Jo)&&Io(Jo)},gr.addEventListener(Wf[Rr],Eo,!1)):gr.addEventListener(Rr,Io,!1):gr.attachEvent("on"+Rr,Eo),gr[ef]=gr[ef]||{},gr[ef][ho]=Eo}function hm(gr,Rr,Br,Qr,ho){ho=ho||Rr+or(Br)+(Qr?"_"+or(Qr):"");var Eo=gr[ef]&&gr[ef][ho];if(!Eo)return this;!kl.touchNative&&kl.pointer&&Rr.indexOf("touch")===0?Wc(gr,Rr,Eo):kl.touch&&Rr==="dblclick"?fh(gr,Eo):"removeEventListener"in gr?gr.removeEventListener(Wf[Rr]||Rr,Eo,!1):gr.detachEvent("on"+Rr,Eo),gr[ef][ho]=null}function _h(gr){return gr.stopPropagation?gr.stopPropagation():gr.originalEvent?gr.originalEvent._stopped=!0:gr.cancelBubble=!0,this}function bf(gr){return hd(gr,"wheel",_h),this}function tf(gr){return bc(gr,"mousedown touchstart dblclick contextmenu",_h),gr._leaflet_disable_click=!0,this}function Ec(gr){return gr.preventDefault?gr.preventDefault():gr.returnValue=!1,this}function nu(gr){return Ec(gr),_h(gr),this}function dm(gr){if(gr.composedPath)return gr.composedPath();for(var Rr=[],Br=gr.target;Br;)Rr.push(Br),Br=Br.parentNode;return Rr}function fm(gr,Rr){if(!Rr)return new po(gr.clientX,gr.clientY);var Br=Vm(Rr),Qr=Br.boundingClientRect;return new po((gr.clientX-Qr.left)/Br.x-Rr.clientLeft,(gr.clientY-Qr.top)/Br.y-Rr.clientTop)}var ny=kl.linux&&kl.chrome?window.devicePixelRatio:kl.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kh(gr){return kl.edge?gr.wheelDeltaY/2:gr.deltaY&&gr.deltaMode===0?-gr.deltaY/ny:gr.deltaY&&gr.deltaMode===1?-gr.deltaY*20:gr.deltaY&&gr.deltaMode===2?-gr.deltaY*60:gr.deltaX||gr.deltaZ?0:gr.wheelDelta?(gr.wheelDeltaY||gr.wheelDelta)/2:gr.detail&&Math.abs(gr.detail)<32765?-gr.detail*20:gr.detail?gr.detail/-32765*60:0}function _f(gr,Rr){var Br=Rr.relatedTarget;if(!Br)return!0;try{for(;Br&&Br!==gr;)Br=Br.parentNode}catch{return!1}return Br!==gr}var pm={__proto__:null,on:bc,off:Du,stopPropagation:_h,disableScrollPropagation:bf,disableClickPropagation:tf,preventDefault:Ec,stop:nu,getPropagationPath:dm,getMousePosition:fm,getWheelDelta:Kh,isExternalTarget:_f,addListener:bc,removeListener:Du},Id=no.extend({run:function(gr,Rr,Br,Qr){this.stop(),this._el=gr,this._inProgress=!0,this._duration=Br||.25,this._easeOutPower=1/Math.max(Qr||.5,.2),this._startPos=jo(gr),this._offset=Rr.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Hr(this._animate,this),this._step()},_step:function(gr){var Rr=+new Date-this._startTime,Br=this._duration*1e3;Rr<Br?this._runFrame(this._easeOut(Rr/Br),gr):(this._runFrame(1),this._complete())},_runFrame:function(gr,Rr){var Br=this._startPos.add(this._offset.multiplyBy(gr));Rr&&Br._round(),Au(this._el,Br),this.fire("step")},_complete:function(){Yr(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(gr){return 1-Math.pow(1-gr,this._easeOutPower)}}),Mc=no.extend({options:{crs:nl,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(gr,Rr){Rr=yr(this,Rr),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(gr),this._initLayout(),this._onResize=sr(this._onResize,this),this._initEvents(),Rr.maxBounds&&this.setMaxBounds(Rr.maxBounds),Rr.zoom!==void 0&&(this._zoom=this._limitZoom(Rr.zoom)),Rr.center&&Rr.zoom!==void 0&&this.setView(So(Rr.center),Rr.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bh&&kl.any3d&&!kl.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bc(this._proxy,Ed,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(gr,Rr,Br){if(Rr=Rr===void 0?this._zoom:this._limitZoom(Rr),gr=this._limitCenter(So(gr),Rr,this.options.maxBounds),Br=Br||{},this._stop(),this._loaded&&!Br.reset&&Br!==!0){Br.animate!==void 0&&(Br.zoom=ir({animate:Br.animate},Br.zoom),Br.pan=ir({animate:Br.animate,duration:Br.duration},Br.pan));var Qr=this._zoom!==Rr?this._tryAnimatedZoom&&this._tryAnimatedZoom(gr,Rr,Br.zoom):this._tryAnimatedPan(gr,Br.pan);if(Qr)return clearTimeout(this._sizeTimer),this}return this._resetView(gr,Rr,Br.pan&&Br.pan.noMoveStart),this},setZoom:function(gr,Rr){return this._loaded?this.setView(this.getCenter(),gr,{zoom:Rr}):(this._zoom=gr,this)},zoomIn:function(gr,Rr){return gr=gr||(kl.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+gr,Rr)},zoomOut:function(gr,Rr){return gr=gr||(kl.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-gr,Rr)},setZoomAround:function(gr,Rr,Br){var Qr=this.getZoomScale(Rr),ho=this.getSize().divideBy(2),Eo=gr instanceof po?gr:this.latLngToContainerPoint(gr),Io=Eo.subtract(ho).multiplyBy(1-1/Qr),Jo=this.containerPointToLatLng(ho.add(Io));return this.setView(Jo,Rr,{zoom:Br})},_getBoundsCenterZoom:function(gr,Rr){Rr=Rr||{},gr=gr.getBounds?gr.getBounds():Po(gr);var Br=lo(Rr.paddingTopLeft||Rr.padding||[0,0]),Qr=lo(Rr.paddingBottomRight||Rr.padding||[0,0]),ho=this.getBoundsZoom(gr,!1,Br.add(Qr));if(ho=typeof Rr.maxZoom=="number"?Math.min(Rr.maxZoom,ho):ho,ho===1/0)return{center:gr.getCenter(),zoom:ho};var Eo=Qr.subtract(Br).divideBy(2),Io=this.project(gr.getSouthWest(),ho),Jo=this.project(gr.getNorthEast(),ho),Ko=this.unproject(Io.add(Jo).divideBy(2).add(Eo),ho);return{center:Ko,zoom:ho}},fitBounds:function(gr,Rr){if(gr=Po(gr),!gr.isValid())throw new Error("Bounds are not valid.");var Br=this._getBoundsCenterZoom(gr,Rr);return this.setView(Br.center,Br.zoom,Rr)},fitWorld:function(gr){return this.fitBounds([[-90,-180],[90,180]],gr)},panTo:function(gr,Rr){return this.setView(gr,this._zoom,{pan:Rr})},panBy:function(gr,Rr){if(gr=lo(gr).round(),Rr=Rr||{},!gr.x&&!gr.y)return this.fire("moveend");if(Rr.animate!==!0&&!this.getSize().contains(gr))return this._resetView(this.unproject(this.project(this.getCenter()).add(gr)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Id,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Rr.noMoveStart||this.fire("movestart"),Rr.animate!==!1){yc(this._mapPane,"leaflet-pan-anim");var Br=this._getMapPanePos().subtract(gr).round();this._panAnim.run(this._mapPane,Br,Rr.duration||.25,Rr.easeLinearity)}else this._rawPanBy(gr),this.fire("move").fire("moveend");return this},flyTo:function(gr,Rr,Br){if(Br=Br||{},Br.animate===!1||!kl.any3d)return this.setView(gr,Rr,Br);this._stop();var Qr=this.project(this.getCenter()),ho=this.project(gr),Eo=this.getSize(),Io=this._zoom;gr=So(gr),Rr=Rr===void 0?Io:Rr;var Jo=Math.max(Eo.x,Eo.y),Ko=Jo*this.getZoomScale(Io,Rr),_l=ho.distanceTo(Qr)||1,Nl=1.42,tc=Nl*Nl;function $c(Uu){var kf=Uu?-1:1,Co=Uu?Ko:Jo,jp=Ko*Ko-Jo*Jo+kf*tc*tc*_l*_l,Rp=2*Co*tc*_l,$h=jp/Rp,Cc=Math.sqrt($h*$h+1)-$h,Dh=Cc<1e-9?-18:Math.log(Cc);return Dh}function lh(Uu){return(Math.exp(Uu)-Math.exp(-Uu))/2}function Tu(Uu){return(Math.exp(Uu)+Math.exp(-Uu))/2}function Lh(Uu){return lh(Uu)/Tu(Uu)}var fu=$c(0);function iu(Uu){return Jo*(Tu(fu)/Tu(fu+Nl*Uu))}function Uc(Uu){return Jo*(Tu(fu)*Lh(fu+Nl*Uu)-lh(fu))/tc}function Ep(Uu){return 1-Math.pow(1-Uu,1.5)}var Ad=Date.now(),Og=($c(1)-fu)/Nl,Sp=Br.duration?1e3*Br.duration:1e3*Og*.8;function Em(){var Uu=(Date.now()-Ad)/Sp,kf=Ep(Uu)*Og;Uu<=1?(this._flyToFrame=Hr(Em,this),this._move(this.unproject(Qr.add(ho.subtract(Qr).multiplyBy(Uc(kf)/_l)),Io),this.getScaleZoom(Jo/iu(kf),Io),{flyTo:!0})):this._move(gr,Rr)._moveEnd(!0)}return this._moveStart(!0,Br.noMoveStart),Em.call(this),this},flyToBounds:function(gr,Rr){var Br=this._getBoundsCenterZoom(gr,Rr);return this.flyTo(Br.center,Br.zoom,Rr)},setMaxBounds:function(gr){return gr=Po(gr),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),gr.isValid()?(this.options.maxBounds=gr,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(gr){var Rr=this.options.minZoom;return this.options.minZoom=gr,this._loaded&&Rr!==gr&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(gr):this},setMaxZoom:function(gr){var Rr=this.options.maxZoom;return this.options.maxZoom=gr,this._loaded&&Rr!==gr&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(gr):this},panInsideBounds:function(gr,Rr){this._enforcingBounds=!0;var Br=this.getCenter(),Qr=this._limitCenter(Br,this._zoom,Po(gr));return Br.equals(Qr)||this.panTo(Qr,Rr),this._enforcingBounds=!1,this},panInside:function(gr,Rr){Rr=Rr||{};var Br=lo(Rr.paddingTopLeft||Rr.padding||[0,0]),Qr=lo(Rr.paddingBottomRight||Rr.padding||[0,0]),ho=this.project(this.getCenter()),Eo=this.project(gr),Io=this.getPixelBounds(),Jo=xo([Io.min.add(Br),Io.max.subtract(Qr)]),Ko=Jo.getSize();if(!Jo.contains(Eo)){this._enforcingBounds=!0;var _l=Eo.subtract(Jo.getCenter()),Nl=Jo.extend(Eo).getSize().subtract(Ko);ho.x+=_l.x<0?-Nl.x:Nl.x,ho.y+=_l.y<0?-Nl.y:Nl.y,this.panTo(this.unproject(ho),Rr),this._enforcingBounds=!1}return this},invalidateSize:function(gr){if(!this._loaded)return this;gr=ir({animate:!1,pan:!0},gr===!0?{animate:!0}:gr);var Rr=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Br=this.getSize(),Qr=Rr.divideBy(2).round(),ho=Br.divideBy(2).round(),Eo=Qr.subtract(ho);return!Eo.x&&!Eo.y?this:(gr.animate&&gr.pan?this.panBy(Eo):(gr.pan&&this._rawPanBy(Eo),this.fire("move"),gr.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(sr(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Rr,newSize:Br}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(gr){if(gr=this._locateOptions=ir({timeout:1e4,watch:!1},gr),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Rr=sr(this._handleGeolocationResponse,this),Br=sr(this._handleGeolocationError,this);return gr.watch?this._locationWatchId=navigator.geolocation.watchPosition(Rr,Br,gr):navigator.geolocation.getCurrentPosition(Rr,Br,gr),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(gr){if(this._container._leaflet_id){var Rr=gr.code,Br=gr.message||(Rr===1?"permission denied":Rr===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Rr,message:"Geolocation error: "+Br+"."})}},_handleGeolocationResponse:function(gr){if(this._container._leaflet_id){var Rr=gr.coords.latitude,Br=gr.coords.longitude,Qr=new Oo(Rr,Br),ho=Qr.toBounds(gr.coords.accuracy*2),Eo=this._locateOptions;if(Eo.setView){var Io=this.getBoundsZoom(ho);this.setView(Qr,Eo.maxZoom?Math.min(Io,Eo.maxZoom):Io)}var Jo={latlng:Qr,bounds:ho,timestamp:gr.timestamp};for(var Ko in gr.coords)typeof gr.coords[Ko]=="number"&&(Jo[Ko]=gr.coords[Ko]);this.fire("locationfound",Jo)}},addHandler:function(gr,Rr){if(!Rr)return this;var Br=this[gr]=new Rr(this);return this._handlers.push(Br),this.options[gr]&&Br.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gc(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Yr(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var gr;for(gr in this._layers)this._layers[gr].remove();for(gr in this._panes)Gc(this._panes[gr]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(gr,Rr){var Br="leaflet-pane"+(gr?" leaflet-"+gr.replace("Pane","")+"-pane":""),Qr=Lc("div",Br,Rr||this._mapPane);return gr&&(this._panes[gr]=Qr),Qr},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var gr=this.getPixelBounds(),Rr=this.unproject(gr.getBottomLeft()),Br=this.unproject(gr.getTopRight());return new _o(Rr,Br)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(gr,Rr,Br){gr=Po(gr),Br=lo(Br||[0,0]);var Qr=this.getZoom()||0,ho=this.getMinZoom(),Eo=this.getMaxZoom(),Io=gr.getNorthWest(),Jo=gr.getSouthEast(),Ko=this.getSize().subtract(Br),_l=xo(this.project(Jo,Qr),this.project(Io,Qr)).getSize(),Nl=kl.any3d?this.options.zoomSnap:1,tc=Ko.x/_l.x,$c=Ko.y/_l.y,lh=Rr?Math.max(tc,$c):Math.min(tc,$c);return Qr=this.getScaleZoom(lh,Qr),Nl&&(Qr=Math.round(Qr/(Nl/100))*(Nl/100),Qr=Rr?Math.ceil(Qr/Nl)*Nl:Math.floor(Qr/Nl)*Nl),Math.max(ho,Math.min(Eo,Qr))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new po(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(gr,Rr){var Br=this._getTopLeftPoint(gr,Rr);return new ao(Br,Br.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(gr){return this.options.crs.getProjectedBounds(gr===void 0?this.getZoom():gr)},getPane:function(gr){return typeof gr=="string"?this._panes[gr]:gr},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(gr,Rr){var Br=this.options.crs;return Rr=Rr===void 0?this._zoom:Rr,Br.scale(gr)/Br.scale(Rr)},getScaleZoom:function(gr,Rr){var Br=this.options.crs;Rr=Rr===void 0?this._zoom:Rr;var Qr=Br.zoom(gr*Br.scale(Rr));return isNaN(Qr)?1/0:Qr},project:function(gr,Rr){return Rr=Rr===void 0?this._zoom:Rr,this.options.crs.latLngToPoint(So(gr),Rr)},unproject:function(gr,Rr){return Rr=Rr===void 0?this._zoom:Rr,this.options.crs.pointToLatLng(lo(gr),Rr)},layerPointToLatLng:function(gr){var Rr=lo(gr).add(this.getPixelOrigin());return this.unproject(Rr)},latLngToLayerPoint:function(gr){var Rr=this.project(So(gr))._round();return Rr._subtract(this.getPixelOrigin())},wrapLatLng:function(gr){return this.options.crs.wrapLatLng(So(gr))},wrapLatLngBounds:function(gr){return this.options.crs.wrapLatLngBounds(Po(gr))},distance:function(gr,Rr){return this.options.crs.distance(So(gr),So(Rr))},containerPointToLayerPoint:function(gr){return lo(gr).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(gr){return lo(gr).add(this._getMapPanePos())},containerPointToLatLng:function(gr){var Rr=this.containerPointToLayerPoint(lo(gr));return this.layerPointToLatLng(Rr)},latLngToContainerPoint:function(gr){return this.layerPointToContainerPoint(this.latLngToLayerPoint(So(gr)))},mouseEventToContainerPoint:function(gr){return fm(gr,this._container)},mouseEventToLayerPoint:function(gr){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(gr))},mouseEventToLatLng:function(gr){return this.layerPointToLatLng(this.mouseEventToLayerPoint(gr))},_initContainer:function(gr){var Rr=this._container=_u(gr);if(Rr){if(Rr._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");bc(Rr,"scroll",this._onScroll,this),this._containerId=or(Rr)},_initLayout:function(){var gr=this._container;this._fadeAnimated=this.options.fadeAnimation&&kl.any3d,yc(gr,"leaflet-container"+(kl.touch?" leaflet-touch":"")+(kl.retina?" leaflet-retina":"")+(kl.ielt9?" leaflet-oldie":"")+(kl.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Rr=Bf(gr,"position");Rr!=="absolute"&&Rr!=="relative"&&Rr!=="fixed"&&Rr!=="sticky"&&(gr.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var gr=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Au(this._mapPane,new po(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yc(gr.markerPane,"leaflet-zoom-hide"),yc(gr.shadowPane,"leaflet-zoom-hide"))},_resetView:function(gr,Rr,Br){Au(this._mapPane,new po(0,0));var Qr=!this._loaded;this._loaded=!0,Rr=this._limitZoom(Rr),this.fire("viewprereset");var ho=this._zoom!==Rr;this._moveStart(ho,Br)._move(gr,Rr)._moveEnd(ho),this.fire("viewreset"),Qr&&this.fire("load")},_moveStart:function(gr,Rr){return gr&&this.fire("zoomstart"),Rr||this.fire("movestart"),this},_move:function(gr,Rr,Br,Qr){Rr===void 0&&(Rr=this._zoom);var ho=this._zoom!==Rr;return this._zoom=Rr,this._lastCenter=gr,this._pixelOrigin=this._getNewPixelOrigin(gr),Qr?Br&&Br.pinch&&this.fire("zoom",Br):((ho||Br&&Br.pinch)&&this.fire("zoom",Br),this.fire("move",Br)),this},_moveEnd:function(gr){return gr&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Yr(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(gr){Au(this._mapPane,this._getMapPanePos().subtract(gr))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(gr){this._targets={},this._targets[or(this._container)]=this;var Rr=gr?Du:bc;Rr(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Rr(window,"resize",this._onResize,this),kl.any3d&&this.options.transform3DLimit&&(gr?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Yr(this._resizeRequest),this._resizeRequest=Hr(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var gr=this._getMapPanePos();Math.max(Math.abs(gr.x),Math.abs(gr.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(gr,Rr){for(var Br=[],Qr,ho=Rr==="mouseout"||Rr==="mouseover",Eo=gr.target||gr.srcElement,Io=!1;Eo;){if(Qr=this._targets[or(Eo)],Qr&&(Rr==="click"||Rr==="preclick")&&this._draggableMoved(Qr)){Io=!0;break}if(Qr&&Qr.listens(Rr,!0)&&(ho&&!_f(Eo,gr)||(Br.push(Qr),ho))||Eo===this._container)break;Eo=Eo.parentNode}return!Br.length&&!Io&&!ho&&this.listens(Rr,!0)&&(Br=[this]),Br},_isClickDisabled:function(gr){for(;gr&&gr!==this._container;){if(gr._leaflet_disable_click)return!0;gr=gr.parentNode}},_handleDOMEvent:function(gr){var Rr=gr.target||gr.srcElement;if(!(!this._loaded||Rr._leaflet_disable_events||gr.type==="click"&&this._isClickDisabled(Rr))){var Br=gr.type;Br==="mousedown"&&Zu(Rr),this._fireDOMEvent(gr,Br)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(gr,Rr,Br){if(gr.type==="click"){var Qr=ir({},gr);Qr.type="preclick",this._fireDOMEvent(Qr,Qr.type,Br)}var ho=this._findEventTargets(gr,Rr);if(Br){for(var Eo=[],Io=0;Io<Br.length;Io++)Br[Io].listens(Rr,!0)&&Eo.push(Br[Io]);ho=Eo.concat(ho)}if(ho.length){Rr==="contextmenu"&&Ec(gr);var Jo=ho[0],Ko={originalEvent:gr};if(gr.type!=="keypress"&&gr.type!=="keydown"&&gr.type!=="keyup"){var _l=Jo.getLatLng&&(!Jo._radius||Jo._radius<=10);Ko.containerPoint=_l?this.latLngToContainerPoint(Jo.getLatLng()):this.mouseEventToContainerPoint(gr),Ko.layerPoint=this.containerPointToLayerPoint(Ko.containerPoint),Ko.latlng=_l?Jo.getLatLng():this.layerPointToLatLng(Ko.layerPoint)}for(Io=0;Io<ho.length;Io++)if(ho[Io].fire(Rr,Ko,!0),Ko.originalEvent._stopped||ho[Io].options.bubblingMouseEvents===!1&&Ir(this._mouseEvents,Rr)!==-1)return}},_draggableMoved:function(gr){return gr=gr.dragging&&gr.dragging.enabled()?gr:this,gr.dragging&&gr.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var gr=0,Rr=this._handlers.length;gr<Rr;gr++)this._handlers[gr].disable()},whenReady:function(gr,Rr){return this._loaded?gr.call(Rr||this,{target:this}):this.on("load",gr,Rr),this},_getMapPanePos:function(){return jo(this._mapPane)||new po(0,0)},_moved:function(){var gr=this._getMapPanePos();return gr&&!gr.equals([0,0])},_getTopLeftPoint:function(gr,Rr){var Br=gr&&Rr!==void 0?this._getNewPixelOrigin(gr,Rr):this.getPixelOrigin();return Br.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(gr,Rr){var Br=this.getSize()._divideBy(2);return this.project(gr,Rr)._subtract(Br)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(gr,Rr,Br){var Qr=this._getNewPixelOrigin(Br,Rr);return this.project(gr,Rr)._subtract(Qr)},_latLngBoundsToNewLayerBounds:function(gr,Rr,Br){var Qr=this._getNewPixelOrigin(Br,Rr);return xo([this.project(gr.getSouthWest(),Rr)._subtract(Qr),this.project(gr.getNorthWest(),Rr)._subtract(Qr),this.project(gr.getSouthEast(),Rr)._subtract(Qr),this.project(gr.getNorthEast(),Rr)._subtract(Qr)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(gr){return this.latLngToLayerPoint(gr).subtract(this._getCenterLayerPoint())},_limitCenter:function(gr,Rr,Br){if(!Br)return gr;var Qr=this.project(gr,Rr),ho=this.getSize().divideBy(2),Eo=new ao(Qr.subtract(ho),Qr.add(ho)),Io=this._getBoundsOffset(Eo,Br,Rr);return Math.abs(Io.x)<=1&&Math.abs(Io.y)<=1?gr:this.unproject(Qr.add(Io),Rr)},_limitOffset:function(gr,Rr){if(!Rr)return gr;var Br=this.getPixelBounds(),Qr=new ao(Br.min.add(gr),Br.max.add(gr));return gr.add(this._getBoundsOffset(Qr,Rr))},_getBoundsOffset:function(gr,Rr,Br){var Qr=xo(this.project(Rr.getNorthEast(),Br),this.project(Rr.getSouthWest(),Br)),ho=Qr.min.subtract(gr.min),Eo=Qr.max.subtract(gr.max),Io=this._rebound(ho.x,-Eo.x),Jo=this._rebound(ho.y,-Eo.y);return new po(Io,Jo)},_rebound:function(gr,Rr){return gr+Rr>0?Math.round(gr-Rr)/2:Math.max(0,Math.ceil(gr))-Math.max(0,Math.floor(Rr))},_limitZoom:function(gr){var Rr=this.getMinZoom(),Br=this.getMaxZoom(),Qr=kl.any3d?this.options.zoomSnap:1;return Qr&&(gr=Math.round(gr/Qr)*Qr),Math.max(Rr,Math.min(Br,gr))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wu(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(gr,Rr){var Br=this._getCenterOffset(gr)._trunc();return(Rr&&Rr.animate)!==!0&&!this.getSize().contains(Br)?!1:(this.panBy(Br,Rr),!0)},_createAnimProxy:function(){var gr=this._proxy=Lc("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(gr),this.on("zoomanim",function(Rr){var Br=Nh,Qr=this._proxy.style[Br];ud(this._proxy,this.project(Rr.center,Rr.zoom),this.getZoomScale(Rr.zoom,1)),Qr===this._proxy.style[Br]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gc(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var gr=this.getCenter(),Rr=this.getZoom();ud(this._proxy,this.project(gr,Rr),this.getZoomScale(Rr,1))},_catchTransitionEnd:function(gr){this._animatingZoom&&gr.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(gr,Rr,Br){if(this._animatingZoom)return!0;if(Br=Br||{},!this._zoomAnimated||Br.animate===!1||this._nothingToAnimate()||Math.abs(Rr-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Qr=this.getZoomScale(Rr),ho=this._getCenterOffset(gr)._divideBy(1-1/Qr);return Br.animate!==!0&&!this.getSize().contains(ho)?!1:(Hr(function(){this._moveStart(!0,Br.noMoveStart||!1)._animateZoom(gr,Rr,!0)},this),!0)},_animateZoom:function(gr,Rr,Br,Qr){this._mapPane&&(Br&&(this._animatingZoom=!0,this._animateToCenter=gr,this._animateToZoom=Rr,yc(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:gr,zoom:Rr,noUpdate:Qr}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(sr(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wu(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gh(gr,Rr){return new Mc(gr,Rr)}var Zh=io.extend({options:{position:"topright"},initialize:function(gr){yr(this,gr)},getPosition:function(){return this.options.position},setPosition:function(gr){var Rr=this._map;return Rr&&Rr.removeControl(this),this.options.position=gr,Rr&&Rr.addControl(this),this},getContainer:function(){return this._container},addTo:function(gr){this.remove(),this._map=gr;var Rr=this._container=this.onAdd(gr),Br=this.getPosition(),Qr=gr._controlCorners[Br];return yc(Rr,"leaflet-control"),Br.indexOf("bottom")!==-1?Qr.insertBefore(Rr,Qr.firstChild):Qr.appendChild(Rr),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gc(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(gr){this._map&&gr&&gr.screenX>0&&gr.screenY>0&&this._map.getContainer().focus()}}),Qh=function(gr){return new Zh(gr)};Mc.include({addControl:function(gr){return gr.addTo(this),this},removeControl:function(gr){return gr.remove(),this},_initControlPos:function(){var gr=this._controlCorners={},Rr="leaflet-",Br=this._controlContainer=Lc("div",Rr+"control-container",this._container);function Qr(ho,Eo){var Io=Rr+ho+" "+Rr+Eo;gr[ho+Eo]=Lc("div",Io,Br)}Qr("top","left"),Qr("top","right"),Qr("bottom","left"),Qr("bottom","right")},_clearControlPos:function(){for(var gr in this._controlCorners)Gc(this._controlCorners[gr]);Gc(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mm=Zh.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(gr,Rr,Br,Qr){return Br<Qr?-1:Qr<Br?1:0}},initialize:function(gr,Rr,Br){yr(this,Br),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Qr in gr)this._addLayer(gr[Qr],Qr);for(Qr in Rr)this._addLayer(Rr[Qr],Qr,!0)},onAdd:function(gr){this._initLayout(),this._update(),this._map=gr,gr.on("zoomend",this._checkDisabledLayers,this);for(var Rr=0;Rr<this._layers.length;Rr++)this._layers[Rr].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(gr){return Zh.prototype.addTo.call(this,gr),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var gr=0;gr<this._layers.length;gr++)this._layers[gr].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(gr,Rr){return this._addLayer(gr,Rr),this._map?this._update():this},addOverlay:function(gr,Rr){return this._addLayer(gr,Rr,!0),this._map?this._update():this},removeLayer:function(gr){gr.off("add remove",this._onLayerChange,this);var Rr=this._getLayer(or(gr));return Rr&&this._layers.splice(this._layers.indexOf(Rr),1),this._map?this._update():this},expand:function(){yc(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var gr=this._map.getSize().y-(this._container.offsetTop+50);return gr<this._section.clientHeight?(yc(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=gr+"px"):wu(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wu(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var gr="leaflet-control-layers",Rr=this._container=Lc("div",gr),Br=this.options.collapsed;Rr.setAttribute("aria-haspopup",!0),tf(Rr),bf(Rr);var Qr=this._section=Lc("section",gr+"-list");Br&&(this._map.on("click",this.collapse,this),bc(Rr,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ho=this._layersLink=Lc("a",gr+"-toggle",Rr);ho.href="#",ho.title="Layers",ho.setAttribute("role","button"),bc(ho,{keydown:function(Eo){Eo.keyCode===13&&this._expandSafely()},click:function(Eo){Ec(Eo),this._expandSafely()}},this),Br||this.expand(),this._baseLayersList=Lc("div",gr+"-base",Qr),this._separator=Lc("div",gr+"-separator",Qr),this._overlaysList=Lc("div",gr+"-overlays",Qr),Rr.appendChild(Qr)},_getLayer:function(gr){for(var Rr=0;Rr<this._layers.length;Rr++)if(this._layers[Rr]&&or(this._layers[Rr].layer)===gr)return this._layers[Rr]},_addLayer:function(gr,Rr,Br){this._map&&gr.on("add remove",this._onLayerChange,this),this._layers.push({layer:gr,name:Rr,overlay:Br}),this.options.sortLayers&&this._layers.sort(sr(function(Qr,ho){return this.options.sortFunction(Qr.layer,ho.layer,Qr.name,ho.name)},this)),this.options.autoZIndex&&gr.setZIndex&&(this._lastZIndex++,gr.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Th(this._baseLayersList),Th(this._overlaysList),this._layerControlInputs=[];var gr,Rr,Br,Qr,ho=0;for(Br=0;Br<this._layers.length;Br++)Qr=this._layers[Br],this._addItem(Qr),Rr=Rr||Qr.overlay,gr=gr||!Qr.overlay,ho+=Qr.overlay?0:1;return this.options.hideSingleBase&&(gr=gr&&ho>1,this._baseLayersList.style.display=gr?"":"none"),this._separator.style.display=Rr&&gr?"":"none",this},_onLayerChange:function(gr){this._handlingClick||this._update();var Rr=this._getLayer(or(gr.target)),Br=Rr.overlay?gr.type==="add"?"overlayadd":"overlayremove":gr.type==="add"?"baselayerchange":null;Br&&this._map.fire(Br,Rr)},_createRadioElement:function(gr,Rr){var Br='<input type="radio" class="leaflet-control-layers-selector" name="'+gr+'"'+(Rr?' checked="checked"':"")+"/>",Qr=document.createElement("div");return Qr.innerHTML=Br,Qr.firstChild},_addItem:function(gr){var Rr=document.createElement("label"),Br=this._map.hasLayer(gr.layer),Qr;gr.overlay?(Qr=document.createElement("input"),Qr.type="checkbox",Qr.className="leaflet-control-layers-selector",Qr.defaultChecked=Br):Qr=this._createRadioElement("leaflet-base-layers_"+or(this),Br),this._layerControlInputs.push(Qr),Qr.layerId=or(gr.layer),bc(Qr,"click",this._onInputClick,this);var ho=document.createElement("span");ho.innerHTML=" "+gr.name;var Eo=document.createElement("span");Rr.appendChild(Eo),Eo.appendChild(Qr),Eo.appendChild(ho);var Io=gr.overlay?this._overlaysList:this._baseLayersList;return Io.appendChild(Rr),this._checkDisabledLayers(),Rr},_onInputClick:function(){if(!this._preventClick){var gr=this._layerControlInputs,Rr,Br,Qr=[],ho=[];this._handlingClick=!0;for(var Eo=gr.length-1;Eo>=0;Eo--)Rr=gr[Eo],Br=this._getLayer(Rr.layerId).layer,Rr.checked?Qr.push(Br):Rr.checked||ho.push(Br);for(Eo=0;Eo<ho.length;Eo++)this._map.hasLayer(ho[Eo])&&this._map.removeLayer(ho[Eo]);for(Eo=0;Eo<Qr.length;Eo++)this._map.hasLayer(Qr[Eo])||this._map.addLayer(Qr[Eo]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var gr=this._layerControlInputs,Rr,Br,Qr=this._map.getZoom(),ho=gr.length-1;ho>=0;ho--)Rr=gr[ho],Br=this._getLayer(Rr.layerId).layer,Rr.disabled=Br.options.minZoom!==void 0&&Qr<Br.options.minZoom||Br.options.maxZoom!==void 0&&Qr>Br.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var gr=this._section;this._preventClick=!0,bc(gr,"click",Ec),this.expand();var Rr=this;setTimeout(function(){Du(gr,"click",Ec),Rr._preventClick=!1})}}),Ym=function(gr,Rr,Br){return new mm(gr,Rr,Br)},gu=Zh.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(gr){var Rr="leaflet-control-zoom",Br=Lc("div",Rr+" leaflet-bar"),Qr=this.options;return this._zoomInButton=this._createButton(Qr.zoomInText,Qr.zoomInTitle,Rr+"-in",Br,this._zoomIn),this._zoomOutButton=this._createButton(Qr.zoomOutText,Qr.zoomOutTitle,Rr+"-out",Br,this._zoomOut),this._updateDisabled(),gr.on("zoomend zoomlevelschange",this._updateDisabled,this),Br},onRemove:function(gr){gr.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(gr){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(gr.shiftKey?3:1))},_zoomOut:function(gr){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(gr.shiftKey?3:1))},_createButton:function(gr,Rr,Br,Qr,ho){var Eo=Lc("a",Br,Qr);return Eo.innerHTML=gr,Eo.href="#",Eo.title=Rr,Eo.setAttribute("role","button"),Eo.setAttribute("aria-label",Rr),tf(Eo),bc(Eo,"click",nu),bc(Eo,"click",ho,this),bc(Eo,"click",this._refocusOnMap,this),Eo},_updateDisabled:function(){var gr=this._map,Rr="leaflet-disabled";wu(this._zoomInButton,Rr),wu(this._zoomOutButton,Rr),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||gr._zoom===gr.getMinZoom())&&(yc(this._zoomOutButton,Rr),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||gr._zoom===gr.getMaxZoom())&&(yc(this._zoomInButton,Rr),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mc.mergeOptions({zoomControl:!0}),Mc.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gu,this.addControl(this.zoomControl))});var nf=function(gr){return new gu(gr)},kg=Zh.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(gr){var Rr="leaflet-control-scale",Br=Lc("div",Rr),Qr=this.options;return this._addScales(Qr,Rr+"-line",Br),gr.on(Qr.updateWhenIdle?"moveend":"move",this._update,this),gr.whenReady(this._update,this),Br},onRemove:function(gr){gr.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(gr,Rr,Br){gr.metric&&(this._mScale=Lc("div",Rr,Br)),gr.imperial&&(this._iScale=Lc("div",Rr,Br))},_update:function(){var gr=this._map,Rr=gr.getSize().y/2,Br=gr.distance(gr.containerPointToLatLng([0,Rr]),gr.containerPointToLatLng([this.options.maxWidth,Rr]));this._updateScales(Br)},_updateScales:function(gr){this.options.metric&&gr&&this._updateMetric(gr),this.options.imperial&&gr&&this._updateImperial(gr)},_updateMetric:function(gr){var Rr=this._getRoundNum(gr),Br=Rr<1e3?Rr+" m":Rr/1e3+" km";this._updateScale(this._mScale,Br,Rr/gr)},_updateImperial:function(gr){var Rr=gr*3.2808399,Br,Qr,ho;Rr>5280?(Br=Rr/5280,Qr=this._getRoundNum(Br),this._updateScale(this._iScale,Qr+" mi",Qr/Br)):(ho=this._getRoundNum(Rr),this._updateScale(this._iScale,ho+" ft",ho/Rr))},_updateScale:function(gr,Rr,Br){gr.style.width=Math.round(this.options.maxWidth*Br)+"px",gr.innerHTML=Rr},_getRoundNum:function(gr){var Rr=Math.pow(10,(Math.floor(gr)+"").length-1),Br=gr/Rr;return Br=Br>=10?10:Br>=5?5:Br>=3?3:Br>=2?2:1,Rr*Br}}),Ag=function(gr){return new kg(gr)},ux='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pp=Zh.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(kl.inlineSvg?ux+" ":"")+"Leaflet</a>"},initialize:function(gr){yr(this,gr),this._attributions={}},onAdd:function(gr){gr.attributionControl=this,this._container=Lc("div","leaflet-control-attribution"),tf(this._container);for(var Rr in gr._layers)gr._layers[Rr].getAttribution&&this.addAttribution(gr._layers[Rr].getAttribution());return this._update(),gr.on("layeradd",this._addAttribution,this),this._container},onRemove:function(gr){gr.off("layeradd",this._addAttribution,this)},_addAttribution:function(gr){gr.layer.getAttribution&&(this.addAttribution(gr.layer.getAttribution()),gr.layer.once("remove",function(){this.removeAttribution(gr.layer.getAttribution())},this))},setPrefix:function(gr){return this.options.prefix=gr,this._update(),this},addAttribution:function(gr){return gr?(this._attributions[gr]||(this._attributions[gr]=0),this._attributions[gr]++,this._update(),this):this},removeAttribution:function(gr){return gr?(this._attributions[gr]&&(this._attributions[gr]--,this._update()),this):this},_update:function(){if(this._map){var gr=[];for(var Rr in this._attributions)this._attributions[Rr]&&gr.push(Rr);var Br=[];this.options.prefix&&Br.push(this.options.prefix),gr.length&&Br.push(gr.join(", ")),this._container.innerHTML=Br.join(' <span aria-hidden="true">|</span> ')}}});Mc.mergeOptions({attributionControl:!0}),Mc.addInitHook(function(){this.options.attributionControl&&new pp().addTo(this)});var iy=function(gr){return new pp(gr)};Zh.Layers=mm,Zh.Zoom=gu,Zh.Scale=kg,Zh.Attribution=pp,Qh.layers=Ym,Qh.zoom=nf,Qh.scale=Ag,Qh.attribution=iy;var Wu=io.extend({initialize:function(gr){this._map=gr},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wu.addTo=function(gr,Rr){return gr.addHandler(Rr,this),this};var ry={Events:so},wh=kl.touch?"touchstart mousedown":"mousedown",Gf=no.extend({options:{clickTolerance:3},initialize:function(gr,Rr,Br,Qr){yr(this,Qr),this._element=gr,this._dragStartTarget=Rr||gr,this._preventOutline=Br},enable:function(){this._enabled||(bc(this._dragStartTarget,wh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gf._dragging===this&&this.finishDrag(!0),Du(this._dragStartTarget,wh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(gr){if(this._enabled&&(this._moved=!1,!fp(this._element,"leaflet-zoom-anim"))){if(gr.touches&&gr.touches.length!==1){Gf._dragging===this&&this.finishDrag();return}if(!(Gf._dragging||gr.shiftKey||gr.which!==1&&gr.button!==1&&!gr.touches)&&(Gf._dragging=this,this._preventOutline&&Zu(this._element),zl(),Mo(),!this._moving)){this.fire("down");var Rr=gr.touches?gr.touches[0]:gr,Br=Hf(this._element);this._startPoint=new po(Rr.clientX,Rr.clientY),this._startPos=jo(this._element),this._parentScale=Vm(Br);var Qr=gr.type==="mousedown";bc(document,Qr?"mousemove":"touchmove",this._onMove,this),bc(document,Qr?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(gr){if(this._enabled){if(gr.touches&&gr.touches.length>1){this._moved=!0;return}var Rr=gr.touches&&gr.touches.length===1?gr.touches[0]:gr,Br=new po(Rr.clientX,Rr.clientY)._subtract(this._startPoint);!Br.x&&!Br.y||Math.abs(Br.x)+Math.abs(Br.y)<this.options.clickTolerance||(Br.x/=this._parentScale.x,Br.y/=this._parentScale.y,Ec(gr),this._moved||(this.fire("dragstart"),this._moved=!0,yc(document.body,"leaflet-dragging"),this._lastTarget=gr.target||gr.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yc(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Br),this._moving=!0,this._lastEvent=gr,this._updatePosition())}},_updatePosition:function(){var gr={originalEvent:this._lastEvent};this.fire("predrag",gr),Au(this._element,this._newPos),this.fire("drag",gr)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(gr){wu(document.body,"leaflet-dragging"),this._lastTarget&&(wu(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Du(document,"mousemove touchmove",this._onMove,this),Du(document,"mouseup touchend touchcancel",this._onUp,this),vc(),$o();var Rr=this._moved&&this._moving;this._moving=!1,Gf._dragging=!1,Rr&&this.fire("dragend",{noInertia:gr,distance:this._newPos.distanceTo(this._startPos)})}});function hx(gr,Rr,Br){var Qr,ho=[1,4,2,8],Eo,Io,Jo,Ko,_l,Nl,tc,$c;for(Eo=0,Nl=gr.length;Eo<Nl;Eo++)gr[Eo]._code=Ef(gr[Eo],Rr);for(Jo=0;Jo<4;Jo++){for(tc=ho[Jo],Qr=[],Eo=0,Nl=gr.length,Io=Nl-1;Eo<Nl;Io=Eo++)Ko=gr[Eo],_l=gr[Io],Ko._code&tc?_l._code&tc||($c=qm(_l,Ko,tc,Rr,Br),$c._code=Ef($c,Rr),Qr.push($c)):(_l._code&tc&&($c=qm(_l,Ko,tc,Rr,Br),$c._code=Ef($c,Rr),Qr.push($c)),Qr.push(Ko));gr=Qr}return gr}function jd(gr,Rr){var Br,Qr,ho,Eo,Io,Jo,Ko,_l,Nl;if(!gr||gr.length===0)throw new Error("latlngs not passed");Rd(gr)||(console.warn("latlngs are not flat! Only the first ring will be used"),gr=gr[0]);var tc=So([0,0]),$c=Po(gr),lh=$c.getNorthWest().distanceTo($c.getSouthWest())*$c.getNorthEast().distanceTo($c.getNorthWest());lh<1700&&(tc=Bp(gr));var Tu=gr.length,Lh=[];for(Br=0;Br<Tu;Br++){var fu=So(gr[Br]);Lh.push(Rr.project(So([fu.lat-tc.lat,fu.lng-tc.lng])))}for(Jo=Ko=_l=0,Br=0,Qr=Tu-1;Br<Tu;Qr=Br++)ho=Lh[Br],Eo=Lh[Qr],Io=ho.y*Eo.x-Eo.y*ho.x,Ko+=(ho.x+Eo.x)*Io,_l+=(ho.y+Eo.y)*Io,Jo+=Io*3;Jo===0?Nl=Lh[0]:Nl=[Ko/Jo,_l/Jo];var iu=Rr.unproject(lo(Nl));return So([iu.lat+tc.lat,iu.lng+tc.lng])}function Bp(gr){for(var Rr=0,Br=0,Qr=0,ho=0;ho<gr.length;ho++){var Eo=So(gr[ho]);Rr+=Eo.lat,Br+=Eo.lng,Qr++}return So([Rr/Qr,Br/Qr])}var gm={__proto__:null,clipPolygon:hx,polygonCenter:jd,centroid:Bp};function Fu(gr,Rr){if(!Rr||!gr.length)return gr.slice();var Br=Rr*Rr;return gr=dx(gr,Br),gr=sy(gr,Br),gr}function wf(gr,Rr,Br){return Math.sqrt(zp(gr,Rr,Br,!0))}function Xm(gr,Rr,Br){return zp(gr,Rr,Br)}function sy(gr,Rr){var Br=gr.length,Qr=typeof Uint8Array<"u"?Uint8Array:Array,ho=new Qr(Br);ho[0]=ho[Br-1]=1,xm(gr,ho,Rr,0,Br-1);var Eo,Io=[];for(Eo=0;Eo<Br;Eo++)ho[Eo]&&Io.push(gr[Eo]);return Io}function xm(gr,Rr,Br,Qr,ho){var Eo=0,Io,Jo,Ko;for(Jo=Qr+1;Jo<=ho-1;Jo++)Ko=zp(gr[Jo],gr[Qr],gr[ho],!0),Ko>Eo&&(Io=Jo,Eo=Ko);Eo>Br&&(Rr[Io]=1,xm(gr,Rr,Br,Qr,Io),xm(gr,Rr,Br,Io,ho))}function dx(gr,Rr){for(var Br=[gr[0]],Qr=1,ho=0,Eo=gr.length;Qr<Eo;Qr++)ym(gr[Qr],gr[ho])>Rr&&(Br.push(gr[Qr]),ho=Qr);return ho<Eo-1&&Br.push(gr[Eo-1]),Br}var ay;function oy(gr,Rr,Br,Qr,ho){var Eo=Qr?ay:Ef(gr,Br),Io=Ef(Rr,Br),Jo,Ko,_l;for(ay=Io;;){if(!(Eo|Io))return[gr,Rr];if(Eo&Io)return!1;Jo=Eo||Io,Ko=qm(gr,Rr,Jo,Br,ho),_l=Ef(Ko,Br),Jo===Eo?(gr=Ko,Eo=_l):(Rr=Ko,Io=_l)}}function qm(gr,Rr,Br,Qr,ho){var Eo=Rr.x-gr.x,Io=Rr.y-gr.y,Jo=Qr.min,Ko=Qr.max,_l,Nl;return Br&8?(_l=gr.x+Eo*(Ko.y-gr.y)/Io,Nl=Ko.y):Br&4?(_l=gr.x+Eo*(Jo.y-gr.y)/Io,Nl=Jo.y):Br&2?(_l=Ko.x,Nl=gr.y+Io*(Ko.x-gr.x)/Eo):Br&1&&(_l=Jo.x,Nl=gr.y+Io*(Jo.x-gr.x)/Eo),new po(_l,Nl,ho)}function Ef(gr,Rr){var Br=0;return gr.x<Rr.min.x?Br|=1:gr.x>Rr.max.x&&(Br|=2),gr.y<Rr.min.y?Br|=4:gr.y>Rr.max.y&&(Br|=8),Br}function ym(gr,Rr){var Br=Rr.x-gr.x,Qr=Rr.y-gr.y;return Br*Br+Qr*Qr}function zp(gr,Rr,Br,Qr){var ho=Rr.x,Eo=Rr.y,Io=Br.x-ho,Jo=Br.y-Eo,Ko=Io*Io+Jo*Jo,_l;return Ko>0&&(_l=((gr.x-ho)*Io+(gr.y-Eo)*Jo)/Ko,_l>1?(ho=Br.x,Eo=Br.y):_l>0&&(ho+=Io*_l,Eo+=Jo*_l)),Io=gr.x-ho,Jo=gr.y-Eo,Qr?Io*Io+Jo*Jo:new po(ho,Eo)}function Rd(gr){return!Dr(gr[0])||typeof gr[0][0]!="object"&&typeof gr[0][0]<"u"}function Km(gr){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rd(gr)}function mp(gr,Rr){var Br,Qr,ho,Eo,Io,Jo,Ko,_l;if(!gr||gr.length===0)throw new Error("latlngs not passed");Rd(gr)||(console.warn("latlngs are not flat! Only the first ring will be used"),gr=gr[0]);var Nl=So([0,0]),tc=Po(gr),$c=tc.getNorthWest().distanceTo(tc.getSouthWest())*tc.getNorthEast().distanceTo(tc.getNorthWest());$c<1700&&(Nl=Bp(gr));var lh=gr.length,Tu=[];for(Br=0;Br<lh;Br++){var Lh=So(gr[Br]);Tu.push(Rr.project(So([Lh.lat-Nl.lat,Lh.lng-Nl.lng])))}for(Br=0,Qr=0;Br<lh-1;Br++)Qr+=Tu[Br].distanceTo(Tu[Br+1])/2;if(Qr===0)_l=Tu[0];else for(Br=0,Eo=0;Br<lh-1;Br++)if(Io=Tu[Br],Jo=Tu[Br+1],ho=Io.distanceTo(Jo),Eo+=ho,Eo>Qr){Ko=(Eo-Qr)/ho,_l=[Jo.x-Ko*(Jo.x-Io.x),Jo.y-Ko*(Jo.y-Io.y)];break}var fu=Rr.unproject(lo(_l));return So([fu.lat+Nl.lat,fu.lng+Nl.lng])}var Tg={__proto__:null,simplify:Fu,pointToSegmentDistance:wf,closestPointOnSegment:Xm,clipSegment:oy,_getEdgeIntersection:qm,_getBitCode:Ef,_sqClosestPointOnSegment:zp,isFlat:Rd,_flat:Km,polylineCenter:mp},Sf={project:function(gr){return new po(gr.lng,gr.lat)},unproject:function(gr){return new Oo(gr.y,gr.x)},bounds:new ao([-180,-90],[180,90])},Zm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ao([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(gr){var Rr=Math.PI/180,Br=this.R,Qr=gr.lat*Rr,ho=this.R_MINOR/Br,Eo=Math.sqrt(1-ho*ho),Io=Eo*Math.sin(Qr),Jo=Math.tan(Math.PI/4-Qr/2)/Math.pow((1-Io)/(1+Io),Eo/2);return Qr=-Br*Math.log(Math.max(Jo,1e-10)),new po(gr.lng*Rr*Br,Qr)},unproject:function(gr){for(var Rr=180/Math.PI,Br=this.R,Qr=this.R_MINOR/Br,ho=Math.sqrt(1-Qr*Qr),Eo=Math.exp(-gr.y/Br),Io=Math.PI/2-2*Math.atan(Eo),Jo=0,Ko=.1,_l;Jo<15&&Math.abs(Ko)>1e-7;Jo++)_l=ho*Math.sin(Io),_l=Math.pow((1-_l)/(1+_l),ho/2),Ko=Math.PI/2-2*Math.atan(Eo*_l)-Io,Io+=Ko;return new Oo(Io*Rr,gr.x*Rr/Br)}},Qm={__proto__:null,LonLat:Sf,Mercator:Zm,SphericalMercator:Go},Pg=ir({},zo,{code:"EPSG:3395",projection:Zm,transformation:(function(){var gr=.5/(Math.PI*Zm.R);return Vo(gr,.5,-gr,.5)})()}),fx=ir({},zo,{code:"EPSG:4326",projection:Sf,transformation:Vo(1/180,1,-1/180,.5)}),Hp=ir({},Ao,{projection:Sf,transformation:Vo(1,0,-1,0),scale:function(gr){return Math.pow(2,gr)},zoom:function(gr){return Math.log(gr)/Math.LN2},distance:function(gr,Rr){var Br=Rr.lng-gr.lng,Qr=Rr.lat-gr.lat;return Math.sqrt(Br*Br+Qr*Qr)},infinite:!0});Ao.Earth=zo,Ao.EPSG3395=Pg,Ao.EPSG3857=nl,Ao.EPSG900913=fl,Ao.EPSG4326=fx,Ao.Simple=Hp;var Gu=no.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(gr){return gr.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(gr){return gr&&gr.removeLayer(this),this},getPane:function(gr){return this._map.getPane(gr?this.options[gr]||gr:this.options.pane)},addInteractiveTarget:function(gr){return this._map._targets[or(gr)]=this,this},removeInteractiveTarget:function(gr){return delete this._map._targets[or(gr)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(gr){var Rr=gr.target;if(Rr.hasLayer(this)){if(this._map=Rr,this._zoomAnimated=Rr._zoomAnimated,this.getEvents){var Br=this.getEvents();Rr.on(Br,this),this.once("remove",function(){Rr.off(Br,this)},this)}this.onAdd(Rr),this.fire("add"),Rr.fire("layeradd",{layer:this})}}});Mc.include({addLayer:function(gr){if(!gr._layerAdd)throw new Error("The provided object is not a Layer.");var Rr=or(gr);return this._layers[Rr]?this:(this._layers[Rr]=gr,gr._mapToAdd=this,gr.beforeAdd&&gr.beforeAdd(this),this.whenReady(gr._layerAdd,gr),this)},removeLayer:function(gr){var Rr=or(gr);return this._layers[Rr]?(this._loaded&&gr.onRemove(this),delete this._layers[Rr],this._loaded&&(this.fire("layerremove",{layer:gr}),gr.fire("remove")),gr._map=gr._mapToAdd=null,this):this},hasLayer:function(gr){return or(gr)in this._layers},eachLayer:function(gr,Rr){for(var Br in this._layers)gr.call(Rr,this._layers[Br]);return this},_addLayers:function(gr){gr=gr?Dr(gr)?gr:[gr]:[];for(var Rr=0,Br=gr.length;Rr<Br;Rr++)this.addLayer(gr[Rr])},_addZoomLimit:function(gr){(!isNaN(gr.options.maxZoom)||!isNaN(gr.options.minZoom))&&(this._zoomBoundLayers[or(gr)]=gr,this._updateZoomLevels())},_removeZoomLimit:function(gr){var Rr=or(gr);this._zoomBoundLayers[Rr]&&(delete this._zoomBoundLayers[Rr],this._updateZoomLevels())},_updateZoomLevels:function(){var gr=1/0,Rr=-1/0,Br=this._getZoomSpan();for(var Qr in this._zoomBoundLayers){var ho=this._zoomBoundLayers[Qr].options;gr=ho.minZoom===void 0?gr:Math.min(gr,ho.minZoom),Rr=ho.maxZoom===void 0?Rr:Math.max(Rr,ho.maxZoom)}this._layersMaxZoom=Rr===-1/0?void 0:Rr,this._layersMinZoom=gr===1/0?void 0:gr,Br!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jf=Gu.extend({initialize:function(gr,Rr){yr(this,Rr),this._layers={};var Br,Qr;if(gr)for(Br=0,Qr=gr.length;Br<Qr;Br++)this.addLayer(gr[Br])},addLayer:function(gr){var Rr=this.getLayerId(gr);return this._layers[Rr]=gr,this._map&&this._map.addLayer(gr),this},removeLayer:function(gr){var Rr=gr in this._layers?gr:this.getLayerId(gr);return this._map&&this._layers[Rr]&&this._map.removeLayer(this._layers[Rr]),delete this._layers[Rr],this},hasLayer:function(gr){var Rr=typeof gr=="number"?gr:this.getLayerId(gr);return Rr in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(gr){var Rr=Array.prototype.slice.call(arguments,1),Br,Qr;for(Br in this._layers)Qr=this._layers[Br],Qr[gr]&&Qr[gr].apply(Qr,Rr);return this},onAdd:function(gr){this.eachLayer(gr.addLayer,gr)},onRemove:function(gr){this.eachLayer(gr.removeLayer,gr)},eachLayer:function(gr,Rr){for(var Br in this._layers)gr.call(Rr,this._layers[Br]);return this},getLayer:function(gr){return this._layers[gr]},getLayers:function(){var gr=[];return this.eachLayer(gr.push,gr),gr},setZIndex:function(gr){return this.invoke("setZIndex",gr)},getLayerId:function(gr){return or(gr)}}),gp=function(gr,Rr){return new jf(gr,Rr)},dd=jf.extend({addLayer:function(gr){return this.hasLayer(gr)?this:(gr.addEventParent(this),jf.prototype.addLayer.call(this,gr),this.fire("layeradd",{layer:gr}))},removeLayer:function(gr){return this.hasLayer(gr)?(gr in this._layers&&(gr=this._layers[gr]),gr.removeEventParent(this),jf.prototype.removeLayer.call(this,gr),this.fire("layerremove",{layer:gr})):this},setStyle:function(gr){return this.invoke("setStyle",gr)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var gr=new _o;for(var Rr in this._layers){var Br=this._layers[Rr];gr.extend(Br.getBounds?Br.getBounds():Br.getLatLng())}return gr}}),px=function(gr,Rr){return new dd(gr,Rr)},rf=io.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(gr){yr(this,gr)},createIcon:function(gr){return this._createIcon("icon",gr)},createShadow:function(gr){return this._createIcon("shadow",gr)},_createIcon:function(gr,Rr){var Br=this._getIconUrl(gr);if(!Br){if(gr==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Qr=this._createImg(Br,Rr&&Rr.tagName==="IMG"?Rr:null);return this._setIconStyles(Qr,gr),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Qr.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Qr},_setIconStyles:function(gr,Rr){var Br=this.options,Qr=Br[Rr+"Size"];typeof Qr=="number"&&(Qr=[Qr,Qr]);var ho=lo(Qr),Eo=lo(Rr==="shadow"&&Br.shadowAnchor||Br.iconAnchor||ho&&ho.divideBy(2,!0));gr.className="leaflet-marker-"+Rr+" "+(Br.className||""),Eo&&(gr.style.marginLeft=-Eo.x+"px",gr.style.marginTop=-Eo.y+"px"),ho&&(gr.style.width=ho.x+"px",gr.style.height=ho.y+"px")},_createImg:function(gr,Rr){return Rr=Rr||document.createElement("img"),Rr.src=gr,Rr},_getIconUrl:function(gr){return kl.retina&&this.options[gr+"RetinaUrl"]||this.options[gr+"Url"]}});function xp(gr){return new rf(gr)}var sf=rf.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(gr){return typeof sf.imagePath!="string"&&(sf.imagePath=this._detectIconPath()),(this.options.imagePath||sf.imagePath)+rf.prototype._getIconUrl.call(this,gr)},_stripUrl:function(gr){var Rr=function(Br,Qr,ho){var Eo=Qr.exec(Br);return Eo&&Eo[ho]};return gr=Rr(gr,/^url\((['"])?(.+)\1\)$/,2),gr&&Rr(gr,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var gr=Lc("div","leaflet-default-icon-path",document.body),Rr=Bf(gr,"background-image")||Bf(gr,"backgroundImage");if(document.body.removeChild(gr),Rr=this._stripUrl(Rr),Rr)return Rr;var Br=document.querySelector('link[href$="leaflet.css"]');return Br?Br.href.substring(0,Br.href.length-11-1):""}}),Jm=Wu.extend({initialize:function(gr){this._marker=gr},addHooks:function(){var gr=this._marker._icon;this._draggable||(this._draggable=new Gf(gr,gr,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yc(gr,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wu(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(gr){var Rr=this._marker,Br=Rr._map,Qr=this._marker.options.autoPanSpeed,ho=this._marker.options.autoPanPadding,Eo=jo(Rr._icon),Io=Br.getPixelBounds(),Jo=Br.getPixelOrigin(),Ko=xo(Io.min._subtract(Jo).add(ho),Io.max._subtract(Jo).subtract(ho));if(!Ko.contains(Eo)){var _l=lo((Math.max(Ko.max.x,Eo.x)-Ko.max.x)/(Io.max.x-Ko.max.x)-(Math.min(Ko.min.x,Eo.x)-Ko.min.x)/(Io.min.x-Ko.min.x),(Math.max(Ko.max.y,Eo.y)-Ko.max.y)/(Io.max.y-Ko.max.y)-(Math.min(Ko.min.y,Eo.y)-Ko.min.y)/(Io.min.y-Ko.min.y)).multiplyBy(Qr);Br.panBy(_l,{animate:!1}),this._draggable._newPos._add(_l),this._draggable._startPos._add(_l),Au(Rr._icon,this._draggable._newPos),this._onDrag(gr),this._panRequest=Hr(this._adjustPan.bind(this,gr))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(gr){this._marker.options.autoPan&&(Yr(this._panRequest),this._panRequest=Hr(this._adjustPan.bind(this,gr)))},_onDrag:function(gr){var Rr=this._marker,Br=Rr._shadow,Qr=jo(Rr._icon),ho=Rr._map.layerPointToLatLng(Qr);Br&&Au(Br,Qr),Rr._latlng=ho,gr.latlng=ho,gr.oldLatLng=this._oldLatLng,Rr.fire("move",gr).fire("drag",gr)},_onDragEnd:function(gr){Yr(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",gr)}}),af=Gu.extend({options:{icon:new sf,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(gr,Rr){yr(this,Rr),this._latlng=So(gr)},onAdd:function(gr){this._zoomAnimated=this._zoomAnimated&&gr.options.markerZoomAnimation,this._zoomAnimated&&gr.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(gr){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&gr.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(gr){var Rr=this._latlng;return this._latlng=So(gr),this.update(),this.fire("move",{oldLatLng:Rr,latlng:this._latlng})},setZIndexOffset:function(gr){return this.options.zIndexOffset=gr,this.update()},getIcon:function(){return this.options.icon},setIcon:function(gr){return this.options.icon=gr,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var gr=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(gr)}return this},_initIcon:function(){var gr=this.options,Rr="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Br=gr.icon.createIcon(this._icon),Qr=!1;Br!==this._icon&&(this._icon&&this._removeIcon(),Qr=!0,gr.title&&(Br.title=gr.title),Br.tagName==="IMG"&&(Br.alt=gr.alt||"")),yc(Br,Rr),gr.keyboard&&(Br.tabIndex="0",Br.setAttribute("role","button")),this._icon=Br,gr.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bc(Br,"focus",this._panOnFocus,this);var ho=gr.icon.createShadow(this._shadow),Eo=!1;ho!==this._shadow&&(this._removeShadow(),Eo=!0),ho&&(yc(ho,Rr),ho.alt=""),this._shadow=ho,gr.opacity<1&&this._updateOpacity(),Qr&&this.getPane().appendChild(this._icon),this._initInteraction(),ho&&Eo&&this.getPane(gr.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Du(this._icon,"focus",this._panOnFocus,this),Gc(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gc(this._shadow),this._shadow=null},_setPos:function(gr){this._icon&&Au(this._icon,gr),this._shadow&&Au(this._shadow,gr),this._zIndex=gr.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(gr){this._icon&&(this._icon.style.zIndex=this._zIndex+gr)},_animateZoom:function(gr){var Rr=this._map._latLngToNewLayerPoint(this._latlng,gr.zoom,gr.center).round();this._setPos(Rr)},_initInteraction:function(){if(this.options.interactive&&(yc(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jm)){var gr=this.options.draggable;this.dragging&&(gr=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jm(this),gr&&this.dragging.enable()}},setOpacity:function(gr){return this.options.opacity=gr,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var gr=this.options.opacity;this._icon&&Eu(this._icon,gr),this._shadow&&Eu(this._shadow,gr)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var gr=this._map;if(gr){var Rr=this.options.icon.options,Br=Rr.iconSize?lo(Rr.iconSize):lo(0,0),Qr=Rr.iconAnchor?lo(Rr.iconAnchor):lo(0,0);gr.panInside(this._latlng,{paddingTopLeft:Qr,paddingBottomRight:Br.subtract(Qr)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wp(gr,Rr){return new af(gr,Rr)}var Gh=Gu.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(gr){this._renderer=gr.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(gr){return yr(this,gr),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&gr&&Object.prototype.hasOwnProperty.call(gr,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rf=Gh.extend({options:{fill:!0,radius:10},initialize:function(gr,Rr){yr(this,Rr),this._latlng=So(gr),this._radius=this.options.radius},setLatLng:function(gr){var Rr=this._latlng;return this._latlng=So(gr),this.redraw(),this.fire("move",{oldLatLng:Rr,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(gr){return this.options.radius=this._radius=gr,this.redraw()},getRadius:function(){return this._radius},setStyle:function(gr){var Rr=gr&&gr.radius||this._radius;return Gh.prototype.setStyle.call(this,gr),this.setRadius(Rr),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var gr=this._radius,Rr=this._radiusY||gr,Br=this._clickTolerance(),Qr=[gr+Br,Rr+Br];this._pxBounds=new ao(this._point.subtract(Qr),this._point.add(Qr))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(gr){return gr.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dg(gr,Rr){return new Rf(gr,Rr)}var Gp=Rf.extend({initialize:function(gr,Rr,Br){if(typeof Rr=="number"&&(Rr=ir({},Br,{radius:Rr})),yr(this,Rr),this._latlng=So(gr),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(gr){return this._mRadius=gr,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var gr=[this._radius,this._radiusY||this._radius];return new _o(this._map.layerPointToLatLng(this._point.subtract(gr)),this._map.layerPointToLatLng(this._point.add(gr)))},setStyle:Gh.prototype.setStyle,_project:function(){var gr=this._latlng.lng,Rr=this._latlng.lat,Br=this._map,Qr=Br.options.crs;if(Qr.distance===zo.distance){var ho=Math.PI/180,Eo=this._mRadius/zo.R/ho,Io=Br.project([Rr+Eo,gr]),Jo=Br.project([Rr-Eo,gr]),Ko=Io.add(Jo).divideBy(2),_l=Br.unproject(Ko).lat,Nl=Math.acos((Math.cos(Eo*ho)-Math.sin(Rr*ho)*Math.sin(_l*ho))/(Math.cos(Rr*ho)*Math.cos(_l*ho)))/ho;(isNaN(Nl)||Nl===0)&&(Nl=Eo/Math.cos(Math.PI/180*Rr)),this._point=Ko.subtract(Br.getPixelOrigin()),this._radius=isNaN(Nl)?0:Ko.x-Br.project([_l,gr-Nl]).x,this._radiusY=Ko.y-Io.y}else{var tc=Qr.unproject(Qr.project(this._latlng).subtract([this._mRadius,0]));this._point=Br.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Br.latLngToLayerPoint(tc).x}this._updateBounds()}});function of(gr,Rr,Br){return new Gp(gr,Rr,Br)}var Fd=Gh.extend({options:{smoothFactor:1,noClip:!1},initialize:function(gr,Rr){yr(this,Rr),this._setLatLngs(gr)},getLatLngs:function(){return this._latlngs},setLatLngs:function(gr){return this._setLatLngs(gr),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(gr){for(var Rr=1/0,Br=null,Qr=zp,ho,Eo,Io=0,Jo=this._parts.length;Io<Jo;Io++)for(var Ko=this._parts[Io],_l=1,Nl=Ko.length;_l<Nl;_l++){ho=Ko[_l-1],Eo=Ko[_l];var tc=Qr(gr,ho,Eo,!0);tc<Rr&&(Rr=tc,Br=Qr(gr,ho,Eo))}return Br&&(Br.distance=Math.sqrt(Rr)),Br},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(gr,Rr){return Rr=Rr||this._defaultShape(),gr=So(gr),Rr.push(gr),this._bounds.extend(gr),this.redraw()},_setLatLngs:function(gr){this._bounds=new _o,this._latlngs=this._convertLatLngs(gr)},_defaultShape:function(){return Rd(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(gr){for(var Rr=[],Br=Rd(gr),Qr=0,ho=gr.length;Qr<ho;Qr++)Br?(Rr[Qr]=So(gr[Qr]),this._bounds.extend(Rr[Qr])):Rr[Qr]=this._convertLatLngs(gr[Qr]);return Rr},_project:function(){var gr=new ao;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,gr),this._bounds.isValid()&&gr.isValid()&&(this._rawPxBounds=gr,this._updateBounds())},_updateBounds:function(){var gr=this._clickTolerance(),Rr=new po(gr,gr);this._rawPxBounds&&(this._pxBounds=new ao([this._rawPxBounds.min.subtract(Rr),this._rawPxBounds.max.add(Rr)]))},_projectLatlngs:function(gr,Rr,Br){var Qr=gr[0]instanceof Oo,ho=gr.length,Eo,Io;if(Qr){for(Io=[],Eo=0;Eo<ho;Eo++)Io[Eo]=this._map.latLngToLayerPoint(gr[Eo]),Br.extend(Io[Eo]);Rr.push(Io)}else for(Eo=0;Eo<ho;Eo++)this._projectLatlngs(gr[Eo],Rr,Br)},_clipPoints:function(){var gr=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(gr))){if(this.options.noClip){this._parts=this._rings;return}var Rr=this._parts,Br,Qr,ho,Eo,Io,Jo,Ko;for(Br=0,ho=0,Eo=this._rings.length;Br<Eo;Br++)for(Ko=this._rings[Br],Qr=0,Io=Ko.length;Qr<Io-1;Qr++)Jo=oy(Ko[Qr],Ko[Qr+1],gr,Qr,!0),Jo&&(Rr[ho]=Rr[ho]||[],Rr[ho].push(Jo[0]),(Jo[1]!==Ko[Qr+1]||Qr===Io-2)&&(Rr[ho].push(Jo[1]),ho++))}},_simplifyPoints:function(){for(var gr=this._parts,Rr=this.options.smoothFactor,Br=0,Qr=gr.length;Br<Qr;Br++)gr[Br]=Fu(gr[Br],Rr)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(gr,Rr){var Br,Qr,ho,Eo,Io,Jo,Ko=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(gr))return!1;for(Br=0,Eo=this._parts.length;Br<Eo;Br++)for(Jo=this._parts[Br],Qr=0,Io=Jo.length,ho=Io-1;Qr<Io;ho=Qr++)if(!(!Rr&&Qr===0)&&wf(gr,Jo[ho],Jo[Qr])<=Ko)return!0;return!1}});function hv(gr,Rr){return new Fd(gr,Rr)}Fd._flat=Km;var vm=Fd.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(gr){var Rr=Fd.prototype._convertLatLngs.call(this,gr),Br=Rr.length;return Br>=2&&Rr[0]instanceof Oo&&Rr[0].equals(Rr[Br-1])&&Rr.pop(),Rr},_setLatLngs:function(gr){Fd.prototype._setLatLngs.call(this,gr),Rd(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rd(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var gr=this._renderer._bounds,Rr=this.options.weight,Br=new po(Rr,Rr);if(gr=new ao(gr.min.subtract(Br),gr.max.add(Br)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(gr))){if(this.options.noClip){this._parts=this._rings;return}for(var Qr=0,ho=this._rings.length,Eo;Qr<ho;Qr++)Eo=hx(this._rings[Qr],gr,!0),Eo.length&&this._parts.push(Eo)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(gr){var Rr=!1,Br,Qr,ho,Eo,Io,Jo,Ko,_l;if(!this._pxBounds||!this._pxBounds.contains(gr))return!1;for(Eo=0,Ko=this._parts.length;Eo<Ko;Eo++)for(Br=this._parts[Eo],Io=0,_l=Br.length,Jo=_l-1;Io<_l;Jo=Io++)Qr=Br[Io],ho=Br[Jo],Qr.y>gr.y!=ho.y>gr.y&&gr.x<(ho.x-Qr.x)*(gr.y-Qr.y)/(ho.y-Qr.y)+Qr.x&&(Rr=!Rr);return Rr||Fd.prototype._containsPoint.call(this,gr,!0)}});function Mg(gr,Rr){return new vm(gr,Rr)}var fd=dd.extend({initialize:function(gr,Rr){yr(this,Rr),this._layers={},gr&&this.addData(gr)},addData:function(gr){var Rr=Dr(gr)?gr:gr.features,Br,Qr,ho;if(Rr){for(Br=0,Qr=Rr.length;Br<Qr;Br++)ho=Rr[Br],(ho.geometries||ho.geometry||ho.features||ho.coordinates)&&this.addData(ho);return this}var Eo=this.options;if(Eo.filter&&!Eo.filter(gr))return this;var Io=zu(gr,Eo);return Io?(Io.feature=Bd(gr),Io.defaultOptions=Io.options,this.resetStyle(Io),Eo.onEachFeature&&Eo.onEachFeature(gr,Io),this.addLayer(Io)):this},resetStyle:function(gr){return gr===void 0?this.eachLayer(this.resetStyle,this):(gr.options=ir({},gr.defaultOptions),this._setLayerStyle(gr,this.options.style),this)},setStyle:function(gr){return this.eachLayer(function(Rr){this._setLayerStyle(Rr,gr)},this)},_setLayerStyle:function(gr,Rr){gr.setStyle&&(typeof Rr=="function"&&(Rr=Rr(gr.feature)),gr.setStyle(Rr))}});function zu(gr,Rr){var Br=gr.type==="Feature"?gr.geometry:gr,Qr=Br?Br.coordinates:null,ho=[],Eo=Rr&&Rr.pointToLayer,Io=Rr&&Rr.coordsToLatLng||lf,Jo,Ko,_l,Nl;if(!Qr&&!Br)return null;switch(Br.type){case"Point":return Jo=Io(Qr),Vp(Eo,gr,Jo,Rr);case"MultiPoint":for(_l=0,Nl=Qr.length;_l<Nl;_l++)Jo=Io(Qr[_l]),ho.push(Vp(Eo,gr,Jo,Rr));return new dd(ho);case"LineString":case"MultiLineString":return Ko=eg(Qr,Br.type==="LineString"?0:1,Io),new Fd(Ko,Rr);case"Polygon":case"MultiPolygon":return Ko=eg(Qr,Br.type==="Polygon"?1:2,Io),new vm(Ko,Rr);case"GeometryCollection":for(_l=0,Nl=Br.geometries.length;_l<Nl;_l++){var tc=zu({geometry:Br.geometries[_l],type:"Feature",properties:gr.properties},Rr);tc&&ho.push(tc)}return new dd(ho);case"FeatureCollection":for(_l=0,Nl=Br.features.length;_l<Nl;_l++){var $c=zu(Br.features[_l],Rr);$c&&ho.push($c)}return new dd(ho);default:throw new Error("Invalid GeoJSON object.")}}function Vp(gr,Rr,Br,Qr){return gr?gr(Rr,Br):new af(Br,Qr&&Qr.markersInheritOptions&&Qr)}function lf(gr){return new Oo(gr[1],gr[0],gr[2])}function eg(gr,Rr,Br){for(var Qr=[],ho=0,Eo=gr.length,Io;ho<Eo;ho++)Io=Rr?eg(gr[ho],Rr-1,Br):(Br||lf)(gr[ho]),Qr.push(Io);return Qr}function tg(gr,Rr){return gr=So(gr),gr.alt!==void 0?[dr(gr.lng,Rr),dr(gr.lat,Rr),dr(gr.alt,Rr)]:[dr(gr.lng,Rr),dr(gr.lat,Rr)]}function ng(gr,Rr,Br,Qr){for(var ho=[],Eo=0,Io=gr.length;Eo<Io;Eo++)ho.push(Rr?ng(gr[Eo],Rd(gr[Eo])?0:Rr-1,Br,Qr):tg(gr[Eo],Qr));return!Rr&&Br&&ho.length>0&&ho.push(ho[0].slice()),ho}function yp(gr,Rr){return gr.feature?ir({},gr.feature,{geometry:Rr}):Bd(Rr)}function Bd(gr){return gr.type==="Feature"||gr.type==="FeatureCollection"?gr:{type:"Feature",properties:{},geometry:gr}}var Zo={toGeoJSON:function(gr){return yp(this,{type:"Point",coordinates:tg(this.getLatLng(),gr)})}};af.include(Zo),Gp.include(Zo),Rf.include(Zo),Fd.include({toGeoJSON:function(gr){var Rr=!Rd(this._latlngs),Br=ng(this._latlngs,Rr?1:0,!1,gr);return yp(this,{type:(Rr?"Multi":"")+"LineString",coordinates:Br})}}),vm.include({toGeoJSON:function(gr){var Rr=!Rd(this._latlngs),Br=Rr&&!Rd(this._latlngs[0]),Qr=ng(this._latlngs,Br?2:Rr?1:0,!0,gr);return Rr||(Qr=[Qr]),yp(this,{type:(Br?"Multi":"")+"Polygon",coordinates:Qr})}}),jf.include({toMultiPoint:function(gr){var Rr=[];return this.eachLayer(function(Br){Rr.push(Br.toGeoJSON(gr).geometry.coordinates)}),yp(this,{type:"MultiPoint",coordinates:Rr})},toGeoJSON:function(gr){var Rr=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Rr==="MultiPoint")return this.toMultiPoint(gr);var Br=Rr==="GeometryCollection",Qr=[];return this.eachLayer(function(ho){if(ho.toGeoJSON){var Eo=ho.toGeoJSON(gr);if(Br)Qr.push(Eo.geometry);else{var Io=Bd(Eo);Io.type==="FeatureCollection"?Qr.push.apply(Qr,Io.features):Qr.push(Io)}}}),Br?yp(this,{geometries:Qr,type:"GeometryCollection"}):{type:"FeatureCollection",features:Qr}}});function vl(gr,Rr){return new fd(gr,Rr)}var ul=vl,Wl=Gu.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(gr,Rr,Br){this._url=gr,this._bounds=Po(Rr),yr(this,Br)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yc(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gc(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(gr){return this.options.opacity=gr,this._image&&this._updateOpacity(),this},setStyle:function(gr){return gr.opacity&&this.setOpacity(gr.opacity),this},bringToFront:function(){return this._map&&ph(this._image),this},bringToBack:function(){return this._map&&Sd(this._image),this},setUrl:function(gr){return this._url=gr,this._image&&(this._image.src=gr),this},setBounds:function(gr){return this._bounds=Po(gr),this._map&&this._reset(),this},getEvents:function(){var gr={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(gr.zoomanim=this._animateZoom),gr},setZIndex:function(gr){return this.options.zIndex=gr,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var gr=this._url.tagName==="IMG",Rr=this._image=gr?this._url:Lc("img");if(yc(Rr,"leaflet-image-layer"),this._zoomAnimated&&yc(Rr,"leaflet-zoom-animated"),this.options.className&&yc(Rr,this.options.className),Rr.onselectstart=ur,Rr.onmousemove=ur,Rr.onload=sr(this.fire,this,"load"),Rr.onerror=sr(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Rr.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),gr){this._url=Rr.src;return}Rr.src=this._url,Rr.alt=this.options.alt},_animateZoom:function(gr){var Rr=this._map.getZoomScale(gr.zoom),Br=this._map._latLngBoundsToNewLayerBounds(this._bounds,gr.zoom,gr.center).min;ud(this._image,Br,Rr)},_reset:function(){var gr=this._image,Rr=new ao(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Br=Rr.getSize();Au(gr,Rr.min),gr.style.width=Br.x+"px",gr.style.height=Br.y+"px"},_updateOpacity:function(){Eu(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var gr=this.options.errorOverlayUrl;gr&&this._url!==gr&&(this._url=gr,this._image.src=gr)},getCenter:function(){return this._bounds.getCenter()}}),dc=function(gr,Rr,Br){return new Wl(gr,Rr,Br)},Rc=Wl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var gr=this._url.tagName==="VIDEO",Rr=this._image=gr?this._url:Lc("video");if(yc(Rr,"leaflet-image-layer"),this._zoomAnimated&&yc(Rr,"leaflet-zoom-animated"),this.options.className&&yc(Rr,this.options.className),Rr.onselectstart=ur,Rr.onmousemove=ur,Rr.onloadeddata=sr(this.fire,this,"load"),gr){for(var Br=Rr.getElementsByTagName("source"),Qr=[],ho=0;ho<Br.length;ho++)Qr.push(Br[ho].src);this._url=Br.length>0?Qr:[Rr.src];return}Dr(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Rr.style,"objectFit")&&(Rr.style.objectFit="fill"),Rr.autoplay=!!this.options.autoplay,Rr.loop=!!this.options.loop,Rr.muted=!!this.options.muted,Rr.playsInline=!!this.options.playsInline;for(var Eo=0;Eo<this._url.length;Eo++){var Io=Lc("source");Io.src=this._url[Eo],Rr.appendChild(Io)}}});function Ju(gr,Rr,Br){return new Rc(gr,Rr,Br)}var Su=Wl.extend({_initImage:function(){var gr=this._image=this._url;yc(gr,"leaflet-image-layer"),this._zoomAnimated&&yc(gr,"leaflet-zoom-animated"),this.options.className&&yc(gr,this.options.className),gr.onselectstart=ur,gr.onmousemove=ur}});function Ng(gr,Rr,Br){return new Su(gr,Rr,Br)}var Vh=Gu.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(gr,Rr){gr&&(gr instanceof Oo||Dr(gr))?(this._latlng=So(gr),yr(this,Rr)):(yr(this,gr),this._source=Rr),this.options.content&&(this._content=this.options.content)},openOn:function(gr){return gr=arguments.length?gr:this._source._map,gr.hasLayer(this)||gr.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(gr){return this._map?this.close():(arguments.length?this._source=gr:gr=this._source,this._prepareOpen(),this.openOn(gr._map)),this},onAdd:function(gr){this._zoomAnimated=gr._zoomAnimated,this._container||this._initLayout(),gr._fadeAnimated&&Eu(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),gr._fadeAnimated&&Eu(this._container,1),this.bringToFront(),this.options.interactive&&(yc(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(gr){gr._fadeAnimated?(Eu(this._container,0),this._removeTimeout=setTimeout(sr(Gc,void 0,this._container),200)):Gc(this._container),this.options.interactive&&(wu(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(gr){return this._latlng=So(gr),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(gr){return this._content=gr,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var gr={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(gr.zoomanim=this._animateZoom),gr},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ph(this._container),this},bringToBack:function(){return this._map&&Sd(this._container),this},_prepareOpen:function(gr){var Rr=this._source;if(!Rr._map)return!1;if(Rr instanceof dd){Rr=null;var Br=this._source._layers;for(var Qr in Br)if(Br[Qr]._map){Rr=Br[Qr];break}if(!Rr)return!1;this._source=Rr}if(!gr)if(Rr.getCenter)gr=Rr.getCenter();else if(Rr.getLatLng)gr=Rr.getLatLng();else if(Rr.getBounds)gr=Rr.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(gr),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var gr=this._contentNode,Rr=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Rr=="string")gr.innerHTML=Rr;else{for(;gr.hasChildNodes();)gr.removeChild(gr.firstChild);gr.appendChild(Rr)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var gr=this._map.latLngToLayerPoint(this._latlng),Rr=lo(this.options.offset),Br=this._getAnchor();this._zoomAnimated?Au(this._container,gr.add(Br)):Rr=Rr.add(gr).add(Br);var Qr=this._containerBottom=-Rr.y,ho=this._containerLeft=-Math.round(this._containerWidth/2)+Rr.x;this._container.style.bottom=Qr+"px",this._container.style.left=ho+"px"}},_getAnchor:function(){return[0,0]}});Mc.include({_initOverlay:function(gr,Rr,Br,Qr){var ho=Rr;return ho instanceof gr||(ho=new gr(Qr).setContent(Rr)),Br&&ho.setLatLng(Br),ho}}),Gu.include({_initOverlay:function(gr,Rr,Br,Qr){var ho=Br;return ho instanceof gr?(yr(ho,Qr),ho._source=this):(ho=Rr&&!Qr?Rr:new gr(Qr,this),ho.setContent(Br)),ho}});var Uh=Vh.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(gr){return gr=arguments.length?gr:this._source._map,!gr.hasLayer(this)&&gr._popup&&gr._popup.options.autoClose&&gr.removeLayer(gr._popup),gr._popup=this,Vh.prototype.openOn.call(this,gr)},onAdd:function(gr){Vh.prototype.onAdd.call(this,gr),gr.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gh||this._source.on("preclick",_h))},onRemove:function(gr){Vh.prototype.onRemove.call(this,gr),gr.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gh||this._source.off("preclick",_h))},getEvents:function(){var gr=Vh.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(gr.preclick=this.close),this.options.keepInView&&(gr.moveend=this._adjustPan),gr},_initLayout:function(){var gr="leaflet-popup",Rr=this._container=Lc("div",gr+" "+(this.options.className||"")+" leaflet-zoom-animated"),Br=this._wrapper=Lc("div",gr+"-content-wrapper",Rr);if(this._contentNode=Lc("div",gr+"-content",Br),tf(Rr),bf(this._contentNode),bc(Rr,"contextmenu",_h),this._tipContainer=Lc("div",gr+"-tip-container",Rr),this._tip=Lc("div",gr+"-tip",this._tipContainer),this.options.closeButton){var Qr=this._closeButton=Lc("a",gr+"-close-button",Rr);Qr.setAttribute("role","button"),Qr.setAttribute("aria-label","Close popup"),Qr.href="#close",Qr.innerHTML='<span aria-hidden="true">&#215;</span>',bc(Qr,"click",function(ho){Ec(ho),this.close()},this)}},_updateLayout:function(){var gr=this._contentNode,Rr=gr.style;Rr.width="",Rr.whiteSpace="nowrap";var Br=gr.offsetWidth;Br=Math.min(Br,this.options.maxWidth),Br=Math.max(Br,this.options.minWidth),Rr.width=Br+1+"px",Rr.whiteSpace="",Rr.height="";var Qr=gr.offsetHeight,ho=this.options.maxHeight,Eo="leaflet-popup-scrolled";ho&&Qr>ho?(Rr.height=ho+"px",yc(gr,Eo)):wu(gr,Eo),this._containerWidth=this._container.offsetWidth},_animateZoom:function(gr){var Rr=this._map._latLngToNewLayerPoint(this._latlng,gr.zoom,gr.center),Br=this._getAnchor();Au(this._container,Rr.add(Br))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var gr=this._map,Rr=parseInt(Bf(this._container,"marginBottom"),10)||0,Br=this._container.offsetHeight+Rr,Qr=this._containerWidth,ho=new po(this._containerLeft,-Br-this._containerBottom);ho._add(jo(this._container));var Eo=gr.layerPointToContainerPoint(ho),Io=lo(this.options.autoPanPadding),Jo=lo(this.options.autoPanPaddingTopLeft||Io),Ko=lo(this.options.autoPanPaddingBottomRight||Io),_l=gr.getSize(),Nl=0,tc=0;Eo.x+Qr+Ko.x>_l.x&&(Nl=Eo.x+Qr-_l.x+Ko.x),Eo.x-Nl-Jo.x<0&&(Nl=Eo.x-Jo.x),Eo.y+Br+Ko.y>_l.y&&(tc=Eo.y+Br-_l.y+Ko.y),Eo.y-tc-Jo.y<0&&(tc=Eo.y-Jo.y),(Nl||tc)&&(this.options.keepInView&&(this._autopanning=!0),gr.fire("autopanstart").panBy([Nl,tc]))}},_getAnchor:function(){return lo(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vp=function(gr,Rr){return new Uh(gr,Rr)};Mc.mergeOptions({closePopupOnClick:!0}),Mc.include({openPopup:function(gr,Rr,Br){return this._initOverlay(Uh,gr,Rr,Br).openOn(this),this},closePopup:function(gr){return gr=arguments.length?gr:this._popup,gr&&gr.close(),this}}),Gu.include({bindPopup:function(gr,Rr){return this._popup=this._initOverlay(Uh,this._popup,gr,Rr),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(gr){return this._popup&&(this instanceof dd||(this._popup._source=this),this._popup._prepareOpen(gr||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(gr){return this._popup&&this._popup.setContent(gr),this},getPopup:function(){return this._popup},_openPopup:function(gr){if(!(!this._popup||!this._map)){nu(gr);var Rr=gr.layer||gr.target;if(this._popup._source===Rr&&!(Rr instanceof Gh)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(gr.latlng);return}this._popup._source=Rr,this.openPopup(gr.latlng)}},_movePopup:function(gr){this._popup.setLatLng(gr.latlng)},_onKeyPress:function(gr){gr.originalEvent.keyCode===13&&this._openPopup(gr)}});var Up=Vh.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(gr){Vh.prototype.onAdd.call(this,gr),this.setOpacity(this.options.opacity),gr.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(gr){Vh.prototype.onRemove.call(this,gr),gr.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var gr=Vh.prototype.getEvents.call(this);return this.options.permanent||(gr.preclick=this.close),gr},_initLayout:function(){var gr="leaflet-tooltip",Rr=gr+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lc("div",Rr),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+or(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(gr){var Rr,Br,Qr=this._map,ho=this._container,Eo=Qr.latLngToContainerPoint(Qr.getCenter()),Io=Qr.layerPointToContainerPoint(gr),Jo=this.options.direction,Ko=ho.offsetWidth,_l=ho.offsetHeight,Nl=lo(this.options.offset),tc=this._getAnchor();Jo==="top"?(Rr=Ko/2,Br=_l):Jo==="bottom"?(Rr=Ko/2,Br=0):Jo==="center"?(Rr=Ko/2,Br=_l/2):Jo==="right"?(Rr=0,Br=_l/2):Jo==="left"?(Rr=Ko,Br=_l/2):Io.x<Eo.x?(Jo="right",Rr=0,Br=_l/2):(Jo="left",Rr=Ko+(Nl.x+tc.x)*2,Br=_l/2),gr=gr.subtract(lo(Rr,Br,!0)).add(Nl).add(tc),wu(ho,"leaflet-tooltip-right"),wu(ho,"leaflet-tooltip-left"),wu(ho,"leaflet-tooltip-top"),wu(ho,"leaflet-tooltip-bottom"),yc(ho,"leaflet-tooltip-"+Jo),Au(ho,gr)},_updatePosition:function(){var gr=this._map.latLngToLayerPoint(this._latlng);this._setPosition(gr)},setOpacity:function(gr){this.options.opacity=gr,this._container&&Eu(this._container,gr)},_animateZoom:function(gr){var Rr=this._map._latLngToNewLayerPoint(this._latlng,gr.zoom,gr.center);this._setPosition(Rr)},_getAnchor:function(){return lo(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bm=function(gr,Rr){return new Up(gr,Rr)};Mc.include({openTooltip:function(gr,Rr,Br){return this._initOverlay(Up,gr,Rr,Br).openOn(this),this},closeTooltip:function(gr){return gr.close(),this}}),Gu.include({bindTooltip:function(gr,Rr){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Up,this._tooltip,gr,Rr),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(gr){if(!(!gr&&this._tooltipHandlersAdded)){var Rr=gr?"off":"on",Br={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Br.add=this._openTooltip:(Br.mouseover=this._openTooltip,Br.mouseout=this.closeTooltip,Br.click=this._openTooltip,this._map?this._addFocusListeners():Br.add=this._addFocusListeners),this._tooltip.options.sticky&&(Br.mousemove=this._moveTooltip),this[Rr](Br),this._tooltipHandlersAdded=!gr}},openTooltip:function(gr){return this._tooltip&&(this instanceof dd||(this._tooltip._source=this),this._tooltip._prepareOpen(gr)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(gr){return this._tooltip&&this._tooltip.setContent(gr),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(gr){var Rr=typeof gr.getElement=="function"&&gr.getElement();Rr&&(bc(Rr,"focus",function(){this._tooltip._source=gr,this.openTooltip()},this),bc(Rr,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(gr){var Rr=typeof gr.getElement=="function"&&gr.getElement();Rr&&Rr.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(gr){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var Rr=this;this._map.once("moveend",function(){Rr._openOnceFlag=!1,Rr._openTooltip(gr)});return}this._tooltip._source=gr.layer||gr.target,this.openTooltip(this._tooltip.options.sticky?gr.latlng:void 0)}},_moveTooltip:function(gr){var Rr=gr.latlng,Br,Qr;this._tooltip.options.sticky&&gr.originalEvent&&(Br=this._map.mouseEventToContainerPoint(gr.originalEvent),Qr=this._map.containerPointToLayerPoint(Br),Rr=this._map.layerPointToLatLng(Qr)),this._tooltip.setLatLng(Rr)}});var bp=rf.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(gr){var Rr=gr&&gr.tagName==="DIV"?gr:document.createElement("div"),Br=this.options;if(Br.html instanceof Element?(Th(Rr),Rr.appendChild(Br.html)):Rr.innerHTML=Br.html!==!1?Br.html:"",Br.bgPos){var Qr=lo(Br.bgPos);Rr.style.backgroundPosition=-Qr.x+"px "+-Qr.y+"px"}return this._setIconStyles(Rr,"icon"),Rr},createShadow:function(){return null}});function _m(gr){return new bp(gr)}rf.Default=sf;var su=Gu.extend({options:{tileSize:256,opacity:1,updateWhenIdle:kl.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(gr){yr(this,gr)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(gr){gr._addZoomLimit(this)},onRemove:function(gr){this._removeAllTiles(),Gc(this._container),gr._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ph(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sd(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(gr){return this.options.opacity=gr,this._updateOpacity(),this},setZIndex:function(gr){return this.options.zIndex=gr,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var gr=this._clampZoom(this._map.getZoom());gr!==this._tileZoom&&(this._tileZoom=gr,this._updateLevels()),this._update()}return this},getEvents:function(){var gr={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=lr(this._onMoveEnd,this.options.updateInterval,this)),gr.move=this._onMove),this._zoomAnimated&&(gr.zoomanim=this._animateZoom),gr},createTile:function(){return document.createElement("div")},getTileSize:function(){var gr=this.options.tileSize;return gr instanceof po?gr:new po(gr,gr)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(gr){for(var Rr=this.getPane().children,Br=-gr(-1/0,1/0),Qr=0,ho=Rr.length,Eo;Qr<ho;Qr++)Eo=Rr[Qr].style.zIndex,Rr[Qr]!==this._container&&Eo&&(Br=gr(Br,+Eo));isFinite(Br)&&(this.options.zIndex=Br+gr(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!kl.ielt9){Eu(this._container,this.options.opacity);var gr=+new Date,Rr=!1,Br=!1;for(var Qr in this._tiles){var ho=this._tiles[Qr];if(!(!ho.current||!ho.loaded)){var Eo=Math.min(1,(gr-ho.loaded)/200);Eu(ho.el,Eo),Eo<1?Rr=!0:(ho.active?Br=!0:this._onOpaqueTile(ho),ho.active=!0)}}Br&&!this._noPrune&&this._pruneTiles(),Rr&&(Yr(this._fadeFrame),this._fadeFrame=Hr(this._updateOpacity,this))}},_onOpaqueTile:ur,_initContainer:function(){this._container||(this._container=Lc("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var gr=this._tileZoom,Rr=this.options.maxZoom;if(gr!==void 0){for(var Br in this._levels)Br=Number(Br),this._levels[Br].el.children.length||Br===gr?(this._levels[Br].el.style.zIndex=Rr-Math.abs(gr-Br),this._onUpdateLevel(Br)):(Gc(this._levels[Br].el),this._removeTilesAtZoom(Br),this._onRemoveLevel(Br),delete this._levels[Br]);var Qr=this._levels[gr],ho=this._map;return Qr||(Qr=this._levels[gr]={},Qr.el=Lc("div","leaflet-tile-container leaflet-zoom-animated",this._container),Qr.el.style.zIndex=Rr,Qr.origin=ho.project(ho.unproject(ho.getPixelOrigin()),gr).round(),Qr.zoom=gr,this._setZoomTransform(Qr,ho.getCenter(),ho.getZoom()),ur(Qr.el.offsetWidth),this._onCreateLevel(Qr)),this._level=Qr,Qr}},_onUpdateLevel:ur,_onRemoveLevel:ur,_onCreateLevel:ur,_pruneTiles:function(){if(this._map){var gr,Rr,Br=this._map.getZoom();if(Br>this.options.maxZoom||Br<this.options.minZoom){this._removeAllTiles();return}for(gr in this._tiles)Rr=this._tiles[gr],Rr.retain=Rr.current;for(gr in this._tiles)if(Rr=this._tiles[gr],Rr.current&&!Rr.active){var Qr=Rr.coords;this._retainParent(Qr.x,Qr.y,Qr.z,Qr.z-5)||this._retainChildren(Qr.x,Qr.y,Qr.z,Qr.z+2)}for(gr in this._tiles)this._tiles[gr].retain||this._removeTile(gr)}},_removeTilesAtZoom:function(gr){for(var Rr in this._tiles)this._tiles[Rr].coords.z===gr&&this._removeTile(Rr)},_removeAllTiles:function(){for(var gr in this._tiles)this._removeTile(gr)},_invalidateAll:function(){for(var gr in this._levels)Gc(this._levels[gr].el),this._onRemoveLevel(Number(gr)),delete this._levels[gr];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(gr,Rr,Br,Qr){var ho=Math.floor(gr/2),Eo=Math.floor(Rr/2),Io=Br-1,Jo=new po(+ho,+Eo);Jo.z=+Io;var Ko=this._tileCoordsToKey(Jo),_l=this._tiles[Ko];return _l&&_l.active?(_l.retain=!0,!0):(_l&&_l.loaded&&(_l.retain=!0),Io>Qr?this._retainParent(ho,Eo,Io,Qr):!1)},_retainChildren:function(gr,Rr,Br,Qr){for(var ho=2*gr;ho<2*gr+2;ho++)for(var Eo=2*Rr;Eo<2*Rr+2;Eo++){var Io=new po(ho,Eo);Io.z=Br+1;var Jo=this._tileCoordsToKey(Io),Ko=this._tiles[Jo];if(Ko&&Ko.active){Ko.retain=!0;continue}else Ko&&Ko.loaded&&(Ko.retain=!0);Br+1<Qr&&this._retainChildren(ho,Eo,Br+1,Qr)}},_resetView:function(gr){var Rr=gr&&(gr.pinch||gr.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Rr,Rr)},_animateZoom:function(gr){this._setView(gr.center,gr.zoom,!0,gr.noUpdate)},_clampZoom:function(gr){var Rr=this.options;return Rr.minNativeZoom!==void 0&&gr<Rr.minNativeZoom?Rr.minNativeZoom:Rr.maxNativeZoom!==void 0&&Rr.maxNativeZoom<gr?Rr.maxNativeZoom:gr},_setView:function(gr,Rr,Br,Qr){var ho=Math.round(Rr);this.options.maxZoom!==void 0&&ho>this.options.maxZoom||this.options.minZoom!==void 0&&ho<this.options.minZoom?ho=void 0:ho=this._clampZoom(ho);var Eo=this.options.updateWhenZooming&&ho!==this._tileZoom;(!Qr||Eo)&&(this._tileZoom=ho,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ho!==void 0&&this._update(gr),Br||this._pruneTiles(),this._noPrune=!!Br),this._setZoomTransforms(gr,Rr)},_setZoomTransforms:function(gr,Rr){for(var Br in this._levels)this._setZoomTransform(this._levels[Br],gr,Rr)},_setZoomTransform:function(gr,Rr,Br){var Qr=this._map.getZoomScale(Br,gr.zoom),ho=gr.origin.multiplyBy(Qr).subtract(this._map._getNewPixelOrigin(Rr,Br)).round();kl.any3d?ud(gr.el,ho,Qr):Au(gr.el,ho)},_resetGrid:function(){var gr=this._map,Rr=gr.options.crs,Br=this._tileSize=this.getTileSize(),Qr=this._tileZoom,ho=this._map.getPixelWorldBounds(this._tileZoom);ho&&(this._globalTileRange=this._pxBoundsToTileRange(ho)),this._wrapX=Rr.wrapLng&&!this.options.noWrap&&[Math.floor(gr.project([0,Rr.wrapLng[0]],Qr).x/Br.x),Math.ceil(gr.project([0,Rr.wrapLng[1]],Qr).x/Br.y)],this._wrapY=Rr.wrapLat&&!this.options.noWrap&&[Math.floor(gr.project([Rr.wrapLat[0],0],Qr).y/Br.x),Math.ceil(gr.project([Rr.wrapLat[1],0],Qr).y/Br.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(gr){var Rr=this._map,Br=Rr._animatingZoom?Math.max(Rr._animateToZoom,Rr.getZoom()):Rr.getZoom(),Qr=Rr.getZoomScale(Br,this._tileZoom),ho=Rr.project(gr,this._tileZoom).floor(),Eo=Rr.getSize().divideBy(Qr*2);return new ao(ho.subtract(Eo),ho.add(Eo))},_update:function(gr){var Rr=this._map;if(Rr){var Br=this._clampZoom(Rr.getZoom());if(gr===void 0&&(gr=Rr.getCenter()),this._tileZoom!==void 0){var Qr=this._getTiledPixelBounds(gr),ho=this._pxBoundsToTileRange(Qr),Eo=ho.getCenter(),Io=[],Jo=this.options.keepBuffer,Ko=new ao(ho.getBottomLeft().subtract([Jo,-Jo]),ho.getTopRight().add([Jo,-Jo]));if(!(isFinite(ho.min.x)&&isFinite(ho.min.y)&&isFinite(ho.max.x)&&isFinite(ho.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _l in this._tiles){var Nl=this._tiles[_l].coords;(Nl.z!==this._tileZoom||!Ko.contains(new po(Nl.x,Nl.y)))&&(this._tiles[_l].current=!1)}if(Math.abs(Br-this._tileZoom)>1){this._setView(gr,Br);return}for(var tc=ho.min.y;tc<=ho.max.y;tc++)for(var $c=ho.min.x;$c<=ho.max.x;$c++){var lh=new po($c,tc);if(lh.z=this._tileZoom,!!this._isValidTile(lh)){var Tu=this._tiles[this._tileCoordsToKey(lh)];Tu?Tu.current=!0:Io.push(lh)}}if(Io.sort(function(fu,iu){return fu.distanceTo(Eo)-iu.distanceTo(Eo)}),Io.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Lh=document.createDocumentFragment();for($c=0;$c<Io.length;$c++)this._addTile(Io[$c],Lh);this._level.el.appendChild(Lh)}}}},_isValidTile:function(gr){var Rr=this._map.options.crs;if(!Rr.infinite){var Br=this._globalTileRange;if(!Rr.wrapLng&&(gr.x<Br.min.x||gr.x>Br.max.x)||!Rr.wrapLat&&(gr.y<Br.min.y||gr.y>Br.max.y))return!1}if(!this.options.bounds)return!0;var Qr=this._tileCoordsToBounds(gr);return Po(this.options.bounds).overlaps(Qr)},_keyToBounds:function(gr){return this._tileCoordsToBounds(this._keyToTileCoords(gr))},_tileCoordsToNwSe:function(gr){var Rr=this._map,Br=this.getTileSize(),Qr=gr.scaleBy(Br),ho=Qr.add(Br),Eo=Rr.unproject(Qr,gr.z),Io=Rr.unproject(ho,gr.z);return[Eo,Io]},_tileCoordsToBounds:function(gr){var Rr=this._tileCoordsToNwSe(gr),Br=new _o(Rr[0],Rr[1]);return this.options.noWrap||(Br=this._map.wrapLatLngBounds(Br)),Br},_tileCoordsToKey:function(gr){return gr.x+":"+gr.y+":"+gr.z},_keyToTileCoords:function(gr){var Rr=gr.split(":"),Br=new po(+Rr[0],+Rr[1]);return Br.z=+Rr[2],Br},_removeTile:function(gr){var Rr=this._tiles[gr];Rr&&(Gc(Rr.el),delete this._tiles[gr],this.fire("tileunload",{tile:Rr.el,coords:this._keyToTileCoords(gr)}))},_initTile:function(gr){yc(gr,"leaflet-tile");var Rr=this.getTileSize();gr.style.width=Rr.x+"px",gr.style.height=Rr.y+"px",gr.onselectstart=ur,gr.onmousemove=ur,kl.ielt9&&this.options.opacity<1&&Eu(gr,this.options.opacity)},_addTile:function(gr,Rr){var Br=this._getTilePos(gr),Qr=this._tileCoordsToKey(gr),ho=this.createTile(this._wrapCoords(gr),sr(this._tileReady,this,gr));this._initTile(ho),this.createTile.length<2&&Hr(sr(this._tileReady,this,gr,null,ho)),Au(ho,Br),this._tiles[Qr]={el:ho,coords:gr,current:!0},Rr.appendChild(ho),this.fire("tileloadstart",{tile:ho,coords:gr})},_tileReady:function(gr,Rr,Br){Rr&&this.fire("tileerror",{error:Rr,tile:Br,coords:gr});var Qr=this._tileCoordsToKey(gr);Br=this._tiles[Qr],Br&&(Br.loaded=+new Date,this._map._fadeAnimated?(Eu(Br.el,0),Yr(this._fadeFrame),this._fadeFrame=Hr(this._updateOpacity,this)):(Br.active=!0,this._pruneTiles()),Rr||(yc(Br.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Br.el,coords:gr})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),kl.ielt9||!this._map._fadeAnimated?Hr(this._pruneTiles,this):setTimeout(sr(this._pruneTiles,this),250)))},_getTilePos:function(gr){return gr.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(gr){var Rr=new po(this._wrapX?cr(gr.x,this._wrapX):gr.x,this._wrapY?cr(gr.y,this._wrapY):gr.y);return Rr.z=gr.z,Rr},_pxBoundsToTileRange:function(gr){var Rr=this.getTileSize();return new ao(gr.min.unscaleBy(Rr).floor(),gr.max.unscaleBy(Rr).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var gr in this._tiles)if(!this._tiles[gr].loaded)return!1;return!0}});function mx(gr){return new su(gr)}var Cd=su.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(gr,Rr){this._url=gr,Rr=yr(this,Rr),Rr.detectRetina&&kl.retina&&Rr.maxZoom>0?(Rr.tileSize=Math.floor(Rr.tileSize/2),Rr.zoomReverse?(Rr.zoomOffset--,Rr.minZoom=Math.min(Rr.maxZoom,Rr.minZoom+1)):(Rr.zoomOffset++,Rr.maxZoom=Math.max(Rr.minZoom,Rr.maxZoom-1)),Rr.minZoom=Math.max(0,Rr.minZoom)):Rr.zoomReverse?Rr.minZoom=Math.min(Rr.maxZoom,Rr.minZoom):Rr.maxZoom=Math.max(Rr.minZoom,Rr.maxZoom),typeof Rr.subdomains=="string"&&(Rr.subdomains=Rr.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(gr,Rr){return this._url===gr&&Rr===void 0&&(Rr=!0),this._url=gr,Rr||this.redraw(),this},createTile:function(gr,Rr){var Br=document.createElement("img");return bc(Br,"load",sr(this._tileOnLoad,this,Rr,Br)),bc(Br,"error",sr(this._tileOnError,this,Rr,Br)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Br.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Br.referrerPolicy=this.options.referrerPolicy),Br.alt="",Br.src=this.getTileUrl(gr),Br},getTileUrl:function(gr){var Rr={r:kl.retina?"@2x":"",s:this._getSubdomain(gr),x:gr.x,y:gr.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Br=this._globalTileRange.max.y-gr.y;this.options.tms&&(Rr.y=Br),Rr["-y"]=Br}return jr(this._url,ir(Rr,this.options))},_tileOnLoad:function(gr,Rr){kl.ielt9?setTimeout(sr(gr,this,null,Rr),0):gr(null,Rr)},_tileOnError:function(gr,Rr,Br){var Qr=this.options.errorTileUrl;Qr&&Rr.getAttribute("src")!==Qr&&(Rr.src=Qr),gr(Br,Rr)},_onTileRemove:function(gr){gr.tile.onload=null},_getZoomForUrl:function(){var gr=this._tileZoom,Rr=this.options.maxZoom,Br=this.options.zoomReverse,Qr=this.options.zoomOffset;return Br&&(gr=Rr-gr),gr+Qr},_getSubdomain:function(gr){var Rr=Math.abs(gr.x+gr.y)%this.options.subdomains.length;return this.options.subdomains[Rr]},_abortLoading:function(){var gr,Rr;for(gr in this._tiles)if(this._tiles[gr].coords.z!==this._tileZoom&&(Rr=this._tiles[gr].el,Rr.onload=ur,Rr.onerror=ur,!Rr.complete)){Rr.src=Mr;var Br=this._tiles[gr].coords;Gc(Rr),delete this._tiles[gr],this.fire("tileabort",{tile:Rr,coords:Br})}},_removeTile:function(gr){var Rr=this._tiles[gr];if(Rr)return Rr.el.setAttribute("src",Mr),su.prototype._removeTile.call(this,gr)},_tileReady:function(gr,Rr,Br){if(!(!this._map||Br&&Br.getAttribute("src")===Mr))return su.prototype._tileReady.call(this,gr,Rr,Br)}});function Jh(gr,Rr){return new Cd(gr,Rr)}var _p=Cd.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(gr,Rr){this._url=gr;var Br=ir({},this.defaultWmsParams);for(var Qr in Rr)Qr in this.options||(Br[Qr]=Rr[Qr]);Rr=yr(this,Rr);var ho=Rr.detectRetina&&kl.retina?2:1,Eo=this.getTileSize();Br.width=Eo.x*ho,Br.height=Eo.y*ho,this.wmsParams=Br},onAdd:function(gr){this._crs=this.options.crs||gr.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Rr=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Rr]=this._crs.code,Cd.prototype.onAdd.call(this,gr)},getTileUrl:function(gr){var Rr=this._tileCoordsToNwSe(gr),Br=this._crs,Qr=xo(Br.project(Rr[0]),Br.project(Rr[1])),ho=Qr.min,Eo=Qr.max,Io=(this._wmsVersion>=1.3&&this._crs===fx?[ho.y,ho.x,Eo.y,Eo.x]:[ho.x,ho.y,Eo.x,Eo.y]).join(","),Jo=Cd.prototype.getTileUrl.call(this,gr);return Jo+_r(this.wmsParams,Jo,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Io},setParams:function(gr,Rr){return ir(this.wmsParams,gr),Rr||this.redraw(),this}});function zd(gr,Rr){return new _p(gr,Rr)}Cd.WMS=_p,Jh.wms=zd;var pd=Gu.extend({options:{padding:.1},initialize:function(gr){yr(this,gr),or(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yc(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var gr={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(gr.zoomanim=this._onAnimZoom),gr},_onAnimZoom:function(gr){this._updateTransform(gr.center,gr.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(gr,Rr){var Br=this._map.getZoomScale(Rr,this._zoom),Qr=this._map.getSize().multiplyBy(.5+this.options.padding),ho=this._map.project(this._center,Rr),Eo=Qr.multiplyBy(-Br).add(ho).subtract(this._map._getNewPixelOrigin(gr,Rr));kl.any3d?ud(this._container,Eo,Br):Au(this._container,Eo)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var gr in this._layers)this._layers[gr]._reset()},_onZoomEnd:function(){for(var gr in this._layers)this._layers[gr]._project()},_updatePaths:function(){for(var gr in this._layers)this._layers[gr]._update()},_update:function(){var gr=this.options.padding,Rr=this._map.getSize(),Br=this._map.containerPointToLayerPoint(Rr.multiplyBy(-gr)).round();this._bounds=new ao(Br,Br.add(Rr.multiplyBy(1+gr*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yh=pd.extend({options:{tolerance:0},getEvents:function(){var gr=pd.prototype.getEvents.call(this);return gr.viewprereset=this._onViewPreReset,gr},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pd.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var gr=this._container=document.createElement("canvas");bc(gr,"mousemove",this._onMouseMove,this),bc(gr,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bc(gr,"mouseout",this._handleMouseOut,this),gr._leaflet_disable_events=!0,this._ctx=gr.getContext("2d")},_destroyContainer:function(){Yr(this._redrawRequest),delete this._ctx,Gc(this._container),Du(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var gr;this._redrawBounds=null;for(var Rr in this._layers)gr=this._layers[Rr],gr._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pd.prototype._update.call(this);var gr=this._bounds,Rr=this._container,Br=gr.getSize(),Qr=kl.retina?2:1;Au(Rr,gr.min),Rr.width=Qr*Br.x,Rr.height=Qr*Br.y,Rr.style.width=Br.x+"px",Rr.style.height=Br.y+"px",kl.retina&&this._ctx.scale(2,2),this._ctx.translate(-gr.min.x,-gr.min.y),this.fire("update")}},_reset:function(){pd.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(gr){this._updateDashArray(gr),this._layers[or(gr)]=gr;var Rr=gr._order={layer:gr,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Rr),this._drawLast=Rr,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(gr){this._requestRedraw(gr)},_removePath:function(gr){var Rr=gr._order,Br=Rr.next,Qr=Rr.prev;Br?Br.prev=Qr:this._drawLast=Qr,Qr?Qr.next=Br:this._drawFirst=Br,delete gr._order,delete this._layers[or(gr)],this._requestRedraw(gr)},_updatePath:function(gr){this._extendRedrawBounds(gr),gr._project(),gr._update(),this._requestRedraw(gr)},_updateStyle:function(gr){this._updateDashArray(gr),this._requestRedraw(gr)},_updateDashArray:function(gr){if(typeof gr.options.dashArray=="string"){var Rr=gr.options.dashArray.split(/[, ]+/),Br=[],Qr,ho;for(ho=0;ho<Rr.length;ho++){if(Qr=Number(Rr[ho]),isNaN(Qr))return;Br.push(Qr)}gr.options._dashArray=Br}else gr.options._dashArray=gr.options.dashArray},_requestRedraw:function(gr){this._map&&(this._extendRedrawBounds(gr),this._redrawRequest=this._redrawRequest||Hr(this._redraw,this))},_extendRedrawBounds:function(gr){if(gr._pxBounds){var Rr=(gr.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ao,this._redrawBounds.extend(gr._pxBounds.min.subtract([Rr,Rr])),this._redrawBounds.extend(gr._pxBounds.max.add([Rr,Rr]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var gr=this._redrawBounds;if(gr){var Rr=gr.getSize();this._ctx.clearRect(gr.min.x,gr.min.y,Rr.x,Rr.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var gr,Rr=this._redrawBounds;if(this._ctx.save(),Rr){var Br=Rr.getSize();this._ctx.beginPath(),this._ctx.rect(Rr.min.x,Rr.min.y,Br.x,Br.y),this._ctx.clip()}this._drawing=!0;for(var Qr=this._drawFirst;Qr;Qr=Qr.next)gr=Qr.layer,(!Rr||gr._pxBounds&&gr._pxBounds.intersects(Rr))&&gr._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(gr,Rr){if(this._drawing){var Br,Qr,ho,Eo,Io=gr._parts,Jo=Io.length,Ko=this._ctx;if(Jo){for(Ko.beginPath(),Br=0;Br<Jo;Br++){for(Qr=0,ho=Io[Br].length;Qr<ho;Qr++)Eo=Io[Br][Qr],Ko[Qr?"lineTo":"moveTo"](Eo.x,Eo.y);Rr&&Ko.closePath()}this._fillStroke(Ko,gr)}}},_updateCircle:function(gr){if(!(!this._drawing||gr._empty())){var Rr=gr._point,Br=this._ctx,Qr=Math.max(Math.round(gr._radius),1),ho=(Math.max(Math.round(gr._radiusY),1)||Qr)/Qr;ho!==1&&(Br.save(),Br.scale(1,ho)),Br.beginPath(),Br.arc(Rr.x,Rr.y/ho,Qr,0,Math.PI*2,!1),ho!==1&&Br.restore(),this._fillStroke(Br,gr)}},_fillStroke:function(gr,Rr){var Br=Rr.options;Br.fill&&(gr.globalAlpha=Br.fillOpacity,gr.fillStyle=Br.fillColor||Br.color,gr.fill(Br.fillRule||"evenodd")),Br.stroke&&Br.weight!==0&&(gr.setLineDash&&gr.setLineDash(Rr.options&&Rr.options._dashArray||[]),gr.globalAlpha=Br.opacity,gr.lineWidth=Br.weight,gr.strokeStyle=Br.color,gr.lineCap=Br.lineCap,gr.lineJoin=Br.lineJoin,gr.stroke())},_onClick:function(gr){for(var Rr=this._map.mouseEventToLayerPoint(gr),Br,Qr,ho=this._drawFirst;ho;ho=ho.next)Br=ho.layer,Br.options.interactive&&Br._containsPoint(Rr)&&(!(gr.type==="click"||gr.type==="preclick")||!this._map._draggableMoved(Br))&&(Qr=Br);this._fireEvent(Qr?[Qr]:!1,gr)},_onMouseMove:function(gr){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Rr=this._map.mouseEventToLayerPoint(gr);this._handleMouseHover(gr,Rr)}},_handleMouseOut:function(gr){var Rr=this._hoveredLayer;Rr&&(wu(this._container,"leaflet-interactive"),this._fireEvent([Rr],gr,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(gr,Rr){if(!this._mouseHoverThrottled){for(var Br,Qr,ho=this._drawFirst;ho;ho=ho.next)Br=ho.layer,Br.options.interactive&&Br._containsPoint(Rr)&&(Qr=Br);Qr!==this._hoveredLayer&&(this._handleMouseOut(gr),Qr&&(yc(this._container,"leaflet-interactive"),this._fireEvent([Qr],gr,"mouseover"),this._hoveredLayer=Qr)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,gr),this._mouseHoverThrottled=!0,setTimeout(sr(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(gr,Rr,Br){this._map._fireDOMEvent(Rr,Br||Rr.type,gr)},_bringToFront:function(gr){var Rr=gr._order;if(Rr){var Br=Rr.next,Qr=Rr.prev;if(Br)Br.prev=Qr;else return;Qr?Qr.next=Br:Br&&(this._drawFirst=Br),Rr.prev=this._drawLast,this._drawLast.next=Rr,Rr.next=null,this._drawLast=Rr,this._requestRedraw(gr)}},_bringToBack:function(gr){var Rr=gr._order;if(Rr){var Br=Rr.next,Qr=Rr.prev;if(Qr)Qr.next=Br;else return;Br?Br.prev=Qr:Qr&&(this._drawLast=Qr),Rr.prev=null,Rr.next=this._drawFirst,this._drawFirst.prev=Rr,this._drawFirst=Rr,this._requestRedraw(gr)}}});function Oh(gr){return kl.canvas?new Yh(gr):null}var cf=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(gr){return document.createElement("<lvml:"+gr+' class="lvml">')}}catch{}return function(gr){return document.createElement("<"+gr+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ig={_initContainer:function(){this._container=Lc("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pd.prototype._update.call(this),this.fire("update"))},_initPath:function(gr){var Rr=gr._container=cf("shape");yc(Rr,"leaflet-vml-shape "+(this.options.className||"")),Rr.coordsize="1 1",gr._path=cf("path"),Rr.appendChild(gr._path),this._updateStyle(gr),this._layers[or(gr)]=gr},_addPath:function(gr){var Rr=gr._container;this._container.appendChild(Rr),gr.options.interactive&&gr.addInteractiveTarget(Rr)},_removePath:function(gr){var Rr=gr._container;Gc(Rr),gr.removeInteractiveTarget(Rr),delete this._layers[or(gr)]},_updateStyle:function(gr){var Rr=gr._stroke,Br=gr._fill,Qr=gr.options,ho=gr._container;ho.stroked=!!Qr.stroke,ho.filled=!!Qr.fill,Qr.stroke?(Rr||(Rr=gr._stroke=cf("stroke")),ho.appendChild(Rr),Rr.weight=Qr.weight+"px",Rr.color=Qr.color,Rr.opacity=Qr.opacity,Qr.dashArray?Rr.dashStyle=Dr(Qr.dashArray)?Qr.dashArray.join(" "):Qr.dashArray.replace(/( *, *)/g," "):Rr.dashStyle="",Rr.endcap=Qr.lineCap.replace("butt","flat"),Rr.joinstyle=Qr.lineJoin):Rr&&(ho.removeChild(Rr),gr._stroke=null),Qr.fill?(Br||(Br=gr._fill=cf("fill")),ho.appendChild(Br),Br.color=Qr.fillColor||Qr.color,Br.opacity=Qr.fillOpacity):Br&&(ho.removeChild(Br),gr._fill=null)},_updateCircle:function(gr){var Rr=gr._point.round(),Br=Math.round(gr._radius),Qr=Math.round(gr._radiusY||Br);this._setPath(gr,gr._empty()?"M0 0":"AL "+Rr.x+","+Rr.y+" "+Br+","+Qr+" 0,"+65535*360)},_setPath:function(gr,Rr){gr._path.v=Rr},_bringToFront:function(gr){ph(gr._container)},_bringToBack:function(gr){Sd(gr._container)}},kd=kl.vml?cf:Bl,Vf=pd.extend({_initContainer:function(){this._container=kd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gc(this._container),Du(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pd.prototype._update.call(this);var gr=this._bounds,Rr=gr.getSize(),Br=this._container;(!this._svgSize||!this._svgSize.equals(Rr))&&(this._svgSize=Rr,Br.setAttribute("width",Rr.x),Br.setAttribute("height",Rr.y)),Au(Br,gr.min),Br.setAttribute("viewBox",[gr.min.x,gr.min.y,Rr.x,Rr.y].join(" ")),this.fire("update")}},_initPath:function(gr){var Rr=gr._path=kd("path");gr.options.className&&yc(Rr,gr.options.className),gr.options.interactive&&yc(Rr,"leaflet-interactive"),this._updateStyle(gr),this._layers[or(gr)]=gr},_addPath:function(gr){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(gr._path),gr.addInteractiveTarget(gr._path)},_removePath:function(gr){Gc(gr._path),gr.removeInteractiveTarget(gr._path),delete this._layers[or(gr)]},_updatePath:function(gr){gr._project(),gr._update()},_updateStyle:function(gr){var Rr=gr._path,Br=gr.options;Rr&&(Br.stroke?(Rr.setAttribute("stroke",Br.color),Rr.setAttribute("stroke-opacity",Br.opacity),Rr.setAttribute("stroke-width",Br.weight),Rr.setAttribute("stroke-linecap",Br.lineCap),Rr.setAttribute("stroke-linejoin",Br.lineJoin),Br.dashArray?Rr.setAttribute("stroke-dasharray",Br.dashArray):Rr.removeAttribute("stroke-dasharray"),Br.dashOffset?Rr.setAttribute("stroke-dashoffset",Br.dashOffset):Rr.removeAttribute("stroke-dashoffset")):Rr.setAttribute("stroke","none"),Br.fill?(Rr.setAttribute("fill",Br.fillColor||Br.color),Rr.setAttribute("fill-opacity",Br.fillOpacity),Rr.setAttribute("fill-rule",Br.fillRule||"evenodd")):Rr.setAttribute("fill","none"))},_updatePoly:function(gr,Rr){this._setPath(gr,Gl(gr._parts,Rr))},_updateCircle:function(gr){var Rr=gr._point,Br=Math.max(Math.round(gr._radius),1),Qr=Math.max(Math.round(gr._radiusY),1)||Br,ho="a"+Br+","+Qr+" 0 1,0 ",Eo=gr._empty()?"M0 0":"M"+(Rr.x-Br)+","+Rr.y+ho+Br*2+",0 "+ho+-Br*2+",0 ";this._setPath(gr,Eo)},_setPath:function(gr,Rr){gr._path.setAttribute("d",Rr)},_bringToFront:function(gr){ph(gr._path)},_bringToBack:function(gr){Sd(gr._path)}});kl.vml&&Vf.include(ig);function wm(gr){return kl.svg||kl.vml?new Vf(gr):null}Mc.include({getRenderer:function(gr){var Rr=gr.options.renderer||this._getPaneRenderer(gr.options.pane)||this.options.renderer||this._renderer;return Rr||(Rr=this._renderer=this._createRenderer()),this.hasLayer(Rr)||this.addLayer(Rr),Rr},_getPaneRenderer:function(gr){if(gr==="overlayPane"||gr===void 0)return!1;var Rr=this._paneRenderers[gr];return Rr===void 0&&(Rr=this._createRenderer({pane:gr}),this._paneRenderers[gr]=Rr),Rr},_createRenderer:function(gr){return this.options.preferCanvas&&Oh(gr)||wm(gr)}});var Cf=vm.extend({initialize:function(gr,Rr){vm.prototype.initialize.call(this,this._boundsToLatLngs(gr),Rr)},setBounds:function(gr){return this.setLatLngs(this._boundsToLatLngs(gr))},_boundsToLatLngs:function(gr){return gr=Po(gr),[gr.getSouthWest(),gr.getNorthWest(),gr.getNorthEast(),gr.getSouthEast()]}});function gx(gr,Rr){return new Cf(gr,Rr)}Vf.create=kd,Vf.pointsToPath=Gl,fd.geometryToLayer=zu,fd.coordsToLatLng=lf,fd.coordsToLatLngs=eg,fd.latLngToCoords=tg,fd.latLngsToCoords=ng,fd.getFeature=yp,fd.asFeature=Bd,Mc.mergeOptions({boxZoom:!0});var Ph=Wu.extend({initialize:function(gr){this._map=gr,this._container=gr._container,this._pane=gr._panes.overlayPane,this._resetStateTimeout=0,gr.on("unload",this._destroy,this)},addHooks:function(){bc(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Du(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gc(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(gr){if(!gr.shiftKey||gr.which!==1&&gr.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mo(),zl(),this._startPoint=this._map.mouseEventToContainerPoint(gr),bc(document,{contextmenu:nu,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(gr){this._moved||(this._moved=!0,this._box=Lc("div","leaflet-zoom-box",this._container),yc(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(gr);var Rr=new ao(this._point,this._startPoint),Br=Rr.getSize();Au(this._box,Rr.min),this._box.style.width=Br.x+"px",this._box.style.height=Br.y+"px"},_finish:function(){this._moved&&(Gc(this._box),wu(this._container,"leaflet-crosshair")),$o(),vc(),Du(document,{contextmenu:nu,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(gr){if(!(gr.which!==1&&gr.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(sr(this._resetState,this),0);var Rr=new _o(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Rr).fire("boxzoomend",{boxZoomBounds:Rr})}},_onKeyDown:function(gr){gr.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mc.addInitHook("addHandler","boxZoom",Ph),Mc.mergeOptions({doubleClickZoom:!0});var Hd=Wu.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(gr){var Rr=this._map,Br=Rr.getZoom(),Qr=Rr.options.zoomDelta,ho=gr.originalEvent.shiftKey?Br-Qr:Br+Qr;Rr.options.doubleClickZoom==="center"?Rr.setZoom(ho):Rr.setZoomAround(gr.containerPoint,ho)}});Mc.addInitHook("addHandler","doubleClickZoom",Hd),Mc.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vu=Wu.extend({addHooks:function(){if(!this._draggable){var gr=this._map;this._draggable=new Gf(gr._mapPane,gr._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),gr.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),gr.on("zoomend",this._onZoomEnd,this),gr.whenReady(this._onZoomEnd,this))}yc(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wu(this._map._container,"leaflet-grab"),wu(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var gr=this._map;if(gr._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Rr=Po(this._map.options.maxBounds);this._offsetLimit=xo(this._map.latLngToContainerPoint(Rr.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Rr.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;gr.fire("movestart").fire("dragstart"),gr.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(gr){if(this._map.options.inertia){var Rr=this._lastTime=+new Date,Br=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Br),this._times.push(Rr),this._prunePositions(Rr)}this._map.fire("move",gr).fire("drag",gr)},_prunePositions:function(gr){for(;this._positions.length>1&&gr-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var gr=this._map.getSize().divideBy(2),Rr=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Rr.subtract(gr).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(gr,Rr){return gr-(gr-Rr)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var gr=this._draggable._newPos.subtract(this._draggable._startPos),Rr=this._offsetLimit;gr.x<Rr.min.x&&(gr.x=this._viscousLimit(gr.x,Rr.min.x)),gr.y<Rr.min.y&&(gr.y=this._viscousLimit(gr.y,Rr.min.y)),gr.x>Rr.max.x&&(gr.x=this._viscousLimit(gr.x,Rr.max.x)),gr.y>Rr.max.y&&(gr.y=this._viscousLimit(gr.y,Rr.max.y)),this._draggable._newPos=this._draggable._startPos.add(gr)}},_onPreDragWrap:function(){var gr=this._worldWidth,Rr=Math.round(gr/2),Br=this._initialWorldOffset,Qr=this._draggable._newPos.x,ho=(Qr-Rr+Br)%gr+Rr-Br,Eo=(Qr+Rr+Br)%gr-Rr-Br,Io=Math.abs(ho+Br)<Math.abs(Eo+Br)?ho:Eo;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Io},_onDragEnd:function(gr){var Rr=this._map,Br=Rr.options,Qr=!Br.inertia||gr.noInertia||this._times.length<2;if(Rr.fire("dragend",gr),Qr)Rr.fire("moveend");else{this._prunePositions(+new Date);var ho=this._lastPos.subtract(this._positions[0]),Eo=(this._lastTime-this._times[0])/1e3,Io=Br.easeLinearity,Jo=ho.multiplyBy(Io/Eo),Ko=Jo.distanceTo([0,0]),_l=Math.min(Br.inertiaMaxSpeed,Ko),Nl=Jo.multiplyBy(_l/Ko),tc=_l/(Br.inertiaDeceleration*Io),$c=Nl.multiplyBy(-tc/2).round();!$c.x&&!$c.y?Rr.fire("moveend"):($c=Rr._limitOffset($c,Rr.options.maxBounds),Hr(function(){Rr.panBy($c,{duration:tc,easeLinearity:Io,noMoveStart:!0,animate:!0})}))}}});Mc.addInitHook("addHandler","dragging",Vu),Mc.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ju=Wu.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(gr){this._map=gr,this._setPanDelta(gr.options.keyboardPanDelta),this._setZoomDelta(gr.options.zoomDelta)},addHooks:function(){var gr=this._map._container;gr.tabIndex<=0&&(gr.tabIndex="0"),bc(gr,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Du(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var gr=document.body,Rr=document.documentElement,Br=gr.scrollTop||Rr.scrollTop,Qr=gr.scrollLeft||Rr.scrollLeft;this._map._container.focus(),window.scrollTo(Qr,Br)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(gr){var Rr=this._panKeys={},Br=this.keyCodes,Qr,ho;for(Qr=0,ho=Br.left.length;Qr<ho;Qr++)Rr[Br.left[Qr]]=[-1*gr,0];for(Qr=0,ho=Br.right.length;Qr<ho;Qr++)Rr[Br.right[Qr]]=[gr,0];for(Qr=0,ho=Br.down.length;Qr<ho;Qr++)Rr[Br.down[Qr]]=[0,gr];for(Qr=0,ho=Br.up.length;Qr<ho;Qr++)Rr[Br.up[Qr]]=[0,-1*gr]},_setZoomDelta:function(gr){var Rr=this._zoomKeys={},Br=this.keyCodes,Qr,ho;for(Qr=0,ho=Br.zoomIn.length;Qr<ho;Qr++)Rr[Br.zoomIn[Qr]]=gr;for(Qr=0,ho=Br.zoomOut.length;Qr<ho;Qr++)Rr[Br.zoomOut[Qr]]=-gr},_addHooks:function(){bc(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Du(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(gr){if(!(gr.altKey||gr.ctrlKey||gr.metaKey)){var Rr=gr.keyCode,Br=this._map,Qr;if(Rr in this._panKeys){if(!Br._panAnim||!Br._panAnim._inProgress)if(Qr=this._panKeys[Rr],gr.shiftKey&&(Qr=lo(Qr).multiplyBy(3)),Br.options.maxBounds&&(Qr=Br._limitOffset(lo(Qr),Br.options.maxBounds)),Br.options.worldCopyJump){var ho=Br.wrapLatLng(Br.unproject(Br.project(Br.getCenter()).add(Qr)));Br.panTo(ho)}else Br.panBy(Qr)}else if(Rr in this._zoomKeys)Br.setZoom(Br.getZoom()+(gr.shiftKey?3:1)*this._zoomKeys[Rr]);else if(Rr===27&&Br._popup&&Br._popup.options.closeOnEscapeKey)Br.closePopup();else return;nu(gr)}}});Mc.addInitHook("addHandler","keyboard",ju),Mc.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rg=Wu.extend({addHooks:function(){bc(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Du(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(gr){var Rr=Kh(gr),Br=this._map.options.wheelDebounceTime;this._delta+=Rr,this._lastMousePos=this._map.mouseEventToContainerPoint(gr),this._startTime||(this._startTime=+new Date);var Qr=Math.max(Br-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(sr(this._performZoom,this),Qr),nu(gr)},_performZoom:function(){var gr=this._map,Rr=gr.getZoom(),Br=this._map.options.zoomSnap||0;gr._stop();var Qr=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ho=4*Math.log(2/(1+Math.exp(-Math.abs(Qr))))/Math.LN2,Eo=Br?Math.ceil(ho/Br)*Br:ho,Io=gr._limitZoom(Rr+(this._delta>0?Eo:-Eo))-Rr;this._delta=0,this._startTime=null,Io&&(gr.options.scrollWheelZoom==="center"?gr.setZoom(Rr+Io):gr.setZoomAround(this._lastMousePos,Rr+Io))}});Mc.addInitHook("addHandler","scrollWheelZoom",rg);var wp=600;Mc.mergeOptions({tapHold:kl.touchNative&&kl.safari&&kl.mobile,tapTolerance:15});var Uf=Wu.extend({addHooks:function(){bc(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Du(this._map._container,"touchstart",this._onDown,this)},_onDown:function(gr){if(clearTimeout(this._holdTimeout),gr.touches.length===1){var Rr=gr.touches[0];this._startPos=this._newPos=new po(Rr.clientX,Rr.clientY),this._holdTimeout=setTimeout(sr(function(){this._cancel(),this._isTapValid()&&(bc(document,"touchend",Ec),bc(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Rr))},this),wp),bc(document,"touchend touchcancel contextmenu",this._cancel,this),bc(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function gr(){Du(document,"touchend",Ec),Du(document,"touchend touchcancel",gr)},_cancel:function(){clearTimeout(this._holdTimeout),Du(document,"touchend touchcancel contextmenu",this._cancel,this),Du(document,"touchmove",this._onMove,this)},_onMove:function(gr){var Rr=gr.touches[0];this._newPos=new po(Rr.clientX,Rr.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(gr,Rr){var Br=new MouseEvent(gr,{bubbles:!0,cancelable:!0,view:window,screenX:Rr.screenX,screenY:Rr.screenY,clientX:Rr.clientX,clientY:Rr.clientY});Br._simulated=!0,Rr.target.dispatchEvent(Br)}});Mc.addInitHook("addHandler","tapHold",Uf),Mc.mergeOptions({touchZoom:kl.touch,bounceAtZoomLimits:!0});var Yf=Wu.extend({addHooks:function(){yc(this._map._container,"leaflet-touch-zoom"),bc(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wu(this._map._container,"leaflet-touch-zoom"),Du(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(gr){var Rr=this._map;if(!(!gr.touches||gr.touches.length!==2||Rr._animatingZoom||this._zooming)){var Br=Rr.mouseEventToContainerPoint(gr.touches[0]),Qr=Rr.mouseEventToContainerPoint(gr.touches[1]);this._centerPoint=Rr.getSize()._divideBy(2),this._startLatLng=Rr.containerPointToLatLng(this._centerPoint),Rr.options.touchZoom!=="center"&&(this._pinchStartLatLng=Rr.containerPointToLatLng(Br.add(Qr)._divideBy(2))),this._startDist=Br.distanceTo(Qr),this._startZoom=Rr.getZoom(),this._moved=!1,this._zooming=!0,Rr._stop(),bc(document,"touchmove",this._onTouchMove,this),bc(document,"touchend touchcancel",this._onTouchEnd,this),Ec(gr)}},_onTouchMove:function(gr){if(!(!gr.touches||gr.touches.length!==2||!this._zooming)){var Rr=this._map,Br=Rr.mouseEventToContainerPoint(gr.touches[0]),Qr=Rr.mouseEventToContainerPoint(gr.touches[1]),ho=Br.distanceTo(Qr)/this._startDist;if(this._zoom=Rr.getScaleZoom(ho,this._startZoom),!Rr.options.bounceAtZoomLimits&&(this._zoom<Rr.getMinZoom()&&ho<1||this._zoom>Rr.getMaxZoom()&&ho>1)&&(this._zoom=Rr._limitZoom(this._zoom)),Rr.options.touchZoom==="center"){if(this._center=this._startLatLng,ho===1)return}else{var Eo=Br._add(Qr)._divideBy(2)._subtract(this._centerPoint);if(ho===1&&Eo.x===0&&Eo.y===0)return;this._center=Rr.unproject(Rr.project(this._pinchStartLatLng,this._zoom).subtract(Eo),this._zoom)}this._moved||(Rr._moveStart(!0,!1),this._moved=!0),Yr(this._animRequest);var Io=sr(Rr._move,Rr,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Hr(Io,this,!0),Ec(gr)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Yr(this._animRequest),Du(document,"touchmove",this._onTouchMove,this),Du(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mc.addInitHook("addHandler","touchZoom",Yf),Mc.BoxZoom=Ph,Mc.DoubleClickZoom=Hd,Mc.Drag=Vu,Mc.Keyboard=ju,Mc.ScrollWheelZoom=rg,Mc.TapHold=Uf,Mc.TouchZoom=Yf,er.Bounds=ao,er.Browser=kl,er.CRS=Ao,er.Canvas=Yh,er.Circle=Gp,er.CircleMarker=Rf,er.Class=io,er.Control=Zh,er.DivIcon=bp,er.DivOverlay=Vh,er.DomEvent=pm,er.DomUtil=vf,er.Draggable=Gf,er.Evented=no,er.FeatureGroup=dd,er.GeoJSON=fd,er.GridLayer=su,er.Handler=Wu,er.Icon=rf,er.ImageOverlay=Wl,er.LatLng=Oo,er.LatLngBounds=_o,er.Layer=Gu,er.LayerGroup=jf,er.LineUtil=Tg,er.Map=Mc,er.Marker=af,er.Mixin=ry,er.Path=Gh,er.Point=po,er.PolyUtil=gm,er.Polygon=vm,er.Polyline=Fd,er.Popup=Uh,er.PosAnimation=Id,er.Projection=Qm,er.Rectangle=Cf,er.Renderer=pd,er.SVG=Vf,er.SVGOverlay=Su,er.TileLayer=Cd,er.Tooltip=Up,er.Transformation=Qo,er.Util=eo,er.VideoOverlay=Rc,er.bind=sr,er.bounds=xo,er.canvas=Oh,er.circle=of,er.circleMarker=Dg,er.control=Qh,er.divIcon=_m,er.extend=ir,er.featureGroup=px,er.geoJSON=vl,er.geoJson=ul,er.gridLayer=mx,er.icon=xp,er.imageOverlay=dc,er.latLng=So,er.latLngBounds=Po,er.layerGroup=gp,er.map=gh,er.marker=Wp,er.point=lo,er.polygon=Mg,er.polyline=hv,er.popup=vp,er.rectangle=gx,er.setOptions=yr,er.stamp=or,er.svg=wm,er.svgOverlay=Ng,er.tileLayer=Jh,er.tooltip=bm,er.transformation=Vo,er.version=nr,er.videoOverlay=Ju;var Mu=window.L;er.noConflict=function(){return window.L=Mu,this},window.L=er}))})(leafletSrc$1,leafletSrc$1.exports)),leafletSrc$1.exports}var leafletSrcExports=requireLeafletSrc();const L$4=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(tr,Hn,er){return Object.freeze({instance:tr,context:Hn,container:er})}function createElementHook(tr,Hn){return Hn==null?function(nr,ir){const rr=reactExports.useRef(void 0);return rr.current||(rr.current=tr(nr,ir)),rr}:function(nr,ir){const rr=reactExports.useRef(void 0);rr.current||(rr.current=tr(nr,ir));const sr=reactExports.useRef(nr),{instance:ar}=rr.current;return reactExports.useEffect(function(){sr.current!==nr&&(Hn(ar,nr,sr.current),sr.current=nr)},[ar,nr,Hn]),rr}}function useLayerLifecycle(tr,Hn){reactExports.useEffect(function(){return(Hn.layerContainer??Hn.map).addLayer(tr.instance),function(){Hn.layerContainer?.removeLayer(tr.instance),Hn.map.removeLayer(tr.instance)}},[Hn,tr])}function createLayerHook(tr){return function(er){const nr=useLeafletContext(),ir=tr(withPane(er,nr),nr);return useAttribution(nr.map,er.attribution),useEventHandlers(ir.current,er.eventHandlers),useLayerLifecycle(ir.current,nr),ir}}function createLayerComponent(tr,Hn){const er=createElementHook(tr,Hn),nr=createLayerHook(er);return createContainerComponent(nr)}function createOverlayComponent(tr,Hn){const er=createElementHook(tr),nr=createDivOverlayHook(er,Hn);return createDivOverlayComponent(nr)}function createTileLayerComponent(tr,Hn){const er=createElementHook(tr,Hn),nr=createLayerHook(er);return createLeafComponent(nr)}function updateGridLayer(tr,Hn,er){const{opacity:nr,zIndex:ir}=Hn;nr!=null&&nr!==er.opacity&&tr.setOpacity(nr),ir!=null&&ir!==er.zIndex&&tr.setZIndex(ir)}function useMap(){return useLeafletContext().map}function useMapEvents(tr){const Hn=useMap();return reactExports.useEffect(function(){return Hn.on(tr),function(){Hn.off(tr)}},[Hn,tr]),Hn}function MapContainerComponent({bounds:tr,boundsOptions:Hn,center:er,children:nr,className:ir,id:rr,placeholder:sr,style:ar,whenReady:or,zoom:lr,...cr},ur){const[dr]=reactExports.useState({className:ir,id:rr,style:ar}),[fr,xr]=reactExports.useState(null),yr=reactExports.useRef(void 0);reactExports.useImperativeHandle(ur,()=>fr?.map??null,[fr]);const _r=reactExports.useCallback(jr=>{if(jr!==null&&!yr.current){const Dr=new leafletSrcExports.Map(jr,cr);yr.current=Dr,er!=null&&lr!=null?Dr.setView(er,lr):tr!=null&&Dr.fitBounds(tr,Hn),or!=null&&Dr.whenReady(or),xr(createLeafletContext(Dr))}},[]);reactExports.useEffect(()=>()=>{fr?.map.remove()},[fr]);const Sr=fr?React.createElement(LeafletContext,{value:fr},nr):sr??null;return React.createElement("div",{...dr,ref:_r},Sr)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Marker=createLayerComponent(function tr({position:Hn,...er},nr){const ir=new leafletSrcExports.Marker(Hn,er);return createElementObject(ir,extendContext(nr,{overlayContainer:ir}))},function tr(Hn,er,nr){er.position!==nr.position&&Hn.setLatLng(er.position),er.icon!=null&&er.icon!==nr.icon&&Hn.setIcon(er.icon),er.zIndexOffset!=null&&er.zIndexOffset!==nr.zIndexOffset&&Hn.setZIndexOffset(er.zIndexOffset),er.opacity!=null&&er.opacity!==nr.opacity&&Hn.setOpacity(er.opacity),Hn.dragging!=null&&er.draggable!==nr.draggable&&(er.draggable===!0?Hn.dragging.enable():Hn.dragging.disable())}),Popup=createOverlayComponent(function tr(Hn,er){const nr=new leafletSrcExports.Popup(Hn,er.overlayContainer);return createElementObject(nr,er)},function tr(Hn,er,{position:nr},ir){reactExports.useEffect(function(){const{instance:sr}=Hn;function ar(lr){lr.popup===sr&&(sr.update(),ir(!0))}function or(lr){lr.popup===sr&&ir(!1)}return er.map.on({popupopen:ar,popupclose:or}),er.overlayContainer==null?(nr!=null&&sr.setLatLng(nr),sr.openOn(er.map)):er.overlayContainer.bindPopup(sr),function(){er.map.off({popupopen:ar,popupclose:or}),er.overlayContainer?.unbindPopup(),er.map.removeLayer(sr)}},[Hn,er,ir,nr])}),TileLayer=createTileLayerComponent(function tr({url:Hn,...er},nr){const ir=new leafletSrcExports.TileLayer(Hn,withPane(er,nr));return createElementObject(ir,nr)},function tr(Hn,er,nr){updateGridLayer(Hn,er,nr);const{url:ir}=er;ir!=null&&ir!==nr.url&&Hn.setUrl(ir)}),Tooltip$1=createOverlayComponent(function tr(Hn,er){const nr=new leafletSrcExports.Tooltip(Hn,er.overlayContainer);return createElementObject(nr,er)},function tr(Hn,er,{position:nr},ir){reactExports.useEffect(function(){const sr=er.overlayContainer;if(sr==null)return;const{instance:ar}=Hn,or=cr=>{cr.tooltip===ar&&(nr!=null&&ar.setLatLng(nr),ar.update(),ir(!0))},lr=cr=>{cr.tooltip===ar&&ir(!1)};return sr.on({tooltipopen:or,tooltipclose:lr}),sr.bindTooltip(ar),function(){sr.off({tooltipopen:or,tooltipclose:lr}),sr._map!=null&&sr.unbindTooltip()}},[Hn,er,ir,nr])});function useGeolocation(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null);return reactExports.useEffect(()=>{navigator.geolocation.getCurrentPosition(ir=>{Hn({latitude:ir.coords.latitude,longitude:ir.coords.longitude}),localStorage.setItem("user_coords",JSON.stringify({latitude:ir.coords.latitude,longitude:ir.coords.longitude}))},ir=>nr(ir.message),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),console.log("v tr: ",tr),{coords:tr,error:er}}function CustomMarker({position:tr,children:Hn}){const er=reactExports.useRef(null),nr=reactExports.useRef(null),ir=reactExports.useRef("marker-"+Math.random().toString(36).substring(2));return er.current||(er.current=L$4.divIcon({className:"custom-react-marker",html:`<div id="${ir.current}" style="
    transform: translate(-50%, -100%);
  "></div>`})),reactExports.useEffect(()=>{const rr=document.getElementById(ir.current);if(rr)return nr.current=ReactDOM.createRoot(rr),()=>{if(nr.current){const sr=nr.current;setTimeout(()=>{sr.unmount()},0),nr.current=null}}},[]),reactExports.useEffect(()=>{nr.current&&nr.current.render(Hn)},[Hn]),jsxRuntimeExports.jsx(Marker,{position:tr,icon:er.current})}const API_ENDPOINTS_RAW=["https://api_gold.thinkdiff.us/btmc","https://api_gold.thinkdiff.us/ngoctham","https://api_gold.thinkdiff.us/vangphutai","https://api_gold.thinkdiff.us/pnj","https://api_gold.thinkdiff.us/ancarat_giabac","https://api_gold.thinkdiff.us/kimhoancamau","https://api_gold.thinkdiff.us/kimchau_info","https://api_gold.thinkdiff.us/vang_sinhdien","https://api_gold.thinkdiff.us/vangchienminh","https://api_gold.thinkdiff.us/kimnganphuc","https://api_gold.thinkdiff.us/baotinlanvy","https://api_gold.thinkdiff.us/ancarat_giavang","https://api_gold.thinkdiff.us/lamngocthanh","https://api_gold.thinkdiff.us/teokimtruc","https://api_gold.thinkdiff.us/sjc_com_vn","https://api_gold.thinkdiff.us/goldavenue","https://api_gold.thinkdiff.us/suissegold","https://api_gold.thinkdiff.us/igold_silver","https://api_gold.thinkdiff.us/kanzjewels","https://api_gold.thinkdiff.us/gvs_trading","https://api_gold.thinkdiff.us/anekalogam","https://api_gold.thinkdiff.us/aurum_gold","https://api_gold.thinkdiff.us/aurum_silver","https://api_gold.thinkdiff.us/aurum_silverSalt","https://api_gold.thinkdiff.us/phuquy_bac","https://api_gold.thinkdiff.us/phuquy_vang","https://api_gold.thinkdiff.us/btmh_gold","https://api_gold.thinkdiff.us/kimtin_com_vn","https://api_gold.thinkdiff.us/orient","https://api_gold.thinkdiff.us/malabar/silver","https://api_gold.thinkdiff.us/malabar/gold","https://api_gold.thinkdiff.us/tokuriki","https://api_gold.thinkdiff.us/tanaka","https://api_gold.thinkdiff.us/ishifuku","https://api_gold.thinkdiff.us/candere","https://api_gold.thinkdiff.us/vang_nguyenlieu_haihau_namdinh","https://api_gold.thinkdiff.us/huythanhjewelry","https://api_gold.thinkdiff.us/skjewellery","https://api_gold.thinkdiff.us/doji","https://api_gold.thinkdiff.us/vang_haihong","https://api_gold.thinkdiff.us/vang_huongdiu","https://api_gold.thinkdiff.us/socket_mihong_goldenfund","https://api_gold.thinkdiff.us/chowsangsang_html","https://api_gold.thinkdiff.us/chowtaiseng","https://api_gold.thinkdiff.us/chowtaifook","https://api_gold.thinkdiff.us/sbj_silver","https://api_gold.thinkdiff.us/sbj_gold","https://api_gold.thinkdiff.us/kimtung","https://api_gold.thinkdiff.us/kimngoc","https://api_gold.thinkdiff.us/quocbaolam","https://api_gold.thinkdiff.us/kimthuy","https://api_gold.thinkdiff.us/kimyen","https://api_gold.thinkdiff.us/kimphatthoian","https://api_gold.thinkdiff.us/lucngocthanh","https://api_gold.thinkdiff.us/phuocthanh","https://api_gold.thinkdiff.us/kimphathiepthanh","https://api_gold.thinkdiff.us/kimphat","https://api_gold.thinkdiff.us/quocbaoson","https://api_gold.thinkdiff.us/quocbao","https://api_gold.thinkdiff.us/kimhanh","https://api_gold.thinkdiff.us/minhthanhbenluc","https://api_gold.thinkdiff.us/myngoc","https://api_gold.thinkdiff.us/kimton","https://api_gold.thinkdiff.us/lapduc","https://api_gold.thinkdiff.us/kimhungphat","https://api_gold.thinkdiff.us/yenhien","https://api_gold.thinkdiff.us/xuanmui","https://api_gold.thinkdiff.us/haisen","https://api_gold.thinkdiff.us/kimchauhaihau","https://api_gold.thinkdiff.us/thanhxuandonganh","https://api_gold.thinkdiff.us/daphuc","https://api_gold.thinkdiff.us/nhahuong","https://api_gold.thinkdiff.us/hjctaiquangninh","https://api_gold.thinkdiff.us/kimchung","https://api_gold.thinkdiff.us/hoatung","https://api_gold.thinkdiff.us/quytung","https://api_gold.thinkdiff.us/kimlien","https://api_gold.thinkdiff.us/trungsinhthainguyen","https://api_gold.thinkdiff.us/huongyen","https://api_gold.thinkdiff.us/kimkhanhhanam","https://api_gold.thinkdiff.us/haihong","https://api_gold.thinkdiff.us/quanghanh","https://api_gold.thinkdiff.us/sonha","https://api_gold.thinkdiff.us/luhuong","https://api_gold.thinkdiff.us/anhminh","https://api_gold.thinkdiff.us/huongchi","https://api_gold.thinkdiff.us/nhathahaiphong","https://api_gold.thinkdiff.us/phidoan","https://api_gold.thinkdiff.us/dainghia","https://api_gold.thinkdiff.us/tienngoc","https://api_gold.thinkdiff.us/phucthanhnamdinh","https://api_gold.thinkdiff.us/phucthanhlongbien","https://api_gold.thinkdiff.us/hoanhuelaocai","https://api_gold.thinkdiff.us/koreagoldx_silver","https://api_gold.thinkdiff.us/koreagoldx"],formatPrice=tr=>tr?new Intl.NumberFormat("vi-VN").format(tr):"N/A",calculateSpread=(tr,Hn)=>!tr||!Hn?0:tr-Hn,fetchSingleAPI=async tr=>{try{const Hn=await fetch(tr);if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);const er=await Hn.json();if(er.status==="success"&&er.data&&er.data.data){const nr=er.data.data,ir=nr.site||er.data.site,rr=er.name||ir,sr=typeof er.do_uy_tin<"u"&&er.do_uy_tin!==null?er.do_uy_tin:void 0,ar=er.quoc_gia||"Vietnam";return{site:ir,name:rr,fetched_at:nr.fetched_at||nr.time_date_get,items:nr.items||[],timestamp:nr.site_timestamp||nr.time_date_get,do_uy_tin:sr,quoc_gia:ar}}throw new Error("Invalid data structure")}catch(Hn){throw Hn}},fetchGoldPricesIncremental=async tr=>{const Hn=API_ENDPOINTS_RAW.length;let er=0;const nr=[];try{const ir=API_ENDPOINTS_RAW.filter((ar,or)=>or===0).map(ar=>fetchSingleAPI(ar).then(or=>{if(er++,nr.push(or),tr)try{tr(or,er,Hn)}catch(lr){console.warn("Callback error in onVendorLoaded:",lr)}return{status:"fulfilled",value:or}}).catch(or=>(er++,{status:"rejected",reason:or,url:ar}))),sr=(await Promise.all(ir)).filter(ar=>ar.status==="rejected").map(ar=>({url:ar.url,reason:ar.reason}));return nr}catch(ir){throw console.error("Error in fetchGoldPricesIncremental:",ir),ir}},getLatestUpdateTime=tr=>{if(!tr||tr.length===0)return"";const Hn=tr.reduce((er,nr)=>er.timestamp?new Date(nr.timestamp)>new Date(er.timestamp)?nr:er:nr,tr[0]);return Hn.fetched_at||Hn.timestamp},getTrustColor=tr=>{if(tr==null)return"#94A3B8";const Hn=Number(tr);return Hn<=2?"#22C55E":Hn<=4?"#84CC16":Hn<=6?"#FACC15":Hn<=8?"#F97316":"#EF4444"};function BiRefresh(tr){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"},child:[]}]})(tr)}const PriceTableMap=({vendorData:tr,isInternational:Hn})=>!tr||!tr.items||tr.items.length===0?null:jsxRuntimeExports.jsxs("div",{className:`price-table-card map-price-card ${Hn?"international-table":""}`,children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsxs("div",{className:"header-left-info",children:[jsxRuntimeExports.jsx("h2",{className:"vendor-name",children:tr.name}),tr.quoc_gia&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("span",{className:"country-badge2",children:[" ",tr.quoc_gia]}),jsxRuntimeExports.jsxs("span",{className:"country-badge2",children:[tr.distance," Km"]})]}),jsxRuntimeExports.jsxs("p",{className:"update-time",children:["Cp nht: ",tr.fetched_at||tr.timestamp]})]}),jsxRuntimeExports.jsx("div",{children:tr.do_uy_tin!==void 0&&tr.do_uy_tin!==null&&jsxRuntimeExports.jsxs("p",{className:"trust-badge",style:{color:getTrustColor(tr.do_uy_tin)},children:["  uy tn: ",tr.do_uy_tin]})})]})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"price-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"col-product",children:"LOI VNG"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"MUA VO"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN RA"}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{className:"col-price",children:"GI GC (USD)"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI NGN HNG"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:(()=>{const er=rr=>rr.purity==="1KG_BAC_999"||rr.purity==="9999",nr=tr.items.filter(er);return tr.items.filter(rr=>!er(rr)),[...nr].map((rr,sr)=>{const ar=rr.purity==="9999",or=rr.purity==="1KG_BAC_999",lr=ar?"highlight-9999":or?"highlight-silver":"";return jsxRuntimeExports.jsxs("tr",{className:lr,children:[jsxRuntimeExports.jsxs("td",{className:"product-name",children:[rr.name||rr.product,ar&&jsxRuntimeExports.jsx("span",{className:"gold-badge",children:" 9999"}),or&&jsxRuntimeExports.jsx("span",{className:"silver-badge",children:" 1KG"})]}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:formatPrice(rr.buy)}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:formatPrice(rr.sell)}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{className:"price-original",children:rr.gia_goc?`$${rr.gia_goc.toLocaleString("en-US")}`:"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-black-market",children:formatPrice(rr.sell_cho_den)}),jsxRuntimeExports.jsx("td",{className:"rate-black",children:rr.ty_gia_cho_den?rr.ty_gia_cho_den.toLocaleString("vi-VN"):"N/A"}),jsxRuntimeExports.jsx("td",{className:"rate-bank",children:rr.ty_gia_ngan_hang?rr.ty_gia_ngan_hang.toLocaleString("vi-VN"):"N/A"})]})]},sr)})})()})]})}),jsxRuntimeExports.jsx("div",{className:"table-footer",children:(()=>{const er=tr.items.find(sr=>sr.purity==="9999"),nr=tr.items.find(sr=>sr.purity==="1KG_BAC_999"),ir=er?calculateSpread(er.sell,er.buy):null,rr=nr?calculateSpread(nr.sell,nr.buy):null;return jsxRuntimeExports.jsxs("div",{className:"spread-info",children:[ir&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Vng 9999:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(ir)})]}),rr&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Bc 1KG:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(rr)})]})]})})()})]}),ClickIcon=L$4.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),DefaultIcon=L$4.icon({iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});L$4.Marker.prototype.options.icon=DefaultIcon;function MapView(){const tr=useNavigate(),Hn=useParams(),{coords:er}=useGeolocation();console.log("All params:",Hn),console.log("GPS:",er);const nr=reactExports.useMemo(()=>({day:Hn.day?Number(Hn.day):null,month:Hn.month?Number(Hn.month):null,year:Hn.year?Number(Hn.year):null,hour:Hn.hour?Number(Hn.hour):null,minute:Hn.minute?Number(Hn.minute):null,region:Hn.region||"Vietnam",type:Hn.type||"gold"}),[Hn]),ir=Hn.z?Number(Hn.z):13,{loading:rr,error:sr,displayedPrices:ar,loadingProgress:or}=UseGoldOneDayPrices(nr),lr=Number(Hn.lat)?Number(Hn.lat):er?.latitude,cr=Number(Hn.lng)?Number(Hn.lng):er?.longitude;if(console.log("Ta :",lr,cr),!lr||!cr)return jsxRuntimeExports.jsx("div",{children:"ang ly v tr..."});if(rr&&ar.length===0)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu gi vng..."}),or.total>0&&jsxRuntimeExports.jsxs("p",{className:"loading-progress",children:[" ti ",or.loaded,"/",or.total," ngun"]})]});if(sr)return jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",sr]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]});const ur=({latNew:fr,lngNew:xr,zoomNew:yr})=>{console.log("x l s kin"),fr&&xr?tr(`/map-view/${nr.region}/${nr.type}/${nr.day}/${nr.month}/${nr.year}/${nr.hour}/${nr.minute}/${yr}/${fr}/${xr}`,{replace:!0}):tr(`/map-view/${nr.region}/${nr.type}/${nr.day}/${nr.month}/${nr.year}/${nr.hour}/${nr.minute}/${yr}/${lr}/${cr}`,{replace:!0})},dr=addDistanceStoresWithinRadius(ar,er.latitude,er.longitude);return jsxRuntimeExports.jsx("div",{className:"map-view",children:jsxRuntimeExports.jsxs(MapContainer,{center:[lr,cr],zoom:ir,scrollWheelZoom:!0,className:"map-container",children:[jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",attribution:"Transportation  Esri",opacity:.6}),jsxRuntimeExports.jsx(Marker,{position:[lr,cr],icon:ClickIcon,children:jsxRuntimeExports.jsx(Tooltip$1,{direction:"top",offset:[0,-20],opacity:1,children:"V tr Click"})}),dr.filter(fr=>fr.maps&&fr.maps.length>0).flatMap(fr=>fr.maps.map((xr,yr)=>{const _r=[xr.lat,xr.long];return ir>=18?jsxRuntimeExports.jsx(CustomMarker,{position:_r,children:jsxRuntimeExports.jsx(PriceTableMap,{vendorData:fr})},`${fr.name||"nhavang"}-${yr}`):jsxRuntimeExports.jsx(Marker,{position:_r,children:jsxRuntimeExports.jsx(Tooltip$1,{direction:"top",offset:[0,-20],opacity:1,permanent:!0,children:fr.name||"Nh vng"})},`${fr.name||"nhavang"}-${yr}`)})),jsxRuntimeExports.jsx(MapEventHandler,{onChange:ur})]})})}const MapEventHandler=({onChange:tr})=>{const Hn=useMap();return useMapEvents({click(er){console.log(" click");const{lat:nr,lng:ir}=er.latlng,rr=Hn.getZoom();tr&&tr({latNew:nr,lngNew:ir,zoomNew:rr})},zoomend(){console.log(" zoom");const er=Hn.getZoom();tr&&tr({latNew:null,lngNew:null,zoomNew:er})}}),null},FilterBar=React.memo(({filterOptions:tr,onFilterChange:Hn,uiFilter:er,setUiFilter:nr,availableCountries:ir,showAnalysis:rr,onToggleAnalysis:sr,showComparison:ar,onToggleComparison:or})=>{const{region:lr,type:cr,day:ur,month:dr,year:fr,hour:xr,minute:yr}=tr,{coords:_r}=useGeolocation(),Sr=reactExports.useCallback(Mr=>{Hn({...tr,type:Mr})},[tr,Hn]),jr=reactExports.useCallback(Mr=>{Mr==="international"&&(nr(Or=>({...Or,distanceKm:"all"})),Hn({...tr,region:Mr,country:"international"})),Mr==="vietnam"&&(nr(Or=>({...Or,distanceKm:"20"})),Hn({...tr,region:Mr,country:"VIETNAM"}))},[tr,Hn,nr]),Dr=Mr=>{nr(Or=>({...Or,sortBy:Mr}))};reactExports.useEffect(()=>{tr.region==="vietnam"&&er.distanceKm==="all"?nr(Mr=>({...Mr,distanceKm:"20"})):tr.region==="international"&&er.distanceKm!=="all"&&nr(Mr=>({...Mr,distanceKm:"all"}))},[tr.region,er.distanceKm,nr]);const Ir=_r?`/map-view/${lr}/${cr}/${ur}/${dr}/${fr}/${xr}/${yr}/13/${_r.latitude}/${_r.longitude}`:"#";return jsxRuntimeExports.jsx("div",{className:"filter-bar",children:jsxRuntimeExports.jsx("div",{className:"filter-container",children:jsxRuntimeExports.jsxs("div",{className:"toolbar",children:[jsxRuntimeExports.jsxs("div",{className:"topbar",children:[jsxRuntimeExports.jsxs("div",{className:"pill-group",children:[jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.region==="vietnam"?"active":""}`,onClick:()=>jr("vietnam"),children:" Vit Nam"}),jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.region==="international"?"active":""}`,onClick:()=>jr("international"),children:" Quc T"})]}),jsxRuntimeExports.jsxs("div",{className:"pill-group",children:[jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.type==="gold"?"active":""}`,onClick:()=>Sr("gold"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.type==="silver"?"active":""}`,onClick:()=>Sr("silver"),children:"Bc"})]}),jsxRuntimeExports.jsx("div",{className:"pill-group",children:jsxRuntimeExports.jsx(Link,{className:`pill-btn ${_r?"":"disabled"}`,to:Ir,onClick:Mr=>!_r&&Mr.preventDefault(),children:"M bn "})}),jsxRuntimeExports.jsxs("div",{className:"pill-group",children:[jsxRuntimeExports.jsx("button",{className:`pill-btn ${rr?"active":""}`,onClick:()=>sr(!rr),children:rr?" Phn tch":" Bng gi"}),jsxRuntimeExports.jsx(Link,{className:"pill-btn",to:"/so-sanh-quoc-gia",style:{marginLeft:"8px",textDecoration:"none"},children:" So snh quc gia"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pill-selects",children:[jsxRuntimeExports.jsxs("label",{className:"pill-select",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Sp xp Theo"}),jsxRuntimeExports.jsxs("select",{value:er.sortBy,onChange:Mr=>Dr(Mr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"reputation",children:" uy tn"}),jsxRuntimeExports.jsx("option",{value:"buyPrice",children:"Gi mua vo"}),jsxRuntimeExports.jsx("option",{value:"sellPrice",children:"Gi bn ra"}),jsxRuntimeExports.jsx("option",{value:"spread",children:"Chnh lch gi"})]})]}),jsxRuntimeExports.jsx(TimeRangeSelector$1,{})]})]})})})});FilterBar.displayName="FilterBar";const PriceTable=({vendorData:tr,isInternational:Hn=!1,reloadCurrent:er,exchangeRateUSD:nr=27109})=>{const ir=useNavigate();if(!tr||!tr.items||tr.items.length===0)return null;const rr=or=>{or&&or.stopPropagation&&or.stopPropagation();const lr=`/${encodeURIComponent(tr.name)}`;ir(lr)};let sr=0,ar=0;return jsxRuntimeExports.jsxs("div",{"data-vendor":tr.name,className:`price-table-card ${Hn?"international-table":""}`,onClick:rr,children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsxs("div",{className:"header-left-info",children:[jsxRuntimeExports.jsx("h2",{className:"vendor-name",children:tr.name}),tr.quoc_gia&&jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsxs("span",{className:"country-badge",children:[" ",tr.quoc_gia]}),jsxRuntimeExports.jsxs("span",{className:"country-badge red ",children:[tr.distance," Km"]})]}),jsxRuntimeExports.jsxs("p",{className:"update-time",children:["Cp nht: ",tr.fetched_at||tr.timestamp]})]}),jsxRuntimeExports.jsxs("div",{children:[tr.do_uy_tin!==void 0&&tr.do_uy_tin!==null&&jsxRuntimeExports.jsxs("p",{className:"trust-badge",style:{color:getTrustColor(tr.do_uy_tin)},children:["  uy tn: ",tr.do_uy_tin]}),jsxRuntimeExports.jsxs("button",{className:"reload-btn",onClick:or=>{or.stopPropagation(),er&&er()},children:[jsxRuntimeExports.jsx(BiRefresh,{size:18,style:{marginRight:6}}),"Ti li"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"price-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"col-product",children:"LOI VNG"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"MUA VO"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN RA"}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{className:"col-price",children:"GI GC (USD)"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI NGN HNG"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:(()=>{const or=dr=>dr.purity==="1KG_BAC_999"||dr.purity==="9999",lr=tr.items.filter(or),cr=tr.items.filter(dr=>!or(dr));return[...lr,...cr].map((dr,fr)=>{const xr=dr.purity==="9999",yr=dr.purity==="1KG_BAC_999";xr&&(dr?.sell?sr=dr?.sell:dr?.buy&&(sr=dr?.buy)),yr&&(dr?.sell?ar=dr?.sell:dr?.buy&&(ar=dr?.buy));const _r=xr?"highlight-9999":yr?"highlight-silver":"";return jsxRuntimeExports.jsxs("tr",{className:_r,children:[jsxRuntimeExports.jsxs("td",{className:"product-name",children:[dr.name||dr.product,xr&&jsxRuntimeExports.jsx("span",{className:"gold-badge",children:" 9999"}),yr&&jsxRuntimeExports.jsx("span",{className:"silver-badge",children:" 1KG"})]}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:formatPrice(dr.buy)}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:formatPrice(dr.sell)}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{className:"price-original",children:dr.gia_goc?`$${dr.gia_goc.toLocaleString("en-US")}`:"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-black-market",children:formatPrice(dr.sell_cho_den)}),jsxRuntimeExports.jsx("td",{className:"rate-black",children:dr.ty_gia_cho_den?dr.ty_gia_cho_den.toLocaleString("vi-VN"):"N/A"}),jsxRuntimeExports.jsx("td",{className:"rate-bank",children:dr.ty_gia_ngan_hang?dr.ty_gia_ngan_hang.toLocaleString("vi-VN"):"N/A"})]})]},fr)})})()})]})}),jsxRuntimeExports.jsx("div",{className:"table-footer",children:(()=>{const or=tr.items.find(dr=>dr.purity==="9999"),lr=tr.items.find(dr=>dr.purity==="1KG_BAC_999"),cr=or?calculateSpread(or.sell,or.buy):null,ur=lr?calculateSpread(lr.sell,lr.buy):null;return jsxRuntimeExports.jsxs("div",{className:"spread-info",children:[sr>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:["Quy i: ",jsxRuntimeExports.jsx("span",{style:{color:"#f1c40f",fontWeight:"bold",fontSize:"14px"},children:(sr/nr/1.20565303).toFixed(2)})," USD / 1 ounce"]}),cr>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Vng 9999:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(cr)})]}),ar>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:["Quy i: ",jsxRuntimeExports.jsx("span",{style:{color:"#ecf0f1"},children:(ar/nr/1e3*31.1035).toFixed(2)})," USD / 1 ounce"]}),ur>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Bc 1KG:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(ur)})]})]})})()})]})},convertToKey=tr=>tr?tr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").toLowerCase().trim().replace(/\s+/g,"_"):"",GoldPriceDashboard=React.memo(({loading:tr,error:Hn,displayedPrices:er,filterOptions:nr,onFilterChange:ir,loadingProgress:rr,availableCountries:sr,showAnalysis:ar,onToggleAnalysis:or,exchangeRateUSD:lr})=>{const cr=useNavigate(),{coords:ur}=useGeolocation(),[dr,fr]=reactExports.useState({sortBy:"reputation",sortOrder:"asc",distanceKm:"all"});reactExports.useEffect(()=>{fr(Hr=>({...Hr,distanceKm:nr.region==="international"?"all":"20"}))},[nr.region,nr.type]);const xr=reactExports.useMemo(()=>{let Hr=[];if(er.forEach(Yr=>{const eo=[],io=[];Yr.items.forEach(uo=>{uo.product==="SJC Tu Do"?eo.push(uo):io.push(uo)}),io.length>0&&Hr.push({...Yr,items:io,skipDistanceFilter:!1}),eo.forEach(uo=>{Hr.push({...Yr,name:Yr.name+" - "+uo.product,items:[uo],do_uy_tin:1,skipDistanceFilter:!0})})}),ur&&(Hr=addDistanceStoresWithinRadius(Hr,ur.latitude,ur.longitude)),dr.distanceKm!=="all"){const Yr=parseInt(dr.distanceKm,10);Hr=Hr.filter(eo=>eo.skipDistanceFilter||eo.distance!=null&&eo.distance<=Yr)}return Hr},[er,ur,dr.distanceKm]),{trustGroups:yr,trustLevels:_r}=reactExports.useMemo(()=>{let Hr={},Yr=[];return dr.sortBy==="reputation"?(xr.forEach(io=>{const uo=io.do_uy_tin??0;Hr[uo]||(Hr[uo]=[]),Hr[uo].push(io)}),Yr=Object.keys(Hr).map(Number).sort((io,uo)=>dr.sortOrder==="asc"?io-uo:uo-io)):(Hr={0:xr},Yr=[0]),{trustGroups:Hr,trustLevels:Yr}},[xr,dr.sortBy,dr.sortOrder]),Sr=reactExports.useCallback(Hr=>{const{sortBy:Yr,sortOrder:eo}=dr;return[...Hr].sort((io,uo)=>{let so=0,no=0;const po=ao=>ao.items.find(xo=>xo.purity==="9999"||xo.product==="SJC Tu Do"),co=po(io),lo=po(uo);switch(Yr){case"buyPrice":so=co?.buy??0,no=lo?.buy??0;break;case"sellPrice":case"gold9999":so=co?.sell??0,no=lo?.sell??0;break;case"reputation":so=io.do_uy_tin??0,no=uo.do_uy_tin??0;break;case"spread":so=co?co.sell-co.buy:0,no=lo?lo.sell-lo.buy:0;break}return eo==="asc"?so-no:no-so})},[dr.sortBy,dr.sortOrder]),jr=dr.sortBy==="reputation",{region:Dr,type:Ir,day:Mr,month:Or,year:Lr,hour:Fr,minute:Vr}=nr,Zr=`/comparison-chart/${Dr}/${Ir}/${Mr}/${Or}/${Lr}/${Fr}/${Vr}/`;return tr&&er.length===0?jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu gi vng..."}),rr.total>0&&jsxRuntimeExports.jsxs("p",{className:"loading-progress",children:[" ti ",rr.loaded,"/",rr.total," ngun"]})]}):Hn?jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",Hn]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FilterBar,{filterOptions:nr,onFilterChange:ir,uiFilter:dr,setUiFilter:fr,availableCountries:sr,showAnalysis:ar,onToggleAnalysis:or}),xr.length===0?jsxRuntimeExports.jsx("div",{className:"no-data",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu  hin th"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[tr&&jsxRuntimeExports.jsxs("div",{className:"loading-banner",children:[jsxRuntimeExports.jsx("span",{className:"spinner-small"}),"ang ti thm... (",rr.loaded,"/",rr.total,")"]}),_r.map(Hr=>{const Yr=Sr(yr[Hr]),eo=Yr.map(io=>convertToKey(io?.name)).join("|");return jsxRuntimeExports.jsxs("div",{className:"trust-group",children:[jr&&jsxRuntimeExports.jsxs("h3",{className:"trust-header",children:["  uy tn ",Hr]}),jsxRuntimeExports.jsxs("div",{className:"group-actions",children:[jsxRuntimeExports.jsx("button",{className:"pill-btn",onClick:()=>cr(`/so-sanh-nha-vang?data=${eo}`),children:"Biu  so snh gi lch s"}),jsxRuntimeExports.jsxs(Link,{to:`${Zr}${Hr}`,className:"pill-btn",children:["Biu  so snh gi ",nr.type==="gold"?"vng":"bc"," hin ti"]})]}),jsxRuntimeExports.jsx("div",{className:`price-grid ${nr.region==="international"?"grid-international":""}`,children:Yr.map((io,uo)=>jsxRuntimeExports.jsx(PriceTable,{vendorData:io,isInternational:nr.region==="international",exchangeRateUSD:lr},`${io.name}-${uo}`))})]},Hr)})]})]})});GoldPriceDashboard.displayName="GoldPriceDashboard";function distanceInKm(tr,Hn,er,nr){const rr=(er-tr)*Math.PI/180,sr=(nr-Hn)*Math.PI/180,ar=Math.sin(rr/2)*Math.sin(rr/2)+Math.cos(tr*Math.PI/180)*Math.cos(er*Math.PI/180)*Math.sin(sr/2)*Math.sin(sr/2),or=2*Math.atan2(Math.sqrt(ar),Math.sqrt(1-ar));return parseInt(6371*or)}const addDistanceStoresWithinRadius=(tr,Hn,er)=>tr.map(nr=>{if(!nr.maps||nr.maps.length===0)return{...nr,distance:0};const ir=nr.maps.map(rr=>distanceInKm(Hn,er,rr.lat,rr.long)).filter(rr=>!isNaN(rr));return ir.length===0?{...nr,distance:0}:{...nr,distance:Math.min(...ir)}});Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend);const formatDateTime$3=tr=>{if(tr==null)return"";try{const Hn=String(tr).trim().replace(" ","T"),er=new Date(Hn);return isNaN(er)?String(tr):er.toLocaleString("vi-VN")}catch{return String(tr)}},formatVND$1=tr=>Math.round(tr).toLocaleString("vi-VN")+" ",sortWeeksAsc=(tr=[])=>{if(!Array.isArray(tr))return[];const Hn=er=>{if(!er)return 0;const nr=er?.dautuan?.datetime||er?.date||er?.datetime||er?.timestamp||er?.id_time||er?.thoigian||er?.cuoituan?.datetime;if(!nr)return 0;const ir=String(nr).split(" ")[0],rr=new Date(ir.replace(" ","T"));return isNaN(rr)?0:rr.getTime()};return tr.slice().map(er=>({wk:er,ts:Hn(er)})).sort((er,nr)=>er.ts-nr.ts).map(er=>er.wk)},renderTable=(tr,Hn,er=[],nr=!1,ir=()=>"",rr=()=>"",sr=()=>[],ar=()=>{},or=()=>{},lr=()=>{},cr=()=>{},ur=()=>{},dr=null,fr=()=>{})=>{if(!Array.isArray(er)||er.length===0)return null;const xr=dr?er.filter(yr=>(yr?.name_server||yr?.name)===(dr?.name_server||dr?.name)):er;return jsxRuntimeExports.jsxs("div",{className:"analysis-block",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{className:`analysis-title-${Hn==="gold"?"gold":"silver"}`,children:tr}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`filter-btn ${nr?"active":""}`,onClick:()=>cr(),"aria-label":`Xem d liu ${nr?"thu gn":"xem thm"}`,style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:nr?"Thu gn":"Xem thm"}),jsxRuntimeExports.jsx("button",{className:"filter-btn",onClick:()=>fr(),style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:" Biu "})]})]}),jsxRuntimeExports.jsxs("table",{className:"analysis-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Nh vng"}),jsxRuntimeExports.jsx("th",{children:"Gi mua"}),jsxRuntimeExports.jsx("th",{children:"Gi bn"}),jsxRuntimeExports.jsx("th",{children:"Li nhun"}),jsxRuntimeExports.jsx("th",{children:"T l (%)"})]})}),jsxRuntimeExports.jsx("tbody",{children:xr.filter(yr=>typeof yr.loinhuan=="number"&&typeof yr.tilephantram_all=="number").map((yr,_r)=>{const Sr=nr?sr(yr):[];return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{"data-vendor":yr?.name_server||yr?.name,title:`Ngy mua u: ${formatDateTime$3(yr?.cuoi?.datetime)}
Ngy mua cui: ${formatDateTime$3(yr?.dau?.datetime)}`,children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{style:{fontSize:"13px",cursor:"pointer"},onClick:()=>ur(yr),role:"button",tabIndex:0,children:yr.name_server}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",fontSize:"13px"},children:(()=>{const jr=new Date(String(yr?.dau?.datetime||"").replace(" ","T")),Dr=new Date(String(yr?.cuoi?.datetime||"").replace(" ","T")),Ir=jr<Dr?jr:Dr,Mr=jr<Dr?Dr:jr;return`${Ir.toLocaleDateString("vi-VN")} - ${Mr.toLocaleDateString("vi-VN")}`})()})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"14px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const jr=yr?.cuoi?.buy||yr?.cuoi?.gia||yr?.cuoi?.price;return jr?formatVND$1(jr):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const jr=yr?.dau?.buy||yr?.dau?.gia||yr?.dau?.price;return jr?formatVND$1(jr):""})()})]})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"14px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const jr=yr?.cuoi?.sell||yr?.cuoi?.gia_ban||yr?.cuoi?.price_sell;return jr?formatVND$1(jr):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const jr=yr?.dau?.sell||yr?.dau?.gia_ban||yr?.dau?.price_sell;return jr?formatVND$1(jr):""})()})]})]})}),jsxRuntimeExports.jsx("td",{className:yr.loinhuan>=0?"text-up":"text-down",children:formatVND$1(yr.loinhuan)}),jsxRuntimeExports.jsxs("td",{className:yr.tilephantram_all>=0?"text-up":"text-down",children:[yr.tilephantram_all.toFixed(2),"%"]})]}),nr&&Sr.length>0&&sortWeeksAsc(Sr).map((jr,Dr)=>{const Ir=ar(jr,Dr),Mr=ir(jr),Or=rr(jr),Lr=or(jr),Fr=lr(jr);return jsxRuntimeExports.jsxs("tr",{style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[jsxRuntimeExports.jsxs("td",{style:{fontSize:"13px",color:"var(--muted)"},children:[jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Ir.label}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Ir.range})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u tun:"}),jsxRuntimeExports.jsx("small",{children:Mr})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui tun:"}),jsxRuntimeExports.jsx("small",{children:Or})]})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u tun:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!jr)return"";if(jr.dautuan){if(typeof jr.dautuan?.sell=="number")return formatVND$1(jr.dautuan.sell);if(typeof jr.dautuan?.gia_ban=="number")return formatVND$1(jr.dautuan.gia_ban);if(typeof jr.dautuan?.price_sell=="number")return formatVND$1(jr.dautuan.price_sell)}return typeof jr.sell_dau=="number"?formatVND$1(jr.sell_dau):typeof jr.gia_ban_dau=="number"?formatVND$1(jr.gia_ban_dau):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui tun:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!jr)return"";if(jr.cuoituan){if(typeof jr.cuoituan?.sell=="number")return formatVND$1(jr.cuoituan.sell);if(typeof jr.cuoituan?.gia_ban=="number")return formatVND$1(jr.cuoituan.gia_ban);if(typeof jr.cuoituan?.price_sell=="number")return formatVND$1(jr.cuoituan.price_sell)}return typeof jr.sell_cuoi=="number"?formatVND$1(jr.sell_cuoi):typeof jr.gia_ban_cuoi=="number"?formatVND$1(jr.gia_ban_cuoi):""})()})]})]})}),jsxRuntimeExports.jsx("td",{className:Lr.isPositive===!0?"text-up":Lr.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Lr.value})}),jsxRuntimeExports.jsx("td",{className:Fr.isPositive===!0?"text-up":Fr.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Fr.value})})]},`week-${Dr}`)})]},_r)})})]})]})},ComparisonChart$1=({type:tr,data:Hn,title:er})=>{if(!Array.isArray(Hn)||Hn.length===0)return jsxRuntimeExports.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{color:tr==="gold"?"#f1c40f":"#c0c0c0"},children:er}),jsxRuntimeExports.jsx("p",{children:"Khng c d liu"})]});const nr=[...Hn].sort((sr,ar)=>ar.loinhuan-sr.loinhuan),ir={labels:nr.map(sr=>sr.name_server),datasets:[{type:"bar",label:"Li nhun (VND)",data:nr.map(sr=>sr.loinhuan||0),backgroundColor:tr==="gold"?"#f1c40f":"#c0c0c0",borderColor:tr==="gold"?"#f39c12":"#95a5a6",borderWidth:1,yAxisID:"y1"},{type:"line",label:"T l (%)",data:nr.map(sr=>sr.tilephantram_all||0),borderColor:tr==="gold"?"#f39c12":"#95a5a6",backgroundColor:tr==="gold"?"rgba(241, 196, 15, 0.1)":"rgba(192, 192, 192, 0.1)",yAxisID:"y2",tension:.3,pointRadius:4,pointBackgroundColor:tr==="gold"?"#f39c12":"#95a5a6",pointBorderColor:"#fff"}]},rr={responsive:!0,maintainAspectRatio:!1,scales:{y1:{position:"left",title:{display:!0,text:"Li nhun (VND)",color:"white"},ticks:{color:"white",callback:function(sr){return Math.round(sr/1e6)+"M"}},grid:{color:"rgba(255, 255, 255, 0.1)"}},y2:{position:"right",title:{display:!0,text:"T l (%)",color:"white"},ticks:{color:"white"},grid:{display:!1},min:0,max:function(sr){return Math.max(...sr.chart.data.datasets[1].data)*1.5}},x:{ticks:{color:"#e74c3c",maxRotation:30,minRotation:30,font:{size:10},maxTicksLimit:20,callback:function(sr,ar,or){return this.getLabelForValue(sr)}},grid:{display:!1}}},plugins:{legend:{display:!0,position:"top",labels:{color:"white",font:{size:12},usePointStyle:!0}},tooltip:{mode:"index",intersect:!1,callbacks:{label:sr=>sr.dataset.label==="Li nhun (VND)"?`Li nhun: ${formatVND$1(sr.raw)}`:`T l: ${Number(sr.raw).toFixed(2)}%`}}}};return jsxRuntimeExports.jsxs("div",{style:{marginBottom:"30px"},children:[jsxRuntimeExports.jsx("h3",{style:{color:tr==="gold"?"#f1c40f":"#c0c0c0",textAlign:"center",marginBottom:"10px"},children:er}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",color:"#e74c3c",fontSize:"14px",fontWeight:"600"},children:["Khong thi gian so snh: ",(()=>{if(nr.length>0){const sr=nr[0],ar=sr?.dau?.datetime,or=sr?.cuoi?.datetime;if(ar&&or){const lr=new Date(ar),cr=new Date(or),ur=lr<cr?lr:cr,dr=lr<cr?cr:lr;return`${ur.toLocaleDateString("vi-VN")} - ${dr.toLocaleDateString("vi-VN")}`}}return"Thi gian khng xc nh"})()]}),jsxRuntimeExports.jsx("div",{style:{padding:"20px",display:"flex",justifyContent:"center",height:"400px"},children:jsxRuntimeExports.jsx(Chart,{data:ir,options:rr,plugins:[{id:"datalabels",afterDraw:sr=>{const ar=sr.ctx;ar.font="bold 11px Arial",ar.textAlign="center",ar.textBaseline="bottom",sr.data.datasets.forEach((or,lr)=>{or.type==="bar"&&sr.getDatasetMeta(lr).data.forEach((ur,dr)=>{const fr=sr.data.datasets.find(yr=>yr.type==="line"),xr=fr?fr.data[dr]:0;if(xr!==0){const yr=ur.x,_r=ur.y-6;ar.fillStyle=tr==="gold"?"#f1c40f":"#c0c0c0",ar.fillText(xr.toFixed(2)+"%",yr,_r)}})})}}]})})]})},GoldSilverSummary=()=>{const tr=["VANG ANCARAT","BAO TIN MANH HAI","KIM NGN PHC H NI","VANG BTMC","SINH DIN BC NINH","Anh Minh H Tng Mu HN","Sacombank-SBJ GOLD","VANG DOJI","VANG PNJ","BAO TIN LAN VY CU GIY HN","Mi Hong 9999","NGC THM NG THP","Ph Qu Vng"],Hn=["BAC ANCARAT","KIM NGN PHC H NI","Kim Khnh H Nam","Anh Minh H Tng Mu HN","Ph Qu Bc","Sacombank-SBJ Silver","KIM TN CAO BNG"],[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(!0),[xr,yr]=reactExports.useState("gold");reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/phantich_tangtruong_toanbo_vangbac").then(no=>no.json()).then(no=>{const po=no?.data?.results;if(po){rr(po);const co={vang:(po.vang||[]).filter(lo=>tr.includes(lo?.name_server||lo?.name)),bac:(po.bac||[]).filter(lo=>Hn.includes(lo?.name_server||lo?.name))};nr(co)}else nr(null),rr(null)}).catch(()=>{nr(null),rr(null)})},[]);const _r=useLocation(),Sr=useNavigate();reactExports.useEffect(()=>{const po=new URLSearchParams(_r.search).get("chart");fr(po===null||po==="combined"?!0:po!=="table")},[_r.search]);const jr=()=>{const no=new URLSearchParams(_r.search);no.set("chart","combined"),Sr(`${_r.pathname}?${no.toString()}`,{replace:!0}),fr(!0)},Dr=()=>{const no=new URLSearchParams(_r.search);no.set("chart","table");const po=no.toString();Sr(`${_r.pathname}?${po}`,{replace:!0}),fr(!1)},[Ir,Mr]=reactExports.useState(!1),[Or,Lr]=reactExports.useState([]),[Fr,Vr]=reactExports.useState(""),Zr=no=>{if(!no)return[];const po=[no.cac_tuan,no.phan_tich_cactuan,no.phantich_cactuan,no.phan_tich?.cactuan,no.phantich?.cactuan,no.weeks,no.list_week,no.list_weeks,no.weekly,no.phantich];for(const co of po)if(Array.isArray(co)&&co.length)return co;return[]},Hr=(no,po)=>{const co=no?.dautuan?.datetime,lo=no?.cuoituan?.datetime;let ao="",xo="";if(co){const _o=String(co).split(" ")[0];try{const Po=new Date(_o.replace(" ","T"));isNaN(Po)||(ao=Po.toLocaleDateString("vi-VN"))}catch{}}if(lo){const _o=String(lo).split(" ")[0];try{const Po=new Date(_o.replace(" ","T"));isNaN(Po)||(xo=Po.toLocaleDateString("vi-VN"))}catch{}}return{label:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs("strong",{children:["Tun ",po+1]})}),range:`${ao}-${xo}`}},Yr=no=>{if(!no)return{value:"",isPositive:null};if(typeof no.loinhuan=="number")return{value:formatVND$1(no.loinhuan),isPositive:no.loinhuan>=0};if(typeof no.loinhuan_vnd=="number")return{value:formatVND$1(no.loinhuan_vnd),isPositive:no.loinhuan_vnd>=0};if(typeof no.loi_nhuan=="number")return{value:formatVND$1(no.loi_nhuan),isPositive:no.loi_nhuan>=0};for(const po of Object.keys(no||{}))if(po.includes("loinhuan")&&typeof no[po]=="number")return{value:formatVND$1(no[po]),isPositive:no[po]>=0};return{value:"",isPositive:null}},eo=no=>{if(!no)return{value:"",isPositive:null};if(typeof no.tilephantram_1tuan=="number")return{value:`${no.tilephantram_1tuan.toFixed(2)}%`,isPositive:no.tilephantram_1tuan>=0};if(typeof no.tilephantram=="number")return{value:`${no.tilephantram.toFixed(2)}%`,isPositive:no.tilephantram>=0};if(typeof no.ti_le_tang_truong=="number")return{value:`${no.ti_le_tang_truong.toFixed(2)}%`,isPositive:no.ti_le_tang_truong>=0};if(typeof no.tilephantram_all=="number")return{value:`${no.tilephantram_all.toFixed(2)}%`,isPositive:no.tilephantram_all>=0};for(const po of Object.keys(no||{}))if((po.includes("tile")||po.includes("percent"))&&typeof no[po]=="number")return{value:`${Number(no[po]).toFixed(2)}%`,isPositive:no[po]>=0};return{value:"",isPositive:null}},io=no=>{if(!no)return"";if(no.dautuan){if(typeof no.dautuan?.buy=="number")return formatVND$1(no.dautuan.buy);if(typeof no.dautuan?.gia=="number")return formatVND$1(no.dautuan.gia);if(typeof no.dautuan?.price=="number")return formatVND$1(no.dautuan.price);if(typeof no.dautuan?.gia_mua=="number")return formatVND$1(no.dautuan.gia_mua)}if(typeof no.gia_dau=="number")return formatVND$1(no.gia_dau);if(typeof no.gia_dau_tuan=="number")return formatVND$1(no.gia_dau_tuan);if(typeof no.open_price=="number")return formatVND$1(no.open_price);for(const po of Object.keys(no||{}))if((po.includes("gia_dau")||po.includes("open"))&&typeof no[po]=="number")return formatVND$1(no[po]);return""},uo=no=>{if(!no)return"";if(no.cuoituan){if(typeof no.cuoituan?.buy=="number")return formatVND$1(no.cuoituan.buy);if(typeof no.cuoituan?.gia=="number")return formatVND$1(no.cuoituan.gia);if(typeof no.cuoituan?.price=="number")return formatVND$1(no.cuoituan.price);if(typeof no.cuoituan?.gia_mua=="number")return formatVND$1(no.cuoituan.gia_mua)}if(typeof no.gia_cuoi=="number")return formatVND$1(no.gia_cuoi);if(typeof no.gia_cuoi_tuan=="number")return formatVND$1(no.gia_cuoi_tuan);if(typeof no.close_price=="number")return formatVND$1(no.close_price);for(const po of Object.keys(no||{}))if((po.includes("gia_cuoi")||po.includes("close"))&&typeof no[po]=="number")return formatVND$1(no[po]);return""},so=no=>{ur(no)};if(reactExports.useEffect(()=>{const po=new URLSearchParams(_r.search).get("vendor");if(po&&er){const lo=(er.vang||[]).concat(er.bac||[]).find(ao=>(ao?.name_server||ao?.name)===po);if(lo){let ao=Zr(lo)||[];ao=ao.sort((xo,_o)=>{const Po=new Date(String(xo?.dautuan?.datetime||xo?.date||"").replace(" ","T")),Oo=new Date(String(_o?.dautuan?.datetime||_o?.date||"").replace(" ","T"));return Po-Oo}),Vr(lo?.name_server||lo?.name||""),Lr(ao),Mr(!0)}}},[_r.search,er]),reactExports.useEffect(()=>{if(!Ir){const no=new URLSearchParams(_r.search);if(no.has("vendor")){no.delete("vendor");const po=no.toString();Sr(`${_r.pathname}${po?`?${po}`:""}`,{replace:!0})}}},[Ir]),!er)return jsxRuntimeExports.jsx("p",{children:" ang ti..."});if(cr){const no=cr,po=Zr(no)||[];return jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>ur(null),children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"var(--bg-secondary)",borderRadius:"8px",padding:"20px",maxHeight:"90vh",overflowY:"auto",maxWidth:"900px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},onClick:co=>co.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0},children:no?.name_server||no?.name}),jsxRuntimeExports.jsx("button",{onClick:()=>ur(null),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),jsxRuntimeExports.jsxs("table",{className:"analysis-table",style:{width:"100%"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tun"}),jsxRuntimeExports.jsx("th",{children:"Gi mua"}),jsxRuntimeExports.jsx("th",{children:"Gi bn"}),jsxRuntimeExports.jsx("th",{children:"Li nhun"}),jsxRuntimeExports.jsx("th",{children:"T l (%)"})]})}),jsxRuntimeExports.jsx("tbody",{children:sortWeeksAsc(po).map((co,lo)=>{const ao=Hr(co,lo),xo=io(co),_o=uo(co),Po=Yr(co),Oo=eo(co);return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{style:{fontSize:"13px",color:"var(--muted)"},children:[jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:ao.label}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:ao.range})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:xo})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:_o})]})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!co)return"";if(co.dautuan){if(typeof co.dautuan?.sell=="number")return formatVND$1(co.dautuan.sell);if(typeof co.dautuan?.gia_ban=="number")return formatVND$1(co.dautuan.gia_ban);if(typeof co.dautuan?.price_sell=="number")return formatVND$1(co.dautuan.price_sell)}return typeof co.sell_dau=="number"?formatVND$1(co.sell_dau):typeof co.gia_ban_dau=="number"?formatVND$1(co.gia_ban_dau):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!co)return"";if(co.cuoituan){if(typeof co.cuoituan?.sell=="number")return formatVND$1(co.cuoituan.sell);if(typeof co.cuoituan?.gia_ban=="number")return formatVND$1(co.cuoituan.gia_ban);if(typeof co.cuoituan?.price_sell=="number")return formatVND$1(co.cuoituan.price_sell)}return typeof co.sell_cuoi=="number"?formatVND$1(co.sell_cuoi):typeof co.gia_ban_cuoi=="number"?formatVND$1(co.gia_ban_cuoi):""})()})]})]})}),jsxRuntimeExports.jsx("td",{className:Po.isPositive===!0?"text-up":Po.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Po.value})}),jsxRuntimeExports.jsx("td",{className:Oo.isPositive===!0?"text-up":Oo.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Oo.value})})]},`week-${lo}`)})})]})]})})}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:dr?jsxRuntimeExports.jsxs("div",{className:"analysis-block",children:[jsxRuntimeExports.jsx("div",{style:{backgroundColor:"rgba(241, 196, 15, 0.1)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid rgba(241, 196, 15, 0.3)"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#f1c40f",margin:"0 0 5px 0",fontSize:"16px",fontWeight:"bold"},children:" TOOL PHN TCH GI VNG - BC - T GI"}),jsxRuntimeExports.jsxs("p",{style:{color:"#94a3b8",margin:0,fontSize:"13px"},children:["Cp nht ln cui: ",(()=>{if(er?.vang&&er.vang.length>0){const no=er.vang[0],po=no?.cuoi?.datetime||no?.dau?.datetime;if(po)return new Date(po).toLocaleString("vi-VN")}if(er?.bac&&er.bac.length>0){const no=er.bac[0],po=no?.cuoi?.datetime||no?.dau?.datetime;if(po)return new Date(po).toLocaleString("vi-VN")}return new Date().toLocaleString("vi-VN")})()]})]}),jsxRuntimeExports.jsx("div",{style:{color:"#e74c3c",fontSize:"12px",fontStyle:"italic",textAlign:"right"},children:"Thi gian update cui cng hin th  y"})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{className:"analysis-title-gold",children:" Biu  Phn tch Tng trng"}),jsxRuntimeExports.jsx("button",{className:"filter-btn active",onClick:()=>Dr(),style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:" Xem bng"})]}),jsxRuntimeExports.jsx(ComparisonChart$1,{type:"gold",data:er?.vang,title:" Biu  Tng trng Vng"}),jsxRuntimeExports.jsx(ComparisonChart$1,{type:"silver",data:er?.bac,title:" Biu  Tng trng Bc"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[renderTable(" Phn tch tng trng ca Vng ca cc nh vng","gold",sr?ir?.vang:er?.vang,sr,io,uo,Zr,Hr,Yr,eo,()=>{ar(!sr)},so,cr,()=>{jr()}),renderTable(" Phn tch tng trng ca Bc ca cc nh vng","silver",or?ir?.bac:er?.bac,or,io,uo,Zr,Hr,Yr,eo,()=>{lr(!or)},so,cr,()=>{jr()})]})})},getSymbolName=tr=>({"FX_IDC:XAUUSD":"Vng Th gii (XAU/USD)","OANDA:XAUXAG":"T l Vng/Bc (XAU/XAG)","FX_IDC:XAGUSD":"Bc Th gii (XAG/USD)","TICKMILL:DXY":"Dollar Index (DXY)"})[tr]||tr,FullScreenChart=({symbol:tr})=>{const Hn=buildFullScreenEmbedUrl(tr);return jsxRuntimeExports.jsx("div",{className:"fullscreen-chart-container",style:{height:"100%",width:"100%"},children:jsxRuntimeExports.jsx("iframe",{src:Hn,frameBorder:"0",allow:"transparency; fullscreen",allowFullScreen:!0,className:"tradingview-fullscreen-iframe",title:getSymbolName(tr),style:{width:"100%",height:"100%"}})})},buildFullScreenEmbedUrl=tr=>{const Hn="https://www.tradingview-widget.com/embed-widget/advanced-chart/";let er="5",nr=!1,ir=!1;tr==="TICKMILL:DXY"&&(er="60",nr=!0,ir=!1),tr==="FX_IDC:XAUUSD"&&(er="5",nr=!1);const sr=JSON.stringify({width:"100%",height:"100%",symbol:tr,interval:er,timezone:"Asia/Ho_Chi_Minh",theme:"dark",style:"1",backgroundColor:"rgba(26, 26, 26, 1)",withdateranges:!0,hide_side_toolbar:!1,hide_top_toolbar:!1,hide_legend:ir,hide_volume:nr,allow_symbol_change:!0,details:!0,hotlist:tr!=="TICKMILL:DXY",show_popup_button:!0,save_image:!0,autosize:!0,support_host:"https://www.tradingview.com",utm_source:tr==="TICKMILL:DXY"?"vangsaigon.vn":"giavang.org",utm_medium:tr==="TICKMILL:DXY"?"widget":"widget_new",utm_campaign:"advanced-chart","page-uri":tr==="TICKMILL:DXY"?"vangsaigon.vn/":"giavang.org/the-gioi/",locale:"vi_VN"}),ar=encodeURIComponent(sr);return`${Hn}?locale=vi_VN#${ar}`},MiniTradingViewChart=({symbol:tr,onClick:Hn})=>{const er=buildEmbedUrl(tr,!0);return jsxRuntimeExports.jsxs("div",{className:"mini-tradingview-chart",onClick:()=>Hn&&Hn(tr),children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:getSymbolName(tr)}),jsxRuntimeExports.jsx("span",{className:"zoom-hint",children:"Click  phng to"})]}),jsxRuntimeExports.jsx("div",{className:"chart-container",style:{width:"100%"},children:jsxRuntimeExports.jsx("iframe",{src:er,frameBorder:"0",allow:"transparency; fullscreen",allowFullScreen:!0,className:"tradingview-iframe",title:getSymbolName(tr),style:{width:"100%",height:"100%",pointerEvents:"none"}})})]})},buildEmbedUrl=(tr,Hn=!1)=>{const er="https://www.tradingview-widget.com/embed-widget/advanced-chart/";let nr="5",ir=!1,rr=!1;tr==="TICKMILL:DXY"&&(nr="5",ir=!0,rr=!1),tr==="FX_IDC:XAUUSD"&&(nr="5",ir=!1);const ar=JSON.stringify({width:"100%",height:"100%",symbol:tr,interval:nr,timezone:"Asia/Ho_Chi_Minh",theme:"dark",style:"1",backgroundColor:"rgba(26, 26, 26, 1)",withdateranges:!0,hide_side_toolbar:Hn,hide_top_toolbar:!1,hide_legend:rr,hide_volume:ir,allow_symbol_change:!Hn,details:!Hn,hotlist:!Hn,show_popup_button:!Hn,save_image:!0,autosize:!0,support_host:"https://www.tradingview.com",utm_source:tr==="TICKMILL:DXY"?"vangsaigon.vn":"giavang.org",utm_medium:tr==="TICKMILL:DXY"?"widget":"widget_new",utm_campaign:"advanced-chart","page-uri":tr==="TICKMILL:DXY"?"vangsaigon.vn/":"giavang.org/the-gioi/",locale:"vi_VN"}),or=encodeURIComponent(ar);return`${er}?locale=vi_VN#${or}`};function r$2(tr){var Hn,er,nr="";if(typeof tr=="string"||typeof tr=="number")nr+=tr;else if(typeof tr=="object")if(Array.isArray(tr)){var ir=tr.length;for(Hn=0;Hn<ir;Hn++)tr[Hn]&&(er=r$2(tr[Hn]))&&(nr&&(nr+=" "),nr+=er)}else for(er in tr)tr[er]&&(nr&&(nr+=" "),nr+=er);return nr}function clsx(){for(var tr,Hn,er=0,nr="",ir=arguments.length;er<ir;er++)(tr=arguments[er])&&(Hn=r$2(tr))&&(nr&&(nr+=" "),nr+=Hn);return nr}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(tr){if(typeof tr!="string")return!1;var Hn=EventKeys;return Hn.includes(tr)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SVGElementPropKeySet=new Set(SVGElementPropKeys);function isSvgElementPropKey(tr){return typeof tr!="string"?!1:SVGElementPropKeySet.has(tr)}function isDataAttribute(tr){return typeof tr=="string"&&tr.startsWith("data-")}function svgPropertiesNoEvents(tr){if(typeof tr!="object"||tr===null)return{};var Hn={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&(isSvgElementPropKey(er)||isDataAttribute(er))&&(Hn[er]=tr[er]);return Hn}function svgPropertiesNoEventsFromUnknown(tr){if(tr==null)return null;if(reactExports.isValidElement(tr)&&typeof tr.props=="object"&&tr.props!==null){var Hn=tr.props;return svgPropertiesNoEvents(Hn)}return typeof tr=="object"&&!Array.isArray(tr)?svgPropertiesNoEvents(tr):null}function svgPropertiesAndEvents(tr){var Hn={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&(isSvgElementPropKey(er)||isDataAttribute(er)||isEventKey(er))&&(Hn[er]=tr[er]);return Hn}var _excluded$k=["children","width","height","viewBox","className","style","title","desc"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$o.apply(null,arguments)}function _objectWithoutProperties$j(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$k(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$k(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var Surface=reactExports.forwardRef((tr,Hn)=>{var{children:er,width:nr,height:ir,viewBox:rr,className:sr,style:ar,title:or,desc:lr}=tr,cr=_objectWithoutProperties$j(tr,_excluded$k),ur=rr||{width:nr,height:ir,x:0,y:0},dr=clsx("recharts-surface",sr);return reactExports.createElement("svg",_extends$o({},svgPropertiesAndEvents(cr),{className:dr,width:nr,height:ir,style:ar,viewBox:"".concat(ur.x," ").concat(ur.y," ").concat(ur.width," ").concat(ur.height),ref:Hn}),reactExports.createElement("title",null,or),reactExports.createElement("desc",null,lr),er)}),_excluded$j=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$n.apply(null,arguments)}function _objectWithoutProperties$i(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$j(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$j(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var Layer=reactExports.forwardRef((tr,Hn)=>{var{children:er,className:nr}=tr,ir=_objectWithoutProperties$i(tr,_excluded$j),rr=clsx("recharts-layer",nr);return reactExports.createElement("g",_extends$n({className:rr},svgPropertiesAndEvents(ir),{ref:Hn}),er)}),LegendPortalContext=reactExports.createContext(null);function constant$1(tr){return function(){return tr}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$3=Math.PI,tau$1=2*pi$3,pi$2=Math.PI,tau=2*pi$2,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(tr){this._+=tr[0];for(let Hn=1,er=tr.length;Hn<er;++Hn)this._+=arguments[Hn]+tr[Hn]}function appendRound(tr){let Hn=Math.floor(tr);if(!(Hn>=0))throw new Error(`invalid digits: ${tr}`);if(Hn>15)return append;const er=10**Hn;return function(nr){this._+=nr[0];for(let ir=1,rr=nr.length;ir<rr;++ir)this._+=Math.round(arguments[ir]*er)/er+nr[ir]}}let Path$1=class{constructor(Hn){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Hn==null?append:appendRound(Hn)}moveTo(Hn,er){this._append`M${this._x0=this._x1=+Hn},${this._y0=this._y1=+er}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(Hn,er){this._append`L${this._x1=+Hn},${this._y1=+er}`}quadraticCurveTo(Hn,er,nr,ir){this._append`Q${+Hn},${+er},${this._x1=+nr},${this._y1=+ir}`}bezierCurveTo(Hn,er,nr,ir,rr,sr){this._append`C${+Hn},${+er},${+nr},${+ir},${this._x1=+rr},${this._y1=+sr}`}arcTo(Hn,er,nr,ir,rr){if(Hn=+Hn,er=+er,nr=+nr,ir=+ir,rr=+rr,rr<0)throw new Error(`negative radius: ${rr}`);let sr=this._x1,ar=this._y1,or=nr-Hn,lr=ir-er,cr=sr-Hn,ur=ar-er,dr=cr*cr+ur*ur;if(this._x1===null)this._append`M${this._x1=Hn},${this._y1=er}`;else if(dr>epsilon)if(!(Math.abs(ur*or-lr*cr)>epsilon)||!rr)this._append`L${this._x1=Hn},${this._y1=er}`;else{let fr=nr-sr,xr=ir-ar,yr=or*or+lr*lr,_r=fr*fr+xr*xr,Sr=Math.sqrt(yr),jr=Math.sqrt(dr),Dr=rr*Math.tan((pi$2-Math.acos((yr+dr-_r)/(2*Sr*jr)))/2),Ir=Dr/jr,Mr=Dr/Sr;Math.abs(Ir-1)>epsilon&&this._append`L${Hn+Ir*cr},${er+Ir*ur}`,this._append`A${rr},${rr},0,0,${+(ur*fr>cr*xr)},${this._x1=Hn+Mr*or},${this._y1=er+Mr*lr}`}}arc(Hn,er,nr,ir,rr,sr){if(Hn=+Hn,er=+er,nr=+nr,sr=!!sr,nr<0)throw new Error(`negative radius: ${nr}`);let ar=nr*Math.cos(ir),or=nr*Math.sin(ir),lr=Hn+ar,cr=er+or,ur=1^sr,dr=sr?ir-rr:rr-ir;this._x1===null?this._append`M${lr},${cr}`:(Math.abs(this._x1-lr)>epsilon||Math.abs(this._y1-cr)>epsilon)&&this._append`L${lr},${cr}`,nr&&(dr<0&&(dr=dr%tau+tau),dr>tauEpsilon?this._append`A${nr},${nr},0,1,${ur},${Hn-ar},${er-or}A${nr},${nr},0,1,${ur},${this._x1=lr},${this._y1=cr}`:dr>epsilon&&this._append`A${nr},${nr},0,${+(dr>=pi$2)},${ur},${this._x1=Hn+nr*Math.cos(rr)},${this._y1=er+nr*Math.sin(rr)}`)}rect(Hn,er,nr,ir){this._append`M${this._x0=this._x1=+Hn},${this._y0=this._y1=+er}h${nr=+nr}v${+ir}h${-nr}Z`}toString(){return this._}};function withPath(tr){let Hn=3;return tr.digits=function(er){if(!arguments.length)return Hn;if(er==null)Hn=null;else{const nr=Math.floor(er);if(!(nr>=0))throw new RangeError(`invalid digits: ${er}`);Hn=nr}return tr},()=>new Path$1(Hn)}function array(tr){return typeof tr=="object"&&"length"in tr?tr:Array.from(tr)}function Linear(tr){this._context=tr}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;default:this._context.lineTo(tr,Hn);break}}};function curveLinear(tr){return new Linear(tr)}function x$3(tr){return tr[0]}function y$4(tr){return tr[1]}function shapeLine(tr,Hn){var er=constant$1(!0),nr=null,ir=curveLinear,rr=null,sr=withPath(ar);tr=typeof tr=="function"?tr:tr===void 0?x$3:constant$1(tr),Hn=typeof Hn=="function"?Hn:Hn===void 0?y$4:constant$1(Hn);function ar(or){var lr,cr=(or=array(or)).length,ur,dr=!1,fr;for(nr==null&&(rr=ir(fr=sr())),lr=0;lr<=cr;++lr)!(lr<cr&&er(ur=or[lr],lr,or))===dr&&((dr=!dr)?rr.lineStart():rr.lineEnd()),dr&&rr.point(+tr(ur,lr,or),+Hn(ur,lr,or));if(fr)return rr=null,fr+""||null}return ar.x=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$1(+or),ar):tr},ar.y=function(or){return arguments.length?(Hn=typeof or=="function"?or:constant$1(+or),ar):Hn},ar.defined=function(or){return arguments.length?(er=typeof or=="function"?or:constant$1(!!or),ar):er},ar.curve=function(or){return arguments.length?(ir=or,nr!=null&&(rr=ir(nr)),ar):ir},ar.context=function(or){return arguments.length?(or==null?nr=rr=null:rr=ir(nr=or),ar):nr},ar}function shapeArea(tr,Hn,er){var nr=null,ir=constant$1(!0),rr=null,sr=curveLinear,ar=null,or=withPath(lr);tr=typeof tr=="function"?tr:tr===void 0?x$3:constant$1(+tr),Hn=typeof Hn=="function"?Hn:constant$1(Hn===void 0?0:+Hn),er=typeof er=="function"?er:er===void 0?y$4:constant$1(+er);function lr(ur){var dr,fr,xr,yr=(ur=array(ur)).length,_r,Sr=!1,jr,Dr=new Array(yr),Ir=new Array(yr);for(rr==null&&(ar=sr(jr=or())),dr=0;dr<=yr;++dr){if(!(dr<yr&&ir(_r=ur[dr],dr,ur))===Sr)if(Sr=!Sr)fr=dr,ar.areaStart(),ar.lineStart();else{for(ar.lineEnd(),ar.lineStart(),xr=dr-1;xr>=fr;--xr)ar.point(Dr[xr],Ir[xr]);ar.lineEnd(),ar.areaEnd()}Sr&&(Dr[dr]=+tr(_r,dr,ur),Ir[dr]=+Hn(_r,dr,ur),ar.point(nr?+nr(_r,dr,ur):Dr[dr],er?+er(_r,dr,ur):Ir[dr]))}if(jr)return ar=null,jr+""||null}function cr(){return shapeLine().defined(ir).curve(sr).context(rr)}return lr.x=function(ur){return arguments.length?(tr=typeof ur=="function"?ur:constant$1(+ur),nr=null,lr):tr},lr.x0=function(ur){return arguments.length?(tr=typeof ur=="function"?ur:constant$1(+ur),lr):tr},lr.x1=function(ur){return arguments.length?(nr=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):nr},lr.y=function(ur){return arguments.length?(Hn=typeof ur=="function"?ur:constant$1(+ur),er=null,lr):Hn},lr.y0=function(ur){return arguments.length?(Hn=typeof ur=="function"?ur:constant$1(+ur),lr):Hn},lr.y1=function(ur){return arguments.length?(er=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):er},lr.lineX0=lr.lineY0=function(){return cr().x(tr).y(Hn)},lr.lineY1=function(){return cr().x(tr).y(er)},lr.lineX1=function(){return cr().x(nr).y(Hn)},lr.defined=function(ur){return arguments.length?(ir=typeof ur=="function"?ur:constant$1(!!ur),lr):ir},lr.curve=function(ur){return arguments.length?(sr=ur,rr!=null&&(ar=sr(rr)),lr):sr},lr.context=function(ur){return arguments.length?(ur==null?rr=ar=null:ar=sr(rr=ur),lr):rr},lr}class Bump{constructor(Hn,er){this._context=Hn,this._x=er}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(Hn,er){switch(Hn=+Hn,er=+er,this._point){case 0:{this._point=1,this._line?this._context.lineTo(Hn,er):this._context.moveTo(Hn,er);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+Hn)/2,this._y0,this._x0,er,Hn,er):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+er)/2,Hn,this._y0,Hn,er);break}}this._x0=Hn,this._y0=er}}function bumpX(tr){return new Bump(tr,!0)}function bumpY(tr){return new Bump(tr,!1)}const symbolCircle={draw(tr,Hn){const er=sqrt$1(Hn/pi$3);tr.moveTo(er,0),tr.arc(0,0,er,0,tau$1)}},symbolCross={draw(tr,Hn){const er=sqrt$1(Hn/5)/2;tr.moveTo(-3*er,-er),tr.lineTo(-er,-er),tr.lineTo(-er,-3*er),tr.lineTo(er,-3*er),tr.lineTo(er,-er),tr.lineTo(3*er,-er),tr.lineTo(3*er,er),tr.lineTo(er,er),tr.lineTo(er,3*er),tr.lineTo(-er,3*er),tr.lineTo(-er,er),tr.lineTo(-3*er,er),tr.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(tr,Hn){const er=sqrt$1(Hn/tan30_2),nr=er*tan30;tr.moveTo(0,-er),tr.lineTo(nr,0),tr.lineTo(0,er),tr.lineTo(-nr,0),tr.closePath()}},symbolSquare={draw(tr,Hn){const er=sqrt$1(Hn),nr=-er/2;tr.rect(nr,nr,er,er)}},ka$1=.8908130915292852,kr=sin(pi$3/10)/sin(7*pi$3/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(tr,Hn){const er=sqrt$1(Hn*ka$1),nr=kx*er,ir=ky*er;tr.moveTo(0,-er),tr.lineTo(nr,ir);for(let rr=1;rr<5;++rr){const sr=tau$1*rr/5,ar=cos(sr),or=sin(sr);tr.lineTo(or*er,-ar*er),tr.lineTo(ar*nr-or*ir,or*nr+ar*ir)}tr.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(tr,Hn){const er=-sqrt$1(Hn/(sqrt3*3));tr.moveTo(0,er*2),tr.lineTo(-sqrt3*er,-er),tr.lineTo(sqrt3*er,-er),tr.closePath()}},c$3=-.5,s$2=sqrt$1(3)/2,k$3=1/sqrt$1(12),a$3=(k$3/2+1)*3,symbolWye={draw(tr,Hn){const er=sqrt$1(Hn/a$3),nr=er/2,ir=er*k$3,rr=nr,sr=er*k$3+er,ar=-rr,or=sr;tr.moveTo(nr,ir),tr.lineTo(rr,sr),tr.lineTo(ar,or),tr.lineTo(c$3*nr-s$2*ir,s$2*nr+c$3*ir),tr.lineTo(c$3*rr-s$2*sr,s$2*rr+c$3*sr),tr.lineTo(c$3*ar-s$2*or,s$2*ar+c$3*or),tr.lineTo(c$3*nr+s$2*ir,c$3*ir-s$2*nr),tr.lineTo(c$3*rr+s$2*sr,c$3*sr-s$2*rr),tr.lineTo(c$3*ar+s$2*or,c$3*or-s$2*ar),tr.closePath()}};function Symbol$1(tr,Hn){let er=null,nr=withPath(ir);tr=typeof tr=="function"?tr:constant$1(tr||symbolCircle),Hn=typeof Hn=="function"?Hn:constant$1(Hn===void 0?64:+Hn);function ir(){let rr;if(er||(er=rr=nr()),tr.apply(this,arguments).draw(er,+Hn.apply(this,arguments)),rr)return er=null,rr+""||null}return ir.type=function(rr){return arguments.length?(tr=typeof rr=="function"?rr:constant$1(rr),ir):tr},ir.size=function(rr){return arguments.length?(Hn=typeof rr=="function"?rr:constant$1(+rr),ir):Hn},ir.context=function(rr){return arguments.length?(er=rr??null,ir):er},ir}function noop$3(){}function point$2(tr,Hn,er){tr._context.bezierCurveTo((2*tr._x0+tr._x1)/3,(2*tr._y0+tr._y1)/3,(tr._x0+2*tr._x1)/3,(tr._y0+2*tr._y1)/3,(tr._x0+4*tr._x1+Hn)/6,(tr._y0+4*tr._y1+er)/6)}function Basis(tr){this._context=tr}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,tr,Hn);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn}};function curveBasis(tr){return new Basis(tr)}function BasisClosed(tr){this._context=tr}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._x2=tr,this._y2=Hn;break;case 1:this._point=2,this._x3=tr,this._y3=Hn;break;case 2:this._point=3,this._x4=tr,this._y4=Hn,this._context.moveTo((this._x0+4*this._x1+tr)/6,(this._y0+4*this._y1+Hn)/6);break;default:point$2(this,tr,Hn);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn}};function curveBasisClosed(tr){return new BasisClosed(tr)}function BasisOpen(tr){this._context=tr}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var er=(this._x0+4*this._x1+tr)/6,nr=(this._y0+4*this._y1+Hn)/6;this._line?this._context.lineTo(er,nr):this._context.moveTo(er,nr);break;case 3:this._point=4;default:point$2(this,tr,Hn);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn}};function curveBasisOpen(tr){return new BasisOpen(tr)}function LinearClosed(tr){this._context=tr}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(tr,Hn){tr=+tr,Hn=+Hn,this._point?this._context.lineTo(tr,Hn):(this._point=1,this._context.moveTo(tr,Hn))}};function curveLinearClosed(tr){return new LinearClosed(tr)}function sign(tr){return tr<0?-1:1}function slope3(tr,Hn,er){var nr=tr._x1-tr._x0,ir=Hn-tr._x1,rr=(tr._y1-tr._y0)/(nr||ir<0&&-0),sr=(er-tr._y1)/(ir||nr<0&&-0),ar=(rr*ir+sr*nr)/(nr+ir);return(sign(rr)+sign(sr))*Math.min(Math.abs(rr),Math.abs(sr),.5*Math.abs(ar))||0}function slope2(tr,Hn){var er=tr._x1-tr._x0;return er?(3*(tr._y1-tr._y0)/er-Hn)/2:Hn}function point$1(tr,Hn,er){var nr=tr._x0,ir=tr._y0,rr=tr._x1,sr=tr._y1,ar=(rr-nr)/3;tr._context.bezierCurveTo(nr+ar,ir+ar*Hn,rr-ar,sr-ar*er,rr,sr)}function MonotoneX(tr){this._context=tr}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){var er=NaN;if(tr=+tr,Hn=+Hn,!(tr===this._x1&&Hn===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,er=slope3(this,tr,Hn)),er);break;default:point$1(this,this._t0,er=slope3(this,tr,Hn));break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn,this._t0=er}}};function MonotoneY(tr){this._context=new ReflectContext(tr)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(tr,Hn){MonotoneX.prototype.point.call(this,Hn,tr)};function ReflectContext(tr){this._context=tr}ReflectContext.prototype={moveTo:function(tr,Hn){this._context.moveTo(Hn,tr)},closePath:function(){this._context.closePath()},lineTo:function(tr,Hn){this._context.lineTo(Hn,tr)},bezierCurveTo:function(tr,Hn,er,nr,ir,rr){this._context.bezierCurveTo(Hn,tr,nr,er,rr,ir)}};function monotoneX(tr){return new MonotoneX(tr)}function monotoneY(tr){return new MonotoneY(tr)}function Natural(tr){this._context=tr}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var tr=this._x,Hn=this._y,er=tr.length;if(er)if(this._line?this._context.lineTo(tr[0],Hn[0]):this._context.moveTo(tr[0],Hn[0]),er===2)this._context.lineTo(tr[1],Hn[1]);else for(var nr=controlPoints(tr),ir=controlPoints(Hn),rr=0,sr=1;sr<er;++rr,++sr)this._context.bezierCurveTo(nr[0][rr],ir[0][rr],nr[1][rr],ir[1][rr],tr[sr],Hn[sr]);(this._line||this._line!==0&&er===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(tr,Hn){this._x.push(+tr),this._y.push(+Hn)}};function controlPoints(tr){var Hn,er=tr.length-1,nr,ir=new Array(er),rr=new Array(er),sr=new Array(er);for(ir[0]=0,rr[0]=2,sr[0]=tr[0]+2*tr[1],Hn=1;Hn<er-1;++Hn)ir[Hn]=1,rr[Hn]=4,sr[Hn]=4*tr[Hn]+2*tr[Hn+1];for(ir[er-1]=2,rr[er-1]=7,sr[er-1]=8*tr[er-1]+tr[er],Hn=1;Hn<er;++Hn)nr=ir[Hn]/rr[Hn-1],rr[Hn]-=nr,sr[Hn]-=nr*sr[Hn-1];for(ir[er-1]=sr[er-1]/rr[er-1],Hn=er-2;Hn>=0;--Hn)ir[Hn]=(sr[Hn]-ir[Hn+1])/rr[Hn];for(rr[er-1]=(tr[er]+ir[er-1])/2,Hn=0;Hn<er-1;++Hn)rr[Hn]=2*tr[Hn+1]-ir[Hn+1];return[ir,rr]}function curveNatural(tr){return new Natural(tr)}function Step(tr,Hn){this._context=tr,this._t=Hn}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,Hn),this._context.lineTo(tr,Hn);else{var er=this._x*(1-this._t)+tr*this._t;this._context.lineTo(er,this._y),this._context.lineTo(er,Hn)}break}}this._x=tr,this._y=Hn}};function curveStep(tr){return new Step(tr,.5)}function stepBefore(tr){return new Step(tr,0)}function stepAfter(tr){return new Step(tr,1)}function stackOffsetNone(tr,Hn){if((sr=tr.length)>1)for(var er=1,nr,ir,rr=tr[Hn[0]],sr,ar=rr.length;er<sr;++er)for(ir=rr,rr=tr[Hn[er]],nr=0;nr<ar;++nr)rr[nr][1]+=rr[nr][0]=isNaN(ir[nr][1])?ir[nr][0]:ir[nr][1]}function stackOrderNone(tr){for(var Hn=tr.length,er=new Array(Hn);--Hn>=0;)er[Hn]=Hn;return er}function stackValue(tr,Hn){return tr[Hn]}function stackSeries(tr){const Hn=[];return Hn.key=tr,Hn}function shapeStack(){var tr=constant$1([]),Hn=stackOrderNone,er=stackOffsetNone,nr=stackValue;function ir(rr){var sr=Array.from(tr.apply(this,arguments),stackSeries),ar,or=sr.length,lr=-1,cr;for(const ur of rr)for(ar=0,++lr;ar<or;++ar)(sr[ar][lr]=[0,+nr(ur,sr[ar].key,lr,rr)]).data=ur;for(ar=0,cr=array(Hn(sr));ar<or;++ar)sr[cr[ar]].index=ar;return er(sr,cr),sr}return ir.keys=function(rr){return arguments.length?(tr=typeof rr=="function"?rr:constant$1(Array.from(rr)),ir):tr},ir.value=function(rr){return arguments.length?(nr=typeof rr=="function"?rr:constant$1(+rr),ir):nr},ir.order=function(rr){return arguments.length?(Hn=rr==null?stackOrderNone:typeof rr=="function"?rr:constant$1(Array.from(rr)),ir):Hn},ir.offset=function(rr){return arguments.length?(er=rr??stackOffsetNone,ir):er},ir}function stackOffsetExpand(tr,Hn){if((nr=tr.length)>0){for(var er,nr,ir=0,rr=tr[0].length,sr;ir<rr;++ir){for(sr=er=0;er<nr;++er)sr+=tr[er][ir][1]||0;if(sr)for(er=0;er<nr;++er)tr[er][ir][1]/=sr}stackOffsetNone(tr,Hn)}}function stackOffsetSilhouette(tr,Hn){if((ir=tr.length)>0){for(var er=0,nr=tr[Hn[0]],ir,rr=nr.length;er<rr;++er){for(var sr=0,ar=0;sr<ir;++sr)ar+=tr[sr][er][1]||0;nr[er][1]+=nr[er][0]=-ar/2}stackOffsetNone(tr,Hn)}}function stackOffsetWiggle(tr,Hn){if(!(!((sr=tr.length)>0)||!((rr=(ir=tr[Hn[0]]).length)>0))){for(var er=0,nr=1,ir,rr,sr;nr<rr;++nr){for(var ar=0,or=0,lr=0;ar<sr;++ar){for(var cr=tr[Hn[ar]],ur=cr[nr][1]||0,dr=cr[nr-1][1]||0,fr=(ur-dr)/2,xr=0;xr<ar;++xr){var yr=tr[Hn[xr]],_r=yr[nr][1]||0,Sr=yr[nr-1][1]||0;fr+=_r-Sr}or+=ur,lr+=fr*ur}ir[nr-1][1]+=ir[nr-1][0]=er,or&&(er-=lr/or)}ir[nr-1][1]+=ir[nr-1][0]=er,stackOffsetNone(tr,Hn)}}var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er==="__proto__"}tr.isUnsafeProperty=Hn})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){switch(typeof er){case"number":case"symbol":return!1;case"string":return er.includes(".")||er.includes("[")||er.includes("]")}}tr.isDeepKey=Hn})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return typeof er=="string"||typeof er=="symbol"?er:Object.is(er?.valueOf?.(),-0)?"-0":String(er)}tr.toKey=Hn})(toKey)),toKey}var toPath={},toString$1={},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){if(er==null)return"";if(typeof er=="string")return er;if(Array.isArray(er))return er.map(Hn).join(",");const nr=String(er);return nr==="0"&&Object.is(Number(er),-0)?"-0":nr}tr.toString=Hn})(toString$1)),toString$1}var hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireToString(),er=requireToKey();function nr(ir){if(Array.isArray(ir))return ir.map(er.toKey);if(typeof ir=="symbol")return[ir];ir=Hn.toString(ir);const rr=[],sr=ir.length;if(sr===0)return rr;let ar=0,or="",lr="",cr=!1;for(ir.charCodeAt(0)===46&&(rr.push(""),ar++);ar<sr;){const ur=ir[ar];lr?ur==="\\"&&ar+1<sr?(ar++,or+=ir[ar]):ur===lr?lr="":or+=ur:cr?ur==='"'||ur==="'"?lr=ur:ur==="]"?(cr=!1,rr.push(or),or=""):or+=ur:ur==="["?(cr=!0,or&&(rr.push(or),or="")):ur==="."?or&&(rr.push(or),or=""):or+=ur,ar++}return or&&rr.push(or),rr}tr.toPath=nr})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsUnsafeProperty(),er=requireIsDeepKey(),nr=requireToKey(),ir=requireToPath();function rr(ar,or,lr){if(ar==null)return lr;switch(typeof or){case"string":{if(Hn.isUnsafeProperty(or))return lr;const cr=ar[or];return cr===void 0?er.isDeepKey(or)?rr(ar,ir.toPath(or),lr):lr:cr}case"number":case"symbol":{typeof or=="number"&&(or=nr.toKey(or));const cr=ar[or];return cr===void 0?lr:cr}default:{if(Array.isArray(or))return sr(ar,or,lr);if(Object.is(or?.valueOf(),-0)?or="-0":or=String(or),Hn.isUnsafeProperty(or))return lr;const cr=ar[or];return cr===void 0?lr:cr}}}function sr(ar,or,lr){if(or.length===0)return lr;let cr=ar;for(let ur=0;ur<or.length;ur++){if(cr==null||Hn.isUnsafeProperty(or[ur]))return lr;cr=cr[or[ur]]}return cr===void 0?lr:cr}tr.get=rr})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var mathSign=tr=>tr===0?0:tr>0?1:-1,isNan=tr=>typeof tr=="number"&&tr!=+tr,isPercent=tr=>typeof tr=="string"&&tr.indexOf("%")===tr.length-1,isNumber=tr=>(typeof tr=="number"||tr instanceof Number)&&!isNan(tr),isNumOrStr=tr=>isNumber(tr)||typeof tr=="string",idCounter=0,uniqueId=tr=>{var Hn=++idCounter;return"".concat(tr||"").concat(Hn)},getPercentValue=function tr(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(Hn)&&typeof Hn!="string")return nr;var rr;if(isPercent(Hn)){if(er==null)return nr;var sr=Hn.indexOf("%");rr=er*parseFloat(Hn.slice(0,sr))/100}else rr=+Hn;return isNan(rr)&&(rr=nr),ir&&er!=null&&rr>er&&(rr=er),rr},hasDuplicate=tr=>{if(!Array.isArray(tr))return!1;for(var Hn=tr.length,er={},nr=0;nr<Hn;nr++)if(!er[tr[nr]])er[tr[nr]]=!0;else return!0;return!1};function interpolate$1(tr,Hn,er){return isNumber(tr)&&isNumber(Hn)?tr+er*(Hn-tr):Hn}function findEntryInArray(tr,Hn,er){if(!(!tr||!tr.length))return tr.find(nr=>nr&&(typeof Hn=="function"?Hn(nr):get(nr,Hn))===er)}var isNullish=tr=>tr===null||typeof tr>"u",upperFirst=tr=>isNullish(tr)?tr:"".concat(tr.charAt(0).toUpperCase()).concat(tr.slice(1));function isNotNil(tr){return tr!=null}function noop$2(){}var _excluded$i=["type","size","sizeType"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$m.apply(null,arguments)}function ownKeys$z(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$z(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$z(Object(er),!0).forEach(function(nr){_defineProperty$A(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$z(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$A(tr,Hn,er){return(Hn=_toPropertyKey$A(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$A(tr){var Hn=_toPrimitive$A(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$A(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$h(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$i(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$i(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=tr=>{var Hn="symbol".concat(upperFirst(tr));return symbolFactories[Hn]||symbolCircle},calculateAreaSize=(tr,Hn,er)=>{if(Hn==="area")return tr;switch(er){case"cross":return 5*tr*tr/9;case"diamond":return .5*tr*tr/Math.sqrt(3);case"square":return tr*tr;case"star":{var nr=18*RADIAN$1;return 1.25*tr*tr*(Math.tan(nr)-Math.tan(nr*2)*Math.tan(nr)**2)}case"triangle":return Math.sqrt(3)*tr*tr/4;case"wye":return(21-10*Math.sqrt(3))*tr*tr/8;default:return Math.PI*tr*tr/4}},registerSymbol=(tr,Hn)=>{symbolFactories["symbol".concat(upperFirst(tr))]=Hn},Symbols=tr=>{var{type:Hn="circle",size:er=64,sizeType:nr="area"}=tr,ir=_objectWithoutProperties$h(tr,_excluded$i),rr=_objectSpread$z(_objectSpread$z({},ir),{},{type:Hn,size:er,sizeType:nr}),sr="circle";typeof Hn=="string"&&(sr=Hn);var ar=()=>{var dr=getSymbolFactory(sr),fr=Symbol$1().type(dr).size(calculateAreaSize(er,nr,sr)),xr=fr();if(xr!==null)return xr},{className:or,cx:lr,cy:cr}=rr,ur=svgPropertiesAndEvents(rr);return isNumber(lr)&&isNumber(cr)&&isNumber(er)?reactExports.createElement("path",_extends$m({},ur,{className:clsx("recharts-symbols",or),transform:"translate(".concat(lr,", ").concat(cr,")"),d:ar()})):null};Symbols.registerSymbol=registerSymbol;var isPolarCoordinate=tr=>"radius"in tr&&"startAngle"in tr&&"endAngle"in tr,adaptEventHandlers=(tr,Hn)=>{if(!tr||typeof tr=="function"||typeof tr=="boolean")return null;var er=tr;if(reactExports.isValidElement(tr)&&(er=tr.props),typeof er!="object"&&typeof er!="function")return null;var nr={};return Object.keys(er).forEach(ir=>{isEventKey(ir)&&(nr[ir]=(rr=>er[ir](er,rr)))}),nr},getEventHandlerOfChild=(tr,Hn,er)=>nr=>(tr(Hn,er,nr),null),adaptEventsOfChild=(tr,Hn,er)=>{if(tr===null||typeof tr!="object"&&typeof tr!="function")return null;var nr=null;return Object.keys(tr).forEach(ir=>{var rr=tr[ir];isEventKey(ir)&&typeof rr=="function"&&(nr||(nr={}),nr[ir]=getEventHandlerOfChild(rr,Hn,er))}),nr};function ownKeys$y(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$y(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$y(Object(er),!0).forEach(function(nr){_defineProperty$z(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$y(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$z(tr,Hn,er){return(Hn=_toPropertyKey$z(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$z(tr){var Hn=_toPrimitive$z(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$z(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function resolveDefaultProps(tr,Hn){var er=_objectSpread$y({},tr),nr=Hn,ir=Object.keys(Hn),rr=ir.reduce((sr,ar)=>(sr[ar]===void 0&&nr[ar]!==void 0&&(sr[ar]=nr[ar]),sr),er);return rr}var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr){const ir=new Map;for(let rr=0;rr<er.length;rr++){const sr=er[rr],ar=nr(sr);ir.has(ar)||ir.set(ar,sr)}return Array.from(ir.values())}tr.uniqBy=Hn})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er}tr.identity=Hn})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return Number.isSafeInteger(er)&&er>=0}tr.isLength=Hn})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsLength();function er(nr){return nr!=null&&typeof nr!="function"&&Hn.isLength(nr.length)}tr.isArrayLike=er})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return typeof er=="object"&&er!==null}tr.isObjectLike=Hn})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsArrayLike(),er=requireIsObjectLike();function nr(ir){return er.isObjectLike(ir)&&Hn.isArrayLike(ir)}tr.isArrayLikeObject=nr})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireGet$1();function er(nr){return function(ir){return Hn.get(ir,nr)}}tr.property=er})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er!==null&&(typeof er=="object"||typeof er=="function")}tr.isObject=Hn})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er==null||typeof er!="object"&&typeof er!="function"}tr.isPrimitive=Hn})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr){return er===nr||Number.isNaN(er)&&Number.isNaN(nr)}tr.eq=Hn})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsObject(),er=requireIsPrimitive(),nr=requireEq();function ir(cr,ur,dr){return typeof dr!="function"?ir(cr,ur,()=>{}):rr(cr,ur,function fr(xr,yr,_r,Sr,jr,Dr){const Ir=dr(xr,yr,_r,Sr,jr,Dr);return Ir!==void 0?!!Ir:rr(xr,yr,fr,Dr)},new Map)}function rr(cr,ur,dr,fr){if(ur===cr)return!0;switch(typeof ur){case"object":return sr(cr,ur,dr,fr);case"function":return Object.keys(ur).length>0?rr(cr,{...ur},dr,fr):nr.eq(cr,ur);default:return Hn.isObject(cr)?typeof ur=="string"?ur==="":!0:nr.eq(cr,ur)}}function sr(cr,ur,dr,fr){if(ur==null)return!0;if(Array.isArray(ur))return or(cr,ur,dr,fr);if(ur instanceof Map)return ar(cr,ur,dr,fr);if(ur instanceof Set)return lr(cr,ur,dr,fr);const xr=Object.keys(ur);if(cr==null)return xr.length===0;if(xr.length===0)return!0;if(fr?.has(ur))return fr.get(ur)===cr;fr?.set(ur,cr);try{for(let yr=0;yr<xr.length;yr++){const _r=xr[yr];if(!er.isPrimitive(cr)&&!(_r in cr)||ur[_r]===void 0&&cr[_r]!==void 0||ur[_r]===null&&cr[_r]!==null||!dr(cr[_r],ur[_r],_r,cr,ur,fr))return!1}return!0}finally{fr?.delete(ur)}}function ar(cr,ur,dr,fr){if(ur.size===0)return!0;if(!(cr instanceof Map))return!1;for(const[xr,yr]of ur.entries()){const _r=cr.get(xr);if(dr(_r,yr,xr,cr,ur,fr)===!1)return!1}return!0}function or(cr,ur,dr,fr){if(ur.length===0)return!0;if(!Array.isArray(cr))return!1;const xr=new Set;for(let yr=0;yr<ur.length;yr++){const _r=ur[yr];let Sr=!1;for(let jr=0;jr<cr.length;jr++){if(xr.has(jr))continue;const Dr=cr[jr];let Ir=!1;if(dr(Dr,_r,yr,cr,ur,fr)&&(Ir=!0),Ir){xr.add(jr),Sr=!0;break}}if(!Sr)return!1}return!0}function lr(cr,ur,dr,fr){return ur.size===0?!0:cr instanceof Set?or([...cr],[...ur],dr,fr):!1}tr.isMatchWith=ir,tr.isSetMatch=lr})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsMatchWith();function er(nr,ir){return Hn.isMatchWith(nr,ir,()=>{})}tr.isMatch=er})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return Object.getOwnPropertySymbols(er).filter(nr=>Object.prototype.propertyIsEnumerable.call(er,nr))}tr.getSymbols=Hn})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er==null?er===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(er)}tr.getTag=Hn})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn="[object RegExp]",er="[object String]",nr="[object Number]",ir="[object Boolean]",rr="[object Arguments]",sr="[object Symbol]",ar="[object Date]",or="[object Map]",lr="[object Set]",cr="[object Array]",ur="[object Function]",dr="[object ArrayBuffer]",fr="[object Object]",xr="[object Error]",yr="[object DataView]",_r="[object Uint8Array]",Sr="[object Uint8ClampedArray]",jr="[object Uint16Array]",Dr="[object Uint32Array]",Ir="[object BigUint64Array]",Mr="[object Int8Array]",Or="[object Int16Array]",Lr="[object Int32Array]",Fr="[object BigInt64Array]",Vr="[object Float32Array]",Zr="[object Float64Array]";tr.argumentsTag=rr,tr.arrayBufferTag=dr,tr.arrayTag=cr,tr.bigInt64ArrayTag=Fr,tr.bigUint64ArrayTag=Ir,tr.booleanTag=ir,tr.dataViewTag=yr,tr.dateTag=ar,tr.errorTag=xr,tr.float32ArrayTag=Vr,tr.float64ArrayTag=Zr,tr.functionTag=ur,tr.int16ArrayTag=Or,tr.int32ArrayTag=Lr,tr.int8ArrayTag=Mr,tr.mapTag=or,tr.numberTag=nr,tr.objectTag=fr,tr.regexpTag=Hn,tr.setTag=lr,tr.stringTag=er,tr.symbolTag=sr,tr.uint16ArrayTag=jr,tr.uint32ArrayTag=Dr,tr.uint8ArrayTag=_r,tr.uint8ClampedArrayTag=Sr})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return ArrayBuffer.isView(er)&&!(er instanceof DataView)}tr.isTypedArray=Hn})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireGetSymbols(),er=requireGetTag(),nr=requireTags(),ir=requireIsPrimitive(),rr=requireIsTypedArray();function sr(cr,ur){return ar(cr,void 0,cr,new Map,ur)}function ar(cr,ur,dr,fr=new Map,xr=void 0){const yr=xr?.(cr,ur,dr,fr);if(yr!==void 0)return yr;if(ir.isPrimitive(cr))return cr;if(fr.has(cr))return fr.get(cr);if(Array.isArray(cr)){const _r=new Array(cr.length);fr.set(cr,_r);for(let Sr=0;Sr<cr.length;Sr++)_r[Sr]=ar(cr[Sr],Sr,dr,fr,xr);return Object.hasOwn(cr,"index")&&(_r.index=cr.index),Object.hasOwn(cr,"input")&&(_r.input=cr.input),_r}if(cr instanceof Date)return new Date(cr.getTime());if(cr instanceof RegExp){const _r=new RegExp(cr.source,cr.flags);return _r.lastIndex=cr.lastIndex,_r}if(cr instanceof Map){const _r=new Map;fr.set(cr,_r);for(const[Sr,jr]of cr)_r.set(Sr,ar(jr,Sr,dr,fr,xr));return _r}if(cr instanceof Set){const _r=new Set;fr.set(cr,_r);for(const Sr of cr)_r.add(ar(Sr,void 0,dr,fr,xr));return _r}if(typeof Buffer<"u"&&Buffer.isBuffer(cr))return cr.subarray();if(rr.isTypedArray(cr)){const _r=new(Object.getPrototypeOf(cr)).constructor(cr.length);fr.set(cr,_r);for(let Sr=0;Sr<cr.length;Sr++)_r[Sr]=ar(cr[Sr],Sr,dr,fr,xr);return _r}if(cr instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&cr instanceof SharedArrayBuffer)return cr.slice(0);if(cr instanceof DataView){const _r=new DataView(cr.buffer.slice(0),cr.byteOffset,cr.byteLength);return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}if(typeof File<"u"&&cr instanceof File){const _r=new File([cr],cr.name,{type:cr.type});return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}if(typeof Blob<"u"&&cr instanceof Blob){const _r=new Blob([cr],{type:cr.type});return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}if(cr instanceof Error){const _r=new cr.constructor;return fr.set(cr,_r),_r.message=cr.message,_r.name=cr.name,_r.stack=cr.stack,_r.cause=cr.cause,or(_r,cr,dr,fr,xr),_r}if(cr instanceof Boolean){const _r=new Boolean(cr.valueOf());return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}if(cr instanceof Number){const _r=new Number(cr.valueOf());return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}if(cr instanceof String){const _r=new String(cr.valueOf());return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}if(typeof cr=="object"&&lr(cr)){const _r=Object.create(Object.getPrototypeOf(cr));return fr.set(cr,_r),or(_r,cr,dr,fr,xr),_r}return cr}function or(cr,ur,dr=cr,fr,xr){const yr=[...Object.keys(ur),...Hn.getSymbols(ur)];for(let _r=0;_r<yr.length;_r++){const Sr=yr[_r],jr=Object.getOwnPropertyDescriptor(cr,Sr);(jr==null||jr.writable)&&(cr[Sr]=ar(ur[Sr],Sr,dr,fr,xr))}}function lr(cr){switch(er.getTag(cr)){case nr.argumentsTag:case nr.arrayTag:case nr.arrayBufferTag:case nr.dataViewTag:case nr.booleanTag:case nr.dateTag:case nr.float32ArrayTag:case nr.float64ArrayTag:case nr.int8ArrayTag:case nr.int16ArrayTag:case nr.int32ArrayTag:case nr.mapTag:case nr.numberTag:case nr.objectTag:case nr.regexpTag:case nr.setTag:case nr.stringTag:case nr.symbolTag:case nr.uint8ArrayTag:case nr.uint8ClampedArrayTag:case nr.uint16ArrayTag:case nr.uint32ArrayTag:return!0;default:return!1}}tr.cloneDeepWith=sr,tr.cloneDeepWithImpl=ar,tr.copyProperties=or})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCloneDeepWith$1();function er(nr){return Hn.cloneDeepWithImpl(nr,void 0,nr,new Map,void 0)}tr.cloneDeep=er})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsMatch(),er=requireCloneDeep$1();function nr(ir){return ir=er.cloneDeep(ir),rr=>Hn.isMatch(rr,ir)}tr.matches=nr})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCloneDeepWith$1(),er=requireTags();function nr(ir,rr){return Hn.cloneDeepWith(ir,(sr,ar,or,lr)=>{const cr=rr?.(sr,ar,or,lr);if(cr!==void 0)return cr;if(typeof ir=="object")switch(Object.prototype.toString.call(ir)){case er.numberTag:case er.stringTag:case er.booleanTag:{const ur=new ir.constructor(ir?.valueOf());return Hn.copyProperties(ur,ir),ur}case er.argumentsTag:{const ur={};return Hn.copyProperties(ur,ir),ur.length=ir.length,ur[Symbol.iterator]=ir[Symbol.iterator],ur}default:return}})}tr.cloneDeepWith=nr})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCloneDeepWith();function er(nr){return Hn.cloneDeepWith(nr)}tr.cloneDeep=er})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=/^(?:0|[1-9]\d*)$/;function er(nr,ir=Number.MAX_SAFE_INTEGER){switch(typeof nr){case"number":return Number.isInteger(nr)&&nr>=0&&nr<ir;case"symbol":return!1;case"string":return Hn.test(nr)}}tr.isIndex=er})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireGetTag();function er(nr){return nr!==null&&typeof nr=="object"&&Hn.getTag(nr)==="[object Arguments]"}tr.isArguments=er})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsDeepKey(),er=requireIsIndex(),nr=requireIsArguments(),ir=requireToPath();function rr(sr,ar){let or;if(Array.isArray(ar)?or=ar:typeof ar=="string"&&Hn.isDeepKey(ar)&&sr?.[ar]==null?or=ir.toPath(ar):or=[ar],or.length===0)return!1;let lr=sr;for(let cr=0;cr<or.length;cr++){const ur=or[cr];if((lr==null||!Object.hasOwn(lr,ur))&&!((Array.isArray(lr)||nr.isArguments(lr))&&er.isIndex(ur)&&ur<lr.length))return!1;lr=lr[ur]}return!0}tr.has=rr})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsMatch(),er=requireToKey(),nr=requireCloneDeep(),ir=requireGet$1(),rr=requireHas();function sr(ar,or){switch(typeof ar){case"object":{Object.is(ar?.valueOf(),-0)&&(ar="-0");break}case"number":{ar=er.toKey(ar);break}}return or=nr.cloneDeep(or),function(lr){const cr=ir.get(lr,ar);return cr===void 0?rr.has(lr,ar):or===void 0?cr===void 0:Hn.isMatch(cr,or)}}tr.matchesProperty=sr})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIdentity(),er=requireProperty(),nr=requireMatches(),ir=requireMatchesProperty();function rr(sr){if(sr==null)return Hn.identity;switch(typeof sr){case"function":return sr;case"object":return Array.isArray(sr)&&sr.length===2?ir.matchesProperty(sr[0],sr[1]):nr.matches(sr);case"string":case"symbol":case"number":return er.property(sr)}}tr.iteratee=rr})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireUniqBy$2(),er=requireIdentity(),nr=requireIsArrayLikeObject(),ir=requireIteratee();function rr(sr,ar=er.identity){return nr.isArrayLikeObject(sr)?Hn.uniqBy(Array.from(sr),ir.iteratee(ar)):[]}tr.uniqBy=rr})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(tr,Hn,er){return Hn===!0?uniqBy(tr,er):typeof Hn=="function"?uniqBy(tr,Hn):tr}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var tr=requireReact();function Hn(ur,dr){return ur===dr&&(ur!==0||1/ur===1/dr)||ur!==ur&&dr!==dr}var er=typeof Object.is=="function"?Object.is:Hn,nr=tr.useState,ir=tr.useEffect,rr=tr.useLayoutEffect,sr=tr.useDebugValue;function ar(ur,dr){var fr=dr(),xr=nr({inst:{value:fr,getSnapshot:dr}}),yr=xr[0].inst,_r=xr[1];return rr(function(){yr.value=fr,yr.getSnapshot=dr,or(yr)&&_r({inst:yr})},[ur,fr,dr]),ir(function(){return or(yr)&&_r({inst:yr}),ur(function(){or(yr)&&_r({inst:yr})})},[ur]),sr(fr),fr}function or(ur){var dr=ur.getSnapshot;ur=ur.value;try{var fr=dr();return!er(ur,fr)}catch{return!0}}function lr(ur,dr){return dr()}var cr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lr:ar;return useSyncExternalStoreShim_production.useSyncExternalStore=tr.useSyncExternalStore!==void 0?tr.useSyncExternalStore:cr,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var tr=requireReact(),Hn=requireShim();function er(lr,cr){return lr===cr&&(lr!==0||1/lr===1/cr)||lr!==lr&&cr!==cr}var nr=typeof Object.is=="function"?Object.is:er,ir=Hn.useSyncExternalStore,rr=tr.useRef,sr=tr.useEffect,ar=tr.useMemo,or=tr.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(lr,cr,ur,dr,fr){var xr=rr(null);if(xr.current===null){var yr={hasValue:!1,value:null};xr.current=yr}else yr=xr.current;xr=ar(function(){function Sr(Or){if(!jr){if(jr=!0,Dr=Or,Or=dr(Or),fr!==void 0&&yr.hasValue){var Lr=yr.value;if(fr(Lr,Or))return Ir=Lr}return Ir=Or}if(Lr=Ir,nr(Dr,Or))return Lr;var Fr=dr(Or);return fr!==void 0&&fr(Lr,Fr)?(Dr=Or,Lr):(Dr=Or,Ir=Fr)}var jr=!1,Dr,Ir,Mr=ur===void 0?null:ur;return[function(){return Sr(cr())},Mr===null?void 0:function(){return Sr(Mr())}]},[cr,ur,dr,fr]);var _r=ir(lr,xr[0],xr[1]);return sr(function(){yr.hasValue=!0,yr.value=_r},[_r]),or(_r),_r},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=tr=>tr,useAppDispatch=()=>{var tr=reactExports.useContext(RechartsReduxContext);return tr?tr.store.dispatch:noopDispatch},noop$1=()=>{},addNestedSubNoop=()=>noop$1,refEquality=(tr,Hn)=>tr===Hn;function useAppSelector(tr){var Hn=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(Hn?Hn.subscription.addNestedSub:addNestedSubNoop,Hn?Hn.store.getState:noop$1,Hn?Hn.store.getState:noop$1,Hn?tr:noop$1,refEquality)}function assertIsFunction(tr,Hn=`expected a function, instead received ${typeof tr}`){if(typeof tr!="function")throw new TypeError(Hn)}function assertIsObject(tr,Hn=`expected an object, instead received ${typeof tr}`){if(typeof tr!="object")throw new TypeError(Hn)}function assertIsArrayOfFunctions(tr,Hn="expected all items to be functions, instead received the following types: "){if(!tr.every(er=>typeof er=="function")){const er=tr.map(nr=>typeof nr=="function"?`function ${nr.name||"unnamed"}()`:typeof nr).join(", ");throw new TypeError(`${Hn}[${er}]`)}}var ensureIsArray=tr=>Array.isArray(tr)?tr:[tr];function getDependencies(tr){const Hn=Array.isArray(tr[0])?tr[0]:tr;return assertIsArrayOfFunctions(Hn,"createSelector expects all input-selectors to be functions, but received the following types: "),Hn}function collectInputSelectorResults(tr,Hn){const er=[],{length:nr}=tr;for(let ir=0;ir<nr;ir++)er.push(tr[ir].apply(null,Hn));return er}var StrongRef=class{constructor(tr){this.value=tr}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(tr,Hn={}){let er=createCacheNode();const{resultEqualityCheck:nr}=Hn;let ir,rr=0;function sr(){let ar=er;const{length:or}=arguments;for(let ur=0,dr=or;ur<dr;ur++){const fr=arguments[ur];if(typeof fr=="function"||typeof fr=="object"&&fr!==null){let xr=ar.o;xr===null&&(ar.o=xr=new WeakMap);const yr=xr.get(fr);yr===void 0?(ar=createCacheNode(),xr.set(fr,ar)):ar=yr}else{let xr=ar.p;xr===null&&(ar.p=xr=new Map);const yr=xr.get(fr);yr===void 0?(ar=createCacheNode(),xr.set(fr,ar)):ar=yr}}const lr=ar;let cr;if(ar.s===TERMINATED)cr=ar.v;else if(cr=tr.apply(null,arguments),rr++,nr){const ur=ir?.deref?.()??ir;ur!=null&&nr(ur,cr)&&(cr=ur,rr!==0&&rr--),ir=typeof cr=="object"&&cr!==null||typeof cr=="function"?new Ref(cr):cr}return lr.s=TERMINATED,lr.v=cr,cr}return sr.clearCache=()=>{er=createCacheNode(),sr.resetResultsCount()},sr.resultsCount=()=>rr,sr.resetResultsCount=()=>{rr=0},sr}function createSelectorCreator(tr,...Hn){const er=typeof tr=="function"?{memoize:tr,memoizeOptions:Hn}:tr,nr=(...ir)=>{let rr=0,sr=0,ar,or={},lr=ir.pop();typeof lr=="object"&&(or=lr,lr=ir.pop()),assertIsFunction(lr,`createSelector expects an output function after the inputs, but received: [${typeof lr}]`);const cr={...er,...or},{memoize:ur,memoizeOptions:dr=[],argsMemoize:fr=weakMapMemoize,argsMemoizeOptions:xr=[]}=cr,yr=ensureIsArray(dr),_r=ensureIsArray(xr),Sr=getDependencies(ir),jr=ur(function(){return rr++,lr.apply(null,arguments)},...yr),Dr=fr(function(){sr++;const Mr=collectInputSelectorResults(Sr,arguments);return ar=jr.apply(null,Mr),ar},..._r);return Object.assign(Dr,{resultFunc:lr,memoizedResultFunc:jr,dependencies:Sr,dependencyRecomputations:()=>sr,resetDependencyRecomputations:()=>{sr=0},lastResult:()=>ar,recomputations:()=>rr,resetRecomputations:()=>{rr=0},memoize:ur,argsMemoize:fr})};return Object.assign(nr,{withTypes:()=>nr}),nr}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((tr,Hn=createSelector)=>{assertIsObject(tr,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof tr}`);const er=Object.keys(tr),nr=er.map(rr=>tr[rr]);return Hn(nr,(...rr)=>rr.reduce((sr,ar,or)=>(sr[er[or]]=ar,sr),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(nr){return typeof nr=="symbol"?1:nr===null?2:nr===void 0?3:nr!==nr?4:0}const er=(nr,ir,rr)=>{if(nr!==ir){const sr=Hn(nr),ar=Hn(ir);if(sr===ar&&sr===0){if(nr<ir)return rr==="desc"?1:-1;if(nr>ir)return rr==="desc"?-1:1}return rr==="desc"?ar-sr:sr-ar}return 0};tr.compareValues=er})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return typeof er=="symbol"||er instanceof Symbol}tr.isSymbol=Hn})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsSymbol(),er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nr=/^\w*$/;function ir(rr,sr){return Array.isArray(rr)?!1:typeof rr=="number"||typeof rr=="boolean"||rr==null||Hn.isSymbol(rr)?!0:typeof rr=="string"&&(nr.test(rr)||!er.test(rr))||sr!=null&&Object.hasOwn(sr,rr)}tr.isKey=ir})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCompareValues(),er=requireIsKey(),nr=requireToPath();function ir(rr,sr,ar,or){if(rr==null)return[];ar=or?void 0:ar,Array.isArray(rr)||(rr=Object.values(rr)),Array.isArray(sr)||(sr=sr==null?[null]:[sr]),sr.length===0&&(sr=[null]),Array.isArray(ar)||(ar=ar==null?[]:[ar]),ar=ar.map(fr=>String(fr));const lr=(fr,xr)=>{let yr=fr;for(let _r=0;_r<xr.length&&yr!=null;++_r)yr=yr[xr[_r]];return yr},cr=(fr,xr)=>xr==null||fr==null?xr:typeof fr=="object"&&"key"in fr?Object.hasOwn(xr,fr.key)?xr[fr.key]:lr(xr,fr.path):typeof fr=="function"?fr(xr):Array.isArray(fr)?lr(xr,fr):typeof xr=="object"?xr[fr]:xr,ur=sr.map(fr=>(Array.isArray(fr)&&fr.length===1&&(fr=fr[0]),fr==null||typeof fr=="function"||Array.isArray(fr)||er.isKey(fr)?fr:{key:fr,path:nr.toPath(fr)}));return rr.map(fr=>({original:fr,criteria:ur.map(xr=>cr(xr,fr))})).slice().sort((fr,xr)=>{for(let yr=0;yr<ur.length;yr++){const _r=Hn.compareValues(fr.criteria[yr],xr.criteria[yr],ar[yr]);if(_r!==0)return _r}return 0}).map(fr=>fr.original)}tr.orderBy=ir})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr=1){const ir=[],rr=Math.floor(nr),sr=(ar,or)=>{for(let lr=0;lr<ar.length;lr++){const cr=ar[lr];Array.isArray(cr)&&or<rr?sr(cr,or+1):ir.push(cr)}};return sr(er,0),ir}tr.flatten=Hn})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsIndex(),er=requireIsArrayLike(),nr=requireIsObject(),ir=requireEq();function rr(sr,ar,or){return nr.isObject(or)&&(typeof ar=="number"&&er.isArrayLike(or)&&Hn.isIndex(ar)&&ar<or.length||typeof ar=="string"&&ar in or)?ir.eq(or[ar],sr):!1}tr.isIterateeCall=rr})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireOrderBy(),er=requireFlatten(),nr=requireIsIterateeCall();function ir(rr,...sr){const ar=sr.length;return ar>1&&nr.isIterateeCall(rr,sr[0],sr[1])?sr=[]:ar>2&&nr.isIterateeCall(sr[0],sr[1],sr[2])&&(sr=[sr[0]]),Hn.orderBy(rr,er.flatten(sr),["asc"])}tr.sortBy=ir})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=tr=>tr.legend.settings,selectLegendSize=tr=>tr.legend.size,selectAllLegendPayload2DArray=tr=>tr.legend.payload;createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(tr,Hn)=>{var{itemSorter:er}=Hn,nr=tr.flat(1);return er?sortBy(nr,er):nr});var EPS$1=1;function useElementOffset(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[Hn,er]=reactExports.useState({height:0,left:0,top:0,width:0}),nr=reactExports.useCallback(ir=>{if(ir!=null){var rr=ir.getBoundingClientRect(),sr={height:rr.height,left:rr.left,top:rr.top,width:rr.width};(Math.abs(sr.height-Hn.height)>EPS$1||Math.abs(sr.left-Hn.left)>EPS$1||Math.abs(sr.top-Hn.top)>EPS$1||Math.abs(sr.width-Hn.width)>EPS$1)&&er({height:sr.height,left:sr.left,top:sr.top,width:sr.width})}},[Hn.width,Hn.height,Hn.top,Hn.left,...tr]);return[Hn,nr]}function formatProdErrorMessage$1(tr){return`Minified Redux error #${tr}; visit https://redux.js.org/Errors?code=${tr} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$4(tr){if(typeof tr!="object"||tr===null)return!1;let Hn=tr;for(;Object.getPrototypeOf(Hn)!==null;)Hn=Object.getPrototypeOf(Hn);return Object.getPrototypeOf(tr)===Hn||Object.getPrototypeOf(tr)===null}function createStore(tr,Hn,er){if(typeof tr!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof Hn=="function"&&typeof er=="function"||typeof er=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof Hn=="function"&&typeof er>"u"&&(er=Hn,Hn=void 0),typeof er<"u"){if(typeof er!="function")throw new Error(formatProdErrorMessage$1(1));return er(createStore)(tr,Hn)}let nr=tr,ir=Hn,rr=new Map,sr=rr,ar=0,or=!1;function lr(){sr===rr&&(sr=new Map,rr.forEach((_r,Sr)=>{sr.set(Sr,_r)}))}function cr(){if(or)throw new Error(formatProdErrorMessage$1(3));return ir}function ur(_r){if(typeof _r!="function")throw new Error(formatProdErrorMessage$1(4));if(or)throw new Error(formatProdErrorMessage$1(5));let Sr=!0;lr();const jr=ar++;return sr.set(jr,_r),function(){if(Sr){if(or)throw new Error(formatProdErrorMessage$1(6));Sr=!1,lr(),sr.delete(jr),rr=null}}}function dr(_r){if(!isPlainObject$4(_r))throw new Error(formatProdErrorMessage$1(7));if(typeof _r.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof _r.type!="string")throw new Error(formatProdErrorMessage$1(17));if(or)throw new Error(formatProdErrorMessage$1(9));try{or=!0,ir=nr(ir,_r)}finally{or=!1}return(rr=sr).forEach(jr=>{jr()}),_r}function fr(_r){if(typeof _r!="function")throw new Error(formatProdErrorMessage$1(10));nr=_r,dr({type:actionTypes_default.REPLACE})}function xr(){const _r=ur;return{subscribe(Sr){if(typeof Sr!="object"||Sr===null)throw new Error(formatProdErrorMessage$1(11));function jr(){const Ir=Sr;Ir.next&&Ir.next(cr())}return jr(),{unsubscribe:_r(jr)}},[symbol_observable_default](){return this}}}return dr({type:actionTypes_default.INIT}),{dispatch:dr,subscribe:ur,getState:cr,replaceReducer:fr,[symbol_observable_default]:xr}}function assertReducerShape(tr){Object.keys(tr).forEach(Hn=>{const er=tr[Hn];if(typeof er(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof er(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(tr){const Hn=Object.keys(tr),er={};for(let rr=0;rr<Hn.length;rr++){const sr=Hn[rr];typeof tr[sr]=="function"&&(er[sr]=tr[sr])}const nr=Object.keys(er);let ir;try{assertReducerShape(er)}catch(rr){ir=rr}return function(sr={},ar){if(ir)throw ir;let or=!1;const lr={};for(let cr=0;cr<nr.length;cr++){const ur=nr[cr],dr=er[ur],fr=sr[ur],xr=dr(fr,ar);if(typeof xr>"u")throw ar&&ar.type,new Error(formatProdErrorMessage$1(14));lr[ur]=xr,or=or||xr!==fr}return or=or||nr.length!==Object.keys(sr).length,or?lr:sr}}function compose$1(...tr){return tr.length===0?Hn=>Hn:tr.length===1?tr[0]:tr.reduce((Hn,er)=>(...nr)=>Hn(er(...nr)))}function applyMiddleware(...tr){return Hn=>(er,nr)=>{const ir=Hn(er,nr);let rr=()=>{throw new Error(formatProdErrorMessage$1(15))};const sr={getState:ir.getState,dispatch:(or,...lr)=>rr(or,...lr)},ar=tr.map(or=>or(sr));return rr=compose$1(...ar)(ir.dispatch),{...ir,dispatch:rr}}}function isAction(tr){return isPlainObject$4(tr)&&"type"in tr&&typeof tr.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(tr,...Hn){throw new Error(`[Immer] minified error nr: ${tr}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(tr){return!!tr&&!!tr[DRAFT_STATE]}function isDraftable(tr){return tr?isPlainObject$3(tr)||Array.isArray(tr)||!!tr[DRAFTABLE]||!!tr.constructor?.[DRAFTABLE]||isMap(tr)||isSet(tr):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$3(tr){if(!tr||typeof tr!="object")return!1;const Hn=Object.getPrototypeOf(tr);if(Hn===null||Hn===Object.prototype)return!0;const er=Object.hasOwnProperty.call(Hn,"constructor")&&Hn.constructor;if(er===Object)return!0;if(typeof er!="function")return!1;let nr=cachedCtorStrings.get(er);return nr===void 0&&(nr=Function.toString.call(er),cachedCtorStrings.set(er,nr)),nr===objectCtorString}function each(tr,Hn,er=!0){getArchtype(tr)===0?(er?Reflect.ownKeys(tr):Object.keys(tr)).forEach(ir=>{Hn(ir,tr[ir],tr)}):tr.forEach((nr,ir)=>Hn(ir,nr,tr))}function getArchtype(tr){const Hn=tr[DRAFT_STATE];return Hn?Hn.type_:Array.isArray(tr)?1:isMap(tr)?2:isSet(tr)?3:0}function has(tr,Hn){return getArchtype(tr)===2?tr.has(Hn):Object.prototype.hasOwnProperty.call(tr,Hn)}function set(tr,Hn,er){const nr=getArchtype(tr);nr===2?tr.set(Hn,er):nr===3?tr.add(er):tr[Hn]=er}function is$3(tr,Hn){return tr===Hn?tr!==0||1/tr===1/Hn:tr!==tr&&Hn!==Hn}function isMap(tr){return tr instanceof Map}function isSet(tr){return tr instanceof Set}function latest(tr){return tr.copy_||tr.base_}function shallowCopy(tr,Hn){if(isMap(tr))return new Map(tr);if(isSet(tr))return new Set(tr);if(Array.isArray(tr))return Array.prototype.slice.call(tr);const er=isPlainObject$3(tr);if(Hn===!0||Hn==="class_only"&&!er){const nr=Object.getOwnPropertyDescriptors(tr);delete nr[DRAFT_STATE];let ir=Reflect.ownKeys(nr);for(let rr=0;rr<ir.length;rr++){const sr=ir[rr],ar=nr[sr];ar.writable===!1&&(ar.writable=!0,ar.configurable=!0),(ar.get||ar.set)&&(nr[sr]={configurable:!0,writable:!0,enumerable:ar.enumerable,value:tr[sr]})}return Object.create(getPrototypeOf(tr),nr)}else{const nr=getPrototypeOf(tr);if(nr!==null&&er)return{...tr};const ir=Object.create(nr);return Object.assign(ir,tr)}}function freeze(tr,Hn=!1){return isFrozen(tr)||isDraft(tr)||!isDraftable(tr)||(getArchtype(tr)>1&&Object.defineProperties(tr,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(tr),Hn&&Object.values(tr).forEach(er=>freeze(er,!0))),tr}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(tr){return tr===null||typeof tr!="object"?!0:Object.isFrozen(tr)}var plugins={};function getPlugin(tr){const Hn=plugins[tr];return Hn||die(0,tr),Hn}var currentScope;function getCurrentScope(){return currentScope}function createScope(tr,Hn){return{drafts_:[],parent_:tr,immer_:Hn,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(tr,Hn){Hn&&(getPlugin("Patches"),tr.patches_=[],tr.inversePatches_=[],tr.patchListener_=Hn)}function revokeScope(tr){leaveScope(tr),tr.drafts_.forEach(revokeDraft),tr.drafts_=null}function leaveScope(tr){tr===currentScope&&(currentScope=tr.parent_)}function enterScope(tr){return currentScope=createScope(currentScope,tr)}function revokeDraft(tr){const Hn=tr[DRAFT_STATE];Hn.type_===0||Hn.type_===1?Hn.revoke_():Hn.revoked_=!0}function processResult(tr,Hn){Hn.unfinalizedDrafts_=Hn.drafts_.length;const er=Hn.drafts_[0];return tr!==void 0&&tr!==er?(er[DRAFT_STATE].modified_&&(revokeScope(Hn),die(4)),isDraftable(tr)&&(tr=finalize(Hn,tr),Hn.parent_||maybeFreeze(Hn,tr)),Hn.patches_&&getPlugin("Patches").generateReplacementPatches_(er[DRAFT_STATE].base_,tr,Hn.patches_,Hn.inversePatches_)):tr=finalize(Hn,er,[]),revokeScope(Hn),Hn.patches_&&Hn.patchListener_(Hn.patches_,Hn.inversePatches_),tr!==NOTHING?tr:void 0}function finalize(tr,Hn,er){if(isFrozen(Hn))return Hn;const nr=tr.immer_.shouldUseStrictIteration(),ir=Hn[DRAFT_STATE];if(!ir)return each(Hn,(rr,sr)=>finalizeProperty(tr,ir,Hn,rr,sr,er),nr),Hn;if(ir.scope_!==tr)return Hn;if(!ir.modified_)return maybeFreeze(tr,ir.base_,!0),ir.base_;if(!ir.finalized_){ir.finalized_=!0,ir.scope_.unfinalizedDrafts_--;const rr=ir.copy_;let sr=rr,ar=!1;ir.type_===3&&(sr=new Set(rr),rr.clear(),ar=!0),each(sr,(or,lr)=>finalizeProperty(tr,ir,rr,or,lr,er,ar),nr),maybeFreeze(tr,rr,!1),er&&tr.patches_&&getPlugin("Patches").generatePatches_(ir,er,tr.patches_,tr.inversePatches_)}return ir.copy_}function finalizeProperty(tr,Hn,er,nr,ir,rr,sr){if(ir==null||typeof ir!="object"&&!sr)return;const ar=isFrozen(ir);if(!(ar&&!sr)){if(isDraft(ir)){const or=rr&&Hn&&Hn.type_!==3&&!has(Hn.assigned_,nr)?rr.concat(nr):void 0,lr=finalize(tr,ir,or);if(set(er,nr,lr),isDraft(lr))tr.canAutoFreeze_=!1;else return}else sr&&er.add(ir);if(isDraftable(ir)&&!ar){if(!tr.immer_.autoFreeze_&&tr.unfinalizedDrafts_<1||Hn&&Hn.base_&&Hn.base_[nr]===ir&&ar)return;finalize(tr,ir),(!Hn||!Hn.scope_.parent_)&&typeof nr!="symbol"&&(isMap(er)?er.has(nr):Object.prototype.propertyIsEnumerable.call(er,nr))&&maybeFreeze(tr,ir)}}}function maybeFreeze(tr,Hn,er=!1){!tr.parent_&&tr.immer_.autoFreeze_&&tr.canAutoFreeze_&&freeze(Hn,er)}function createProxyProxy(tr,Hn){const er=Array.isArray(tr),nr={type_:er?1:0,scope_:Hn?Hn.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:Hn,base_:tr,draft_:null,copy_:null,revoke_:null,isManual_:!1};let ir=nr,rr=objectTraps;er&&(ir=[nr],rr=arrayTraps);const{revoke:sr,proxy:ar}=Proxy.revocable(ir,rr);return nr.draft_=ar,nr.revoke_=sr,ar}var objectTraps={get(tr,Hn){if(Hn===DRAFT_STATE)return tr;const er=latest(tr);if(!has(er,Hn))return readPropFromProto(tr,er,Hn);const nr=er[Hn];return tr.finalized_||!isDraftable(nr)?nr:nr===peek(tr.base_,Hn)?(prepareCopy(tr),tr.copy_[Hn]=createProxy(nr,tr)):nr},has(tr,Hn){return Hn in latest(tr)},ownKeys(tr){return Reflect.ownKeys(latest(tr))},set(tr,Hn,er){const nr=getDescriptorFromProto(latest(tr),Hn);if(nr?.set)return nr.set.call(tr.draft_,er),!0;if(!tr.modified_){const ir=peek(latest(tr),Hn),rr=ir?.[DRAFT_STATE];if(rr&&rr.base_===er)return tr.copy_[Hn]=er,tr.assigned_[Hn]=!1,!0;if(is$3(er,ir)&&(er!==void 0||has(tr.base_,Hn)))return!0;prepareCopy(tr),markChanged(tr)}return tr.copy_[Hn]===er&&(er!==void 0||Hn in tr.copy_)||Number.isNaN(er)&&Number.isNaN(tr.copy_[Hn])||(tr.copy_[Hn]=er,tr.assigned_[Hn]=!0),!0},deleteProperty(tr,Hn){return peek(tr.base_,Hn)!==void 0||Hn in tr.base_?(tr.assigned_[Hn]=!1,prepareCopy(tr),markChanged(tr)):delete tr.assigned_[Hn],tr.copy_&&delete tr.copy_[Hn],!0},getOwnPropertyDescriptor(tr,Hn){const er=latest(tr),nr=Reflect.getOwnPropertyDescriptor(er,Hn);return nr&&{writable:!0,configurable:tr.type_!==1||Hn!=="length",enumerable:nr.enumerable,value:er[Hn]}},defineProperty(){die(11)},getPrototypeOf(tr){return getPrototypeOf(tr.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(tr,Hn)=>{arrayTraps[tr]=function(){return arguments[0]=arguments[0][0],Hn.apply(this,arguments)}});arrayTraps.deleteProperty=function(tr,Hn){return arrayTraps.set.call(this,tr,Hn,void 0)};arrayTraps.set=function(tr,Hn,er){return objectTraps.set.call(this,tr[0],Hn,er,tr[0])};function peek(tr,Hn){const er=tr[DRAFT_STATE];return(er?latest(er):tr)[Hn]}function readPropFromProto(tr,Hn,er){const nr=getDescriptorFromProto(Hn,er);return nr?"value"in nr?nr.value:nr.get?.call(tr.draft_):void 0}function getDescriptorFromProto(tr,Hn){if(!(Hn in tr))return;let er=getPrototypeOf(tr);for(;er;){const nr=Object.getOwnPropertyDescriptor(er,Hn);if(nr)return nr;er=getPrototypeOf(er)}}function markChanged(tr){tr.modified_||(tr.modified_=!0,tr.parent_&&markChanged(tr.parent_))}function prepareCopy(tr){tr.copy_||(tr.copy_=shallowCopy(tr.base_,tr.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(tr){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(Hn,er,nr)=>{if(typeof Hn=="function"&&typeof er!="function"){const rr=er;er=Hn;const sr=this;return function(or=rr,...lr){return sr.produce(or,cr=>er.call(this,cr,...lr))}}typeof er!="function"&&die(6),nr!==void 0&&typeof nr!="function"&&die(7);let ir;if(isDraftable(Hn)){const rr=enterScope(this),sr=createProxy(Hn,void 0);let ar=!0;try{ir=er(sr),ar=!1}finally{ar?revokeScope(rr):leaveScope(rr)}return usePatchesInScope(rr,nr),processResult(ir,rr)}else if(!Hn||typeof Hn!="object"){if(ir=er(Hn),ir===void 0&&(ir=Hn),ir===NOTHING&&(ir=void 0),this.autoFreeze_&&freeze(ir,!0),nr){const rr=[],sr=[];getPlugin("Patches").generateReplacementPatches_(Hn,ir,rr,sr),nr(rr,sr)}return ir}else die(1,Hn)},this.produceWithPatches=(Hn,er)=>{if(typeof Hn=="function")return(sr,...ar)=>this.produceWithPatches(sr,or=>Hn(or,...ar));let nr,ir;return[this.produce(Hn,er,(sr,ar)=>{nr=sr,ir=ar}),nr,ir]},typeof tr?.autoFreeze=="boolean"&&this.setAutoFreeze(tr.autoFreeze),typeof tr?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(tr.useStrictShallowCopy),typeof tr?.useStrictIteration=="boolean"&&this.setUseStrictIteration(tr.useStrictIteration)}createDraft(tr){isDraftable(tr)||die(8),isDraft(tr)&&(tr=current(tr));const Hn=enterScope(this),er=createProxy(tr,void 0);return er[DRAFT_STATE].isManual_=!0,leaveScope(Hn),er}finishDraft(tr,Hn){const er=tr&&tr[DRAFT_STATE];(!er||!er.isManual_)&&die(9);const{scope_:nr}=er;return usePatchesInScope(nr,Hn),processResult(void 0,nr)}setAutoFreeze(tr){this.autoFreeze_=tr}setUseStrictShallowCopy(tr){this.useStrictShallowCopy_=tr}setUseStrictIteration(tr){this.useStrictIteration_=tr}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(tr,Hn){let er;for(er=Hn.length-1;er>=0;er--){const ir=Hn[er];if(ir.path.length===0&&ir.op==="replace"){tr=ir.value;break}}er>-1&&(Hn=Hn.slice(er+1));const nr=getPlugin("Patches").applyPatches_;return isDraft(tr)?nr(tr,Hn):this.produce(tr,ir=>nr(ir,Hn))}};function createProxy(tr,Hn){const er=isMap(tr)?getPlugin("MapSet").proxyMap_(tr,Hn):isSet(tr)?getPlugin("MapSet").proxySet_(tr,Hn):createProxyProxy(tr,Hn);return(Hn?Hn.scope_:getCurrentScope()).drafts_.push(er),er}function current(tr){return isDraft(tr)||die(10,tr),currentImpl(tr)}function currentImpl(tr){if(!isDraftable(tr)||isFrozen(tr))return tr;const Hn=tr[DRAFT_STATE];let er,nr=!0;if(Hn){if(!Hn.modified_)return Hn.base_;Hn.finalized_=!0,er=shallowCopy(tr,Hn.scope_.immer_.useStrictShallowCopy_),nr=Hn.scope_.immer_.shouldUseStrictIteration()}else er=shallowCopy(tr,!0);return each(er,(ir,rr)=>{set(er,ir,currentImpl(rr))},nr),Hn&&(Hn.finalized_=!1),er}var immer=new Immer2,produce=immer.produce,setUseStrictIteration=immer.setUseStrictIteration.bind(immer);function castDraft(tr){return tr}function createThunkMiddleware(tr){return({dispatch:er,getState:nr})=>ir=>rr=>typeof rr=="function"?rr(er,nr,tr):ir(rr)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(tr,Hn){function er(...nr){if(Hn){let ir=Hn(...nr);if(!ir)throw new Error(formatProdErrorMessage(0));return{type:tr,payload:ir.payload,..."meta"in ir&&{meta:ir.meta},..."error"in ir&&{error:ir.error}}}return{type:tr,payload:nr[0]}}return er.toString=()=>`${tr}`,er.type=tr,er.match=nr=>isAction(nr)&&nr.type===tr,er}var Tuple=class v0 extends Array{constructor(...Hn){super(...Hn),Object.setPrototypeOf(this,v0.prototype)}static get[Symbol.species](){return v0}concat(...Hn){return super.concat.apply(this,Hn)}prepend(...Hn){return Hn.length===1&&Array.isArray(Hn[0])?new v0(...Hn[0].concat(this)):new v0(...Hn.concat(this))}};function freezeDraftable(tr){return isDraftable(tr)?produce(tr,()=>{}):tr}function getOrInsertComputed(tr,Hn,er){return tr.has(Hn)?tr.get(Hn):tr.set(Hn,er(Hn)).get(Hn)}function isBoolean(tr){return typeof tr=="boolean"}var buildGetDefaultMiddleware=()=>function(Hn){const{thunk:er=!0,immutableCheck:nr=!0,serializableCheck:ir=!0,actionCreatorCheck:rr=!0}=Hn??{};let sr=new Tuple;return er&&(isBoolean(er)?sr.push(thunk):sr.push(withExtraArgument(er.extraArgument))),sr},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>tr=>({payload:tr,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=tr=>Hn=>{setTimeout(Hn,tr)},autoBatchEnhancer=(tr={type:"raf"})=>Hn=>(...er)=>{const nr=Hn(...er);let ir=!0,rr=!1,sr=!1;const ar=new Set,or=tr.type==="tick"?queueMicrotask:tr.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):tr.type==="callback"?tr.queueNotification:createQueueWithTimer(tr.timeout),lr=()=>{sr=!1,rr&&(rr=!1,ar.forEach(cr=>cr()))};return Object.assign({},nr,{subscribe(cr){const ur=()=>ir&&cr(),dr=nr.subscribe(ur);return ar.add(cr),()=>{dr(),ar.delete(cr)}},dispatch(cr){try{return ir=!cr?.meta?.[SHOULD_AUTOBATCH],rr=!ir,rr&&(sr||(sr=!0,or(lr))),nr.dispatch(cr)}finally{ir=!0}}})},buildGetDefaultEnhancers=tr=>function(er){const{autoBatch:nr=!0}=er??{};let ir=new Tuple(tr);return nr&&ir.push(autoBatchEnhancer(typeof nr=="object"?nr:void 0)),ir};function configureStore(tr){const Hn=buildGetDefaultMiddleware(),{reducer:er=void 0,middleware:nr,devTools:ir=!0,preloadedState:rr=void 0,enhancers:sr=void 0}=tr||{};let ar;if(typeof er=="function")ar=er;else if(isPlainObject$4(er))ar=combineReducers(er);else throw new Error(formatProdErrorMessage(1));let or;typeof nr=="function"?or=nr(Hn):or=Hn();let lr=compose$1;ir&&(lr=composeWithDevTools({trace:!1,...typeof ir=="object"&&ir}));const cr=applyMiddleware(...or),ur=buildGetDefaultEnhancers(cr);let dr=typeof sr=="function"?sr(ur):ur();const fr=lr(...dr);return createStore(ar,rr,fr)}function executeReducerBuilderCallback(tr){const Hn={},er=[];let nr;const ir={addCase(rr,sr){const ar=typeof rr=="string"?rr:rr.type;if(!ar)throw new Error(formatProdErrorMessage(28));if(ar in Hn)throw new Error(formatProdErrorMessage(29));return Hn[ar]=sr,ir},addAsyncThunk(rr,sr){return sr.pending&&(Hn[rr.pending.type]=sr.pending),sr.rejected&&(Hn[rr.rejected.type]=sr.rejected),sr.fulfilled&&(Hn[rr.fulfilled.type]=sr.fulfilled),sr.settled&&er.push({matcher:rr.settled,reducer:sr.settled}),ir},addMatcher(rr,sr){return er.push({matcher:rr,reducer:sr}),ir},addDefaultCase(rr){return nr=rr,ir}};return tr(ir),[Hn,er,nr]}setUseStrictIteration(!1);function isStateFunction(tr){return typeof tr=="function"}function createReducer(tr,Hn){let[er,nr,ir]=executeReducerBuilderCallback(Hn),rr;if(isStateFunction(tr))rr=()=>freezeDraftable(tr());else{const ar=freezeDraftable(tr);rr=()=>ar}function sr(ar=rr(),or){let lr=[er[or.type],...nr.filter(({matcher:cr})=>cr(or)).map(({reducer:cr})=>cr)];return lr.filter(cr=>!!cr).length===0&&(lr=[ir]),lr.reduce((cr,ur)=>{if(ur)if(isDraft(cr)){const fr=ur(cr,or);return fr===void 0?cr:fr}else{if(isDraftable(cr))return produce(cr,dr=>ur(dr,or));{const dr=ur(cr,or);if(dr===void 0){if(cr===null)return cr;throw Error("A case reducer on a non-draftable value must not return undefined")}return dr}}return cr},ar)}return sr.getInitialState=rr,sr}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(tr=21)=>{let Hn="",er=tr;for(;er--;)Hn+=urlAlphabet[Math.random()*64|0];return Hn},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(tr,Hn){return`${tr}/${Hn}`}function buildCreateSlice({creators:tr}={}){const Hn=tr?.asyncThunk?.[asyncThunkSymbol];return function(nr){const{name:ir,reducerPath:rr=ir}=nr;if(!ir)throw new Error(formatProdErrorMessage(11));const sr=(typeof nr.reducers=="function"?nr.reducers(buildReducerCreators()):nr.reducers)||{},ar=Object.keys(sr),or={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},lr={addCase(Dr,Ir){const Mr=typeof Dr=="string"?Dr:Dr.type;if(!Mr)throw new Error(formatProdErrorMessage(12));if(Mr in or.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return or.sliceCaseReducersByType[Mr]=Ir,lr},addMatcher(Dr,Ir){return or.sliceMatchers.push({matcher:Dr,reducer:Ir}),lr},exposeAction(Dr,Ir){return or.actionCreators[Dr]=Ir,lr},exposeCaseReducer(Dr,Ir){return or.sliceCaseReducersByName[Dr]=Ir,lr}};ar.forEach(Dr=>{const Ir=sr[Dr],Mr={reducerName:Dr,type:getType(ir,Dr),createNotation:typeof nr.reducers=="function"};isAsyncThunkSliceReducerDefinition(Ir)?handleThunkCaseReducerDefinition(Mr,Ir,lr,Hn):handleNormalReducerDefinition(Mr,Ir,lr)});function cr(){const[Dr={},Ir=[],Mr=void 0]=typeof nr.extraReducers=="function"?executeReducerBuilderCallback(nr.extraReducers):[nr.extraReducers],Or={...Dr,...or.sliceCaseReducersByType};return createReducer(nr.initialState,Lr=>{for(let Fr in Or)Lr.addCase(Fr,Or[Fr]);for(let Fr of or.sliceMatchers)Lr.addMatcher(Fr.matcher,Fr.reducer);for(let Fr of Ir)Lr.addMatcher(Fr.matcher,Fr.reducer);Mr&&Lr.addDefaultCase(Mr)})}const ur=Dr=>Dr,dr=new Map,fr=new WeakMap;let xr;function yr(Dr,Ir){return xr||(xr=cr()),xr(Dr,Ir)}function _r(){return xr||(xr=cr()),xr.getInitialState()}function Sr(Dr,Ir=!1){function Mr(Lr){let Fr=Lr[Dr];return typeof Fr>"u"&&Ir&&(Fr=getOrInsertComputed(fr,Mr,_r)),Fr}function Or(Lr=ur){const Fr=getOrInsertComputed(dr,Ir,()=>new WeakMap);return getOrInsertComputed(Fr,Lr,()=>{const Vr={};for(const[Zr,Hr]of Object.entries(nr.selectors??{}))Vr[Zr]=wrapSelector(Hr,Lr,()=>getOrInsertComputed(fr,Lr,_r),Ir);return Vr})}return{reducerPath:Dr,getSelectors:Or,get selectors(){return Or(Mr)},selectSlice:Mr}}const jr={name:ir,reducer:yr,actions:or.actionCreators,caseReducers:or.sliceCaseReducersByName,getInitialState:_r,...Sr(rr),injectInto(Dr,{reducerPath:Ir,...Mr}={}){const Or=Ir??rr;return Dr.inject({reducerPath:Or,reducer:yr},Mr),{...jr,...Sr(Or,!0)}}};return jr}}function wrapSelector(tr,Hn,er,nr){function ir(rr,...sr){let ar=Hn(rr);return typeof ar>"u"&&nr&&(ar=er()),tr(ar,...sr)}return ir.unwrapped=tr,ir}var createSlice=buildCreateSlice();function buildReducerCreators(){function tr(Hn,er){return{_reducerDefinitionType:"asyncThunk",payloadCreator:Hn,...er}}return tr.withTypes=()=>tr,{reducer(Hn){return Object.assign({[Hn.name](...er){return Hn(...er)}}[Hn.name],{_reducerDefinitionType:"reducer"})},preparedReducer(Hn,er){return{_reducerDefinitionType:"reducerWithPrepare",prepare:Hn,reducer:er}},asyncThunk:tr}}function handleNormalReducerDefinition({type:tr,reducerName:Hn,createNotation:er},nr,ir){let rr,sr;if("reducer"in nr){if(er&&!isCaseReducerWithPrepareDefinition(nr))throw new Error(formatProdErrorMessage(17));rr=nr.reducer,sr=nr.prepare}else rr=nr;ir.addCase(tr,rr).exposeCaseReducer(Hn,rr).exposeAction(Hn,sr?createAction(tr,sr):createAction(tr))}function isAsyncThunkSliceReducerDefinition(tr){return tr._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(tr){return tr._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:tr,reducerName:Hn},er,nr,ir){if(!ir)throw new Error(formatProdErrorMessage(18));const{payloadCreator:rr,fulfilled:sr,pending:ar,rejected:or,settled:lr,options:cr}=er,ur=ir(tr,rr,cr);nr.exposeAction(Hn,ur),sr&&nr.addCase(ur.fulfilled,sr),ar&&nr.addCase(ur.pending,ar),or&&nr.addCase(ur.rejected,or),lr&&nr.addMatcher(ur.settled,lr),nr.exposeCaseReducer(Hn,{fulfilled:sr||noop,pending:ar||noop,rejected:or||noop,settled:lr||noop})}function noop(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(tr){this.code=tr,this.message=`${task} ${cancelled} (reason: ${tr})`}name="TaskAbortError";message},assertFunction=(tr,Hn)=>{if(typeof tr!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(tr,Hn=noop2)=>(tr.catch(Hn),tr),addAbortSignalListener=(tr,Hn)=>(tr.addEventListener("abort",Hn,{once:!0}),()=>tr.removeEventListener("abort",Hn)),abortControllerWithReason=(tr,Hn)=>{const er=tr.signal;er.aborted||("reason"in er||Object.defineProperty(er,"reason",{enumerable:!0,value:Hn,configurable:!0,writable:!0}),tr.abort(Hn))},validateActive=tr=>{if(tr.aborted){const{reason:Hn}=tr;throw new TaskAbortError(Hn)}};function raceWithSignal(tr,Hn){let er=noop2;return new Promise((nr,ir)=>{const rr=()=>ir(new TaskAbortError(tr.reason));if(tr.aborted){rr();return}er=addAbortSignalListener(tr,rr),Hn.finally(()=>er()).then(nr,ir)}).finally(()=>{er=noop2})}var runTask=async(tr,Hn)=>{try{return await Promise.resolve(),{status:"ok",value:await tr()}}catch(er){return{status:er instanceof TaskAbortError?"cancelled":"rejected",error:er}}finally{Hn?.()}},createPause=tr=>Hn=>catchRejection(raceWithSignal(tr,Hn).then(er=>(validateActive(tr),er))),createDelay=tr=>{const Hn=createPause(tr);return er=>Hn(new Promise(nr=>setTimeout(nr,er)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(tr,Hn)=>{const er=nr=>addAbortSignalListener(tr,()=>abortControllerWithReason(nr,tr.reason));return(nr,ir)=>{assertFunction(nr);const rr=new AbortController;er(rr);const sr=runTask(async()=>{validateActive(tr),validateActive(rr.signal);const ar=await nr({pause:createPause(rr.signal),delay:createDelay(rr.signal),signal:rr.signal});return validateActive(rr.signal),ar},()=>abortControllerWithReason(rr,taskCompleted));return ir?.autoJoin&&Hn.push(sr.catch(noop2)),{result:createPause(tr)(sr),cancel(){abortControllerWithReason(rr,taskCancelled)}}}},createTakePattern=(tr,Hn)=>{const er=async(nr,ir)=>{validateActive(Hn);let rr=()=>{};const ar=[new Promise((or,lr)=>{let cr=tr({predicate:nr,effect:(ur,dr)=>{dr.unsubscribe(),or([ur,dr.getState(),dr.getOriginalState()])}});rr=()=>{cr(),lr()}})];ir!=null&&ar.push(new Promise(or=>setTimeout(or,ir,null)));try{const or=await raceWithSignal(Hn,Promise.race(ar));return validateActive(Hn),or}finally{rr()}};return(nr,ir)=>catchRejection(er(nr,ir))},getListenerEntryPropsFrom=tr=>{let{type:Hn,actionCreator:er,matcher:nr,predicate:ir,effect:rr}=tr;if(Hn)ir=createAction(Hn).match;else if(er)Hn=er.type,ir=er.match;else if(nr)ir=nr;else if(!ir)throw new Error(formatProdErrorMessage(21));return assertFunction(rr),{predicate:ir,type:Hn,effect:rr}},createListenerEntry=assign(tr=>{const{type:Hn,predicate:er,effect:nr}=getListenerEntryPropsFrom(tr);return{id:nanoid(),effect:nr,type:Hn,predicate:er,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(tr,Hn)=>{const{type:er,effect:nr,predicate:ir}=getListenerEntryPropsFrom(Hn);return Array.from(tr.values()).find(rr=>(typeof er=="string"?rr.type===er:rr.predicate===ir)&&rr.effect===nr)},cancelActiveListeners=tr=>{tr.pending.forEach(Hn=>{abortControllerWithReason(Hn,listenerCancelled)})},createClearListenerMiddleware=(tr,Hn)=>()=>{for(const er of Hn.keys())cancelActiveListeners(er);tr.clear()},safelyNotifyError=(tr,Hn,er)=>{try{tr(Hn,er)}catch(nr){setTimeout(()=>{throw nr},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...tr)=>{console.error(`${alm}/error`,...tr)},createListenerMiddleware=(tr={})=>{const Hn=new Map,er=new Map,nr=fr=>{const xr=er.get(fr)??0;er.set(fr,xr+1)},ir=fr=>{const xr=er.get(fr)??1;xr===1?er.delete(fr):er.set(fr,xr-1)},{extra:rr,onError:sr=defaultErrorHandler}=tr;assertFunction(sr);const ar=fr=>(fr.unsubscribe=()=>Hn.delete(fr.id),Hn.set(fr.id,fr),xr=>{fr.unsubscribe(),xr?.cancelActive&&cancelActiveListeners(fr)}),or=fr=>{const xr=findListenerEntry(Hn,fr)??createListenerEntry(fr);return ar(xr)};assign(or,{withTypes:()=>or});const lr=fr=>{const xr=findListenerEntry(Hn,fr);return xr&&(xr.unsubscribe(),fr.cancelActive&&cancelActiveListeners(xr)),!!xr};assign(lr,{withTypes:()=>lr});const cr=async(fr,xr,yr,_r)=>{const Sr=new AbortController,jr=createTakePattern(or,Sr.signal),Dr=[];try{fr.pending.add(Sr),nr(fr),await Promise.resolve(fr.effect(xr,assign({},yr,{getOriginalState:_r,condition:(Ir,Mr)=>jr(Ir,Mr).then(Boolean),take:jr,delay:createDelay(Sr.signal),pause:createPause(Sr.signal),extra:rr,signal:Sr.signal,fork:createFork(Sr.signal,Dr),unsubscribe:fr.unsubscribe,subscribe:()=>{Hn.set(fr.id,fr)},cancelActiveListeners:()=>{fr.pending.forEach((Ir,Mr,Or)=>{Ir!==Sr&&(abortControllerWithReason(Ir,listenerCancelled),Or.delete(Ir))})},cancel:()=>{abortControllerWithReason(Sr,listenerCancelled),fr.pending.delete(Sr)},throwIfCancelled:()=>{validateActive(Sr.signal)}})))}catch(Ir){Ir instanceof TaskAbortError||safelyNotifyError(sr,Ir,{raisedBy:"effect"})}finally{await Promise.all(Dr),abortControllerWithReason(Sr,listenerCompleted),ir(fr),fr.pending.delete(Sr)}},ur=createClearListenerMiddleware(Hn,er);return{middleware:fr=>xr=>yr=>{if(!isAction(yr))return xr(yr);if(addListener.match(yr))return or(yr.payload);if(clearAllListeners.match(yr)){ur();return}if(removeListener.match(yr))return lr(yr.payload);let _r=fr.getState();const Sr=()=>{if(_r===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return _r};let jr;try{if(jr=xr(yr),Hn.size>0){const Dr=fr.getState(),Ir=Array.from(Hn.values());for(const Mr of Ir){let Or=!1;try{Or=Mr.predicate(yr,Dr,_r)}catch(Lr){Or=!1,safelyNotifyError(sr,Lr,{raisedBy:"predicate"})}Or&&cr(Mr,yr,fr,Sr)}}}finally{_r=INTERNAL_NIL_TOKEN}return jr},startListening:or,stopListening:lr,clearListeners:ur}};function formatProdErrorMessage(tr){return`Minified Redux Toolkit error #${tr}; visit https://redux-toolkit.js.org/Errors?code=${tr} for the full message or use the non-minified dev environment for full errors. `}var initialState$b={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$b,reducers:{setLayout(tr,Hn){tr.layoutType=Hn.payload},setChartSize(tr,Hn){tr.width=Hn.payload.width,tr.height=Hn.payload.height},setMargin(tr,Hn){var er,nr,ir,rr;tr.margin.top=(er=Hn.payload.top)!==null&&er!==void 0?er:0,tr.margin.right=(nr=Hn.payload.right)!==null&&nr!==void 0?nr:0,tr.margin.bottom=(ir=Hn.payload.bottom)!==null&&ir!==void 0?ir:0,tr.margin.left=(rr=Hn.payload.left)!==null&&rr!==void 0?rr:0},setScale(tr,Hn){tr.scale=Hn.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function getSliced(tr,Hn,er){return Array.isArray(tr)&&tr&&Hn+er!==0?tr.slice(Hn,er+1):tr}function ownKeys$x(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$x(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$x(Object(er),!0).forEach(function(nr){_defineProperty$y(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$x(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$y(tr,Hn,er){return(Hn=_toPropertyKey$y(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$y(tr){var Hn=_toPrimitive$y(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$y(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function getValueByDataKey(tr,Hn,er){return isNullish(tr)||isNullish(Hn)?er:isNumOrStr(Hn)?get(tr,Hn,er):typeof Hn=="function"?Hn(tr):er}var appendOffsetOfLegend=(tr,Hn,er)=>{if(Hn&&er){var{width:nr,height:ir}=er,{align:rr,verticalAlign:sr,layout:ar}=Hn;if((ar==="vertical"||ar==="horizontal"&&sr==="middle")&&rr!=="center"&&isNumber(tr[rr]))return _objectSpread$x(_objectSpread$x({},tr),{},{[rr]:tr[rr]+(nr||0)});if((ar==="horizontal"||ar==="vertical"&&rr==="center")&&sr!=="middle"&&isNumber(tr[sr]))return _objectSpread$x(_objectSpread$x({},tr),{},{[sr]:tr[sr]+(ir||0)})}return tr},isCategoricalAxis=(tr,Hn)=>tr==="horizontal"&&Hn==="xAxis"||tr==="vertical"&&Hn==="yAxis"||tr==="centric"&&Hn==="angleAxis"||tr==="radial"&&Hn==="radiusAxis",getCoordinatesOfGrid=(tr,Hn,er,nr)=>{if(nr)return tr.map(ar=>ar.coordinate);var ir,rr,sr=tr.map(ar=>(ar.coordinate===Hn&&(ir=!0),ar.coordinate===er&&(rr=!0),ar.coordinate));return ir||sr.push(Hn),rr||sr.push(er),sr},getTicksOfAxis=(tr,Hn,er)=>{if(!tr)return null;var{duplicateDomain:nr,type:ir,range:rr,scale:sr,realScaleType:ar,isCategorical:or,categoricalDomain:lr,tickCount:cr,ticks:ur,niceTicks:dr,axisType:fr}=tr;if(!sr)return null;var xr=ar==="scaleBand"&&sr.bandwidth?sr.bandwidth()/2:2,yr=ir==="category"&&sr.bandwidth?sr.bandwidth()/xr:0;if(yr=fr==="angleAxis"&&rr&&rr.length>=2?mathSign(rr[0]-rr[1])*2*yr:yr,ur||dr){var _r=(ur||dr||[]).map((Sr,jr)=>{var Dr=nr?nr.indexOf(Sr):Sr;return{coordinate:sr(Dr)+yr,value:Sr,offset:yr,index:jr}});return _r.filter(Sr=>!isNan(Sr.coordinate))}return or&&lr?lr.map((Sr,jr)=>({coordinate:sr(Sr)+yr,value:Sr,index:jr,offset:yr})):sr.ticks&&cr!=null?sr.ticks(cr).map((Sr,jr)=>({coordinate:sr(Sr)+yr,value:Sr,offset:yr,index:jr})):sr.domain().map((Sr,jr)=>({coordinate:sr(Sr)+yr,value:nr?nr[Sr]:Sr,index:jr,offset:yr}))},EPS=1e-4,checkDomainOfScale=tr=>{var Hn=tr.domain();if(!(!Hn||Hn.length<=2)){var er=Hn.length,nr=tr.range(),ir=Math.min(nr[0],nr[1])-EPS,rr=Math.max(nr[0],nr[1])+EPS,sr=tr(Hn[0]),ar=tr(Hn[er-1]);(sr<ir||sr>rr||ar<ir||ar>rr)&&tr.domain([Hn[0],Hn[er-1]])}},truncateByDomain=(tr,Hn)=>{if(!Hn||Hn.length!==2||!isNumber(Hn[0])||!isNumber(Hn[1]))return tr;var er=Math.min(Hn[0],Hn[1]),nr=Math.max(Hn[0],Hn[1]),ir=[tr[0],tr[1]];return(!isNumber(tr[0])||tr[0]<er)&&(ir[0]=er),(!isNumber(tr[1])||tr[1]>nr)&&(ir[1]=nr),ir[0]>nr&&(ir[0]=nr),ir[1]<er&&(ir[1]=er),ir},offsetSign=tr=>{var Hn=tr.length;if(!(Hn<=0))for(var er=0,nr=tr[0].length;er<nr;++er)for(var ir=0,rr=0,sr=0;sr<Hn;++sr){var ar=isNan(tr[sr][er][1])?tr[sr][er][0]:tr[sr][er][1];ar>=0?(tr[sr][er][0]=ir,tr[sr][er][1]=ir+ar,ir=tr[sr][er][1]):(tr[sr][er][0]=rr,tr[sr][er][1]=rr+ar,rr=tr[sr][er][1])}},offsetPositive=tr=>{var Hn=tr.length;if(!(Hn<=0))for(var er=0,nr=tr[0].length;er<nr;++er)for(var ir=0,rr=0;rr<Hn;++rr){var sr=isNan(tr[rr][er][1])?tr[rr][er][0]:tr[rr][er][1];sr>=0?(tr[rr][er][0]=ir,tr[rr][er][1]=ir+sr,ir=tr[rr][er][1]):(tr[rr][er][0]=0,tr[rr][er][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(tr,Hn,er)=>{var nr=STACK_OFFSET_MAP[er],ir=shapeStack().keys(Hn).value((rr,sr)=>Number(getValueByDataKey(rr,sr,0))).order(stackOrderNone).offset(nr);return ir(tr)};function getNormalizedStackId(tr){return tr==null?void 0:String(tr)}var getCateCoordinateOfBar=tr=>{var{axis:Hn,ticks:er,offset:nr,bandSize:ir,entry:rr,index:sr}=tr;if(Hn.type==="category")return er[sr]?er[sr].coordinate+nr:null;var ar=getValueByDataKey(rr,Hn.dataKey,Hn.scale.domain()[sr]);return isNullish(ar)?null:Hn.scale(ar)-ir/2+nr},getBaseValueOfBar=tr=>{var{numericAxis:Hn}=tr,er=Hn.scale.domain();if(Hn.type==="number"){var nr=Math.min(er[0],er[1]),ir=Math.max(er[0],er[1]);return nr<=0&&ir>=0?0:ir<0?ir:nr}return er[0]},getDomainOfSingle=tr=>{var Hn=tr.flat(2).filter(isNumber);return[Math.min(...Hn),Math.max(...Hn)]},makeDomainFinite=tr=>[tr[0]===1/0?0:tr[0],tr[1]===-1/0?0:tr[1]],getDomainOfStackGroups=(tr,Hn,er)=>{if(tr!=null)return makeDomainFinite(Object.keys(tr).reduce((nr,ir)=>{var rr=tr[ir],{stackedData:sr}=rr,ar=sr.reduce((or,lr)=>{var cr=getSliced(lr,Hn,er),ur=getDomainOfSingle(cr);return[Math.min(or[0],ur[0]),Math.max(or[1],ur[1])]},[1/0,-1/0]);return[Math.min(ar[0],nr[0]),Math.max(ar[1],nr[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(tr,Hn,er)=>{if(tr&&tr.scale&&tr.scale.bandwidth){var nr=tr.scale.bandwidth();if(!er||nr>0)return nr}if(tr&&Hn&&Hn.length>=2){for(var ir=sortBy(Hn,cr=>cr.coordinate),rr=1/0,sr=1,ar=ir.length;sr<ar;sr++){var or=ir[sr],lr=ir[sr-1];rr=Math.min((or.coordinate||0)-(lr.coordinate||0),rr)}return rr===1/0?0:rr}return er?void 0:0};function getTooltipEntry(tr){var{tooltipEntrySettings:Hn,dataKey:er,payload:nr,value:ir,name:rr}=tr;return _objectSpread$x(_objectSpread$x({},Hn),{},{dataKey:er,payload:nr,value:ir,name:rr})}function getTooltipNameProp(tr,Hn){if(tr)return String(tr);if(typeof Hn=="string")return Hn}var calculateCartesianTooltipPos=(tr,Hn)=>{if(Hn==="horizontal")return tr.chartX;if(Hn==="vertical")return tr.chartY},calculatePolarTooltipPos=(tr,Hn)=>Hn==="centric"?tr.angle:tr.radius,selectChartWidth=tr=>tr.layout.width,selectChartHeight=tr=>tr.layout.height,selectContainerScale=tr=>tr.layout.scale,selectMargin=tr=>tr.layout.margin,selectAllXAxes=createSelector(tr=>tr.cartesianAxis.xAxis,tr=>Object.values(tr)),selectAllYAxes=createSelector(tr=>tr.cartesianAxis.yAxis,tr=>Object.values(tr)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$w(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$w(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$w(Object(er),!0).forEach(function(nr){_defineProperty$x(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$w(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$x(tr,Hn,er){return(Hn=_toPropertyKey$x(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$x(tr){var Hn=_toPrimitive$x(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$x(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var selectBrushHeight=tr=>tr.brush.height;function selectLeftAxesOffset(tr){var Hn=selectAllYAxes(tr);return Hn.reduce((er,nr)=>{if(nr.orientation==="left"&&!nr.mirror&&!nr.hide){var ir=typeof nr.width=="number"?nr.width:DEFAULT_Y_AXIS_WIDTH;return er+ir}return er},0)}function selectRightAxesOffset(tr){var Hn=selectAllYAxes(tr);return Hn.reduce((er,nr)=>{if(nr.orientation==="right"&&!nr.mirror&&!nr.hide){var ir=typeof nr.width=="number"?nr.width:DEFAULT_Y_AXIS_WIDTH;return er+ir}return er},0)}function selectTopAxesOffset(tr){var Hn=selectAllXAxes(tr);return Hn.reduce((er,nr)=>nr.orientation==="top"&&!nr.mirror&&!nr.hide?er+nr.height:er,0)}function selectBottomAxesOffset(tr){var Hn=selectAllXAxes(tr);return Hn.reduce((er,nr)=>nr.orientation==="bottom"&&!nr.mirror&&!nr.hide?er+nr.height:er,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(tr,Hn,er,nr,ir,rr,sr,ar,or,lr)=>{var cr={left:(er.left||0)+ir,right:(er.right||0)+rr},ur={top:(er.top||0)+sr,bottom:(er.bottom||0)+ar},dr=_objectSpread$w(_objectSpread$w({},ur),cr),fr=dr.bottom;dr.bottom+=nr,dr=appendOffsetOfLegend(dr,or,lr);var xr=tr-dr.left-dr.right,yr=Hn-dr.top-dr.bottom;return _objectSpread$w(_objectSpread$w({brushBottom:fr},dr),{},{width:Math.max(xr,0),height:Math.max(yr,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,tr=>({x:tr.left,y:tr.top,width:tr.width,height:tr.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(tr,Hn)=>({x:0,y:0,width:tr,height:Hn})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=tr=>tr.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(tr,Hn,er)=>({height:tr.height,x:isNumber(tr.x)?tr.x:Hn.left,y:isNumber(tr.y)?tr.y:Hn.top+Hn.height+Hn.brushBottom-(er?.bottom||0),width:isNumber(tr.width)?tr.width:Hn.width})),throttle$2={},debounce$2={},debounce$1={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr,{signal:ir,edges:rr}={}){let sr,ar=null;const or=rr!=null&&rr.includes("leading"),lr=rr==null||rr.includes("trailing"),cr=()=>{ar!==null&&(er.apply(sr,ar),sr=void 0,ar=null)},ur=()=>{lr&&cr(),yr()};let dr=null;const fr=()=>{dr!=null&&clearTimeout(dr),dr=setTimeout(()=>{dr=null,ur()},nr)},xr=()=>{dr!==null&&(clearTimeout(dr),dr=null)},yr=()=>{xr(),sr=void 0,ar=null},_r=()=>{cr()},Sr=function(...jr){if(ir?.aborted)return;sr=this,ar=jr;const Dr=dr==null;fr(),or&&Dr&&cr()};return Sr.schedule=fr,Sr.cancel=yr,Sr.flush=_r,ir?.addEventListener("abort",yr,{once:!0}),Sr}tr.debounce=Hn})(debounce$1)),debounce$1}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireDebounce$1();function er(nr,ir=0,rr={}){typeof rr!="object"&&(rr={});const{leading:sr=!1,trailing:ar=!0,maxWait:or}=rr,lr=Array(2);sr&&(lr[0]="leading"),ar&&(lr[1]="trailing");let cr,ur=null;const dr=Hn.debounce(function(...yr){cr=nr.apply(this,yr),ur=null},ir,{edges:lr}),fr=function(...yr){return or!=null&&(ur===null&&(ur=Date.now()),Date.now()-ur>=or)?(cr=nr.apply(this,yr),ur=Date.now(),dr.cancel(),dr.schedule(),cr):(dr.apply(this,yr),cr)},xr=()=>(dr.flush(),cr);return fr.cancel=dr.cancel,fr.flush=xr,fr}tr.debounce=er})(debounce$2)),debounce$2}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireDebounce();function er(nr,ir=0,rr={}){const{leading:sr=!0,trailing:ar=!0}=rr;return Hn.debounce(nr,ir,{leading:sr,maxWait:ir,trailing:ar})}tr.throttle=er})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function tr(Hn,er){for(var nr=arguments.length,ir=new Array(nr>2?nr-2:0),rr=2;rr<nr;rr++)ir[rr-2]=arguments[rr];if(typeof console<"u"&&console.warn&&(er===void 0&&console.warn("LogUtils requires an error message argument"),!Hn))if(er===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var sr=0;console.warn(er.replace(/%s/g,()=>ir[sr++]))}},calculateChartDimensions=(tr,Hn,er)=>{var{width:nr="100%",height:ir="100%",aspect:rr,maxHeight:sr}=er,ar=isPercent(nr)?tr:Number(nr),or=isPercent(ir)?Hn:Number(ir);return rr&&rr>0&&(ar?or=ar/rr:or&&(ar=or*rr),sr&&or!=null&&or>sr&&(or=sr)),{calculatedWidth:ar,calculatedHeight:or}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=tr=>{var{width:Hn,height:er}=tr,nr=isPercent(Hn),ir=isPercent(er);return nr&&ir?bothOverflow:nr?overflowX:ir?overflowY:noStyle};function getDefaultWidthAndHeight(tr){var{width:Hn,height:er,aspect:nr}=tr,ir=Hn,rr=er;return ir===void 0&&rr===void 0?(ir="100%",rr="100%"):ir===void 0?ir=nr&&nr>0?void 0:"100%":rr===void 0&&(rr=nr&&nr>0?void 0:"100%"),{width:ir,height:rr}}function isWellBehavedNumber(tr){return Number.isFinite(tr)}function isPositiveNumber(tr){return typeof tr=="number"&&tr>0&&Number.isFinite(tr)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$l.apply(null,arguments)}function ownKeys$v(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$v(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$v(Object(er),!0).forEach(function(nr){_defineProperty$w(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$v(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$w(tr,Hn,er){return(Hn=_toPropertyKey$w(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$w(tr){var Hn=_toPrimitive$w(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$w(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function isAcceptableSize(tr){return isPositiveNumber(tr.width)&&isPositiveNumber(tr.height)}function ResponsiveContainerContextProvider(tr){var{children:Hn,width:er,height:nr}=tr,ir=reactExports.useMemo(()=>({width:er,height:nr}),[er,nr]);return isAcceptableSize(ir)?reactExports.createElement(ResponsiveContainerContext.Provider,{value:ir},Hn):null}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((tr,Hn)=>{var{aspect:er,initialDimension:nr={width:-1,height:-1},width:ir,height:rr,minWidth:sr=0,minHeight:ar,maxHeight:or,children:lr,debounce:cr=0,id:ur,className:dr,onResize:fr,style:xr={}}=tr,yr=reactExports.useRef(null),_r=reactExports.useRef();_r.current=fr,reactExports.useImperativeHandle(Hn,()=>yr.current);var[Sr,jr]=reactExports.useState({containerWidth:nr.width,containerHeight:nr.height}),Dr=reactExports.useCallback((Fr,Vr)=>{jr(Zr=>{var Hr=Math.round(Fr),Yr=Math.round(Vr);return Zr.containerWidth===Hr&&Zr.containerHeight===Yr?Zr:{containerWidth:Hr,containerHeight:Yr}})},[]);reactExports.useEffect(()=>{if(yr.current==null||typeof ResizeObserver>"u")return noop$2;var Fr=Yr=>{var eo,{width:io,height:uo}=Yr[0].contentRect;Dr(io,uo),(eo=_r.current)===null||eo===void 0||eo.call(_r,io,uo)};cr>0&&(Fr=throttle(Fr,cr,{trailing:!0,leading:!1}));var Vr=new ResizeObserver(Fr),{width:Zr,height:Hr}=yr.current.getBoundingClientRect();return Dr(Zr,Hr),Vr.observe(yr.current),()=>{Vr.disconnect()}},[Dr,cr]);var{containerWidth:Ir,containerHeight:Mr}=Sr;warn(!er||er>0,"The aspect(%s) must be greater than zero.",er);var{calculatedWidth:Or,calculatedHeight:Lr}=calculateChartDimensions(Ir,Mr,{width:ir,height:rr,aspect:er,maxHeight:or});return warn(Or!=null&&Or>0||Lr!=null&&Lr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Or,Lr,ir,rr,sr,ar,er),reactExports.createElement("div",{id:ur?"".concat(ur):void 0,className:clsx("recharts-responsive-container",dr),style:_objectSpread$v(_objectSpread$v({},xr),{},{width:ir,height:rr,minWidth:sr,minHeight:ar,maxHeight:or}),ref:yr},reactExports.createElement("div",{style:getInnerDivStyle({width:ir,height:rr})},reactExports.createElement(ResponsiveContainerContextProvider,{width:Or,height:Lr},lr)))}),ResponsiveContainer=reactExports.forwardRef((tr,Hn)=>{var er=useResponsiveContainerContext();if(isPositiveNumber(er.width)&&isPositiveNumber(er.height))return tr.children;var{width:nr,height:ir}=getDefaultWidthAndHeight({width:tr.width,height:tr.height,aspect:tr.aspect}),{calculatedWidth:rr,calculatedHeight:sr}=calculateChartDimensions(void 0,void 0,{width:nr,height:ir,aspect:tr.aspect,maxHeight:tr.maxHeight});return isNumber(rr)&&isNumber(sr)?reactExports.createElement(ResponsiveContainerContextProvider,{width:rr,height:sr},tr.children):reactExports.createElement(SizeDetectorContainer,_extends$l({},tr,{width:nr,height:ir,ref:Hn}))});function cartesianViewBoxToTrapezoid(tr){if(tr)return{x:tr.x,y:tr.y,upperWidth:"upperWidth"in tr?tr.upperWidth:tr.width,lowerWidth:"lowerWidth"in tr?tr.lowerWidth:tr.width,width:tr.width,height:tr.height}}var useViewBox=()=>{var tr,Hn=useIsPanorama(),er=useAppSelector(selectChartViewBox),nr=useAppSelector(selectBrushDimensions),ir=(tr=useAppSelector(selectBrushSettings))===null||tr===void 0?void 0:tr.padding;return!Hn||!nr||!ir?er:{width:nr.width-ir.left-ir.right,height:nr.height-ir.top-ir.bottom,x:ir.left,y:ir.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var tr;return(tr=useAppSelector(selectChartOffsetInternal))!==null&&tr!==void 0?tr:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),selectChartLayout=tr=>tr.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),useIsInChartContext=()=>{var tr=useChartLayout();return tr!==void 0},ReportChartSize=tr=>{var Hn=useAppDispatch(),er=useIsPanorama(),{width:nr,height:ir}=tr,rr=useResponsiveContainerContext(),sr=nr,ar=ir;return rr&&(sr=rr.width>0?rr.width:nr,ar=rr.height>0?rr.height:ir),reactExports.useEffect(()=>{!er&&isPositiveNumber(sr)&&isPositiveNumber(ar)&&Hn(setChartSize({width:sr,height:ar}))},[Hn,er,sr,ar]),null},initialState$a={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$a,reducers:{setLegendSize(tr,Hn){tr.size.width=Hn.payload.width,tr.size.height=Hn.payload.height},setLegendSettings(tr,Hn){tr.settings.align=Hn.payload.align,tr.settings.layout=Hn.payload.layout,tr.settings.verticalAlign=Hn.payload.verticalAlign,tr.settings.itemSorter=Hn.payload.itemSorter},addLegendPayload:{reducer(tr,Hn){tr.payload.push(Hn.payload)},prepare:prepareAutoBatched()},replaceLegendPayload:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload,ir=current(tr).payload.indexOf(er);ir>-1&&(tr.payload[ir]=nr)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(tr,Hn){var er=current(tr).payload.indexOf(Hn.payload);er>-1&&tr.payload.splice(er,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,replaceLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer;function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$k.apply(null,arguments)}function ownKeys$u(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$u(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$u(Object(er),!0).forEach(function(nr){_defineProperty$v(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$u(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$v(tr,Hn,er){return(Hn=_toPropertyKey$v(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$v(tr){var Hn=_toPrimitive$v(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$v(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function defaultFormatter(tr){return Array.isArray(tr)&&isNumOrStr(tr[0])&&isNumOrStr(tr[1])?tr.join(" ~ "):tr}var DefaultTooltipContent=tr=>{var{separator:Hn=" : ",contentStyle:er={},itemStyle:nr={},labelStyle:ir={},payload:rr,formatter:sr,itemSorter:ar,wrapperClassName:or,labelClassName:lr,label:cr,labelFormatter:ur,accessibilityLayer:dr=!1}=tr,fr=()=>{if(rr&&rr.length){var Mr={padding:0,margin:0},Or=(ar?sortBy(rr,ar):rr).map((Lr,Fr)=>{if(Lr.type==="none")return null;var Vr=Lr.formatter||sr||defaultFormatter,{value:Zr,name:Hr}=Lr,Yr=Zr,eo=Hr;if(Vr){var io=Vr(Zr,Hr,Lr,Fr,rr);if(Array.isArray(io))[Yr,eo]=io;else if(io!=null)Yr=io;else return null}var uo=_objectSpread$u({display:"block",paddingTop:4,paddingBottom:4,color:Lr.color||"#000"},nr);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Fr),style:uo},isNumOrStr(eo)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},eo):null,isNumOrStr(eo)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},Hn):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Yr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},Lr.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:Mr},Or)}return null},xr=_objectSpread$u({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},er),yr=_objectSpread$u({margin:0},ir),_r=!isNullish(cr),Sr=_r?cr:"",jr=clsx("recharts-default-tooltip",or),Dr=clsx("recharts-tooltip-label",lr);_r&&ur&&rr!==void 0&&rr!==null&&(Sr=ur(cr,rr));var Ir=dr?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$k({className:jr,style:xr},Ir),reactExports.createElement("p",{className:Dr,style:yr},reactExports.isValidElement(Sr)?Sr:"".concat(Sr)),fr())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(tr){var{coordinate:Hn,translateX:er,translateY:nr}=tr;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(er)&&Hn&&isNumber(Hn.x)&&er>=Hn.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(er)&&Hn&&isNumber(Hn.x)&&er<Hn.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(nr)&&Hn&&isNumber(Hn.y)&&nr>=Hn.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(nr)&&Hn&&isNumber(Hn.y)&&nr<Hn.y})}function getTooltipTranslateXY(tr){var{allowEscapeViewBox:Hn,coordinate:er,key:nr,offsetTopLeft:ir,position:rr,reverseDirection:sr,tooltipDimension:ar,viewBox:or,viewBoxDimension:lr}=tr;if(rr&&isNumber(rr[nr]))return rr[nr];var cr=er[nr]-ar-(ir>0?ir:0),ur=er[nr]+ir;if(Hn[nr])return sr[nr]?cr:ur;var dr=or[nr];if(dr==null)return 0;if(sr[nr]){var fr=cr,xr=dr;return fr<xr?Math.max(ur,dr):Math.max(cr,dr)}if(lr==null)return 0;var yr=ur+ar,_r=dr+lr;return yr>_r?Math.max(cr,dr):Math.max(ur,dr)}function getTransformStyle(tr){var{translateX:Hn,translateY:er,useTranslate3d:nr}=tr;return{transform:nr?"translate3d(".concat(Hn,"px, ").concat(er,"px, 0)"):"translate(".concat(Hn,"px, ").concat(er,"px)")}}function getTooltipTranslate(tr){var{allowEscapeViewBox:Hn,coordinate:er,offsetTopLeft:nr,position:ir,reverseDirection:rr,tooltipBox:sr,useTranslate3d:ar,viewBox:or}=tr,lr,cr,ur;return sr.height>0&&sr.width>0&&er?(cr=getTooltipTranslateXY({allowEscapeViewBox:Hn,coordinate:er,key:"x",offsetTopLeft:nr,position:ir,reverseDirection:rr,tooltipDimension:sr.width,viewBox:or,viewBoxDimension:or.width}),ur=getTooltipTranslateXY({allowEscapeViewBox:Hn,coordinate:er,key:"y",offsetTopLeft:nr,position:ir,reverseDirection:rr,tooltipDimension:sr.height,viewBox:or,viewBoxDimension:or.height}),lr=getTransformStyle({translateX:cr,translateY:ur,useTranslate3d:ar})):lr=TOOLTIP_HIDDEN,{cssProperties:lr,cssClasses:getTooltipCSSClassName({translateX:cr,translateY:ur,coordinate:er})}}function ownKeys$t(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$t(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$t(Object(er),!0).forEach(function(nr){_defineProperty$u(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$t(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$u(tr,Hn,er){return(Hn=_toPropertyKey$u(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$u(tr){var Hn=_toPrimitive$u(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$u(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$u(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$u(this,"handleKeyDown",Hn=>{if(Hn.key==="Escape"){var er,nr,ir,rr;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(er=(nr=this.props.coordinate)===null||nr===void 0?void 0:nr.x)!==null&&er!==void 0?er:0,y:(ir=(rr=this.props.coordinate)===null||rr===void 0?void 0:rr.y)!==null&&ir!==void 0?ir:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var Hn,er;this.state.dismissed&&(((Hn=this.props.coordinate)===null||Hn===void 0?void 0:Hn.x)!==this.state.dismissedAtCoordinate.x||((er=this.props.coordinate)===null||er===void 0?void 0:er.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:Hn,allowEscapeViewBox:er,animationDuration:nr,animationEasing:ir,children:rr,coordinate:sr,hasPayload:ar,isAnimationActive:or,offset:lr,position:cr,reverseDirection:ur,useTranslate3d:dr,viewBox:fr,wrapperStyle:xr,lastBoundingBox:yr,innerRef:_r,hasPortalFromProps:Sr}=this.props,{cssClasses:jr,cssProperties:Dr}=getTooltipTranslate({allowEscapeViewBox:er,coordinate:sr,offsetTopLeft:lr,position:cr,reverseDirection:ur,tooltipBox:{height:yr.height,width:yr.width},useTranslate3d:dr,viewBox:fr}),Ir=Sr?{}:_objectSpread$t(_objectSpread$t({transition:or&&Hn?"transform ".concat(nr,"ms ").concat(ir):void 0},Dr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&Hn&&ar?"visible":"hidden",position:"absolute",top:0,left:0}),Mr=_objectSpread$t(_objectSpread$t({},Ir),{},{visibility:!this.state.dismissed&&Hn&&ar?"visible":"hidden"},xr);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:jr,style:Mr,ref:_r},rr)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>{var tr;return(tr=useAppSelector(Hn=>Hn.rootProps.accessibilityLayer))!==null&&tr!==void 0?tr:!0};function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$j.apply(null,arguments)}function ownKeys$s(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$s(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$s(Object(er),!0).forEach(function(nr){_defineProperty$t(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$s(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$t(tr,Hn,er){return(Hn=_toPropertyKey$t(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$t(tr){var Hn=_toPrimitive$t(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$t(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=tr=>isWellBehavedNumber(tr.x)&&isWellBehavedNumber(tr.y),areaDefined=tr=>tr.base!=null&&defined(tr.base)&&defined(tr),getX=tr=>tr.x,getY=tr=>tr.y,getCurveFactory=(tr,Hn)=>{if(typeof tr=="function")return tr;var er="curve".concat(upperFirst(tr));return(er==="curveMonotone"||er==="curveBump")&&Hn?CURVE_FACTORIES["".concat(er).concat(Hn==="vertical"?"Y":"X")]:CURVE_FACTORIES[er]||curveLinear},getPath$1=tr=>{var{type:Hn="linear",points:er=[],baseLine:nr,layout:ir,connectNulls:rr=!1}=tr,sr=getCurveFactory(Hn,ir),ar=rr?er.filter(defined):er,or;if(Array.isArray(nr)){var lr=er.map((fr,xr)=>_objectSpread$s(_objectSpread$s({},fr),{},{base:nr[xr]}));ir==="vertical"?or=shapeArea().y(getY).x1(getX).x0(fr=>fr.base.x):or=shapeArea().x(getX).y1(getY).y0(fr=>fr.base.y);var cr=or.defined(areaDefined).curve(sr),ur=rr?lr.filter(areaDefined):lr;return cr(ur)}ir==="vertical"&&isNumber(nr)?or=shapeArea().y(getY).x1(getX).x0(nr):isNumber(nr)?or=shapeArea().x(getX).y1(getY).y0(nr):or=shapeLine().x(getX).y(getY);var dr=or.defined(defined).curve(sr);return dr(ar)},Curve=tr=>{var{className:Hn,points:er,path:nr,pathRef:ir}=tr;if((!er||!er.length)&&!nr)return null;var rr=er&&er.length?getPath$1(tr):nr;return reactExports.createElement("path",_extends$j({},svgPropertiesNoEvents(tr),adaptEventHandlers(tr),{className:clsx("recharts-curve",Hn),d:rr===null?void 0:rr,ref:ir}))},_excluded$h=["x","y","top","left","width","height","className"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$i.apply(null,arguments)}function ownKeys$r(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$r(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$r(Object(er),!0).forEach(function(nr){_defineProperty$s(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$r(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$s(tr,Hn,er){return(Hn=_toPropertyKey$s(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$s(tr){var Hn=_toPrimitive$s(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$s(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$g(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$h(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$h(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var getPath=(tr,Hn,er,nr,ir,rr)=>"M".concat(tr,",").concat(ir,"v").concat(nr,"M").concat(rr,",").concat(Hn,"h").concat(er),Cross=tr=>{var{x:Hn=0,y:er=0,top:nr=0,left:ir=0,width:rr=0,height:sr=0,className:ar}=tr,or=_objectWithoutProperties$g(tr,_excluded$h),lr=_objectSpread$r({x:Hn,y:er,top:nr,left:ir,width:rr,height:sr},or);return!isNumber(Hn)||!isNumber(er)||!isNumber(rr)||!isNumber(sr)||!isNumber(nr)||!isNumber(ir)?null:reactExports.createElement("path",_extends$i({},svgPropertiesAndEvents(lr),{className:clsx("recharts-cross",ar),d:getPath(Hn,er,rr,sr,nr,ir)}))};function getCursorRectangle(tr,Hn,er,nr){var ir=nr/2;return{stroke:"none",fill:"#ccc",x:tr==="horizontal"?Hn.x-ir:er.left+.5,y:tr==="horizontal"?er.top+.5:Hn.y-ir,width:tr==="horizontal"?nr:er.width-1,height:tr==="horizontal"?er.height-1:nr}}function ownKeys$q(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$q(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$q(Object(er),!0).forEach(function(nr){_defineProperty$r(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$q(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$r(tr,Hn,er){return(Hn=_toPropertyKey$r(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$r(tr){var Hn=_toPrimitive$r(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$r(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var getDashCase=tr=>tr.replace(/([A-Z])/g,Hn=>"-".concat(Hn.toLowerCase())),getTransitionVal=(tr,Hn,er)=>tr.map(nr=>"".concat(getDashCase(nr)," ").concat(Hn,"ms ").concat(er)).join(","),getIntersectionKeys=(tr,Hn)=>[Object.keys(tr),Object.keys(Hn)].reduce((er,nr)=>er.filter(ir=>nr.includes(ir))),mapObject=(tr,Hn)=>Object.keys(Hn).reduce((er,nr)=>_objectSpread$q(_objectSpread$q({},er),{},{[nr]:tr(nr,Hn[nr])}),{});function ownKeys$p(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$p(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$p(Object(er),!0).forEach(function(nr){_defineProperty$q(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$p(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$q(tr,Hn,er){return(Hn=_toPropertyKey$q(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$q(tr){var Hn=_toPrimitive$q(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$q(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var alpha=(tr,Hn,er)=>tr+(Hn-tr)*er,needContinue=tr=>{var{from:Hn,to:er}=tr;return Hn!==er},calStepperVals=(tr,Hn,er)=>{var nr=mapObject((ir,rr)=>{if(needContinue(rr)){var[sr,ar]=tr(rr.from,rr.to,rr.velocity);return _objectSpread$p(_objectSpread$p({},rr),{},{from:sr,velocity:ar})}return rr},Hn);return er<1?mapObject((ir,rr)=>needContinue(rr)?_objectSpread$p(_objectSpread$p({},rr),{},{velocity:alpha(rr.velocity,nr[ir].velocity,er),from:alpha(rr.from,nr[ir].from,er)}):rr,Hn):calStepperVals(tr,nr,er-1)};function createStepperUpdate(tr,Hn,er,nr,ir,rr){var sr,ar=nr.reduce((dr,fr)=>_objectSpread$p(_objectSpread$p({},dr),{},{[fr]:{from:tr[fr],velocity:0,to:Hn[fr]}}),{}),or=()=>mapObject((dr,fr)=>fr.from,ar),lr=()=>!Object.values(ar).filter(needContinue).length,cr=null,ur=dr=>{sr||(sr=dr);var fr=dr-sr,xr=fr/er.dt;ar=calStepperVals(er,ar,xr),ir(_objectSpread$p(_objectSpread$p(_objectSpread$p({},tr),Hn),or())),sr=dr,lr()||(cr=rr.setTimeout(ur))};return()=>(cr=rr.setTimeout(ur),()=>{var dr;(dr=cr)===null||dr===void 0||dr()})}function createTimingUpdate(tr,Hn,er,nr,ir,rr,sr){var ar=null,or=ir.reduce((ur,dr)=>_objectSpread$p(_objectSpread$p({},ur),{},{[dr]:[tr[dr],Hn[dr]]}),{}),lr,cr=ur=>{lr||(lr=ur);var dr=(ur-lr)/nr,fr=mapObject((yr,_r)=>alpha(..._r,er(dr)),or);if(rr(_objectSpread$p(_objectSpread$p(_objectSpread$p({},tr),Hn),fr)),dr<1)ar=sr.setTimeout(cr);else{var xr=mapObject((yr,_r)=>alpha(..._r,er(1)),or);rr(_objectSpread$p(_objectSpread$p(_objectSpread$p({},tr),Hn),xr))}};return()=>(ar=sr.setTimeout(cr),()=>{var ur;(ur=ar)===null||ur===void 0||ur()})}const configUpdate=(tr,Hn,er,nr,ir,rr)=>{var sr=getIntersectionKeys(tr,Hn);return er==null?()=>(ir(_objectSpread$p(_objectSpread$p({},tr),Hn)),()=>{}):er.isStepper===!0?createStepperUpdate(tr,Hn,er,sr,ir,rr):createTimingUpdate(tr,Hn,er,nr,sr,ir,rr)};var ACCURACY=1e-4,cubicBezierFactor=(tr,Hn)=>[0,3*tr,3*Hn-6*tr,3*tr-3*Hn+1],evaluatePolynomial=(tr,Hn)=>tr.map((er,nr)=>er*Hn**nr).reduce((er,nr)=>er+nr),cubicBezier=(tr,Hn)=>er=>{var nr=cubicBezierFactor(tr,Hn);return evaluatePolynomial(nr,er)},derivativeCubicBezier=(tr,Hn)=>er=>{var nr=cubicBezierFactor(tr,Hn),ir=[...nr.map((rr,sr)=>rr*sr).slice(1),0];return evaluatePolynomial(ir,er)},getBezierCoordinates=function tr(){for(var Hn=arguments.length,er=new Array(Hn),nr=0;nr<Hn;nr++)er[nr]=arguments[nr];if(er.length===1)switch(er[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var ir,rr=er[0].split("(");if(rr[0]==="cubic-bezier"&&((ir=rr[1])===null||ir===void 0?void 0:ir.split(")")[0].split(",").length)===4){var sr=rr[1].split(")")[0].split(",").map(ar=>parseFloat(ar));return[sr[0],sr[1],sr[2],sr[3]]}}}return er.length===4?er:[0,0,1,1]},createBezierEasing=(tr,Hn,er,nr)=>{var ir=cubicBezier(tr,er),rr=cubicBezier(Hn,nr),sr=derivativeCubicBezier(tr,er),ar=lr=>lr>1?1:lr<0?0:lr,or=lr=>{for(var cr=lr>1?1:lr,ur=cr,dr=0;dr<8;++dr){var fr=ir(ur)-cr,xr=sr(ur);if(Math.abs(fr-cr)<ACCURACY||xr<ACCURACY)return rr(ur);ur=ar(ur-fr/xr)}return rr(ur)};return or.isStepper=!1,or},configBezier=function tr(){return createBezierEasing(...getBezierCoordinates(...arguments))},configSpring=function tr(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:er=100,damping:nr=8,dt:ir=17}=Hn,rr=(sr,ar,or)=>{var lr=-(sr-ar)*er,cr=or*nr,ur=or+(lr-cr)*ir/1e3,dr=or*ir/1e3+sr;return Math.abs(dr-ar)<ACCURACY&&Math.abs(ur)<ACCURACY?[ar,0]:[dr,ur]};return rr.isStepper=!0,rr.dt=ir,rr},configEasing=tr=>{if(typeof tr=="string")switch(tr){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(tr);case"spring":return configSpring();default:if(tr.split("(")[0]==="cubic-bezier")return configBezier(tr)}return typeof tr=="function"?tr:null};function createAnimateManager(tr){var Hn,er=()=>null,nr=!1,ir=null,rr=sr=>{if(!nr){if(Array.isArray(sr)){if(!sr.length)return;var ar=sr,[or,...lr]=ar;if(typeof or=="number"){ir=tr.setTimeout(rr.bind(null,lr),or);return}rr(or),ir=tr.setTimeout(rr.bind(null,lr));return}typeof sr=="string"&&(Hn=sr,er(Hn)),typeof sr=="object"&&(Hn=sr,er(Hn)),typeof sr=="function"&&sr()}};return{stop:()=>{nr=!0},start:sr=>{nr=!1,ir&&(ir(),ir=null),rr(sr)},subscribe:sr=>(er=sr,()=>{er=()=>null}),getTimeoutController:()=>tr}}class RequestAnimationFrameTimeoutController{setTimeout(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nr=performance.now(),ir=null,rr=sr=>{sr-nr>=er?Hn(sr):typeof requestAnimationFrame=="function"&&(ir=requestAnimationFrame(rr))};return ir=requestAnimationFrame(rr),()=>{ir!=null&&cancelAnimationFrame(ir)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(tr,Hn){var er=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>Hn??er(tr),[tr,Hn,er])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(tr){var Hn=resolveDefaultProps(tr,defaultJavascriptAnimateProps),{isActive:er,canBegin:nr,duration:ir,easing:rr,begin:sr,onAnimationEnd:ar,onAnimationStart:or,children:lr}=Hn,cr=er==="auto"?!Global.isSsr:er,ur=useAnimationManager(Hn.animationId,Hn.animationManager),[dr,fr]=reactExports.useState(cr?from:to),xr=reactExports.useRef(null);return reactExports.useEffect(()=>{cr||fr(to)},[cr]),reactExports.useEffect(()=>{if(!cr||!nr)return noop$2;var yr=configUpdate(from,to,configEasing(rr),ir,fr,ur.getTimeoutController()),_r=()=>{xr.current=yr()};return ur.start([or,sr,_r,ir,ar]),()=>{ur.stop(),xr.current&&xr.current(),ar()}},[cr,nr,ir,rr,sr,or,ar,ur]),lr(dr.t)}function useAnimationId(tr){var Hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",er=reactExports.useRef(uniqueId(Hn)),nr=reactExports.useRef(tr);return nr.current!==tr&&(er.current=uniqueId(Hn),nr.current=tr),er.current}var _excluded$g=["radius"],_excluded2$7=["radius"];function ownKeys$o(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$o(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$o(Object(er),!0).forEach(function(nr){_defineProperty$p(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$o(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$p(tr,Hn,er){return(Hn=_toPropertyKey$p(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$p(tr){var Hn=_toPrimitive$p(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$p(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$h.apply(null,arguments)}function _objectWithoutProperties$f(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$g(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$g(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var getRectanglePath=(tr,Hn,er,nr,ir)=>{var rr=Math.min(Math.abs(er)/2,Math.abs(nr)/2),sr=nr>=0?1:-1,ar=er>=0?1:-1,or=nr>=0&&er>=0||nr<0&&er<0?1:0,lr;if(rr>0&&ir instanceof Array){for(var cr=[0,0,0,0],ur=0,dr=4;ur<dr;ur++)cr[ur]=ir[ur]>rr?rr:ir[ur];lr="M".concat(tr,",").concat(Hn+sr*cr[0]),cr[0]>0&&(lr+="A ".concat(cr[0],",").concat(cr[0],",0,0,").concat(or,",").concat(tr+ar*cr[0],",").concat(Hn)),lr+="L ".concat(tr+er-ar*cr[1],",").concat(Hn),cr[1]>0&&(lr+="A ".concat(cr[1],",").concat(cr[1],",0,0,").concat(or,`,
        `).concat(tr+er,",").concat(Hn+sr*cr[1])),lr+="L ".concat(tr+er,",").concat(Hn+nr-sr*cr[2]),cr[2]>0&&(lr+="A ".concat(cr[2],",").concat(cr[2],",0,0,").concat(or,`,
        `).concat(tr+er-ar*cr[2],",").concat(Hn+nr)),lr+="L ".concat(tr+ar*cr[3],",").concat(Hn+nr),cr[3]>0&&(lr+="A ".concat(cr[3],",").concat(cr[3],",0,0,").concat(or,`,
        `).concat(tr,",").concat(Hn+nr-sr*cr[3])),lr+="Z"}else if(rr>0&&ir===+ir&&ir>0){var fr=Math.min(rr,ir);lr="M ".concat(tr,",").concat(Hn+sr*fr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr+ar*fr,",").concat(Hn,`
            L `).concat(tr+er-ar*fr,",").concat(Hn,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr+er,",").concat(Hn+sr*fr,`
            L `).concat(tr+er,",").concat(Hn+nr-sr*fr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr+er-ar*fr,",").concat(Hn+nr,`
            L `).concat(tr+ar*fr,",").concat(Hn+nr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr,",").concat(Hn+nr-sr*fr," Z")}else lr="M ".concat(tr,",").concat(Hn," h ").concat(er," v ").concat(nr," h ").concat(-er," Z");return lr},defaultProps$3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=tr=>{var Hn=resolveDefaultProps(tr,defaultProps$3),er=reactExports.useRef(null),[nr,ir]=reactExports.useState(-1);reactExports.useEffect(()=>{if(er.current&&er.current.getTotalLength)try{var no=er.current.getTotalLength();no&&ir(no)}catch{}},[]);var{x:rr,y:sr,width:ar,height:or,radius:lr,className:cr}=Hn,{animationEasing:ur,animationDuration:dr,animationBegin:fr,isAnimationActive:xr,isUpdateAnimationActive:yr}=Hn,_r=reactExports.useRef(ar),Sr=reactExports.useRef(or),jr=reactExports.useRef(rr),Dr=reactExports.useRef(sr),Ir=reactExports.useMemo(()=>({x:rr,y:sr,width:ar,height:or,radius:lr}),[rr,sr,ar,or,lr]),Mr=useAnimationId(Ir,"rectangle-");if(rr!==+rr||sr!==+sr||ar!==+ar||or!==+or||ar===0||or===0)return null;var Or=clsx("recharts-rectangle",cr);if(!yr){var Lr=svgPropertiesAndEvents(Hn),{radius:Fr}=Lr,Vr=_objectWithoutProperties$f(Lr,_excluded$g);return reactExports.createElement("path",_extends$h({},Vr,{radius:typeof lr=="number"?lr:void 0,className:Or,d:getRectanglePath(rr,sr,ar,or,lr)}))}var Zr=_r.current,Hr=Sr.current,Yr=jr.current,eo=Dr.current,io="0px ".concat(nr===-1?1:nr,"px"),uo="".concat(nr,"px 0px"),so=getTransitionVal(["strokeDasharray"],dr,typeof ur=="string"?ur:defaultProps$3.animationEasing);return reactExports.createElement(JavascriptAnimate,{animationId:Mr,key:Mr,canBegin:nr>0,duration:dr,easing:ur,isActive:yr,begin:fr},no=>{var po=interpolate$1(Zr,ar,no),co=interpolate$1(Hr,or,no),lo=interpolate$1(Yr,rr,no),ao=interpolate$1(eo,sr,no);er.current&&(_r.current=po,Sr.current=co,jr.current=lo,Dr.current=ao);var xo;xr?no>0?xo={transition:so,strokeDasharray:uo}:xo={strokeDasharray:io}:xo={strokeDasharray:uo};var _o=svgPropertiesAndEvents(Hn),{radius:Po}=_o,Oo=_objectWithoutProperties$f(_o,_excluded2$7);return reactExports.createElement("path",_extends$h({},Oo,{radius:typeof lr=="number"?lr:void 0,className:Or,d:getRectanglePath(lo,ao,po,co,lr),ref:er,style:_objectSpread$o(_objectSpread$o({},xo),Hn.style)}))})};function ownKeys$n(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$n(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$n(Object(er),!0).forEach(function(nr){_defineProperty$o(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$n(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$o(tr,Hn,er){return(Hn=_toPropertyKey$o(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$o(tr){var Hn=_toPrimitive$o(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$o(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var RADIAN=Math.PI/180,radianToDegree=tr=>tr*180/Math.PI,polarToCartesian=(tr,Hn,er,nr)=>({x:tr+Math.cos(-RADIAN*nr)*er,y:Hn+Math.sin(-RADIAN*nr)*er}),getMaxRadius=function tr(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(Hn-(nr.left||0)-(nr.right||0)),Math.abs(er-(nr.top||0)-(nr.bottom||0)))/2},distanceBetweenPoints=(tr,Hn)=>{var{x:er,y:nr}=tr,{x:ir,y:rr}=Hn;return Math.sqrt((er-ir)**2+(nr-rr)**2)},getAngleOfPoint=(tr,Hn)=>{var{x:er,y:nr}=tr,{cx:ir,cy:rr}=Hn,sr=distanceBetweenPoints({x:er,y:nr},{x:ir,y:rr});if(sr<=0)return{radius:sr,angle:0};var ar=(er-ir)/sr,or=Math.acos(ar);return nr>rr&&(or=2*Math.PI-or),{radius:sr,angle:radianToDegree(or),angleInRadian:or}},formatAngleOfSector=tr=>{var{startAngle:Hn,endAngle:er}=tr,nr=Math.floor(Hn/360),ir=Math.floor(er/360),rr=Math.min(nr,ir);return{startAngle:Hn-rr*360,endAngle:er-rr*360}},reverseFormatAngleOfSector=(tr,Hn)=>{var{startAngle:er,endAngle:nr}=Hn,ir=Math.floor(er/360),rr=Math.floor(nr/360),sr=Math.min(ir,rr);return tr+sr*360},inRangeOfSector=(tr,Hn)=>{var{chartX:er,chartY:nr}=tr,{radius:ir,angle:rr}=getAngleOfPoint({x:er,y:nr},Hn),{innerRadius:sr,outerRadius:ar}=Hn;if(ir<sr||ir>ar||ir===0)return null;var{startAngle:or,endAngle:lr}=formatAngleOfSector(Hn),cr=rr,ur;if(or<=lr){for(;cr>lr;)cr-=360;for(;cr<or;)cr+=360;ur=cr>=or&&cr<=lr}else{for(;cr>or;)cr-=360;for(;cr<lr;)cr+=360;ur=cr>=lr&&cr<=or}return ur?_objectSpread$n(_objectSpread$n({},Hn),{},{radius:ir,angle:reverseFormatAngleOfSector(cr,Hn)}):null};function getRadialCursorPoints(tr){var{cx:Hn,cy:er,radius:nr,startAngle:ir,endAngle:rr}=tr,sr=polarToCartesian(Hn,er,nr,ir),ar=polarToCartesian(Hn,er,nr,rr);return{points:[sr,ar],cx:Hn,cy:er,radius:nr,startAngle:ir,endAngle:rr}}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$g.apply(null,arguments)}var getDeltaAngle$1=(tr,Hn)=>{var er=mathSign(Hn-tr),nr=Math.min(Math.abs(Hn-tr),359.999);return er*nr},getTangentCircle=tr=>{var{cx:Hn,cy:er,radius:nr,angle:ir,sign:rr,isExternal:sr,cornerRadius:ar,cornerIsExternal:or}=tr,lr=ar*(sr?1:-1)+nr,cr=Math.asin(ar/lr)/RADIAN,ur=or?ir:ir+rr*cr,dr=polarToCartesian(Hn,er,lr,ur),fr=polarToCartesian(Hn,er,nr,ur),xr=or?ir-rr*cr:ir,yr=polarToCartesian(Hn,er,lr*Math.cos(cr*RADIAN),xr);return{center:dr,circleTangency:fr,lineTangency:yr,theta:cr}},getSectorPath=tr=>{var{cx:Hn,cy:er,innerRadius:nr,outerRadius:ir,startAngle:rr,endAngle:sr}=tr,ar=getDeltaAngle$1(rr,sr),or=rr+ar,lr=polarToCartesian(Hn,er,ir,rr),cr=polarToCartesian(Hn,er,ir,or),ur="M ".concat(lr.x,",").concat(lr.y,`
    A `).concat(ir,",").concat(ir,`,0,
    `).concat(+(Math.abs(ar)>180),",").concat(+(rr>or),`,
    `).concat(cr.x,",").concat(cr.y,`
  `);if(nr>0){var dr=polarToCartesian(Hn,er,nr,rr),fr=polarToCartesian(Hn,er,nr,or);ur+="L ".concat(fr.x,",").concat(fr.y,`
            A `).concat(nr,",").concat(nr,`,0,
            `).concat(+(Math.abs(ar)>180),",").concat(+(rr<=or),`,
            `).concat(dr.x,",").concat(dr.y," Z")}else ur+="L ".concat(Hn,",").concat(er," Z");return ur},getSectorWithCorner=tr=>{var{cx:Hn,cy:er,innerRadius:nr,outerRadius:ir,cornerRadius:rr,forceCornerRadius:sr,cornerIsExternal:ar,startAngle:or,endAngle:lr}=tr,cr=mathSign(lr-or),{circleTangency:ur,lineTangency:dr,theta:fr}=getTangentCircle({cx:Hn,cy:er,radius:ir,angle:or,sign:cr,cornerRadius:rr,cornerIsExternal:ar}),{circleTangency:xr,lineTangency:yr,theta:_r}=getTangentCircle({cx:Hn,cy:er,radius:ir,angle:lr,sign:-cr,cornerRadius:rr,cornerIsExternal:ar}),Sr=ar?Math.abs(or-lr):Math.abs(or-lr)-fr-_r;if(Sr<0)return sr?"M ".concat(dr.x,",").concat(dr.y,`
        a`).concat(rr,",").concat(rr,",0,0,1,").concat(rr*2,`,0
        a`).concat(rr,",").concat(rr,",0,0,1,").concat(-rr*2,`,0
      `):getSectorPath({cx:Hn,cy:er,innerRadius:nr,outerRadius:ir,startAngle:or,endAngle:lr});var jr="M ".concat(dr.x,",").concat(dr.y,`
    A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(ur.x,",").concat(ur.y,`
    A`).concat(ir,",").concat(ir,",0,").concat(+(Sr>180),",").concat(+(cr<0),",").concat(xr.x,",").concat(xr.y,`
    A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(yr.x,",").concat(yr.y,`
  `);if(nr>0){var{circleTangency:Dr,lineTangency:Ir,theta:Mr}=getTangentCircle({cx:Hn,cy:er,radius:nr,angle:or,sign:cr,isExternal:!0,cornerRadius:rr,cornerIsExternal:ar}),{circleTangency:Or,lineTangency:Lr,theta:Fr}=getTangentCircle({cx:Hn,cy:er,radius:nr,angle:lr,sign:-cr,isExternal:!0,cornerRadius:rr,cornerIsExternal:ar}),Vr=ar?Math.abs(or-lr):Math.abs(or-lr)-Mr-Fr;if(Vr<0&&rr===0)return"".concat(jr,"L").concat(Hn,",").concat(er,"Z");jr+="L".concat(Lr.x,",").concat(Lr.y,`
      A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(Or.x,",").concat(Or.y,`
      A`).concat(nr,",").concat(nr,",0,").concat(+(Vr>180),",").concat(+(cr>0),",").concat(Dr.x,",").concat(Dr.y,`
      A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(Ir.x,",").concat(Ir.y,"Z")}else jr+="L".concat(Hn,",").concat(er,"Z");return jr},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=tr=>{var Hn=resolveDefaultProps(tr,defaultProps$2),{cx:er,cy:nr,innerRadius:ir,outerRadius:rr,cornerRadius:sr,forceCornerRadius:ar,cornerIsExternal:or,startAngle:lr,endAngle:cr,className:ur}=Hn;if(rr<ir||lr===cr)return null;var dr=clsx("recharts-sector",ur),fr=rr-ir,xr=getPercentValue(sr,fr,0,!0),yr;return xr>0&&Math.abs(lr-cr)<360?yr=getSectorWithCorner({cx:er,cy:nr,innerRadius:ir,outerRadius:rr,cornerRadius:Math.min(xr,fr/2),forceCornerRadius:ar,cornerIsExternal:or,startAngle:lr,endAngle:cr}):yr=getSectorPath({cx:er,cy:nr,innerRadius:ir,outerRadius:rr,startAngle:lr,endAngle:cr}),reactExports.createElement("path",_extends$g({},svgPropertiesAndEvents(Hn),{className:dr,d:yr}))};function getCursorPoints(tr,Hn,er){if(tr==="horizontal")return[{x:Hn.x,y:er.top},{x:Hn.x,y:er.top+er.height}];if(tr==="vertical")return[{x:er.left,y:Hn.y},{x:er.left+er.width,y:Hn.y}];if(isPolarCoordinate(Hn)){if(tr==="centric"){var{cx:nr,cy:ir,innerRadius:rr,outerRadius:sr,angle:ar}=Hn,or=polarToCartesian(nr,ir,rr,ar),lr=polarToCartesian(nr,ir,sr,ar);return[{x:or.x,y:or.y},{x:lr.x,y:lr.y}]}return getRadialCursorPoints(Hn)}}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsSymbol();function er(nr){return Hn.isSymbol(nr)?NaN:Number(nr)}tr.toNumber=er})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireToNumber();function er(nr){return nr?(nr=Hn.toNumber(nr),nr===1/0||nr===-1/0?(nr<0?-1:1)*Number.MAX_VALUE:nr===nr?nr:0):nr===0?nr:0}tr.toFinite=er})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsIterateeCall(),er=requireToFinite();function nr(ir,rr,sr){sr&&typeof sr!="number"&&Hn.isIterateeCall(ir,rr,sr)&&(rr=sr=void 0),ir=er.toFinite(ir),rr===void 0?(rr=ir,ir=0):rr=er.toFinite(rr),sr=sr===void 0?ir<rr?1:-1:er.toFinite(sr);const ar=Math.max(Math.ceil((rr-ir)/(sr||1)),0),or=new Array(ar);for(let lr=0;lr<ar;lr++)or[lr]=ir,ir+=sr;return or}tr.range=nr})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(tr,Hn){return tr==null||Hn==null?NaN:tr<Hn?-1:tr>Hn?1:tr>=Hn?0:NaN}function descending(tr,Hn){return tr==null||Hn==null?NaN:Hn<tr?-1:Hn>tr?1:Hn>=tr?0:NaN}function bisector(tr){let Hn,er,nr;tr.length!==2?(Hn=ascending,er=(ar,or)=>ascending(tr(ar),or),nr=(ar,or)=>tr(ar)-or):(Hn=tr===ascending||tr===descending?tr:zero$1,er=tr,nr=tr);function ir(ar,or,lr=0,cr=ar.length){if(lr<cr){if(Hn(or,or)!==0)return cr;do{const ur=lr+cr>>>1;er(ar[ur],or)<0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function rr(ar,or,lr=0,cr=ar.length){if(lr<cr){if(Hn(or,or)!==0)return cr;do{const ur=lr+cr>>>1;er(ar[ur],or)<=0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function sr(ar,or,lr=0,cr=ar.length){const ur=ir(ar,or,lr,cr-1);return ur>lr&&nr(ar[ur-1],or)>-nr(ar[ur],or)?ur-1:ur}return{left:ir,center:sr,right:rr}}function zero$1(){return 0}function number$2(tr){return tr===null?NaN:+tr}function*numbers(tr,Hn){for(let er of tr)er!=null&&(er=+er)>=er&&(yield er)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(Hn,er=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:er}}),Hn!=null)for(const[nr,ir]of Hn)this.set(nr,ir)}get(Hn){return super.get(intern_get(this,Hn))}has(Hn){return super.has(intern_get(this,Hn))}set(Hn,er){return super.set(intern_set(this,Hn),er)}delete(Hn){return super.delete(intern_delete(this,Hn))}}function intern_get({_intern:tr,_key:Hn},er){const nr=Hn(er);return tr.has(nr)?tr.get(nr):er}function intern_set({_intern:tr,_key:Hn},er){const nr=Hn(er);return tr.has(nr)?tr.get(nr):(tr.set(nr,er),er)}function intern_delete({_intern:tr,_key:Hn},er){const nr=Hn(er);return tr.has(nr)&&(er=tr.get(nr),tr.delete(nr)),er}function keyof(tr){return tr!==null&&typeof tr=="object"?tr.valueOf():tr}function compareDefined(tr=ascending){if(tr===ascending)return ascendingDefined;if(typeof tr!="function")throw new TypeError("compare is not a function");return(Hn,er)=>{const nr=tr(Hn,er);return nr||nr===0?nr:(tr(er,er)===0)-(tr(Hn,Hn)===0)}}function ascendingDefined(tr,Hn){return(tr==null||!(tr>=tr))-(Hn==null||!(Hn>=Hn))||(tr<Hn?-1:tr>Hn?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(tr,Hn,er){const nr=(Hn-tr)/Math.max(0,er),ir=Math.floor(Math.log10(nr)),rr=nr/Math.pow(10,ir),sr=rr>=e10?10:rr>=e5?5:rr>=e2?2:1;let ar,or,lr;return ir<0?(lr=Math.pow(10,-ir)/sr,ar=Math.round(tr*lr),or=Math.round(Hn*lr),ar/lr<tr&&++ar,or/lr>Hn&&--or,lr=-lr):(lr=Math.pow(10,ir)*sr,ar=Math.round(tr/lr),or=Math.round(Hn/lr),ar*lr<tr&&++ar,or*lr>Hn&&--or),or<ar&&.5<=er&&er<2?tickSpec(tr,Hn,er*2):[ar,or,lr]}function ticks(tr,Hn,er){if(Hn=+Hn,tr=+tr,er=+er,!(er>0))return[];if(tr===Hn)return[tr];const nr=Hn<tr,[ir,rr,sr]=nr?tickSpec(Hn,tr,er):tickSpec(tr,Hn,er);if(!(rr>=ir))return[];const ar=rr-ir+1,or=new Array(ar);if(nr)if(sr<0)for(let lr=0;lr<ar;++lr)or[lr]=(rr-lr)/-sr;else for(let lr=0;lr<ar;++lr)or[lr]=(rr-lr)*sr;else if(sr<0)for(let lr=0;lr<ar;++lr)or[lr]=(ir+lr)/-sr;else for(let lr=0;lr<ar;++lr)or[lr]=(ir+lr)*sr;return or}function tickIncrement(tr,Hn,er){return Hn=+Hn,tr=+tr,er=+er,tickSpec(tr,Hn,er)[2]}function tickStep(tr,Hn,er){Hn=+Hn,tr=+tr,er=+er;const nr=Hn<tr,ir=nr?tickIncrement(Hn,tr,er):tickIncrement(tr,Hn,er);return(nr?-1:1)*(ir<0?1/-ir:ir)}function max$1(tr,Hn){let er;for(const nr of tr)nr!=null&&(er<nr||er===void 0&&nr>=nr)&&(er=nr);return er}function min$1(tr,Hn){let er;for(const nr of tr)nr!=null&&(er>nr||er===void 0&&nr>=nr)&&(er=nr);return er}function quickselect(tr,Hn,er=0,nr=1/0,ir){if(Hn=Math.floor(Hn),er=Math.floor(Math.max(0,er)),nr=Math.floor(Math.min(tr.length-1,nr)),!(er<=Hn&&Hn<=nr))return tr;for(ir=ir===void 0?ascendingDefined:compareDefined(ir);nr>er;){if(nr-er>600){const or=nr-er+1,lr=Hn-er+1,cr=Math.log(or),ur=.5*Math.exp(2*cr/3),dr=.5*Math.sqrt(cr*ur*(or-ur)/or)*(lr-or/2<0?-1:1),fr=Math.max(er,Math.floor(Hn-lr*ur/or+dr)),xr=Math.min(nr,Math.floor(Hn+(or-lr)*ur/or+dr));quickselect(tr,Hn,fr,xr,ir)}const rr=tr[Hn];let sr=er,ar=nr;for(swap(tr,er,Hn),ir(tr[nr],rr)>0&&swap(tr,er,nr);sr<ar;){for(swap(tr,sr,ar),++sr,--ar;ir(tr[sr],rr)<0;)++sr;for(;ir(tr[ar],rr)>0;)--ar}ir(tr[er],rr)===0?swap(tr,er,ar):(++ar,swap(tr,ar,nr)),ar<=Hn&&(er=ar+1),Hn<=ar&&(nr=ar-1)}return tr}function swap(tr,Hn,er){const nr=tr[Hn];tr[Hn]=tr[er],tr[er]=nr}function quantile$1(tr,Hn,er){if(tr=Float64Array.from(numbers(tr)),!(!(nr=tr.length)||isNaN(Hn=+Hn))){if(Hn<=0||nr<2)return min$1(tr);if(Hn>=1)return max$1(tr);var nr,ir=(nr-1)*Hn,rr=Math.floor(ir),sr=max$1(quickselect(tr,rr).subarray(0,rr+1)),ar=min$1(tr.subarray(rr+1));return sr+(ar-sr)*(ir-rr)}}function quantileSorted(tr,Hn,er=number$2){if(!(!(nr=tr.length)||isNaN(Hn=+Hn))){if(Hn<=0||nr<2)return+er(tr[0],0,tr);if(Hn>=1)return+er(tr[nr-1],nr-1,tr);var nr,ir=(nr-1)*Hn,rr=Math.floor(ir),sr=+er(tr[rr],rr,tr),ar=+er(tr[rr+1],rr+1,tr);return sr+(ar-sr)*(ir-rr)}}function range$1(tr,Hn,er){tr=+tr,Hn=+Hn,er=(ir=arguments.length)<2?(Hn=tr,tr=0,1):ir<3?1:+er;for(var nr=-1,ir=Math.max(0,Math.ceil((Hn-tr)/er))|0,rr=new Array(ir);++nr<ir;)rr[nr]=tr+nr*er;return rr}function initRange(tr,Hn){switch(arguments.length){case 0:break;case 1:this.range(tr);break;default:this.range(Hn).domain(tr);break}return this}function initInterpolator(tr,Hn){switch(arguments.length){case 0:break;case 1:{typeof tr=="function"?this.interpolator(tr):this.range(tr);break}default:{this.domain(tr),typeof Hn=="function"?this.interpolator(Hn):this.range(Hn);break}}return this}const implicit=Symbol("implicit");function ordinal(){var tr=new InternMap,Hn=[],er=[],nr=implicit;function ir(rr){let sr=tr.get(rr);if(sr===void 0){if(nr!==implicit)return nr;tr.set(rr,sr=Hn.push(rr)-1)}return er[sr%er.length]}return ir.domain=function(rr){if(!arguments.length)return Hn.slice();Hn=[],tr=new InternMap;for(const sr of rr)tr.has(sr)||tr.set(sr,Hn.push(sr)-1);return ir},ir.range=function(rr){return arguments.length?(er=Array.from(rr),ir):er.slice()},ir.unknown=function(rr){return arguments.length?(nr=rr,ir):nr},ir.copy=function(){return ordinal(Hn,er).unknown(nr)},initRange.apply(ir,arguments),ir}function band(){var tr=ordinal().unknown(void 0),Hn=tr.domain,er=tr.range,nr=0,ir=1,rr,sr,ar=!1,or=0,lr=0,cr=.5;delete tr.unknown;function ur(){var dr=Hn().length,fr=ir<nr,xr=fr?ir:nr,yr=fr?nr:ir;rr=(yr-xr)/Math.max(1,dr-or+lr*2),ar&&(rr=Math.floor(rr)),xr+=(yr-xr-rr*(dr-or))*cr,sr=rr*(1-or),ar&&(xr=Math.round(xr),sr=Math.round(sr));var _r=range$1(dr).map(function(Sr){return xr+rr*Sr});return er(fr?_r.reverse():_r)}return tr.domain=function(dr){return arguments.length?(Hn(dr),ur()):Hn()},tr.range=function(dr){return arguments.length?([nr,ir]=dr,nr=+nr,ir=+ir,ur()):[nr,ir]},tr.rangeRound=function(dr){return[nr,ir]=dr,nr=+nr,ir=+ir,ar=!0,ur()},tr.bandwidth=function(){return sr},tr.step=function(){return rr},tr.round=function(dr){return arguments.length?(ar=!!dr,ur()):ar},tr.padding=function(dr){return arguments.length?(or=Math.min(1,lr=+dr),ur()):or},tr.paddingInner=function(dr){return arguments.length?(or=Math.min(1,dr),ur()):or},tr.paddingOuter=function(dr){return arguments.length?(lr=+dr,ur()):lr},tr.align=function(dr){return arguments.length?(cr=Math.max(0,Math.min(1,dr)),ur()):cr},tr.copy=function(){return band(Hn(),[nr,ir]).round(ar).paddingInner(or).paddingOuter(lr).align(cr)},initRange.apply(ur(),arguments)}function pointish(tr){var Hn=tr.copy;return tr.padding=tr.paddingOuter,delete tr.paddingInner,delete tr.paddingOuter,tr.copy=function(){return pointish(Hn())},tr}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(tr,Hn,er){tr.prototype=Hn.prototype=er,er.constructor=tr}function extend(tr,Hn){var er=Object.create(tr.prototype);for(var nr in Hn)er[nr]=Hn[nr];return er}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(tr){return Object.assign(new this.constructor,this,tr)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(tr){var Hn,er;return tr=(tr+"").trim().toLowerCase(),(Hn=reHex.exec(tr))?(er=Hn[1].length,Hn=parseInt(Hn[1],16),er===6?rgbn(Hn):er===3?new Rgb(Hn>>8&15|Hn>>4&240,Hn>>4&15|Hn&240,(Hn&15)<<4|Hn&15,1):er===8?rgba(Hn>>24&255,Hn>>16&255,Hn>>8&255,(Hn&255)/255):er===4?rgba(Hn>>12&15|Hn>>8&240,Hn>>8&15|Hn>>4&240,Hn>>4&15|Hn&240,((Hn&15)<<4|Hn&15)/255):null):(Hn=reRgbInteger.exec(tr))?new Rgb(Hn[1],Hn[2],Hn[3],1):(Hn=reRgbPercent.exec(tr))?new Rgb(Hn[1]*255/100,Hn[2]*255/100,Hn[3]*255/100,1):(Hn=reRgbaInteger.exec(tr))?rgba(Hn[1],Hn[2],Hn[3],Hn[4]):(Hn=reRgbaPercent.exec(tr))?rgba(Hn[1]*255/100,Hn[2]*255/100,Hn[3]*255/100,Hn[4]):(Hn=reHslPercent.exec(tr))?hsla(Hn[1],Hn[2]/100,Hn[3]/100,1):(Hn=reHslaPercent.exec(tr))?hsla(Hn[1],Hn[2]/100,Hn[3]/100,Hn[4]):named.hasOwnProperty(tr)?rgbn(named[tr]):tr==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(tr){return new Rgb(tr>>16&255,tr>>8&255,tr&255,1)}function rgba(tr,Hn,er,nr){return nr<=0&&(tr=Hn=er=NaN),new Rgb(tr,Hn,er,nr)}function rgbConvert(tr){return tr instanceof Color||(tr=color(tr)),tr?(tr=tr.rgb(),new Rgb(tr.r,tr.g,tr.b,tr.opacity)):new Rgb}function rgb$1(tr,Hn,er,nr){return arguments.length===1?rgbConvert(tr):new Rgb(tr,Hn,er,nr??1)}function Rgb(tr,Hn,er,nr){this.r=+tr,this.g=+Hn,this.b=+er,this.opacity=+nr}define(Rgb,rgb$1,extend(Color,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const tr=clampa(this.opacity);return`${tr===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${tr===1?")":`, ${tr})`}`}function clampa(tr){return isNaN(tr)?1:Math.max(0,Math.min(1,tr))}function clampi(tr){return Math.max(0,Math.min(255,Math.round(tr)||0))}function hex(tr){return tr=clampi(tr),(tr<16?"0":"")+tr.toString(16)}function hsla(tr,Hn,er,nr){return nr<=0?tr=Hn=er=NaN:er<=0||er>=1?tr=Hn=NaN:Hn<=0&&(tr=NaN),new Hsl(tr,Hn,er,nr)}function hslConvert(tr){if(tr instanceof Hsl)return new Hsl(tr.h,tr.s,tr.l,tr.opacity);if(tr instanceof Color||(tr=color(tr)),!tr)return new Hsl;if(tr instanceof Hsl)return tr;tr=tr.rgb();var Hn=tr.r/255,er=tr.g/255,nr=tr.b/255,ir=Math.min(Hn,er,nr),rr=Math.max(Hn,er,nr),sr=NaN,ar=rr-ir,or=(rr+ir)/2;return ar?(Hn===rr?sr=(er-nr)/ar+(er<nr)*6:er===rr?sr=(nr-Hn)/ar+2:sr=(Hn-er)/ar+4,ar/=or<.5?rr+ir:2-rr-ir,sr*=60):ar=or>0&&or<1?0:sr,new Hsl(sr,ar,or,tr.opacity)}function hsl(tr,Hn,er,nr){return arguments.length===1?hslConvert(tr):new Hsl(tr,Hn,er,nr??1)}function Hsl(tr,Hn,er,nr){this.h=+tr,this.s=+Hn,this.l=+er,this.opacity=+nr}define(Hsl,hsl,extend(Color,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},rgb(){var tr=this.h%360+(this.h<0)*360,Hn=isNaN(tr)||isNaN(this.s)?0:this.s,er=this.l,nr=er+(er<.5?er:1-er)*Hn,ir=2*er-nr;return new Rgb(hsl2rgb(tr>=240?tr-240:tr+120,ir,nr),hsl2rgb(tr,ir,nr),hsl2rgb(tr<120?tr+240:tr-120,ir,nr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const tr=clampa(this.opacity);return`${tr===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${tr===1?")":`, ${tr})`}`}}));function clamph(tr){return tr=(tr||0)%360,tr<0?tr+360:tr}function clampt(tr){return Math.max(0,Math.min(1,tr||0))}function hsl2rgb(tr,Hn,er){return(tr<60?Hn+(er-Hn)*tr/60:tr<180?er:tr<240?Hn+(er-Hn)*(240-tr)/60:Hn)*255}const constant=tr=>()=>tr;function linear$1(tr,Hn){return function(er){return tr+er*Hn}}function exponential(tr,Hn,er){return tr=Math.pow(tr,er),Hn=Math.pow(Hn,er)-tr,er=1/er,function(nr){return Math.pow(tr+nr*Hn,er)}}function gamma(tr){return(tr=+tr)==1?nogamma:function(Hn,er){return er-Hn?exponential(Hn,er,tr):constant(isNaN(Hn)?er:Hn)}}function nogamma(tr,Hn){var er=Hn-tr;return er?linear$1(tr,er):constant(isNaN(tr)?Hn:tr)}const rgb=(function tr(Hn){var er=gamma(Hn);function nr(ir,rr){var sr=er((ir=rgb$1(ir)).r,(rr=rgb$1(rr)).r),ar=er(ir.g,rr.g),or=er(ir.b,rr.b),lr=nogamma(ir.opacity,rr.opacity);return function(cr){return ir.r=sr(cr),ir.g=ar(cr),ir.b=or(cr),ir.opacity=lr(cr),ir+""}}return nr.gamma=tr,nr})(1);function numberArray(tr,Hn){Hn||(Hn=[]);var er=tr?Math.min(Hn.length,tr.length):0,nr=Hn.slice(),ir;return function(rr){for(ir=0;ir<er;++ir)nr[ir]=tr[ir]*(1-rr)+Hn[ir]*rr;return nr}}function isNumberArray(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}function genericArray(tr,Hn){var er=Hn?Hn.length:0,nr=tr?Math.min(er,tr.length):0,ir=new Array(nr),rr=new Array(er),sr;for(sr=0;sr<nr;++sr)ir[sr]=interpolate(tr[sr],Hn[sr]);for(;sr<er;++sr)rr[sr]=Hn[sr];return function(ar){for(sr=0;sr<nr;++sr)rr[sr]=ir[sr](ar);return rr}}function date$1(tr,Hn){var er=new Date;return tr=+tr,Hn=+Hn,function(nr){return er.setTime(tr*(1-nr)+Hn*nr),er}}function interpolateNumber(tr,Hn){return tr=+tr,Hn=+Hn,function(er){return tr*(1-er)+Hn*er}}function object(tr,Hn){var er={},nr={},ir;(tr===null||typeof tr!="object")&&(tr={}),(Hn===null||typeof Hn!="object")&&(Hn={});for(ir in Hn)ir in tr?er[ir]=interpolate(tr[ir],Hn[ir]):nr[ir]=Hn[ir];return function(rr){for(ir in er)nr[ir]=er[ir](rr);return nr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(tr){return function(){return tr}}function one(tr){return function(Hn){return tr(Hn)+""}}function string(tr,Hn){var er=reA.lastIndex=reB.lastIndex=0,nr,ir,rr,sr=-1,ar=[],or=[];for(tr=tr+"",Hn=Hn+"";(nr=reA.exec(tr))&&(ir=reB.exec(Hn));)(rr=ir.index)>er&&(rr=Hn.slice(er,rr),ar[sr]?ar[sr]+=rr:ar[++sr]=rr),(nr=nr[0])===(ir=ir[0])?ar[sr]?ar[sr]+=ir:ar[++sr]=ir:(ar[++sr]=null,or.push({i:sr,x:interpolateNumber(nr,ir)})),er=reB.lastIndex;return er<Hn.length&&(rr=Hn.slice(er),ar[sr]?ar[sr]+=rr:ar[++sr]=rr),ar.length<2?or[0]?one(or[0].x):zero(Hn):(Hn=or.length,function(lr){for(var cr=0,ur;cr<Hn;++cr)ar[(ur=or[cr]).i]=ur.x(lr);return ar.join("")})}function interpolate(tr,Hn){var er=typeof Hn,nr;return Hn==null||er==="boolean"?constant(Hn):(er==="number"?interpolateNumber:er==="string"?(nr=color(Hn))?(Hn=nr,rgb):string:Hn instanceof color?rgb:Hn instanceof Date?date$1:isNumberArray(Hn)?numberArray:Array.isArray(Hn)?genericArray:typeof Hn.valueOf!="function"&&typeof Hn.toString!="function"||isNaN(Hn)?object:interpolateNumber)(tr,Hn)}function interpolateRound(tr,Hn){return tr=+tr,Hn=+Hn,function(er){return Math.round(tr*(1-er)+Hn*er)}}function piecewise(tr,Hn){Hn===void 0&&(Hn=tr,tr=interpolate);for(var er=0,nr=Hn.length-1,ir=Hn[0],rr=new Array(nr<0?0:nr);er<nr;)rr[er]=tr(ir,ir=Hn[++er]);return function(sr){var ar=Math.max(0,Math.min(nr-1,Math.floor(sr*=nr)));return rr[ar](sr-ar)}}function constants(tr){return function(){return tr}}function number$1(tr){return+tr}var unit=[0,1];function identity$3(tr){return tr}function normalize(tr,Hn){return(Hn-=tr=+tr)?function(er){return(er-tr)/Hn}:constants(isNaN(Hn)?NaN:.5)}function clamper(tr,Hn){var er;return tr>Hn&&(er=tr,tr=Hn,Hn=er),function(nr){return Math.max(tr,Math.min(Hn,nr))}}function bimap(tr,Hn,er){var nr=tr[0],ir=tr[1],rr=Hn[0],sr=Hn[1];return ir<nr?(nr=normalize(ir,nr),rr=er(sr,rr)):(nr=normalize(nr,ir),rr=er(rr,sr)),function(ar){return rr(nr(ar))}}function polymap(tr,Hn,er){var nr=Math.min(tr.length,Hn.length)-1,ir=new Array(nr),rr=new Array(nr),sr=-1;for(tr[nr]<tr[0]&&(tr=tr.slice().reverse(),Hn=Hn.slice().reverse());++sr<nr;)ir[sr]=normalize(tr[sr],tr[sr+1]),rr[sr]=er(Hn[sr],Hn[sr+1]);return function(ar){var or=bisectRight(tr,ar,1,nr)-1;return rr[or](ir[or](ar))}}function copy$1(tr,Hn){return Hn.domain(tr.domain()).range(tr.range()).interpolate(tr.interpolate()).clamp(tr.clamp()).unknown(tr.unknown())}function transformer$2(){var tr=unit,Hn=unit,er=interpolate,nr,ir,rr,sr=identity$3,ar,or,lr;function cr(){var dr=Math.min(tr.length,Hn.length);return sr!==identity$3&&(sr=clamper(tr[0],tr[dr-1])),ar=dr>2?polymap:bimap,or=lr=null,ur}function ur(dr){return dr==null||isNaN(dr=+dr)?rr:(or||(or=ar(tr.map(nr),Hn,er)))(nr(sr(dr)))}return ur.invert=function(dr){return sr(ir((lr||(lr=ar(Hn,tr.map(nr),interpolateNumber)))(dr)))},ur.domain=function(dr){return arguments.length?(tr=Array.from(dr,number$1),cr()):tr.slice()},ur.range=function(dr){return arguments.length?(Hn=Array.from(dr),cr()):Hn.slice()},ur.rangeRound=function(dr){return Hn=Array.from(dr),er=interpolateRound,cr()},ur.clamp=function(dr){return arguments.length?(sr=dr?!0:identity$3,cr()):sr!==identity$3},ur.interpolate=function(dr){return arguments.length?(er=dr,cr()):er},ur.unknown=function(dr){return arguments.length?(rr=dr,ur):rr},function(dr,fr){return nr=dr,ir=fr,cr()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(tr){return Math.abs(tr=Math.round(tr))>=1e21?tr.toLocaleString("en").replace(/,/g,""):tr.toString(10)}function formatDecimalParts(tr,Hn){if((er=(tr=Hn?tr.toExponential(Hn-1):tr.toExponential()).indexOf("e"))<0)return null;var er,nr=tr.slice(0,er);return[nr.length>1?nr[0]+nr.slice(2):nr,+tr.slice(er+1)]}function exponent(tr){return tr=formatDecimalParts(Math.abs(tr)),tr?tr[1]:NaN}function formatGroup(tr,Hn){return function(er,nr){for(var ir=er.length,rr=[],sr=0,ar=tr[0],or=0;ir>0&&ar>0&&(or+ar+1>nr&&(ar=Math.max(1,nr-or)),rr.push(er.substring(ir-=ar,ir+ar)),!((or+=ar+1)>nr));)ar=tr[sr=(sr+1)%tr.length];return rr.reverse().join(Hn)}}function formatNumerals(tr){return function(Hn){return Hn.replace(/[0-9]/g,function(er){return tr[+er]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(tr){if(!(Hn=re$1.exec(tr)))throw new Error("invalid format: "+tr);var Hn;return new FormatSpecifier({fill:Hn[1],align:Hn[2],sign:Hn[3],symbol:Hn[4],zero:Hn[5],width:Hn[6],comma:Hn[7],precision:Hn[8]&&Hn[8].slice(1),trim:Hn[9],type:Hn[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(tr){this.fill=tr.fill===void 0?" ":tr.fill+"",this.align=tr.align===void 0?">":tr.align+"",this.sign=tr.sign===void 0?"-":tr.sign+"",this.symbol=tr.symbol===void 0?"":tr.symbol+"",this.zero=!!tr.zero,this.width=tr.width===void 0?void 0:+tr.width,this.comma=!!tr.comma,this.precision=tr.precision===void 0?void 0:+tr.precision,this.trim=!!tr.trim,this.type=tr.type===void 0?"":tr.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(tr){e:for(var Hn=tr.length,er=1,nr=-1,ir;er<Hn;++er)switch(tr[er]){case".":nr=ir=er;break;case"0":nr===0&&(nr=er),ir=er;break;default:if(!+tr[er])break e;nr>0&&(nr=0);break}return nr>0?tr.slice(0,nr)+tr.slice(ir+1):tr}var prefixExponent;function formatPrefixAuto(tr,Hn){var er=formatDecimalParts(tr,Hn);if(!er)return tr+"";var nr=er[0],ir=er[1],rr=ir-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(ir/3)))*3)+1,sr=nr.length;return rr===sr?nr:rr>sr?nr+new Array(rr-sr+1).join("0"):rr>0?nr.slice(0,rr)+"."+nr.slice(rr):"0."+new Array(1-rr).join("0")+formatDecimalParts(tr,Math.max(0,Hn+rr-1))[0]}function formatRounded(tr,Hn){var er=formatDecimalParts(tr,Hn);if(!er)return tr+"";var nr=er[0],ir=er[1];return ir<0?"0."+new Array(-ir).join("0")+nr:nr.length>ir+1?nr.slice(0,ir+1)+"."+nr.slice(ir+1):nr+new Array(ir-nr.length+2).join("0")}const formatTypes={"%":(tr,Hn)=>(tr*100).toFixed(Hn),b:tr=>Math.round(tr).toString(2),c:tr=>tr+"",d:formatDecimal,e:(tr,Hn)=>tr.toExponential(Hn),f:(tr,Hn)=>tr.toFixed(Hn),g:(tr,Hn)=>tr.toPrecision(Hn),o:tr=>Math.round(tr).toString(8),p:(tr,Hn)=>formatRounded(tr*100,Hn),r:formatRounded,s:formatPrefixAuto,X:tr=>Math.round(tr).toString(16).toUpperCase(),x:tr=>Math.round(tr).toString(16)};function identity$2(tr){return tr}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(tr){var Hn=tr.grouping===void 0||tr.thousands===void 0?identity$2:formatGroup(map$1.call(tr.grouping,Number),tr.thousands+""),er=tr.currency===void 0?"":tr.currency[0]+"",nr=tr.currency===void 0?"":tr.currency[1]+"",ir=tr.decimal===void 0?".":tr.decimal+"",rr=tr.numerals===void 0?identity$2:formatNumerals(map$1.call(tr.numerals,String)),sr=tr.percent===void 0?"%":tr.percent+"",ar=tr.minus===void 0?"":tr.minus+"",or=tr.nan===void 0?"NaN":tr.nan+"";function lr(ur){ur=formatSpecifier(ur);var dr=ur.fill,fr=ur.align,xr=ur.sign,yr=ur.symbol,_r=ur.zero,Sr=ur.width,jr=ur.comma,Dr=ur.precision,Ir=ur.trim,Mr=ur.type;Mr==="n"?(jr=!0,Mr="g"):formatTypes[Mr]||(Dr===void 0&&(Dr=12),Ir=!0,Mr="g"),(_r||dr==="0"&&fr==="=")&&(_r=!0,dr="0",fr="=");var Or=yr==="$"?er:yr==="#"&&/[boxX]/.test(Mr)?"0"+Mr.toLowerCase():"",Lr=yr==="$"?nr:/[%p]/.test(Mr)?sr:"",Fr=formatTypes[Mr],Vr=/[defgprs%]/.test(Mr);Dr=Dr===void 0?6:/[gprs]/.test(Mr)?Math.max(1,Math.min(21,Dr)):Math.max(0,Math.min(20,Dr));function Zr(Hr){var Yr=Or,eo=Lr,io,uo,so;if(Mr==="c")eo=Fr(Hr)+eo,Hr="";else{Hr=+Hr;var no=Hr<0||1/Hr<0;if(Hr=isNaN(Hr)?or:Fr(Math.abs(Hr),Dr),Ir&&(Hr=formatTrim(Hr)),no&&+Hr==0&&xr!=="+"&&(no=!1),Yr=(no?xr==="("?xr:ar:xr==="-"||xr==="("?"":xr)+Yr,eo=(Mr==="s"?prefixes[8+prefixExponent/3]:"")+eo+(no&&xr==="("?")":""),Vr){for(io=-1,uo=Hr.length;++io<uo;)if(so=Hr.charCodeAt(io),48>so||so>57){eo=(so===46?ir+Hr.slice(io+1):Hr.slice(io))+eo,Hr=Hr.slice(0,io);break}}}jr&&!_r&&(Hr=Hn(Hr,1/0));var po=Yr.length+Hr.length+eo.length,co=po<Sr?new Array(Sr-po+1).join(dr):"";switch(jr&&_r&&(Hr=Hn(co+Hr,co.length?Sr-eo.length:1/0),co=""),fr){case"<":Hr=Yr+Hr+eo+co;break;case"=":Hr=Yr+co+Hr+eo;break;case"^":Hr=co.slice(0,po=co.length>>1)+Yr+Hr+eo+co.slice(po);break;default:Hr=co+Yr+Hr+eo;break}return rr(Hr)}return Zr.toString=function(){return ur+""},Zr}function cr(ur,dr){var fr=lr((ur=formatSpecifier(ur),ur.type="f",ur)),xr=Math.max(-8,Math.min(8,Math.floor(exponent(dr)/3)))*3,yr=Math.pow(10,-xr),_r=prefixes[8+xr/3];return function(Sr){return fr(yr*Sr)+_r}}return{format:lr,formatPrefix:cr}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(tr){return locale$1=formatLocale$1(tr),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(tr){return Math.max(0,-exponent(Math.abs(tr)))}function precisionPrefix(tr,Hn){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(Hn)/3)))*3-exponent(Math.abs(tr)))}function precisionRound(tr,Hn){return tr=Math.abs(tr),Hn=Math.abs(Hn)-tr,Math.max(0,exponent(Hn)-exponent(tr))+1}function tickFormat(tr,Hn,er,nr){var ir=tickStep(tr,Hn,er),rr;switch(nr=formatSpecifier(nr??",f"),nr.type){case"s":{var sr=Math.max(Math.abs(tr),Math.abs(Hn));return nr.precision==null&&!isNaN(rr=precisionPrefix(ir,sr))&&(nr.precision=rr),formatPrefix(nr,sr)}case"":case"e":case"g":case"p":case"r":{nr.precision==null&&!isNaN(rr=precisionRound(ir,Math.max(Math.abs(tr),Math.abs(Hn))))&&(nr.precision=rr-(nr.type==="e"));break}case"f":case"%":{nr.precision==null&&!isNaN(rr=precisionFixed(ir))&&(nr.precision=rr-(nr.type==="%")*2);break}}return format(nr)}function linearish(tr){var Hn=tr.domain;return tr.ticks=function(er){var nr=Hn();return ticks(nr[0],nr[nr.length-1],er??10)},tr.tickFormat=function(er,nr){var ir=Hn();return tickFormat(ir[0],ir[ir.length-1],er??10,nr)},tr.nice=function(er){er==null&&(er=10);var nr=Hn(),ir=0,rr=nr.length-1,sr=nr[ir],ar=nr[rr],or,lr,cr=10;for(ar<sr&&(lr=sr,sr=ar,ar=lr,lr=ir,ir=rr,rr=lr);cr-- >0;){if(lr=tickIncrement(sr,ar,er),lr===or)return nr[ir]=sr,nr[rr]=ar,Hn(nr);if(lr>0)sr=Math.floor(sr/lr)*lr,ar=Math.ceil(ar/lr)*lr;else if(lr<0)sr=Math.ceil(sr*lr)/lr,ar=Math.floor(ar*lr)/lr;else break;or=lr}return tr},tr}function linear(){var tr=continuous();return tr.copy=function(){return copy$1(tr,linear())},initRange.apply(tr,arguments),linearish(tr)}function identity$1(tr){var Hn;function er(nr){return nr==null||isNaN(nr=+nr)?Hn:nr}return er.invert=er,er.domain=er.range=function(nr){return arguments.length?(tr=Array.from(nr,number$1),er):tr.slice()},er.unknown=function(nr){return arguments.length?(Hn=nr,er):Hn},er.copy=function(){return identity$1(tr).unknown(Hn)},tr=arguments.length?Array.from(tr,number$1):[0,1],linearish(er)}function nice(tr,Hn){tr=tr.slice();var er=0,nr=tr.length-1,ir=tr[er],rr=tr[nr],sr;return rr<ir&&(sr=er,er=nr,nr=sr,sr=ir,ir=rr,rr=sr),tr[er]=Hn.floor(ir),tr[nr]=Hn.ceil(rr),tr}function transformLog(tr){return Math.log(tr)}function transformExp(tr){return Math.exp(tr)}function transformLogn(tr){return-Math.log(-tr)}function transformExpn(tr){return-Math.exp(-tr)}function pow10(tr){return isFinite(tr)?+("1e"+tr):tr<0?0:tr}function powp(tr){return tr===10?pow10:tr===Math.E?Math.exp:Hn=>Math.pow(tr,Hn)}function logp(tr){return tr===Math.E?Math.log:tr===10&&Math.log10||tr===2&&Math.log2||(tr=Math.log(tr),Hn=>Math.log(Hn)/tr)}function reflect(tr){return(Hn,er)=>-tr(-Hn,er)}function loggish(tr){const Hn=tr(transformLog,transformExp),er=Hn.domain;let nr=10,ir,rr;function sr(){return ir=logp(nr),rr=powp(nr),er()[0]<0?(ir=reflect(ir),rr=reflect(rr),tr(transformLogn,transformExpn)):tr(transformLog,transformExp),Hn}return Hn.base=function(ar){return arguments.length?(nr=+ar,sr()):nr},Hn.domain=function(ar){return arguments.length?(er(ar),sr()):er()},Hn.ticks=ar=>{const or=er();let lr=or[0],cr=or[or.length-1];const ur=cr<lr;ur&&([lr,cr]=[cr,lr]);let dr=ir(lr),fr=ir(cr),xr,yr;const _r=ar==null?10:+ar;let Sr=[];if(!(nr%1)&&fr-dr<_r){if(dr=Math.floor(dr),fr=Math.ceil(fr),lr>0){for(;dr<=fr;++dr)for(xr=1;xr<nr;++xr)if(yr=dr<0?xr/rr(-dr):xr*rr(dr),!(yr<lr)){if(yr>cr)break;Sr.push(yr)}}else for(;dr<=fr;++dr)for(xr=nr-1;xr>=1;--xr)if(yr=dr>0?xr/rr(-dr):xr*rr(dr),!(yr<lr)){if(yr>cr)break;Sr.push(yr)}Sr.length*2<_r&&(Sr=ticks(lr,cr,_r))}else Sr=ticks(dr,fr,Math.min(fr-dr,_r)).map(rr);return ur?Sr.reverse():Sr},Hn.tickFormat=(ar,or)=>{if(ar==null&&(ar=10),or==null&&(or=nr===10?"s":","),typeof or!="function"&&(!(nr%1)&&(or=formatSpecifier(or)).precision==null&&(or.trim=!0),or=format(or)),ar===1/0)return or;const lr=Math.max(1,nr*ar/Hn.ticks().length);return cr=>{let ur=cr/rr(Math.round(ir(cr)));return ur*nr<nr-.5&&(ur*=nr),ur<=lr?or(cr):""}},Hn.nice=()=>er(nice(er(),{floor:ar=>rr(Math.floor(ir(ar))),ceil:ar=>rr(Math.ceil(ir(ar)))})),Hn}function log(){const tr=loggish(transformer$2()).domain([1,10]);return tr.copy=()=>copy$1(tr,log()).base(tr.base()),initRange.apply(tr,arguments),tr}function transformSymlog(tr){return function(Hn){return Math.sign(Hn)*Math.log1p(Math.abs(Hn/tr))}}function transformSymexp(tr){return function(Hn){return Math.sign(Hn)*Math.expm1(Math.abs(Hn))*tr}}function symlogish(tr){var Hn=1,er=tr(transformSymlog(Hn),transformSymexp(Hn));return er.constant=function(nr){return arguments.length?tr(transformSymlog(Hn=+nr),transformSymexp(Hn)):Hn},linearish(er)}function symlog(){var tr=symlogish(transformer$2());return tr.copy=function(){return copy$1(tr,symlog()).constant(tr.constant())},initRange.apply(tr,arguments)}function transformPow(tr){return function(Hn){return Hn<0?-Math.pow(-Hn,tr):Math.pow(Hn,tr)}}function transformSqrt(tr){return tr<0?-Math.sqrt(-tr):Math.sqrt(tr)}function transformSquare(tr){return tr<0?-tr*tr:tr*tr}function powish(tr){var Hn=tr(identity$3,identity$3),er=1;function nr(){return er===1?tr(identity$3,identity$3):er===.5?tr(transformSqrt,transformSquare):tr(transformPow(er),transformPow(1/er))}return Hn.exponent=function(ir){return arguments.length?(er=+ir,nr()):er},linearish(Hn)}function pow(){var tr=powish(transformer$2());return tr.copy=function(){return copy$1(tr,pow()).exponent(tr.exponent())},initRange.apply(tr,arguments),tr}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(tr){return Math.sign(tr)*tr*tr}function unsquare(tr){return Math.sign(tr)*Math.sqrt(Math.abs(tr))}function radial(){var tr=continuous(),Hn=[0,1],er=!1,nr;function ir(rr){var sr=unsquare(tr(rr));return isNaN(sr)?nr:er?Math.round(sr):sr}return ir.invert=function(rr){return tr.invert(square(rr))},ir.domain=function(rr){return arguments.length?(tr.domain(rr),ir):tr.domain()},ir.range=function(rr){return arguments.length?(tr.range((Hn=Array.from(rr,number$1)).map(square)),ir):Hn.slice()},ir.rangeRound=function(rr){return ir.range(rr).round(!0)},ir.round=function(rr){return arguments.length?(er=!!rr,ir):er},ir.clamp=function(rr){return arguments.length?(tr.clamp(rr),ir):tr.clamp()},ir.unknown=function(rr){return arguments.length?(nr=rr,ir):nr},ir.copy=function(){return radial(tr.domain(),Hn).round(er).clamp(tr.clamp()).unknown(nr)},initRange.apply(ir,arguments),linearish(ir)}function quantile(){var tr=[],Hn=[],er=[],nr;function ir(){var sr=0,ar=Math.max(1,Hn.length);for(er=new Array(ar-1);++sr<ar;)er[sr-1]=quantileSorted(tr,sr/ar);return rr}function rr(sr){return sr==null||isNaN(sr=+sr)?nr:Hn[bisectRight(er,sr)]}return rr.invertExtent=function(sr){var ar=Hn.indexOf(sr);return ar<0?[NaN,NaN]:[ar>0?er[ar-1]:tr[0],ar<er.length?er[ar]:tr[tr.length-1]]},rr.domain=function(sr){if(!arguments.length)return tr.slice();tr=[];for(let ar of sr)ar!=null&&!isNaN(ar=+ar)&&tr.push(ar);return tr.sort(ascending),ir()},rr.range=function(sr){return arguments.length?(Hn=Array.from(sr),ir()):Hn.slice()},rr.unknown=function(sr){return arguments.length?(nr=sr,rr):nr},rr.quantiles=function(){return er.slice()},rr.copy=function(){return quantile().domain(tr).range(Hn).unknown(nr)},initRange.apply(rr,arguments)}function quantize(){var tr=0,Hn=1,er=1,nr=[.5],ir=[0,1],rr;function sr(or){return or!=null&&or<=or?ir[bisectRight(nr,or,0,er)]:rr}function ar(){var or=-1;for(nr=new Array(er);++or<er;)nr[or]=((or+1)*Hn-(or-er)*tr)/(er+1);return sr}return sr.domain=function(or){return arguments.length?([tr,Hn]=or,tr=+tr,Hn=+Hn,ar()):[tr,Hn]},sr.range=function(or){return arguments.length?(er=(ir=Array.from(or)).length-1,ar()):ir.slice()},sr.invertExtent=function(or){var lr=ir.indexOf(or);return lr<0?[NaN,NaN]:lr<1?[tr,nr[0]]:lr>=er?[nr[er-1],Hn]:[nr[lr-1],nr[lr]]},sr.unknown=function(or){return arguments.length&&(rr=or),sr},sr.thresholds=function(){return nr.slice()},sr.copy=function(){return quantize().domain([tr,Hn]).range(ir).unknown(rr)},initRange.apply(linearish(sr),arguments)}function threshold(){var tr=[.5],Hn=[0,1],er,nr=1;function ir(rr){return rr!=null&&rr<=rr?Hn[bisectRight(tr,rr,0,nr)]:er}return ir.domain=function(rr){return arguments.length?(tr=Array.from(rr),nr=Math.min(tr.length,Hn.length-1),ir):tr.slice()},ir.range=function(rr){return arguments.length?(Hn=Array.from(rr),nr=Math.min(tr.length,Hn.length-1),ir):Hn.slice()},ir.invertExtent=function(rr){var sr=Hn.indexOf(rr);return[tr[sr-1],tr[sr]]},ir.unknown=function(rr){return arguments.length?(er=rr,ir):er},ir.copy=function(){return threshold().domain(tr).range(Hn).unknown(er)},initRange.apply(ir,arguments)}const t0=new Date,t1=new Date;function timeInterval(tr,Hn,er,nr){function ir(rr){return tr(rr=arguments.length===0?new Date:new Date(+rr)),rr}return ir.floor=rr=>(tr(rr=new Date(+rr)),rr),ir.ceil=rr=>(tr(rr=new Date(rr-1)),Hn(rr,1),tr(rr),rr),ir.round=rr=>{const sr=ir(rr),ar=ir.ceil(rr);return rr-sr<ar-rr?sr:ar},ir.offset=(rr,sr)=>(Hn(rr=new Date(+rr),sr==null?1:Math.floor(sr)),rr),ir.range=(rr,sr,ar)=>{const or=[];if(rr=ir.ceil(rr),ar=ar==null?1:Math.floor(ar),!(rr<sr)||!(ar>0))return or;let lr;do or.push(lr=new Date(+rr)),Hn(rr,ar),tr(rr);while(lr<rr&&rr<sr);return or},ir.filter=rr=>timeInterval(sr=>{if(sr>=sr)for(;tr(sr),!rr(sr);)sr.setTime(sr-1)},(sr,ar)=>{if(sr>=sr)if(ar<0)for(;++ar<=0;)for(;Hn(sr,-1),!rr(sr););else for(;--ar>=0;)for(;Hn(sr,1),!rr(sr););}),er&&(ir.count=(rr,sr)=>(t0.setTime(+rr),t1.setTime(+sr),tr(t0),tr(t1),Math.floor(er(t0,t1))),ir.every=rr=>(rr=Math.floor(rr),!isFinite(rr)||!(rr>0)?null:rr>1?ir.filter(nr?sr=>nr(sr)%rr===0:sr=>ir.count(0,sr)%rr===0):ir)),ir}const millisecond=timeInterval(()=>{},(tr,Hn)=>{tr.setTime(+tr+Hn)},(tr,Hn)=>Hn-tr);millisecond.every=tr=>(tr=Math.floor(tr),!isFinite(tr)||!(tr>0)?null:tr>1?timeInterval(Hn=>{Hn.setTime(Math.floor(Hn/tr)*tr)},(Hn,er)=>{Hn.setTime(+Hn+er*tr)},(Hn,er)=>(er-Hn)/tr):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds())},(tr,Hn)=>{tr.setTime(+tr+Hn*durationSecond)},(tr,Hn)=>(Hn-tr)/durationSecond,tr=>tr.getUTCSeconds());second.range;const timeMinute=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationMinute)},(tr,Hn)=>(Hn-tr)/durationMinute,tr=>tr.getMinutes());timeMinute.range;const utcMinute=timeInterval(tr=>{tr.setUTCSeconds(0,0)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationMinute)},(tr,Hn)=>(Hn-tr)/durationMinute,tr=>tr.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond-tr.getMinutes()*durationMinute)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationHour)},(tr,Hn)=>(Hn-tr)/durationHour,tr=>tr.getHours());timeHour.range;const utcHour=timeInterval(tr=>{tr.setUTCMinutes(0,0,0)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationHour)},(tr,Hn)=>(Hn-tr)/durationHour,tr=>tr.getUTCHours());utcHour.range;const timeDay=timeInterval(tr=>tr.setHours(0,0,0,0),(tr,Hn)=>tr.setDate(tr.getDate()+Hn),(tr,Hn)=>(Hn-tr-(Hn.getTimezoneOffset()-tr.getTimezoneOffset())*durationMinute)/durationDay,tr=>tr.getDate()-1);timeDay.range;const utcDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCDate(tr.getUTCDate()+Hn)},(tr,Hn)=>(Hn-tr)/durationDay,tr=>tr.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCDate(tr.getUTCDate()+Hn)},(tr,Hn)=>(Hn-tr)/durationDay,tr=>Math.floor(tr/durationDay));unixDay.range;function timeWeekday(tr){return timeInterval(Hn=>{Hn.setDate(Hn.getDate()-(Hn.getDay()+7-tr)%7),Hn.setHours(0,0,0,0)},(Hn,er)=>{Hn.setDate(Hn.getDate()+er*7)},(Hn,er)=>(er-Hn-(er.getTimezoneOffset()-Hn.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(tr){return timeInterval(Hn=>{Hn.setUTCDate(Hn.getUTCDate()-(Hn.getUTCDay()+7-tr)%7),Hn.setUTCHours(0,0,0,0)},(Hn,er)=>{Hn.setUTCDate(Hn.getUTCDate()+er*7)},(Hn,er)=>(er-Hn)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(tr=>{tr.setDate(1),tr.setHours(0,0,0,0)},(tr,Hn)=>{tr.setMonth(tr.getMonth()+Hn)},(tr,Hn)=>Hn.getMonth()-tr.getMonth()+(Hn.getFullYear()-tr.getFullYear())*12,tr=>tr.getMonth());timeMonth.range;const utcMonth=timeInterval(tr=>{tr.setUTCDate(1),tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCMonth(tr.getUTCMonth()+Hn)},(tr,Hn)=>Hn.getUTCMonth()-tr.getUTCMonth()+(Hn.getUTCFullYear()-tr.getUTCFullYear())*12,tr=>tr.getUTCMonth());utcMonth.range;const timeYear=timeInterval(tr=>{tr.setMonth(0,1),tr.setHours(0,0,0,0)},(tr,Hn)=>{tr.setFullYear(tr.getFullYear()+Hn)},(tr,Hn)=>Hn.getFullYear()-tr.getFullYear(),tr=>tr.getFullYear());timeYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(Hn=>{Hn.setFullYear(Math.floor(Hn.getFullYear()/tr)*tr),Hn.setMonth(0,1),Hn.setHours(0,0,0,0)},(Hn,er)=>{Hn.setFullYear(Hn.getFullYear()+er*tr)});timeYear.range;const utcYear=timeInterval(tr=>{tr.setUTCMonth(0,1),tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCFullYear(tr.getUTCFullYear()+Hn)},(tr,Hn)=>Hn.getUTCFullYear()-tr.getUTCFullYear(),tr=>tr.getUTCFullYear());utcYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(Hn=>{Hn.setUTCFullYear(Math.floor(Hn.getUTCFullYear()/tr)*tr),Hn.setUTCMonth(0,1),Hn.setUTCHours(0,0,0,0)},(Hn,er)=>{Hn.setUTCFullYear(Hn.getUTCFullYear()+er*tr)});utcYear.range;function ticker(tr,Hn,er,nr,ir,rr){const sr=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[rr,1,durationMinute],[rr,5,5*durationMinute],[rr,15,15*durationMinute],[rr,30,30*durationMinute],[ir,1,durationHour],[ir,3,3*durationHour],[ir,6,6*durationHour],[ir,12,12*durationHour],[nr,1,durationDay],[nr,2,2*durationDay],[er,1,durationWeek],[Hn,1,durationMonth],[Hn,3,3*durationMonth],[tr,1,durationYear]];function ar(lr,cr,ur){const dr=cr<lr;dr&&([lr,cr]=[cr,lr]);const fr=ur&&typeof ur.range=="function"?ur:or(lr,cr,ur),xr=fr?fr.range(lr,+cr+1):[];return dr?xr.reverse():xr}function or(lr,cr,ur){const dr=Math.abs(cr-lr)/ur,fr=bisector(([,,_r])=>_r).right(sr,dr);if(fr===sr.length)return tr.every(tickStep(lr/durationYear,cr/durationYear,ur));if(fr===0)return millisecond.every(Math.max(tickStep(lr,cr,ur),1));const[xr,yr]=sr[dr/sr[fr-1][2]<sr[fr][2]/dr?fr-1:fr];return xr.every(yr)}return[ar,or]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(tr){if(0<=tr.y&&tr.y<100){var Hn=new Date(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L);return Hn.setFullYear(tr.y),Hn}return new Date(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L)}function utcDate(tr){if(0<=tr.y&&tr.y<100){var Hn=new Date(Date.UTC(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L));return Hn.setUTCFullYear(tr.y),Hn}return new Date(Date.UTC(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L))}function newDate(tr,Hn,er){return{y:tr,m:Hn,d:er,H:0,M:0,S:0,L:0}}function formatLocale(tr){var Hn=tr.dateTime,er=tr.date,nr=tr.time,ir=tr.periods,rr=tr.days,sr=tr.shortDays,ar=tr.months,or=tr.shortMonths,lr=formatRe(ir),cr=formatLookup(ir),ur=formatRe(rr),dr=formatLookup(rr),fr=formatRe(sr),xr=formatLookup(sr),yr=formatRe(ar),_r=formatLookup(ar),Sr=formatRe(or),jr=formatLookup(or),Dr={a:no,A:po,b:co,B:lo,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ao,q:xo,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ir={a:_o,A:Po,b:Oo,B:So,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ao,q:zo,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Mr={a:Zr,A:Hr,b:Yr,B:eo,c:io,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Vr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:uo,X:so,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Dr.x=Or(er,Dr),Dr.X=Or(nr,Dr),Dr.c=Or(Hn,Dr),Ir.x=Or(er,Ir),Ir.X=Or(nr,Ir),Ir.c=Or(Hn,Ir);function Or(Ro,Go){return function(Qo){var Vo=[],nl=-1,fl=0,Bl=Ro.length,Gl,Tl,Pc;for(Qo instanceof Date||(Qo=new Date(+Qo));++nl<Bl;)Ro.charCodeAt(nl)===37&&(Vo.push(Ro.slice(fl,nl)),(Tl=pads[Gl=Ro.charAt(++nl)])!=null?Gl=Ro.charAt(++nl):Tl=Gl==="e"?" ":"0",(Pc=Go[Gl])&&(Gl=Pc(Qo,Tl)),Vo.push(Gl),fl=nl+1);return Vo.push(Ro.slice(fl,nl)),Vo.join("")}}function Lr(Ro,Go){return function(Qo){var Vo=newDate(1900,void 0,1),nl=Fr(Vo,Ro,Qo+="",0),fl,Bl;if(nl!=Qo.length)return null;if("Q"in Vo)return new Date(Vo.Q);if("s"in Vo)return new Date(Vo.s*1e3+("L"in Vo?Vo.L:0));if(Go&&!("Z"in Vo)&&(Vo.Z=0),"p"in Vo&&(Vo.H=Vo.H%12+Vo.p*12),Vo.m===void 0&&(Vo.m="q"in Vo?Vo.q:0),"V"in Vo){if(Vo.V<1||Vo.V>53)return null;"w"in Vo||(Vo.w=1),"Z"in Vo?(fl=utcDate(newDate(Vo.y,0,1)),Bl=fl.getUTCDay(),fl=Bl>4||Bl===0?utcMonday.ceil(fl):utcMonday(fl),fl=utcDay.offset(fl,(Vo.V-1)*7),Vo.y=fl.getUTCFullYear(),Vo.m=fl.getUTCMonth(),Vo.d=fl.getUTCDate()+(Vo.w+6)%7):(fl=localDate(newDate(Vo.y,0,1)),Bl=fl.getDay(),fl=Bl>4||Bl===0?timeMonday.ceil(fl):timeMonday(fl),fl=timeDay.offset(fl,(Vo.V-1)*7),Vo.y=fl.getFullYear(),Vo.m=fl.getMonth(),Vo.d=fl.getDate()+(Vo.w+6)%7)}else("W"in Vo||"U"in Vo)&&("w"in Vo||(Vo.w="u"in Vo?Vo.u%7:"W"in Vo?1:0),Bl="Z"in Vo?utcDate(newDate(Vo.y,0,1)).getUTCDay():localDate(newDate(Vo.y,0,1)).getDay(),Vo.m=0,Vo.d="W"in Vo?(Vo.w+6)%7+Vo.W*7-(Bl+5)%7:Vo.w+Vo.U*7-(Bl+6)%7);return"Z"in Vo?(Vo.H+=Vo.Z/100|0,Vo.M+=Vo.Z%100,utcDate(Vo)):localDate(Vo)}}function Fr(Ro,Go,Qo,Vo){for(var nl=0,fl=Go.length,Bl=Qo.length,Gl,Tl;nl<fl;){if(Vo>=Bl)return-1;if(Gl=Go.charCodeAt(nl++),Gl===37){if(Gl=Go.charAt(nl++),Tl=Mr[Gl in pads?Go.charAt(nl++):Gl],!Tl||(Vo=Tl(Ro,Qo,Vo))<0)return-1}else if(Gl!=Qo.charCodeAt(Vo++))return-1}return Vo}function Vr(Ro,Go,Qo){var Vo=lr.exec(Go.slice(Qo));return Vo?(Ro.p=cr.get(Vo[0].toLowerCase()),Qo+Vo[0].length):-1}function Zr(Ro,Go,Qo){var Vo=fr.exec(Go.slice(Qo));return Vo?(Ro.w=xr.get(Vo[0].toLowerCase()),Qo+Vo[0].length):-1}function Hr(Ro,Go,Qo){var Vo=ur.exec(Go.slice(Qo));return Vo?(Ro.w=dr.get(Vo[0].toLowerCase()),Qo+Vo[0].length):-1}function Yr(Ro,Go,Qo){var Vo=Sr.exec(Go.slice(Qo));return Vo?(Ro.m=jr.get(Vo[0].toLowerCase()),Qo+Vo[0].length):-1}function eo(Ro,Go,Qo){var Vo=yr.exec(Go.slice(Qo));return Vo?(Ro.m=_r.get(Vo[0].toLowerCase()),Qo+Vo[0].length):-1}function io(Ro,Go,Qo){return Fr(Ro,Hn,Go,Qo)}function uo(Ro,Go,Qo){return Fr(Ro,er,Go,Qo)}function so(Ro,Go,Qo){return Fr(Ro,nr,Go,Qo)}function no(Ro){return sr[Ro.getDay()]}function po(Ro){return rr[Ro.getDay()]}function co(Ro){return or[Ro.getMonth()]}function lo(Ro){return ar[Ro.getMonth()]}function ao(Ro){return ir[+(Ro.getHours()>=12)]}function xo(Ro){return 1+~~(Ro.getMonth()/3)}function _o(Ro){return sr[Ro.getUTCDay()]}function Po(Ro){return rr[Ro.getUTCDay()]}function Oo(Ro){return or[Ro.getUTCMonth()]}function So(Ro){return ar[Ro.getUTCMonth()]}function Ao(Ro){return ir[+(Ro.getUTCHours()>=12)]}function zo(Ro){return 1+~~(Ro.getUTCMonth()/3)}return{format:function(Ro){var Go=Or(Ro+="",Dr);return Go.toString=function(){return Ro},Go},parse:function(Ro){var Go=Lr(Ro+="",!1);return Go.toString=function(){return Ro},Go},utcFormat:function(Ro){var Go=Or(Ro+="",Ir);return Go.toString=function(){return Ro},Go},utcParse:function(Ro){var Go=Lr(Ro+="",!0);return Go.toString=function(){return Ro},Go}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(tr,Hn,er){var nr=tr<0?"-":"",ir=(nr?-tr:tr)+"",rr=ir.length;return nr+(rr<er?new Array(er-rr+1).join(Hn)+ir:ir)}function requote(tr){return tr.replace(requoteRe,"\\$&")}function formatRe(tr){return new RegExp("^(?:"+tr.map(requote).join("|")+")","i")}function formatLookup(tr){return new Map(tr.map((Hn,er)=>[Hn.toLowerCase(),er]))}function parseWeekdayNumberSunday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+1));return nr?(tr.w=+nr[0],er+nr[0].length):-1}function parseWeekdayNumberMonday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+1));return nr?(tr.u=+nr[0],er+nr[0].length):-1}function parseWeekNumberSunday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.U=+nr[0],er+nr[0].length):-1}function parseWeekNumberISO(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.V=+nr[0],er+nr[0].length):-1}function parseWeekNumberMonday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.W=+nr[0],er+nr[0].length):-1}function parseFullYear(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+4));return nr?(tr.y=+nr[0],er+nr[0].length):-1}function parseYear(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.y=+nr[0]+(+nr[0]>68?1900:2e3),er+nr[0].length):-1}function parseZone(tr,Hn,er){var nr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Hn.slice(er,er+6));return nr?(tr.Z=nr[1]?0:-(nr[2]+(nr[3]||"00")),er+nr[0].length):-1}function parseQuarter(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+1));return nr?(tr.q=nr[0]*3-3,er+nr[0].length):-1}function parseMonthNumber(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.m=nr[0]-1,er+nr[0].length):-1}function parseDayOfMonth(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.d=+nr[0],er+nr[0].length):-1}function parseDayOfYear(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+3));return nr?(tr.m=0,tr.d=+nr[0],er+nr[0].length):-1}function parseHour24(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.H=+nr[0],er+nr[0].length):-1}function parseMinutes(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.M=+nr[0],er+nr[0].length):-1}function parseSeconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.S=+nr[0],er+nr[0].length):-1}function parseMilliseconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+3));return nr?(tr.L=+nr[0],er+nr[0].length):-1}function parseMicroseconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+6));return nr?(tr.L=Math.floor(nr[0]/1e3),er+nr[0].length):-1}function parseLiteralPercent(tr,Hn,er){var nr=percentRe.exec(Hn.slice(er,er+1));return nr?er+nr[0].length:-1}function parseUnixTimestamp(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er));return nr?(tr.Q=+nr[0],er+nr[0].length):-1}function parseUnixTimestampSeconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er));return nr?(tr.s=+nr[0],er+nr[0].length):-1}function formatDayOfMonth(tr,Hn){return pad(tr.getDate(),Hn,2)}function formatHour24(tr,Hn){return pad(tr.getHours(),Hn,2)}function formatHour12(tr,Hn){return pad(tr.getHours()%12||12,Hn,2)}function formatDayOfYear(tr,Hn){return pad(1+timeDay.count(timeYear(tr),tr),Hn,3)}function formatMilliseconds(tr,Hn){return pad(tr.getMilliseconds(),Hn,3)}function formatMicroseconds(tr,Hn){return formatMilliseconds(tr,Hn)+"000"}function formatMonthNumber(tr,Hn){return pad(tr.getMonth()+1,Hn,2)}function formatMinutes(tr,Hn){return pad(tr.getMinutes(),Hn,2)}function formatSeconds(tr,Hn){return pad(tr.getSeconds(),Hn,2)}function formatWeekdayNumberMonday(tr){var Hn=tr.getDay();return Hn===0?7:Hn}function formatWeekNumberSunday(tr,Hn){return pad(timeSunday.count(timeYear(tr)-1,tr),Hn,2)}function dISO(tr){var Hn=tr.getDay();return Hn>=4||Hn===0?timeThursday(tr):timeThursday.ceil(tr)}function formatWeekNumberISO(tr,Hn){return tr=dISO(tr),pad(timeThursday.count(timeYear(tr),tr)+(timeYear(tr).getDay()===4),Hn,2)}function formatWeekdayNumberSunday(tr){return tr.getDay()}function formatWeekNumberMonday(tr,Hn){return pad(timeMonday.count(timeYear(tr)-1,tr),Hn,2)}function formatYear$1(tr,Hn){return pad(tr.getFullYear()%100,Hn,2)}function formatYearISO(tr,Hn){return tr=dISO(tr),pad(tr.getFullYear()%100,Hn,2)}function formatFullYear(tr,Hn){return pad(tr.getFullYear()%1e4,Hn,4)}function formatFullYearISO(tr,Hn){var er=tr.getDay();return tr=er>=4||er===0?timeThursday(tr):timeThursday.ceil(tr),pad(tr.getFullYear()%1e4,Hn,4)}function formatZone(tr){var Hn=tr.getTimezoneOffset();return(Hn>0?"-":(Hn*=-1,"+"))+pad(Hn/60|0,"0",2)+pad(Hn%60,"0",2)}function formatUTCDayOfMonth(tr,Hn){return pad(tr.getUTCDate(),Hn,2)}function formatUTCHour24(tr,Hn){return pad(tr.getUTCHours(),Hn,2)}function formatUTCHour12(tr,Hn){return pad(tr.getUTCHours()%12||12,Hn,2)}function formatUTCDayOfYear(tr,Hn){return pad(1+utcDay.count(utcYear(tr),tr),Hn,3)}function formatUTCMilliseconds(tr,Hn){return pad(tr.getUTCMilliseconds(),Hn,3)}function formatUTCMicroseconds(tr,Hn){return formatUTCMilliseconds(tr,Hn)+"000"}function formatUTCMonthNumber(tr,Hn){return pad(tr.getUTCMonth()+1,Hn,2)}function formatUTCMinutes(tr,Hn){return pad(tr.getUTCMinutes(),Hn,2)}function formatUTCSeconds(tr,Hn){return pad(tr.getUTCSeconds(),Hn,2)}function formatUTCWeekdayNumberMonday(tr){var Hn=tr.getUTCDay();return Hn===0?7:Hn}function formatUTCWeekNumberSunday(tr,Hn){return pad(utcSunday.count(utcYear(tr)-1,tr),Hn,2)}function UTCdISO(tr){var Hn=tr.getUTCDay();return Hn>=4||Hn===0?utcThursday(tr):utcThursday.ceil(tr)}function formatUTCWeekNumberISO(tr,Hn){return tr=UTCdISO(tr),pad(utcThursday.count(utcYear(tr),tr)+(utcYear(tr).getUTCDay()===4),Hn,2)}function formatUTCWeekdayNumberSunday(tr){return tr.getUTCDay()}function formatUTCWeekNumberMonday(tr,Hn){return pad(utcMonday.count(utcYear(tr)-1,tr),Hn,2)}function formatUTCYear(tr,Hn){return pad(tr.getUTCFullYear()%100,Hn,2)}function formatUTCYearISO(tr,Hn){return tr=UTCdISO(tr),pad(tr.getUTCFullYear()%100,Hn,2)}function formatUTCFullYear(tr,Hn){return pad(tr.getUTCFullYear()%1e4,Hn,4)}function formatUTCFullYearISO(tr,Hn){var er=tr.getUTCDay();return tr=er>=4||er===0?utcThursday(tr):utcThursday.ceil(tr),pad(tr.getUTCFullYear()%1e4,Hn,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(tr){return+tr}function formatUnixTimestampSeconds(tr){return Math.floor(+tr/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(tr){return locale=formatLocale(tr),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(tr){return new Date(tr)}function number(tr){return tr instanceof Date?+tr:+new Date(+tr)}function calendar(tr,Hn,er,nr,ir,rr,sr,ar,or,lr){var cr=continuous(),ur=cr.invert,dr=cr.domain,fr=lr(".%L"),xr=lr(":%S"),yr=lr("%I:%M"),_r=lr("%I %p"),Sr=lr("%a %d"),jr=lr("%b %d"),Dr=lr("%B"),Ir=lr("%Y");function Mr(Or){return(or(Or)<Or?fr:ar(Or)<Or?xr:sr(Or)<Or?yr:rr(Or)<Or?_r:nr(Or)<Or?ir(Or)<Or?Sr:jr:er(Or)<Or?Dr:Ir)(Or)}return cr.invert=function(Or){return new Date(ur(Or))},cr.domain=function(Or){return arguments.length?dr(Array.from(Or,number)):dr().map(date)},cr.ticks=function(Or){var Lr=dr();return tr(Lr[0],Lr[Lr.length-1],Or??10)},cr.tickFormat=function(Or,Lr){return Lr==null?Mr:lr(Lr)},cr.nice=function(Or){var Lr=dr();return(!Or||typeof Or.range!="function")&&(Or=Hn(Lr[0],Lr[Lr.length-1],Or??10)),Or?dr(nice(Lr,Or)):cr},cr.copy=function(){return copy$1(cr,calendar(tr,Hn,er,nr,ir,rr,sr,ar,or,lr))},cr}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var tr=0,Hn=1,er,nr,ir,rr,sr=identity$3,ar=!1,or;function lr(ur){return ur==null||isNaN(ur=+ur)?or:sr(ir===0?.5:(ur=(rr(ur)-er)*ir,ar?Math.max(0,Math.min(1,ur)):ur))}lr.domain=function(ur){return arguments.length?([tr,Hn]=ur,er=rr(tr=+tr),nr=rr(Hn=+Hn),ir=er===nr?0:1/(nr-er),lr):[tr,Hn]},lr.clamp=function(ur){return arguments.length?(ar=!!ur,lr):ar},lr.interpolator=function(ur){return arguments.length?(sr=ur,lr):sr};function cr(ur){return function(dr){var fr,xr;return arguments.length?([fr,xr]=dr,sr=ur(fr,xr),lr):[sr(0),sr(1)]}}return lr.range=cr(interpolate),lr.rangeRound=cr(interpolateRound),lr.unknown=function(ur){return arguments.length?(or=ur,lr):or},function(ur){return rr=ur,er=ur(tr),nr=ur(Hn),ir=er===nr?0:1/(nr-er),lr}}function copy(tr,Hn){return Hn.domain(tr.domain()).interpolator(tr.interpolator()).clamp(tr.clamp()).unknown(tr.unknown())}function sequential(){var tr=linearish(transformer$1()(identity$3));return tr.copy=function(){return copy(tr,sequential())},initInterpolator.apply(tr,arguments)}function sequentialLog(){var tr=loggish(transformer$1()).domain([1,10]);return tr.copy=function(){return copy(tr,sequentialLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function sequentialSymlog(){var tr=symlogish(transformer$1());return tr.copy=function(){return copy(tr,sequentialSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function sequentialPow(){var tr=powish(transformer$1());return tr.copy=function(){return copy(tr,sequentialPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var tr=[],Hn=identity$3;function er(nr){if(nr!=null&&!isNaN(nr=+nr))return Hn((bisectRight(tr,nr,1)-1)/(tr.length-1))}return er.domain=function(nr){if(!arguments.length)return tr.slice();tr=[];for(let ir of nr)ir!=null&&!isNaN(ir=+ir)&&tr.push(ir);return tr.sort(ascending),er},er.interpolator=function(nr){return arguments.length?(Hn=nr,er):Hn},er.range=function(){return tr.map((nr,ir)=>Hn(ir/(tr.length-1)))},er.quantiles=function(nr){return Array.from({length:nr+1},(ir,rr)=>quantile$1(tr,rr/nr))},er.copy=function(){return sequentialQuantile(Hn).domain(tr)},initInterpolator.apply(er,arguments)}function transformer(){var tr=0,Hn=.5,er=1,nr=1,ir,rr,sr,ar,or,lr=identity$3,cr,ur=!1,dr;function fr(yr){return isNaN(yr=+yr)?dr:(yr=.5+((yr=+cr(yr))-rr)*(nr*yr<nr*rr?ar:or),lr(ur?Math.max(0,Math.min(1,yr)):yr))}fr.domain=function(yr){return arguments.length?([tr,Hn,er]=yr,ir=cr(tr=+tr),rr=cr(Hn=+Hn),sr=cr(er=+er),ar=ir===rr?0:.5/(rr-ir),or=rr===sr?0:.5/(sr-rr),nr=rr<ir?-1:1,fr):[tr,Hn,er]},fr.clamp=function(yr){return arguments.length?(ur=!!yr,fr):ur},fr.interpolator=function(yr){return arguments.length?(lr=yr,fr):lr};function xr(yr){return function(_r){var Sr,jr,Dr;return arguments.length?([Sr,jr,Dr]=_r,lr=piecewise(yr,[Sr,jr,Dr]),fr):[lr(0),lr(.5),lr(1)]}}return fr.range=xr(interpolate),fr.rangeRound=xr(interpolateRound),fr.unknown=function(yr){return arguments.length?(dr=yr,fr):dr},function(yr){return cr=yr,ir=yr(tr),rr=yr(Hn),sr=yr(er),ar=ir===rr?0:.5/(rr-ir),or=rr===sr?0:.5/(sr-rr),nr=rr<ir?-1:1,fr}}function diverging(){var tr=linearish(transformer()(identity$3));return tr.copy=function(){return copy(tr,diverging())},initInterpolator.apply(tr,arguments)}function divergingLog(){var tr=loggish(transformer()).domain([.1,1,10]);return tr.copy=function(){return copy(tr,divergingLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function divergingSymlog(){var tr=symlogish(transformer());return tr.copy=function(){return copy(tr,divergingSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function divergingPow(){var tr=powish(transformer());return tr.copy=function(){return copy(tr,divergingPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=tr=>tr.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],tr=>{var Hn=tr.chartData!=null?tr.chartData.length-1:0;return{chartData:tr.chartData,computedData:tr.computedData,dataEndIndex:Hn,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(tr,Hn,er,nr)=>nr?selectChartDataAndAlwaysIgnoreIndexes(tr):selectChartDataWithIndexes(tr);function isWellFormedNumberDomain(tr){if(Array.isArray(tr)&&tr.length===2){var[Hn,er]=tr;if(isWellBehavedNumber(Hn)&&isWellBehavedNumber(er))return!0}return!1}function extendDomain(tr,Hn,er){return er?tr:[Math.min(tr[0],Hn[0]),Math.max(tr[1],Hn[1])]}function numericalDomainSpecifiedWithoutRequiringData(tr,Hn){if(Hn&&typeof tr!="function"&&Array.isArray(tr)&&tr.length===2){var[er,nr]=tr,ir,rr;if(isWellBehavedNumber(er))ir=er;else if(typeof er=="function")return;if(isWellBehavedNumber(nr))rr=nr;else if(typeof nr=="function")return;var sr=[ir,rr];if(isWellFormedNumberDomain(sr))return sr}}function parseNumericalUserDomain(tr,Hn,er){if(!(!er&&Hn==null)){if(typeof tr=="function"&&Hn!=null)try{var nr=tr(Hn,er);if(isWellFormedNumberDomain(nr))return extendDomain(nr,Hn,er)}catch{}if(Array.isArray(tr)&&tr.length===2){var[ir,rr]=tr,sr,ar;if(ir==="auto")Hn!=null&&(sr=Math.min(...Hn));else if(isNumber(ir))sr=ir;else if(typeof ir=="function")try{Hn!=null&&(sr=ir(Hn?.[0]))}catch{}else if(typeof ir=="string"&&MIN_VALUE_REG.test(ir)){var or=MIN_VALUE_REG.exec(ir);if(or==null||Hn==null)sr=void 0;else{var lr=+or[1];sr=Hn[0]-lr}}else sr=Hn?.[0];if(rr==="auto")Hn!=null&&(ar=Math.max(...Hn));else if(isNumber(rr))ar=rr;else if(typeof rr=="function")try{Hn!=null&&(ar=rr(Hn?.[1]))}catch{}else if(typeof rr=="string"&&MAX_VALUE_REG.test(rr)){var cr=MAX_VALUE_REG.exec(rr);if(cr==null||Hn==null)ar=void 0;else{var ur=+cr[1];ar=Hn[1]+ur}}else ar=Hn?.[1];var dr=[sr,ar];if(isWellFormedNumberDomain(dr))return Hn==null?dr:extendDomain(dr,Hn,er)}}}var MAX_DIGITS=1e9,defaults$2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$2={};P$2.absoluteValue=P$2.abs=function(){var tr=new this.constructor(this);return tr.s&&(tr.s=1),tr};P$2.comparedTo=P$2.cmp=function(tr){var Hn,er,nr,ir,rr=this;if(tr=new rr.constructor(tr),rr.s!==tr.s)return rr.s||-tr.s;if(rr.e!==tr.e)return rr.e>tr.e^rr.s<0?1:-1;for(nr=rr.d.length,ir=tr.d.length,Hn=0,er=nr<ir?nr:ir;Hn<er;++Hn)if(rr.d[Hn]!==tr.d[Hn])return rr.d[Hn]>tr.d[Hn]^rr.s<0?1:-1;return nr===ir?0:nr>ir^rr.s<0?1:-1};P$2.decimalPlaces=P$2.dp=function(){var tr=this,Hn=tr.d.length-1,er=(Hn-tr.e)*LOG_BASE;if(Hn=tr.d[Hn],Hn)for(;Hn%10==0;Hn/=10)er--;return er<0?0:er};P$2.dividedBy=P$2.div=function(tr){return divide(this,new this.constructor(tr))};P$2.dividedToIntegerBy=P$2.idiv=function(tr){var Hn=this,er=Hn.constructor;return round$1(divide(Hn,new er(tr),0,1),er.precision)};P$2.equals=P$2.eq=function(tr){return!this.cmp(tr)};P$2.exponent=function(){return getBase10Exponent(this)};P$2.greaterThan=P$2.gt=function(tr){return this.cmp(tr)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(tr){return this.cmp(tr)>=0};P$2.isInteger=P$2.isint=function(){return this.e>this.d.length-2};P$2.isNegative=P$2.isneg=function(){return this.s<0};P$2.isPositive=P$2.ispos=function(){return this.s>0};P$2.isZero=function(){return this.s===0};P$2.lessThan=P$2.lt=function(tr){return this.cmp(tr)<0};P$2.lessThanOrEqualTo=P$2.lte=function(tr){return this.cmp(tr)<1};P$2.logarithm=P$2.log=function(tr){var Hn,er=this,nr=er.constructor,ir=nr.precision,rr=ir+5;if(tr===void 0)tr=new nr(10);else if(tr=new nr(tr),tr.s<1||tr.eq(ONE))throw Error(decimalError+"NaN");if(er.s<1)throw Error(decimalError+(er.s?"NaN":"-Infinity"));return er.eq(ONE)?new nr(0):(external=!1,Hn=divide(ln$1(er,rr),ln$1(tr,rr),rr),external=!0,round$1(Hn,ir))};P$2.minus=P$2.sub=function(tr){var Hn=this;return tr=new Hn.constructor(tr),Hn.s==tr.s?subtract(Hn,tr):add(Hn,(tr.s=-tr.s,tr))};P$2.modulo=P$2.mod=function(tr){var Hn,er=this,nr=er.constructor,ir=nr.precision;if(tr=new nr(tr),!tr.s)throw Error(decimalError+"NaN");return er.s?(external=!1,Hn=divide(er,tr,0,1).times(tr),external=!0,er.minus(Hn)):round$1(new nr(er),ir)};P$2.naturalExponential=P$2.exp=function(){return exp(this)};P$2.naturalLogarithm=P$2.ln=function(){return ln$1(this)};P$2.negated=P$2.neg=function(){var tr=new this.constructor(this);return tr.s=-tr.s||0,tr};P$2.plus=P$2.add=function(tr){var Hn=this;return tr=new Hn.constructor(tr),Hn.s==tr.s?add(Hn,tr):subtract(Hn,(tr.s=-tr.s,tr))};P$2.precision=P$2.sd=function(tr){var Hn,er,nr,ir=this;if(tr!==void 0&&tr!==!!tr&&tr!==1&&tr!==0)throw Error(invalidArgument+tr);if(Hn=getBase10Exponent(ir)+1,nr=ir.d.length-1,er=nr*LOG_BASE+1,nr=ir.d[nr],nr){for(;nr%10==0;nr/=10)er--;for(nr=ir.d[0];nr>=10;nr/=10)er++}return tr&&Hn>er?Hn:er};P$2.squareRoot=P$2.sqrt=function(){var tr,Hn,er,nr,ir,rr,sr,ar=this,or=ar.constructor;if(ar.s<1){if(!ar.s)return new or(0);throw Error(decimalError+"NaN")}for(tr=getBase10Exponent(ar),external=!1,ir=Math.sqrt(+ar),ir==0||ir==1/0?(Hn=digitsToString(ar.d),(Hn.length+tr)%2==0&&(Hn+="0"),ir=Math.sqrt(Hn),tr=mathfloor((tr+1)/2)-(tr<0||tr%2),ir==1/0?Hn="5e"+tr:(Hn=ir.toExponential(),Hn=Hn.slice(0,Hn.indexOf("e")+1)+tr),nr=new or(Hn)):nr=new or(ir.toString()),er=or.precision,ir=sr=er+3;;)if(rr=nr,nr=rr.plus(divide(ar,rr,sr+2)).times(.5),digitsToString(rr.d).slice(0,sr)===(Hn=digitsToString(nr.d)).slice(0,sr)){if(Hn=Hn.slice(sr-3,sr+1),ir==sr&&Hn=="4999"){if(round$1(rr,er+1,0),rr.times(rr).eq(ar)){nr=rr;break}}else if(Hn!="9999")break;sr+=4}return external=!0,round$1(nr,er)};P$2.times=P$2.mul=function(tr){var Hn,er,nr,ir,rr,sr,ar,or,lr,cr=this,ur=cr.constructor,dr=cr.d,fr=(tr=new ur(tr)).d;if(!cr.s||!tr.s)return new ur(0);for(tr.s*=cr.s,er=cr.e+tr.e,or=dr.length,lr=fr.length,or<lr&&(rr=dr,dr=fr,fr=rr,sr=or,or=lr,lr=sr),rr=[],sr=or+lr,nr=sr;nr--;)rr.push(0);for(nr=lr;--nr>=0;){for(Hn=0,ir=or+nr;ir>nr;)ar=rr[ir]+fr[nr]*dr[ir-nr-1]+Hn,rr[ir--]=ar%BASE|0,Hn=ar/BASE|0;rr[ir]=(rr[ir]+Hn)%BASE|0}for(;!rr[--sr];)rr.pop();return Hn?++er:rr.shift(),tr.d=rr,tr.e=er,external?round$1(tr,ur.precision):tr};P$2.toDecimalPlaces=P$2.todp=function(tr,Hn){var er=this,nr=er.constructor;return er=new nr(er),tr===void 0?er:(checkInt32(tr,0,MAX_DIGITS),Hn===void 0?Hn=nr.rounding:checkInt32(Hn,0,8),round$1(er,tr+getBase10Exponent(er)+1,Hn))};P$2.toExponential=function(tr,Hn){var er,nr=this,ir=nr.constructor;return tr===void 0?er=toString(nr,!0):(checkInt32(tr,0,MAX_DIGITS),Hn===void 0?Hn=ir.rounding:checkInt32(Hn,0,8),nr=round$1(new ir(nr),tr+1,Hn),er=toString(nr,!0,tr+1)),er};P$2.toFixed=function(tr,Hn){var er,nr,ir=this,rr=ir.constructor;return tr===void 0?toString(ir):(checkInt32(tr,0,MAX_DIGITS),Hn===void 0?Hn=rr.rounding:checkInt32(Hn,0,8),nr=round$1(new rr(ir),tr+getBase10Exponent(ir)+1,Hn),er=toString(nr.abs(),!1,tr+getBase10Exponent(nr)+1),ir.isneg()&&!ir.isZero()?"-"+er:er)};P$2.toInteger=P$2.toint=function(){var tr=this,Hn=tr.constructor;return round$1(new Hn(tr),getBase10Exponent(tr)+1,Hn.rounding)};P$2.toNumber=function(){return+this};P$2.toPower=P$2.pow=function(tr){var Hn,er,nr,ir,rr,sr,ar=this,or=ar.constructor,lr=12,cr=+(tr=new or(tr));if(!tr.s)return new or(ONE);if(ar=new or(ar),!ar.s){if(tr.s<1)throw Error(decimalError+"Infinity");return ar}if(ar.eq(ONE))return ar;if(nr=or.precision,tr.eq(ONE))return round$1(ar,nr);if(Hn=tr.e,er=tr.d.length-1,sr=Hn>=er,rr=ar.s,sr){if((er=cr<0?-cr:cr)<=MAX_SAFE_INTEGER){for(ir=new or(ONE),Hn=Math.ceil(nr/LOG_BASE+4),external=!1;er%2&&(ir=ir.times(ar),truncate(ir.d,Hn)),er=mathfloor(er/2),er!==0;)ar=ar.times(ar),truncate(ar.d,Hn);return external=!0,tr.s<0?new or(ONE).div(ir):round$1(ir,nr)}}else if(rr<0)throw Error(decimalError+"NaN");return rr=rr<0&&tr.d[Math.max(Hn,er)]&1?-1:1,ar.s=1,external=!1,ir=tr.times(ln$1(ar,nr+lr)),external=!0,ir=exp(ir),ir.s=rr,ir};P$2.toPrecision=function(tr,Hn){var er,nr,ir=this,rr=ir.constructor;return tr===void 0?(er=getBase10Exponent(ir),nr=toString(ir,er<=rr.toExpNeg||er>=rr.toExpPos)):(checkInt32(tr,1,MAX_DIGITS),Hn===void 0?Hn=rr.rounding:checkInt32(Hn,0,8),ir=round$1(new rr(ir),tr,Hn),er=getBase10Exponent(ir),nr=toString(ir,tr<=er||er<=rr.toExpNeg,tr)),nr};P$2.toSignificantDigits=P$2.tosd=function(tr,Hn){var er=this,nr=er.constructor;return tr===void 0?(tr=nr.precision,Hn=nr.rounding):(checkInt32(tr,1,MAX_DIGITS),Hn===void 0?Hn=nr.rounding:checkInt32(Hn,0,8)),round$1(new nr(er),tr,Hn)};P$2.toString=P$2.valueOf=P$2.val=P$2.toJSON=P$2[Symbol.for("nodejs.util.inspect.custom")]=function(){var tr=this,Hn=getBase10Exponent(tr),er=tr.constructor;return toString(tr,Hn<=er.toExpNeg||Hn>=er.toExpPos)};function add(tr,Hn){var er,nr,ir,rr,sr,ar,or,lr,cr=tr.constructor,ur=cr.precision;if(!tr.s||!Hn.s)return Hn.s||(Hn=new cr(tr)),external?round$1(Hn,ur):Hn;if(or=tr.d,lr=Hn.d,sr=tr.e,ir=Hn.e,or=or.slice(),rr=sr-ir,rr){for(rr<0?(nr=or,rr=-rr,ar=lr.length):(nr=lr,ir=sr,ar=or.length),sr=Math.ceil(ur/LOG_BASE),ar=sr>ar?sr+1:ar+1,rr>ar&&(rr=ar,nr.length=1),nr.reverse();rr--;)nr.push(0);nr.reverse()}for(ar=or.length,rr=lr.length,ar-rr<0&&(rr=ar,nr=lr,lr=or,or=nr),er=0;rr;)er=(or[--rr]=or[rr]+lr[rr]+er)/BASE|0,or[rr]%=BASE;for(er&&(or.unshift(er),++ir),ar=or.length;or[--ar]==0;)or.pop();return Hn.d=or,Hn.e=ir,external?round$1(Hn,ur):Hn}function checkInt32(tr,Hn,er){if(tr!==~~tr||tr<Hn||tr>er)throw Error(invalidArgument+tr)}function digitsToString(tr){var Hn,er,nr,ir=tr.length-1,rr="",sr=tr[0];if(ir>0){for(rr+=sr,Hn=1;Hn<ir;Hn++)nr=tr[Hn]+"",er=LOG_BASE-nr.length,er&&(rr+=getZeroString(er)),rr+=nr;sr=tr[Hn],nr=sr+"",er=LOG_BASE-nr.length,er&&(rr+=getZeroString(er))}else if(sr===0)return"0";for(;sr%10===0;)sr/=10;return rr+sr}var divide=(function(){function tr(nr,ir){var rr,sr=0,ar=nr.length;for(nr=nr.slice();ar--;)rr=nr[ar]*ir+sr,nr[ar]=rr%BASE|0,sr=rr/BASE|0;return sr&&nr.unshift(sr),nr}function Hn(nr,ir,rr,sr){var ar,or;if(rr!=sr)or=rr>sr?1:-1;else for(ar=or=0;ar<rr;ar++)if(nr[ar]!=ir[ar]){or=nr[ar]>ir[ar]?1:-1;break}return or}function er(nr,ir,rr){for(var sr=0;rr--;)nr[rr]-=sr,sr=nr[rr]<ir[rr]?1:0,nr[rr]=sr*BASE+nr[rr]-ir[rr];for(;!nr[0]&&nr.length>1;)nr.shift()}return function(nr,ir,rr,sr){var ar,or,lr,cr,ur,dr,fr,xr,yr,_r,Sr,jr,Dr,Ir,Mr,Or,Lr,Fr,Vr=nr.constructor,Zr=nr.s==ir.s?1:-1,Hr=nr.d,Yr=ir.d;if(!nr.s)return new Vr(nr);if(!ir.s)throw Error(decimalError+"Division by zero");for(or=nr.e-ir.e,Lr=Yr.length,Mr=Hr.length,fr=new Vr(Zr),xr=fr.d=[],lr=0;Yr[lr]==(Hr[lr]||0);)++lr;if(Yr[lr]>(Hr[lr]||0)&&--or,rr==null?jr=rr=Vr.precision:sr?jr=rr+(getBase10Exponent(nr)-getBase10Exponent(ir))+1:jr=rr,jr<0)return new Vr(0);if(jr=jr/LOG_BASE+2|0,lr=0,Lr==1)for(cr=0,Yr=Yr[0],jr++;(lr<Mr||cr)&&jr--;lr++)Dr=cr*BASE+(Hr[lr]||0),xr[lr]=Dr/Yr|0,cr=Dr%Yr|0;else{for(cr=BASE/(Yr[0]+1)|0,cr>1&&(Yr=tr(Yr,cr),Hr=tr(Hr,cr),Lr=Yr.length,Mr=Hr.length),Ir=Lr,yr=Hr.slice(0,Lr),_r=yr.length;_r<Lr;)yr[_r++]=0;Fr=Yr.slice(),Fr.unshift(0),Or=Yr[0],Yr[1]>=BASE/2&&++Or;do cr=0,ar=Hn(Yr,yr,Lr,_r),ar<0?(Sr=yr[0],Lr!=_r&&(Sr=Sr*BASE+(yr[1]||0)),cr=Sr/Or|0,cr>1?(cr>=BASE&&(cr=BASE-1),ur=tr(Yr,cr),dr=ur.length,_r=yr.length,ar=Hn(ur,yr,dr,_r),ar==1&&(cr--,er(ur,Lr<dr?Fr:Yr,dr))):(cr==0&&(ar=cr=1),ur=Yr.slice()),dr=ur.length,dr<_r&&ur.unshift(0),er(yr,ur,_r),ar==-1&&(_r=yr.length,ar=Hn(Yr,yr,Lr,_r),ar<1&&(cr++,er(yr,Lr<_r?Fr:Yr,_r))),_r=yr.length):ar===0&&(cr++,yr=[0]),xr[lr++]=cr,ar&&yr[0]?yr[_r++]=Hr[Ir]||0:(yr=[Hr[Ir]],_r=1);while((Ir++<Mr||yr[0]!==void 0)&&jr--)}return xr[0]||xr.shift(),fr.e=or,round$1(fr,sr?rr+getBase10Exponent(fr)+1:rr)}})();function exp(tr,Hn){var er,nr,ir,rr,sr,ar,or=0,lr=0,cr=tr.constructor,ur=cr.precision;if(getBase10Exponent(tr)>16)throw Error(exponentOutOfRange+getBase10Exponent(tr));if(!tr.s)return new cr(ONE);for(external=!1,ar=ur,sr=new cr(.03125);tr.abs().gte(.1);)tr=tr.times(sr),lr+=5;for(nr=Math.log(mathpow(2,lr))/Math.LN10*2+5|0,ar+=nr,er=ir=rr=new cr(ONE),cr.precision=ar;;){if(ir=round$1(ir.times(tr),ar),er=er.times(++or),sr=rr.plus(divide(ir,er,ar)),digitsToString(sr.d).slice(0,ar)===digitsToString(rr.d).slice(0,ar)){for(;lr--;)rr=round$1(rr.times(rr),ar);return cr.precision=ur,Hn==null?(external=!0,round$1(rr,ur)):rr}rr=sr}}function getBase10Exponent(tr){for(var Hn=tr.e*LOG_BASE,er=tr.d[0];er>=10;er/=10)Hn++;return Hn}function getLn10(tr,Hn,er){if(Hn>tr.LN10.sd())throw external=!0,er&&(tr.precision=er),Error(decimalError+"LN10 precision limit exceeded");return round$1(new tr(tr.LN10),Hn)}function getZeroString(tr){for(var Hn="";tr--;)Hn+="0";return Hn}function ln$1(tr,Hn){var er,nr,ir,rr,sr,ar,or,lr,cr,ur=1,dr=10,fr=tr,xr=fr.d,yr=fr.constructor,_r=yr.precision;if(fr.s<1)throw Error(decimalError+(fr.s?"NaN":"-Infinity"));if(fr.eq(ONE))return new yr(0);if(Hn==null?(external=!1,lr=_r):lr=Hn,fr.eq(10))return Hn==null&&(external=!0),getLn10(yr,lr);if(lr+=dr,yr.precision=lr,er=digitsToString(xr),nr=er.charAt(0),rr=getBase10Exponent(fr),Math.abs(rr)<15e14){for(;nr<7&&nr!=1||nr==1&&er.charAt(1)>3;)fr=fr.times(tr),er=digitsToString(fr.d),nr=er.charAt(0),ur++;rr=getBase10Exponent(fr),nr>1?(fr=new yr("0."+er),rr++):fr=new yr(nr+"."+er.slice(1))}else return or=getLn10(yr,lr+2,_r).times(rr+""),fr=ln$1(new yr(nr+"."+er.slice(1)),lr-dr).plus(or),yr.precision=_r,Hn==null?(external=!0,round$1(fr,_r)):fr;for(ar=sr=fr=divide(fr.minus(ONE),fr.plus(ONE),lr),cr=round$1(fr.times(fr),lr),ir=3;;){if(sr=round$1(sr.times(cr),lr),or=ar.plus(divide(sr,new yr(ir),lr)),digitsToString(or.d).slice(0,lr)===digitsToString(ar.d).slice(0,lr))return ar=ar.times(2),rr!==0&&(ar=ar.plus(getLn10(yr,lr+2,_r).times(rr+""))),ar=divide(ar,new yr(ur),lr),yr.precision=_r,Hn==null?(external=!0,round$1(ar,_r)):ar;ar=or,ir+=2}}function parseDecimal(tr,Hn){var er,nr,ir;for((er=Hn.indexOf("."))>-1&&(Hn=Hn.replace(".","")),(nr=Hn.search(/e/i))>0?(er<0&&(er=nr),er+=+Hn.slice(nr+1),Hn=Hn.substring(0,nr)):er<0&&(er=Hn.length),nr=0;Hn.charCodeAt(nr)===48;)++nr;for(ir=Hn.length;Hn.charCodeAt(ir-1)===48;)--ir;if(Hn=Hn.slice(nr,ir),Hn){if(ir-=nr,er=er-nr-1,tr.e=mathfloor(er/LOG_BASE),tr.d=[],nr=(er+1)%LOG_BASE,er<0&&(nr+=LOG_BASE),nr<ir){for(nr&&tr.d.push(+Hn.slice(0,nr)),ir-=LOG_BASE;nr<ir;)tr.d.push(+Hn.slice(nr,nr+=LOG_BASE));Hn=Hn.slice(nr),nr=LOG_BASE-Hn.length}else nr-=ir;for(;nr--;)Hn+="0";if(tr.d.push(+Hn),external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+er)}else tr.s=0,tr.e=0,tr.d=[0];return tr}function round$1(tr,Hn,er){var nr,ir,rr,sr,ar,or,lr,cr,ur=tr.d;for(sr=1,rr=ur[0];rr>=10;rr/=10)sr++;if(nr=Hn-sr,nr<0)nr+=LOG_BASE,ir=Hn,lr=ur[cr=0];else{if(cr=Math.ceil((nr+1)/LOG_BASE),rr=ur.length,cr>=rr)return tr;for(lr=rr=ur[cr],sr=1;rr>=10;rr/=10)sr++;nr%=LOG_BASE,ir=nr-LOG_BASE+sr}if(er!==void 0&&(rr=mathpow(10,sr-ir-1),ar=lr/rr%10|0,or=Hn<0||ur[cr+1]!==void 0||lr%rr,or=er<4?(ar||or)&&(er==0||er==(tr.s<0?3:2)):ar>5||ar==5&&(er==4||or||er==6&&(nr>0?ir>0?lr/mathpow(10,sr-ir):0:ur[cr-1])%10&1||er==(tr.s<0?8:7))),Hn<1||!ur[0])return or?(rr=getBase10Exponent(tr),ur.length=1,Hn=Hn-rr-1,ur[0]=mathpow(10,(LOG_BASE-Hn%LOG_BASE)%LOG_BASE),tr.e=mathfloor(-Hn/LOG_BASE)||0):(ur.length=1,ur[0]=tr.e=tr.s=0),tr;if(nr==0?(ur.length=cr,rr=1,cr--):(ur.length=cr+1,rr=mathpow(10,LOG_BASE-nr),ur[cr]=ir>0?(lr/mathpow(10,sr-ir)%mathpow(10,ir)|0)*rr:0),or)for(;;)if(cr==0){(ur[0]+=rr)==BASE&&(ur[0]=1,++tr.e);break}else{if(ur[cr]+=rr,ur[cr]!=BASE)break;ur[cr--]=0,rr=1}for(nr=ur.length;ur[--nr]===0;)ur.pop();if(external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(tr));return tr}function subtract(tr,Hn){var er,nr,ir,rr,sr,ar,or,lr,cr,ur,dr=tr.constructor,fr=dr.precision;if(!tr.s||!Hn.s)return Hn.s?Hn.s=-Hn.s:Hn=new dr(tr),external?round$1(Hn,fr):Hn;if(or=tr.d,ur=Hn.d,nr=Hn.e,lr=tr.e,or=or.slice(),sr=lr-nr,sr){for(cr=sr<0,cr?(er=or,sr=-sr,ar=ur.length):(er=ur,nr=lr,ar=or.length),ir=Math.max(Math.ceil(fr/LOG_BASE),ar)+2,sr>ir&&(sr=ir,er.length=1),er.reverse(),ir=sr;ir--;)er.push(0);er.reverse()}else{for(ir=or.length,ar=ur.length,cr=ir<ar,cr&&(ar=ir),ir=0;ir<ar;ir++)if(or[ir]!=ur[ir]){cr=or[ir]<ur[ir];break}sr=0}for(cr&&(er=or,or=ur,ur=er,Hn.s=-Hn.s),ar=or.length,ir=ur.length-ar;ir>0;--ir)or[ar++]=0;for(ir=ur.length;ir>sr;){if(or[--ir]<ur[ir]){for(rr=ir;rr&&or[--rr]===0;)or[rr]=BASE-1;--or[rr],or[ir]+=BASE}or[ir]-=ur[ir]}for(;or[--ar]===0;)or.pop();for(;or[0]===0;or.shift())--nr;return or[0]?(Hn.d=or,Hn.e=nr,external?round$1(Hn,fr):Hn):new dr(0)}function toString(tr,Hn,er){var nr,ir=getBase10Exponent(tr),rr=digitsToString(tr.d),sr=rr.length;return Hn?(er&&(nr=er-sr)>0?rr=rr.charAt(0)+"."+rr.slice(1)+getZeroString(nr):sr>1&&(rr=rr.charAt(0)+"."+rr.slice(1)),rr=rr+(ir<0?"e":"e+")+ir):ir<0?(rr="0."+getZeroString(-ir-1)+rr,er&&(nr=er-sr)>0&&(rr+=getZeroString(nr))):ir>=sr?(rr+=getZeroString(ir+1-sr),er&&(nr=er-ir-1)>0&&(rr=rr+"."+getZeroString(nr))):((nr=ir+1)<sr&&(rr=rr.slice(0,nr)+"."+rr.slice(nr)),er&&(nr=er-sr)>0&&(ir+1===sr&&(rr+="."),rr+=getZeroString(nr))),tr.s<0?"-"+rr:rr}function truncate(tr,Hn){if(tr.length>Hn)return tr.length=Hn,!0}function clone(tr){var Hn,er,nr;function ir(rr){var sr=this;if(!(sr instanceof ir))return new ir(rr);if(sr.constructor=ir,rr instanceof ir){sr.s=rr.s,sr.e=rr.e,sr.d=(rr=rr.d)?rr.slice():rr;return}if(typeof rr=="number"){if(rr*0!==0)throw Error(invalidArgument+rr);if(rr>0)sr.s=1;else if(rr<0)rr=-rr,sr.s=-1;else{sr.s=0,sr.e=0,sr.d=[0];return}if(rr===~~rr&&rr<1e7){sr.e=0,sr.d=[rr];return}return parseDecimal(sr,rr.toString())}else if(typeof rr!="string")throw Error(invalidArgument+rr);if(rr.charCodeAt(0)===45?(rr=rr.slice(1),sr.s=-1):sr.s=1,isDecimal.test(rr))parseDecimal(sr,rr);else throw Error(invalidArgument+rr)}if(ir.prototype=P$2,ir.ROUND_UP=0,ir.ROUND_DOWN=1,ir.ROUND_CEIL=2,ir.ROUND_FLOOR=3,ir.ROUND_HALF_UP=4,ir.ROUND_HALF_DOWN=5,ir.ROUND_HALF_EVEN=6,ir.ROUND_HALF_CEIL=7,ir.ROUND_HALF_FLOOR=8,ir.clone=clone,ir.config=ir.set=config,tr===void 0&&(tr={}),tr)for(nr=["precision","rounding","toExpNeg","toExpPos","LN10"],Hn=0;Hn<nr.length;)tr.hasOwnProperty(er=nr[Hn++])||(tr[er]=this[er]);return ir.config(tr),ir}function config(tr){if(!tr||typeof tr!="object")throw Error(decimalError+"Object expected");var Hn,er,nr,ir=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(Hn=0;Hn<ir.length;Hn+=3)if((nr=tr[er=ir[Hn]])!==void 0)if(mathfloor(nr)===nr&&nr>=ir[Hn+1]&&nr<=ir[Hn+2])this[er]=nr;else throw Error(invalidArgument+er+": "+nr);if((nr=tr[er="LN10"])!==void 0)if(nr==Math.LN10)this[er]=new this(nr);else throw Error(invalidArgument+er+": "+nr);return this}var Decimal=clone(defaults$2);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=tr=>tr,PLACE_HOLDER={},isPlaceHolder=tr=>tr===PLACE_HOLDER,curry0=tr=>function Hn(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?Hn:tr(...arguments)},curryN=(tr,Hn)=>tr===1?Hn:curry0(function(){for(var er=arguments.length,nr=new Array(er),ir=0;ir<er;ir++)nr[ir]=arguments[ir];var rr=nr.filter(sr=>sr!==PLACE_HOLDER).length;return rr>=tr?Hn(...nr):curryN(tr-rr,curry0(function(){for(var sr=arguments.length,ar=new Array(sr),or=0;or<sr;or++)ar[or]=arguments[or];var lr=nr.map(cr=>isPlaceHolder(cr)?ar.shift():cr);return Hn(...lr,...ar)}))}),curry=tr=>curryN(tr.length,tr),range=(tr,Hn)=>{for(var er=[],nr=tr;nr<Hn;++nr)er[nr-tr]=nr;return er},map=curry((tr,Hn)=>Array.isArray(Hn)?Hn.map(tr):Object.keys(Hn).map(er=>Hn[er]).map(tr)),compose=function tr(){for(var Hn=arguments.length,er=new Array(Hn),nr=0;nr<Hn;nr++)er[nr]=arguments[nr];if(!er.length)return identity;var ir=er.reverse(),rr=ir[0],sr=ir.slice(1);return function(){return sr.reduce((ar,or)=>or(ar),rr(...arguments))}},reverse=tr=>Array.isArray(tr)?tr.reverse():tr.split("").reverse().join("");function getDigitCount(tr){var Hn;return tr===0?Hn=1:Hn=Math.floor(new Decimal$1(tr).abs().log(10).toNumber())+1,Hn}function rangeStep(tr,Hn,er){for(var nr=new Decimal$1(tr),ir=0,rr=[];nr.lt(Hn)&&ir<1e5;)rr.push(nr.toNumber()),nr=nr.add(er),ir++;return rr}var getValidInterval=tr=>{var[Hn,er]=tr,[nr,ir]=[Hn,er];return Hn>er&&([nr,ir]=[er,Hn]),[nr,ir]},getFormatStep=(tr,Hn,er)=>{if(tr.lte(0))return new Decimal$1(0);var nr=getDigitCount(tr.toNumber()),ir=new Decimal$1(10).pow(nr),rr=tr.div(ir),sr=nr!==1?.05:.1,ar=new Decimal$1(Math.ceil(rr.div(sr).toNumber())).add(er).mul(sr),or=ar.mul(ir);return Hn?new Decimal$1(or.toNumber()):new Decimal$1(Math.ceil(or.toNumber()))},getTickOfSingleValue=(tr,Hn,er)=>{var nr=new Decimal$1(1),ir=new Decimal$1(tr);if(!ir.isint()&&er){var rr=Math.abs(tr);rr<1?(nr=new Decimal$1(10).pow(getDigitCount(tr)-1),ir=new Decimal$1(Math.floor(ir.div(nr).toNumber())).mul(nr)):rr>1&&(ir=new Decimal$1(Math.floor(tr)))}else tr===0?ir=new Decimal$1(Math.floor((Hn-1)/2)):er||(ir=new Decimal$1(Math.floor(tr)));var sr=Math.floor((Hn-1)/2),ar=compose(map(or=>ir.add(new Decimal$1(or-sr).mul(nr)).toNumber()),range);return ar(0,Hn)},_calculateStep=function tr(Hn,er,nr,ir){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((er-Hn)/(nr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var sr=getFormatStep(new Decimal$1(er).sub(Hn).div(nr-1),ir,rr),ar;Hn<=0&&er>=0?ar=new Decimal$1(0):(ar=new Decimal$1(Hn).add(er).div(2),ar=ar.sub(new Decimal$1(ar).mod(sr)));var or=Math.ceil(ar.sub(Hn).div(sr).toNumber()),lr=Math.ceil(new Decimal$1(er).sub(ar).div(sr).toNumber()),cr=or+lr+1;return cr>nr?_calculateStep(Hn,er,nr,ir,rr+1):(cr<nr&&(lr=er>0?lr+(nr-cr):lr,or=er>0?or:or+(nr-cr)),{step:sr,tickMin:ar.sub(new Decimal$1(or).mul(sr)),tickMax:ar.add(new Decimal$1(lr).mul(sr))})},getNiceTickValues=function tr(Hn){var[er,nr]=Hn,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=Math.max(ir,2),[ar,or]=getValidInterval([er,nr]);if(ar===-1/0||or===1/0){var lr=or===1/0?[ar,...range(0,ir-1).map(()=>1/0)]:[...range(0,ir-1).map(()=>-1/0),or];return er>nr?reverse(lr):lr}if(ar===or)return getTickOfSingleValue(ar,ir,rr);var{step:cr,tickMin:ur,tickMax:dr}=_calculateStep(ar,or,sr,rr,0),fr=rangeStep(ur,dr.add(new Decimal$1(.1).mul(cr)),cr);return er>nr?reverse(fr):fr},getTickValuesFixedDomain=function tr(Hn,er){var[nr,ir]=Hn,rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[sr,ar]=getValidInterval([nr,ir]);if(sr===-1/0||ar===1/0)return[nr,ir];if(sr===ar)return[sr];var or=Math.max(er,2),lr=getFormatStep(new Decimal$1(ar).sub(sr).div(or-1),rr,0),cr=[...rangeStep(new Decimal$1(sr),new Decimal$1(ar),lr),ar];return rr===!1&&(cr=cr.map(ur=>Math.round(ur))),nr>ir?reverse(cr):cr},selectRootMaxBarSize=tr=>tr.rootProps.maxBarSize,selectBarGap=tr=>tr.rootProps.barGap,selectBarCategoryGap=tr=>tr.rootProps.barCategoryGap,selectRootBarSize=tr=>tr.rootProps.barSize,selectStackOffsetType=tr=>tr.rootProps.stackOffset,selectReverseStackOrder=tr=>tr.rootProps.reverseStackOrder,selectChartName=tr=>tr.options.chartName,selectSyncId=tr=>tr.rootProps.syncId,selectSyncMethod=tr=>tr.rootProps.syncMethod,selectEventEmitter=tr=>tr.options.eventEmitter,DefaultZIndexes={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(tr,Hn)=>{if(!(!tr||!Hn))return tr!=null&&tr.reversed?[Hn[1],Hn[0]]:Hn},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(tr,Hn)=>tr.polarAxis.angleAxis[Hn]!=null?tr.polarAxis.angleAxis[Hn]:tr.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(tr,Hn)=>tr.polarAxis.radiusAxis[Hn]!=null?tr.polarAxis.radiusAxis[Hn]:tr.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=tr=>tr.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(tr,Hn)=>{if(tr!=null)return getPercentValue(tr.innerRadius,Hn,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(tr,Hn)=>{if(tr!=null)return getPercentValue(tr.outerRadius,Hn,Hn*.8)}),combineAngleAxisRange=tr=>{if(tr==null)return[0,0];var{startAngle:Hn,endAngle:er}=tr;return[Hn,er]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(tr,Hn,er)=>{if(!(tr==null||Hn==null||er==null))return[Hn,er]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(tr,Hn,er,nr,ir,rr)=>{if(!(tr!=="centric"&&tr!=="radial"||Hn==null||er==null||nr==null)){var{cx:sr,cy:ar,startAngle:or,endAngle:lr}=Hn;return{cx:getPercentValue(sr,ir,ir/2),cy:getPercentValue(ar,rr,rr/2),innerRadius:er,outerRadius:nr,startAngle:or,endAngle:lr,clockWise:!1}}}),pickAxisType=(tr,Hn)=>Hn,pickAxisId=(tr,Hn,er)=>er;function getStackSeriesIdentifier(tr){return tr?.id}function combineDisplayedStackedData(tr,Hn,er){var{chartData:nr=[]}=Hn,{allowDuplicatedCategory:ir,dataKey:rr}=er,sr=new Map;return tr.forEach(ar=>{var or,lr=(or=ar.data)!==null&&or!==void 0?or:nr;if(!(lr==null||lr.length===0)){var cr=getStackSeriesIdentifier(ar);lr.forEach((ur,dr)=>{var fr=rr==null||ir?dr:String(getValueByDataKey(ur,rr,null)),xr=getValueByDataKey(ur,ar.dataKey,0),yr;sr.has(fr)?yr=sr.get(fr):yr={},Object.assign(yr,{[cr]:xr}),sr.set(fr,yr)})}}),Array.from(sr.values())}function isStacked(tr){return tr.stackId!=null&&tr.dataKey!=null}var numberDomainEqualityCheck=(tr,Hn)=>tr===Hn?!0:tr==null||Hn==null?!1:tr[0]===Hn[0]&&tr[1]===Hn[1];function emptyArraysAreEqualCheck(tr,Hn){return Array.isArray(tr)&&Array.isArray(Hn)&&tr.length===0&&Hn.length===0?!0:tr===Hn}function arrayContentsAreEqualCheck(tr,Hn){if(tr.length===Hn.length){for(var er=0;er<tr.length;er++)if(tr[er]!==Hn[er])return!1;return!0}return!1}var selectTooltipAxisType=tr=>{var Hn=selectChartLayout(tr);return Hn==="horizontal"?"xAxis":Hn==="vertical"?"yAxis":Hn==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=tr=>tr.tooltip.settings.axisId;function ownKeys$m(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$m(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$m(Object(er),!0).forEach(function(nr){_defineProperty$n(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$m(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$n(tr,Hn,er){return(Hn=_toPropertyKey$n(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$n(tr){var Hn=_toPrimitive$n(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$n(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(tr,Hn)=>tr.cartesianAxis.xAxis[Hn],selectXAxisSettings=(tr,Hn)=>{var er=selectXAxisSettingsNoDefaults(tr,Hn);return er??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(tr,Hn)=>tr.cartesianAxis.yAxis[Hn],selectYAxisSettings=(tr,Hn)=>{var er=selectYAxisSettingsNoDefaults(tr,Hn);return er??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(tr,Hn)=>{var er=tr.cartesianAxis.zAxis[Hn];return er??implicitZAxis},selectBaseAxis=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSettings(tr,er);case"yAxis":return selectYAxisSettings(tr,er);case"zAxis":return selectZAxisSettings(tr,er);case"angleAxis":return selectAngleAxis(tr,er);case"radiusAxis":return selectRadiusAxis(tr,er);default:throw new Error("Unexpected axis type: ".concat(Hn))}},selectCartesianAxisSettings=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSettings(tr,er);case"yAxis":return selectYAxisSettings(tr,er);default:throw new Error("Unexpected axis type: ".concat(Hn))}},selectAxisSettings=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSettings(tr,er);case"yAxis":return selectYAxisSettings(tr,er);case"angleAxis":return selectAngleAxis(tr,er);case"radiusAxis":return selectRadiusAxis(tr,er);default:throw new Error("Unexpected axis type: ".concat(Hn))}},selectHasBar=tr=>tr.graphicalItems.cartesianItems.some(Hn=>Hn.type==="bar")||tr.graphicalItems.polarItems.some(Hn=>Hn.type==="radialBar");function itemAxisPredicate(tr,Hn){return er=>{switch(tr){case"xAxis":return"xAxisId"in er&&er.xAxisId===Hn;case"yAxis":return"yAxisId"in er&&er.yAxisId===Hn;case"zAxis":return"zAxisId"in er&&er.zAxisId===Hn;case"angleAxis":return"angleAxisId"in er&&er.angleAxisId===Hn;case"radiusAxis":return"radiusAxisId"in er&&er.radiusAxisId===Hn;default:return!1}}}var selectUnfilteredCartesianItems=tr=>tr.graphicalItems.cartesianItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(tr,Hn,er)=>tr.filter(er).filter(nr=>Hn?.includeHidden===!0?!0:!nr.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],tr=>tr.filter(Hn=>Hn.type==="area"||Hn.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=tr=>tr.filter(Hn=>!("stackId"in Hn)||Hn.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=tr=>tr.map(Hn=>Hn.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),combineDisplayedData=(tr,Hn)=>{var{chartData:er=[],dataStartIndex:nr,dataEndIndex:ir}=Hn;return tr.length>0?tr:er.slice(nr,ir+1)},selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(tr,Hn,er)=>Hn?.dataKey!=null?tr.map(nr=>({value:getValueByDataKey(nr,Hn.dataKey)})):er.length>0?er.map(nr=>nr.dataKey).flatMap(nr=>tr.map(ir=>({value:getValueByDataKey(ir,nr)}))):tr.map(nr=>({value:nr})),selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(tr,Hn){switch(tr){case"xAxis":return Hn.direction==="x";case"yAxis":return Hn.direction==="y";default:return!1}}function makeNumber(tr){if(isNumOrStr(tr)||tr instanceof Date){var Hn=Number(tr);if(isWellBehavedNumber(Hn))return Hn}}function makeDomain(tr){if(Array.isArray(tr)){var Hn=[makeNumber(tr[0]),makeNumber(tr[1])];return isWellFormedNumberDomain(Hn)?Hn:void 0}var er=makeNumber(tr);if(er!=null)return[er,er]}function onlyAllowNumbers(tr){return tr.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(tr,Hn,er){return!er||typeof Hn!="number"||isNan(Hn)?[]:er.length?onlyAllowNumbers(er.flatMap(nr=>{var ir=getValueByDataKey(tr,nr.dataKey),rr,sr;if(Array.isArray(ir)?[rr,sr]=ir:rr=sr=ir,!(!isWellBehavedNumber(rr)||!isWellBehavedNumber(sr)))return[Hn-rr,Hn+sr]})):[]}var selectTooltipAxis=tr=>{var Hn=selectTooltipAxisType(tr),er=selectTooltipAxisId(tr);return selectAxisSettings(tr,Hn,er)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],tr=>tr?.dataKey),selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(tr,Hn,er,nr)=>{var ir={},rr=Hn.reduce((sr,ar)=>(ar.stackId==null||(sr[ar.stackId]==null&&(sr[ar.stackId]=[]),sr[ar.stackId].push(ar)),sr),ir);return Object.fromEntries(Object.entries(rr).map(sr=>{var[ar,or]=sr,lr=nr?[...or].reverse():or,cr=lr.map(getStackSeriesIdentifier);return[ar,{stackedData:getStackedData(tr,cr,er),graphicalItems:lr}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),combineDomainOfStackGroups=(tr,Hn,er,nr)=>{var{dataStartIndex:ir,dataEndIndex:rr}=Hn;if(nr==null&&er!=="zAxis"){var sr=getDomainOfStackGroups(tr,ir,rr);if(!(sr!=null&&sr[0]===0&&sr[1]===0))return sr}},selectAllowsDataOverflow=createSelector([selectBaseAxis],tr=>tr.allowDataOverflow),getDomainDefinition=tr=>{var Hn;if(tr==null||!("domain"in tr))return defaultNumericDomain;if(tr.domain!=null)return tr.domain;if(tr.ticks!=null){if(tr.type==="number"){var er=onlyAllowNumbers(tr.ticks);return[Math.min(...er),Math.max(...er)]}if(tr.type==="category")return tr.ticks.map(String)}return(Hn=tr?.domain)!==null&&Hn!==void 0?Hn:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=tr=>tr.errorBars,combineRelevantErrorBarSettings=(tr,Hn,er)=>tr.flatMap(nr=>Hn[nr.id]).filter(Boolean).filter(nr=>isErrorBarRelevantForAxisType(er,nr)),mergeDomains=function tr(){for(var Hn=arguments.length,er=new Array(Hn),nr=0;nr<Hn;nr++)er[nr]=arguments[nr];var ir=er.filter(Boolean);if(ir.length!==0){var rr=ir.flat(),sr=Math.min(...rr),ar=Math.max(...rr);return[sr,ar]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(tr,Hn,er,nr,ir)=>{var rr,sr;if(er.length>0&&tr.forEach(ar=>{er.forEach(or=>{var lr,cr,ur=(lr=nr[or.id])===null||lr===void 0?void 0:lr.filter(Sr=>isErrorBarRelevantForAxisType(ir,Sr)),dr=getValueByDataKey(ar,(cr=Hn.dataKey)!==null&&cr!==void 0?cr:or.dataKey),fr=getErrorDomainByDataKey(ar,dr,ur);if(fr.length>=2){var xr=Math.min(...fr),yr=Math.max(...fr);(rr==null||xr<rr)&&(rr=xr),(sr==null||yr>sr)&&(sr=yr)}var _r=makeDomain(dr);_r!=null&&(rr=rr==null?_r[0]:Math.min(rr,_r[0]),sr=sr==null?_r[1]:Math.max(sr,_r[1]))})}),Hn?.dataKey!=null&&tr.forEach(ar=>{var or=makeDomain(getValueByDataKey(ar,Hn.dataKey));or!=null&&(rr=rr==null?or[0]:Math.min(rr,or[0]),sr=sr==null?or[1]:Math.max(sr,or[1]))}),isWellBehavedNumber(rr)&&isWellBehavedNumber(sr))return[rr,sr]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(tr){var{value:Hn}=tr;if(isNumOrStr(Hn)||Hn instanceof Date)return Hn}var computeDomainOfTypeCategory=(tr,Hn,er)=>{var nr=tr.map(onlyAllowNumbersAndStringsAndDates).filter(ir=>ir!=null);return er&&(Hn.dataKey==null||Hn.allowDuplicatedCategory&&hasDuplicate(nr))?range$2(0,tr.length):Hn.allowDuplicatedCategory?nr:Array.from(new Set(nr))},selectReferenceDots=tr=>tr.referenceElements.dots,filterReferenceElements=(tr,Hn,er)=>tr.filter(nr=>nr.ifOverflow==="extendDomain").filter(nr=>Hn==="xAxis"?nr.xAxisId===er:nr.yAxisId===er),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=tr=>tr.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=tr=>tr.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(tr,Hn)=>{var er=onlyAllowNumbers(tr.map(nr=>Hn==="xAxis"?nr.x:nr.y));if(er.length!==0)return[Math.min(...er),Math.max(...er)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(tr,Hn)=>{var er=onlyAllowNumbers(tr.flatMap(nr=>[Hn==="xAxis"?nr.x1:nr.y1,Hn==="xAxis"?nr.x2:nr.y2]));if(er.length!==0)return[Math.min(...er),Math.max(...er)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(tr){var Hn;if(tr.x!=null)return onlyAllowNumbers([tr.x]);var er=(Hn=tr.segment)===null||Hn===void 0?void 0:Hn.map(nr=>nr.x);return er==null||er.length===0?[]:onlyAllowNumbers(er)}function extractYCoordinates(tr){var Hn;if(tr.y!=null)return onlyAllowNumbers([tr.y]);var er=(Hn=tr.segment)===null||Hn===void 0?void 0:Hn.map(nr=>nr.y);return er==null||er.length===0?[]:onlyAllowNumbers(er)}var combineLinesDomain=(tr,Hn)=>{var er=tr.flatMap(nr=>Hn==="xAxis"?extractXCoordinates(nr):extractYCoordinates(nr));if(er.length!==0)return[Math.min(...er),Math.max(...er)]},selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(tr,Hn,er)=>mergeDomains(tr,er,Hn)),combineNumericalDomain=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(er!=null)return er;var or=sr==="vertical"&&ar==="xAxis"||sr==="horizontal"&&ar==="yAxis",lr=or?mergeDomains(nr,rr,ir):mergeDomains(rr,ir);return parseNumericalUserDomain(Hn,lr,tr.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(tr,Hn,er,nr,ir,rr,sr)=>{if(!((tr==null||er==null||er.length===0)&&sr===void 0)){var{dataKey:ar,type:or}=tr,lr=isCategoricalAxis(Hn,rr);if(lr&&ar==null){var cr;return range$2(0,(cr=er?.length)!==null&&cr!==void 0?cr:0)}return or==="category"?computeDomainOfTypeCategory(nr,tr,lr):ir==="expand"?expandDomain:sr}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(tr,Hn,er,nr,ir)=>{if(tr!=null){var{scale:rr,type:sr}=tr;if(rr==="auto")return Hn==="radial"&&ir==="radiusAxis"?"band":Hn==="radial"&&ir==="angleAxis"?"linear":sr==="category"&&nr&&(nr.indexOf("LineChart")>=0||nr.indexOf("AreaChart")>=0||nr.indexOf("ComposedChart")>=0&&!er)?"point":sr==="category"?"band":"linear";if(typeof rr=="string"){var ar="scale".concat(upperFirst(rr));return ar in d3Scales?ar:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(tr){if(tr!=null){if(tr in d3Scales)return d3Scales[tr]();var Hn="scale".concat(upperFirst(tr));if(Hn in d3Scales)return d3Scales[Hn]()}}function combineScaleFunction(tr,Hn,er,nr){if(!(er==null||nr==null)){if(typeof tr.scale=="function")return tr.scale.copy().domain(er).range(nr);var ir=getD3ScaleFromType(Hn);if(ir!=null){var rr=ir.domain(er).range(nr);return checkDomainOfScale(rr),rr}}}var combineNiceTicks=(tr,Hn,er)=>{var nr=getDomainDefinition(Hn);if(!(er!=="auto"&&er!=="linear")){if(Hn!=null&&Hn.tickCount&&Array.isArray(nr)&&(nr[0]==="auto"||nr[1]==="auto")&&isWellFormedNumberDomain(tr))return getNiceTickValues(tr,Hn.tickCount,Hn.allowDecimals);if(Hn!=null&&Hn.tickCount&&Hn.type==="number"&&isWellFormedNumberDomain(tr))return getTickValuesFixedDomain(tr,Hn.tickCount,Hn.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(tr,Hn,er,nr)=>{if(nr!=="angleAxis"&&tr?.type==="number"&&isWellFormedNumberDomain(Hn)&&Array.isArray(er)&&er.length>0){var ir=Hn[0],rr=er[0],sr=Hn[1],ar=er[er.length-1];return[Math.min(ir,rr),Math.max(sr,ar)]}return Hn},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(tr,Hn)=>{if(!(!Hn||Hn.type!=="number")){var er=1/0,nr=Array.from(onlyAllowNumbers(tr.map(ar=>ar.value))).sort((ar,or)=>ar-or);if(nr.length<2)return 1/0;var ir=nr[nr.length-1]-nr[0];if(ir===0)return 1/0;for(var rr=0;rr<nr.length-1;rr++){var sr=nr[rr+1]-nr[rr];er=Math.min(er,sr)}return er/ir}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(tr,Hn,er,nr)=>nr,(tr,Hn,er,nr,ir)=>{if(!isWellBehavedNumber(tr))return 0;var rr=Hn==="vertical"?nr.height:nr.width;if(ir==="gap")return tr*rr/2;if(ir==="no-gap"){var sr=getPercentValue(er,tr*rr),ar=tr*rr/2;return ar-sr-(ar-sr)/rr*sr}return 0}),selectCalculatedXAxisPadding=(tr,Hn)=>{var er=selectXAxisSettings(tr,Hn);return er==null||typeof er.padding!="string"?0:selectCalculatedPadding(tr,"xAxis",Hn,er.padding)},selectCalculatedYAxisPadding=(tr,Hn)=>{var er=selectYAxisSettings(tr,Hn);return er==null||typeof er.padding!="string"?0:selectCalculatedPadding(tr,"yAxis",Hn,er.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(tr,Hn)=>{var er,nr;if(tr==null)return{left:0,right:0};var{padding:ir}=tr;return typeof ir=="string"?{left:Hn,right:Hn}:{left:((er=ir.left)!==null&&er!==void 0?er:0)+Hn,right:((nr=ir.right)!==null&&nr!==void 0?nr:0)+Hn}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(tr,Hn)=>{var er,nr;if(tr==null)return{top:0,bottom:0};var{padding:ir}=tr;return typeof ir=="string"?{top:Hn,bottom:Hn}:{top:((er=ir.top)!==null&&er!==void 0?er:0)+Hn,bottom:((nr=ir.bottom)!==null&&nr!==void 0?nr:0)+Hn}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(tr,Hn,er)=>er],(tr,Hn,er,nr,ir)=>{var{padding:rr}=nr;return ir?[rr.left,er.width-rr.right]:[tr.left+Hn.left,tr.left+tr.width-Hn.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(tr,Hn,er)=>er],(tr,Hn,er,nr,ir,rr)=>{var{padding:sr}=ir;return rr?[nr.height-sr.bottom,sr.top]:Hn==="horizontal"?[tr.top+tr.height-er.bottom,tr.top+er.top]:[tr.top+er.top,tr.top+tr.height-er.bottom]}),selectAxisRange=(tr,Hn,er,nr)=>{var ir;switch(Hn){case"xAxis":return combineXAxisRange(tr,er,nr);case"yAxis":return combineYAxisRange(tr,er,nr);case"zAxis":return(ir=selectZAxisSettings(tr,er))===null||ir===void 0?void 0:ir.range;case"angleAxis":return selectAngleAxisRange(tr);case"radiusAxis":return selectRadiusAxisRange(tr,er);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(tr,Hn){return tr.id<Hn.id?-1:tr.id>Hn.id?1:0}var pickAxisOrientation=(tr,Hn)=>Hn,pickMirror=(tr,Hn,er)=>er,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(tr,Hn,er)=>tr.filter(nr=>nr.orientation===Hn).filter(nr=>nr.mirror===er).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(tr,Hn,er)=>tr.filter(nr=>nr.orientation===Hn).filter(nr=>nr.mirror===er).sort(compareIds)),getXAxisSize=(tr,Hn)=>({width:tr.width,height:Hn.height}),getYAxisSize=(tr,Hn)=>{var er=typeof Hn.width=="number"?Hn.width:DEFAULT_Y_AXIS_WIDTH;return{width:er,height:tr.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(tr,Hn,er)=>{switch(Hn){case"top":return tr.top;case"bottom":return er-tr.bottom;default:return 0}},combineYAxisPositionStartingPoint=(tr,Hn,er)=>{switch(Hn){case"left":return tr.left;case"right":return er-tr.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(tr,Hn,er,nr,ir)=>{var rr={},sr;return er.forEach(ar=>{var or=getXAxisSize(Hn,ar);sr==null&&(sr=combineXAxisPositionStartingPoint(Hn,nr,tr));var lr=nr==="top"&&!ir||nr==="bottom"&&ir;rr[ar.id]=sr-Number(lr)*or.height,sr+=(lr?-1:1)*or.height}),rr}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(tr,Hn,er,nr,ir)=>{var rr={},sr;return er.forEach(ar=>{var or=getYAxisSize(Hn,ar);sr==null&&(sr=combineYAxisPositionStartingPoint(Hn,nr,tr));var lr=nr==="left"&&!ir||nr==="right"&&ir;rr[ar.id]=sr-Number(lr)*or.width,sr+=(lr?-1:1)*or.width}),rr}),selectXAxisOffsetSteps=(tr,Hn)=>{var er=selectXAxisSettings(tr,Hn);if(er!=null)return selectAllXAxesOffsetSteps(tr,er.orientation,er.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(tr,Hn)=>Hn],(tr,Hn,er,nr)=>{if(Hn!=null){var ir=er?.[nr];return ir==null?{x:tr.left,y:0}:{x:tr.left,y:ir}}}),selectYAxisOffsetSteps=(tr,Hn)=>{var er=selectYAxisSettings(tr,Hn);if(er!=null)return selectAllYAxesOffsetSteps(tr,er.orientation,er.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(tr,Hn)=>Hn],(tr,Hn,er,nr)=>{if(Hn!=null){var ir=er?.[nr];return ir==null?{x:0,y:tr.top}:{x:ir,y:tr.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(tr,Hn)=>{var er=typeof Hn.width=="number"?Hn.width:DEFAULT_Y_AXIS_WIDTH;return{width:er,height:tr.height}}),selectCartesianAxisSize=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSize(tr,er).width;case"yAxis":return selectYAxisSize(tr,er).height;default:return}},combineDuplicateDomain=(tr,Hn,er,nr)=>{if(er!=null){var{allowDuplicatedCategory:ir,type:rr,dataKey:sr}=er,ar=isCategoricalAxis(tr,nr),or=Hn.map(lr=>lr.value);if(sr&&ar&&rr==="category"&&ir&&hasDuplicate(or))return or}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(tr,Hn,er,nr)=>{if(!(er==null||er.dataKey==null)){var{type:ir,scale:rr}=er,sr=isCategoricalAxis(tr,nr);if(sr&&(ir==="number"||rr!=="auto"))return Hn.map(ar=>ar.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(tr,Hn,er,nr,ir,rr,sr,ar,or)=>{if(Hn!=null){var lr=isCategoricalAxis(tr,or);return{angle:Hn.angle,interval:Hn.interval,minTickGap:Hn.minTickGap,orientation:Hn.orientation,tick:Hn.tick,tickCount:Hn.tickCount,tickFormatter:Hn.tickFormatter,ticks:Hn.ticks,type:Hn.type,unit:Hn.unit,axisType:or,categoricalDomain:rr,duplicateDomain:ir,isCategorical:lr,niceTicks:ar,range:sr,realScaleType:er,scale:nr}}}),combineAxisTicks=(tr,Hn,er,nr,ir,rr,sr,ar,or)=>{if(!(Hn==null||nr==null)){var lr=isCategoricalAxis(tr,or),{type:cr,ticks:ur,tickCount:dr}=Hn,fr=er==="scaleBand"&&typeof nr.bandwidth=="function"?nr.bandwidth()/2:2,xr=cr==="category"&&nr.bandwidth?nr.bandwidth()/fr:0;xr=or==="angleAxis"&&rr!=null&&rr.length>=2?mathSign(rr[0]-rr[1])*2*xr:xr;var yr=ur||ir;if(yr){var _r=yr.map((Sr,jr)=>{var Dr=sr?sr.indexOf(Sr):Sr;return{index:jr,coordinate:nr(Dr)+xr,value:Sr,offset:xr}});return _r.filter(Sr=>isWellBehavedNumber(Sr.coordinate))}return lr&&ar?ar.map((Sr,jr)=>({coordinate:nr(Sr)+xr,value:Sr,index:jr,offset:xr})).filter(Sr=>isWellBehavedNumber(Sr.coordinate)):nr.ticks?nr.ticks(dr).map(Sr=>({coordinate:nr(Sr)+xr,value:Sr,offset:xr})):nr.domain().map((Sr,jr)=>({coordinate:nr(Sr)+xr,value:sr?sr[Sr]:Sr,index:jr,offset:xr}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(Hn==null||er==null||nr==null||nr[0]===nr[1])){var ar=isCategoricalAxis(tr,sr),{tickCount:or}=Hn,lr=0;return lr=sr==="angleAxis"&&nr?.length>=2?mathSign(nr[0]-nr[1])*2*lr:lr,ar&&rr?rr.map((cr,ur)=>({coordinate:er(cr)+lr,value:cr,index:ur,offset:lr})):er.ticks?er.ticks(or).map(cr=>({coordinate:er(cr)+lr,value:cr,offset:lr})):er.domain().map((cr,ur)=>({coordinate:er(cr)+lr,value:ir?ir[cr]:cr,index:ur,offset:lr}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(tr,Hn)=>{if(!(tr==null||Hn==null))return _objectSpread$m(_objectSpread$m({},tr),{},{scale:Hn})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((tr,Hn,er)=>selectZAxisSettings(tr,er),selectZAxisScale,(tr,Hn)=>{if(!(tr==null||Hn==null))return _objectSpread$m(_objectSpread$m({},tr),{},{scale:Hn})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(tr,Hn,er)=>{switch(tr){case"horizontal":return Hn.some(nr=>nr.reversed)?"right-to-left":"left-to-right";case"vertical":return er.some(nr=>nr.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=tr=>tr.options.defaultTooltipEventType,selectValidateTooltipEventTypes=tr=>tr.options.validateTooltipEventTypes;function combineTooltipEventType(tr,Hn,er){if(tr==null)return Hn;var nr=tr?"axis":"item";return er==null?Hn:er.includes(nr)?nr:Hn}function selectTooltipEventType$1(tr,Hn){var er=selectDefaultTooltipEventType(tr),nr=selectValidateTooltipEventTypes(tr);return combineTooltipEventType(Hn,er,nr)}function useTooltipEventType(tr){return useAppSelector(Hn=>selectTooltipEventType$1(Hn,tr))}var combineActiveLabel=(tr,Hn)=>{var er,nr=Number(Hn);if(!(isNan(nr)||Hn==null))return nr>=0?tr==null||(er=tr[nr])===null||er===void 0?void 0:er.value:void 0},selectTooltipSettings=tr=>tr.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$9={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$9,reducers:{addTooltipEntrySettings:{reducer(tr,Hn){tr.tooltipItemPayloads.push(Hn.payload)},prepare:prepareAutoBatched()},replaceTooltipEntrySettings:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload,ir=current(tr).tooltipItemPayloads.indexOf(er);ir>-1&&(tr.tooltipItemPayloads[ir]=nr)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(tr,Hn){var er=current(tr).tooltipItemPayloads.indexOf(Hn.payload);er>-1&&tr.tooltipItemPayloads.splice(er,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(tr,Hn){tr.settings=Hn.payload},setActiveMouseOverItemIndex(tr,Hn){tr.syncInteraction.active=!1,tr.keyboardInteraction.active=!1,tr.itemInteraction.hover.active=!0,tr.itemInteraction.hover.index=Hn.payload.activeIndex,tr.itemInteraction.hover.dataKey=Hn.payload.activeDataKey,tr.itemInteraction.hover.coordinate=Hn.payload.activeCoordinate},mouseLeaveChart(tr){tr.itemInteraction.hover.active=!1,tr.axisInteraction.hover.active=!1},mouseLeaveItem(tr){tr.itemInteraction.hover.active=!1},setActiveClickItemIndex(tr,Hn){tr.syncInteraction.active=!1,tr.itemInteraction.click.active=!0,tr.keyboardInteraction.active=!1,tr.itemInteraction.click.index=Hn.payload.activeIndex,tr.itemInteraction.click.dataKey=Hn.payload.activeDataKey,tr.itemInteraction.click.coordinate=Hn.payload.activeCoordinate},setMouseOverAxisIndex(tr,Hn){tr.syncInteraction.active=!1,tr.axisInteraction.hover.active=!0,tr.keyboardInteraction.active=!1,tr.axisInteraction.hover.index=Hn.payload.activeIndex,tr.axisInteraction.hover.dataKey=Hn.payload.activeDataKey,tr.axisInteraction.hover.coordinate=Hn.payload.activeCoordinate},setMouseClickAxisIndex(tr,Hn){tr.syncInteraction.active=!1,tr.keyboardInteraction.active=!1,tr.axisInteraction.click.active=!0,tr.axisInteraction.click.index=Hn.payload.activeIndex,tr.axisInteraction.click.dataKey=Hn.payload.activeDataKey,tr.axisInteraction.click.coordinate=Hn.payload.activeCoordinate},setSyncInteraction(tr,Hn){tr.syncInteraction=Hn.payload},setKeyboardInteraction(tr,Hn){tr.keyboardInteraction.active=Hn.payload.active,tr.keyboardInteraction.index=Hn.payload.activeIndex,tr.keyboardInteraction.coordinate=Hn.payload.activeCoordinate,tr.keyboardInteraction.dataKey=Hn.payload.activeDataKey}}}),{addTooltipEntrySettings,replaceTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$l(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$l(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$l(Object(er),!0).forEach(function(nr){_defineProperty$m(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$l(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$m(tr,Hn,er){return(Hn=_toPropertyKey$m(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$m(tr){var Hn=_toPrimitive$m(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$m(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function chooseAppropriateMouseInteraction(tr,Hn,er){return Hn==="axis"?er==="click"?tr.axisInteraction.click:tr.axisInteraction.hover:er==="click"?tr.itemInteraction.click:tr.itemInteraction.hover}function hasBeenActivePreviously(tr){return tr.index!=null}var combineTooltipInteractionState=(tr,Hn,er,nr)=>{if(Hn==null)return noInteraction;var ir=chooseAppropriateMouseInteraction(tr,Hn,er);if(ir==null)return noInteraction;if(ir.active)return ir;if(tr.keyboardInteraction.active)return tr.keyboardInteraction;if(tr.syncInteraction.active&&tr.syncInteraction.index!=null)return tr.syncInteraction;var rr=tr.settings.active===!0;if(hasBeenActivePreviously(ir)){if(rr)return _objectSpread$l(_objectSpread$l({},ir),{},{active:!0})}else if(nr!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:nr};return _objectSpread$l(_objectSpread$l({},noInteraction),{},{coordinate:ir.coordinate})};function toFiniteNumber(tr){if(typeof tr=="number")return Number.isFinite(tr)?tr:void 0;if(tr instanceof Date){var Hn=tr.valueOf();return Number.isFinite(Hn)?Hn:void 0}var er=Number(tr);return Number.isFinite(er)?er:void 0}function isValueWithinNumberDomain(tr,Hn){var er=toFiniteNumber(tr),nr=Hn[0],ir=Hn[1];if(er===void 0)return!1;var rr=Math.min(nr,ir),sr=Math.max(nr,ir);return er>=rr&&er<=sr}function isValueWithinDomain(tr,Hn,er){if(er==null||Hn==null)return!0;var nr=getValueByDataKey(tr,Hn);return nr==null||!isWellFormedNumberDomain(er)?!0:isValueWithinNumberDomain(nr,er)}var combineActiveTooltipIndex=(tr,Hn,er,nr)=>{var ir=tr?.index;if(ir==null)return null;var rr=Number(ir);if(!isWellBehavedNumber(rr))return ir;var sr=0,ar=1/0;Hn.length>0&&(ar=Hn.length-1);var or=Math.max(sr,Math.min(rr,ar)),lr=Hn[or];return lr==null||isValueWithinDomain(lr,er,nr)?String(or):null},combineCoordinateForDefaultIndex=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(!(rr==null||ar==null)){var or=sr[0],lr=or==null?void 0:ar(or.positions,rr);if(lr!=null)return lr;var cr=ir?.[Number(rr)];if(cr)switch(er){case"horizontal":return{x:cr.coordinate,y:(nr.top+Hn)/2};default:return{x:(nr.left+tr)/2,y:cr.coordinate}}}},combineTooltipPayloadConfigurations=(tr,Hn,er,nr)=>{if(Hn==="axis")return tr.tooltipItemPayloads;if(tr.tooltipItemPayloads.length===0)return[];var ir;return er==="hover"?ir=tr.itemInteraction.hover.dataKey:ir=tr.itemInteraction.click.dataKey,ir==null&&nr!=null?[tr.tooltipItemPayloads[0]]:tr.tooltipItemPayloads.filter(rr=>{var sr;return((sr=rr.settings)===null||sr===void 0?void 0:sr.dataKey)===ir})},selectTooltipPayloadSearcher=tr=>tr.options.tooltipPayloadSearcher,selectTooltipState=tr=>tr.tooltip;function ownKeys$k(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$k(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$k(Object(er),!0).forEach(function(nr){_defineProperty$l(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$k(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$l(tr,Hn,er){return(Hn=_toPropertyKey$l(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$l(tr){var Hn=_toPrimitive$l(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$l(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function selectFinalData(tr,Hn){return tr??Hn}var combineTooltipPayload=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(Hn==null||rr==null)){var{chartData:ar,computedData:or,dataStartIndex:lr,dataEndIndex:cr}=er,ur=[];return tr.reduce((dr,fr)=>{var xr,{dataDefinedOnItem:yr,settings:_r}=fr,Sr=selectFinalData(yr,ar),jr=Array.isArray(Sr)?getSliced(Sr,lr,cr):Sr,Dr=(xr=_r?.dataKey)!==null&&xr!==void 0?xr:nr,Ir=_r?.nameKey,Mr;if(nr&&Array.isArray(jr)&&!Array.isArray(jr[0])&&sr==="axis"?Mr=findEntryInArray(jr,nr,ir):Mr=rr(jr,Hn,or,Ir),Array.isArray(Mr))Mr.forEach(Lr=>{var Fr=_objectSpread$k(_objectSpread$k({},_r),{},{name:Lr.name,unit:Lr.unit,color:void 0,fill:void 0});dr.push(getTooltipEntry({tooltipEntrySettings:Fr,dataKey:Lr.dataKey,payload:Lr.payload,value:getValueByDataKey(Lr.payload,Lr.dataKey),name:Lr.name}))});else{var Or;dr.push(getTooltipEntry({tooltipEntrySettings:_r,dataKey:Dr,payload:Mr,value:getValueByDataKey(Mr,Dr),name:(Or=getValueByDataKey(Mr,Ir))!==null&&Or!==void 0?Or:_r?.name}))}return dr},ur)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([tr=>tr.graphicalItems.cartesianItems,tr=>tr.graphicalItems.polarItems],(tr,Hn)=>[...tr,...Hn]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],tr=>tr.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],tr=>tr.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],tr=>tr.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=tr=>{var Hn=selectTooltipAxisType(tr),er=selectTooltipAxisId(tr),nr=!1;return selectAxisRange(tr,Hn,er,nr)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(Hn){var{type:or}=Hn,lr=isCategoricalAxis(tr,ar);if(nr){var cr=er==="scaleBand"&&nr.bandwidth?nr.bandwidth()/2:2,ur=or==="category"&&nr.bandwidth?nr.bandwidth()/cr:0;return ur=ar==="angleAxis"&&ir!=null&&ir?.length>=2?mathSign(ir[0]-ir[1])*2*ur:ur,lr&&sr?sr.map((dr,fr)=>({coordinate:nr(dr)+ur,value:dr,index:fr,offset:ur})):nr.domain().map((dr,fr)=>({coordinate:nr(dr)+ur,value:rr?rr[dr]:dr,index:fr,offset:ur}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(tr,Hn,er)=>combineTooltipEventType(er.shared,tr,Hn)),selectTooltipTrigger=tr=>tr.tooltip.settings.trigger,selectDefaultIndex=tr=>tr.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],tr=>{if(tr)return tr.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(tr,Hn)=>tr!=null&&tr.coordinate?tr.coordinate:Hn),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],tr=>tr.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload);createSelector([selectActiveTooltipPayload],tr=>{if(tr!=null){var Hn=tr.map(er=>er.payload).filter(er=>er!=null);return Array.from(new Set(Hn))}});function ownKeys$j(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$j(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$j(Object(er),!0).forEach(function(nr){_defineProperty$k(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$j(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$k(tr,Hn,er){return(Hn=_toPropertyKey$k(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$k(tr){var Hn=_toPrimitive$k(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$k(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var tr=useTooltipAxis(),Hn=useAppSelector(selectTooltipAxisTicks),er=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(!tr||!er?void 0:_objectSpread$j(_objectSpread$j({},tr),{},{scale:er}),Hn)};function ownKeys$i(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$i(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$i(Object(er),!0).forEach(function(nr){_defineProperty$j(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$i(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$j(tr,Hn,er){return(Hn=_toPropertyKey$j(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$j(tr){var Hn=_toPrimitive$j(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$j(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var getActiveCartesianCoordinate=(tr,Hn,er,nr)=>{var ir=Hn.find(rr=>rr&&rr.index===er);if(ir){if(tr==="horizontal")return{x:ir.coordinate,y:nr.chartY};if(tr==="vertical")return{x:nr.chartX,y:ir.coordinate}}return{x:0,y:0}},getActivePolarCoordinate=(tr,Hn,er,nr)=>{var ir=Hn.find(lr=>lr&&lr.index===er);if(ir){if(tr==="centric"){var rr=ir.coordinate,{radius:sr}=nr;return _objectSpread$i(_objectSpread$i(_objectSpread$i({},nr),polarToCartesian(nr.cx,nr.cy,sr,rr)),{},{angle:rr,radius:sr})}var ar=ir.coordinate,{angle:or}=nr;return _objectSpread$i(_objectSpread$i(_objectSpread$i({},nr),polarToCartesian(nr.cx,nr.cy,ar,or)),{},{angle:or,radius:ar})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function isInCartesianRange(tr,Hn){var{chartX:er,chartY:nr}=tr;return er>=Hn.left&&er<=Hn.left+Hn.width&&nr>=Hn.top&&nr<=Hn.top+Hn.height}var calculateActiveTickIndex=(tr,Hn,er,nr,ir)=>{var rr,sr=-1,ar=(rr=Hn?.length)!==null&&rr!==void 0?rr:0;if(ar<=1||tr==null)return 0;if(nr==="angleAxis"&&ir!=null&&Math.abs(Math.abs(ir[1]-ir[0])-360)<=1e-6)for(var or=0;or<ar;or++){var lr=or>0?er[or-1].coordinate:er[ar-1].coordinate,cr=er[or].coordinate,ur=or>=ar-1?er[0].coordinate:er[or+1].coordinate,dr=void 0;if(mathSign(cr-lr)!==mathSign(ur-cr)){var fr=[];if(mathSign(ur-cr)===mathSign(ir[1]-ir[0])){dr=ur;var xr=cr+ir[1]-ir[0];fr[0]=Math.min(xr,(xr+lr)/2),fr[1]=Math.max(xr,(xr+lr)/2)}else{dr=lr;var yr=ur+ir[1]-ir[0];fr[0]=Math.min(cr,(yr+cr)/2),fr[1]=Math.max(cr,(yr+cr)/2)}var _r=[Math.min(cr,(dr+cr)/2),Math.max(cr,(dr+cr)/2)];if(tr>_r[0]&&tr<=_r[1]||tr>=fr[0]&&tr<=fr[1]){({index:sr}=er[or]);break}}else{var Sr=Math.min(lr,ur),jr=Math.max(lr,ur);if(tr>(Sr+cr)/2&&tr<=(jr+cr)/2){({index:sr}=er[or]);break}}}else if(Hn){for(var Dr=0;Dr<ar;Dr++)if(Dr===0&&tr<=(Hn[Dr].coordinate+Hn[Dr+1].coordinate)/2||Dr>0&&Dr<ar-1&&tr>(Hn[Dr].coordinate+Hn[Dr-1].coordinate)/2&&tr<=(Hn[Dr].coordinate+Hn[Dr+1].coordinate)/2||Dr===ar-1&&tr>(Hn[Dr].coordinate+Hn[Dr-1].coordinate)/2){({index:sr}=Hn[Dr]);break}}return sr},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(tr,Hn)=>Hn,pickTrigger=(tr,Hn,er)=>er,pickDefaultIndex=(tr,Hn,er,nr)=>nr,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,tr=>sortBy(tr,Hn=>Hn.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectTooltipDataKey=(tr,Hn,er)=>{if(Hn!=null){var nr=selectTooltipState(tr);return Hn==="axis"?er==="hover"?nr.axisInteraction.hover.dataKey:nr.axisInteraction.click.dataKey:er==="hover"?nr.itemInteraction.hover.dataKey:nr.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(tr,Hn)=>{var er;return(er=tr.coordinate)!==null&&er!==void 0?er:Hn}),selectActiveLabel=createSelector([selectTooltipAxisTicks,selectActiveIndex],combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState,selectActiveIndex],(tr,Hn)=>({isActive:tr.active&&Hn!=null,activeIndex:Hn})),combineActiveCartesianProps=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(!tr||!er||!nr||!ir)&&isInCartesianRange(tr,sr)){var ar=calculateCartesianTooltipPos(tr,Hn),or=calculateActiveTickIndex(ar,rr,ir,er,nr),lr=getActiveCartesianCoordinate(Hn,ir,or,tr);return{activeIndex:String(or),activeCoordinate:lr}}},combineActivePolarProps=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(!tr||!nr||!ir||!rr||!er)){var ar=inRangeOfSector(tr,er);if(ar){var or=calculatePolarTooltipPos(ar,Hn),lr=calculateActiveTickIndex(or,sr,rr,nr,ir),cr=getActivePolarCoordinate(Hn,rr,lr,ar);return{activeIndex:String(lr),activeCoordinate:cr}}}},combineActiveProps=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(!(!tr||!Hn||!nr||!ir||!rr))return Hn==="horizontal"||Hn==="vertical"?combineActiveCartesianProps(tr,Hn,nr,ir,rr,sr,ar):combineActivePolarProps(tr,Hn,er,nr,ir,rr,sr)},selectZIndexPortalId=createSelector(tr=>tr.zIndex.zIndexMap,(tr,Hn)=>Hn,(tr,Hn,er)=>er,(tr,Hn,er)=>{if(Hn!=null){var nr=tr[Hn];if(nr!=null)return er?nr.panoramaElementId:nr.elementId}}),selectAllRegisteredZIndexes=createSelector(tr=>tr.zIndex.zIndexMap,tr=>{var Hn=Object.keys(tr).map(nr=>parseInt(nr,10)).concat(Object.values(DefaultZIndexes)),er=Array.from(new Set(Hn));return er.sort((nr,ir)=>nr-ir)},{memoizeOptions:{resultEqualityCheck:arrayContentsAreEqualCheck}});function ownKeys$h(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$h(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$h(Object(er),!0).forEach(function(nr){_defineProperty$i(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$h(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$i(tr,Hn,er){return(Hn=_toPropertyKey$i(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$i(tr){var Hn=_toPrimitive$i(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$i(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var seed={},initialState$8={zIndexMap:Object.values(DefaultZIndexes).reduce((tr,Hn)=>_objectSpread$h(_objectSpread$h({},tr),{},{[Hn]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),seed)},defaultZIndexSet=new Set(Object.values(DefaultZIndexes));function isDefaultZIndex(tr){return defaultZIndexSet.has(tr)}var zIndexSlice=createSlice({name:"zIndex",initialState:initialState$8,reducers:{registerZIndexPortal:{reducer:(tr,Hn)=>{var{zIndex:er}=Hn.payload;tr.zIndexMap[er]?tr.zIndexMap[er].consumers+=1:tr.zIndexMap[er]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortal:{reducer:(tr,Hn)=>{var{zIndex:er}=Hn.payload;tr.zIndexMap[er]&&(tr.zIndexMap[er].consumers-=1,tr.zIndexMap[er].consumers<=0&&!isDefaultZIndex(er)&&delete tr.zIndexMap[er])},prepare:prepareAutoBatched()},registerZIndexPortalId:{reducer:(tr,Hn)=>{var{zIndex:er,elementId:nr,isPanorama:ir}=Hn.payload;tr.zIndexMap[er]?ir?tr.zIndexMap[er].panoramaElementId=nr:tr.zIndexMap[er].elementId=nr:tr.zIndexMap[er]={consumers:0,elementId:ir?void 0:nr,panoramaElementId:ir?nr:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortalId:{reducer:(tr,Hn)=>{var{zIndex:er}=Hn.payload;tr.zIndexMap[er]&&(Hn.payload.isPanorama?tr.zIndexMap[er].panoramaElementId=void 0:tr.zIndexMap[er].elementId=void 0)},prepare:prepareAutoBatched()}}}),{registerZIndexPortal,unregisterZIndexPortal,registerZIndexPortalId,unregisterZIndexPortalId}=zIndexSlice.actions,zIndexReducer=zIndexSlice.reducer;function ZIndexLayer(tr){var{zIndex:Hn,children:er}=tr,nr=useIsInChartContext(),ir=nr&&Hn!==void 0&&Hn!==0,rr=useIsPanorama(),sr=useAppDispatch();reactExports.useLayoutEffect(()=>ir?(sr(registerZIndexPortal({zIndex:Hn})),()=>{sr(unregisterZIndexPortal({zIndex:Hn}))}):noop$2,[sr,Hn,ir]);var ar=useAppSelector(lr=>selectZIndexPortalId(lr,Hn,rr));if(!ir)return er;if(!ar)return null;var or=document.getElementById(ar);return or?reactDomExports.createPortal(er,or):null}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$f.apply(null,arguments)}function ownKeys$g(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$g(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$g(Object(er),!0).forEach(function(nr){_defineProperty$h(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$g(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$h(tr,Hn,er){return(Hn=_toPropertyKey$h(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$h(tr){var Hn=_toPrimitive$h(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$h(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function RenderCursor(tr){var{cursor:Hn,cursorComp:er,cursorProps:nr}=tr;return reactExports.isValidElement(Hn)?reactExports.cloneElement(Hn,nr):reactExports.createElement(er,nr)}function CursorInternal(tr){var Hn,{coordinate:er,payload:nr,index:ir,offset:rr,tooltipAxisBandSize:sr,layout:ar,cursor:or,tooltipEventType:lr,chartName:cr}=tr,ur=er,dr=nr,fr=ir;if(!or||!ur||cr!=="ScatterChart"&&lr!=="axis")return null;var xr,yr,_r;if(cr==="ScatterChart")xr=ur,yr=Cross,_r=DefaultZIndexes.cursorLine;else if(cr==="BarChart")xr=getCursorRectangle(ar,ur,rr,sr),yr=Rectangle,_r=DefaultZIndexes.cursorRectangle;else if(ar==="radial"&&isPolarCoordinate(ur)){var{cx:Sr,cy:jr,radius:Dr,startAngle:Ir,endAngle:Mr}=getRadialCursorPoints(ur);xr={cx:Sr,cy:jr,startAngle:Ir,endAngle:Mr,innerRadius:Dr,outerRadius:Dr},yr=Sector,_r=DefaultZIndexes.cursorLine}else xr={points:getCursorPoints(ar,ur,rr)},yr=Curve,_r=DefaultZIndexes.cursorLine;var Or=typeof or=="object"&&"className"in or?or.className:void 0,Lr=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({stroke:"#ccc",pointerEvents:"none"},rr),xr),svgPropertiesNoEventsFromUnknown(or)),{},{payload:dr,payloadIndex:fr,className:clsx("recharts-tooltip-cursor",Or)});return reactExports.createElement(ZIndexLayer,{zIndex:(Hn=tr.zIndex)!==null&&Hn!==void 0?Hn:_r},reactExports.createElement(RenderCursor,{cursor:or,cursorComp:yr,cursorProps:Lr}))}function Cursor(tr){var Hn=useTooltipAxisBandSize(),er=useOffsetInternal(),nr=useChartLayout(),ir=useChartName();return Hn==null||er==null||nr==null||ir==null?null:reactExports.createElement(CursorInternal,_extends$f({},tr,{offset:er,layout:nr,tooltipAxisBandSize:Hn,chartName:ir}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(tr){var Hn=Object.prototype.hasOwnProperty,er="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(er=!1));function ir(or,lr,cr){this.fn=or,this.context=lr,this.once=cr||!1}function rr(or,lr,cr,ur,dr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var fr=new ir(cr,ur||or,dr),xr=er?er+lr:lr;return or._events[xr]?or._events[xr].fn?or._events[xr]=[or._events[xr],fr]:or._events[xr].push(fr):(or._events[xr]=fr,or._eventsCount++),or}function sr(or,lr){--or._eventsCount===0?or._events=new nr:delete or._events[lr]}function ar(){this._events=new nr,this._eventsCount=0}ar.prototype.eventNames=function(){var lr=[],cr,ur;if(this._eventsCount===0)return lr;for(ur in cr=this._events)Hn.call(cr,ur)&&lr.push(er?ur.slice(1):ur);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},ar.prototype.listeners=function(lr){var cr=er?er+lr:lr,ur=this._events[cr];if(!ur)return[];if(ur.fn)return[ur.fn];for(var dr=0,fr=ur.length,xr=new Array(fr);dr<fr;dr++)xr[dr]=ur[dr].fn;return xr},ar.prototype.listenerCount=function(lr){var cr=er?er+lr:lr,ur=this._events[cr];return ur?ur.fn?1:ur.length:0},ar.prototype.emit=function(lr,cr,ur,dr,fr,xr){var yr=er?er+lr:lr;if(!this._events[yr])return!1;var _r=this._events[yr],Sr=arguments.length,jr,Dr;if(_r.fn){switch(_r.once&&this.removeListener(lr,_r.fn,void 0,!0),Sr){case 1:return _r.fn.call(_r.context),!0;case 2:return _r.fn.call(_r.context,cr),!0;case 3:return _r.fn.call(_r.context,cr,ur),!0;case 4:return _r.fn.call(_r.context,cr,ur,dr),!0;case 5:return _r.fn.call(_r.context,cr,ur,dr,fr),!0;case 6:return _r.fn.call(_r.context,cr,ur,dr,fr,xr),!0}for(Dr=1,jr=new Array(Sr-1);Dr<Sr;Dr++)jr[Dr-1]=arguments[Dr];_r.fn.apply(_r.context,jr)}else{var Ir=_r.length,Mr;for(Dr=0;Dr<Ir;Dr++)switch(_r[Dr].once&&this.removeListener(lr,_r[Dr].fn,void 0,!0),Sr){case 1:_r[Dr].fn.call(_r[Dr].context);break;case 2:_r[Dr].fn.call(_r[Dr].context,cr);break;case 3:_r[Dr].fn.call(_r[Dr].context,cr,ur);break;case 4:_r[Dr].fn.call(_r[Dr].context,cr,ur,dr);break;default:if(!jr)for(Mr=1,jr=new Array(Sr-1);Mr<Sr;Mr++)jr[Mr-1]=arguments[Mr];_r[Dr].fn.apply(_r[Dr].context,jr)}}return!0},ar.prototype.on=function(lr,cr,ur){return rr(this,lr,cr,ur,!1)},ar.prototype.once=function(lr,cr,ur){return rr(this,lr,cr,ur,!0)},ar.prototype.removeListener=function(lr,cr,ur,dr){var fr=er?er+lr:lr;if(!this._events[fr])return this;if(!cr)return sr(this,fr),this;var xr=this._events[fr];if(xr.fn)xr.fn===cr&&(!dr||xr.once)&&(!ur||xr.context===ur)&&sr(this,fr);else{for(var yr=0,_r=[],Sr=xr.length;yr<Sr;yr++)(xr[yr].fn!==cr||dr&&!xr[yr].once||ur&&xr[yr].context!==ur)&&_r.push(xr[yr]);_r.length?this._events[fr]=_r.length===1?_r[0]:_r:sr(this,fr)}return this},ar.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=er?er+lr:lr,this._events[cr]&&sr(this,cr)):(this._events=new nr,this._eventsCount=0),this},ar.prototype.off=ar.prototype.removeListener,ar.prototype.addListener=ar.prototype.on,ar.prefixed=er,ar.EventEmitter=ar,tr.exports=ar})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(tr,Hn){if(Hn){var er=Number.parseInt(Hn,10);if(!isNan(er))return tr?.[er]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:tr=>{tr.eventEmitter==null&&(tr.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(tr){return tr.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(tr,Hn){if(tr.chartData=Hn.payload,Hn.payload==null){tr.dataStartIndex=0,tr.dataEndIndex=0;return}Hn.payload.length>0&&tr.dataEndIndex!==Hn.payload.length-1&&(tr.dataEndIndex=Hn.payload.length-1)},setComputedData(tr,Hn){tr.computedData=Hn.payload},setDataStartEndIndexes(tr,Hn){var{startIndex:er,endIndex:nr}=Hn.payload;er!=null&&(tr.dataStartIndex=er),nr!=null&&(tr.dataEndIndex=nr)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$f=["x","y"];function ownKeys$f(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$f(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$f(Object(er),!0).forEach(function(nr){_defineProperty$g(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$f(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$g(tr,Hn,er){return(Hn=_toPropertyKey$g(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$g(tr){var Hn=_toPrimitive$g(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$g(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$e(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$f(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$f(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function useTooltipSyncEventsListener(){var tr=useAppSelector(selectSyncId),Hn=useAppSelector(selectEventEmitter),er=useAppDispatch(),nr=useAppSelector(selectSyncMethod),ir=useAppSelector(selectTooltipAxisTicks),rr=useChartLayout(),sr=useViewBox(),ar=useAppSelector(or=>or.rootProps.className);reactExports.useEffect(()=>{if(tr==null)return noop$2;var or=(lr,cr,ur)=>{if(Hn!==ur&&tr===lr){if(nr==="index"){var dr;if(sr&&cr!==null&&cr!==void 0&&(dr=cr.payload)!==null&&dr!==void 0&&dr.coordinate&&cr.payload.sourceViewBox){var fr=cr.payload.coordinate,{x:xr,y:yr}=fr,_r=_objectWithoutProperties$e(fr,_excluded$f),{x:Sr,y:jr,width:Dr,height:Ir}=cr.payload.sourceViewBox,Mr=_objectSpread$f(_objectSpread$f({},_r),{},{x:sr.x+(Dr?(xr-Sr)/Dr:0)*sr.width,y:sr.y+(Ir?(yr-jr)/Ir:0)*sr.height});er(_objectSpread$f(_objectSpread$f({},cr),{},{payload:_objectSpread$f(_objectSpread$f({},cr.payload),{},{coordinate:Mr})}))}else er(cr);return}if(ir!=null){var Or;if(typeof nr=="function"){var Lr={activeTooltipIndex:cr.payload.index==null?void 0:Number(cr.payload.index),isTooltipActive:cr.payload.active,activeIndex:cr.payload.index==null?void 0:Number(cr.payload.index),activeLabel:cr.payload.label,activeDataKey:cr.payload.dataKey,activeCoordinate:cr.payload.coordinate},Fr=nr(ir,Lr);Or=ir[Fr]}else nr==="value"&&(Or=ir.find(so=>String(so.value)===cr.payload.label));var{coordinate:Vr}=cr.payload;if(Or==null||cr.payload.active===!1||Vr==null||sr==null){er(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Zr,y:Hr}=Vr,Yr=Math.min(Zr,sr.x+sr.width),eo=Math.min(Hr,sr.y+sr.height),io={x:rr==="horizontal"?Or.coordinate:Yr,y:rr==="horizontal"?eo:Or.coordinate},uo=setSyncInteraction({active:cr.payload.active,coordinate:io,dataKey:cr.payload.dataKey,index:String(Or.index),label:cr.payload.label,sourceViewBox:cr.payload.sourceViewBox});er(uo)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,or),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,or)}},[ar,er,Hn,tr,nr,ir,rr,sr])}function useBrushSyncEventsListener(){var tr=useAppSelector(selectSyncId),Hn=useAppSelector(selectEventEmitter),er=useAppDispatch();reactExports.useEffect(()=>{if(tr==null)return noop$2;var nr=(ir,rr,sr)=>{Hn!==sr&&tr===ir&&er(setDataStartEndIndexes(rr))};return eventCenter.on(BRUSH_SYNC_EVENT,nr),()=>{eventCenter.off(BRUSH_SYNC_EVENT,nr)}},[er,Hn,tr])}function useSynchronisedEventsFromOtherCharts(){var tr=useAppDispatch();reactExports.useEffect(()=>{tr(createEventEmitter())},[tr]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(tr,Hn,er,nr,ir,rr){var sr=useAppSelector(fr=>selectTooltipDataKey(fr,tr,Hn)),ar=useAppSelector(selectEventEmitter),or=useAppSelector(selectSyncId),lr=useAppSelector(selectSyncMethod),cr=useAppSelector(selectSynchronisedTooltipState),ur=cr?.active,dr=useViewBox();reactExports.useEffect(()=>{if(!ur&&or!=null&&ar!=null){var fr=setSyncInteraction({active:rr,coordinate:er,dataKey:sr,index:ir,label:typeof nr=="number"?String(nr):nr,sourceViewBox:dr});eventCenter.emit(TOOLTIP_SYNC_EVENT,or,fr,ar)}},[ur,er,sr,ir,nr,ar,or,lr,rr,dr])}function ownKeys$e(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$e(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$e(Object(er),!0).forEach(function(nr){_defineProperty$f(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$e(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$f(tr,Hn,er){return(Hn=_toPropertyKey$f(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$f(tr){var Hn=_toPrimitive$f(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$f(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function defaultUniqBy(tr){return tr.dataKey}function renderContent(tr,Hn){return reactExports.isValidElement(tr)?reactExports.cloneElement(tr,Hn):typeof tr=="function"?reactExports.createElement(tr,Hn):reactExports.createElement(DefaultTooltipContent,Hn)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(tr){var Hn,er,nr=resolveDefaultProps(tr,defaultTooltipProps),{active:ir,allowEscapeViewBox:rr,animationDuration:sr,animationEasing:ar,content:or,filterNull:lr,isAnimationActive:cr,offset:ur,payloadUniqBy:dr,position:fr,reverseDirection:xr,useTranslate3d:yr,wrapperStyle:_r,cursor:Sr,shared:jr,trigger:Dr,defaultIndex:Ir,portal:Mr,axisId:Or}=nr,Lr=useAppDispatch(),Fr=typeof Ir=="number"?String(Ir):Ir;reactExports.useEffect(()=>{Lr(setTooltipSettingsState({shared:jr,trigger:Dr,axisId:Or,active:ir,defaultIndex:Fr}))},[Lr,jr,Dr,Or,ir,Fr]);var Vr=useViewBox(),Zr=useAccessibilityLayer(),Hr=useTooltipEventType(jr),{activeIndex:Yr,isActive:eo}=(Hn=useAppSelector(Ao=>selectIsTooltipActive(Ao,Hr,Dr,Fr)))!==null&&Hn!==void 0?Hn:{},io=useAppSelector(Ao=>selectTooltipPayload(Ao,Hr,Dr,Fr)),uo=useAppSelector(Ao=>selectActiveLabel(Ao,Hr,Dr,Fr)),so=useAppSelector(Ao=>selectActiveCoordinate(Ao,Hr,Dr,Fr)),no=io,po=useTooltipPortal(),co=(er=ir??eo)!==null&&er!==void 0?er:!1,[lo,ao]=useElementOffset([no,co]),xo=Hr==="axis"?uo:void 0;useTooltipChartSynchronisation(Hr,Dr,so,xo,Yr,co);var _o=Mr??po;if(_o==null||Vr==null||Hr==null)return null;var Po=no??emptyPayload;co||(Po=emptyPayload),lr&&Po.length&&(Po=getUniqPayload(Po.filter(Ao=>Ao.value!=null&&(Ao.hide!==!0||nr.includeHidden)),dr,defaultUniqBy));var Oo=Po.length>0,So=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:rr,animationDuration:sr,animationEasing:ar,isAnimationActive:cr,active:co,coordinate:so,hasPayload:Oo,offset:ur,position:fr,reverseDirection:xr,useTranslate3d:yr,viewBox:Vr,wrapperStyle:_r,lastBoundingBox:lo,innerRef:ao,hasPortalFromProps:!!Mr},renderContent(or,_objectSpread$e(_objectSpread$e({},nr),{},{payload:Po,label:xo,active:co,activeIndex:Yr,coordinate:so,accessibilityLayer:Zr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(So,_o),co&&reactExports.createElement(Cursor,{cursor:Sr,tooltipEventType:Hr,coordinate:so,payload:Po,index:Yr}))}var Cell=tr=>null;Cell.displayName="Cell";function _defineProperty$e(tr,Hn,er){return(Hn=_toPropertyKey$e(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$e(tr){var Hn=_toPrimitive$e(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$e(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}class LRUCache{constructor(Hn){_defineProperty$e(this,"cache",new Map),this.maxSize=Hn}get(Hn){var er=this.cache.get(Hn);return er!==void 0&&(this.cache.delete(Hn),this.cache.set(Hn,er)),er}set(Hn,er){if(this.cache.has(Hn))this.cache.delete(Hn);else if(this.cache.size>=this.maxSize){var nr=this.cache.keys().next().value;nr!=null&&this.cache.delete(nr)}this.cache.set(Hn,er)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$d(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$d(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$d(Object(er),!0).forEach(function(nr){_defineProperty$d(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$d(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$d(tr,Hn,er){return(Hn=_toPropertyKey$d(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$d(tr){var Hn=_toPrimitive$d(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$d(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$d({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(tr,Hn){var er=Hn.fontSize||"",nr=Hn.fontFamily||"",ir=Hn.fontWeight||"",rr=Hn.fontStyle||"",sr=Hn.letterSpacing||"",ar=Hn.textTransform||"";return"".concat(tr,"|").concat(er,"|").concat(nr,"|").concat(ir,"|").concat(rr,"|").concat(sr,"|").concat(ar)}var measureTextWithDOM=(tr,Hn)=>{try{var er=document.getElementById(MEASUREMENT_SPAN_ID);er||(er=document.createElement("span"),er.setAttribute("id",MEASUREMENT_SPAN_ID),er.setAttribute("aria-hidden","true"),document.body.appendChild(er)),Object.assign(er.style,SPAN_STYLE,Hn),er.textContent="".concat(tr);var nr=er.getBoundingClientRect();return{width:nr.width,height:nr.height}}catch{return{width:0,height:0}}},getStringSize=function tr(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Hn==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(Hn,er);var nr=createCacheKey(Hn,er),ir=stringCache.get(nr);if(ir)return ir;var rr=measureTextWithDOM(Hn,er);return stringCache.set(nr,rr),rr},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(tr,Hn){return tr*CONVERSION_RATES[Hn]}class DecimalCSS{static parse(Hn){var er,[,nr,ir]=(er=NUM_SPLIT_REGEX.exec(Hn))!==null&&er!==void 0?er:[];return new DecimalCSS(parseFloat(nr),ir??"")}constructor(Hn,er){this.num=Hn,this.unit=er,this.num=Hn,this.unit=er,isNan(Hn)&&(this.unit=""),er!==""&&!CSS_LENGTH_UNIT_REGEX.test(er)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(er)&&(this.num=convertToPx(Hn,er),this.unit="px")}add(Hn){return this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+Hn.num,this.unit)}subtract(Hn){return this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-Hn.num,this.unit)}multiply(Hn){return this.unit!==""&&Hn.unit!==""&&this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*Hn.num,this.unit||Hn.unit)}divide(Hn){return this.unit!==""&&Hn.unit!==""&&this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/Hn.num,this.unit||Hn.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(tr){if(tr.includes(STR_NAN))return STR_NAN;for(var Hn=tr;Hn.includes("*")||Hn.includes("/");){var er,[,nr,ir,rr]=(er=MULTIPLY_OR_DIVIDE_REGEX.exec(Hn))!==null&&er!==void 0?er:[],sr=DecimalCSS.parse(nr??""),ar=DecimalCSS.parse(rr??""),or=ir==="*"?sr.multiply(ar):sr.divide(ar);if(or.isNaN())return STR_NAN;Hn=Hn.replace(MULTIPLY_OR_DIVIDE_REGEX,or.toString())}for(;Hn.includes("+")||/.-\d+(?:\.\d+)?/.test(Hn);){var lr,[,cr,ur,dr]=(lr=ADD_OR_SUBTRACT_REGEX.exec(Hn))!==null&&lr!==void 0?lr:[],fr=DecimalCSS.parse(cr??""),xr=DecimalCSS.parse(dr??""),yr=ur==="+"?fr.add(xr):fr.subtract(xr);if(yr.isNaN())return STR_NAN;Hn=Hn.replace(ADD_OR_SUBTRACT_REGEX,yr.toString())}return Hn}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(tr){for(var Hn=tr,er;(er=PARENTHESES_REGEX.exec(Hn))!=null;){var[,nr]=er;Hn=Hn.replace(PARENTHESES_REGEX,calculateArithmetic(nr))}return Hn}function evaluateExpression(tr){var Hn=tr.replace(/\s+/g,"");return Hn=calculateParentheses(Hn),Hn=calculateArithmetic(Hn),Hn}function safeEvaluateExpression(tr){try{return evaluateExpression(tr)}catch{return STR_NAN}}function reduceCSSCalc(tr){var Hn=safeEvaluateExpression(tr.slice(5,-1));return Hn===STR_NAN?"":Hn}var _excluded$e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$e.apply(null,arguments)}function _objectWithoutProperties$d(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$e(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$e(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=tr=>{var{children:Hn,breakAll:er,style:nr}=tr;try{var ir=[];isNullish(Hn)||(er?ir=Hn.toString().split(""):ir=Hn.toString().split(BREAKING_SPACES));var rr=ir.map(ar=>({word:ar,width:getStringSize(ar,nr).width})),sr=er?0:getStringSize("",nr).width;return{wordsWithComputedWidth:rr,spaceWidth:sr}}catch{return null}};function isValidTextAnchor(tr){return tr==="start"||tr==="middle"||tr==="end"||tr==="inherit"}var calculate=(tr,Hn,er,nr)=>tr.reduce((ir,rr)=>{var{word:sr,width:ar}=rr,or=ir[ir.length-1];if(or&&ar!=null&&(Hn==null||nr||or.width+ar+er<Number(Hn)))or.words.push(sr),or.width+=ar+er;else{var lr={words:[sr],width:ar};ir.push(lr)}return ir},[]),findLongestLine=tr=>tr.reduce((Hn,er)=>Hn.width>er.width?Hn:er),suffix="",checkOverflow=(tr,Hn,er,nr,ir,rr,sr,ar)=>{var or=tr.slice(0,Hn),lr=calculateWordWidths({breakAll:er,style:nr,children:or+suffix});if(!lr)return[!1,[]];var cr=calculate(lr.wordsWithComputedWidth,rr,sr,ar),ur=cr.length>ir||findLongestLine(cr).width>Number(rr);return[ur,cr]},calculateWordsByLines=(tr,Hn,er,nr,ir)=>{var{maxLines:rr,children:sr,style:ar,breakAll:or}=tr,lr=isNumber(rr),cr=String(sr),ur=calculate(Hn,nr,er,ir);if(!lr||ir)return ur;var dr=ur.length>rr||findLongestLine(ur).width>Number(nr);if(!dr)return ur;for(var fr=0,xr=cr.length-1,yr=0,_r;fr<=xr&&yr<=cr.length-1;){var Sr=Math.floor((fr+xr)/2),jr=Sr-1,[Dr,Ir]=checkOverflow(cr,jr,or,ar,rr,nr,er,ir),[Mr]=checkOverflow(cr,Sr,or,ar,rr,nr,er,ir);if(!Dr&&!Mr&&(fr=Sr+1),Dr&&Mr&&(xr=Sr-1),!Dr&&Mr){_r=Ir;break}yr++}return _r||ur},getWordsWithoutCalculate=tr=>{var Hn=isNullish(tr)?[]:tr.toString().split(BREAKING_SPACES);return[{words:Hn,width:void 0}]},getWordsByLines=tr=>{var{width:Hn,scaleToFit:er,children:nr,style:ir,breakAll:rr,maxLines:sr}=tr;if((Hn||er)&&!Global.isSsr){var ar,or,lr=calculateWordWidths({breakAll:rr,children:nr,style:ir});if(lr){var{wordsWithComputedWidth:cr,spaceWidth:ur}=lr;ar=cr,or=ur}else return getWordsWithoutCalculate(nr);return calculateWordsByLines({breakAll:rr,children:nr,maxLines:sr,style:ir},ar,or,Hn,!!er)}return getWordsWithoutCalculate(nr)},DEFAULT_FILL="#808080",textDefaultProps={angle:0,breakAll:!1,capHeight:"0.71em",fill:DEFAULT_FILL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Text=reactExports.forwardRef((tr,Hn)=>{var er=resolveDefaultProps(tr,textDefaultProps),{x:nr,y:ir,lineHeight:rr,capHeight:sr,fill:ar,scaleToFit:or,textAnchor:lr,verticalAnchor:cr}=er,ur=_objectWithoutProperties$d(er,_excluded$e),dr=reactExports.useMemo(()=>getWordsByLines({breakAll:ur.breakAll,children:ur.children,maxLines:ur.maxLines,scaleToFit:or,style:ur.style,width:ur.width}),[ur.breakAll,ur.children,ur.maxLines,or,ur.style,ur.width]),{dx:fr,dy:xr,angle:yr,className:_r,breakAll:Sr}=ur,jr=_objectWithoutProperties$d(ur,_excluded2$6);if(!isNumOrStr(nr)||!isNumOrStr(ir)||dr.length===0)return null;var Dr=Number(nr)+(isNumber(fr)?fr:0),Ir=Number(ir)+(isNumber(xr)?xr:0);if(!isWellBehavedNumber(Dr)||!isWellBehavedNumber(Ir))return null;var Mr;switch(cr){case"start":Mr=reduceCSSCalc("calc(".concat(sr,")"));break;case"middle":Mr=reduceCSSCalc("calc(".concat((dr.length-1)/2," * -").concat(rr," + (").concat(sr," / 2))"));break;default:Mr=reduceCSSCalc("calc(".concat(dr.length-1," * -").concat(rr,")"));break}var Or=[];if(or){var Lr=dr[0].width,{width:Fr}=ur;Or.push("scale(".concat(isNumber(Fr)&&isNumber(Lr)?Fr/Lr:1,")"))}return yr&&Or.push("rotate(".concat(yr,", ").concat(Dr,", ").concat(Ir,")")),Or.length&&(jr.transform=Or.join(" ")),reactExports.createElement("text",_extends$e({},svgPropertiesAndEvents(jr),{ref:Hn,x:Dr,y:Ir,className:clsx("recharts-text",_r),textAnchor:lr,fill:ar.includes("url")?DEFAULT_FILL:ar}),dr.map((Vr,Zr)=>{var Hr=Vr.words.join(Sr?"":" ");return reactExports.createElement("tspan",{x:Dr,dy:Zr===0?Mr:rr,key:"".concat(Hr,"-").concat(Zr)},Hr)}))});Text.displayName="Text";var _excluded$d=["labelRef"];function _objectWithoutProperties$c(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$d(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$d(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function ownKeys$c(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$c(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$c(Object(er),!0).forEach(function(nr){_defineProperty$c(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$c(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$c(tr,Hn,er){return(Hn=_toPropertyKey$c(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$c(tr){var Hn=_toPrimitive$c(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$c(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$d.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=tr=>{var{x:Hn,y:er,upperWidth:nr,lowerWidth:ir,width:rr,height:sr,children:ar}=tr,or=reactExports.useMemo(()=>({x:Hn,y:er,upperWidth:nr,lowerWidth:ir,width:rr,height:sr}),[Hn,er,nr,ir,rr,sr]);return reactExports.createElement(CartesianLabelContext.Provider,{value:or},ar)},useCartesianLabelContext=()=>{var tr=reactExports.useContext(CartesianLabelContext),Hn=useViewBox();return tr||cartesianViewBoxToTrapezoid(Hn)},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var tr=reactExports.useContext(PolarLabelContext),Hn=useAppSelector(selectPolarViewBox);return tr||Hn},getLabel=tr=>{var{value:Hn,formatter:er}=tr,nr=isNullish(tr.children)?Hn:tr.children;return typeof er=="function"?er(nr):nr},isLabelContentAFunction=tr=>tr!=null&&typeof tr=="function",getDeltaAngle=(tr,Hn)=>{var er=mathSign(Hn-tr),nr=Math.min(Math.abs(Hn-tr),360);return er*nr},renderRadialLabel=(tr,Hn,er,nr,ir)=>{var{offset:rr,className:sr}=tr,{cx:ar,cy:or,innerRadius:lr,outerRadius:cr,startAngle:ur,endAngle:dr,clockWise:fr}=ir,xr=(lr+cr)/2,yr=getDeltaAngle(ur,dr),_r=yr>=0?1:-1,Sr,jr;switch(Hn){case"insideStart":Sr=ur+_r*rr,jr=fr;break;case"insideEnd":Sr=dr-_r*rr,jr=!fr;break;case"end":Sr=dr+_r*rr,jr=fr;break;default:throw new Error("Unsupported position ".concat(Hn))}jr=yr<=0?jr:!jr;var Dr=polarToCartesian(ar,or,xr,Sr),Ir=polarToCartesian(ar,or,xr,Sr+(jr?1:-1)*359),Mr="M".concat(Dr.x,",").concat(Dr.y,`
    A`).concat(xr,",").concat(xr,",0,1,").concat(jr?0:1,`,
    `).concat(Ir.x,",").concat(Ir.y),Or=isNullish(tr.id)?uniqueId("recharts-radial-line-"):tr.id;return reactExports.createElement("text",_extends$d({},nr,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",sr)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:Or,d:Mr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(Or)},er))},getAttrsOfPolarLabel=(tr,Hn,er)=>{var{cx:nr,cy:ir,innerRadius:rr,outerRadius:sr,startAngle:ar,endAngle:or}=tr,lr=(ar+or)/2;if(er==="outside"){var{x:cr,y:ur}=polarToCartesian(nr,ir,sr+Hn,lr);return{x:cr,y:ur,textAnchor:cr>=nr?"start":"end",verticalAnchor:"middle"}}if(er==="center")return{x:nr,y:ir,textAnchor:"middle",verticalAnchor:"middle"};if(er==="centerTop")return{x:nr,y:ir,textAnchor:"middle",verticalAnchor:"start"};if(er==="centerBottom")return{x:nr,y:ir,textAnchor:"middle",verticalAnchor:"end"};var dr=(rr+sr)/2,{x:fr,y:xr}=polarToCartesian(nr,ir,dr,lr);return{x:fr,y:xr,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=tr=>"cx"in tr&&isNumber(tr.cx),getAttrsOfCartesianLabel=(tr,Hn)=>{var{parentViewBox:er,offset:nr,position:ir}=tr,rr;er!=null&&!isPolar(er)&&(rr=er);var{x:sr,y:ar,upperWidth:or,lowerWidth:lr,height:cr}=Hn,ur=sr,dr=sr+(or-lr)/2,fr=(ur+dr)/2,xr=(or+lr)/2,yr=ur+or/2,_r=cr>=0?1:-1,Sr=_r*nr,jr=_r>0?"end":"start",Dr=_r>0?"start":"end",Ir=or>=0?1:-1,Mr=Ir*nr,Or=Ir>0?"end":"start",Lr=Ir>0?"start":"end";if(ir==="top"){var Fr={x:ur+or/2,y:ar-Sr,textAnchor:"middle",verticalAnchor:jr};return _objectSpread$c(_objectSpread$c({},Fr),rr?{height:Math.max(ar-rr.y,0),width:or}:{})}if(ir==="bottom"){var Vr={x:dr+lr/2,y:ar+cr+Sr,textAnchor:"middle",verticalAnchor:Dr};return _objectSpread$c(_objectSpread$c({},Vr),rr?{height:Math.max(rr.y+rr.height-(ar+cr),0),width:lr}:{})}if(ir==="left"){var Zr={x:fr-Mr,y:ar+cr/2,textAnchor:Or,verticalAnchor:"middle"};return _objectSpread$c(_objectSpread$c({},Zr),rr?{width:Math.max(Zr.x-rr.x,0),height:cr}:{})}if(ir==="right"){var Hr={x:fr+xr+Mr,y:ar+cr/2,textAnchor:Lr,verticalAnchor:"middle"};return _objectSpread$c(_objectSpread$c({},Hr),rr?{width:Math.max(rr.x+rr.width-Hr.x,0),height:cr}:{})}var Yr=rr?{width:xr,height:cr}:{};return ir==="insideLeft"?_objectSpread$c({x:fr+Mr,y:ar+cr/2,textAnchor:Lr,verticalAnchor:"middle"},Yr):ir==="insideRight"?_objectSpread$c({x:fr+xr-Mr,y:ar+cr/2,textAnchor:Or,verticalAnchor:"middle"},Yr):ir==="insideTop"?_objectSpread$c({x:ur+or/2,y:ar+Sr,textAnchor:"middle",verticalAnchor:Dr},Yr):ir==="insideBottom"?_objectSpread$c({x:dr+lr/2,y:ar+cr-Sr,textAnchor:"middle",verticalAnchor:jr},Yr):ir==="insideTopLeft"?_objectSpread$c({x:ur+Mr,y:ar+Sr,textAnchor:Lr,verticalAnchor:Dr},Yr):ir==="insideTopRight"?_objectSpread$c({x:ur+or-Mr,y:ar+Sr,textAnchor:Or,verticalAnchor:Dr},Yr):ir==="insideBottomLeft"?_objectSpread$c({x:dr+Mr,y:ar+cr-Sr,textAnchor:Lr,verticalAnchor:jr},Yr):ir==="insideBottomRight"?_objectSpread$c({x:dr+lr-Mr,y:ar+cr-Sr,textAnchor:Or,verticalAnchor:jr},Yr):ir&&typeof ir=="object"&&(isNumber(ir.x)||isPercent(ir.x))&&(isNumber(ir.y)||isPercent(ir.y))?_objectSpread$c({x:sr+getPercentValue(ir.x,xr),y:ar+getPercentValue(ir.y,cr),textAnchor:"end",verticalAnchor:"end"},Yr):_objectSpread$c({x:yr,y:ar+cr/2,textAnchor:"middle",verticalAnchor:"middle"},Yr)},defaultLabelProps={angle:0,offset:5,zIndex:DefaultZIndexes.label,position:"middle",textBreakAll:!1};function Label$1(tr){var Hn=resolveDefaultProps(tr,defaultLabelProps),{viewBox:er,position:nr,value:ir,children:rr,content:sr,className:ar="",textBreakAll:or,labelRef:lr}=Hn,cr=usePolarLabelContext(),ur=useCartesianLabelContext(),dr=nr==="center"?ur:cr??ur,fr,xr,yr;if(er==null?fr=dr:isPolar(er)?fr=er:fr=cartesianViewBoxToTrapezoid(er),!fr||isNullish(ir)&&isNullish(rr)&&!reactExports.isValidElement(sr)&&typeof sr!="function")return null;var _r=_objectSpread$c(_objectSpread$c({},Hn),{},{viewBox:fr});if(reactExports.isValidElement(sr)){var{labelRef:Sr}=_r,jr=_objectWithoutProperties$c(_r,_excluded$d);return reactExports.cloneElement(sr,jr)}if(typeof sr=="function"){if(xr=reactExports.createElement(sr,_r),reactExports.isValidElement(xr))return xr}else xr=getLabel(Hn);var Dr=svgPropertiesAndEvents(Hn);if(isPolar(fr)){if(nr==="insideStart"||nr==="insideEnd"||nr==="end")return renderRadialLabel(Hn,nr,xr,Dr,fr);yr=getAttrsOfPolarLabel(fr,Hn.offset,Hn.position)}else yr=getAttrsOfCartesianLabel(Hn,fr);return reactExports.createElement(ZIndexLayer,{zIndex:Hn.zIndex},reactExports.createElement(Text,_extends$d({ref:lr,className:clsx("recharts-label",ar)},Dr,yr,{textAnchor:isValidTextAnchor(Dr.textAnchor)?Dr.textAnchor:yr.textAnchor,breakAll:or}),xr))}Label$1.displayName="Label";var parseLabel=(tr,Hn,er)=>{if(!tr)return null;var nr={viewBox:Hn,labelRef:er};return tr===!0?reactExports.createElement(Label$1,_extends$d({key:"label-implicit"},nr)):isNumOrStr(tr)?reactExports.createElement(Label$1,_extends$d({key:"label-implicit",value:tr},nr)):reactExports.isValidElement(tr)?tr.type===Label$1?reactExports.cloneElement(tr,_objectSpread$c({key:"label-implicit"},nr)):reactExports.createElement(Label$1,_extends$d({key:"label-implicit",content:tr},nr)):isLabelContentAFunction(tr)?reactExports.createElement(Label$1,_extends$d({key:"label-implicit",content:tr},nr)):tr&&typeof tr=="object"?reactExports.createElement(Label$1,_extends$d({},tr,{key:"label-implicit"},nr)):null};function CartesianLabelFromLabelProp(tr){var{label:Hn,labelRef:er}=tr,nr=useCartesianLabelContext();return parseLabel(Hn,nr,er)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er[er.length-1]}tr.last=Hn})(last$2)),last$2}var toArray$1={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return Array.isArray(er)?er:Array.from(er)}tr.toArray=Hn})(toArray$1)),toArray$1}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireLast$2(),er=requireToArray(),nr=requireIsArrayLike();function ir(rr){if(nr.isArrayLike(rr))return Hn.last(er.toArray(rr))}tr.last=ir})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$c=["valueAccessor"],_excluded2$5=["dataKey","clockWise","id","textBreakAll","zIndex"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$c.apply(null,arguments)}function _objectWithoutProperties$b(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$c(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$c(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var defaultAccessor=tr=>Array.isArray(tr.value)?last(tr.value):tr.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0);PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(tr){var{valueAccessor:Hn=defaultAccessor}=tr,er=_objectWithoutProperties$b(tr,_excluded$c),{dataKey:nr,clockWise:ir,id:rr,textBreakAll:sr,zIndex:ar}=er,or=_objectWithoutProperties$b(er,_excluded2$5),lr=useCartesianLabelListContext(),cr=usePolarLabelListContext(),ur=lr||cr;return!ur||!ur.length?null:reactExports.createElement(ZIndexLayer,{zIndex:ar??DefaultZIndexes.label},reactExports.createElement(Layer,{className:"recharts-label-list"},ur.map((dr,fr)=>{var xr,yr=isNullish(nr)?Hn(dr,fr):getValueByDataKey(dr&&dr.payload,nr),_r=isNullish(rr)?{}:{id:"".concat(rr,"-").concat(fr)};return reactExports.createElement(Label$1,_extends$c({key:"label-".concat(fr)},svgPropertiesAndEvents(dr),or,_r,{fill:(xr=er.fill)!==null&&xr!==void 0?xr:dr.fill,parentViewBox:dr.parentViewBox,value:yr,textBreakAll:sr,viewBox:dr.viewBox,index:fr,zIndex:0}))})))}LabelList.displayName="LabelList";function LabelListFromLabelProp(tr){var{label:Hn}=tr;return Hn?Hn===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(Hn)||isLabelContentAFunction(Hn)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:Hn}):typeof Hn=="object"?reactExports.createElement(LabelList,_extends$c({key:"labelList-implicit"},Hn,{type:String(Hn.type)})):null:null}var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(tr,Hn){tr.radiusAxis[Hn.payload.id]=Hn.payload},removeRadiusAxis(tr,Hn){delete tr.radiusAxis[Hn.payload.id]},addAngleAxis(tr,Hn){tr.angleAxis[Hn.payload.id]=Hn.payload},removeAngleAxis(tr,Hn){delete tr.angleAxis[Hn.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,reactIs={exports:{}},reactIs_production_min={};var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var tr=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),nr=Symbol.for("react.strict_mode"),ir=Symbol.for("react.profiler"),rr=Symbol.for("react.provider"),sr=Symbol.for("react.context"),ar=Symbol.for("react.server_context"),or=Symbol.for("react.forward_ref"),lr=Symbol.for("react.suspense"),cr=Symbol.for("react.suspense_list"),ur=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),fr=Symbol.for("react.offscreen"),xr;xr=Symbol.for("react.module.reference");function yr(_r){if(typeof _r=="object"&&_r!==null){var Sr=_r.$$typeof;switch(Sr){case tr:switch(_r=_r.type,_r){case er:case ir:case nr:case lr:case cr:return _r;default:switch(_r=_r&&_r.$$typeof,_r){case ar:case sr:case or:case dr:case ur:case rr:return _r;default:return Sr}}case Hn:return Sr}}}return reactIs_production_min.ContextConsumer=sr,reactIs_production_min.ContextProvider=rr,reactIs_production_min.Element=tr,reactIs_production_min.ForwardRef=or,reactIs_production_min.Fragment=er,reactIs_production_min.Lazy=dr,reactIs_production_min.Memo=ur,reactIs_production_min.Portal=Hn,reactIs_production_min.Profiler=ir,reactIs_production_min.StrictMode=nr,reactIs_production_min.Suspense=lr,reactIs_production_min.SuspenseList=cr,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(_r){return yr(_r)===sr},reactIs_production_min.isContextProvider=function(_r){return yr(_r)===rr},reactIs_production_min.isElement=function(_r){return typeof _r=="object"&&_r!==null&&_r.$$typeof===tr},reactIs_production_min.isForwardRef=function(_r){return yr(_r)===or},reactIs_production_min.isFragment=function(_r){return yr(_r)===er},reactIs_production_min.isLazy=function(_r){return yr(_r)===dr},reactIs_production_min.isMemo=function(_r){return yr(_r)===ur},reactIs_production_min.isPortal=function(_r){return yr(_r)===Hn},reactIs_production_min.isProfiler=function(_r){return yr(_r)===ir},reactIs_production_min.isStrictMode=function(_r){return yr(_r)===nr},reactIs_production_min.isSuspense=function(_r){return yr(_r)===lr},reactIs_production_min.isSuspenseList=function(_r){return yr(_r)===cr},reactIs_production_min.isValidElementType=function(_r){return typeof _r=="string"||typeof _r=="function"||_r===er||_r===ir||_r===nr||_r===lr||_r===cr||_r===fr||typeof _r=="object"&&_r!==null&&(_r.$$typeof===dr||_r.$$typeof===ur||_r.$$typeof===rr||_r.$$typeof===sr||_r.$$typeof===or||_r.$$typeof===xr||_r.getModuleId!==void 0)},reactIs_production_min.typeOf=yr,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),getDisplayName=tr=>typeof tr=="string"?tr:tr?tr.displayName||tr.name||"Component":"",lastChildren=null,lastResult=null,toArray=tr=>{if(tr===lastChildren&&Array.isArray(lastResult))return lastResult;var Hn=[];return reactExports.Children.forEach(tr,er=>{isNullish(er)||(reactIsExports.isFragment(er)?Hn=Hn.concat(toArray(er.props.children)):Hn.push(er))}),lastResult=Hn,lastChildren=tr,Hn};function findAllByType(tr,Hn){var er=[],nr=[];return Array.isArray(Hn)?nr=Hn.map(ir=>getDisplayName(ir)):nr=[getDisplayName(Hn)],toArray(tr).forEach(ir=>{var rr=get(ir,"type.displayName")||get(ir,"type.name");rr&&nr.indexOf(rr)!==-1&&er.push(ir)}),er}var isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){if(typeof er!="object"||er==null)return!1;if(Object.getPrototypeOf(er)===null)return!0;if(Object.prototype.toString.call(er)!=="[object Object]"){const ir=er[Symbol.toStringTag];return ir==null||!Object.getOwnPropertyDescriptor(er,Symbol.toStringTag)?.writable?!1:er.toString()===`[object ${ir}]`}let nr=er;for(;Object.getPrototypeOf(nr)!==null;)nr=Object.getPrototypeOf(nr);return Object.getPrototypeOf(er)===nr}tr.isPlainObject=Hn})(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$b(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$b(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$b(Object(er),!0).forEach(function(nr){_defineProperty$b(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$b(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$b(tr,Hn,er){return(Hn=_toPropertyKey$b(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$b(tr){var Hn=_toPrimitive$b(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$b(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$b.apply(null,arguments)}var getTrapezoidPath=(tr,Hn,er,nr,ir)=>{var rr=er-nr,sr;return sr="M ".concat(tr,",").concat(Hn),sr+="L ".concat(tr+er,",").concat(Hn),sr+="L ".concat(tr+er-rr/2,",").concat(Hn+ir),sr+="L ".concat(tr+er-rr/2-nr,",").concat(Hn+ir),sr+="L ".concat(tr,",").concat(Hn," Z"),sr},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=tr=>{var Hn=resolveDefaultProps(tr,defaultProps$1),{x:er,y:nr,upperWidth:ir,lowerWidth:rr,height:sr,className:ar}=Hn,{animationEasing:or,animationDuration:lr,animationBegin:cr,isUpdateAnimationActive:ur}=Hn,dr=reactExports.useRef(null),[fr,xr]=reactExports.useState(-1),yr=reactExports.useRef(ir),_r=reactExports.useRef(rr),Sr=reactExports.useRef(sr),jr=reactExports.useRef(er),Dr=reactExports.useRef(nr),Ir=useAnimationId(tr,"trapezoid-");if(reactExports.useEffect(()=>{if(dr.current&&dr.current.getTotalLength)try{var io=dr.current.getTotalLength();io&&xr(io)}catch{}},[]),er!==+er||nr!==+nr||ir!==+ir||rr!==+rr||sr!==+sr||ir===0&&rr===0||sr===0)return null;var Mr=clsx("recharts-trapezoid",ar);if(!ur)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$b({},svgPropertiesAndEvents(Hn),{className:Mr,d:getTrapezoidPath(er,nr,ir,rr,sr)})));var Or=yr.current,Lr=_r.current,Fr=Sr.current,Vr=jr.current,Zr=Dr.current,Hr="0px ".concat(fr===-1?1:fr,"px"),Yr="".concat(fr,"px 0px"),eo=getTransitionVal(["strokeDasharray"],lr,or);return reactExports.createElement(JavascriptAnimate,{animationId:Ir,key:Ir,canBegin:fr>0,duration:lr,easing:or,isActive:ur,begin:cr},io=>{var uo=interpolate$1(Or,ir,io),so=interpolate$1(Lr,rr,io),no=interpolate$1(Fr,sr,io),po=interpolate$1(Vr,er,io),co=interpolate$1(Zr,nr,io);dr.current&&(yr.current=uo,_r.current=so,Sr.current=no,jr.current=po,Dr.current=co);var lo=io>0?{transition:eo,strokeDasharray:Yr}:{strokeDasharray:Hr};return reactExports.createElement("path",_extends$b({},svgPropertiesAndEvents(Hn),{className:Mr,d:getTrapezoidPath(po,co,uo,so,no),ref:dr,style:_objectSpread$b(_objectSpread$b({},lo),Hn.style)}))})},_excluded$b=["option","shapeType","propTransformer","activeClassName"];function _objectWithoutProperties$a(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$b(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$b(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function ownKeys$a(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$a(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$a(Object(er),!0).forEach(function(nr){_defineProperty$a(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$a(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$a(tr,Hn,er){return(Hn=_toPropertyKey$a(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$a(tr){var Hn=_toPrimitive$a(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$a(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function defaultPropTransformer(tr,Hn){return _objectSpread$a(_objectSpread$a({},Hn),tr)}function isSymbolsProps(tr,Hn){return tr==="symbols"}function ShapeSelector(tr){var{shapeType:Hn,elementProps:er}=tr;switch(Hn){case"rectangle":return reactExports.createElement(Rectangle,er);case"trapezoid":return reactExports.createElement(Trapezoid,er);case"sector":return reactExports.createElement(Sector,er);case"symbols":if(isSymbolsProps(Hn))return reactExports.createElement(Symbols,er);break;case"curve":return reactExports.createElement(Curve,er);default:return null}}function getPropsFromShapeOption(tr){return reactExports.isValidElement(tr)?tr.props:tr}function Shape(tr){var{option:Hn,shapeType:er,propTransformer:nr=defaultPropTransformer,activeClassName:ir="recharts-active-shape"}=tr,rr=_objectWithoutProperties$a(tr,_excluded$b),sr;if(reactExports.isValidElement(Hn))sr=reactExports.cloneElement(Hn,_objectSpread$a(_objectSpread$a({},rr),getPropsFromShapeOption(Hn)));else if(typeof Hn=="function")sr=Hn(rr);else if(isPlainObject(Hn)&&typeof Hn!="boolean"){var ar=nr(Hn,rr);sr=reactExports.createElement(ShapeSelector,{shapeType:er,elementProps:ar})}else{var or=rr;sr=reactExports.createElement(ShapeSelector,{shapeType:er,elementProps:or})}return rr.isActive?reactExports.createElement(Layer,{className:ir},sr):sr}var useMouseEnterItemDispatch=(tr,Hn)=>{var er=useAppDispatch();return(nr,ir)=>rr=>{tr?.(nr,ir,rr),er(setActiveMouseOverItemIndex({activeIndex:String(ir),activeDataKey:Hn,activeCoordinate:nr.tooltipPosition}))}},useMouseLeaveItemDispatch=tr=>{var Hn=useAppDispatch();return(er,nr)=>ir=>{tr?.(er,nr,ir),Hn(mouseLeaveItem())}},useMouseClickItemDispatch=(tr,Hn)=>{var er=useAppDispatch();return(nr,ir)=>rr=>{tr?.(nr,ir,rr),er(setActiveClickItemIndex({activeIndex:String(ir),activeDataKey:Hn,activeCoordinate:nr.tooltipPosition}))}};function SetTooltipEntrySettings(tr){var{tooltipEntrySettings:Hn}=tr,er=useAppDispatch(),nr=useIsPanorama(),ir=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nr||(ir.current===null?er(addTooltipEntrySettings(Hn)):ir.current!==Hn&&er(replaceTooltipEntrySettings({prev:ir.current,next:Hn})),ir.current=Hn)},[Hn,er,nr]),reactExports.useLayoutEffect(()=>()=>{ir.current&&(er(removeTooltipEntrySettings(ir.current)),ir.current=null)},[er]),null}function SetLegendPayload(tr){var{legendPayload:Hn}=tr,er=useAppDispatch(),nr=useIsPanorama(),ir=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nr||(ir.current===null?er(addLegendPayload(Hn)):ir.current!==Hn&&er(replaceLegendPayload({prev:ir.current,next:Hn})),ir.current=Hn)},[er,nr,Hn]),reactExports.useLayoutEffect(()=>()=>{ir.current&&(er(removeLegendPayload(ir.current)),ir.current=null)},[er]),null}var _ref,useIdFallback=()=>{var[tr]=reactExports.useState(()=>uniqueId("uid-"));return tr},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(tr,Hn){var er=useId();return Hn||(tr?"".concat(tr,"-").concat(er):er)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=tr=>{var{id:Hn,type:er,children:nr}=tr,ir=useUniqueId("recharts-".concat(er),Hn);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:ir},nr(ir))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(tr,Hn){tr.cartesianItems.push(Hn.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload,ir=current(tr).cartesianItems.indexOf(er);ir>-1&&(tr.cartesianItems[ir]=nr)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(tr,Hn){var er=current(tr).cartesianItems.indexOf(Hn.payload);er>-1&&tr.cartesianItems.splice(er,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(tr,Hn){tr.polarItems.push(Hn.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(tr,Hn){var er=current(tr).polarItems.indexOf(Hn.payload);er>-1&&tr.polarItems.splice(er,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer,SetCartesianGraphicalItemImpl=tr=>{var Hn=useAppDispatch(),er=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{er.current===null?Hn(addCartesianGraphicalItem(tr)):er.current!==tr&&Hn(replaceCartesianGraphicalItem({prev:er.current,next:tr})),er.current=tr},[Hn,tr]),reactExports.useLayoutEffect(()=>()=>{er.current&&(Hn(removeCartesianGraphicalItem(er.current)),er.current=null)},[Hn]),null},SetCartesianGraphicalItem=reactExports.memo(SetCartesianGraphicalItemImpl);function ownKeys$9(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$9(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$9(Object(er),!0).forEach(function(nr){_defineProperty$9(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$9(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$9(tr,Hn,er){return(Hn=_toPropertyKey$9(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$9(tr){var Hn=_toPrimitive$9(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$9(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(tr,Hn){tr.xAxis[Hn.payload.id]=Hn.payload},prepare:prepareAutoBatched()},replaceXAxis:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload;tr.xAxis[er.id]!==void 0&&(er.id!==nr.id&&delete tr.xAxis[er.id],tr.xAxis[nr.id]=nr)},prepare:prepareAutoBatched()},removeXAxis:{reducer(tr,Hn){delete tr.xAxis[Hn.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(tr,Hn){tr.yAxis[Hn.payload.id]=Hn.payload},prepare:prepareAutoBatched()},replaceYAxis:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload;tr.yAxis[er.id]!==void 0&&(er.id!==nr.id&&delete tr.yAxis[er.id],tr.yAxis[nr.id]=nr)},prepare:prepareAutoBatched()},removeYAxis:{reducer(tr,Hn){delete tr.yAxis[Hn.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(tr,Hn){tr.zAxis[Hn.payload.id]=Hn.payload},prepare:prepareAutoBatched()},replaceZAxis:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload;tr.zAxis[er.id]!==void 0&&(er.id!==nr.id&&delete tr.zAxis[er.id],tr.zAxis[nr.id]=nr)},prepare:prepareAutoBatched()},removeZAxis:{reducer(tr,Hn){delete tr.zAxis[Hn.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(tr,Hn){var{id:er,width:nr}=Hn.payload,ir=tr.yAxis[er];if(ir){var rr=ir.widthHistory||[];if(rr.length===3&&rr[0]===rr[2]&&nr===rr[1]&&nr!==ir.width&&Math.abs(nr-rr[0])<=1)return;var sr=[...rr,nr].slice(-3);tr.yAxis[er]=_objectSpread$9(_objectSpread$9({},tr.yAxis[er]),{},{width:nr,widthHistory:sr})}}}}),{addXAxis,replaceXAxis,removeXAxis,addYAxis,replaceYAxis,removeYAxis,addZAxis,replaceZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],tr=>({top:tr.top,bottom:tr.bottom,left:tr.left,right:tr.right})),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(tr,Hn,er)=>{if(!(!tr||Hn==null||er==null))return{x:tr.left,y:tr.top,width:Math.max(0,Hn-tr.left-tr.right),height:Math.max(0,er-tr.top-tr.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),prefix="Invariant failed";function invariant(tr,Hn){throw new Error(prefix)}var _excluded$a=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$a.apply(null,arguments)}function ownKeys$8(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$8(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$8(Object(er),!0).forEach(function(nr){_defineProperty$8(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$8(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$8(tr,Hn,er){return(Hn=_toPropertyKey$8(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$8(tr){var Hn=_toPrimitive$8(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$8(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$9(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$a(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$a(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function typeguardBarRectangleProps(tr,Hn){var{x:er,y:nr}=tr,ir=_objectWithoutProperties$9(tr,_excluded$a),rr="".concat(er),sr=parseInt(rr,10),ar="".concat(nr),or=parseInt(ar,10),lr="".concat(Hn.height||ir.height),cr=parseInt(lr,10),ur="".concat(Hn.width||ir.width),dr=parseInt(ur,10);return _objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},Hn),ir),sr?{x:sr}:{}),or?{y:or}:{}),{},{height:cr,width:dr,name:Hn.name,radius:Hn.radius})}function BarRectangle(tr){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},tr))}var minPointSizeCallback=function tr(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(nr,ir)=>{if(isNumber(Hn))return Hn;var rr=isNumber(nr)||isNullish(nr);return rr?Hn(nr,ir):(rr||invariant(),er)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(tr,Hn)=>{var{itemId:er,errorBar:nr}=Hn.payload;tr[er]||(tr[er]=[]),tr[er].push(nr)},replaceErrorBar:(tr,Hn)=>{var{itemId:er,prev:nr,next:ir}=Hn.payload;tr[er]&&(tr[er]=tr[er].map(rr=>rr.dataKey===nr.dataKey&&rr.direction===nr.direction?ir:rr))},removeErrorBar:(tr,Hn)=>{var{itemId:er,errorBar:nr}=Hn.payload;tr[er]&&(tr[er]=tr[er].filter(ir=>ir.dataKey!==nr.dataKey||ir.direction!==nr.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$9=["children"];function _objectWithoutProperties$8(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$9(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$9(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(tr){var{children:Hn}=tr,er=_objectWithoutProperties$8(tr,_excluded$9);return reactExports.createElement(ErrorBarContext.Provider,{value:er},Hn)}function useNeedsClip(tr,Hn){var er,nr,ir=useAppSelector(lr=>selectXAxisSettings(lr,tr)),rr=useAppSelector(lr=>selectYAxisSettings(lr,Hn)),sr=(er=ir?.allowDataOverflow)!==null&&er!==void 0?er:implicitXAxis.allowDataOverflow,ar=(nr=rr?.allowDataOverflow)!==null&&nr!==void 0?nr:implicitYAxis.allowDataOverflow,or=sr||ar;return{needClip:or,needClipX:sr,needClipY:ar}}function GraphicalItemClipPath(tr){var{xAxisId:Hn,yAxisId:er,clipPathId:nr}=tr,ir=usePlotArea(),{needClipX:rr,needClipY:sr,needClip:ar}=useNeedsClip(Hn,er);if(!ar||!ir)return null;var{x:or,y:lr,width:cr,height:ur}=ir;return reactExports.createElement("clipPath",{id:"clipPath-".concat(nr)},reactExports.createElement("rect",{x:rr?or:or-cr/2,y:sr?lr:lr-ur/2,width:rr?cr:cr*2,height:sr?ur:ur*2}))}function getZIndexFromUnknown(tr,Hn){return tr&&typeof tr=="object"&&"zIndex"in tr&&typeof tr.zIndex=="number"&&isWellBehavedNumber(tr.zIndex)?tr.zIndex:Hn}var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var tr=requireReact();function Hn(or,lr){return or===lr&&(or!==0||1/or===1/lr)||or!==or&&lr!==lr}var er=typeof Object.is=="function"?Object.is:Hn,nr=tr.useSyncExternalStore,ir=tr.useRef,rr=tr.useEffect,sr=tr.useMemo,ar=tr.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(or,lr,cr,ur,dr){var fr=ir(null);if(fr.current===null){var xr={hasValue:!1,value:null};fr.current=xr}else xr=fr.current;fr=sr(function(){function _r(Mr){if(!Sr){if(Sr=!0,jr=Mr,Mr=ur(Mr),dr!==void 0&&xr.hasValue){var Or=xr.value;if(dr(Or,Mr))return Dr=Or}return Dr=Mr}if(Or=Dr,er(jr,Mr))return Or;var Lr=ur(Mr);return dr!==void 0&&dr(Or,Lr)?(jr=Mr,Or):(jr=Mr,Dr=Lr)}var Sr=!1,jr,Dr,Ir=cr===void 0?null:cr;return[function(){return _r(lr())},Ir===null?void 0:function(){return _r(Ir())}]},[lr,cr,ur,dr]);var yr=nr(or,fr[0],fr[1]);return rr(function(){xr.hasValue=!0,xr.value=yr},[yr]),ar(yr),yr},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(tr){tr()}function createListenerCollection(){let tr=null,Hn=null;return{clear(){tr=null,Hn=null},notify(){defaultNoopBatch(()=>{let er=tr;for(;er;)er.callback(),er=er.next})},get(){const er=[];let nr=tr;for(;nr;)er.push(nr),nr=nr.next;return er},subscribe(er){let nr=!0;const ir=Hn={callback:er,next:null,prev:Hn};return ir.prev?ir.prev.next=ir:tr=ir,function(){!nr||tr===null||(nr=!1,ir.next?ir.next.prev=ir.prev:Hn=ir.prev,ir.prev?ir.prev.next=ir.next:tr=ir.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(tr,Hn){let er,nr=nullListeners,ir=0,rr=!1;function sr(yr){cr();const _r=nr.subscribe(yr);let Sr=!1;return()=>{Sr||(Sr=!0,_r(),ur())}}function ar(){nr.notify()}function or(){xr.onStateChange&&xr.onStateChange()}function lr(){return rr}function cr(){ir++,er||(er=tr.subscribe(or),nr=createListenerCollection())}function ur(){ir--,er&&ir===0&&(er(),er=void 0,nr.clear(),nr=nullListeners)}function dr(){rr||(rr=!0,cr())}function fr(){rr&&(rr=!1,ur())}const xr={addNestedSub:sr,notifyNestedSubs:ar,handleChangeWrapper:or,isSubscribed:lr,trySubscribe:dr,tryUnsubscribe:fr,getListeners:()=>nr};return xr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect();function is$2(tr,Hn){return tr===Hn?tr!==0||Hn!==0||1/tr===1/Hn:tr!==tr&&Hn!==Hn}function shallowEqual(tr,Hn){if(is$2(tr,Hn))return!0;if(typeof tr!="object"||tr===null||typeof Hn!="object"||Hn===null)return!1;const er=Object.keys(tr),nr=Object.keys(Hn);if(er.length!==nr.length)return!1;for(let ir=0;ir<er.length;ir++)if(!Object.prototype.hasOwnProperty.call(Hn,er[ir])||!is$2(tr[er[ir]],Hn[er[ir]]))return!1;return!0}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext$1(){if(!reactExports.createContext)return{};const tr=gT[ContextKey]??=new Map;let Hn=tr.get(reactExports.createContext);return Hn||(Hn=reactExports.createContext(null),tr.set(reactExports.createContext,Hn)),Hn}var ReactReduxContext=getContext$1();function Provider(tr){const{children:Hn,context:er,serverState:nr,store:ir}=tr,rr=reactExports.useMemo(()=>{const or=createSubscription(ir);return{store:ir,subscription:or,getServerState:nr?()=>nr:void 0}},[ir,nr]),sr=reactExports.useMemo(()=>ir.getState(),[ir]);useIsomorphicLayoutEffect(()=>{const{subscription:or}=rr;return or.onStateChange=or.notifyNestedSubs,or.trySubscribe(),sr!==ir.getState()&&or.notifyNestedSubs(),()=>{or.tryUnsubscribe(),or.onStateChange=void 0}},[rr,sr]);const ar=er||ReactReduxContext;return reactExports.createElement(ar.Provider,{value:rr},Hn)}var Provider_default=Provider,propsToShallowCompare=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function sameValueZero(tr,Hn){return tr==null&&Hn==null?!0:typeof tr=="number"&&typeof Hn=="number"?tr===Hn||tr!==tr&&Hn!==Hn:tr===Hn}function propsAreEqual(tr,Hn){var er=new Set([...Object.keys(tr),...Object.keys(Hn)]);for(var nr of er)if(propsToShallowCompare.has(nr)){if(tr[nr]==null&&Hn[nr]==null)continue;if(!shallowEqual(tr[nr],Hn[nr]))return!1}else if(!sameValueZero(tr[nr],Hn[nr]))return!1;return!0}var _excluded$8=["onMouseEnter","onMouseLeave","onClick"],_excluded2$4=["value","background","tooltipPosition"],_excluded3$1=["id"],_excluded4$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$9.apply(null,arguments)}function ownKeys$7(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$7(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$7(Object(er),!0).forEach(function(nr){_defineProperty$7(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$7(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$7(tr,Hn,er){return(Hn=_toPropertyKey$7(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$7(tr){var Hn=_toPrimitive$7(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$7(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$7(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$8(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$8(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var computeLegendPayloadFromBarData=tr=>{var{dataKey:Hn,name:er,fill:nr,legendType:ir,hide:rr}=tr;return[{inactive:rr,dataKey:Hn,type:ir,color:nr,value:getTooltipNameProp(er,Hn),payload:tr}]},SetBarTooltipEntrySettings=reactExports.memo(tr=>{var{dataKey:Hn,stroke:er,strokeWidth:nr,fill:ir,name:rr,hide:sr,unit:ar,tooltipType:or}=tr,lr={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:er,strokeWidth:nr,fill:ir,dataKey:Hn,nameKey:void 0,name:getTooltipNameProp(rr,Hn),hide:sr,type:or,color:ir,unit:ar}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:lr})});function BarBackground(tr){var Hn=useAppSelector(selectActiveTooltipIndex),{data:er,dataKey:nr,background:ir,allOtherBarProps:rr}=tr,{onMouseEnter:sr,onMouseLeave:ar,onClick:or}=rr,lr=_objectWithoutProperties$7(rr,_excluded$8),cr=useMouseEnterItemDispatch(sr,nr),ur=useMouseLeaveItemDispatch(ar),dr=useMouseClickItemDispatch(or,nr);if(!ir||er==null)return null;var fr=svgPropertiesNoEventsFromUnknown(ir);return reactExports.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(ir,DefaultZIndexes.barBackground)},er.map((xr,yr)=>{var{value:_r,background:Sr,tooltipPosition:jr}=xr,Dr=_objectWithoutProperties$7(xr,_excluded2$4);if(!Sr)return null;var Ir=cr(xr,yr),Mr=ur(xr,yr),Or=dr(xr,yr),Lr=_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({option:ir,isActive:String(yr)===Hn},Dr),{},{fill:"#eee"},Sr),fr),adaptEventsOfChild(lr,xr,yr)),{},{onMouseEnter:Ir,onMouseLeave:Mr,onClick:Or,dataKey:nr,index:yr,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(yr)},Lr))}))}function BarLabelListProvider(tr){var{showLabels:Hn,children:er,rects:nr}=tr,ir=nr?.map(rr=>{var sr={x:rr.x,y:rr.y,width:rr.width,lowerWidth:rr.width,upperWidth:rr.width,height:rr.height};return _objectSpread$7(_objectSpread$7({},sr),{},{value:rr.value,payload:rr.payload,parentViewBox:rr.parentViewBox,viewBox:sr,fill:rr.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:Hn?ir:void 0},er)}function BarRectangleWithActiveState(tr){var{shape:Hn,activeBar:er,baseProps:nr,entry:ir,index:rr,dataKey:sr}=tr,ar=useAppSelector(selectActiveTooltipIndex),or=useAppSelector(selectActiveTooltipDataKey),lr=er&&String(rr)===ar&&(or==null||sr===or),cr=lr?er:Hn;return lr?reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},reactExports.createElement(BarRectangle,_extends$9({},nr,{name:String(nr.name)},ir,{isActive:lr,option:cr,index:rr,dataKey:sr}))):reactExports.createElement(BarRectangle,_extends$9({},nr,{name:String(nr.name)},ir,{isActive:lr,option:cr,index:rr,dataKey:sr}))}function BarRectangleNeverActive(tr){var{shape:Hn,baseProps:er,entry:nr,index:ir,dataKey:rr}=tr;return reactExports.createElement(BarRectangle,_extends$9({},er,{name:String(er.name)},nr,{isActive:!1,option:Hn,index:ir,dataKey:rr}))}function BarRectangles(tr){var Hn,{data:er,props:nr}=tr,ir=(Hn=svgPropertiesNoEvents(nr))!==null&&Hn!==void 0?Hn:{},{id:rr}=ir,sr=_objectWithoutProperties$7(ir,_excluded3$1),{shape:ar,dataKey:or,activeBar:lr}=nr,{onMouseEnter:cr,onClick:ur,onMouseLeave:dr}=nr,fr=_objectWithoutProperties$7(nr,_excluded4$1),xr=useMouseEnterItemDispatch(cr,or),yr=useMouseLeaveItemDispatch(dr),_r=useMouseClickItemDispatch(ur,or);return er?reactExports.createElement(reactExports.Fragment,null,er.map((Sr,jr)=>reactExports.createElement(Layer,_extends$9({key:"rectangle-".concat(Sr?.x,"-").concat(Sr?.y,"-").concat(Sr?.value,"-").concat(jr),className:"recharts-bar-rectangle"},adaptEventsOfChild(fr,Sr,jr),{onMouseEnter:xr(Sr,jr),onMouseLeave:yr(Sr,jr),onClick:_r(Sr,jr)}),lr?reactExports.createElement(BarRectangleWithActiveState,{shape:ar,activeBar:lr,baseProps:sr,entry:Sr,index:jr,dataKey:or}):reactExports.createElement(BarRectangleNeverActive,{shape:ar,baseProps:sr,entry:Sr,index:jr,dataKey:or})))):null}function RectanglesWithAnimation(tr){var{props:Hn,previousRectanglesRef:er}=tr,{data:nr,layout:ir,isAnimationActive:rr,animationBegin:sr,animationDuration:ar,animationEasing:or,onAnimationEnd:lr,onAnimationStart:cr}=Hn,ur=er.current,dr=useAnimationId(Hn,"recharts-bar-"),[fr,xr]=reactExports.useState(!1),yr=!fr,_r=reactExports.useCallback(()=>{typeof lr=="function"&&lr(),xr(!1)},[lr]),Sr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),xr(!0)},[cr]);return reactExports.createElement(BarLabelListProvider,{showLabels:yr,rects:nr},reactExports.createElement(JavascriptAnimate,{animationId:dr,begin:sr,duration:ar,isActive:rr,easing:or,onAnimationEnd:_r,onAnimationStart:Sr,key:dr},jr=>{var Dr=jr===1?nr:nr?.map((Ir,Mr)=>{var Or=ur&&ur[Mr];if(Or)return _objectSpread$7(_objectSpread$7({},Ir),{},{x:interpolate$1(Or.x,Ir.x,jr),y:interpolate$1(Or.y,Ir.y,jr),width:interpolate$1(Or.width,Ir.width,jr),height:interpolate$1(Or.height,Ir.height,jr)});if(ir==="horizontal"){var Lr=interpolate$1(0,Ir.height,jr),Fr=interpolate$1(Ir.stackedBarStart,Ir.y,jr);return _objectSpread$7(_objectSpread$7({},Ir),{},{y:Fr,height:Lr})}var Vr=interpolate$1(0,Ir.width,jr),Zr=interpolate$1(Ir.stackedBarStart,Ir.x,jr);return _objectSpread$7(_objectSpread$7({},Ir),{},{width:Vr,x:Zr})});return jr>0&&(er.current=Dr??null),Dr==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:Hn,data:Dr}))}),reactExports.createElement(LabelListFromLabelProp,{label:Hn.label}),Hn.children)}function RenderRectangles(tr){var Hn=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:Hn,props:tr})}var defaultMinPointSize=0,errorBarDataPointFormatter=(tr,Hn)=>{var er=Array.isArray(tr.value)?tr.value[1]:tr.value;return{x:tr.x,y:tr.y,value:er,errorVal:getValueByDataKey(tr,Hn)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:Hn,data:er,dataKey:nr,className:ir,xAxisId:rr,yAxisId:sr,needClip:ar,background:or,id:lr}=this.props;if(Hn||er==null)return null;var cr=clsx("recharts-bar",ir),ur=lr;return reactExports.createElement(Layer,{className:cr,id:lr},ar&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:ur,xAxisId:rr,yAxisId:sr})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:ar?"url(#clipPath-".concat(ur,")"):void 0},reactExports.createElement(BarBackground,{data:er,dataKey:nr,background:or,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(tr){var{xAxisId:Hn,yAxisId:er,hide:nr,legendType:ir,minPointSize:rr,activeBar:sr,animationBegin:ar,animationDuration:or,animationEasing:lr,isAnimationActive:cr}=tr,{needClip:ur}=useNeedsClip(Hn,er),dr=useChartLayout(),fr=useIsPanorama(),xr=findAllByType(tr.children,Cell),yr=useAppSelector(jr=>selectBarRectangles(jr,Hn,er,fr,tr.id,xr));if(dr!=="vertical"&&dr!=="horizontal")return null;var _r,Sr=yr?.[0];return Sr==null||Sr.height==null||Sr.width==null?_r=0:_r=dr==="vertical"?Sr.height/2:Sr.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:Hn,yAxisId:er,data:yr,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:_r},reactExports.createElement(BarWithState,_extends$9({},tr,{layout:dr,needClip:ur,data:yr,xAxisId:Hn,yAxisId:er,hide:nr,legendType:ir,minPointSize:rr,activeBar:sr,animationBegin:ar,animationDuration:or,animationEasing:lr,isAnimationActive:cr})))}function computeBarRectangles(tr){var{layout:Hn,barSettings:{dataKey:er,minPointSize:nr},pos:ir,bandSize:rr,xAxis:sr,yAxis:ar,xAxisTicks:or,yAxisTicks:lr,stackedData:cr,displayedData:ur,offset:dr,cells:fr,parentViewBox:xr,dataStartIndex:yr}=tr,_r=Hn==="horizontal"?ar:sr,Sr=cr?_r.scale.domain():null,jr=getBaseValueOfBar({numericAxis:_r}),Dr=_r.scale(jr);return ur.map((Ir,Mr)=>{var Or,Lr,Fr,Vr,Zr,Hr;cr?Or=truncateByDomain(cr[Mr+yr],Sr):(Or=getValueByDataKey(Ir,er),Array.isArray(Or)||(Or=[jr,Or]));var Yr=minPointSizeCallback(nr,defaultMinPointSize)(Or[1],Mr);if(Hn==="horizontal"){var eo,[io,uo]=[ar.scale(Or[0]),ar.scale(Or[1])];Lr=getCateCoordinateOfBar({axis:sr,ticks:or,bandSize:rr,offset:ir.offset,entry:Ir,index:Mr}),Fr=(eo=uo??io)!==null&&eo!==void 0?eo:void 0,Vr=ir.size;var so=io-uo;if(Zr=isNan(so)?0:so,Hr={x:Lr,y:dr.top,width:Vr,height:dr.height},Math.abs(Yr)>0&&Math.abs(Zr)<Math.abs(Yr)){var no=mathSign(Zr||Yr)*(Math.abs(Yr)-Math.abs(Zr));Fr-=no,Zr+=no}}else{var[po,co]=[sr.scale(Or[0]),sr.scale(Or[1])];if(Lr=po,Fr=getCateCoordinateOfBar({axis:ar,ticks:lr,bandSize:rr,offset:ir.offset,entry:Ir,index:Mr}),Vr=co-po,Zr=ir.size,Hr={x:dr.left,y:Fr,width:dr.width,height:Zr},Math.abs(Yr)>0&&Math.abs(Vr)<Math.abs(Yr)){var lo=mathSign(Vr||Yr)*(Math.abs(Yr)-Math.abs(Vr));Vr+=lo}}if(Lr==null||Fr==null||Vr==null||Zr==null)return null;var ao=_objectSpread$7(_objectSpread$7({},Ir),{},{stackedBarStart:Dr,x:Lr,y:Fr,width:Vr,height:Zr,value:cr?Or:Or[1],payload:Ir,background:Hr,tooltipPosition:{x:Lr+Vr/2,y:Fr+Zr/2},parentViewBox:xr},fr&&fr[Mr]&&fr[Mr].props);return ao}).filter(Boolean)}function BarFn(tr){var Hn=resolveDefaultProps(tr,defaultBarProps),er=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Hn.id,type:"bar"},nr=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(Hn)}),reactExports.createElement(SetBarTooltipEntrySettings,{dataKey:Hn.dataKey,stroke:Hn.stroke,strokeWidth:Hn.strokeWidth,fill:Hn.fill,name:Hn.name,hide:Hn.hide,unit:Hn.unit,tooltipType:Hn.tooltipType}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:nr,data:void 0,xAxisId:Hn.xAxisId,yAxisId:Hn.yAxisId,zAxisId:0,dataKey:Hn.dataKey,stackId:getNormalizedStackId(Hn.stackId),hide:Hn.hide,barSize:Hn.barSize,minPointSize:Hn.minPointSize,maxBarSize:Hn.maxBarSize,isPanorama:er}),reactExports.createElement(ZIndexLayer,{zIndex:Hn.zIndex},reactExports.createElement(BarImpl,_extends$9({},Hn,{id:nr})))))}var Bar=reactExports.memo(BarFn,propsAreEqual);Bar.displayName="Bar";function ownKeys$6(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$6(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$6(Object(er),!0).forEach(function(nr){_defineProperty$6(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$6(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$6(tr,Hn,er){return(Hn=_toPropertyKey$6(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$6(tr){var Hn=_toPrimitive$6(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$6(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var pickXAxisId=(tr,Hn)=>Hn,pickYAxisId=(tr,Hn,er)=>er,pickIsPanorama=(tr,Hn,er,nr)=>nr,pickBarId=(tr,Hn,er,nr,ir)=>ir,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(tr,Hn)=>tr.filter(er=>er.type==="bar").find(er=>er.id===Hn)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],tr=>tr?.maxBarSize),pickCells=(tr,Hn,er,nr,ir,rr)=>rr,getBarSize=(tr,Hn,er)=>{var nr=er??tr;if(!isNullish(nr))return getPercentValue(nr,Hn,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(tr,Hn,er,nr,ir)=>Hn.filter(rr=>tr==="horizontal"?rr.xAxisId===er:rr.yAxisId===nr).filter(rr=>rr.isPanorama===ir).filter(rr=>rr.hide===!1).filter(rr=>rr.type==="bar")),selectBarStackGroups=(tr,Hn,er,nr)=>{var ir=selectChartLayout(tr);return ir==="horizontal"?selectStackGroups(tr,"yAxis",er,nr):selectStackGroups(tr,"xAxis",Hn,nr)},selectBarCartesianAxisSize=(tr,Hn,er)=>{var nr=selectChartLayout(tr);return nr==="horizontal"?selectCartesianAxisSize(tr,"xAxis",Hn):selectCartesianAxisSize(tr,"yAxis",er)},combineBarSizeList=(tr,Hn,er)=>{var nr={},ir=tr.filter(isStacked),rr=tr.filter(lr=>lr.stackId==null),sr=ir.reduce((lr,cr)=>(lr[cr.stackId]||(lr[cr.stackId]=[]),lr[cr.stackId].push(cr),lr),nr),ar=Object.entries(sr).map(lr=>{var[cr,ur]=lr,dr=ur.map(xr=>xr.dataKey),fr=getBarSize(Hn,er,ur[0].barSize);return{stackId:cr,dataKeys:dr,barSize:fr}}),or=rr.map(lr=>{var cr=[lr.dataKey].filter(dr=>dr!=null),ur=getBarSize(Hn,er,lr.barSize);return{stackId:void 0,dataKeys:cr,barSize:ur}});return[...ar,...or]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(tr,Hn,er,nr,ir)=>{var rr,sr,ar=selectSynchronisedBarSettings(tr,Hn,er,nr,ir);if(ar!=null){var or=selectChartLayout(tr),lr=selectRootMaxBarSize(tr),{maxBarSize:cr}=ar,ur=isNullish(cr)?lr:cr,dr,fr;return or==="horizontal"?(dr=selectAxisWithScale(tr,"xAxis",Hn,nr),fr=selectTicksOfGraphicalItem(tr,"xAxis",Hn,nr)):(dr=selectAxisWithScale(tr,"yAxis",er,nr),fr=selectTicksOfGraphicalItem(tr,"yAxis",er,nr)),(rr=(sr=getBandSizeOfAxis(dr,fr,!0))!==null&&sr!==void 0?sr:ur)!==null&&rr!==void 0?rr:0}},selectAxisBandSize=(tr,Hn,er,nr)=>{var ir=selectChartLayout(tr),rr,sr;return ir==="horizontal"?(rr=selectAxisWithScale(tr,"xAxis",Hn,nr),sr=selectTicksOfGraphicalItem(tr,"xAxis",Hn,nr)):(rr=selectAxisWithScale(tr,"yAxis",er,nr),sr=selectTicksOfGraphicalItem(tr,"yAxis",er,nr)),getBandSizeOfAxis(rr,sr)};function getBarPositions(tr,Hn,er,nr,ir){var rr=nr.length;if(!(rr<1)){var sr=getPercentValue(tr,er,0,!0),ar,or=[];if(isWellBehavedNumber(nr[0].barSize)){var lr=!1,cr=er/rr,ur=nr.reduce((Sr,jr)=>Sr+(jr.barSize||0),0);ur+=(rr-1)*sr,ur>=er&&(ur-=(rr-1)*sr,sr=0),ur>=er&&cr>0&&(lr=!0,cr*=.9,ur=rr*cr);var dr=(er-ur)/2>>0,fr={offset:dr-sr,size:0};ar=nr.reduce((Sr,jr)=>{var Dr,Ir={stackId:jr.stackId,dataKeys:jr.dataKeys,position:{offset:fr.offset+fr.size+sr,size:lr?cr:(Dr=jr.barSize)!==null&&Dr!==void 0?Dr:0}},Mr=[...Sr,Ir];return fr=Mr[Mr.length-1].position,Mr},or)}else{var xr=getPercentValue(Hn,er,0,!0);er-2*xr-(rr-1)*sr<=0&&(sr=0);var yr=(er-2*xr-(rr-1)*sr)/rr;yr>1&&(yr>>=0);var _r=isWellBehavedNumber(ir)?Math.min(yr,ir):yr;ar=nr.reduce((Sr,jr,Dr)=>[...Sr,{stackId:jr.stackId,dataKeys:jr.dataKeys,position:{offset:xr+(yr+sr)*Dr+(yr-_r)/2,size:_r}}],or)}return ar}}var combineAllBarPositions=(tr,Hn,er,nr,ir,rr,sr)=>{var ar=isNullish(sr)?Hn:sr,or=getBarPositions(er,nr,ir!==rr?ir:rr,tr,ar);return ir!==rr&&or!=null&&(or=or.map(lr=>_objectSpread$6(_objectSpread$6({},lr),{},{position:_objectSpread$6(_objectSpread$6({},lr.position),{},{offset:lr.position.offset-ir/2})}))),or},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale=(tr,Hn,er,nr)=>selectAxisWithScale(tr,"xAxis",Hn,nr),selectYAxisWithScale=(tr,Hn,er,nr)=>selectAxisWithScale(tr,"yAxis",er,nr),selectXAxisTicks=(tr,Hn,er,nr)=>selectTicksOfGraphicalItem(tr,"xAxis",Hn,nr),selectYAxisTicks=(tr,Hn,er,nr)=>selectTicksOfGraphicalItem(tr,"yAxis",er,nr),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(tr,Hn)=>{if(!(tr==null||Hn==null)){var er=tr.find(nr=>nr.stackId===Hn.stackId&&Hn.dataKey!=null&&nr.dataKeys.includes(Hn.dataKey));if(er!=null)return er.position}}),combineStackedData=(tr,Hn)=>{var er=getStackSeriesIdentifier(Hn);if(!(!tr||er==null||Hn==null)){var{stackId:nr}=Hn;if(nr!=null){var ir=tr[nr];if(ir){var{stackedData:rr}=ir;if(rr)return rr.find(sr=>sr.key===er)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(tr,Hn,er,nr,ir,rr,sr,ar,or,lr,cr,ur,dr)=>{var{chartData:fr,dataStartIndex:xr,dataEndIndex:yr}=or;if(!(ur==null||sr==null||Hn==null||ar!=="horizontal"&&ar!=="vertical"||er==null||nr==null||ir==null||rr==null||lr==null)){var{data:_r}=ur,Sr;if(_r!=null&&_r.length>0?Sr=_r:Sr=fr?.slice(xr,yr+1),Sr!=null)return computeBarRectangles({layout:ar,barSettings:ur,pos:sr,parentViewBox:Hn,bandSize:lr,xAxis:er,yAxis:nr,xAxisTicks:ir,yAxisTicks:rr,stackedData:cr,displayedData:Sr,offset:tr,cells:dr,dataStartIndex:xr})}}),ChartDataContextProvider=tr=>{var{chartData:Hn}=tr,er=useAppDispatch(),nr=useIsPanorama();return reactExports.useEffect(()=>nr?()=>{}:(er(setChartData(Hn)),()=>{er(setChartData(void 0))}),[Hn,er,nr]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(tr,Hn){return Hn.payload==null?initialState$2:Hn.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function ownKeys$5(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$5(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$5(Object(er),!0).forEach(function(nr){_defineProperty$5(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$5(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$5(tr,Hn,er){return(Hn=_toPropertyKey$5(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$5(tr){var Hn=_toPrimitive$5(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$5(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var rectWithPoints=(tr,Hn)=>{var{x:er,y:nr}=tr,{x:ir,y:rr}=Hn;return{x:Math.min(er,ir),y:Math.min(nr,rr),width:Math.abs(ir-er),height:Math.abs(rr-nr)}},rectWithCoords=tr=>{var{x1:Hn,y1:er,x2:nr,y2:ir}=tr;return rectWithPoints({x:Hn,y:er},{x:nr,y:ir})};class ScaleHelper{static create(Hn){return new ScaleHelper(Hn)}constructor(Hn){this.scale=Hn}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(Hn){var{bandAware:er,position:nr}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Hn!==void 0){if(nr)switch(nr){case"start":return this.scale(Hn);case"middle":{var ir=this.bandwidth?this.bandwidth()/2:0;return this.scale(Hn)+ir}case"end":{var rr=this.bandwidth?this.bandwidth():0;return this.scale(Hn)+rr}default:return this.scale(Hn)}if(er){var sr=this.bandwidth?this.bandwidth()/2:0;return this.scale(Hn)+sr}return this.scale(Hn)}}isInRange(Hn){var er=this.range(),nr=er[0],ir=er[er.length-1];return nr<=ir?Hn>=nr&&Hn<=ir:Hn>=ir&&Hn<=nr}}_defineProperty$5(ScaleHelper,"EPS",1e-4);var createLabeledScales=tr=>{var Hn=Object.keys(tr).reduce((er,nr)=>_objectSpread$5(_objectSpread$5({},er),{},{[nr]:ScaleHelper.create(tr[nr])}),{});return _objectSpread$5(_objectSpread$5({},Hn),{},{apply(er){var{bandAware:nr,position:ir}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(er).map(rr=>{var[sr,ar]=rr;return[sr,Hn[sr].apply(ar,{bandAware:nr,position:ir})]}))},isInRange(er){return Object.keys(er).every(nr=>Hn[nr].isInRange(er[nr]))}})};function normalizeAngle(tr){return(tr%180+180)%180}var getAngledRectangleWidth=function tr(Hn){var{width:er,height:nr}=Hn,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=normalizeAngle(ir),sr=rr*Math.PI/180,ar=Math.atan(nr/er),or=sr>ar&&sr<Math.PI-ar?nr/Math.sin(sr):er/Math.cos(sr);return Math.abs(or)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(tr,Hn)=>{tr.dots.push(Hn.payload)},removeDot:(tr,Hn)=>{var er=current(tr).dots.findIndex(nr=>nr===Hn.payload);er!==-1&&tr.dots.splice(er,1)},addArea:(tr,Hn)=>{tr.areas.push(Hn.payload)},removeArea:(tr,Hn)=>{var er=current(tr).areas.findIndex(nr=>nr===Hn.payload);er!==-1&&tr.areas.splice(er,1)},addLine:(tr,Hn)=>{tr.lines.push(Hn.payload)},removeLine:(tr,Hn)=>{var er=current(tr).lines.findIndex(nr=>nr===Hn.payload);er!==-1&&tr.lines.splice(er,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=tr=>{var{children:Hn}=tr,[er]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),nr=usePlotArea();if(nr==null)return null;var{x:ir,y:rr,width:sr,height:ar}=nr;return reactExports.createElement(ClipPathIdContext.Provider,{value:er},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:er},reactExports.createElement("rect",{x:ir,y:rr,height:ar,width:sr}))),Hn)},useClipPathId=()=>reactExports.useContext(ClipPathIdContext);function ownKeys$4(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$4(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$4(Object(er),!0).forEach(function(nr){_defineProperty$4(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$4(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$4(tr,Hn,er){return(Hn=_toPropertyKey$4(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$4(tr){var Hn=_toPrimitive$4(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$4(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$8.apply(null,arguments)}var renderLine=(tr,Hn)=>{var er;if(reactExports.isValidElement(tr))er=reactExports.cloneElement(tr,Hn);else if(typeof tr=="function")er=tr(Hn);else{if(!isWellBehavedNumber(Hn.x1)||!isWellBehavedNumber(Hn.y1)||!isWellBehavedNumber(Hn.x2)||!isWellBehavedNumber(Hn.y2))return null;er=reactExports.createElement("line",_extends$8({},Hn,{className:"recharts-reference-line-line"}))}return er},getHorizontalLineEndPoints=(tr,Hn,er,nr,ir,rr)=>{var{x:sr,width:ar}=rr,or=ir.y.apply(tr,{position:er});if(isNan(or)||Hn==="discard"&&!ir.y.isInRange(or))return null;var lr=[{x:sr+ar,y:or},{x:sr,y:or}];return nr==="left"?lr.reverse():lr},getVerticalLineEndPoints=(tr,Hn,er,nr,ir,rr)=>{var{y:sr,height:ar}=rr,or=ir.x.apply(tr,{position:er});if(isNan(or)||Hn==="discard"&&!ir.x.isInRange(or))return null;var lr=[{x:or,y:sr+ar},{x:or,y:sr}];return nr==="top"?lr.reverse():lr},getSegmentLineEndPoints=(tr,Hn,er,nr)=>{var ir=tr.map(rr=>nr.apply(rr,{position:er}));return Hn==="discard"&&ir.some(rr=>!nr.isInRange(rr))?null:ir},getEndPoints=(tr,Hn,er,nr,ir,rr)=>{var{x:sr,y:ar,segment:or,ifOverflow:lr}=rr,cr=isNumOrStr(sr),ur=isNumOrStr(ar);return ur?getHorizontalLineEndPoints(ar,lr,er,ir,tr,Hn):cr?getVerticalLineEndPoints(sr,lr,er,nr,tr,Hn):or!=null&&or.length===2?getSegmentLineEndPoints(or,lr,er,tr):null};function ReportReferenceLine(tr){var Hn=useAppDispatch();return reactExports.useEffect(()=>(Hn(addLine(tr)),()=>{Hn(removeLine(tr))})),null}function ReferenceLineImpl(tr){var{xAxisId:Hn,yAxisId:er,shape:nr,className:ir,ifOverflow:rr}=tr,sr=useIsPanorama(),ar=useClipPathId(),or=useAppSelector(Or=>selectXAxisSettings(Or,Hn)),lr=useAppSelector(Or=>selectYAxisSettings(Or,er)),cr=useAppSelector(Or=>selectAxisScale(Or,"xAxis",Hn,sr)),ur=useAppSelector(Or=>selectAxisScale(Or,"yAxis",er,sr)),dr=useViewBox();if(!ar||!dr||or==null||lr==null||cr==null||ur==null)return null;var fr=createLabeledScales({x:cr,y:ur}),xr=getEndPoints(fr,dr,tr.position,or.orientation,lr.orientation,tr);if(!xr)return null;var[{x:yr,y:_r},{x:Sr,y:jr}]=xr,Dr=rr==="hidden"?"url(#".concat(ar,")"):void 0,Ir=_objectSpread$4(_objectSpread$4({clipPath:Dr},svgPropertiesAndEvents(tr)),{},{x1:yr,y1:_r,x2:Sr,y2:jr}),Mr=rectWithCoords({x1:yr,y1:_r,x2:Sr,y2:jr});return reactExports.createElement(ZIndexLayer,{zIndex:tr.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-reference-line",ir)},renderLine(nr,Ir),reactExports.createElement(CartesianLabelContextProvider,_extends$8({},Mr,{lowerWidth:Mr.width,upperWidth:Mr.width}),reactExports.createElement(CartesianLabelFromLabelProp,{label:tr.label}),tr.children)))}var referenceLineDefaultProps={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:DefaultZIndexes.line};function ReferenceLine(tr){var Hn=resolveDefaultProps(tr,referenceLineDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportReferenceLine,{yAxisId:Hn.yAxisId,xAxisId:Hn.xAxisId,ifOverflow:Hn.ifOverflow,x:Hn.x,y:Hn.y,segment:Hn.segment}),reactExports.createElement(ReferenceLineImpl,Hn))}ReferenceLine.displayName="ReferenceLine";function getEveryNthWithCondition(tr,Hn){if(Hn<1)return[];if(Hn===1)return tr;for(var er=[],nr=0;nr<tr.length;nr+=Hn)er.push(tr[nr]);return er}function getAngledTickWidth(tr,Hn,er){var nr={width:tr.width+Hn.width,height:tr.height+Hn.height};return getAngledRectangleWidth(nr,er)}function getTickBoundaries(tr,Hn,er){var nr=er==="width",{x:ir,y:rr,width:sr,height:ar}=tr;return Hn===1?{start:nr?ir:rr,end:nr?ir+sr:rr+ar}:{start:nr?ir+sr:rr+ar,end:nr?ir:rr}}function isVisible(tr,Hn,er,nr,ir){if(tr*Hn<tr*nr||tr*Hn>tr*ir)return!1;var rr=er();return tr*(Hn-tr*rr/2-nr)>=0&&tr*(Hn+tr*rr/2-ir)<=0}function getNumberIntervalTicks(tr,Hn){return getEveryNthWithCondition(tr,Hn+1)}function getEquidistantTicks(tr,Hn,er,nr,ir){for(var rr=(nr||[]).slice(),{start:sr,end:ar}=Hn,or=0,lr=1,cr=sr,ur=function(){var xr=nr?.[or];if(xr===void 0)return{v:getEveryNthWithCondition(nr,lr)};var yr=or,_r,Sr=()=>(_r===void 0&&(_r=er(xr,yr)),_r),jr=xr.coordinate,Dr=or===0||isVisible(tr,jr,Sr,cr,ar);Dr||(or=0,cr=sr,lr+=1),Dr&&(cr=jr+tr*(Sr()/2+ir),or+=lr)},dr;lr<=rr.length;)if(dr=ur(),dr)return dr.v;return[]}function ownKeys$3(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$3(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$3(Object(er),!0).forEach(function(nr){_defineProperty$3(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$3(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$3(tr,Hn,er){return(Hn=_toPropertyKey$3(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$3(tr){var Hn=_toPrimitive$3(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$3(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function getTicksEnd(tr,Hn,er,nr,ir){for(var rr=(nr||[]).slice(),sr=rr.length,{start:ar}=Hn,{end:or}=Hn,lr=function(dr){var fr=rr[dr],xr,yr=()=>(xr===void 0&&(xr=er(fr,dr)),xr);if(dr===sr-1){var _r=tr*(fr.coordinate+tr*yr()/2-or);rr[dr]=fr=_objectSpread$3(_objectSpread$3({},fr),{},{tickCoord:_r>0?fr.coordinate-_r*tr:fr.coordinate})}else rr[dr]=fr=_objectSpread$3(_objectSpread$3({},fr),{},{tickCoord:fr.coordinate});if(fr.tickCoord!=null){var Sr=isVisible(tr,fr.tickCoord,yr,ar,or);Sr&&(or=fr.tickCoord-tr*(yr()/2+ir),rr[dr]=_objectSpread$3(_objectSpread$3({},fr),{},{isShow:!0}))}},cr=sr-1;cr>=0;cr--)lr(cr);return rr}function getTicksStart(tr,Hn,er,nr,ir,rr){var sr=(nr||[]).slice(),ar=sr.length,{start:or,end:lr}=Hn;if(rr){var cr=nr[ar-1],ur=er(cr,ar-1),dr=tr*(cr.coordinate+tr*ur/2-lr);if(sr[ar-1]=cr=_objectSpread$3(_objectSpread$3({},cr),{},{tickCoord:dr>0?cr.coordinate-dr*tr:cr.coordinate}),cr.tickCoord!=null){var fr=isVisible(tr,cr.tickCoord,()=>ur,or,lr);fr&&(lr=cr.tickCoord-tr*(ur/2+ir),sr[ar-1]=_objectSpread$3(_objectSpread$3({},cr),{},{isShow:!0}))}}for(var xr=rr?ar-1:ar,yr=function(jr){var Dr=sr[jr],Ir,Mr=()=>(Ir===void 0&&(Ir=er(Dr,jr)),Ir);if(jr===0){var Or=tr*(Dr.coordinate-tr*Mr()/2-or);sr[jr]=Dr=_objectSpread$3(_objectSpread$3({},Dr),{},{tickCoord:Or<0?Dr.coordinate-Or*tr:Dr.coordinate})}else sr[jr]=Dr=_objectSpread$3(_objectSpread$3({},Dr),{},{tickCoord:Dr.coordinate});if(Dr.tickCoord!=null){var Lr=isVisible(tr,Dr.tickCoord,Mr,or,lr);Lr&&(or=Dr.tickCoord+tr*(Mr()/2+ir),sr[jr]=_objectSpread$3(_objectSpread$3({},Dr),{},{isShow:!0}))}},_r=0;_r<xr;_r++)yr(_r);return sr}function getTicks(tr,Hn,er){var{tick:nr,ticks:ir,viewBox:rr,minTickGap:sr,orientation:ar,interval:or,tickFormatter:lr,unit:cr,angle:ur}=tr;if(!ir||!ir.length||!nr)return[];if(isNumber(or)||Global.isSsr){var dr;return(dr=getNumberIntervalTicks(ir,isNumber(or)?or:0))!==null&&dr!==void 0?dr:[]}var fr=[],xr=ar==="top"||ar==="bottom"?"width":"height",yr=cr&&xr==="width"?getStringSize(cr,{fontSize:Hn,letterSpacing:er}):{width:0,height:0},_r=(Dr,Ir)=>{var Mr=typeof lr=="function"?lr(Dr.value,Ir):Dr.value;return xr==="width"?getAngledTickWidth(getStringSize(Mr,{fontSize:Hn,letterSpacing:er}),yr,ur):getStringSize(Mr,{fontSize:Hn,letterSpacing:er})[xr]},Sr=ir.length>=2?mathSign(ir[1].coordinate-ir[0].coordinate):1,jr=getTickBoundaries(rr,Sr,xr);return or==="equidistantPreserveStart"?getEquidistantTicks(Sr,jr,_r,ir,sr):(or==="preserveStart"||or==="preserveStartEnd"?fr=getTicksStart(Sr,jr,_r,ir,sr,or==="preserveStartEnd"):fr=getTicksEnd(Sr,jr,_r,ir,sr),fr.filter(Dr=>Dr.isShow))}var getCalculatedYAxisWidth=tr=>{var{ticks:Hn,label:er,labelGapWithTick:nr=5,tickSize:ir=0,tickMargin:rr=0}=tr,sr=0;if(Hn){Array.from(Hn).forEach(cr=>{if(cr){var ur=cr.getBoundingClientRect();ur.width>sr&&(sr=ur.width)}});var ar=er?er.getBoundingClientRect().width:0,or=ir+rr,lr=sr+or+ar+(er?nr:0);return Math.round(lr)}return 0},_excluded$7=["axisLine","width","height","className","hide","ticks","axisType"];function _objectWithoutProperties$6(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$7(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$7(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$7.apply(null,arguments)}function ownKeys$2(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$2(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$2(Object(er),!0).forEach(function(nr){_defineProperty$2(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$2(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$2(tr,Hn,er){return(Hn=_toPropertyKey$2(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$2(tr){var Hn=_toPrimitive$2(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$2(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:DefaultZIndexes.axis};function AxisLine(tr){var{x:Hn,y:er,width:nr,height:ir,orientation:rr,mirror:sr,axisLine:ar,otherSvgProps:or}=tr;if(!ar)return null;var lr=_objectSpread$2(_objectSpread$2(_objectSpread$2({},or),svgPropertiesNoEvents(ar)),{},{fill:"none"});if(rr==="top"||rr==="bottom"){var cr=+(rr==="top"&&!sr||rr==="bottom"&&sr);lr=_objectSpread$2(_objectSpread$2({},lr),{},{x1:Hn,y1:er+cr*ir,x2:Hn+nr,y2:er+cr*ir})}else{var ur=+(rr==="left"&&!sr||rr==="right"&&sr);lr=_objectSpread$2(_objectSpread$2({},lr),{},{x1:Hn+ur*nr,y1:er,x2:Hn+ur*nr,y2:er+ir})}return reactExports.createElement("line",_extends$7({},lr,{className:clsx("recharts-cartesian-axis-line",get(ar,"className"))}))}function getTickLineCoord(tr,Hn,er,nr,ir,rr,sr,ar,or){var lr,cr,ur,dr,fr,xr,yr=ar?-1:1,_r=tr.tickSize||sr,Sr=isNumber(tr.tickCoord)?tr.tickCoord:tr.coordinate;switch(rr){case"top":lr=cr=tr.coordinate,dr=er+ +!ar*ir,ur=dr-yr*_r,xr=ur-yr*or,fr=Sr;break;case"left":ur=dr=tr.coordinate,cr=Hn+ +!ar*nr,lr=cr-yr*_r,fr=lr-yr*or,xr=Sr;break;case"right":ur=dr=tr.coordinate,cr=Hn+ +ar*nr,lr=cr+yr*_r,fr=lr+yr*or,xr=Sr;break;default:lr=cr=tr.coordinate,dr=er+ +ar*ir,ur=dr+yr*_r,xr=ur+yr*or,fr=Sr;break}return{line:{x1:lr,y1:ur,x2:cr,y2:dr},tick:{x:fr,y:xr}}}function getTickTextAnchor(tr,Hn){switch(tr){case"left":return Hn?"start":"end";case"right":return Hn?"end":"start";default:return"middle"}}function getTickVerticalAnchor(tr,Hn){switch(tr){case"left":case"right":return"middle";case"top":return Hn?"start":"end";default:return Hn?"end":"start"}}function TickItem(tr){var{option:Hn,tickProps:er,value:nr}=tr,ir,rr=clsx(er.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(Hn))ir=reactExports.cloneElement(Hn,_objectSpread$2(_objectSpread$2({},er),{},{className:rr}));else if(typeof Hn=="function")ir=Hn(_objectSpread$2(_objectSpread$2({},er),{},{className:rr}));else{var sr="recharts-cartesian-axis-tick-value";typeof Hn!="boolean"&&(sr=clsx(sr,Hn?.className)),ir=reactExports.createElement(Text,_extends$7({},er,{className:sr}),nr)}return ir}var Ticks=reactExports.forwardRef((tr,Hn)=>{var{ticks:er=[],tick:nr,tickLine:ir,stroke:rr,tickFormatter:sr,unit:ar,padding:or,tickTextProps:lr,orientation:cr,mirror:ur,x:dr,y:fr,width:xr,height:yr,tickSize:_r,tickMargin:Sr,fontSize:jr,letterSpacing:Dr,getTicksConfig:Ir,events:Mr,axisType:Or}=tr,Lr=getTicks(_objectSpread$2(_objectSpread$2({},Ir),{},{ticks:er}),jr,Dr),Fr=getTickTextAnchor(cr,ur),Vr=getTickVerticalAnchor(cr,ur),Zr=svgPropertiesNoEvents(Ir),Hr=svgPropertiesNoEventsFromUnknown(nr),Yr={};typeof ir=="object"&&(Yr=ir);var eo=_objectSpread$2(_objectSpread$2({},Zr),{},{fill:"none"},Yr),io=Lr.map(no=>_objectSpread$2({entry:no},getTickLineCoord(no,dr,fr,xr,yr,cr,_r,ur,Sr))),uo=io.map(no=>{var{entry:po,line:co}=no;return reactExports.createElement(Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(po.value,"-").concat(po.coordinate,"-").concat(po.tickCoord)},ir&&reactExports.createElement("line",_extends$7({},eo,co,{className:clsx("recharts-cartesian-axis-tick-line",get(ir,"className"))})))}),so=io.map((no,po)=>{var{entry:co,tick:lo}=no,ao=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({textAnchor:Fr,verticalAnchor:Vr},Zr),{},{stroke:"none",fill:rr},Hr),lo),{},{index:po,payload:co,visibleTicksCount:Lr.length,tickFormatter:sr,padding:or},lr);return reactExports.createElement(Layer,_extends$7({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(co.value,"-").concat(co.coordinate,"-").concat(co.tickCoord)},adaptEventsOfChild(Mr,co,po)),nr&&reactExports.createElement(TickItem,{option:nr,tickProps:ao,value:"".concat(typeof sr=="function"?sr(co.value,po):co.value).concat(ar||"")}))});return reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Or,"-ticks")},so.length>0&&reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label},reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Or,"-tick-labels"),ref:Hn},so)),uo.length>0&&reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Or,"-tick-lines")},uo))}),CartesianAxisComponent=reactExports.forwardRef((tr,Hn)=>{var{axisLine:er,width:nr,height:ir,className:rr,hide:sr,ticks:ar,axisType:or}=tr,lr=_objectWithoutProperties$6(tr,_excluded$7),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState(""),xr=reactExports.useRef(null);reactExports.useImperativeHandle(Hn,()=>({getCalculatedWidth:()=>{var _r;return getCalculatedYAxisWidth({ticks:xr.current,label:(_r=tr.labelRef)===null||_r===void 0?void 0:_r.current,labelGapWithTick:5,tickSize:tr.tickSize,tickMargin:tr.tickMargin})}}));var yr=reactExports.useCallback(_r=>{if(_r){var Sr=_r.getElementsByClassName("recharts-cartesian-axis-tick-value");xr.current=Sr;var jr=Sr[0];if(jr){var Dr=window.getComputedStyle(jr),Ir=Dr.fontSize,Mr=Dr.letterSpacing;(Ir!==cr||Mr!==dr)&&(ur(Ir),fr(Mr))}}},[cr,dr]);return sr||nr!=null&&nr<=0||ir!=null&&ir<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:tr.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",rr)},reactExports.createElement(AxisLine,{x:tr.x,y:tr.y,width:nr,height:ir,orientation:tr.orientation,mirror:tr.mirror,axisLine:er,otherSvgProps:svgPropertiesNoEvents(tr)}),reactExports.createElement(Ticks,{ref:yr,axisType:or,events:lr,fontSize:cr,getTicksConfig:tr,height:tr.height,letterSpacing:dr,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,stroke:tr.stroke,tick:tr.tick,tickFormatter:tr.tickFormatter,tickLine:tr.tickLine,tickMargin:tr.tickMargin,tickSize:tr.tickSize,tickTextProps:tr.tickTextProps,ticks:ar,unit:tr.unit,width:tr.width,x:tr.x,y:tr.y}),reactExports.createElement(CartesianLabelContextProvider,{x:tr.x,y:tr.y,width:tr.width,height:tr.height,lowerWidth:tr.width,upperWidth:tr.width},reactExports.createElement(CartesianLabelFromLabelProp,{label:tr.label,labelRef:tr.labelRef}),tr.children)))}),CartesianAxis=reactExports.forwardRef((tr,Hn)=>{var er=resolveDefaultProps(tr,defaultCartesianAxisProps);return reactExports.createElement(CartesianAxisComponent,_extends$7({},er,{ref:Hn}))});CartesianAxis.displayName="CartesianAxis";var _excluded$6=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$1(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$1(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$1(Object(er),!0).forEach(function(nr){_defineProperty$1(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$1(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$1(tr,Hn,er){return(Hn=_toPropertyKey$1(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$1(tr){var Hn=_toPrimitive$1(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$1(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$6.apply(null,arguments)}function _objectWithoutProperties$5(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$6(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$6(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var Background=tr=>{var{fill:Hn}=tr;if(!Hn||Hn==="none")return null;var{fillOpacity:er,x:nr,y:ir,width:rr,height:sr,ry:ar}=tr;return reactExports.createElement("rect",{x:nr,y:ir,ry:ar,width:rr,height:sr,stroke:"none",fill:Hn,fillOpacity:er,className:"recharts-cartesian-grid-bg"})};function LineItem(tr){var{option:Hn,lineItemProps:er}=tr,nr;if(reactExports.isValidElement(Hn))nr=reactExports.cloneElement(Hn,er);else if(typeof Hn=="function")nr=Hn(er);else{var ir,{x1:rr,y1:sr,x2:ar,y2:or,key:lr}=er,cr=_objectWithoutProperties$5(er,_excluded$6),ur=(ir=svgPropertiesNoEvents(cr))!==null&&ir!==void 0?ir:{},{offset:dr}=ur,fr=_objectWithoutProperties$5(ur,_excluded2$3);nr=reactExports.createElement("line",_extends$6({},fr,{x1:rr,y1:sr,x2:ar,y2:or,fill:"none",key:lr}))}return nr}function HorizontalGridLines(tr){var{x:Hn,width:er,horizontal:nr=!0,horizontalPoints:ir}=tr;if(!nr||!ir||!ir.length)return null;var{xAxisId:rr,yAxisId:sr}=tr,ar=_objectWithoutProperties$5(tr,_excluded3),or=ir.map((lr,cr)=>{var ur=_objectSpread$1(_objectSpread$1({},ar),{},{x1:Hn,y1:lr,x2:Hn+er,y2:lr,key:"line-".concat(cr),index:cr});return reactExports.createElement(LineItem,{key:"line-".concat(cr),option:nr,lineItemProps:ur})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},or)}function VerticalGridLines(tr){var{y:Hn,height:er,vertical:nr=!0,verticalPoints:ir}=tr;if(!nr||!ir||!ir.length)return null;var{xAxisId:rr,yAxisId:sr}=tr,ar=_objectWithoutProperties$5(tr,_excluded4),or=ir.map((lr,cr)=>{var ur=_objectSpread$1(_objectSpread$1({},ar),{},{x1:lr,y1:Hn,x2:lr,y2:Hn+er,key:"line-".concat(cr),index:cr});return reactExports.createElement(LineItem,{option:nr,lineItemProps:ur,key:"line-".concat(cr)})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},or)}function HorizontalStripes(tr){var{horizontalFill:Hn,fillOpacity:er,x:nr,y:ir,width:rr,height:sr,horizontalPoints:ar,horizontal:or=!0}=tr;if(!or||!Hn||!Hn.length||ar==null)return null;var lr=ar.map(ur=>Math.round(ur+ir-ir)).sort((ur,dr)=>ur-dr);ir!==lr[0]&&lr.unshift(0);var cr=lr.map((ur,dr)=>{var fr=!lr[dr+1],xr=fr?ir+sr-ur:lr[dr+1]-ur;if(xr<=0)return null;var yr=dr%Hn.length;return reactExports.createElement("rect",{key:"react-".concat(dr),y:ur,x:nr,height:xr,width:rr,stroke:"none",fill:Hn[yr],fillOpacity:er,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},cr)}function VerticalStripes(tr){var{vertical:Hn=!0,verticalFill:er,fillOpacity:nr,x:ir,y:rr,width:sr,height:ar,verticalPoints:or}=tr;if(!Hn||!er||!er.length)return null;var lr=or.map(ur=>Math.round(ur+ir-ir)).sort((ur,dr)=>ur-dr);ir!==lr[0]&&lr.unshift(0);var cr=lr.map((ur,dr)=>{var fr=!lr[dr+1],xr=fr?ir+sr-ur:lr[dr+1]-ur;if(xr<=0)return null;var yr=dr%er.length;return reactExports.createElement("rect",{key:"react-".concat(dr),x:ur,y:rr,width:xr,height:ar,stroke:"none",fill:er[yr],fillOpacity:nr,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},cr)}var defaultVerticalCoordinatesGenerator=(tr,Hn)=>{var{xAxis:er,width:nr,height:ir,offset:rr}=tr;return getCoordinatesOfGrid(getTicks(_objectSpread$1(_objectSpread$1(_objectSpread$1({},defaultCartesianAxisProps),er),{},{ticks:getTicksOfAxis(er),viewBox:{x:0,y:0,width:nr,height:ir}})),rr.left,rr.left+rr.width,Hn)},defaultHorizontalCoordinatesGenerator=(tr,Hn)=>{var{yAxis:er,width:nr,height:ir,offset:rr}=tr;return getCoordinatesOfGrid(getTicks(_objectSpread$1(_objectSpread$1(_objectSpread$1({},defaultCartesianAxisProps),er),{},{ticks:getTicksOfAxis(er),viewBox:{x:0,y:0,width:nr,height:ir}})),rr.top,rr.top+rr.height,Hn)},defaultCartesianGridProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:DefaultZIndexes.grid};function CartesianGrid(tr){var Hn=useChartWidth(),er=useChartHeight(),nr=useOffsetInternal(),ir=_objectSpread$1(_objectSpread$1({},resolveDefaultProps(tr,defaultCartesianGridProps)),{},{x:isNumber(tr.x)?tr.x:nr.left,y:isNumber(tr.y)?tr.y:nr.top,width:isNumber(tr.width)?tr.width:nr.width,height:isNumber(tr.height)?tr.height:nr.height}),{xAxisId:rr,yAxisId:sr,x:ar,y:or,width:lr,height:cr,syncWithTicks:ur,horizontalValues:dr,verticalValues:fr}=ir,xr=useIsPanorama(),yr=useAppSelector(Vr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Vr,"xAxis",rr,xr)),_r=useAppSelector(Vr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Vr,"yAxis",sr,xr));if(!isPositiveNumber(lr)||!isPositiveNumber(cr)||!isNumber(ar)||!isNumber(or))return null;var Sr=ir.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,jr=ir.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:Dr,verticalPoints:Ir}=ir;if((!Dr||!Dr.length)&&typeof jr=="function"){var Mr=dr&&dr.length,Or=jr({yAxis:_r?_objectSpread$1(_objectSpread$1({},_r),{},{ticks:Mr?dr:_r.ticks}):void 0,width:Hn??lr,height:er??cr,offset:nr},Mr?!0:ur);warn(Array.isArray(Or),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Or,"]")),Array.isArray(Or)&&(Dr=Or)}if((!Ir||!Ir.length)&&typeof Sr=="function"){var Lr=fr&&fr.length,Fr=Sr({xAxis:yr?_objectSpread$1(_objectSpread$1({},yr),{},{ticks:Lr?fr:yr.ticks}):void 0,width:Hn??lr,height:er??cr,offset:nr},Lr?!0:ur);warn(Array.isArray(Fr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Fr,"]")),Array.isArray(Fr)&&(Ir=Fr)}return reactExports.createElement(ZIndexLayer,{zIndex:ir.zIndex},reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:ir.fill,fillOpacity:ir.fillOpacity,x:ir.x,y:ir.y,width:ir.width,height:ir.height,ry:ir.ry}),reactExports.createElement(HorizontalStripes,_extends$6({},ir,{horizontalPoints:Dr})),reactExports.createElement(VerticalStripes,_extends$6({},ir,{verticalPoints:Ir})),reactExports.createElement(HorizontalGridLines,_extends$6({},ir,{offset:nr,horizontalPoints:Dr,xAxis:yr,yAxis:_r})),reactExports.createElement(VerticalGridLines,_extends$6({},ir,{offset:nr,verticalPoints:Ir,xAxis:yr,yAxis:_r}))))}CartesianGrid.displayName="CartesianGrid";var _excluded$5=["domain","range"],_excluded2$2=["domain","range"];function _objectWithoutProperties$4(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$5(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$5(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function shortArraysAreEqual(tr,Hn){return tr===Hn?!0:Array.isArray(tr)&&tr.length===2&&Array.isArray(Hn)&&Hn.length===2?tr[0]===Hn[0]&&tr[1]===Hn[1]:!1}function axisPropsAreEqual(tr,Hn){if(tr===Hn)return!0;var{domain:er,range:nr}=tr,ir=_objectWithoutProperties$4(tr,_excluded$5),{domain:rr,range:sr}=Hn,ar=_objectWithoutProperties$4(Hn,_excluded2$2);return!shortArraysAreEqual(er,rr)||!shortArraysAreEqual(nr,sr)?!1:propsAreEqual(ir,ar)}var _excluded$4=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$5.apply(null,arguments)}function _objectWithoutProperties$3(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$4(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$4(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function SetXAxisSettings(tr){var Hn=useAppDispatch(),er=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{er.current===null?Hn(addXAxis(tr)):er.current!==tr&&Hn(replaceXAxis({prev:er.current,next:tr})),er.current=tr},[tr,Hn]),reactExports.useLayoutEffect(()=>()=>{er.current&&(Hn(removeXAxis(er.current)),er.current=null)},[Hn]),null}var XAxisImpl=tr=>{var{xAxisId:Hn,className:er}=tr,nr=useAppSelector(selectAxisViewBox),ir=useIsPanorama(),rr="xAxis",sr=useAppSelector(_r=>selectAxisScale(_r,rr,Hn,ir)),ar=useAppSelector(_r=>selectTicksOfAxis(_r,rr,Hn,ir)),or=useAppSelector(_r=>selectXAxisSize(_r,Hn)),lr=useAppSelector(_r=>selectXAxisPosition(_r,Hn)),cr=useAppSelector(_r=>selectXAxisSettingsNoDefaults(_r,Hn));if(or==null||lr==null||cr==null)return null;var{dangerouslySetInnerHTML:ur,ticks:dr}=tr,fr=_objectWithoutProperties$3(tr,_excluded$4),{id:xr}=cr,yr=_objectWithoutProperties$3(cr,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},fr,yr,{scale:sr,x:lr.x,y:lr.y,width:or.width,height:or.height,className:clsx("recharts-".concat(rr," ").concat(rr),er),viewBox:nr,ticks:ar,axisType:rr}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,angle:implicitXAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,height:implicitXAxis.height,hide:!1,includeHidden:implicitXAxis.includeHidden,interval:implicitXAxis.interval,minTickGap:implicitXAxis.minTickGap,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tick:implicitXAxis.tick,tickCount:implicitXAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=tr=>{var Hn=resolveDefaultProps(tr,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,dataKey:Hn.dataKey,domain:Hn.domain,height:Hn.height,hide:Hn.hide,id:Hn.xAxisId,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,name:Hn.name,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickFormatter:Hn.tickFormatter,ticks:Hn.ticks,type:Hn.type,unit:Hn.unit}),reactExports.createElement(XAxisImpl,Hn))},XAxis=reactExports.memo(XAxisSettingsDispatcher,axisPropsAreEqual);XAxis.displayName="XAxis";var _excluded$3=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$4.apply(null,arguments)}function _objectWithoutProperties$2(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$3(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$3(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function SetYAxisSettings(tr){var Hn=useAppDispatch(),er=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{er.current===null?Hn(addYAxis(tr)):er.current!==tr&&Hn(replaceYAxis({prev:er.current,next:tr})),er.current=tr},[tr,Hn]),reactExports.useLayoutEffect(()=>()=>{er.current&&(Hn(removeYAxis(er.current)),er.current=null)},[Hn]),null}var YAxisImpl=tr=>{var{yAxisId:Hn,className:er,width:nr,label:ir}=tr,rr=reactExports.useRef(null),sr=reactExports.useRef(null),ar=useAppSelector(selectAxisViewBox),or=useIsPanorama(),lr=useAppDispatch(),cr="yAxis",ur=useAppSelector(Mr=>selectAxisScale(Mr,cr,Hn,or)),dr=useAppSelector(Mr=>selectYAxisSize(Mr,Hn)),fr=useAppSelector(Mr=>selectYAxisPosition(Mr,Hn)),xr=useAppSelector(Mr=>selectTicksOfAxis(Mr,cr,Hn,or)),yr=useAppSelector(Mr=>selectYAxisSettingsNoDefaults(Mr,Hn));if(reactExports.useLayoutEffect(()=>{if(!(nr!=="auto"||!dr||isLabelContentAFunction(ir)||reactExports.isValidElement(ir)||yr==null)){var Mr=rr.current;if(Mr){var Or=Mr.getCalculatedWidth();Math.round(dr.width)!==Math.round(Or)&&lr(updateYAxisWidth({id:Hn,width:Or}))}}},[xr,dr,lr,ir,Hn,nr,yr]),dr==null||fr==null||yr==null)return null;var{dangerouslySetInnerHTML:_r,ticks:Sr}=tr,jr=_objectWithoutProperties$2(tr,_excluded$3),{id:Dr}=yr,Ir=_objectWithoutProperties$2(yr,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},jr,Ir,{ref:rr,labelRef:sr,scale:ur,x:fr.x,y:fr.y,tickTextProps:nr==="auto"?{width:void 0}:{width:nr},width:dr.width,height:dr.height,className:clsx("recharts-".concat(cr," ").concat(cr),er),viewBox:ar,ticks:xr,axisType:cr}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,angle:implicitYAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,hide:!1,includeHidden:implicitYAxis.includeHidden,interval:implicitYAxis.interval,minTickGap:implicitYAxis.minTickGap,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tick:implicitYAxis.tick,tickCount:implicitYAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=tr=>{var Hn=resolveDefaultProps(tr,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:Hn.interval,id:Hn.yAxisId,scale:Hn.scale,type:Hn.type,domain:Hn.domain,allowDataOverflow:Hn.allowDataOverflow,dataKey:Hn.dataKey,allowDuplicatedCategory:Hn.allowDuplicatedCategory,allowDecimals:Hn.allowDecimals,tickCount:Hn.tickCount,padding:Hn.padding,includeHidden:Hn.includeHidden,reversed:Hn.reversed,ticks:Hn.ticks,width:Hn.width,orientation:Hn.orientation,mirror:Hn.mirror,hide:Hn.hide,unit:Hn.unit,name:Hn.name,angle:Hn.angle,minTickGap:Hn.minTickGap,tick:Hn.tick,tickFormatter:Hn.tickFormatter}),reactExports.createElement(YAxisImpl,Hn))},YAxis=reactExports.memo(YAxisSettingsDispatcher,axisPropsAreEqual);YAxis.displayName="YAxis";var pickChartPointer=(tr,Hn)=>Hn,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=tr=>{var Hn=tr.currentTarget.getBoundingClientRect(),er=Hn.width/tr.currentTarget.offsetWidth,nr=Hn.height/tr.currentTarget.offsetHeight;return{chartX:Math.round((tr.clientX-Hn.left)/er),chartY:Math.round((tr.clientY-Hn.top)/nr)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(tr,Hn)=>{var er=tr.payload,nr=selectActivePropsFromChartPointer(Hn.getState(),getChartPointer(er));nr?.activeIndex!=null&&Hn.dispatch(setMouseClickAxisIndex({activeIndex:nr.activeIndex,activeDataKey:void 0,activeCoordinate:nr.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware(),rafId=null;mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(tr,Hn)=>{var er=tr.payload;rafId!==null&&cancelAnimationFrame(rafId);var nr=getChartPointer(er);rafId=requestAnimationFrame(()=>{var ir=Hn.getState(),rr=selectTooltipEventType$1(ir,ir.tooltip.settings.shared);if(rr==="axis"){var sr=selectActivePropsFromChartPointer(ir,nr);sr?.activeIndex!=null?Hn.dispatch(setMouseOverAxisIndex({activeIndex:sr.activeIndex,activeDataKey:void 0,activeCoordinate:sr.activeCoordinate})):Hn.dispatch(mouseLeaveChart())}rafId=null})}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(tr,Hn)=>{var er;tr.accessibilityLayer=Hn.payload.accessibilityLayer,tr.barCategoryGap=Hn.payload.barCategoryGap,tr.barGap=(er=Hn.payload.barGap)!==null&&er!==void 0?er:initialState.barGap,tr.barSize=Hn.payload.barSize,tr.maxBarSize=Hn.payload.maxBarSize,tr.stackOffset=Hn.payload.stackOffset,tr.syncId=Hn.payload.syncId,tr.syncMethod=Hn.payload.syncMethod,tr.className=Hn.payload.className,tr.baseValue=Hn.payload.baseValue,tr.reverseStackOrder=Hn.payload.reverseStackOrder}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(tr,Hn)=>Hn.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(tr,Hn)=>{var er=Hn.getState(),nr=er.rootProps.accessibilityLayer!==!1;if(nr){var{keyboardInteraction:ir}=er.tooltip,rr=tr.payload;if(!(rr!=="ArrowRight"&&rr!=="ArrowLeft"&&rr!=="Enter")){var sr=combineActiveTooltipIndex(ir,selectTooltipDisplayedData(er),selectTooltipAxisDataKey(er),selectTooltipAxisDomain(er)),ar=sr==null?-1:Number(sr);if(!(!Number.isFinite(ar)||ar<0)){var or=selectTooltipAxisTicks(er);if(rr==="Enter"){var lr=selectCoordinateForDefaultIndex(er,"axis","hover",String(ir.index));Hn.dispatch(setKeyboardInteraction({active:!ir.active,activeIndex:ir.index,activeDataKey:ir.dataKey,activeCoordinate:lr}));return}var cr=selectChartDirection(er),ur=cr==="left-to-right"?1:-1,dr=rr==="ArrowRight"?1:-1,fr=ar+dr*ur;if(!(or==null||fr>=or.length||fr<0)){var xr=selectCoordinateForDefaultIndex(er,"axis","hover",String(fr));Hn.dispatch(setKeyboardInteraction({active:!0,activeIndex:fr.toString(),activeDataKey:void 0,activeCoordinate:xr}))}}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(tr,Hn)=>{var er=Hn.getState(),nr=er.rootProps.accessibilityLayer!==!1;if(nr){var{keyboardInteraction:ir}=er.tooltip;if(!ir.active&&ir.index==null){var rr="0",sr=selectCoordinateForDefaultIndex(er,"axis","hover",String(rr));Hn.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:rr,activeCoordinate:sr}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware(),rafIdMap=new Map;externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(tr,Hn)=>{var{handler:er,reactEvent:nr}=tr.payload;if(er!=null){nr.persist();var ir=nr.type,rr=rafIdMap.get(ir);rr!==void 0&&cancelAnimationFrame(rr);var sr=requestAnimationFrame(()=>{try{var ar=Hn.getState(),or={activeCoordinate:selectActiveTooltipCoordinate(ar),activeDataKey:selectActiveTooltipDataKey(ar),activeIndex:selectActiveTooltipIndex(ar),activeLabel:selectActiveLabel$1(ar),activeTooltipIndex:selectActiveTooltipIndex(ar),isTooltipActive:selectIsTooltipActive$1(ar)};er(or,nr)}finally{rafIdMap.delete(ir)}});rafIdMap.set(ir,sr)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],tr=>tr.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(tr,Hn,er)=>Hn,(tr,Hn,er)=>er],(tr,Hn,er,nr)=>{var ir=tr.find(ar=>ar.settings.dataKey===nr);if(ir!=null){var{positions:rr}=ir;if(rr!=null){var sr=Hn(rr,er);return sr}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(tr,Hn)=>{var er=tr.payload;if(!(er.touches==null||er.touches.length===0)){var nr=Hn.getState(),ir=selectTooltipEventType$1(nr,nr.tooltip.settings.shared);if(ir==="axis"){var rr=selectActivePropsFromChartPointer(nr,getChartPointer({clientX:er.touches[0].clientX,clientY:er.touches[0].clientY,currentTarget:er.currentTarget}));rr?.activeIndex!=null&&Hn.dispatch(setMouseOverAxisIndex({activeIndex:rr.activeIndex,activeDataKey:void 0,activeCoordinate:rr.activeCoordinate}))}else if(ir==="item"){var sr,ar=er.touches[0];if(document.elementFromPoint==null)return;var or=document.elementFromPoint(ar.clientX,ar.clientY);if(!or||!or.getAttribute)return;var lr=or.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),cr=(sr=or.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&sr!==void 0?sr:void 0,ur=selectTooltipCoordinate(Hn.getState(),lr,cr);Hn.dispatch(setActiveMouseOverItemIndex({activeDataKey:cr,activeIndex:lr,activeCoordinate:ur}))}}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer,zIndex:zIndexReducer}),createRechartsStore=function tr(Hn){return configureStore({reducer:rootReducer,preloadedState:Hn,middleware:er=>{var nr;return er({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((nr="es6")!==null&&nr!==void 0?nr:"")}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware])},enhancers:er=>{var nr=er;return typeof er=="function"&&(nr=er()),nr.concat(autoBatchEnhancer({type:"raf"}))},devTools:Global.devToolsEnabled})};function RechartsStoreProvider(tr){var{preloadedState:Hn,children:er,reduxStoreName:nr}=tr,ir=useIsPanorama(),rr=reactExports.useRef(null);if(ir)return er;rr.current==null&&(rr.current=createRechartsStore(Hn));var sr=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:sr,store:rr.current},er)}function ReportMainChartPropsImpl(tr){var{layout:Hn,margin:er}=tr,nr=useAppDispatch(),ir=useIsPanorama();return reactExports.useEffect(()=>{ir||(nr(setLayout(Hn)),nr(setMargin(er)))},[nr,ir,Hn,er]),null}var ReportMainChartProps=reactExports.memo(ReportMainChartPropsImpl,propsAreEqual);function ReportChartProps(tr){var Hn=useAppDispatch();return reactExports.useEffect(()=>{Hn(updateOptions(tr))},[Hn,tr]),null}function ZIndexSvgPortal(tr){var{zIndex:Hn,isPanorama:er}=tr,nr=er?"recharts-zindex-panorama-":"recharts-zindex-",ir=useUniqueId("".concat(nr).concat(Hn)),rr=useAppDispatch();return reactExports.useLayoutEffect(()=>(rr(registerZIndexPortalId({zIndex:Hn,elementId:ir,isPanorama:er})),()=>{rr(unregisterZIndexPortalId({zIndex:Hn,isPanorama:er}))}),[rr,Hn,ir,er]),reactExports.createElement("g",{id:ir})}function AllZIndexPortals(tr){var{children:Hn,isPanorama:er}=tr,nr=useAppSelector(selectAllRegisteredZIndexes);if(!nr||nr.length===0)return Hn;var ir=nr.filter(sr=>sr<0),rr=nr.filter(sr=>sr>0);return reactExports.createElement(reactExports.Fragment,null,ir.map(sr=>reactExports.createElement(ZIndexSvgPortal,{key:sr,zIndex:sr,isPanorama:er})),Hn,rr.map(sr=>reactExports.createElement(ZIndexSvgPortal,{key:sr,zIndex:sr,isPanorama:er})))}var _excluded$2=["children"];function _objectWithoutProperties$1(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$2(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$2(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((tr,Hn)=>{var er=useChartWidth(),nr=useChartHeight(),ir=useAccessibilityLayer();if(!isPositiveNumber(er)||!isPositiveNumber(nr))return null;var{children:rr,otherAttributes:sr,title:ar,desc:or}=tr,lr,cr;return sr!=null&&(typeof sr.tabIndex=="number"?lr=sr.tabIndex:lr=ir?0:void 0,typeof sr.role=="string"?cr=sr.role:cr=ir?"application":void 0),reactExports.createElement(Surface,_extends$3({},sr,{title:ar,desc:or,role:cr,tabIndex:lr,width:er,height:nr,style:FULL_WIDTH_AND_HEIGHT,ref:Hn}),rr)}),BrushPanoramaSurface=tr=>{var{children:Hn}=tr,er=useAppSelector(selectBrushDimensions);if(!er)return null;var{width:nr,height:ir,y:rr,x:sr}=er;return reactExports.createElement(Surface,{width:nr,height:ir,x:sr,y:rr},Hn)},RootSurface=reactExports.forwardRef((tr,Hn)=>{var{children:er}=tr,nr=_objectWithoutProperties$1(tr,_excluded$2),ir=useIsPanorama();return ir?reactExports.createElement(BrushPanoramaSurface,null,reactExports.createElement(AllZIndexPortals,{isPanorama:!0},er)):reactExports.createElement(MainChartSurface,_extends$3({ref:Hn},nr),reactExports.createElement(AllZIndexPortals,{isPanorama:!1},er))});function useReportScale(){var tr=useAppDispatch(),[Hn,er]=reactExports.useState(null),nr=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(Hn!=null){var ir=Hn.getBoundingClientRect(),rr=ir.width/Hn.offsetWidth;isWellBehavedNumber(rr)&&rr!==nr&&tr(setScale(rr))}},[Hn,tr,nr]),er}function ownKeys(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys(Object(er),!0).forEach(function(nr){_defineProperty(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty(tr,Hn,er){return(Hn=_toPropertyKey(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey(tr){var Hn=_toPrimitive(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(tr){if(typeof tr=="number")return tr;if(typeof tr=="string"){var Hn=parseFloat(tr);if(!Number.isNaN(Hn))return Hn}return 0}var ResponsiveDiv=reactExports.forwardRef((tr,Hn)=>{var er,nr,ir=reactExports.useRef(null),[rr,sr]=reactExports.useState({containerWidth:getNumberOrZero((er=tr.style)===null||er===void 0?void 0:er.width),containerHeight:getNumberOrZero((nr=tr.style)===null||nr===void 0?void 0:nr.height)}),ar=reactExports.useCallback((lr,cr)=>{sr(ur=>{var dr=Math.round(lr),fr=Math.round(cr);return ur.containerWidth===dr&&ur.containerHeight===fr?ur:{containerWidth:dr,containerHeight:fr}})},[]),or=reactExports.useCallback(lr=>{if(typeof Hn=="function"&&Hn(lr),lr!=null&&typeof ResizeObserver<"u"){var{width:cr,height:ur}=lr.getBoundingClientRect();ar(cr,ur);var dr=xr=>{var{width:yr,height:_r}=xr[0].contentRect;ar(yr,_r)},fr=new ResizeObserver(dr);fr.observe(lr),ir.current=fr}},[Hn,ar]);return reactExports.useEffect(()=>()=>{var lr=ir.current;lr?.disconnect()},[ar]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:rr.containerWidth,height:rr.containerHeight}),reactExports.createElement("div",_extends$2({ref:or},tr)))}),ReadSizeOnceDiv=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr}=tr,[ir,rr]=reactExports.useState({containerWidth:getNumberOrZero(er),containerHeight:getNumberOrZero(nr)}),sr=reactExports.useCallback((or,lr)=>{rr(cr=>{var ur=Math.round(or),dr=Math.round(lr);return cr.containerWidth===ur&&cr.containerHeight===dr?cr:{containerWidth:ur,containerHeight:dr}})},[]),ar=reactExports.useCallback(or=>{if(typeof Hn=="function"&&Hn(or),or!=null){var{width:lr,height:cr}=or.getBoundingClientRect();sr(lr,cr)}},[Hn,sr]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:ir.containerWidth,height:ir.containerHeight}),reactExports.createElement("div",_extends$2({ref:ar},tr)))}),StaticDiv=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr}=tr;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:er,height:nr}),reactExports.createElement("div",_extends$2({ref:Hn},tr)))}),NonResponsiveDiv=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr}=tr;return isPercent(er)||isPercent(nr)?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},tr,{ref:Hn})):reactExports.createElement(StaticDiv,_extends$2({},tr,{ref:Hn}))});function getWrapperDivComponent(tr){return tr===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((tr,Hn)=>{var{children:er,className:nr,height:ir,onClick:rr,onContextMenu:sr,onDoubleClick:ar,onMouseDown:or,onMouseEnter:lr,onMouseLeave:cr,onMouseMove:ur,onMouseUp:dr,onTouchEnd:fr,onTouchMove:xr,onTouchStart:yr,style:_r,width:Sr,responsive:jr,dispatchTouchEvents:Dr=!0}=tr,Ir=reactExports.useRef(null),Mr=useAppDispatch(),[Or,Lr]=reactExports.useState(null),[Fr,Vr]=reactExports.useState(null),Zr=useReportScale(),Hr=useResponsiveContainerContext(),Yr=Hr?.width>0?Hr.width:Sr,eo=Hr?.height>0?Hr.height:ir,io=reactExports.useCallback(Ro=>{Zr(Ro),typeof Hn=="function"&&Hn(Ro),Lr(Ro),Vr(Ro),Ro!=null&&(Ir.current=Ro)},[Zr,Hn,Lr,Vr]),uo=reactExports.useCallback(Ro=>{Mr(mouseClickAction(Ro)),Mr(externalEventAction({handler:rr,reactEvent:Ro}))},[Mr,rr]),so=reactExports.useCallback(Ro=>{Mr(mouseMoveAction(Ro)),Mr(externalEventAction({handler:lr,reactEvent:Ro}))},[Mr,lr]),no=reactExports.useCallback(Ro=>{Mr(mouseLeaveChart()),Mr(externalEventAction({handler:cr,reactEvent:Ro}))},[Mr,cr]),po=reactExports.useCallback(Ro=>{Mr(mouseMoveAction(Ro)),Mr(externalEventAction({handler:ur,reactEvent:Ro}))},[Mr,ur]),co=reactExports.useCallback(()=>{Mr(focusAction())},[Mr]),lo=reactExports.useCallback(Ro=>{Mr(keyDownAction(Ro.key))},[Mr]),ao=reactExports.useCallback(Ro=>{Mr(externalEventAction({handler:sr,reactEvent:Ro}))},[Mr,sr]),xo=reactExports.useCallback(Ro=>{Mr(externalEventAction({handler:ar,reactEvent:Ro}))},[Mr,ar]),_o=reactExports.useCallback(Ro=>{Mr(externalEventAction({handler:or,reactEvent:Ro}))},[Mr,or]),Po=reactExports.useCallback(Ro=>{Mr(externalEventAction({handler:dr,reactEvent:Ro}))},[Mr,dr]),Oo=reactExports.useCallback(Ro=>{Mr(externalEventAction({handler:yr,reactEvent:Ro}))},[Mr,yr]),So=reactExports.useCallback(Ro=>{Dr&&Mr(touchEventAction(Ro)),Mr(externalEventAction({handler:xr,reactEvent:Ro}))},[Mr,Dr,xr]),Ao=reactExports.useCallback(Ro=>{Mr(externalEventAction({handler:fr,reactEvent:Ro}))},[Mr,fr]),zo=getWrapperDivComponent(jr);return reactExports.createElement(TooltipPortalContext.Provider,{value:Or},reactExports.createElement(LegendPortalContext.Provider,{value:Fr},reactExports.createElement(zo,{width:Yr??_r?.width,height:eo??_r?.height,className:clsx("recharts-wrapper",nr),style:_objectSpread({position:"relative",cursor:"default",width:Yr,height:eo},_r),onClick:uo,onContextMenu:ao,onDoubleClick:xo,onFocus:co,onKeyDown:lo,onMouseDown:_o,onMouseEnter:so,onMouseLeave:no,onMouseMove:po,onMouseUp:Po,onTouchEnd:Ao,onTouchMove:So,onTouchStart:Oo,ref:io},reactExports.createElement(EventSynchronizer,null),er)))}),_excluded$1=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$1(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$1(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var CategoricalChart=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr,responsive:ir,children:rr,className:sr,style:ar,compact:or,title:lr,desc:cr}=tr,ur=_objectWithoutProperties(tr,_excluded$1),dr=svgPropertiesNoEvents(ur);return or?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:er,height:nr}),reactExports.createElement(RootSurface,{otherAttributes:dr,title:lr,desc:cr},rr)):reactExports.createElement(RechartsWrapper,{className:sr,style:ar,width:er,height:nr,responsive:ir??!1,onClick:tr.onClick,onMouseLeave:tr.onMouseLeave,onMouseEnter:tr.onMouseEnter,onMouseMove:tr.onMouseMove,onMouseDown:tr.onMouseDown,onMouseUp:tr.onMouseUp,onContextMenu:tr.onContextMenu,onDoubleClick:tr.onDoubleClick,onTouchStart:tr.onTouchStart,onTouchMove:tr.onTouchMove,onTouchEnd:tr.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:dr,title:lr,desc:cr,ref:Hn},reactExports.createElement(ClipPathProvider,null,rr)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$1.apply(null,arguments)}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CartesianChart=reactExports.forwardRef(function tr(Hn,er){var nr,ir=resolveDefaultProps(Hn.categoricalChartProps,defaultProps),{chartName:rr,defaultTooltipEventType:sr,validateTooltipEventTypes:ar,tooltipPayloadSearcher:or,categoricalChartProps:lr}=Hn,cr={chartName:rr,defaultTooltipEventType:sr,validateTooltipEventTypes:ar,tooltipPayloadSearcher:or,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:cr},reduxStoreName:(nr=lr.id)!==null&&nr!==void 0?nr:rr},reactExports.createElement(ChartDataContextProvider,{chartData:lr.data}),reactExports.createElement(ReportMainChartProps,{layout:ir.layout,margin:ir.margin}),reactExports.createElement(ReportChartProps,{baseValue:ir.baseValue,accessibilityLayer:ir.accessibilityLayer,barCategoryGap:ir.barCategoryGap,maxBarSize:ir.maxBarSize,stackOffset:ir.stackOffset,barGap:ir.barGap,barSize:ir.barSize,syncId:ir.syncId,syncMethod:ir.syncMethod,className:ir.className,reverseStackOrder:ir.reverseStackOrder}),reactExports.createElement(CategoricalChart,_extends$1({},ir,{ref:er})))}),allowedTooltipTypes=["axis","item"],BarChart=reactExports.forwardRef((tr,Hn)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:tr,ref:Hn}));function GrowBarChart({p1:tr,p2:Hn,p3:er,p4:nr,p5:ir,p6:rr}){const sr=useNavigate(),ar=[{name:"ancarat",value:tr,fill:tr>=0?"#00C26F":"#FF4D4D"},{name:"Kim Ngan Phuc",value:Hn,fill:Hn>=0?"#00C26F":"#FF4D4D"},{name:"Nguyn Liu",value:er,fill:er>=0?"#00C26F":"#FF4D4D"},{name:"Ph Qu",value:nr,fill:nr>=0?"#00C26F":"#FF4D4D"},{name:"Quc T",value:ir,fill:ir>=0?"#00C26F":"#FF4D4D"},{name:"Sacombank",value:rr,fill:ir>=0?"#00C26F":"#FF4D4D"}];return jsxRuntimeExports.jsxs("div",{className:"contain-bar-chart",children:[jsxRuntimeExports.jsx("a",{className:"title-bar-chart",onClick:()=>sr("/xauxagdetail"),children:" Ch s xau/xag ca cc Thng hiu vng "}),jsxRuntimeExports.jsx(ResponsiveContainer,{children:jsxRuntimeExports.jsxs(BarChart,{data:ar,margin:{top:20,right:20,left:0,bottom:20},children:[jsxRuntimeExports.jsx(CartesianGrid,{stroke:"#2A2A2A",strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",stroke:"#999",tick:{fill:"#999"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"#999",tick:{fill:"#999"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#c2c0c0c1",border:"1px solid #979797ff"},labelStyle:{color:"#000000ff"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"value",radius:[4,4,0,0],background:!1,barSize:30,children:ar.map((or,lr)=>jsxRuntimeExports.jsx(Cell,{fill:or.fill},lr))})]})})]})}var extendStatics=function(tr,Hn){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(er,nr){er.__proto__=nr}||function(er,nr){for(var ir in nr)nr.hasOwnProperty(ir)&&(er[ir]=nr[ir])},extendStatics(tr,Hn)};function __extends(tr,Hn){extendStatics(tr,Hn);function er(){this.constructor=tr}tr.prototype=Hn===null?Object.create(Hn):(er.prototype=Hn.prototype,new er)}var VIEWBOX_WIDTH=100,VIEWBOX_HEIGHT=100,VIEWBOX_HEIGHT_HALF=50,VIEWBOX_CENTER_X=50,VIEWBOX_CENTER_Y=50;function Path(tr){var Hn=tr.className,er=tr.counterClockwise,nr=tr.dashRatio,ir=tr.pathRadius,rr=tr.strokeWidth,sr=tr.style;return reactExports.createElement("path",{className:Hn,style:Object.assign({},sr,getDashStyle({pathRadius:ir,dashRatio:nr,counterClockwise:er})),d:getPathDescription({pathRadius:ir,counterClockwise:er}),strokeWidth:rr,fillOpacity:0})}function getPathDescription(tr){var Hn=tr.pathRadius,er=tr.counterClockwise,nr=Hn,ir=er?1:0;return`
      M `+VIEWBOX_CENTER_X+","+VIEWBOX_CENTER_Y+`
      m 0,-`+nr+`
      a `+nr+","+nr+" "+ir+" 1 1 0,"+2*nr+`
      a `+nr+","+nr+" "+ir+" 1 1 0,-"+2*nr+`
    `}function getDashStyle(tr){var Hn=tr.counterClockwise,er=tr.dashRatio,nr=tr.pathRadius,ir=Math.PI*2*nr,rr=(1-er)*ir;return{strokeDasharray:ir+"px "+ir+"px",strokeDashoffset:(Hn?-rr:rr)+"px"}}var CircularProgressbar=(function(tr){__extends(Hn,tr);function Hn(){return tr!==null&&tr.apply(this,arguments)||this}return Hn.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},Hn.prototype.getPathRadius=function(){return VIEWBOX_HEIGHT_HALF-this.props.strokeWidth/2-this.getBackgroundPadding()},Hn.prototype.getPathRatio=function(){var er=this.props,nr=er.value,ir=er.minValue,rr=er.maxValue,sr=Math.min(Math.max(nr,ir),rr);return(sr-ir)/(rr-ir)},Hn.prototype.render=function(){var er=this.props,nr=er.circleRatio,ir=er.className,rr=er.classes,sr=er.counterClockwise,ar=er.styles,or=er.strokeWidth,lr=er.text,cr=this.getPathRadius(),ur=this.getPathRatio();return reactExports.createElement("svg",{className:rr.root+" "+ir,style:ar.root,viewBox:"0 0 "+VIEWBOX_WIDTH+" "+VIEWBOX_HEIGHT,"data-test-id":"CircularProgressbar"},this.props.background?reactExports.createElement("circle",{className:rr.background,style:ar.background,cx:VIEWBOX_CENTER_X,cy:VIEWBOX_CENTER_Y,r:VIEWBOX_HEIGHT_HALF}):null,reactExports.createElement(Path,{className:rr.trail,counterClockwise:sr,dashRatio:nr,pathRadius:cr,strokeWidth:or,style:ar.trail}),reactExports.createElement(Path,{className:rr.path,counterClockwise:sr,dashRatio:ur*nr,pathRadius:cr,strokeWidth:or,style:ar.path}),lr?reactExports.createElement("text",{className:rr.text,style:ar.text,x:VIEWBOX_CENTER_X,y:VIEWBOX_CENTER_Y},lr):null)},Hn.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},Hn})(reactExports.Component);function buildStyles(tr){var Hn=tr.rotation,er=tr.strokeLinecap,nr=tr.textColor,ir=tr.textSize,rr=tr.pathColor,sr=tr.pathTransition,ar=tr.pathTransitionDuration,or=tr.trailColor,lr=tr.backgroundColor,cr=Hn==null?void 0:"rotate("+Hn+"turn)",ur=Hn==null?void 0:"center center";return{root:{},path:removeUndefinedValues({stroke:rr,strokeLinecap:er,transform:cr,transformOrigin:ur,transition:sr,transitionDuration:ar==null?void 0:ar+"s"}),trail:removeUndefinedValues({stroke:or,strokeLinecap:er,transform:cr,transformOrigin:ur}),text:removeUndefinedValues({fill:nr,fontSize:ir}),background:removeUndefinedValues({fill:lr})}}function removeUndefinedValues(tr){return Object.keys(tr).forEach(function(Hn){tr[Hn]==null&&delete tr[Hn]}),tr}const getFearLevel=tr=>{const Hn=Number(tr);return Hn>=0&&Hn<=25?{level:"extreme-fear",label:"S hi tt ",labelEn:"Extreme Fear",color:"#22C55E",textColor:"#FFF"}:Hn>=26&&Hn<=45?{level:"fear",label:"Ni s xung gi",labelEn:"Fear",color:"#F97316",textColor:"#FFF"}:Hn>=46&&Hn<=54?{level:"neutral",label:"Th trng ging co",labelEn:"Neutral",color:"#FACC15",textColor:"#000"}:Hn>=55&&Hn<=74?{level:"greed",label:"Nim tin tng gi",labelEn:"Greed",color:"#84CC16",textColor:"#000"}:Hn>=75&&Hn<=100?{level:"extreme-greed",label:"Hng phn tt ",labelEn:"Extreme Greed",color:"#EF4444",textColor:"#FFF"}:{level:"unknown",label:"Khng xc nh",labelEn:"Unknown",color:"#6B7280",textColor:"#FFF"}},formatDate$3=tr=>{const Hn=new Date(tr),er=Hn.getDate().toString().padStart(2,"0"),nr=(Hn.getMonth()+1).toString().padStart(2,"0");return`${er}/${nr}`},GaugeChart=({value:tr,size:Hn="large",label:er=null,showLabel:nr=!0})=>{const ir=getFearLevel(tr),rr=tr??0,sr=Hn==="large"?"gauge-large":"gauge-small",ar=rr>100?"#ef4444":ir.color;return jsxRuntimeExports.jsxs("div",{className:`gauge-container ${sr}`,children:[jsxRuntimeExports.jsx("div",{className:"gauge-chart",children:jsxRuntimeExports.jsx(CircularProgressbar,{value:rr,text:`${rr}`,styles:buildStyles({textSize:Hn==="large"?"28px":"20px",textColor:"#ffffff",pathColor:ar,trailColor:"rgba(255, 255, 255, 0.1)",pathTransitionDuration:.5})})}),nr&&jsxRuntimeExports.jsx("div",{className:"gauge-label",children:er||ir.label})]})};function TableData({dataAnalysis:tr}){const Hn=Object.entries(tr),er=6,nr=Hn.slice(0,er),ir=Hn.slice(er),rr=Math.max(nr.length,ir.length),sr=lr=>lr.includes("nhn t gi")&&lr.includes("lng")?" (triu/lng)":lr.includes("nhn t gi")&&lr.includes("kg")?" (triu/kg)":lr.includes("Chnh lch: bc")?" (Triu/Cn)":lr.includes("Chnh lch: vng")?" (Triu/Lng)":lr.includes("kitco USD")||lr.includes("Silver kitco usd")?" (USD/Ounce)":lr.includes("T gi USD")?" (VND/USD)":lr.includes("Vng nhn t gi")||lr.includes("Vng nguyn liu")||lr.includes("Bc nguyn liu")&&lr.includes("lng")?" (triu/lng)":lr.includes("Bc nguyn liu")&&lr.includes("kg")?" (triu/kg)":"",ar=lr=>Number(lr||0).toFixed(5),or=lr=>{if(!lr)return[jsxRuntimeExports.jsx("td",{},"name"),jsxRuntimeExports.jsx("td",{},"value")];const[cr,ur]=lr;return[jsxRuntimeExports.jsx("td",{children:cr},"name"),jsxRuntimeExports.jsxs("td",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#facc15"},children:ar(ur)}),sr(cr)]},"value")]};return jsxRuntimeExports.jsx("div",{className:"price-table-container",style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs("table",{className:"price-table",style:{width:"100%"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Tn"}),jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Gi tr"}),jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Tn"}),jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Gi tr"})]})}),jsxRuntimeExports.jsx("tbody",{children:Array.from({length:rr}).map((lr,cr)=>{const ur=nr[cr],dr=ir[cr];return jsxRuntimeExports.jsxs("tr",{children:[or(ur),or(dr)]},cr)})})]})})}var hammer={exports:{}};var hasRequiredHammer;function requireHammer(){return hasRequiredHammer||(hasRequiredHammer=1,(function(tr){(function(Hn,er,nr,ir){var rr=["","webkit","Moz","MS","ms","o"],sr=er.createElement("div"),ar="function",or=Math.round,lr=Math.abs,cr=Date.now;function ur(jo,Mo,$o){return setTimeout(Dr(jo,$o),Mo)}function dr(jo,Mo,$o){return Array.isArray(jo)?(fr(jo,$o[Mo],$o),!0):!1}function fr(jo,Mo,$o){var ll;if(jo)if(jo.forEach)jo.forEach(Mo,$o);else if(jo.length!==ir)for(ll=0;ll<jo.length;)Mo.call($o,jo[ll],ll,jo),ll++;else for(ll in jo)jo.hasOwnProperty(ll)&&Mo.call($o,jo[ll],ll,jo)}function xr(jo,Mo,$o){var ll="DEPRECATED METHOD: "+Mo+`
`+$o+` AT 
`;return function(){var Rl=new Error("get-stack-trace"),zl=Rl&&Rl.stack?Rl.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",vc=Hn.console&&(Hn.console.warn||Hn.console.log);return vc&&vc.call(Hn.console,ll,zl),jo.apply(this,arguments)}}var yr;typeof Object.assign!="function"?yr=function(Mo){if(Mo===ir||Mo===null)throw new TypeError("Cannot convert undefined or null to object");for(var $o=Object(Mo),ll=1;ll<arguments.length;ll++){var Rl=arguments[ll];if(Rl!==ir&&Rl!==null)for(var zl in Rl)Rl.hasOwnProperty(zl)&&($o[zl]=Rl[zl])}return $o}:yr=Object.assign;var _r=xr(function(Mo,$o,ll){for(var Rl=Object.keys($o),zl=0;zl<Rl.length;)(!ll||ll&&Mo[Rl[zl]]===ir)&&(Mo[Rl[zl]]=$o[Rl[zl]]),zl++;return Mo},"extend","Use `assign`."),Sr=xr(function(Mo,$o){return _r(Mo,$o,!0)},"merge","Use `assign`.");function jr(jo,Mo,$o){var ll=Mo.prototype,Rl;Rl=jo.prototype=Object.create(ll),Rl.constructor=jo,Rl._super=ll,$o&&yr(Rl,$o)}function Dr(jo,Mo){return function(){return jo.apply(Mo,arguments)}}function Ir(jo,Mo){return typeof jo==ar?jo.apply(Mo&&Mo[0]||ir,Mo):jo}function Mr(jo,Mo){return jo===ir?Mo:jo}function Or(jo,Mo,$o){fr(Zr(Mo),function(ll){jo.addEventListener(ll,$o,!1)})}function Lr(jo,Mo,$o){fr(Zr(Mo),function(ll){jo.removeEventListener(ll,$o,!1)})}function Fr(jo,Mo){for(;jo;){if(jo==Mo)return!0;jo=jo.parentNode}return!1}function Vr(jo,Mo){return jo.indexOf(Mo)>-1}function Zr(jo){return jo.trim().split(/\s+/g)}function Hr(jo,Mo,$o){if(jo.indexOf&&!$o)return jo.indexOf(Mo);for(var ll=0;ll<jo.length;){if($o&&jo[ll][$o]==Mo||!$o&&jo[ll]===Mo)return ll;ll++}return-1}function Yr(jo){return Array.prototype.slice.call(jo,0)}function eo(jo,Mo,$o){for(var ll=[],Rl=[],zl=0;zl<jo.length;){var vc=jo[zl][Mo];Hr(Rl,vc)<0&&ll.push(jo[zl]),Rl[zl]=vc,zl++}return ll=ll.sort(function(mh,Zu){return mh[Mo]>Zu[Mo]}),ll}function io(jo,Mo){for(var $o,ll,Rl=Mo[0].toUpperCase()+Mo.slice(1),zl=0;zl<rr.length;){if($o=rr[zl],ll=$o?$o+Rl:Mo,ll in jo)return ll;zl++}return ir}var uo=1;function so(){return uo++}function no(jo){var Mo=jo.ownerDocument||jo;return Mo.defaultView||Mo.parentWindow||Hn}var po=/mobile|tablet|ip(ad|hone|od)|android/i,co="ontouchstart"in Hn,lo=io(Hn,"PointerEvent")!==ir,ao=co&&po.test(navigator.userAgent),xo="touch",_o="pen",Po="mouse",Oo="kinect",So=25,Ao=1,zo=2,Ro=4,Go=8,Qo=1,Vo=2,nl=4,fl=8,Bl=16,Gl=Vo|nl,Tl=fl|Bl,Pc=Gl|Tl,mc=["x","y"],Hc=["clientX","clientY"];function Vl(jo,Mo){var $o=this;this.manager=jo,this.callback=Mo,this.element=jo.element,this.target=jo.options.inputTarget,this.domHandler=function(ll){Ir(jo.options.enable,[jo])&&$o.handler(ll)},this.init()}Vl.prototype={handler:function(){},init:function(){this.evEl&&Or(this.element,this.evEl,this.domHandler),this.evTarget&&Or(this.target,this.evTarget,this.domHandler),this.evWin&&Or(no(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Lr(this.element,this.evEl,this.domHandler),this.evTarget&&Lr(this.target,this.evTarget,this.domHandler),this.evWin&&Lr(no(this.element),this.evWin,this.domHandler)}};function Jc(jo){var Mo,$o=jo.options.inputClass;return $o?Mo=$o:lo?Mo=jc:ao?Mo=sl:co?Mo=kl:Mo=Pl,new Mo(jo,Yl)}function Yl(jo,Mo,$o){var ll=$o.pointers.length,Rl=$o.changedPointers.length,zl=Mo&Ao&&ll-Rl===0,vc=Mo&(Ro|Go)&&ll-Rl===0;$o.isFirst=!!zl,$o.isFinal=!!vc,zl&&(jo.session={}),$o.eventType=Mo,ic(jo,$o),jo.emit("hammer.input",$o),jo.recognize($o),jo.session.prevInput=$o}function ic(jo,Mo){var $o=jo.session,ll=Mo.pointers,Rl=ll.length;$o.firstInput||($o.firstInput=Sc(Mo)),Rl>1&&!$o.firstMultiple?$o.firstMultiple=Sc(Mo):Rl===1&&($o.firstMultiple=!1);var zl=$o.firstInput,vc=$o.firstMultiple,Ku=vc?vc.center:zl.center,mh=Mo.center=Oc(ll);Mo.timeStamp=cr(),Mo.deltaTime=Mo.timeStamp-zl.timeStamp,Mo.angle=wc(Ku,mh),Mo.distance=ql(Ku,mh),cc($o,Mo),Mo.offsetDirection=Ql(Mo.deltaX,Mo.deltaY);var Zu=gl(Mo.deltaTime,Mo.deltaX,Mo.deltaY);Mo.overallVelocityX=Zu.x,Mo.overallVelocityY=Zu.y,Mo.overallVelocity=lr(Zu.x)>lr(Zu.y)?Zu.x:Zu.y,Mo.scale=vc?rl(vc.pointers,ll):1,Mo.rotation=vc?Il(vc.pointers,ll):0,Mo.maxPointers=$o.prevInput?Mo.pointers.length>$o.prevInput.maxPointers?Mo.pointers.length:$o.prevInput.maxPointers:Mo.pointers.length,Xc($o,Mo);var Qu=jo.element;Fr(Mo.srcEvent.target,Qu)&&(Qu=Mo.srcEvent.target),Mo.target=Qu}function cc(jo,Mo){var $o=Mo.center,ll=jo.offsetDelta||{},Rl=jo.prevDelta||{},zl=jo.prevInput||{};(Mo.eventType===Ao||zl.eventType===Ro)&&(Rl=jo.prevDelta={x:zl.deltaX||0,y:zl.deltaY||0},ll=jo.offsetDelta={x:$o.x,y:$o.y}),Mo.deltaX=Rl.x+($o.x-ll.x),Mo.deltaY=Rl.y+($o.y-ll.y)}function Xc(jo,Mo){var $o=jo.lastInterval||Mo,ll=Mo.timeStamp-$o.timeStamp,Rl,zl,vc,Ku;if(Mo.eventType!=Go&&(ll>So||$o.velocity===ir)){var mh=Mo.deltaX-$o.deltaX,Zu=Mo.deltaY-$o.deltaY,Qu=gl(ll,mh,Zu);zl=Qu.x,vc=Qu.y,Rl=lr(Qu.x)>lr(Qu.y)?Qu.x:Qu.y,Ku=Ql(mh,Zu),jo.lastInterval=Mo}else Rl=$o.velocity,zl=$o.velocityX,vc=$o.velocityY,Ku=$o.direction;Mo.velocity=Rl,Mo.velocityX=zl,Mo.velocityY=vc,Mo.direction=Ku}function Sc(jo){for(var Mo=[],$o=0;$o<jo.pointers.length;)Mo[$o]={clientX:or(jo.pointers[$o].clientX),clientY:or(jo.pointers[$o].clientY)},$o++;return{timeStamp:cr(),pointers:Mo,center:Oc(Mo),deltaX:jo.deltaX,deltaY:jo.deltaY}}function Oc(jo){var Mo=jo.length;if(Mo===1)return{x:or(jo[0].clientX),y:or(jo[0].clientY)};for(var $o=0,ll=0,Rl=0;Rl<Mo;)$o+=jo[Rl].clientX,ll+=jo[Rl].clientY,Rl++;return{x:or($o/Mo),y:or(ll/Mo)}}function gl(jo,Mo,$o){return{x:Mo/jo||0,y:$o/jo||0}}function Ql(jo,Mo){return jo===Mo?Qo:lr(jo)>=lr(Mo)?jo<0?Vo:nl:Mo<0?fl:Bl}function ql(jo,Mo,$o){$o||($o=mc);var ll=Mo[$o[0]]-jo[$o[0]],Rl=Mo[$o[1]]-jo[$o[1]];return Math.sqrt(ll*ll+Rl*Rl)}function wc(jo,Mo,$o){$o||($o=mc);var ll=Mo[$o[0]]-jo[$o[0]],Rl=Mo[$o[1]]-jo[$o[1]];return Math.atan2(Rl,ll)*180/Math.PI}function Il(jo,Mo){return wc(Mo[1],Mo[0],Hc)+wc(jo[1],jo[0],Hc)}function rl(jo,Mo){return ql(Mo[0],Mo[1],Hc)/ql(jo[0],jo[1],Hc)}var il={mousedown:Ao,mousemove:zo,mouseup:Ro},hl="mousedown",Dl="mousemove mouseup";function Pl(){this.evEl=hl,this.evWin=Dl,this.pressed=!1,Vl.apply(this,arguments)}jr(Pl,Vl,{handler:function(Mo){var $o=il[Mo.type];$o&Ao&&Mo.button===0&&(this.pressed=!0),$o&zo&&Mo.which!==1&&($o=Ro),this.pressed&&($o&Ro&&(this.pressed=!1),this.callback(this.manager,$o,{pointers:[Mo],changedPointers:[Mo],pointerType:Po,srcEvent:Mo}))}});var Jl={pointerdown:Ao,pointermove:zo,pointerup:Ro,pointercancel:Go,pointerout:Go},oc={2:xo,3:_o,4:Po,5:Oo},qc="pointerdown",xc="pointermove pointerup pointercancel";Hn.MSPointerEvent&&!Hn.PointerEvent&&(qc="MSPointerDown",xc="MSPointerMove MSPointerUp MSPointerCancel");function jc(){this.evEl=qc,this.evWin=xc,Vl.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}jr(jc,Vl,{handler:function(Mo){var $o=this.store,ll=!1,Rl=Mo.type.toLowerCase().replace("ms",""),zl=Jl[Rl],vc=oc[Mo.pointerType]||Mo.pointerType,Ku=vc==xo,mh=Hr($o,Mo.pointerId,"pointerId");zl&Ao&&(Mo.button===0||Ku)?mh<0&&($o.push(Mo),mh=$o.length-1):zl&(Ro|Go)&&(ll=!0),!(mh<0)&&($o[mh]=Mo,this.callback(this.manager,zl,{pointers:$o,changedPointers:[Mo],pointerType:vc,srcEvent:Mo}),ll&&$o.splice(mh,1))}});var vu={touchstart:Ao,touchmove:zo,touchend:Ro,touchcancel:Go},Kc="touchstart",uc="touchstart touchmove touchend touchcancel";function Ic(){this.evTarget=Kc,this.evWin=uc,this.started=!1,Vl.apply(this,arguments)}jr(Ic,Vl,{handler:function(Mo){var $o=vu[Mo.type];if($o===Ao&&(this.started=!0),!!this.started){var ll=ec.call(this,Mo,$o);$o&(Ro|Go)&&ll[0].length-ll[1].length===0&&(this.started=!1),this.callback(this.manager,$o,{pointers:ll[0],changedPointers:ll[1],pointerType:xo,srcEvent:Mo})}}});function ec(jo,Mo){var $o=Yr(jo.touches),ll=Yr(jo.changedTouches);return Mo&(Ro|Go)&&($o=eo($o.concat(ll),"identifier")),[$o,ll]}var Hl={touchstart:Ao,touchmove:zo,touchend:Ro,touchcancel:Go},ah="touchstart touchmove touchend touchcancel";function sl(){this.evTarget=ah,this.targetIds={},Vl.apply(this,arguments)}jr(sl,Vl,{handler:function(Mo){var $o=Hl[Mo.type],ll=yl.call(this,Mo,$o);ll&&this.callback(this.manager,$o,{pointers:ll[0],changedPointers:ll[1],pointerType:xo,srcEvent:Mo})}});function yl(jo,Mo){var $o=Yr(jo.touches),ll=this.targetIds;if(Mo&(Ao|zo)&&$o.length===1)return ll[$o[0].identifier]=!0,[$o,$o];var Rl,zl,vc=Yr(jo.changedTouches),Ku=[],mh=this.target;if(zl=$o.filter(function(Zu){return Fr(Zu.target,mh)}),Mo===Ao)for(Rl=0;Rl<zl.length;)ll[zl[Rl].identifier]=!0,Rl++;for(Rl=0;Rl<vc.length;)ll[vc[Rl].identifier]&&Ku.push(vc[Rl]),Mo&(Ro|Go)&&delete ll[vc[Rl].identifier],Rl++;if(Ku.length)return[eo(zl.concat(Ku),"identifier"),Ku]}var Ll=2500,Cl=25;function kl(){Vl.apply(this,arguments);var jo=Dr(this.handler,this);this.touch=new sl(this.manager,jo),this.mouse=new Pl(this.manager,jo),this.primaryTouch=null,this.lastTouches=[]}jr(kl,Vl,{handler:function(Mo,$o,ll){var Rl=ll.pointerType==xo,zl=ll.pointerType==Po;if(!(zl&&ll.sourceCapabilities&&ll.sourceCapabilities.firesTouchEvents)){if(Rl)bu.call(this,$o,ll);else if(zl&&ku.call(this,ll))return;this.callback(Mo,$o,ll)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function bu(jo,Mo){jo&Ao?(this.primaryTouch=Mo.changedPointers[0].identifier,oh.call(this,Mo)):jo&(Ro|Go)&&oh.call(this,Mo)}function oh(jo){var Mo=jo.changedPointers[0];if(Mo.identifier===this.primaryTouch){var $o={x:Mo.clientX,y:Mo.clientY};this.lastTouches.push($o);var ll=this.lastTouches,Rl=function(){var zl=ll.indexOf($o);zl>-1&&ll.splice(zl,1)};setTimeout(Rl,Ll)}}function ku(jo){for(var Mo=jo.srcEvent.clientX,$o=jo.srcEvent.clientY,ll=0;ll<this.lastTouches.length;ll++){var Rl=this.lastTouches[ll],zl=Math.abs(Mo-Rl.x),vc=Math.abs($o-Rl.y);if(zl<=Cl&&vc<=Cl)return!0}return!1}var Dc=io(sr.style,"touchAction"),eu=Dc!==ir,Zc="compute",ac="auto",hu="manipulation",du="none",Wc="pan-x",Iu="pan-y",qh=Fc();function Bh(jo,Mo){this.manager=jo,this.set(Mo)}Bh.prototype={set:function(jo){jo==Zc&&(jo=this.compute()),eu&&this.manager.element.style&&qh[jo]&&(this.manager.element.style[Dc]=jo),this.actions=jo.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var jo=[];return fr(this.manager.recognizers,function(Mo){Ir(Mo.options.enable,[Mo])&&(jo=jo.concat(Mo.getTouchAction()))}),zh(jo.join(" "))},preventDefaults:function(jo){var Mo=jo.srcEvent,$o=jo.offsetDirection;if(this.manager.session.prevented){Mo.preventDefault();return}var ll=this.actions,Rl=Vr(ll,du)&&!qh[du],zl=Vr(ll,Iu)&&!qh[Iu],vc=Vr(ll,Wc)&&!qh[Wc];if(Rl){var Ku=jo.pointers.length===1,mh=jo.distance<2,Zu=jo.deltaTime<250;if(Ku&&mh&&Zu)return}if(!(vc&&zl)&&(Rl||zl&&$o&Gl||vc&&$o&Tl))return this.preventSrc(Mo)},preventSrc:function(jo){this.manager.session.prevented=!0,jo.preventDefault()}};function zh(jo){if(Vr(jo,du))return du;var Mo=Vr(jo,Wc),$o=Vr(jo,Iu);return Mo&&$o?du:Mo||$o?Mo?Wc:Iu:Vr(jo,hu)?hu:ac}function Fc(){if(!eu)return!1;var jo={},Mo=Hn.CSS&&Hn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function($o){jo[$o]=Mo?Hn.CSS.supports("touch-action",$o):!0}),jo}var Hu=1,tu=2,Hh=4,cd=8,fh=cd,Nh=16,bh=32;function Ed(jo){this.options=yr({},this.defaults,jo||{}),this.id=so(),this.manager=null,this.options.enable=Mr(this.options.enable,!0),this.state=Hu,this.simultaneous={},this.requireFail=[]}Ed.prototype={defaults:{},set:function(jo){return yr(this.options,jo),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(jo){if(dr(jo,"recognizeWith",this))return this;var Mo=this.simultaneous;return jo=Lc(jo,this),Mo[jo.id]||(Mo[jo.id]=jo,jo.recognizeWith(this)),this},dropRecognizeWith:function(jo){return dr(jo,"dropRecognizeWith",this)?this:(jo=Lc(jo,this),delete this.simultaneous[jo.id],this)},requireFailure:function(jo){if(dr(jo,"requireFailure",this))return this;var Mo=this.requireFail;return jo=Lc(jo,this),Hr(Mo,jo)===-1&&(Mo.push(jo),jo.requireFailure(this)),this},dropRequireFailure:function(jo){if(dr(jo,"dropRequireFailure",this))return this;jo=Lc(jo,this);var Mo=Hr(this.requireFail,jo);return Mo>-1&&this.requireFail.splice(Mo,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(jo){return!!this.simultaneous[jo.id]},emit:function(jo){var Mo=this,$o=this.state;function ll(Rl){Mo.manager.emit(Rl,jo)}$o<cd&&ll(Mo.options.event+_u($o)),ll(Mo.options.event),jo.additionalEvent&&ll(jo.additionalEvent),$o>=cd&&ll(Mo.options.event+_u($o))},tryEmit:function(jo){if(this.canEmit())return this.emit(jo);this.state=bh},canEmit:function(){for(var jo=0;jo<this.requireFail.length;){if(!(this.requireFail[jo].state&(bh|Hu)))return!1;jo++}return!0},recognize:function(jo){var Mo=yr({},jo);if(!Ir(this.options.enable,[this,Mo])){this.reset(),this.state=bh;return}this.state&(fh|Nh|bh)&&(this.state=Hu),this.state=this.process(Mo),this.state&(tu|Hh|cd|Nh)&&this.tryEmit(Mo)},process:function(jo){},getTouchAction:function(){},reset:function(){}};function _u(jo){return jo&Nh?"cancel":jo&cd?"end":jo&Hh?"move":jo&tu?"start":""}function Bf(jo){return jo==Bl?"down":jo==fl?"up":jo==Vo?"left":jo==nl?"right":""}function Lc(jo,Mo){var $o=Mo.manager;return $o?$o.get(jo):jo}function Gc(){Ed.apply(this,arguments)}jr(Gc,Ed,{defaults:{pointers:1},attrTest:function(jo){var Mo=this.options.pointers;return Mo===0||jo.pointers.length===Mo},process:function(jo){var Mo=this.state,$o=jo.eventType,ll=Mo&(tu|Hh),Rl=this.attrTest(jo);return ll&&($o&Go||!Rl)?Mo|Nh:ll||Rl?$o&Ro?Mo|cd:Mo&tu?Mo|Hh:tu:bh}});function Th(){Gc.apply(this,arguments),this.pX=null,this.pY=null}jr(Th,Gc,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pc},getTouchAction:function(){var jo=this.options.direction,Mo=[];return jo&Gl&&Mo.push(Iu),jo&Tl&&Mo.push(Wc),Mo},directionTest:function(jo){var Mo=this.options,$o=!0,ll=jo.distance,Rl=jo.direction,zl=jo.deltaX,vc=jo.deltaY;return Rl&Mo.direction||(Mo.direction&Gl?(Rl=zl===0?Qo:zl<0?Vo:nl,$o=zl!=this.pX,ll=Math.abs(jo.deltaX)):(Rl=vc===0?Qo:vc<0?fl:Bl,$o=vc!=this.pY,ll=Math.abs(jo.deltaY))),jo.direction=Rl,$o&&ll>Mo.threshold&&Rl&Mo.direction},attrTest:function(jo){return Gc.prototype.attrTest.call(this,jo)&&(this.state&tu||!(this.state&tu)&&this.directionTest(jo))},emit:function(jo){this.pX=jo.deltaX,this.pY=jo.deltaY;var Mo=Bf(jo.direction);Mo&&(jo.additionalEvent=this.options.event+Mo),this._super.emit.call(this,jo)}});function ph(){Gc.apply(this,arguments)}jr(ph,Gc,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[du]},attrTest:function(jo){return this._super.attrTest.call(this,jo)&&(Math.abs(jo.scale-1)>this.options.threshold||this.state&tu)},emit:function(jo){if(jo.scale!==1){var Mo=jo.scale<1?"in":"out";jo.additionalEvent=this.options.event+Mo}this._super.emit.call(this,jo)}});function Sd(){Ed.apply(this,arguments),this._timer=null,this._input=null}jr(Sd,Ed,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ac]},process:function(jo){var Mo=this.options,$o=jo.pointers.length===Mo.pointers,ll=jo.distance<Mo.threshold,Rl=jo.deltaTime>Mo.time;if(this._input=jo,!ll||!$o||jo.eventType&(Ro|Go)&&!Rl)this.reset();else if(jo.eventType&Ao)this.reset(),this._timer=ur(function(){this.state=fh,this.tryEmit()},Mo.time,this);else if(jo.eventType&Ro)return fh;return bh},reset:function(){clearTimeout(this._timer)},emit:function(jo){this.state===fh&&(jo&&jo.eventType&Ro?this.manager.emit(this.options.event+"up",jo):(this._input.timeStamp=cr(),this.manager.emit(this.options.event,this._input)))}});function fp(){Gc.apply(this,arguments)}jr(fp,Gc,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[du]},attrTest:function(jo){return this._super.attrTest.call(this,jo)&&(Math.abs(jo.rotation)>this.options.threshold||this.state&tu)}});function yc(){Gc.apply(this,arguments)}jr(yc,Gc,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Gl|Tl,pointers:1},getTouchAction:function(){return Th.prototype.getTouchAction.call(this)},attrTest:function(jo){var Mo=this.options.direction,$o;return Mo&(Gl|Tl)?$o=jo.overallVelocity:Mo&Gl?$o=jo.overallVelocityX:Mo&Tl&&($o=jo.overallVelocityY),this._super.attrTest.call(this,jo)&&Mo&jo.offsetDirection&&jo.distance>this.options.threshold&&jo.maxPointers==this.options.pointers&&lr($o)>this.options.velocity&&jo.eventType&Ro},emit:function(jo){var Mo=Bf(jo.offsetDirection);Mo&&this.manager.emit(this.options.event+Mo,jo),this.manager.emit(this.options.event,jo)}});function wu(){Ed.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}jr(wu,Ed,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[hu]},process:function(jo){var Mo=this.options,$o=jo.pointers.length===Mo.pointers,ll=jo.distance<Mo.threshold,Rl=jo.deltaTime<Mo.time;if(this.reset(),jo.eventType&Ao&&this.count===0)return this.failTimeout();if(ll&&Rl&&$o){if(jo.eventType!=Ro)return this.failTimeout();var zl=this.pTime?jo.timeStamp-this.pTime<Mo.interval:!0,vc=!this.pCenter||ql(this.pCenter,jo.center)<Mo.posThreshold;this.pTime=jo.timeStamp,this.pCenter=jo.center,!vc||!zl?this.count=1:this.count+=1,this._input=jo;var Ku=this.count%Mo.taps;if(Ku===0)return this.hasRequireFailures()?(this._timer=ur(function(){this.state=fh,this.tryEmit()},Mo.interval,this),tu):fh}return bh},failTimeout:function(){return this._timer=ur(function(){this.state=bh},this.options.interval,this),bh},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fh&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Wh(jo,Mo){return Mo=Mo||{},Mo.recognizers=Mr(Mo.recognizers,Wh.defaults.preset),new zf(jo,Mo)}Wh.VERSION="2.0.7",Wh.defaults={domEvents:!1,touchAction:Zc,enable:!0,inputTarget:null,inputClass:null,preset:[[fp,{enable:!1}],[ph,{enable:!1},["rotate"]],[yc,{direction:Gl}],[Th,{direction:Gl},["swipe"]],[wu],[wu,{event:"doubletap",taps:2},["tap"]],[Sd]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var um=1,Eu=2;function zf(jo,Mo){this.options=yr({},Wh.defaults,Mo||{}),this.options.inputTarget=this.options.inputTarget||jo,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=jo,this.input=Jc(this),this.touchAction=new Bh(this,this.options.touchAction),Jd(this,!0),fr(this.options.recognizers,function($o){var ll=this.add(new $o[0]($o[1]));$o[2]&&ll.recognizeWith($o[2]),$o[3]&&ll.requireFailure($o[3])},this)}zf.prototype={set:function(jo){return yr(this.options,jo),jo.touchAction&&this.touchAction.update(),jo.inputTarget&&(this.input.destroy(),this.input.target=jo.inputTarget,this.input.init()),this},stop:function(jo){this.session.stopped=jo?Eu:um},recognize:function(jo){var Mo=this.session;if(!Mo.stopped){this.touchAction.preventDefaults(jo);var $o,ll=this.recognizers,Rl=Mo.curRecognizer;(!Rl||Rl&&Rl.state&fh)&&(Rl=Mo.curRecognizer=null);for(var zl=0;zl<ll.length;)$o=ll[zl],Mo.stopped!==Eu&&(!Rl||$o==Rl||$o.canRecognizeWith(Rl))?$o.recognize(jo):$o.reset(),!Rl&&$o.state&(tu|Hh|cd)&&(Rl=Mo.curRecognizer=$o),zl++}},get:function(jo){if(jo instanceof Ed)return jo;for(var Mo=this.recognizers,$o=0;$o<Mo.length;$o++)if(Mo[$o].options.event==jo)return Mo[$o];return null},add:function(jo){if(dr(jo,"add",this))return this;var Mo=this.get(jo.options.event);return Mo&&this.remove(Mo),this.recognizers.push(jo),jo.manager=this,this.touchAction.update(),jo},remove:function(jo){if(dr(jo,"remove",this))return this;if(jo=this.get(jo),jo){var Mo=this.recognizers,$o=Hr(Mo,jo);$o!==-1&&(Mo.splice($o,1),this.touchAction.update())}return this},on:function(jo,Mo){if(jo!==ir&&Mo!==ir){var $o=this.handlers;return fr(Zr(jo),function(ll){$o[ll]=$o[ll]||[],$o[ll].push(Mo)}),this}},off:function(jo,Mo){if(jo!==ir){var $o=this.handlers;return fr(Zr(jo),function(ll){Mo?$o[ll]&&$o[ll].splice(Hr($o[ll],Mo),1):delete $o[ll]}),this}},emit:function(jo,Mo){this.options.domEvents&&ud(jo,Mo);var $o=this.handlers[jo]&&this.handlers[jo].slice();if(!(!$o||!$o.length)){Mo.type=jo,Mo.preventDefault=function(){Mo.srcEvent.preventDefault()};for(var ll=0;ll<$o.length;)$o[ll](Mo),ll++}},destroy:function(){this.element&&Jd(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Jd(jo,Mo){var $o=jo.element;if($o.style){var ll;fr(jo.options.cssProps,function(Rl,zl){ll=io($o.style,zl),Mo?(jo.oldCssProps[ll]=$o.style[ll],$o.style[ll]=Rl):$o.style[ll]=jo.oldCssProps[ll]||""}),Mo||(jo.oldCssProps={})}}function ud(jo,Mo){var $o=er.createEvent("Event");$o.initEvent(jo,!0,!0),$o.gesture=Mo,Mo.target.dispatchEvent($o)}yr(Wh,{INPUT_START:Ao,INPUT_MOVE:zo,INPUT_END:Ro,INPUT_CANCEL:Go,STATE_POSSIBLE:Hu,STATE_BEGAN:tu,STATE_CHANGED:Hh,STATE_ENDED:cd,STATE_RECOGNIZED:fh,STATE_CANCELLED:Nh,STATE_FAILED:bh,DIRECTION_NONE:Qo,DIRECTION_LEFT:Vo,DIRECTION_RIGHT:nl,DIRECTION_UP:fl,DIRECTION_DOWN:Bl,DIRECTION_HORIZONTAL:Gl,DIRECTION_VERTICAL:Tl,DIRECTION_ALL:Pc,Manager:zf,Input:Vl,TouchAction:Bh,TouchInput:sl,MouseInput:Pl,PointerEventInput:jc,TouchMouseInput:kl,SingleTouchInput:Ic,Recognizer:Ed,AttrRecognizer:Gc,Tap:wu,Pan:Th,Swipe:yc,Pinch:ph,Rotate:fp,Press:Sd,on:Or,off:Lr,each:fr,merge:Sr,extend:_r,assign:yr,inherit:jr,bindFn:Dr,prefixed:io});var Au=typeof Hn<"u"?Hn:typeof self<"u"?self:{};Au.Hammer=Wh,tr.exports?tr.exports=Wh:Hn[nr]=Wh})(window,document,"Hammer")})(hammer)),hammer.exports}var hammerExports=requireHammer();const Hammer=getDefaultExportFromCjs(hammerExports);const getModifierKey=tr=>tr&&tr.enabled&&tr.modifierKey,keyPressed=(tr,Hn)=>tr&&Hn[tr+"Key"],keyNotPressed=(tr,Hn)=>tr&&!Hn[tr+"Key"];function directionEnabled(tr,Hn,er){return tr===void 0?!0:typeof tr=="string"?tr.indexOf(Hn)!==-1:typeof tr=="function"?tr({chart:er}).indexOf(Hn)!==-1:!1}function directionsEnabled(tr,Hn){return typeof tr=="function"&&(tr=tr({chart:Hn})),typeof tr=="string"?{x:tr.indexOf("x")!==-1,y:tr.indexOf("y")!==-1}:{x:!1,y:!1}}function debounce(tr,Hn){let er;return function(){return clearTimeout(er),er=setTimeout(tr,Hn),Hn}}function getScaleUnderPoint({x:tr,y:Hn},er){const nr=er.scales,ir=Object.keys(nr);for(let rr=0;rr<ir.length;rr++){const sr=nr[ir[rr]];if(Hn>=sr.top&&Hn<=sr.bottom&&tr>=sr.left&&tr<=sr.right)return sr}return null}function getEnabledScalesByPoint(tr,Hn,er){const{mode:nr="xy",scaleMode:ir,overScaleMode:rr}=tr||{},sr=getScaleUnderPoint(Hn,er),ar=directionsEnabled(nr,er),or=directionsEnabled(ir,er);if(rr){const cr=directionsEnabled(rr,er);for(const ur of["x","y"])cr[ur]&&(or[ur]=ar[ur],ar[ur]=!1)}if(sr&&or[sr.axis])return[sr];const lr=[];return each$1(er.scales,function(cr){ar[cr.axis]&&lr.push(cr)}),lr}const chartStates$1=new WeakMap;function getState(tr){let Hn=chartStates$1.get(tr);return Hn||(Hn={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},chartStates$1.set(tr,Hn)),Hn}function removeState(tr){chartStates$1.delete(tr)}function zoomDelta(tr,Hn,er,nr){const ir=Math.max(0,Math.min(1,(tr-Hn)/er||0)),rr=1-ir;return{min:nr*ir,max:nr*rr}}function getValueAtPoint(tr,Hn){const er=tr.isHorizontal()?Hn.x:Hn.y;return tr.getValueForPixel(er)}function linearZoomDelta(tr,Hn,er){const nr=tr.max-tr.min,ir=nr*(Hn-1),rr=getValueAtPoint(tr,er);return zoomDelta(rr,tr.min,nr,ir)}function logarithmicZoomRange(tr,Hn,er){const nr=getValueAtPoint(tr,er);if(nr===void 0)return{min:tr.min,max:tr.max};const ir=Math.log10(tr.min),rr=Math.log10(tr.max),sr=Math.log10(nr),ar=rr-ir,or=ar*(Hn-1),lr=zoomDelta(sr,ir,ar,or);return{min:Math.pow(10,ir+lr.min),max:Math.pow(10,rr-lr.max)}}function getScaleLimits$1(tr,Hn){return Hn&&(Hn[tr.id]||Hn[tr.axis])||{}}function getLimit(tr,Hn,er,nr,ir){let rr=er[nr];if(rr==="original"){const sr=tr.originalScaleLimits[Hn.id][nr];rr=valueOrDefault(sr.options,sr.scale)}return valueOrDefault(rr,ir)}function linearRange(tr,Hn,er){const nr=tr.getValueForPixel(Hn),ir=tr.getValueForPixel(er);return{min:Math.min(nr,ir),max:Math.max(nr,ir)}}function fixRange(tr,{min:Hn,max:er,minLimit:nr,maxLimit:ir},rr){const sr=(tr-er+Hn)/2;Hn-=sr,er+=sr;const ar=rr.min.options??rr.min.scale,or=rr.max.options??rr.max.scale,lr=tr/1e6;return almostEquals(Hn,ar,lr)&&(Hn=ar),almostEquals(er,or,lr)&&(er=or),Hn<nr?(Hn=nr,er=Math.min(nr+tr,ir)):er>ir&&(er=ir,Hn=Math.max(ir-tr,nr)),{min:Hn,max:er}}function updateRange(tr,{min:Hn,max:er},nr,ir=!1){const rr=getState(tr.chart),{options:sr}=tr,ar=getScaleLimits$1(tr,nr),{minRange:or=0}=ar,lr=getLimit(rr,tr,ar,"min",-1/0),cr=getLimit(rr,tr,ar,"max",1/0);if(ir==="pan"&&(Hn<lr||er>cr))return!0;const ur=tr.max-tr.min,dr=ir?Math.max(er-Hn,or):ur;if(ir&&dr===or&&ur<=or)return!0;const fr=fixRange(dr,{min:Hn,max:er,minLimit:lr,maxLimit:cr},rr.originalScaleLimits[tr.id]);return sr.min=fr.min,sr.max=fr.max,rr.updatedScaleLimits[tr.id]=fr,tr.parse(fr.min)!==tr.min||tr.parse(fr.max)!==tr.max}function zoomNumericalScale(tr,Hn,er,nr){const ir=linearZoomDelta(tr,Hn,er),rr={min:tr.min+ir.min,max:tr.max-ir.max};return updateRange(tr,rr,nr,!0)}function zoomLogarithmicScale(tr,Hn,er,nr){const ir=logarithmicZoomRange(tr,Hn,er);return updateRange(tr,ir,nr,!0)}function zoomRectNumericalScale(tr,Hn,er,nr){updateRange(tr,linearRange(tr,Hn,er),nr,!0)}const integerChange=tr=>tr===0||isNaN(tr)?0:tr<0?Math.min(Math.round(tr),-1):Math.max(Math.round(tr),1);function existCategoryFromMaxZoom(tr){const er=tr.getLabels().length-1;tr.min>0&&(tr.min-=1),tr.max<er&&(tr.max+=1)}function zoomCategoryScale(tr,Hn,er,nr){const ir=linearZoomDelta(tr,Hn,er);tr.min===tr.max&&Hn<1&&existCategoryFromMaxZoom(tr);const rr={min:tr.min+integerChange(ir.min),max:tr.max-integerChange(ir.max)};return updateRange(tr,rr,nr,!0)}function scaleLength(tr){return tr.isHorizontal()?tr.width:tr.height}function panCategoryScale(tr,Hn,er){const ir=tr.getLabels().length-1;let{min:rr,max:sr}=tr;const ar=Math.max(sr-rr,1),or=Math.round(scaleLength(tr)/Math.max(ar,10)),lr=Math.round(Math.abs(Hn/or));let cr;return Hn<-or?(sr=Math.min(sr+lr,ir),rr=ar===1?sr:sr-ar,cr=sr===ir):Hn>or&&(rr=Math.max(0,rr-lr),sr=ar===1?rr:rr+ar,cr=rr===0),updateRange(tr,{min:rr,max:sr},er)||cr}const OFFSETS={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function panNumericalScale(tr,Hn,er,nr=!1){const{min:ir,max:rr,options:sr}=tr,ar=sr.time&&sr.time.round,or=OFFSETS[ar]||0,lr=tr.getValueForPixel(tr.getPixelForValue(ir+or)-Hn),cr=tr.getValueForPixel(tr.getPixelForValue(rr+or)-Hn);return isNaN(lr)||isNaN(cr)?!0:updateRange(tr,{min:lr,max:cr},er,nr?"pan":!1)}function panNonLinearScale(tr,Hn,er){return panNumericalScale(tr,Hn,er,!0)}const zoomFunctions={category:zoomCategoryScale,default:zoomNumericalScale,logarithmic:zoomLogarithmicScale},zoomRectFunctions={default:zoomRectNumericalScale},panFunctions={category:panCategoryScale,default:panNumericalScale,logarithmic:panNonLinearScale,timeseries:panNonLinearScale};function shouldUpdateScaleLimits(tr,Hn,er){const{id:nr,options:{min:ir,max:rr}}=tr;if(!Hn[nr]||!er[nr])return!0;const sr=er[nr];return sr.min!==ir||sr.max!==rr}function removeMissingScales(tr,Hn){each$1(tr,(er,nr)=>{Hn[nr]||delete tr[nr]})}function storeOriginalScaleLimits(tr,Hn){const{scales:er}=tr,{originalScaleLimits:nr,updatedScaleLimits:ir}=Hn;return each$1(er,function(rr){shouldUpdateScaleLimits(rr,nr,ir)&&(nr[rr.id]={min:{scale:rr.min,options:rr.options.min},max:{scale:rr.max,options:rr.options.max}})}),removeMissingScales(nr,er),removeMissingScales(ir,er),nr}function doZoom(tr,Hn,er,nr){const ir=zoomFunctions[tr.type]||zoomFunctions.default;callback(ir,[tr,Hn,er,nr])}function doZoomRect(tr,Hn,er,nr){const ir=zoomRectFunctions[tr.type]||zoomRectFunctions.default;callback(ir,[tr,Hn,er,nr])}function getCenter(tr){const Hn=tr.chartArea;return{x:(Hn.left+Hn.right)/2,y:(Hn.top+Hn.bottom)/2}}function zoom(tr,Hn,er="none",nr="api"){const{x:ir=1,y:rr=1,focalPoint:sr=getCenter(tr)}=typeof Hn=="number"?{x:Hn,y:Hn}:Hn,ar=getState(tr),{options:{limits:or,zoom:lr}}=ar;storeOriginalScaleLimits(tr,ar);const cr=ir!==1,ur=rr!==1,dr=getEnabledScalesByPoint(lr,sr,tr);each$1(dr||tr.scales,function(fr){fr.isHorizontal()&&cr?doZoom(fr,ir,sr,or):!fr.isHorizontal()&&ur&&doZoom(fr,rr,sr,or)}),tr.update(er),callback(lr.onZoom,[{chart:tr,trigger:nr}])}function zoomRect(tr,Hn,er,nr="none",ir="api"){const rr=getState(tr),{options:{limits:sr,zoom:ar}}=rr,{mode:or="xy"}=ar;storeOriginalScaleLimits(tr,rr);const lr=directionEnabled(or,"x",tr),cr=directionEnabled(or,"y",tr);each$1(tr.scales,function(ur){ur.isHorizontal()&&lr?doZoomRect(ur,Hn.x,er.x,sr):!ur.isHorizontal()&&cr&&doZoomRect(ur,Hn.y,er.y,sr)}),tr.update(nr),callback(ar.onZoom,[{chart:tr,trigger:ir}])}function zoomScale(tr,Hn,er,nr="none",ir="api"){const rr=getState(tr);storeOriginalScaleLimits(tr,rr);const sr=tr.scales[Hn];updateRange(sr,er,void 0,!0),tr.update(nr),callback(rr.options.zoom?.onZoom,[{chart:tr,trigger:ir}])}function resetZoom(tr,Hn="default"){const er=getState(tr),nr=storeOriginalScaleLimits(tr,er);each$1(tr.scales,function(ir){const rr=ir.options;nr[ir.id]?(rr.min=nr[ir.id].min.options,rr.max=nr[ir.id].max.options):(delete rr.min,delete rr.max),delete er.updatedScaleLimits[ir.id]}),tr.update(Hn),callback(er.options.zoom.onZoomComplete,[{chart:tr}])}function getOriginalRange(tr,Hn){const er=tr.originalScaleLimits[Hn];if(!er)return;const{min:nr,max:ir}=er;return valueOrDefault(ir.options,ir.scale)-valueOrDefault(nr.options,nr.scale)}function getZoomLevel(tr){const Hn=getState(tr);let er=1,nr=1;return each$1(tr.scales,function(ir){const rr=getOriginalRange(Hn,ir.id);if(rr){const sr=Math.round(rr/(ir.max-ir.min)*100)/100;er=Math.min(er,sr),nr=Math.max(nr,sr)}}),er<1?er:nr}function panScale(tr,Hn,er,nr){const{panDelta:ir}=nr,rr=ir[tr.id]||0;sign$1(rr)===sign$1(Hn)&&(Hn+=rr);const sr=panFunctions[tr.type]||panFunctions.default;callback(sr,[tr,Hn,er])?ir[tr.id]=0:ir[tr.id]=Hn}function pan(tr,Hn,er,nr="none"){const{x:ir=0,y:rr=0}=typeof Hn=="number"?{x:Hn,y:Hn}:Hn,sr=getState(tr),{options:{pan:ar,limits:or}}=sr,{onPan:lr}=ar||{};storeOriginalScaleLimits(tr,sr);const cr=ir!==0,ur=rr!==0;each$1(er||tr.scales,function(dr){dr.isHorizontal()&&cr?panScale(dr,ir,or,sr):!dr.isHorizontal()&&ur&&panScale(dr,rr,or,sr)}),tr.update(nr),callback(lr,[{chart:tr}])}function getInitialScaleBounds(tr){const Hn=getState(tr);storeOriginalScaleLimits(tr,Hn);const er={};for(const nr of Object.keys(tr.scales)){const{min:ir,max:rr}=Hn.originalScaleLimits[nr]||{min:{},max:{}};er[nr]={min:ir.scale,max:rr.scale}}return er}function getZoomedScaleBounds(tr){const Hn=getState(tr),er={};for(const nr of Object.keys(tr.scales))er[nr]=Hn.updatedScaleLimits[nr];return er}function isZoomedOrPanned(tr){const Hn=getInitialScaleBounds(tr);for(const er of Object.keys(tr.scales)){const{min:nr,max:ir}=Hn[er];if(nr!==void 0&&tr.scales[er].min!==nr||ir!==void 0&&tr.scales[er].max!==ir)return!0}return!1}function isZoomingOrPanning(tr){const Hn=getState(tr);return Hn.panning||Hn.dragging}const clamp$2=(tr,Hn,er)=>Math.min(er,Math.max(Hn,tr));function removeHandler(tr,Hn){const{handlers:er}=getState(tr),nr=er[Hn];nr&&nr.target&&(nr.target.removeEventListener(Hn,nr),delete er[Hn])}function addHandler(tr,Hn,er,nr){const{handlers:ir,options:rr}=getState(tr),sr=ir[er];if(sr&&sr.target===Hn)return;removeHandler(tr,er),ir[er]=or=>nr(tr,or,rr),ir[er].target=Hn;const ar=er==="wheel"?!1:void 0;Hn.addEventListener(er,ir[er],{passive:ar})}function mouseMove(tr,Hn){const er=getState(tr);er.dragStart&&(er.dragging=!0,er.dragEnd=Hn,tr.update("none"))}function keyDown(tr,Hn){const er=getState(tr);!er.dragStart||Hn.key!=="Escape"||(removeHandler(tr,"keydown"),er.dragging=!1,er.dragStart=er.dragEnd=null,tr.update("none"))}function getPointPosition(tr,Hn){if(tr.target!==Hn.canvas){const er=Hn.canvas.getBoundingClientRect();return{x:tr.clientX-er.left,y:tr.clientY-er.top}}return getRelativePosition$1(tr,Hn)}function zoomStart(tr,Hn,er){const{onZoomStart:nr,onZoomRejected:ir}=er;if(nr){const rr=getPointPosition(Hn,tr);if(callback(nr,[{chart:tr,event:Hn,point:rr}])===!1)return callback(ir,[{chart:tr,event:Hn}]),!1}}function mouseDown(tr,Hn){if(tr.legend){const rr=getRelativePosition$1(Hn,tr);if(_isPointInArea(rr,tr.legend))return}const er=getState(tr),{pan:nr,zoom:ir={}}=er.options;if(Hn.button!==0||keyPressed(getModifierKey(nr),Hn)||keyNotPressed(getModifierKey(ir.drag),Hn))return callback(ir.onZoomRejected,[{chart:tr,event:Hn}]);zoomStart(tr,Hn,ir)!==!1&&(er.dragStart=Hn,addHandler(tr,tr.canvas.ownerDocument,"mousemove",mouseMove),addHandler(tr,window.document,"keydown",keyDown))}function applyAspectRatio({begin:tr,end:Hn},er){let nr=Hn.x-tr.x,ir=Hn.y-tr.y;const rr=Math.abs(nr/ir);rr>er?nr=Math.sign(nr)*Math.abs(ir*er):rr<er&&(ir=Math.sign(ir)*Math.abs(nr/er)),Hn.x=tr.x+nr,Hn.y=tr.y+ir}function applyMinMaxProps(tr,Hn,er,{min:nr,max:ir,prop:rr}){tr[nr]=clamp$2(Math.min(er.begin[rr],er.end[rr]),Hn[nr],Hn[ir]),tr[ir]=clamp$2(Math.max(er.begin[rr],er.end[rr]),Hn[nr],Hn[ir])}function getRelativePoints(tr,Hn,er){const nr={begin:getPointPosition(Hn.dragStart,tr),end:getPointPosition(Hn.dragEnd,tr)};if(er){const ir=tr.chartArea.width/tr.chartArea.height;applyAspectRatio(nr,ir)}return nr}function computeDragRect(tr,Hn,er,nr){const ir=directionEnabled(Hn,"x",tr),rr=directionEnabled(Hn,"y",tr),{top:sr,left:ar,right:or,bottom:lr,width:cr,height:ur}=tr.chartArea,dr={top:sr,left:ar,right:or,bottom:lr},fr=getRelativePoints(tr,er,nr&&ir&&rr);ir&&applyMinMaxProps(dr,tr.chartArea,fr,{min:"left",max:"right",prop:"x"}),rr&&applyMinMaxProps(dr,tr.chartArea,fr,{min:"top",max:"bottom",prop:"y"});const xr=dr.right-dr.left,yr=dr.bottom-dr.top;return{...dr,width:xr,height:yr,zoomX:ir&&xr?1+(cr-xr)/cr:1,zoomY:rr&&yr?1+(ur-yr)/ur:1}}function mouseUp(tr,Hn){const er=getState(tr);if(!er.dragStart)return;removeHandler(tr,"mousemove");const{mode:nr,onZoomComplete:ir,drag:{threshold:rr=0,maintainAspectRatio:sr}}=er.options.zoom,ar=computeDragRect(tr,nr,{dragStart:er.dragStart,dragEnd:Hn},sr),or=directionEnabled(nr,"x",tr)?ar.width:0,lr=directionEnabled(nr,"y",tr)?ar.height:0,cr=Math.sqrt(or*or+lr*lr);if(er.dragStart=er.dragEnd=null,cr<=rr){er.dragging=!1,tr.update("none");return}zoomRect(tr,{x:ar.left,y:ar.top},{x:ar.right,y:ar.bottom},"zoom","drag"),er.dragging=!1,er.filterNextClick=!0,callback(ir,[{chart:tr}])}function wheelPreconditions(tr,Hn,er){if(keyNotPressed(getModifierKey(er.wheel),Hn)){callback(er.onZoomRejected,[{chart:tr,event:Hn}]);return}if(zoomStart(tr,Hn,er)!==!1&&(Hn.cancelable&&Hn.preventDefault(),Hn.deltaY!==void 0))return!0}function wheel(tr,Hn){const{handlers:{onZoomComplete:er},options:{zoom:nr}}=getState(tr);if(!wheelPreconditions(tr,Hn,nr))return;const ir=Hn.target.getBoundingClientRect(),rr=nr.wheel.speed,sr=Hn.deltaY>=0?2-1/(1-rr):1+rr,ar={x:sr,y:sr,focalPoint:{x:Hn.clientX-ir.left,y:Hn.clientY-ir.top}};zoom(tr,ar,"zoom","wheel"),callback(er,[{chart:tr}])}function addDebouncedHandler(tr,Hn,er,nr){er&&(getState(tr).handlers[Hn]=debounce(()=>callback(er,[{chart:tr}]),nr))}function addListeners(tr,Hn){const er=tr.canvas,{wheel:nr,drag:ir,onZoomComplete:rr}=Hn.zoom;nr.enabled?(addHandler(tr,er,"wheel",wheel),addDebouncedHandler(tr,"onZoomComplete",rr,250)):removeHandler(tr,"wheel"),ir.enabled?(addHandler(tr,er,"mousedown",mouseDown),addHandler(tr,er.ownerDocument,"mouseup",mouseUp)):(removeHandler(tr,"mousedown"),removeHandler(tr,"mousemove"),removeHandler(tr,"mouseup"),removeHandler(tr,"keydown"))}function removeListeners(tr){removeHandler(tr,"mousedown"),removeHandler(tr,"mousemove"),removeHandler(tr,"mouseup"),removeHandler(tr,"wheel"),removeHandler(tr,"click"),removeHandler(tr,"keydown")}function createEnabler(tr,Hn){return function(er,nr){const{pan:ir,zoom:rr={}}=Hn.options;if(!ir||!ir.enabled)return!1;const sr=nr&&nr.srcEvent;return sr&&!Hn.panning&&nr.pointerType==="mouse"&&(keyNotPressed(getModifierKey(ir),sr)||keyPressed(getModifierKey(rr.drag),sr))?(callback(ir.onPanRejected,[{chart:tr,event:nr}]),!1):!0}}function pinchAxes(tr,Hn){const er=Math.abs(tr.clientX-Hn.clientX),nr=Math.abs(tr.clientY-Hn.clientY),ir=er/nr;let rr,sr;return ir>.3&&ir<1.7?rr=sr=!0:er>nr?rr=!0:sr=!0,{x:rr,y:sr}}function handlePinch(tr,Hn,er){if(Hn.scale){const{center:nr,pointers:ir}=er,rr=1/Hn.scale*er.scale,sr=er.target.getBoundingClientRect(),ar=pinchAxes(ir[0],ir[1]),or=Hn.options.zoom.mode,lr={x:ar.x&&directionEnabled(or,"x",tr)?rr:1,y:ar.y&&directionEnabled(or,"y",tr)?rr:1,focalPoint:{x:nr.x-sr.left,y:nr.y-sr.top}};zoom(tr,lr,"zoom","pinch"),Hn.scale=er.scale}}function startPinch(tr,Hn,er){if(Hn.options.zoom.pinch.enabled){const nr=getRelativePosition$1(er,tr);callback(Hn.options.zoom.onZoomStart,[{chart:tr,event:er,point:nr}])===!1?(Hn.scale=null,callback(Hn.options.zoom.onZoomRejected,[{chart:tr,event:er}])):Hn.scale=1}}function endPinch(tr,Hn,er){Hn.scale&&(handlePinch(tr,Hn,er),Hn.scale=null,callback(Hn.options.zoom.onZoomComplete,[{chart:tr}]))}function handlePan(tr,Hn,er){const nr=Hn.delta;nr&&(Hn.panning=!0,pan(tr,{x:er.deltaX-nr.x,y:er.deltaY-nr.y},Hn.panScales),Hn.delta={x:er.deltaX,y:er.deltaY})}function startPan(tr,Hn,er){const{enabled:nr,onPanStart:ir,onPanRejected:rr}=Hn.options.pan;if(!nr)return;const sr=er.target.getBoundingClientRect(),ar={x:er.center.x-sr.left,y:er.center.y-sr.top};if(callback(ir,[{chart:tr,event:er,point:ar}])===!1)return callback(rr,[{chart:tr,event:er}]);Hn.panScales=getEnabledScalesByPoint(Hn.options.pan,ar,tr),Hn.delta={x:0,y:0},handlePan(tr,Hn,er)}function endPan(tr,Hn){Hn.delta=null,Hn.panning&&(Hn.panning=!1,Hn.filterNextClick=!0,callback(Hn.options.pan.onPanComplete,[{chart:tr}]))}const hammers=new WeakMap;function startHammer(tr,Hn){const er=getState(tr),nr=tr.canvas,{pan:ir,zoom:rr}=Hn,sr=new Hammer.Manager(nr);rr&&rr.pinch.enabled&&(sr.add(new Hammer.Pinch),sr.on("pinchstart",ar=>startPinch(tr,er,ar)),sr.on("pinch",ar=>handlePinch(tr,er,ar)),sr.on("pinchend",ar=>endPinch(tr,er,ar))),ir&&ir.enabled&&(sr.add(new Hammer.Pan({threshold:ir.threshold,enable:createEnabler(tr,er)})),sr.on("panstart",ar=>startPan(tr,er,ar)),sr.on("panmove",ar=>handlePan(tr,er,ar)),sr.on("panend",()=>endPan(tr,er))),hammers.set(tr,sr)}function stopHammer(tr){const Hn=hammers.get(tr);Hn&&(Hn.remove("pinchstart"),Hn.remove("pinch"),Hn.remove("pinchend"),Hn.remove("panstart"),Hn.remove("pan"),Hn.remove("panend"),Hn.destroy(),hammers.delete(tr))}function hammerOptionsChanged(tr,Hn){const{pan:er,zoom:nr}=tr,{pan:ir,zoom:rr}=Hn;return nr?.zoom?.pinch?.enabled!==rr?.zoom?.pinch?.enabled||er?.enabled!==ir?.enabled||er?.threshold!==ir?.threshold}var version$1="2.2.0";function draw$1(tr,Hn,er){const nr=er.zoom.drag,{dragStart:ir,dragEnd:rr}=getState(tr);if(nr.drawTime!==Hn||!rr)return;const{left:sr,top:ar,width:or,height:lr}=computeDragRect(tr,er.zoom.mode,{dragStart:ir,dragEnd:rr},nr.maintainAspectRatio),cr=tr.ctx;cr.save(),cr.beginPath(),cr.fillStyle=nr.backgroundColor||"rgba(225,225,225,0.3)",cr.fillRect(sr,ar,or,lr),nr.borderWidth>0&&(cr.lineWidth=nr.borderWidth,cr.strokeStyle=nr.borderColor||"rgba(225,225,225)",cr.strokeRect(sr,ar,or,lr)),cr.restore()}var plugin$1={id:"zoom",version:version$1,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(tr,Hn,er){const nr=getState(tr);nr.options=er,Object.prototype.hasOwnProperty.call(er.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(er.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(er.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Hammer&&startHammer(tr,er),tr.pan=(ir,rr,sr)=>pan(tr,ir,rr,sr),tr.zoom=(ir,rr)=>zoom(tr,ir,rr),tr.zoomRect=(ir,rr,sr)=>zoomRect(tr,ir,rr,sr),tr.zoomScale=(ir,rr,sr)=>zoomScale(tr,ir,rr,sr),tr.resetZoom=ir=>resetZoom(tr,ir),tr.getZoomLevel=()=>getZoomLevel(tr),tr.getInitialScaleBounds=()=>getInitialScaleBounds(tr),tr.getZoomedScaleBounds=()=>getZoomedScaleBounds(tr),tr.isZoomedOrPanned=()=>isZoomedOrPanned(tr),tr.isZoomingOrPanning=()=>isZoomingOrPanning(tr)},beforeEvent(tr,{event:Hn}){if(isZoomingOrPanning(tr))return!1;if(Hn.type==="click"||Hn.type==="mouseup"){const er=getState(tr);if(er.filterNextClick)return er.filterNextClick=!1,!1}},beforeUpdate:function(tr,Hn,er){const nr=getState(tr),ir=nr.options;nr.options=er,hammerOptionsChanged(ir,er)&&(stopHammer(tr),startHammer(tr,er)),addListeners(tr,er)},beforeDatasetsDraw(tr,Hn,er){draw$1(tr,"beforeDatasetsDraw",er)},afterDatasetsDraw(tr,Hn,er){draw$1(tr,"afterDatasetsDraw",er)},beforeDraw(tr,Hn,er){draw$1(tr,"beforeDraw",er)},afterDraw(tr,Hn,er){draw$1(tr,"afterDraw",er)},stop:function(tr){removeListeners(tr),Hammer&&stopHammer(tr),removeState(tr)},panFunctions,zoomFunctions,zoomRectFunctions};Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,plugin$1);const SingleLineChart=({buyData:tr,title:Hn,color:er,isZoom:nr})=>{const ir={datasets:[{label:"T l",data:tr.map(sr=>{const[ar,or,lr]=sr.x.split("/");return{x:new Date(lr,or-1,ar),y:sr.y}}),borderColor:er,backgroundColor:er,fill:!1,tension:.3}]},rr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:sr=>`${sr.dataset.label}: ${sr.parsed.y.toLocaleString()}`}},zoom:{zoom:{wheel:{enabled:nr},pinch:{enabled:nr},mode:"x"},pan:{enabled:nr,mode:"x"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},ticks:{color:"#64748B"},grid:{color:"rgba(148, 163, 184, 0.1)"}},y:{ticks:{color:"#64748B",callback:sr=>sr.toLocaleString()},grid:{color:"rgba(148, 163, 184, 0.1)"}}}};return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",style:{height:"94%",width:"100%"},children:[jsxRuntimeExports.jsx("h3",{style:{cursor:"pointer"},children:Hn}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(Chart,{type:"line",data:ir,options:rr})})]})},API_ENDPOINTS=["https://api_gold.thinkdiff.us/sacombank_vang_history","https://api_gold.thinkdiff.us/sacombank_bac_history","https://api_gold.thinkdiff.us/history_bac_phuquy","https://api_gold.thinkdiff.us/phuquy_gold_history"],fetchGoldData=async()=>{const tr=API_ENDPOINTS.map(async er=>{try{const nr=await fetch(er);return nr.ok?await nr.json():null}catch(nr){return console.error(`Li khi gi API ${er}:`,nr),null}}),Hn=await Promise.all(tr);return{sjcGold:Hn[0],sjcSilver:Hn[1],bacPhuQuy:Hn[2],phuQuyGold:Hn[3]}},formatSilverSacombank=(tr=[])=>!tr||tr.length===0?[]:tr.map(er=>({buy:er?.buy,sell:er?.sell,date:new Date(er?.date).toLocaleDateString("vi-VN")})),formatSilverPhuQuy=(tr=[])=>!tr||tr.length===0?[]:tr.map(er=>({buy:er?.buy*.00375,sell:er?.sell*.00375,date:new Date(er?.id_time).toLocaleDateString("vi-VN")})),formatGoldPhuQuy=(tr=[])=>!tr||tr.length===0?[]:tr.map(er=>{const nr=JSON.parse(er?.nhan_tron_phu_quy_9999);return{buy:nr?.mua,sell:nr?.ban,date:new Date(er?.update_time).toLocaleDateString("vi-VN",{timeZone:"UTC"})}}),filterBuySellMax=(tr=[])=>!tr||tr.length===0?[]:Object.values(tr.reduce((er,nr)=>{const ir=nr.buy+nr.sell;return(!er[nr.date]||ir>er[nr.date].buy+er[nr.date].sell)&&(er[nr.date]=nr),er},{}));function calculateXauXagRatio(tr,Hn){const er=nr=>{const[ir,rr,sr]=nr.split("/").map(Number);return new Date(sr,rr-1,ir)};return tr.map(nr=>{if(!nr.buy||!nr.sell||!nr.date)return null;const ir=er(nr.date),rr=Hn.find(sr=>{if(!sr.date||!sr.buy||!sr.sell)return!1;const ar=er(sr.date);return Math.abs(ir-ar)/(1e3*60*60*24)<=1});if(rr&&rr.buy>0&&rr.sell>0){const sr=(nr?.buy+nr?.sell)/2/((rr?.buy+rr?.sell)/2);return{x:nr.date,y:sr}}return null}).filter(nr=>nr!==null)}function LineXauXagChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{nr(!0);const _r=await fetchGoldData(),Sr=filterBuySellMax(_r?.sjcGold?.data),jr=filterBuySellMax(formatSilverSacombank(_r?.sjcSilver?.data)),Dr=filterBuySellMax(formatSilverPhuQuy(_r?.bacPhuQuy?.list_phuquy)),Ir=filterBuySellMax(formatGoldPhuQuy(_r?.phuQuyGold));Hn({dataChartSacombank:calculateXauXagRatio(Sr,jr),dataChartPhuQuy:calculateXauXagRatio(Ir,Dr)}),rr(null)}catch(_r){console.error("Error loading candlestick data:",_r),rr("Khng th ti d liu biu . Vui lng th li sau.")}finally{nr(!1)}})()},[nr,Hn,rr]);const xr=(yr,_r,Sr)=>{lr(yr),fr(_r),ar(!0),ur(Sr)};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",textAlign:"center",width:"100%",flexWrap:"wrap",justifyContent:"center"},children:[!tr&&jsxRuntimeExports.jsx("h2",{style:{color:"white",textAlign:"center",width:"100%",marginTop:"100px"},children:"ang ti...."}),tr&&tr?.dataChartPhuQuy&&jsxRuntimeExports.jsx("div",{onClick:()=>xr(tr?.dataChartPhuQuy,"Biu  xau/xag Ph Qu","#22C55E"),style:{width:"calc(50% - 5px)",minWidth:"280px",maxWidth:"450px",flex:"1 1 auto"},children:jsxRuntimeExports.jsx(SingleLineChart,{buyData:tr?.dataChartPhuQuy,title:"Biu  xau/xag Ph Qu",color:"#22C55E",isZoom:sr})}),tr&&tr?.dataChartSacombank&&jsxRuntimeExports.jsx("div",{onClick:()=>xr(tr?.dataChartSacombank,"Biu  xau/xag Sacombank","#EF4444"),style:{width:"calc(50% - 5px)",minWidth:"280px",maxWidth:"450px",flex:"1 1 auto"},children:jsxRuntimeExports.jsx(SingleLineChart,{buyData:tr?.dataChartSacombank,title:"Biu  xau/xag Sacombank",color:"#EF4444",isZoom:sr})}),sr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center",padding:"10px"},onClick:()=>ar(!1),children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",maxWidth:"1600px",height:"90vh",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px",overflow:"auto",boxSizing:"border-box"},onClick:yr=>yr.stopPropagation(),children:[jsxRuntimeExports.jsx(SingleLineChart,{buyData:or,title:dr,color:cr,isZoom:sr}),jsxRuntimeExports.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:()=>ar(!1),children:"ng"})]})})]})}function TooltipPortal({visible:tr,x:Hn,y:er,children:nr}){return tr?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"custom-tooltip show",style:{top:er,left:Hn},children:nr}),document.body):null}const formatCandlestickData=tr=>!tr||tr.length===0?[]:[...tr].sort((nr,ir)=>new Date(nr.id_time)-new Date(ir.id_time)).map(nr=>({x:new Date(nr.id_time).getTime(),o:nr.open||0,h:nr.high||0,l:nr.low||0,c:nr.close||0}));function sortByField(tr,Hn,er=!0){return tr.sort((nr,ir)=>{const rr=nr[Hn],sr=ir[Hn];return typeof rr=="string"&&/\d{4}-\d{2}-\d{2}/.test(rr)?er?new Date(rr)-new Date(sr):new Date(sr)-new Date(rr):er?rr-sr:sr-rr})}const BASE_API_URL="https://api_gold.thinkdiff.us",fetchXauXagVolumeDataByPage=async(tr=1)=>{try{const Hn=`${BASE_API_URL}/volume_xau_usd?page=${tr}`,er=`${BASE_API_URL}/volume_xag_usd?page=${tr}`,nr=await fetch(Hn),ir=await fetch(er);if(!nr.ok)throw new Error(`XAU HTTP error! ${nr.status}`);if(!ir.ok)throw new Error(`XAG HTTP error! ${ir.status}`);const rr=await nr.json(),sr=await ir.json(),ar=rr?.data?.total_page||sr?.data?.total_page||0,or=rr?.data?.list_volume||[],lr=sr?.data?.list_volume||[],cr=or.length>0,ur=lr.length>0;return{volumeXauRaw:or,volumeXagRaw:lr,hasMore:cr||ur,page:tr,totalPages:ar}}catch(Hn){return console.error(`Error fetching XAU/XAG data for page ${tr}:`,Hn),{volumeXauRaw:[],volumeXagRaw:[],hasMore:!1,page:tr,totalPages:0}}},fetchXauXagVolumeDataMultiplePages=async(tr=1,Hn=1,er=null)=>{const nr=[],ir=[];let rr=0;try{const sr=[];for(let ur=tr;ur<=Hn;ur++)sr.push(ur);const ar=sr.map(async ur=>{const dr=await fetchXauXagVolumeDataByPage(ur);return{page:ur,...dr}}),or=await Promise.all(ar);or.forEach((ur,dr)=>{if((ur.volumeXauRaw.length>0||ur.volumeXagRaw.length>0)&&(nr.push(...ur.volumeXauRaw),ir.push(...ur.volumeXagRaw),rr=ur.page,er))try{er(ur.page,ur,dr+1,or.length)}catch(fr){console.warn("Callback error in onPageLoaded:",fr)}});const lr=Array.from(new Map(nr.map(ur=>[ur.timestamp,ur])).values()),cr=Array.from(new Map(ir.map(ur=>[ur.timestamp,ur])).values());return sortByField(lr,"timestamp",!0),sortByField(cr,"timestamp",!1),console.log("Total loaded - volumeXauRaw:",lr.length,"items"),console.log("Total loaded - volumeXagRaw:",cr.length,"items"),{volumeXauRaw:lr,volumeXagRaw:cr,totalPages:rr}}catch(sr){return console.error("Error fetching multiple pages XAU/XAG data:",sr),{volumeXauRaw:nr,volumeXagRaw:ir,totalPages:rr}}},fetchXauXagVolumeData=async tr=>{const Hn=await fetchXauXagVolumeDataByPage(tr),er=Hn.volumeXauRaw.length?Hn.volumeXauRaw.reduce((ir,rr)=>ir+rr.volume,0)/Hn.volumeXauRaw.length:0,nr=Hn.volumeXagRaw.length?Hn.volumeXagRaw.reduce((ir,rr)=>ir+rr.volume,0)/Hn.volumeXagRaw.length:0;return{volumeXauRaw:Hn.volumeXauRaw,volumeXagRaw:Hn.volumeXagRaw,totalPages:Hn.totalPages,hasMore:Hn.hasMore,volume_trungbinh:{xau:er,xag:nr}}},formatCandlestickForApex=tr=>tr.map(Hn=>({x:new Date(Hn.timestamp).getTime(),y:[parseFloat(Hn.open_price),parseFloat(Hn.high_price),parseFloat(Hn.low_price),parseFloat(Hn.close_price)],volume:Hn.volume?parseFloat(Hn.volume):0}));Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend,plugin$1);const VolumeXauXagChart=({dataXau:tr,dataXag:Hn,enableZoom:er})=>{const nr=[...tr].reverse(),ir=[...Hn].reverse(),rr=nr.reduce((_r,Sr)=>{const jr=Number(Sr.y[3])/.02835;return jr<_r?jr:_r},1/0),sr=ir.reduce((_r,Sr)=>{const jr=Number(Sr.y[3]);return jr<_r?jr:_r},1/0),[ar,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(!0);reactExports.useEffect(()=>{const _r=()=>{window.innerWidth<768?(cr(!1),dr(!1),or(!0)):(cr(!0),dr(!0))};return _r(),window.addEventListener("resize",_r),()=>window.removeEventListener("resize",_r)},[]);const xr={labels:nr.map(_r=>new Date(_r.x).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{type:"bar",label:"XAU Volume",data:nr.map(_r=>Number(_r.volume)),backgroundColor:"#FFFF33",yAxisID:"y"},{type:"bar",label:"XAG Volume",data:ir.map(_r=>Number(_r.volume)),backgroundColor:"#00FF3C",yAxisID:"y"},{type:"line",label:"Gi XAU Close",data:nr.map(_r=>Number(_r.y[3])/.02835),borderColor:"orange",backgroundColor:"rgba(255,165,0,0.2)",yAxisID:"yPriceXau",tension:.3,pointRadius:2},{type:"line",label:"Gi XAG Close",data:ir.map(_r=>Number(_r.y[3])),borderColor:"blue",backgroundColor:"rgba(0,0,255,0.2)",yAxisID:"yPriceXag",tension:.3,pointRadius:2}]},yr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:ar,position:"left",title:{display:!0,text:"Volume"}},yPriceXau:{type:"linear",display:lr,position:"left",title:{display:!0,text:"Gi XAU (VND/Lng?)"},grid:{drawOnChartArea:!1},min:rr*.995},yPriceXag:{type:"linear",display:ur,position:"left",title:{display:!0,text:"Gi XAG"},grid:{drawOnChartArea:!1},min:sr*.995},x:{title:{display:!0,text:"Date"}}},plugins:{zoom:{limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}},zoom:{wheel:{enabled:er},pinch:{enabled:er},mode:"x"},pan:{enabled:!0,mode:"x"}},legend:{display:!0}}};return!tr||!Hn?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"10px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ar,onChange:_r=>{er&&or(_r.target.checked)}})," Hin th Volume"]}),jsxRuntimeExports.jsxs("label",{style:{color:"orange"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:lr,onChange:_r=>{er&&cr(_r.target.checked)}})," Trc Gi XAU"]}),jsxRuntimeExports.jsxs("label",{style:{color:"blue"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ur,onChange:_r=>{er&&dr(_r.target.checked)}})," Trc Gi XAG"]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"400px",overflow:"hidden"},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:xr,options:yr})})]})};function t(tr,Hn){(Hn==null||Hn>tr.length)&&(Hn=tr.length);for(var er=0,nr=Array(Hn);er<Hn;er++)nr[er]=tr[er];return nr}function e$1(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function i$1(tr,Hn){if(!(tr instanceof Hn))throw new TypeError("Cannot call a class as a function")}function a$2(tr,Hn){for(var er=0;er<Hn.length;er++){var nr=Hn[er];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,x$2(nr.key),nr)}}function s$1(tr,Hn,er){return Hn&&a$2(tr.prototype,Hn),er&&a$2(tr,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function r$1(tr,Hn){var er=typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(!er){if(Array.isArray(tr)||(er=m$1(tr))||Hn){er&&(tr=er);var nr=0,ir=function(){};return{s:ir,n:function(){return nr>=tr.length?{done:!0}:{done:!1,value:tr[nr++]}},e:function(or){throw or},f:ir}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rr,sr=!0,ar=!1;return{s:function(){er=er.call(tr)},n:function(){var or=er.next();return sr=or.done,or},e:function(or){ar=!0,rr=or},f:function(){try{sr||er.return==null||er.return()}finally{if(ar)throw rr}}}}function n(tr){var Hn=c$2();return function(){var er,nr=l$2(tr);if(Hn){var ir=l$2(this).constructor;er=Reflect.construct(nr,arguments,ir)}else er=nr.apply(this,arguments);return(function(rr,sr){if(sr&&(typeof sr=="object"||typeof sr=="function"))return sr;if(sr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e$1(rr)})(this,er)}}function o$2(tr,Hn,er){return(Hn=x$2(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function l$2(tr){return l$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Hn){return Hn.__proto__||Object.getPrototypeOf(Hn)},l$2(tr)}function h$3(tr,Hn){if(typeof Hn!="function"&&Hn!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(Hn&&Hn.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),Hn&&g$1(tr,Hn)}function c$2(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(c$2=function(){return!!tr})()}function d$1(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter((function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable}))),er.push.apply(er,nr)}return er}function u$2(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?d$1(Object(er),!0).forEach((function(nr){o$2(tr,nr,er[nr])})):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):d$1(Object(er)).forEach((function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))}))}return tr}function g$1(tr,Hn){return g$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(er,nr){return er.__proto__=nr,er},g$1(tr,Hn)}function p$2(tr,Hn){return(function(er){if(Array.isArray(er))return er})(tr)||(function(er,nr){var ir=er==null?null:typeof Symbol<"u"&&er[Symbol.iterator]||er["@@iterator"];if(ir!=null){var rr,sr,ar,or,lr=[],cr=!0,ur=!1;try{if(ar=(ir=ir.call(er)).next,nr===0){if(Object(ir)!==ir)return;cr=!1}else for(;!(cr=(rr=ar.call(ir)).done)&&(lr.push(rr.value),lr.length!==nr);cr=!0);}catch(dr){ur=!0,sr=dr}finally{try{if(!cr&&ir.return!=null&&(or=ir.return(),Object(or)!==or))return}finally{if(ur)throw sr}}return lr}})(tr,Hn)||m$1(tr,Hn)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function f$2(tr){return(function(Hn){if(Array.isArray(Hn))return t(Hn)})(tr)||(function(Hn){if(typeof Symbol<"u"&&Hn[Symbol.iterator]!=null||Hn["@@iterator"]!=null)return Array.from(Hn)})(tr)||m$1(tr)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function x$2(tr){var Hn=(function(er,nr){if(typeof er!="object"||!er)return er;var ir=er[Symbol.toPrimitive];if(ir!==void 0){var rr=ir.call(er,nr);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(nr==="string"?String:Number)(er)})(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function b$3(tr){return b$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Hn){return typeof Hn}:function(Hn){return Hn&&typeof Symbol=="function"&&Hn.constructor===Symbol&&Hn!==Symbol.prototype?"symbol":typeof Hn},b$3(tr)}function m$1(tr,Hn){if(tr){if(typeof tr=="string")return t(tr,Hn);var er={}.toString.call(tr).slice(8,-1);return er==="Object"&&tr.constructor&&(er=tr.constructor.name),er==="Map"||er==="Set"?Array.from(tr):er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(er)?t(tr,Hn):void 0}}var v$1=(function(){function tr(){i$1(this,tr)}return s$1(tr,[{key:"shadeRGBColor",value:function(Hn,er){var nr=er.split(","),ir=Hn<0?0:255,rr=Hn<0?-1*Hn:Hn,sr=parseInt(nr[0].slice(4),10),ar=parseInt(nr[1],10),or=parseInt(nr[2],10);return"rgb("+(Math.round((ir-sr)*rr)+sr)+","+(Math.round((ir-ar)*rr)+ar)+","+(Math.round((ir-or)*rr)+or)+")"}},{key:"shadeHexColor",value:function(Hn,er){var nr=parseInt(er.slice(1),16),ir=Hn<0?0:255,rr=Hn<0?-1*Hn:Hn,sr=nr>>16,ar=nr>>8&255,or=255&nr;return"#"+(16777216+65536*(Math.round((ir-sr)*rr)+sr)+256*(Math.round((ir-ar)*rr)+ar)+(Math.round((ir-or)*rr)+or)).toString(16).slice(1)}},{key:"shadeColor",value:function(Hn,er){return tr.isColorHex(er)?this.shadeHexColor(Hn,er):this.shadeRGBColor(Hn,er)}}],[{key:"bind",value:function(Hn,er){return function(){return Hn.apply(er,arguments)}}},{key:"isObject",value:function(Hn){return Hn&&b$3(Hn)==="object"&&!Array.isArray(Hn)&&Hn!=null}},{key:"is",value:function(Hn,er){return Object.prototype.toString.call(er)==="[object "+Hn+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(Hn){var er,nr=[];for(er=0;er<Hn.length;er++)nr[er]=Hn[er];return nr}},{key:"extend",value:function(Hn,er){var nr=this;typeof Object.assign!="function"&&(Object.assign=function(rr){if(rr==null)throw new TypeError("Cannot convert undefined or null to object");for(var sr=Object(rr),ar=1;ar<arguments.length;ar++){var or=arguments[ar];if(or!=null)for(var lr in or)or.hasOwnProperty(lr)&&(sr[lr]=or[lr])}return sr});var ir=Object.assign({},Hn);return this.isObject(Hn)&&this.isObject(er)&&Object.keys(er).forEach((function(rr){nr.isObject(er[rr])&&rr in Hn?ir[rr]=nr.extend(Hn[rr],er[rr]):Object.assign(ir,o$2({},rr,er[rr]))})),ir}},{key:"extendArray",value:function(Hn,er){var nr=[];return Hn.map((function(ir){nr.push(tr.extend(er,ir))})),Hn=nr}},{key:"monthMod",value:function(Hn){return Hn%12}},{key:"clone",value:function(Hn){var er,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(Hn===null||b$3(Hn)!=="object")return Hn;if(nr.has(Hn))return nr.get(Hn);if(Array.isArray(Hn)){er=[],nr.set(Hn,er);for(var ir=0;ir<Hn.length;ir++)er[ir]=this.clone(Hn[ir],nr)}else if(Hn instanceof Date)er=new Date(Hn.getTime());else for(var rr in er={},nr.set(Hn,er),Hn)Hn.hasOwnProperty(rr)&&(er[rr]=this.clone(Hn[rr],nr));return er}},{key:"log10",value:function(Hn){return Math.log(Hn)/Math.LN10}},{key:"roundToBase10",value:function(Hn){return Math.pow(10,Math.floor(Math.log10(Hn)))}},{key:"roundToBase",value:function(Hn,er){return Math.pow(er,Math.floor(Math.log(Hn)/Math.log(er)))}},{key:"parseNumber",value:function(Hn){return typeof Hn=="number"||Hn===null?Hn:parseFloat(Hn)}},{key:"stripNumber",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(Hn)?Hn:parseFloat(Hn.toPrecision(er))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(Hn){return Hn.toString().includes("e")?Math.round(Hn):Hn}},{key:"elementExists",value:function(Hn){return!(!Hn||!Hn.isConnected)}},{key:"isInShadowDOM",value:function(Hn){if(!Hn||!Hn.getRootNode)return!1;var er=Hn.getRootNode();return er&&er!==document&&tr.is("ShadowRoot",er)}},{key:"getShadowRootHost",value:function(Hn){return tr.isInShadowDOM(Hn)&&Hn.getRootNode().host||null}},{key:"getDimensions",value:function(Hn){if(!Hn)return[0,0];var er,nr=Hn.getRootNode&&Hn.getRootNode();if(nr&&nr!==document&&nr.host){var ir=nr.host.getBoundingClientRect();return[ir.width,ir.height]}try{er=getComputedStyle(Hn,null)}catch{return[Hn.clientWidth||0,Hn.clientHeight||0]}var rr=Hn.clientHeight,sr=Hn.clientWidth;return rr-=parseFloat(er.paddingTop)+parseFloat(er.paddingBottom),[sr-=parseFloat(er.paddingLeft)+parseFloat(er.paddingRight),rr]}},{key:"getBoundingClientRect",value:function(Hn){if(!Hn)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var er=Hn.getBoundingClientRect();return{top:er.top,right:er.right,bottom:er.bottom,left:er.left,width:Hn.clientWidth,height:Hn.clientHeight,x:er.left,y:er.top}}},{key:"getLargestStringFromArr",value:function(Hn){return Hn.reduce((function(er,nr){return Array.isArray(nr)&&(nr=nr.reduce((function(ir,rr){return ir.length>rr.length?ir:rr}))),er.length>nr.length?er:nr}),0)}},{key:"hexToRgba",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;Hn.substring(0,1)!=="#"&&(Hn="#999999");var nr=Hn.replace("#","");nr=nr.match(new RegExp("(.{"+nr.length/3+"})","g"));for(var ir=0;ir<nr.length;ir++)nr[ir]=parseInt(nr[ir].length===1?nr[ir]+nr[ir]:nr[ir],16);return er!==void 0&&nr.push(er),"rgba("+nr.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(Hn){return parseFloat(Hn.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(Hn){return(Hn=Hn.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&Hn.length===4?"#"+("0"+parseInt(Hn[1],10).toString(16)).slice(-2)+("0"+parseInt(Hn[2],10).toString(16)).slice(-2)+("0"+parseInt(Hn[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(Hn){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(Hn)}},{key:"getPolygonPos",value:function(Hn,er){for(var nr=[],ir=2*Math.PI/er,rr=0;rr<er;rr++){var sr={};sr.x=Hn*Math.sin(rr*ir),sr.y=-Hn*Math.cos(rr*ir),nr.push(sr)}return nr}},{key:"polarToCartesian",value:function(Hn,er,nr,ir){var rr=(ir-90)*Math.PI/180;return{x:Hn+nr*Math.cos(rr),y:er+nr*Math.sin(rr)}}},{key:"escapeString",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",nr=Hn.toString().slice();return nr=nr.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,er)}},{key:"negToZero",value:function(Hn){return Hn<0?0:Hn}},{key:"moveIndexInArray",value:function(Hn,er,nr){if(nr>=Hn.length)for(var ir=nr-Hn.length+1;ir--;)Hn.push(void 0);return Hn.splice(nr,0,Hn.splice(er,1)[0]),Hn}},{key:"extractNumber",value:function(Hn){return parseFloat(Hn.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(Hn,er){for(;(Hn=Hn.parentElement)&&!Hn.classList.contains(er););return Hn}},{key:"setELstyles",value:function(Hn,er){for(var nr in er)er.hasOwnProperty(nr)&&(Hn.style.key=er[nr])}},{key:"preciseAddition",value:function(Hn,er){var nr=(String(Hn).split(".")[1]||"").length,ir=(String(er).split(".")[1]||"").length,rr=Math.pow(10,Math.max(nr,ir));return(Math.round(Hn*rr)+Math.round(er*rr))/rr}},{key:"isNumber",value:function(Hn){return!isNaN(Hn)&&parseFloat(Number(Hn))===Hn&&!isNaN(parseInt(Hn,10))}},{key:"isFloat",value:function(Hn){return Number(Hn)===Hn&&Hn%1!=0}},{key:"isMsEdge",value:function(){var Hn=window.navigator.userAgent,er=Hn.indexOf("Edge/");return er>0&&parseInt(Hn.substring(er+5,Hn.indexOf(".",er)),10)}},{key:"getGCD",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,ir=Math.pow(10,nr-Math.floor(Math.log10(Math.max(Hn,er))));for(ir>1?(Hn=Math.round(Math.abs(Hn)*ir),er=Math.round(Math.abs(er)*ir)):ir=1;er;){var rr=er;er=Hn%er,Hn=rr}return Hn/ir}},{key:"getPrimeFactors",value:function(Hn){for(var er=[],nr=2;Hn>=2;)Hn%nr==0?(er.push(nr),Hn/=nr):nr++;return er}},{key:"mod",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,ir=Math.pow(10,nr-Math.floor(Math.log10(Math.max(Hn,er))));return(Hn=Math.round(Math.abs(Hn)*ir))%(er=Math.round(Math.abs(er)*ir))/ir}}]),tr})(),y$3=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"animateLine",value:function(Hn,er,nr,ir){Hn.attr(er).animate(ir).attr(nr)}},{key:"animateMarker",value:function(Hn,er,nr,ir){Hn.attr({opacity:0}).animate(er).attr({opacity:1}).after((function(){ir()}))}},{key:"animateRect",value:function(Hn,er,nr,ir,rr){Hn.attr(er).animate(ir).attr(nr).after((function(){return rr()}))}},{key:"animatePathsGradually",value:function(Hn){var er=Hn.el,nr=Hn.realIndex,ir=Hn.j,rr=Hn.fill,sr=Hn.pathFrom,ar=Hn.pathTo,or=Hn.speed,lr=Hn.delay,cr=this.w,ur=0;cr.config.chart.animations.animateGradually.enabled&&(ur=cr.config.chart.animations.animateGradually.delay),cr.config.chart.animations.dynamicAnimation.enabled&&cr.globals.dataChanged&&cr.config.chart.type!=="bar"&&(ur=0),this.morphSVG(er,nr,ir,cr.config.chart.type!=="line"||cr.globals.comboCharts?rr:"stroke",sr,ar,or,lr*ur)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(Hn){var er=Hn.el;er.classList.remove("apexcharts-element-hidden"),er.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(Hn){var er=this.w;er.globals.animationEnded||(er.globals.animationEnded=!0,this.showDelayedElements(),typeof er.config.chart.events.animationEnd=="function"&&er.config.chart.events.animationEnd(this.ctx,{el:Hn,w:er}))}},{key:"morphSVG",value:function(Hn,er,nr,ir,rr,sr,ar,or){var lr=this,cr=this.w;rr||(rr=Hn.attr("pathFrom")),sr||(sr=Hn.attr("pathTo"));var ur=function(dr){return cr.config.chart.type==="radar"&&(ar=1),"M 0 ".concat(cr.globals.gridHeight)};(!rr||rr.indexOf("undefined")>-1||rr.indexOf("NaN")>-1)&&(rr=ur()),(!sr.trim()||sr.indexOf("undefined")>-1||sr.indexOf("NaN")>-1)&&(sr=ur()),cr.globals.shouldAnimate||(ar=1),Hn.plot(rr).animate(1,or).plot(rr).animate(ar,or).plot(sr).after((function(){v$1.isNumber(nr)?nr===cr.globals.series[cr.globals.maxValsInArrayIndex].length-2&&cr.globals.shouldAnimate&&lr.animationCompleted(Hn):ir!=="none"&&cr.globals.shouldAnimate&&(!cr.globals.comboCharts&&er===cr.globals.series.length-1||cr.globals.comboCharts)&&lr.animationCompleted(Hn),lr.showDelayedElements()}))}}]),tr})();const w$2={},k$2=[];function A$2(tr,Hn){if(Array.isArray(tr))for(const er of tr)A$2(er,Hn);else if(typeof tr!="object")S$2(Object.getOwnPropertyNames(Hn)),w$2[tr]=Object.assign(w$2[tr]||{},Hn);else for(const er in tr)A$2(er,tr[er])}function C$2(tr){return w$2[tr]||{}}function S$2(tr){k$2.push(...tr)}function L$3(tr,Hn){let er;const nr=tr.length,ir=[];for(er=0;er<nr;er++)ir.push(Hn(tr[er]));return ir}function M$2(tr){return tr%360*Math.PI/180}function P$1(tr){return tr.charAt(0).toUpperCase()+tr.slice(1)}function I$2(tr,Hn,er,nr){return Hn!=null&&er!=null||(nr=nr||tr.bbox(),Hn==null?Hn=nr.width/nr.height*er:er==null&&(er=nr.height/nr.width*Hn)),{width:Hn,height:er}}function T$2(tr,Hn){const er=tr.origin;let nr=tr.ox!=null?tr.ox:tr.originX!=null?tr.originX:"center",ir=tr.oy!=null?tr.oy:tr.originY!=null?tr.originY:"center";er!=null&&([nr,ir]=Array.isArray(er)?er:typeof er=="object"?[er.x,er.y]:[er,er]);const rr=typeof nr=="string",sr=typeof ir=="string";if(rr||sr){const{height:ar,width:or,x:lr,y:cr}=Hn.bbox();rr&&(nr=nr.includes("left")?lr:nr.includes("right")?lr+or:lr+or/2),sr&&(ir=ir.includes("top")?cr:ir.includes("bottom")?cr+ar:cr+ar/2)}return[nr,ir]}const z$1=new Set(["desc","metadata","title"]),X$1=tr=>z$1.has(tr.nodeName),R$2=(tr,Hn,er={})=>{const nr={...Hn};for(const ir in nr)nr[ir].valueOf()===er[ir]&&delete nr[ir];Object.keys(nr).length?tr.node.setAttribute("data-svgjs",JSON.stringify(nr)):(tr.node.removeAttribute("data-svgjs"),tr.node.removeAttribute("svgjs:data"))},E$2="http://www.w3.org/2000/svg",Y$1="http://www.w3.org/2000/xmlns/",H$2="http://www.w3.org/1999/xlink",O$2={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function F$1(){return O$2.window}let D$2=class{};const _$3={},N$2="___SYMBOL___ROOT___";function W$1(tr,Hn=E$2){return O$2.document.createElementNS(Hn,tr)}function B$2(tr,Hn=!1){if(tr instanceof D$2)return tr;if(typeof tr=="object")return U$1(tr);if(tr==null)return new _$3[N$2];if(typeof tr=="string"&&tr.charAt(0)!=="<")return U$1(O$2.document.querySelector(tr));const er=Hn?O$2.document.createElement("div"):W$1("svg");return er.innerHTML=tr,tr=U$1(er.firstChild),er.removeChild(er.firstChild),tr}function G$1(tr,Hn){return Hn&&(Hn instanceof O$2.window.Node||Hn.ownerDocument&&Hn instanceof Hn.ownerDocument.defaultView.Node)?Hn:W$1(tr)}function V$1(tr){if(!tr)return null;if(tr.instance instanceof D$2)return tr.instance;if(tr.nodeName==="#document-fragment")return new _$3.Fragment(tr);let Hn=P$1(tr.nodeName||"Dom");return Hn==="LinearGradient"||Hn==="RadialGradient"?Hn="Gradient":_$3[Hn]||(Hn="Dom"),new _$3[Hn](tr)}let U$1=V$1;function q$2(tr,Hn=tr.name,er=!1){return _$3[Hn]=tr,er&&(_$3[N$2]=tr),S$2(Object.getOwnPropertyNames(tr.prototype)),tr}let Z$1=1e3;function $$2(tr){return"Svgjs"+P$1(tr)+Z$1++}function J$1(tr){for(let Hn=tr.children.length-1;Hn>=0;Hn--)J$1(tr.children[Hn]);return tr.id&&(tr.id=$$2(tr.nodeName)),tr}function Q$1(tr,Hn){let er,nr;for(nr=(tr=Array.isArray(tr)?tr:[tr]).length-1;nr>=0;nr--)for(er in Hn)tr[nr].prototype[er]=Hn[er]}function K$1(tr){return function(...Hn){const er=Hn[Hn.length-1];return!er||er.constructor!==Object||er instanceof Array?tr.apply(this,Hn):tr.apply(this,Hn.slice(0,-1)).attr(er)}}A$2("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const tr=this.position();return this.parent().add(this.remove(),tr+1),this},backward:function(){const tr=this.position();return this.parent().add(this.remove(),tr?tr-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(tr){(tr=B$2(tr)).remove();const Hn=this.position();return this.parent().add(tr,Hn),this},after:function(tr){(tr=B$2(tr)).remove();const Hn=this.position();return this.parent().add(tr,Hn+1),this},insertBefore:function(tr){return(tr=B$2(tr)).before(this),this},insertAfter:function(tr){return(tr=B$2(tr)).after(this),this}});const tt$1=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,et$1=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,it$1=/rgb\((\d+),(\d+),(\d+)\)/,at$1=/(#[a-z_][a-z0-9\-_]*)/i,st$1=/\)\s*,?\s*/,rt$1=/\s/g,nt$1=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ot$1=/^rgb\(/,lt$1=/^(\s+)?$/,ht$1=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ct$1=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,dt$1=/[\s,]+/,ut$1=/[MLHVCSQTAZ]/i;function gt$1(tr){const Hn=Math.round(tr),er=Math.max(0,Math.min(255,Hn)).toString(16);return er.length===1?"0"+er:er}function pt$1(tr,Hn){for(let er=Hn.length;er--;)if(tr[Hn[er]]==null)return!1;return!0}function ft$1(tr,Hn,er){return er<0&&(er+=1),er>1&&(er-=1),er<1/6?tr+6*(Hn-tr)*er:er<.5?Hn:er<2/3?tr+(Hn-tr)*(2/3-er)*6:tr}A$2("Dom",{classes:function(){const tr=this.attr("class");return tr==null?[]:tr.trim().split(dt$1)},hasClass:function(tr){return this.classes().indexOf(tr)!==-1},addClass:function(tr){if(!this.hasClass(tr)){const Hn=this.classes();Hn.push(tr),this.attr("class",Hn.join(" "))}return this},removeClass:function(tr){return this.hasClass(tr)&&this.attr("class",this.classes().filter((function(Hn){return Hn!==tr})).join(" ")),this},toggleClass:function(tr){return this.hasClass(tr)?this.removeClass(tr):this.addClass(tr)}}),A$2("Dom",{css:function(tr,Hn){const er={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(nr){return!!nr.length})).forEach((function(nr){const ir=nr.split(/\s*:\s*/);er[ir[0]]=ir[1]})),er;if(arguments.length<2){if(Array.isArray(tr)){for(const nr of tr){const ir=nr;er[nr]=this.node.style.getPropertyValue(ir)}return er}if(typeof tr=="string")return this.node.style.getPropertyValue(tr);if(typeof tr=="object")for(const nr in tr)this.node.style.setProperty(nr,tr[nr]==null||lt$1.test(tr[nr])?"":tr[nr])}return arguments.length===2&&this.node.style.setProperty(tr,Hn==null||lt$1.test(Hn)?"":Hn),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),A$2("Dom",{data:function(tr,Hn,er){if(tr==null)return this.data(L$3((function(nr,ir){let rr;const sr=nr.length,ar=[];for(rr=0;rr<sr;rr++)ir(nr[rr])&&ar.push(nr[rr]);return ar})(this.node.attributes,(nr=>nr.nodeName.indexOf("data-")===0)),(nr=>nr.nodeName.slice(5))));if(tr instanceof Array){const nr={};for(const ir of tr)nr[ir]=this.data(ir);return nr}if(typeof tr=="object")for(Hn in tr)this.data(Hn,tr[Hn]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+tr))}catch{return this.attr("data-"+tr)}else this.attr("data-"+tr,Hn===null?null:er===!0||typeof Hn=="string"||typeof Hn=="number"?Hn:JSON.stringify(Hn));return this}}),A$2("Dom",{remember:function(tr,Hn){if(typeof arguments[0]=="object")for(const er in tr)this.remember(er,tr[er]);else{if(arguments.length===1)return this.memory()[tr];this.memory()[tr]=Hn}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let tr=arguments.length-1;tr>=0;tr--)delete this.memory()[arguments[tr]];return this},memory:function(){return this._memory=this._memory||{}}});let xt$1=class Ld{constructor(...Hn){this.init(...Hn)}static isColor(Hn){return Hn&&(Hn instanceof Ld||this.isRgb(Hn)||this.test(Hn))}static isRgb(Hn){return Hn&&typeof Hn.r=="number"&&typeof Hn.g=="number"&&typeof Hn.b=="number"}static random(Hn="vibrant",er){const{random:nr,round:ir,sin:rr,PI:sr}=Math;if(Hn==="vibrant"){const ar=24*nr()+57,or=38*nr()+45,lr=360*nr();return new Ld(ar,or,lr,"lch")}if(Hn==="sine"){const ar=ir(80*rr(2*sr*(er=er??nr())/.5+.01)+150),or=ir(50*rr(2*sr*er/.5+4.6)+200),lr=ir(100*rr(2*sr*er/.5+2.3)+150);return new Ld(ar,or,lr)}if(Hn==="pastel"){const ar=8*nr()+86,or=17*nr()+9,lr=360*nr();return new Ld(ar,or,lr,"lch")}if(Hn==="dark"){const ar=10+10*nr(),or=50*nr()+86,lr=360*nr();return new Ld(ar,or,lr,"lch")}if(Hn==="rgb"){const ar=255*nr(),or=255*nr(),lr=255*nr();return new Ld(ar,or,lr)}if(Hn==="lab"){const ar=100*nr(),or=256*nr()-128,lr=256*nr()-128;return new Ld(ar,or,lr,"lab")}if(Hn==="grey"){const ar=255*nr();return new Ld(ar,ar,ar)}throw new Error("Unsupported random color mode")}static test(Hn){return typeof Hn=="string"&&(nt$1.test(Hn)||ot$1.test(Hn))}cmyk(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),[ir,rr,sr]=[Hn,er,nr].map((or=>or/255)),ar=Math.min(1-ir,1-rr,1-sr);return ar===1?new Ld(0,0,0,1,"cmyk"):new Ld((1-ir-ar)/(1-ar),(1-rr-ar)/(1-ar),(1-sr-ar)/(1-ar),ar,"cmyk")}hsl(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),[ir,rr,sr]=[Hn,er,nr].map((dr=>dr/255)),ar=Math.max(ir,rr,sr),or=Math.min(ir,rr,sr),lr=(ar+or)/2,cr=ar===or,ur=ar-or;return new Ld(360*(cr?0:ar===ir?((rr-sr)/ur+(rr<sr?6:0))/6:ar===rr?((sr-ir)/ur+2)/6:ar===sr?((ir-rr)/ur+4)/6:0),100*(cr?0:lr>.5?ur/(2-ar-or):ur/(ar+or)),100*lr,"hsl")}init(Hn=0,er=0,nr=0,ir=0,rr="rgb"){if(Hn=Hn||0,this.space)for(const ur in this.space)delete this[this.space[ur]];if(typeof Hn=="number")rr=typeof ir=="string"?ir:rr,ir=typeof ir=="string"?0:ir,Object.assign(this,{_a:Hn,_b:er,_c:nr,_d:ir,space:rr});else if(Hn instanceof Array)this.space=er||(typeof Hn[3]=="string"?Hn[3]:Hn[4])||"rgb",Object.assign(this,{_a:Hn[0],_b:Hn[1],_c:Hn[2],_d:Hn[3]||0});else if(Hn instanceof Object){const ur=(function(dr,fr){const xr=pt$1(dr,"rgb")?{_a:dr.r,_b:dr.g,_c:dr.b,_d:0,space:"rgb"}:pt$1(dr,"xyz")?{_a:dr.x,_b:dr.y,_c:dr.z,_d:0,space:"xyz"}:pt$1(dr,"hsl")?{_a:dr.h,_b:dr.s,_c:dr.l,_d:0,space:"hsl"}:pt$1(dr,"lab")?{_a:dr.l,_b:dr.a,_c:dr.b,_d:0,space:"lab"}:pt$1(dr,"lch")?{_a:dr.l,_b:dr.c,_c:dr.h,_d:0,space:"lch"}:pt$1(dr,"cmyk")?{_a:dr.c,_b:dr.m,_c:dr.y,_d:dr.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return xr.space=fr||xr.space,xr})(Hn,er);Object.assign(this,ur)}else if(typeof Hn=="string")if(ot$1.test(Hn)){const ur=Hn.replace(rt$1,""),[dr,fr,xr]=it$1.exec(ur).slice(1,4).map((yr=>parseInt(yr)));Object.assign(this,{_a:dr,_b:fr,_c:xr,_d:0,space:"rgb"})}else{if(!nt$1.test(Hn))throw Error("Unsupported string format, can't construct Color");{const ur=yr=>parseInt(yr,16),[,dr,fr,xr]=et$1.exec((function(yr){return yr.length===4?["#",yr.substring(1,2),yr.substring(1,2),yr.substring(2,3),yr.substring(2,3),yr.substring(3,4),yr.substring(3,4)].join(""):yr})(Hn)).map(ur);Object.assign(this,{_a:dr,_b:fr,_c:xr,_d:0,space:"rgb"})}}const{_a:sr,_b:ar,_c:or,_d:lr}=this,cr=this.space==="rgb"?{r:sr,g:ar,b:or}:this.space==="xyz"?{x:sr,y:ar,z:or}:this.space==="hsl"?{h:sr,s:ar,l:or}:this.space==="lab"?{l:sr,a:ar,b:or}:this.space==="lch"?{l:sr,c:ar,h:or}:this.space==="cmyk"?{c:sr,m:ar,y:or,k:lr}:{};Object.assign(this,cr)}lab(){const{x:Hn,y:er,z:nr}=this.xyz();return new Ld(116*er-16,500*(Hn-er),200*(er-nr),"lab")}lch(){const{l:Hn,a:er,b:nr}=this.lab(),ir=Math.sqrt(er**2+nr**2);let rr=180*Math.atan2(nr,er)/Math.PI;return rr<0&&(rr*=-1,rr=360-rr),new Ld(Hn,ir,rr,"lch")}rgb(){if(this.space==="rgb")return this;if((Hn=this.space)==="lab"||Hn==="xyz"||Hn==="lch"){let{x:er,y:nr,z:ir}=this;if(this.space==="lab"||this.space==="lch"){let{l:fr,a:xr,b:yr}=this;if(this.space==="lch"){const{c:Or,h:Lr}=this,Fr=Math.PI/180;xr=Or*Math.cos(Fr*Lr),yr=Or*Math.sin(Fr*Lr)}const _r=(fr+16)/116,Sr=xr/500+_r,jr=_r-yr/200,Dr=16/116,Ir=.008856,Mr=7.787;er=.95047*(Sr**3>Ir?Sr**3:(Sr-Dr)/Mr),nr=1*(_r**3>Ir?_r**3:(_r-Dr)/Mr),ir=1.08883*(jr**3>Ir?jr**3:(jr-Dr)/Mr)}const rr=3.2406*er+-1.5372*nr+-.4986*ir,sr=-.9689*er+1.8758*nr+.0415*ir,ar=.0557*er+-.204*nr+1.057*ir,or=Math.pow,lr=.0031308,cr=rr>lr?1.055*or(rr,1/2.4)-.055:12.92*rr,ur=sr>lr?1.055*or(sr,1/2.4)-.055:12.92*sr,dr=ar>lr?1.055*or(ar,1/2.4)-.055:12.92*ar;return new Ld(255*cr,255*ur,255*dr)}if(this.space==="hsl"){let{h:er,s:nr,l:ir}=this;if(er/=360,nr/=100,ir/=100,nr===0)return ir*=255,new Ld(ir,ir,ir);const rr=ir<.5?ir*(1+nr):ir+nr-ir*nr,sr=2*ir-rr,ar=255*ft$1(sr,rr,er+1/3),or=255*ft$1(sr,rr,er),lr=255*ft$1(sr,rr,er-1/3);return new Ld(ar,or,lr)}if(this.space==="cmyk"){const{c:er,m:nr,y:ir,k:rr}=this,sr=255*(1-Math.min(1,er*(1-rr)+rr)),ar=255*(1-Math.min(1,nr*(1-rr)+rr)),or=255*(1-Math.min(1,ir*(1-rr)+rr));return new Ld(sr,ar,or)}return this;var Hn}toArray(){const{_a:Hn,_b:er,_c:nr,_d:ir,space:rr}=this;return[Hn,er,nr,ir,rr]}toHex(){const[Hn,er,nr]=this._clamped().map(gt$1);return`#${Hn}${er}${nr}`}toRgb(){const[Hn,er,nr]=this._clamped();return`rgb(${Hn},${er},${nr})`}toString(){return this.toHex()}xyz(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),[ir,rr,sr]=[Hn,er,nr].map((_r=>_r/255)),ar=ir>.04045?Math.pow((ir+.055)/1.055,2.4):ir/12.92,or=rr>.04045?Math.pow((rr+.055)/1.055,2.4):rr/12.92,lr=sr>.04045?Math.pow((sr+.055)/1.055,2.4):sr/12.92,cr=(.4124*ar+.3576*or+.1805*lr)/.95047,ur=(.2126*ar+.7152*or+.0722*lr)/1,dr=(.0193*ar+.1192*or+.9505*lr)/1.08883,fr=cr>.008856?Math.pow(cr,1/3):7.787*cr+16/116,xr=ur>.008856?Math.pow(ur,1/3):7.787*ur+16/116,yr=dr>.008856?Math.pow(dr,1/3):7.787*dr+16/116;return new Ld(fr,xr,yr,"xyz")}_clamped(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),{max:ir,min:rr,round:sr}=Math;return[Hn,er,nr].map((ar=>ir(0,rr(sr(ar),255))))}},bt$1=class c1{constructor(...Hn){this.init(...Hn)}clone(){return new c1(this)}init(Hn,er){const rr=Array.isArray(Hn)?{x:Hn[0],y:Hn[1]}:typeof Hn=="object"?{x:Hn.x,y:Hn.y}:{x:Hn,y:er};return this.x=rr.x==null?0:rr.x,this.y=rr.y==null?0:rr.y,this}toArray(){return[this.x,this.y]}transform(Hn){return this.clone().transformO(Hn)}transformO(Hn){vt$1.isMatrixLike(Hn)||(Hn=new vt$1(Hn));const{x:er,y:nr}=this;return this.x=Hn.a*er+Hn.c*nr+Hn.e,this.y=Hn.b*er+Hn.d*nr+Hn.f,this}};function mt$1(tr,Hn,er){return Math.abs(Hn-tr)<1e-6}let vt$1=class $d{constructor(...Hn){this.init(...Hn)}static formatTransforms(Hn){const er=Hn.flip==="both"||Hn.flip===!0,nr=Hn.flip&&(er||Hn.flip==="x")?-1:1,ir=Hn.flip&&(er||Hn.flip==="y")?-1:1,rr=Hn.skew&&Hn.skew.length?Hn.skew[0]:isFinite(Hn.skew)?Hn.skew:isFinite(Hn.skewX)?Hn.skewX:0,sr=Hn.skew&&Hn.skew.length?Hn.skew[1]:isFinite(Hn.skew)?Hn.skew:isFinite(Hn.skewY)?Hn.skewY:0,ar=Hn.scale&&Hn.scale.length?Hn.scale[0]*nr:isFinite(Hn.scale)?Hn.scale*nr:isFinite(Hn.scaleX)?Hn.scaleX*nr:nr,or=Hn.scale&&Hn.scale.length?Hn.scale[1]*ir:isFinite(Hn.scale)?Hn.scale*ir:isFinite(Hn.scaleY)?Hn.scaleY*ir:ir,lr=Hn.shear||0,cr=Hn.rotate||Hn.theta||0,ur=new bt$1(Hn.origin||Hn.around||Hn.ox||Hn.originX,Hn.oy||Hn.originY),dr=ur.x,fr=ur.y,xr=new bt$1(Hn.position||Hn.px||Hn.positionX||NaN,Hn.py||Hn.positionY||NaN),yr=xr.x,_r=xr.y,Sr=new bt$1(Hn.translate||Hn.tx||Hn.translateX,Hn.ty||Hn.translateY),jr=Sr.x,Dr=Sr.y,Ir=new bt$1(Hn.relative||Hn.rx||Hn.relativeX,Hn.ry||Hn.relativeY);return{scaleX:ar,scaleY:or,skewX:rr,skewY:sr,shear:lr,theta:cr,rx:Ir.x,ry:Ir.y,tx:jr,ty:Dr,ox:dr,oy:fr,px:yr,py:_r}}static fromArray(Hn){return{a:Hn[0],b:Hn[1],c:Hn[2],d:Hn[3],e:Hn[4],f:Hn[5]}}static isMatrixLike(Hn){return Hn.a!=null||Hn.b!=null||Hn.c!=null||Hn.d!=null||Hn.e!=null||Hn.f!=null}static matrixMultiply(Hn,er,nr){const ir=Hn.a*er.a+Hn.c*er.b,rr=Hn.b*er.a+Hn.d*er.b,sr=Hn.a*er.c+Hn.c*er.d,ar=Hn.b*er.c+Hn.d*er.d,or=Hn.e+Hn.a*er.e+Hn.c*er.f,lr=Hn.f+Hn.b*er.e+Hn.d*er.f;return nr.a=ir,nr.b=rr,nr.c=sr,nr.d=ar,nr.e=or,nr.f=lr,nr}around(Hn,er,nr){return this.clone().aroundO(Hn,er,nr)}aroundO(Hn,er,nr){const ir=Hn||0,rr=er||0;return this.translateO(-ir,-rr).lmultiplyO(nr).translateO(ir,rr)}clone(){return new $d(this)}decompose(Hn=0,er=0){const nr=this.a,ir=this.b,rr=this.c,sr=this.d,ar=this.e,or=this.f,lr=nr*sr-ir*rr,cr=lr>0?1:-1,ur=cr*Math.sqrt(nr*nr+ir*ir),dr=Math.atan2(cr*ir,cr*nr),fr=180/Math.PI*dr,xr=Math.cos(dr),yr=Math.sin(dr),_r=(nr*rr+ir*sr)/lr,Sr=rr*ur/(_r*nr-ir)||sr*ur/(_r*ir+nr);return{scaleX:ur,scaleY:Sr,shear:_r,rotate:fr,translateX:ar-Hn+Hn*xr*ur+er*(_r*xr*ur-yr*Sr),translateY:or-er+Hn*yr*ur+er*(_r*yr*ur+xr*Sr),originX:Hn,originY:er,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(Hn){if(Hn===this)return!0;const er=new $d(Hn);return mt$1(this.a,er.a)&&mt$1(this.b,er.b)&&mt$1(this.c,er.c)&&mt$1(this.d,er.d)&&mt$1(this.e,er.e)&&mt$1(this.f,er.f)}flip(Hn,er){return this.clone().flipO(Hn,er)}flipO(Hn,er){return Hn==="x"?this.scaleO(-1,1,er,0):Hn==="y"?this.scaleO(1,-1,0,er):this.scaleO(-1,-1,Hn,er||Hn)}init(Hn){const er=$d.fromArray([1,0,0,1,0,0]);return Hn=Hn instanceof Gt$1?Hn.matrixify():typeof Hn=="string"?$d.fromArray(Hn.split(dt$1).map(parseFloat)):Array.isArray(Hn)?$d.fromArray(Hn):typeof Hn=="object"&&$d.isMatrixLike(Hn)?Hn:typeof Hn=="object"?new $d().transform(Hn):arguments.length===6?$d.fromArray([].slice.call(arguments)):er,this.a=Hn.a!=null?Hn.a:er.a,this.b=Hn.b!=null?Hn.b:er.b,this.c=Hn.c!=null?Hn.c:er.c,this.d=Hn.d!=null?Hn.d:er.d,this.e=Hn.e!=null?Hn.e:er.e,this.f=Hn.f!=null?Hn.f:er.f,this}inverse(){return this.clone().inverseO()}inverseO(){const Hn=this.a,er=this.b,nr=this.c,ir=this.d,rr=this.e,sr=this.f,ar=Hn*ir-er*nr;if(!ar)throw new Error("Cannot invert "+this);const or=ir/ar,lr=-er/ar,cr=-nr/ar,ur=Hn/ar,dr=-(or*rr+cr*sr),fr=-(lr*rr+ur*sr);return this.a=or,this.b=lr,this.c=cr,this.d=ur,this.e=dr,this.f=fr,this}lmultiply(Hn){return this.clone().lmultiplyO(Hn)}lmultiplyO(Hn){const er=Hn instanceof $d?Hn:new $d(Hn);return $d.matrixMultiply(er,this,this)}multiply(Hn){return this.clone().multiplyO(Hn)}multiplyO(Hn){const er=Hn instanceof $d?Hn:new $d(Hn);return $d.matrixMultiply(this,er,this)}rotate(Hn,er,nr){return this.clone().rotateO(Hn,er,nr)}rotateO(Hn,er=0,nr=0){Hn=M$2(Hn);const ir=Math.cos(Hn),rr=Math.sin(Hn),{a:sr,b:ar,c:or,d:lr,e:cr,f:ur}=this;return this.a=sr*ir-ar*rr,this.b=ar*ir+sr*rr,this.c=or*ir-lr*rr,this.d=lr*ir+or*rr,this.e=cr*ir-ur*rr+nr*rr-er*ir+er,this.f=ur*ir+cr*rr-er*rr-nr*ir+nr,this}scale(){return this.clone().scaleO(...arguments)}scaleO(Hn,er=Hn,nr=0,ir=0){arguments.length===3&&(ir=nr,nr=er,er=Hn);const{a:rr,b:sr,c:ar,d:or,e:lr,f:cr}=this;return this.a=rr*Hn,this.b=sr*er,this.c=ar*Hn,this.d=or*er,this.e=lr*Hn-nr*Hn+nr,this.f=cr*er-ir*er+ir,this}shear(Hn,er,nr){return this.clone().shearO(Hn,er,nr)}shearO(Hn,er=0,nr=0){const{a:ir,b:rr,c:sr,d:ar,e:or,f:lr}=this;return this.a=ir+rr*Hn,this.c=sr+ar*Hn,this.e=or+lr*Hn-nr*Hn,this}skew(){return this.clone().skewO(...arguments)}skewO(Hn,er=Hn,nr=0,ir=0){arguments.length===3&&(ir=nr,nr=er,er=Hn),Hn=M$2(Hn),er=M$2(er);const rr=Math.tan(Hn),sr=Math.tan(er),{a:ar,b:or,c:lr,d:cr,e:ur,f:dr}=this;return this.a=ar+or*rr,this.b=or+ar*sr,this.c=lr+cr*rr,this.d=cr+lr*sr,this.e=ur+dr*rr-ir*rr,this.f=dr+ur*sr-nr*sr,this}skewX(Hn,er,nr){return this.skew(Hn,0,er,nr)}skewY(Hn,er,nr){return this.skew(0,Hn,er,nr)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(Hn){if($d.isMatrixLike(Hn))return new $d(Hn).multiplyO(this);const er=$d.formatTransforms(Hn),{x:nr,y:ir}=new bt$1(er.ox,er.oy).transform(this),rr=new $d().translateO(er.rx,er.ry).lmultiplyO(this).translateO(-nr,-ir).scaleO(er.scaleX,er.scaleY).skewO(er.skewX,er.skewY).shearO(er.shear).rotateO(er.theta).translateO(nr,ir);if(isFinite(er.px)||isFinite(er.py)){const sr=new bt$1(nr,ir).transform(rr),ar=isFinite(er.px)?er.px-sr.x:0,or=isFinite(er.py)?er.py-sr.y:0;rr.translateO(ar,or)}return rr.translateO(er.tx,er.ty),rr}translate(Hn,er){return this.clone().translateO(Hn,er)}translateO(Hn,er){return this.e+=Hn||0,this.f+=er||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function yt$1(){if(!yt$1.nodes){const tr=B$2().size(2,0);tr.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),tr.attr("focusable","false"),tr.attr("aria-hidden","true");const Hn=tr.path().node;yt$1.nodes={svg:tr,path:Hn}}if(!yt$1.nodes.svg.node.parentNode){const tr=O$2.document.body||O$2.document.documentElement;yt$1.nodes.svg.addTo(tr)}return yt$1.nodes}function wt$1(tr){return!(tr.width||tr.height||tr.x||tr.y)}q$2(vt$1,"Matrix");let kt$1=class H0{constructor(...Hn){this.init(...Hn)}addOffset(){return this.x+=O$2.window.pageXOffset,this.y+=O$2.window.pageYOffset,new H0(this)}init(Hn){return Hn=typeof Hn=="string"?Hn.split(dt$1).map(parseFloat):Array.isArray(Hn)?Hn:typeof Hn=="object"?[Hn.left!=null?Hn.left:Hn.x,Hn.top!=null?Hn.top:Hn.y,Hn.width,Hn.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=Hn[0]||0,this.y=Hn[1]||0,this.width=this.w=Hn[2]||0,this.height=this.h=Hn[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return wt$1(this)}merge(Hn){const er=Math.min(this.x,Hn.x),nr=Math.min(this.y,Hn.y),ir=Math.max(this.x+this.width,Hn.x+Hn.width)-er,rr=Math.max(this.y+this.height,Hn.y+Hn.height)-nr;return new H0(er,nr,ir,rr)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(Hn){Hn instanceof vt$1||(Hn=new vt$1(Hn));let er=1/0,nr=-1/0,ir=1/0,rr=-1/0;return[new bt$1(this.x,this.y),new bt$1(this.x2,this.y),new bt$1(this.x,this.y2),new bt$1(this.x2,this.y2)].forEach((function(sr){sr=sr.transform(Hn),er=Math.min(er,sr.x),nr=Math.max(nr,sr.x),ir=Math.min(ir,sr.y),rr=Math.max(rr,sr.y)})),new H0(er,ir,nr-er,rr-ir)}};function At$1(tr,Hn,er){let nr;try{if(nr=Hn(tr.node),wt$1(nr)&&(ir=tr.node)!==O$2.document&&!(O$2.document.documentElement.contains||function(rr){for(;rr.parentNode;)rr=rr.parentNode;return rr===O$2.document}).call(O$2.document.documentElement,ir))throw new Error("Element not in the dom")}catch{nr=er(tr)}var ir;return nr}A$2({viewbox:{viewbox(tr,Hn,er,nr){return tr==null?new kt$1(this.attr("viewBox")):this.attr("viewBox",new kt$1(tr,Hn,er,nr))},zoom(tr,Hn){let{width:er,height:nr}=this.attr(["width","height"]);if((er||nr)&&typeof er!="string"&&typeof nr!="string"||(er=this.node.clientWidth,nr=this.node.clientHeight),!er||!nr)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const ir=this.viewbox(),rr=er/ir.width,sr=nr/ir.height,ar=Math.min(rr,sr);if(tr==null)return ar;let or=ar/tr;or===1/0&&(or=Number.MAX_SAFE_INTEGER/100),Hn=Hn||new bt$1(er/2/rr+ir.x,nr/2/sr+ir.y);const lr=new kt$1(ir).transform(new vt$1({scale:or,origin:Hn}));return this.viewbox(lr)}}}),q$2(kt$1,"Box");let Ct$1=class extends Array{constructor(Hn=[],...er){if(super(Hn,...er),typeof Hn=="number")return this;this.length=0,this.push(...Hn)}};Q$1([Ct$1],{each(tr,...Hn){return typeof tr=="function"?this.map(((er,nr,ir)=>tr.call(er,er,nr,ir))):this.map((er=>er[tr](...Hn)))},toArray(){return Array.prototype.concat.apply([],this)}});const St$1=["toArray","constructor","each"];function Lt$1(tr,Hn){return new Ct$1(L$3((Hn||O$2.document).querySelectorAll(tr),(function(er){return V$1(er)})))}Ct$1.extend=function(tr){tr=tr.reduce(((Hn,er)=>(St$1.includes(er)||er[0]==="_"||(er in Array.prototype&&(Hn["$"+er]=Array.prototype[er]),Hn[er]=function(...nr){return this.each(er,...nr)}),Hn)),{}),Q$1([Ct$1],tr)};let Mt$1=0;const Pt$1={};function It$1(tr){let Hn=tr.getEventHolder();return Hn===O$2.window&&(Hn=Pt$1),Hn.events||(Hn.events={}),Hn.events}function Tt$1(tr){return tr.getEventTarget()}function zt$1(tr,Hn,er,nr,ir){const rr=er.bind(nr||tr),sr=B$2(tr),ar=It$1(sr),or=Tt$1(sr);Hn=Array.isArray(Hn)?Hn:Hn.split(dt$1),er._svgjsListenerId||(er._svgjsListenerId=++Mt$1),Hn.forEach((function(lr){const cr=lr.split(".")[0],ur=lr.split(".")[1]||"*";ar[cr]=ar[cr]||{},ar[cr][ur]=ar[cr][ur]||{},ar[cr][ur][er._svgjsListenerId]=rr,or.addEventListener(cr,rr,ir||!1)}))}function Xt$1(tr,Hn,er,nr){const ir=B$2(tr),rr=It$1(ir),sr=Tt$1(ir);(typeof er!="function"||(er=er._svgjsListenerId))&&(Hn=Array.isArray(Hn)?Hn:(Hn||"").split(dt$1)).forEach((function(ar){const or=ar&&ar.split(".")[0],lr=ar&&ar.split(".")[1];let cr,ur;if(er)rr[or]&&rr[or][lr||"*"]&&(sr.removeEventListener(or,rr[or][lr||"*"][er],nr||!1),delete rr[or][lr||"*"][er]);else if(or&&lr){if(rr[or]&&rr[or][lr]){for(ur in rr[or][lr])Xt$1(sr,[or,lr].join("."),ur);delete rr[or][lr]}}else if(lr)for(ar in rr)for(cr in rr[ar])lr===cr&&Xt$1(sr,[ar,lr].join("."));else if(or){if(rr[or]){for(cr in rr[or])Xt$1(sr,[or,cr].join("."));delete rr[or]}}else{for(ar in rr)Xt$1(sr,ar);(function(dr){let fr=dr.getEventHolder();fr===O$2.window&&(fr=Pt$1),fr.events&&(fr.events={})})(ir)}}))}let Rt$1=class extends D$2{addEventListener(){}dispatch(Hn,er,nr){return(function(ir,rr,sr,ar){const or=Tt$1(ir);return rr instanceof O$2.window.Event||(rr=new O$2.window.CustomEvent(rr,{detail:sr,cancelable:!0,...ar})),or.dispatchEvent(rr),rr})(this,Hn,er,nr)}dispatchEvent(Hn){const er=this.getEventHolder().events;if(!er)return!0;const nr=er[Hn.type];for(const ir in nr)for(const rr in nr[ir])nr[ir][rr](Hn);return!Hn.defaultPrevented}fire(Hn,er,nr){return this.dispatch(Hn,er,nr),this}getEventHolder(){return this}getEventTarget(){return this}off(Hn,er,nr){return Xt$1(this,Hn,er,nr),this}on(Hn,er,nr,ir){return zt$1(this,Hn,er,nr,ir),this}removeEventListener(){}};function Et$1(){}q$2(Rt$1,"EventTarget");const Yt$1=400,Ht$1=">",Ot$1=0,Ft$1={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};let Dt$1=class extends Array{constructor(...Hn){super(...Hn),this.init(...Hn)}clone(){return new this.constructor(this)}init(Hn){return typeof Hn=="number"||(this.length=0,this.push(...this.parse(Hn))),this}parse(Hn=[]){return Hn instanceof Array?Hn:Hn.trim().split(dt$1).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const Hn=[];return Hn.push(...this),Hn}},_t$1=class Cg{constructor(...Hn){this.init(...Hn)}convert(Hn){return new Cg(this.value,Hn)}divide(Hn){return Hn=new Cg(Hn),new Cg(this/Hn,this.unit||Hn.unit)}init(Hn,er){return er=Array.isArray(Hn)?Hn[1]:er,Hn=Array.isArray(Hn)?Hn[0]:Hn,this.value=0,this.unit=er||"",typeof Hn=="number"?this.value=isNaN(Hn)?0:isFinite(Hn)?Hn:Hn<0?-34e37:34e37:typeof Hn=="string"?(er=Hn.match(tt$1))&&(this.value=parseFloat(er[1]),er[5]==="%"?this.value/=100:er[5]==="s"&&(this.value*=1e3),this.unit=er[5]):Hn instanceof Cg&&(this.value=Hn.valueOf(),this.unit=Hn.unit),this}minus(Hn){return Hn=new Cg(Hn),new Cg(this-Hn,this.unit||Hn.unit)}plus(Hn){return Hn=new Cg(Hn),new Cg(this+Hn,this.unit||Hn.unit)}times(Hn){return Hn=new Cg(Hn),new Cg(this*Hn,this.unit||Hn.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const Nt$1=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Wt$1=[];let Bt$1=class u1 extends Rt$1{constructor(Hn,er){super(),this.node=Hn,this.type=Hn.nodeName,er&&Hn!==er&&this.attr(er)}add(Hn,er){return(Hn=B$2(Hn)).removeNamespace&&this.node instanceof O$2.window.SVGElement&&Hn.removeNamespace(),er==null?this.node.appendChild(Hn.node):Hn.node!==this.node.childNodes[er]&&this.node.insertBefore(Hn.node,this.node.childNodes[er]),this}addTo(Hn,er){return B$2(Hn).put(this,er)}children(){return new Ct$1(L$3(this.node.children,(function(Hn){return V$1(Hn)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(Hn=!0,er=!0){this.writeDataToDom();let nr=this.node.cloneNode(Hn);return er&&(nr=J$1(nr)),new this.constructor(nr)}each(Hn,er){const nr=this.children();let ir,rr;for(ir=0,rr=nr.length;ir<rr;ir++)Hn.apply(nr[ir],[ir,nr]),er&&nr[ir].each(Hn,er);return this}element(Hn,er){return this.put(new u1(W$1(Hn),er))}first(){return V$1(this.node.firstChild)}get(Hn){return V$1(this.node.childNodes[Hn])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(Hn){return this.index(Hn)>=0}html(Hn,er){return this.xml(Hn,er,"http://www.w3.org/1999/xhtml")}id(Hn){return Hn!==void 0||this.node.id||(this.node.id=$$2(this.type)),this.attr("id",Hn)}index(Hn){return[].slice.call(this.node.childNodes).indexOf(Hn.node)}last(){return V$1(this.node.lastChild)}matches(Hn){const er=this.node,nr=er.matches||er.matchesSelector||er.msMatchesSelector||er.mozMatchesSelector||er.webkitMatchesSelector||er.oMatchesSelector||null;return nr&&nr.call(er,Hn)}parent(Hn){let er=this;if(!er.node.parentNode)return null;if(er=V$1(er.node.parentNode),!Hn)return er;do if(typeof Hn=="string"?er.matches(Hn):er instanceof Hn)return er;while(er=V$1(er.node.parentNode));return er}put(Hn,er){return Hn=B$2(Hn),this.add(Hn,er),Hn}putIn(Hn,er){return B$2(Hn).add(this,er)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(Hn){return this.node.removeChild(Hn.node),this}replace(Hn){return Hn=B$2(Hn),this.node.parentNode&&this.node.parentNode.replaceChild(Hn.node,this.node),Hn}round(Hn=2,er=null){const nr=10**Hn,ir=this.attr(er);for(const rr in ir)typeof ir[rr]=="number"&&(ir[rr]=Math.round(ir[rr]*nr)/nr);return this.attr(ir),this}svg(Hn,er){return this.xml(Hn,er,E$2)}toString(){return this.id()}words(Hn){return this.node.textContent=Hn,this}wrap(Hn){const er=this.parent();if(!er)return this.addTo(Hn);const nr=er.index(this);return er.put(Hn,nr).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(Hn,er,nr){if(typeof Hn=="boolean"&&(nr=er,er=Hn,Hn=null),Hn==null||typeof Hn=="function"){er=er==null||er,this.writeDataToDom();let ar=this;if(Hn!=null){if(ar=V$1(ar.node.cloneNode(!0)),er){const or=Hn(ar);if(ar=or||ar,or===!1)return""}ar.each((function(){const or=Hn(this),lr=or||this;or===!1?this.remove():or&&this!==lr&&this.replace(lr)}),!0)}return er?ar.node.outerHTML:ar.node.innerHTML}er=er!=null&&er;const ir=W$1("wrapper",nr),rr=O$2.document.createDocumentFragment();ir.innerHTML=Hn;for(let ar=ir.children.length;ar--;)rr.appendChild(ir.firstElementChild);const sr=this.parent();return er?this.replace(rr)&&sr:this.add(rr)}};Q$1(Bt$1,{attr:function(tr,Hn,er){if(tr==null){tr={},Hn=this.node.attributes;for(const nr of Hn)tr[nr.nodeName]=ht$1.test(nr.nodeValue)?parseFloat(nr.nodeValue):nr.nodeValue;return tr}if(tr instanceof Array)return tr.reduce(((nr,ir)=>(nr[ir]=this.attr(ir),nr)),{});if(typeof tr=="object"&&tr.constructor===Object)for(Hn in tr)this.attr(Hn,tr[Hn]);else if(Hn===null)this.node.removeAttribute(tr);else{if(Hn==null)return(Hn=this.node.getAttribute(tr))==null?Ft$1[tr]:ht$1.test(Hn)?parseFloat(Hn):Hn;typeof(Hn=Wt$1.reduce(((nr,ir)=>ir(tr,nr,this)),Hn))=="number"?Hn=new _t$1(Hn):Nt$1.has(tr)&&xt$1.isColor(Hn)?Hn=new xt$1(Hn):Hn.constructor===Array&&(Hn=new Dt$1(Hn)),tr==="leading"?this.leading&&this.leading(Hn):typeof er=="string"?this.node.setAttributeNS(er,tr,Hn.toString()):this.node.setAttribute(tr,Hn.toString()),!this.rebuild||tr!=="font-size"&&tr!=="x"||this.rebuild()}return this},find:function(tr){return Lt$1(tr,this.node)},findOne:function(tr){return V$1(this.node.querySelector(tr))}}),q$2(Bt$1,"Dom");let Gt$1=class extends Bt$1{constructor(Hn,er){super(Hn,er),this.dom={},this.node.instance=this,(Hn.hasAttribute("data-svgjs")||Hn.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(Hn.getAttribute("data-svgjs"))??JSON.parse(Hn.getAttribute("svgjs:data"))??{})}center(Hn,er){return this.cx(Hn).cy(er)}cx(Hn){return Hn==null?this.x()+this.width()/2:this.x(Hn-this.width()/2)}cy(Hn){return Hn==null?this.y()+this.height()/2:this.y(Hn-this.height()/2)}defs(){const Hn=this.root();return Hn&&Hn.defs()}dmove(Hn,er){return this.dx(Hn).dy(er)}dx(Hn=0){return this.x(new _t$1(Hn).plus(this.x()))}dy(Hn=0){return this.y(new _t$1(Hn).plus(this.y()))}getEventHolder(){return this}height(Hn){return this.attr("height",Hn)}move(Hn,er){return this.x(Hn).y(er)}parents(Hn=this.root()){const er=typeof Hn=="string";er||(Hn=B$2(Hn));const nr=new Ct$1;let ir=this;for(;(ir=ir.parent())&&ir.node!==O$2.document&&ir.nodeName!=="#document-fragment"&&(nr.push(ir),er||ir.node!==Hn.node)&&(!er||!ir.matches(Hn));)if(ir.node===this.root().node)return null;return nr}reference(Hn){if(!(Hn=this.attr(Hn)))return null;const er=(Hn+"").match(at$1);return er?B$2(er[1]):null}root(){const Hn=this.parent((function(er){return _$3[er]})(N$2));return Hn&&Hn.root()}setData(Hn){return this.dom=Hn,this}size(Hn,er){const nr=I$2(this,Hn,er);return this.width(new _t$1(nr.width)).height(new _t$1(nr.height))}width(Hn){return this.attr("width",Hn)}writeDataToDom(){return R$2(this,this.dom),super.writeDataToDom()}x(Hn){return this.attr("x",Hn)}y(Hn){return this.attr("y",Hn)}};Q$1(Gt$1,{bbox:function(){const tr=At$1(this,(Hn=>Hn.getBBox()),(Hn=>{try{const er=Hn.clone().addTo(yt$1().svg).show(),nr=er.node.getBBox();return er.remove(),nr}catch(er){throw new Error(`Getting bbox of element "${Hn.node.nodeName}" is not possible: ${er.toString()}`)}}));return new kt$1(tr)},rbox:function(tr){const Hn=At$1(this,(nr=>nr.getBoundingClientRect()),(nr=>{throw new Error(`Getting rbox of element "${nr.node.nodeName}" is not possible`)})),er=new kt$1(Hn);return tr?er.transform(tr.screenCTM().inverseO()):er.addOffset()},inside:function(tr,Hn){const er=this.bbox();return tr>er.x&&Hn>er.y&&tr<er.x+er.width&&Hn<er.y+er.height},point:function(tr,Hn){return new bt$1(tr,Hn).transformO(this.screenCTM().inverseO())},ctm:function(){return new vt$1(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const tr=this.rect(1,1),Hn=tr.node.getScreenCTM();return tr.remove(),new vt$1(Hn)}return new vt$1(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new vt$1}}}),q$2(Gt$1,"Element");const jt$1={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(tr,Hn){return Hn==="color"?tr:tr+"-"+Hn}};["fill","stroke"].forEach((function(tr){const Hn={};let er;Hn[tr]=function(nr){if(nr===void 0)return this.attr(tr);if(typeof nr=="string"||nr instanceof xt$1||xt$1.isRgb(nr)||nr instanceof Gt$1)this.attr(tr,nr);else for(er=jt$1[tr].length-1;er>=0;er--)nr[jt$1[tr][er]]!=null&&this.attr(jt$1.prefix(tr,jt$1[tr][er]),nr[jt$1[tr][er]]);return this},A$2(["Element","Runner"],Hn)})),A$2(["Element","Runner"],{matrix:function(tr,Hn,er,nr,ir,rr){return tr==null?new vt$1(this):this.attr("transform",new vt$1(tr,Hn,er,nr,ir,rr))},rotate:function(tr,Hn,er){return this.transform({rotate:tr,ox:Hn,oy:er},!0)},skew:function(tr,Hn,er,nr){return arguments.length===1||arguments.length===3?this.transform({skew:tr,ox:Hn,oy:er},!0):this.transform({skew:[tr,Hn],ox:er,oy:nr},!0)},shear:function(tr,Hn,er){return this.transform({shear:tr,ox:Hn,oy:er},!0)},scale:function(tr,Hn,er,nr){return arguments.length===1||arguments.length===3?this.transform({scale:tr,ox:Hn,oy:er},!0):this.transform({scale:[tr,Hn],ox:er,oy:nr},!0)},translate:function(tr,Hn){return this.transform({translate:[tr,Hn]},!0)},relative:function(tr,Hn){return this.transform({relative:[tr,Hn]},!0)},flip:function(tr="both",Hn="center"){return"xybothtrue".indexOf(tr)===-1&&(Hn=tr,tr="both"),this.transform({flip:tr,origin:Hn},!0)},opacity:function(tr){return this.attr("opacity",tr)}}),A$2("radius",{radius:function(tr,Hn=tr){return(this._element||this).type==="radialGradient"?this.attr("r",new _t$1(tr)):this.rx(tr).ry(Hn)}}),A$2("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(tr){return new bt$1(this.node.getPointAtLength(tr))}}),A$2(["Element","Runner"],{font:function(tr,Hn){if(typeof tr=="object"){for(Hn in tr)this.font(Hn,tr[Hn]);return this}return tr==="leading"?this.leading(Hn):tr==="anchor"?this.attr("text-anchor",Hn):tr==="size"||tr==="family"||tr==="weight"||tr==="stretch"||tr==="variant"||tr==="style"?this.attr("font-"+tr,Hn):this.attr(tr,Hn)}});A$2("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(tr,Hn){return tr[Hn]=function(er){return er===null?this.off(Hn):this.on(Hn,er),this},tr}),{})),A$2("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(st$1).slice(0,-1).map((function(Hn){const er=Hn.trim().split("(");return[er[0],er[1].split(dt$1).map((function(nr){return parseFloat(nr)}))]})).reverse().reduce((function(Hn,er){return er[0]==="matrix"?Hn.lmultiply(vt$1.fromArray(er[1])):Hn[er[0]].apply(Hn,er[1])}),new vt$1)},toParent:function(tr,Hn){if(this===tr)return this;if(X$1(this.node))return this.addTo(tr,Hn);const er=this.screenCTM(),nr=tr.screenCTM().inverse();return this.addTo(tr,Hn).untransform().transform(nr.multiply(er)),this},toRoot:function(tr){return this.toParent(this.root(),tr)},transform:function(tr,Hn){if(tr==null||typeof tr=="string"){const nr=new vt$1(this).decompose();return tr==null?nr:nr[tr]}vt$1.isMatrixLike(tr)||(tr={...tr,origin:T$2(tr,this)});const er=new vt$1(Hn===!0?this:Hn||!1).transform(tr);return this.attr("transform",er)}});let Vt$1=class d1 extends Gt$1{flatten(){return this.each((function(){if(this instanceof d1)return this.flatten().ungroup()})),this}ungroup(Hn=this.parent(),er=Hn.index(this)){return er=er===-1?Hn.children().length:er,this.each((function(nr,ir){return ir[ir.length-nr-1].toParent(Hn,er)})),this.remove()}};q$2(Vt$1,"Container");let Ut$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("defs",Hn),er)}flatten(){return this}ungroup(){return this}};q$2(Ut$1,"Defs");let qt$1=class extends Gt$1{};function Zt$1(tr){return this.attr("rx",tr)}function $t$1(tr){return this.attr("ry",tr)}function Jt$1(tr){return tr==null?this.cx()-this.rx():this.cx(tr+this.rx())}function Qt$1(tr){return tr==null?this.cy()-this.ry():this.cy(tr+this.ry())}function Kt$1(tr){return this.attr("cx",tr)}function te(tr){return this.attr("cy",tr)}function ee(tr){return tr==null?2*this.rx():this.rx(new _t$1(tr).divide(2))}function ie(tr){return tr==null?2*this.ry():this.ry(new _t$1(tr).divide(2))}q$2(qt$1,"Shape");var ae=Object.freeze({__proto__:null,cx:Kt$1,cy:te,height:ie,rx:Zt$1,ry:$t$1,width:ee,x:Jt$1,y:Qt$1});class se extends qt$1{constructor(Hn,er=Hn){super(G$1("ellipse",Hn),er)}size(Hn,er){const nr=I$2(this,Hn,er);return this.rx(new _t$1(nr.width).divide(2)).ry(new _t$1(nr.height).divide(2))}}Q$1(se,ae),A$2("Container",{ellipse:K$1((function(tr=0,Hn=tr){return this.put(new se).size(tr,Hn).move(0,0)}))}),q$2(se,"Ellipse");class re extends Bt$1{constructor(Hn=O$2.document.createDocumentFragment()){super(Hn)}xml(Hn,er,nr){if(typeof Hn=="boolean"&&(nr=er,er=Hn,Hn=null),Hn==null||typeof Hn=="function"){const ir=new Bt$1(W$1("wrapper",nr));return ir.add(this.node.cloneNode(!0)),ir.xml(!1,nr)}return super.xml(Hn,!1,nr)}}function ne(tr,Hn){return(this._element||this).type==="radialGradient"?this.attr({fx:new _t$1(tr),fy:new _t$1(Hn)}):this.attr({x1:new _t$1(tr),y1:new _t$1(Hn)})}function oe$1(tr,Hn){return(this._element||this).type==="radialGradient"?this.attr({cx:new _t$1(tr),cy:new _t$1(Hn)}):this.attr({x2:new _t$1(tr),y2:new _t$1(Hn)})}q$2(re,"Fragment");var le=Object.freeze({__proto__:null,from:ne,to:oe$1});class he extends Vt$1{constructor(Hn,er){super(G$1(Hn+"Gradient",typeof Hn=="string"?null:Hn),er)}attr(Hn,er,nr){return Hn==="transform"&&(Hn="gradientTransform"),super.attr(Hn,er,nr)}bbox(){return new kt$1}targets(){return Lt$1("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(Hn){return this.clear(),typeof Hn=="function"&&Hn.call(this,this),this}url(){return"url(#"+this.id()+")"}}Q$1(he,le),A$2({Container:{gradient(...tr){return this.defs().gradient(...tr)}},Defs:{gradient:K$1((function(tr,Hn){return this.put(new he(tr)).update(Hn)}))}}),q$2(he,"Gradient");class ce extends Vt$1{constructor(Hn,er=Hn){super(G$1("pattern",Hn),er)}attr(Hn,er,nr){return Hn==="transform"&&(Hn="patternTransform"),super.attr(Hn,er,nr)}bbox(){return new kt$1}targets(){return Lt$1("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(Hn){return this.clear(),typeof Hn=="function"&&Hn.call(this,this),this}url(){return"url(#"+this.id()+")"}}A$2({Container:{pattern(...tr){return this.defs().pattern(...tr)}},Defs:{pattern:K$1((function(tr,Hn,er){return this.put(new ce).update(er).attr({x:0,y:0,width:tr,height:Hn,patternUnits:"userSpaceOnUse"})}))}}),q$2(ce,"Pattern");let de=class extends qt$1{constructor(tr,Hn=tr){super(G$1("image",tr),Hn)}load(tr,Hn){if(!tr)return this;const er=new O$2.window.Image;return zt$1(er,"load",(function(nr){const ir=this.parent(ce);this.width()===0&&this.height()===0&&this.size(er.width,er.height),ir instanceof ce&&ir.width()===0&&ir.height()===0&&ir.size(this.width(),this.height()),typeof Hn=="function"&&Hn.call(this,nr)}),this),zt$1(er,"load error",(function(){Xt$1(er)})),this.attr("href",er.src=tr,H$2)}};var ue$1;ue$1=function(tr,Hn,er){return tr!=="fill"&&tr!=="stroke"||ct$1.test(Hn)&&(Hn=er.root().defs().image(Hn)),Hn instanceof de&&(Hn=er.root().defs().pattern(0,0,(nr=>{nr.add(Hn)}))),Hn},Wt$1.push(ue$1),A$2({Container:{image:K$1((function(tr,Hn){return this.put(new de).size(0,0).load(tr,Hn)}))}}),q$2(de,"Image");class ge extends Dt$1{bbox(){let Hn=-1/0,er=-1/0,nr=1/0,ir=1/0;return this.forEach((function(rr){Hn=Math.max(rr[0],Hn),er=Math.max(rr[1],er),nr=Math.min(rr[0],nr),ir=Math.min(rr[1],ir)})),new kt$1(nr,ir,Hn-nr,er-ir)}move(Hn,er){const nr=this.bbox();if(Hn-=nr.x,er-=nr.y,!isNaN(Hn)&&!isNaN(er))for(let ir=this.length-1;ir>=0;ir--)this[ir]=[this[ir][0]+Hn,this[ir][1]+er];return this}parse(Hn=[0,0]){const er=[];(Hn=Hn instanceof Array?Array.prototype.concat.apply([],Hn):Hn.trim().split(dt$1).map(parseFloat)).length%2!=0&&Hn.pop();for(let nr=0,ir=Hn.length;nr<ir;nr+=2)er.push([Hn[nr],Hn[nr+1]]);return er}size(Hn,er){let nr;const ir=this.bbox();for(nr=this.length-1;nr>=0;nr--)ir.width&&(this[nr][0]=(this[nr][0]-ir.x)*Hn/ir.width+ir.x),ir.height&&(this[nr][1]=(this[nr][1]-ir.y)*er/ir.height+ir.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const Hn=[];for(let er=0,nr=this.length;er<nr;er++)Hn.push(this[er].join(","));return Hn.join(" ")}transform(Hn){return this.clone().transformO(Hn)}transformO(Hn){vt$1.isMatrixLike(Hn)||(Hn=new vt$1(Hn));for(let er=this.length;er--;){const[nr,ir]=this[er];this[er][0]=Hn.a*nr+Hn.c*ir+Hn.e,this[er][1]=Hn.b*nr+Hn.d*ir+Hn.f}return this}}const pe=ge;var fe=Object.freeze({__proto__:null,MorphArray:pe,height:function(tr){const Hn=this.bbox();return tr==null?Hn.height:this.size(Hn.width,tr)},width:function(tr){const Hn=this.bbox();return tr==null?Hn.width:this.size(tr,Hn.height)},x:function(tr){return tr==null?this.bbox().x:this.move(tr,this.bbox().y)},y:function(tr){return tr==null?this.bbox().y:this.move(this.bbox().x,tr)}});let xe$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("line",Hn),er)}array(){return new ge([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(Hn,er){return this.attr(this.array().move(Hn,er).toLine())}plot(Hn,er,nr,ir){return Hn==null?this.array():(Hn=er!==void 0?{x1:Hn,y1:er,x2:nr,y2:ir}:new ge(Hn).toLine(),this.attr(Hn))}size(Hn,er){const nr=I$2(this,Hn,er);return this.attr(this.array().size(nr.width,nr.height).toLine())}};Q$1(xe$1,fe),A$2({Container:{line:K$1((function(...tr){return xe$1.prototype.plot.apply(this.put(new xe$1),tr[0]!=null?tr:[0,0,0,0])}))}}),q$2(xe$1,"Line");let be=class extends Vt$1{constructor(tr,Hn=tr){super(G$1("marker",tr),Hn)}height(tr){return this.attr("markerHeight",tr)}orient(tr){return this.attr("orient",tr)}ref(tr,Hn){return this.attr("refX",tr).attr("refY",Hn)}toString(){return"url(#"+this.id()+")"}update(tr){return this.clear(),typeof tr=="function"&&tr.call(this,this),this}width(tr){return this.attr("markerWidth",tr)}};function me$1(tr,Hn){return function(er){return er==null?this[tr]:(this[tr]=er,Hn&&Hn.call(this),this)}}A$2({Container:{marker(...tr){return this.defs().marker(...tr)}},Defs:{marker:K$1((function(tr,Hn,er){return this.put(new be).size(tr,Hn).ref(tr/2,Hn/2).viewbox(0,0,tr,Hn).attr("orient","auto").update(er)}))},marker:{marker(tr,Hn,er,nr){let ir=["marker"];return tr!=="all"&&ir.push(tr),ir=ir.join("-"),tr=arguments[1]instanceof be?arguments[1]:this.defs().marker(Hn,er,nr),this.attr(ir,tr)}}}),q$2(be,"Marker");const ve$1={"-":function(tr){return tr},"<>":function(tr){return-Math.cos(tr*Math.PI)/2+.5},">":function(tr){return Math.sin(tr*Math.PI/2)},"<":function(tr){return 1-Math.cos(tr*Math.PI/2)},bezier:function(tr,Hn,er,nr){return function(ir){return ir<0?tr>0?Hn/tr*ir:er>0?nr/er*ir:0:ir>1?er<1?(1-nr)/(1-er)*ir+(nr-er)/(1-er):tr<1?(1-Hn)/(1-tr)*ir+(Hn-tr)/(1-tr):1:3*ir*(1-ir)**2*Hn+3*ir**2*(1-ir)*nr+ir**3}},steps:function(tr,Hn="end"){Hn=Hn.split("-").reverse()[0];let er=tr;return Hn==="none"?--er:Hn==="both"&&++er,(nr,ir=!1)=>{let rr=Math.floor(nr*tr);const sr=nr*rr%1==0;return Hn!=="start"&&Hn!=="both"||++rr,ir&&sr&&--rr,nr>=0&&rr<0&&(rr=0),nr<=1&&rr>er&&(rr=er),rr/er}}};let ye$1=class{done(){return!1}},we$1=class extends ye$1{constructor(Hn=Ht$1){super(),this.ease=ve$1[Hn]||Hn}step(Hn,er,nr){return typeof Hn!="number"?nr<1?Hn:er:Hn+(er-Hn)*this.ease(nr)}},ke$1=class extends ye$1{constructor(Hn){super(),this.stepper=Hn}done(Hn){return Hn.done}step(Hn,er,nr,ir){return this.stepper(Hn,er,nr,ir)}};function Ae(){const tr=(this._duration||500)/1e3,Hn=this._overshoot||0,er=Math.PI,nr=Math.log(Hn/100+1e-10),ir=-nr/Math.sqrt(er*er+nr*nr),rr=3.9/(ir*tr);this.d=2*ir*rr,this.k=rr*rr}Q$1(class extends ke$1{constructor(tr=500,Hn=0){super(),this.duration(tr).overshoot(Hn)}step(tr,Hn,er,nr){if(typeof tr=="string")return tr;if(nr.done=er===1/0,er===1/0)return Hn;if(er===0)return tr;er>100&&(er=16),er/=1e3;const ir=nr.velocity||0,rr=-this.d*ir-this.k*(tr-Hn),sr=tr+ir*er+rr*er*er/2;return nr.velocity=ir+rr*er,nr.done=Math.abs(Hn-sr)+Math.abs(ir)<.002,nr.done?Hn:sr}},{duration:me$1("_duration",Ae),overshoot:me$1("_overshoot",Ae)});Q$1(class extends ke$1{constructor(tr=.1,Hn=.01,er=0,nr=1e3){super(),this.p(tr).i(Hn).d(er).windup(nr)}step(tr,Hn,er,nr){if(typeof tr=="string")return tr;if(nr.done=er===1/0,er===1/0)return Hn;if(er===0)return tr;const ir=Hn-tr;let rr=(nr.integral||0)+ir*er;const sr=(ir-(nr.error||0))/er,ar=this._windup;return ar!==!1&&(rr=Math.max(-ar,Math.min(rr,ar))),nr.error=ir,nr.integral=rr,nr.done=Math.abs(ir)<.001,nr.done?Hn:tr+(this.P*ir+this.I*rr+this.D*sr)}},{windup:me$1("_windup"),p:me$1("P"),i:me$1("I"),d:me$1("D")});const Ce$1={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Se={M:function(tr,Hn,er){return Hn.x=er.x=tr[0],Hn.y=er.y=tr[1],["M",Hn.x,Hn.y]},L:function(tr,Hn){return Hn.x=tr[0],Hn.y=tr[1],["L",tr[0],tr[1]]},H:function(tr,Hn){return Hn.x=tr[0],["H",tr[0]]},V:function(tr,Hn){return Hn.y=tr[0],["V",tr[0]]},C:function(tr,Hn){return Hn.x=tr[4],Hn.y=tr[5],["C",tr[0],tr[1],tr[2],tr[3],tr[4],tr[5]]},S:function(tr,Hn){return Hn.x=tr[2],Hn.y=tr[3],["S",tr[0],tr[1],tr[2],tr[3]]},Q:function(tr,Hn){return Hn.x=tr[2],Hn.y=tr[3],["Q",tr[0],tr[1],tr[2],tr[3]]},T:function(tr,Hn){return Hn.x=tr[0],Hn.y=tr[1],["T",tr[0],tr[1]]},Z:function(tr,Hn,er){return Hn.x=er.x,Hn.y=er.y,["Z"]},A:function(tr,Hn){return Hn.x=tr[5],Hn.y=tr[6],["A",tr[0],tr[1],tr[2],tr[3],tr[4],tr[5],tr[6]]}},Le="mlhvqtcsaz".split("");for(let tr=0,Hn=Le.length;tr<Hn;++tr)Se[Le[tr]]=(function(er){return function(nr,ir,rr){if(er==="H")nr[0]=nr[0]+ir.x;else if(er==="V")nr[0]=nr[0]+ir.y;else if(er==="A")nr[5]=nr[5]+ir.x,nr[6]=nr[6]+ir.y;else for(let sr=0,ar=nr.length;sr<ar;++sr)nr[sr]=nr[sr]+(sr%2?ir.y:ir.x);return Se[er](nr,ir,rr)}})(Le[tr].toUpperCase());function Me$1(tr){return tr.segment.length&&tr.segment.length-1===Ce$1[tr.segment[0].toUpperCase()]}function Pe$1(tr,Hn){tr.inNumber&&Ie(tr,!1);const er=ut$1.test(Hn);if(er)tr.segment=[Hn];else{const nr=tr.lastCommand,ir=nr.toLowerCase(),rr=nr===ir;tr.segment=[ir==="m"?rr?"l":"L":nr]}return tr.inSegment=!0,tr.lastCommand=tr.segment[0],er}function Ie(tr,Hn){if(!tr.inNumber)throw new Error("Parser Error");tr.number&&tr.segment.push(parseFloat(tr.number)),tr.inNumber=Hn,tr.number="",tr.pointSeen=!1,tr.hasExponent=!1,Me$1(tr)&&Te$1(tr)}function Te$1(tr){tr.inSegment=!1,tr.absolute&&(tr.segment=(function(Hn){const er=Hn.segment[0];return Se[er](Hn.segment.slice(1),Hn.p,Hn.p0)})(tr)),tr.segments.push(tr.segment)}function ze(tr){if(!tr.segment.length)return!1;const Hn=tr.segment[0].toUpperCase()==="A",er=tr.segment.length;return Hn&&(er===4||er===5)}function Xe(tr){return tr.lastToken.toUpperCase()==="E"}const Re=new Set([" ",",","	",`
`,"\r","\f"]);class Ee extends Dt$1{bbox(){return yt$1().path.setAttribute("d",this.toString()),new kt$1(yt$1.nodes.path.getBBox())}move(Hn,er){const nr=this.bbox();if(Hn-=nr.x,er-=nr.y,!isNaN(Hn)&&!isNaN(er))for(let ir,rr=this.length-1;rr>=0;rr--)ir=this[rr][0],ir==="M"||ir==="L"||ir==="T"?(this[rr][1]+=Hn,this[rr][2]+=er):ir==="H"?this[rr][1]+=Hn:ir==="V"?this[rr][1]+=er:ir==="C"||ir==="S"||ir==="Q"?(this[rr][1]+=Hn,this[rr][2]+=er,this[rr][3]+=Hn,this[rr][4]+=er,ir==="C"&&(this[rr][5]+=Hn,this[rr][6]+=er)):ir==="A"&&(this[rr][6]+=Hn,this[rr][7]+=er);return this}parse(Hn="M0 0"){return Array.isArray(Hn)&&(Hn=Array.prototype.concat.apply([],Hn).toString()),(function(er,nr=!0){let ir=0,rr="";const sr={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:nr,p0:new bt$1,p:new bt$1};for(;sr.lastToken=rr,rr=er.charAt(ir++);)if(sr.inSegment||!Pe$1(sr,rr))if(rr!==".")if(isNaN(parseInt(rr)))if(Re.has(rr))sr.inNumber&&Ie(sr,!1);else if(rr!=="-"&&rr!=="+")if(rr.toUpperCase()!=="E"){if(ut$1.test(rr)){if(sr.inNumber)Ie(sr,!1);else{if(!Me$1(sr))throw new Error("parser Error");Te$1(sr)}--ir}}else sr.number+=rr,sr.hasExponent=!0;else{if(sr.inNumber&&!Xe(sr)){Ie(sr,!1),--ir;continue}sr.number+=rr,sr.inNumber=!0}else{if(sr.number==="0"||ze(sr)){sr.inNumber=!0,sr.number=rr,Ie(sr,!0);continue}sr.inNumber=!0,sr.number+=rr}else{if(sr.pointSeen||sr.hasExponent){Ie(sr,!1),--ir;continue}sr.inNumber=!0,sr.pointSeen=!0,sr.number+=rr}return sr.inNumber&&Ie(sr,!1),sr.inSegment&&Me$1(sr)&&Te$1(sr),sr.segments})(Hn)}size(Hn,er){const nr=this.bbox();let ir,rr;for(nr.width=nr.width===0?1:nr.width,nr.height=nr.height===0?1:nr.height,ir=this.length-1;ir>=0;ir--)rr=this[ir][0],rr==="M"||rr==="L"||rr==="T"?(this[ir][1]=(this[ir][1]-nr.x)*Hn/nr.width+nr.x,this[ir][2]=(this[ir][2]-nr.y)*er/nr.height+nr.y):rr==="H"?this[ir][1]=(this[ir][1]-nr.x)*Hn/nr.width+nr.x:rr==="V"?this[ir][1]=(this[ir][1]-nr.y)*er/nr.height+nr.y:rr==="C"||rr==="S"||rr==="Q"?(this[ir][1]=(this[ir][1]-nr.x)*Hn/nr.width+nr.x,this[ir][2]=(this[ir][2]-nr.y)*er/nr.height+nr.y,this[ir][3]=(this[ir][3]-nr.x)*Hn/nr.width+nr.x,this[ir][4]=(this[ir][4]-nr.y)*er/nr.height+nr.y,rr==="C"&&(this[ir][5]=(this[ir][5]-nr.x)*Hn/nr.width+nr.x,this[ir][6]=(this[ir][6]-nr.y)*er/nr.height+nr.y)):rr==="A"&&(this[ir][1]=this[ir][1]*Hn/nr.width,this[ir][2]=this[ir][2]*er/nr.height,this[ir][6]=(this[ir][6]-nr.x)*Hn/nr.width+nr.x,this[ir][7]=(this[ir][7]-nr.y)*er/nr.height+nr.y);return this}toString(){return(function(Hn){let er="";for(let nr=0,ir=Hn.length;nr<ir;nr++)er+=Hn[nr][0],Hn[nr][1]!=null&&(er+=Hn[nr][1],Hn[nr][2]!=null&&(er+=" ",er+=Hn[nr][2],Hn[nr][3]!=null&&(er+=" ",er+=Hn[nr][3],er+=" ",er+=Hn[nr][4],Hn[nr][5]!=null&&(er+=" ",er+=Hn[nr][5],er+=" ",er+=Hn[nr][6],Hn[nr][7]!=null&&(er+=" ",er+=Hn[nr][7])))));return er+" "})(this)}}const Ye=tr=>{const Hn=typeof tr;return Hn==="number"?_t$1:Hn==="string"?xt$1.isColor(tr)?xt$1:dt$1.test(tr)?ut$1.test(tr)?Ee:Dt$1:tt$1.test(tr)?_t$1:Oe:Ne.indexOf(tr.constructor)>-1?tr.constructor:Array.isArray(tr)?Dt$1:Hn==="object"?_e$1:Oe};class He{constructor(Hn){this._stepper=Hn||new we$1("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(Hn){return this._morphObj.morph(this._from,this._to,Hn,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(Hn,er){return Hn&&er}),!0)}from(Hn){return Hn==null?this._from:(this._from=this._set(Hn),this)}stepper(Hn){return Hn==null?this._stepper:(this._stepper=Hn,this)}to(Hn){return Hn==null?this._to:(this._to=this._set(Hn),this)}type(Hn){return Hn==null?this._type:(this._type=Hn,this)}_set(Hn){this._type||this.type(Ye(Hn));let er=new this._type(Hn);return this._type===xt$1&&(er=this._to?er[this._to[4]]():this._from?er[this._from[4]]():er),this._type===_e$1&&(er=this._to?er.align(this._to):this._from?er.align(this._from):er),er=er.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(er.length)).map(Object).map((function(nr){return nr.done=!0,nr})),er}}class Oe{constructor(...Hn){this.init(...Hn)}init(Hn){return Hn=Array.isArray(Hn)?Hn[0]:Hn,this.value=Hn,this}toArray(){return[this.value]}valueOf(){return this.value}}class Fe{constructor(...Hn){this.init(...Hn)}init(Hn){return Array.isArray(Hn)&&(Hn={scaleX:Hn[0],scaleY:Hn[1],shear:Hn[2],rotate:Hn[3],translateX:Hn[4],translateY:Hn[5],originX:Hn[6],originY:Hn[7]}),Object.assign(this,Fe.defaults,Hn),this}toArray(){const Hn=this;return[Hn.scaleX,Hn.scaleY,Hn.shear,Hn.rotate,Hn.translateX,Hn.translateY,Hn.originX,Hn.originY]}}Fe.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const De=(tr,Hn)=>tr[0]<Hn[0]?-1:tr[0]>Hn[0]?1:0;let _e$1=class{constructor(...Hn){this.init(...Hn)}align(Hn){const er=this.values;for(let nr=0,ir=er.length;nr<ir;++nr){if(er[nr+1]===Hn[nr+1]){if(er[nr+1]===xt$1&&Hn[nr+7]!==er[nr+7]){const ar=Hn[nr+7],or=new xt$1(this.values.splice(nr+3,5))[ar]().toArray();this.values.splice(nr+3,0,...or)}nr+=er[nr+2]+2;continue}if(!Hn[nr+1])return this;const rr=new Hn[nr+1]().toArray(),sr=er[nr+2]+3;er.splice(nr,sr,Hn[nr],Hn[nr+1],Hn[nr+2],...rr),nr+=er[nr+2]+2}return this}init(Hn){if(this.values=[],Array.isArray(Hn))return void(this.values=Hn.slice());Hn=Hn||{};const er=[];for(const nr in Hn){const ir=Ye(Hn[nr]),rr=new ir(Hn[nr]).toArray();er.push([nr,ir,rr.length,...rr])}return er.sort(De),this.values=er.reduce(((nr,ir)=>nr.concat(ir)),[]),this}toArray(){return this.values}valueOf(){const Hn={},er=this.values;for(;er.length;){const nr=er.shift(),ir=er.shift(),rr=er.shift(),sr=er.splice(0,rr);Hn[nr]=new ir(sr)}return Hn}};const Ne=[Oe,Fe,_e$1];class We extends qt$1{constructor(Hn,er=Hn){super(G$1("path",Hn),er)}array(){return this._array||(this._array=new Ee(this.attr("d")))}clear(){return delete this._array,this}height(Hn){return Hn==null?this.bbox().height:this.size(this.bbox().width,Hn)}move(Hn,er){return this.attr("d",this.array().move(Hn,er))}plot(Hn){return Hn==null?this.array():this.clear().attr("d",typeof Hn=="string"?Hn:this._array=new Ee(Hn))}size(Hn,er){const nr=I$2(this,Hn,er);return this.attr("d",this.array().size(nr.width,nr.height))}width(Hn){return Hn==null?this.bbox().width:this.size(Hn,this.bbox().height)}x(Hn){return Hn==null?this.bbox().x:this.move(Hn,this.bbox().y)}y(Hn){return Hn==null?this.bbox().y:this.move(this.bbox().x,Hn)}}We.prototype.MorphArray=Ee,A$2({Container:{path:K$1((function(tr){return this.put(new We).plot(tr||new Ee)}))}}),q$2(We,"Path");var Be=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ge(this.attr("points")))},clear:function(){return delete this._array,this},move:function(tr,Hn){return this.attr("points",this.array().move(tr,Hn))},plot:function(tr){return tr==null?this.array():this.clear().attr("points",typeof tr=="string"?tr:this._array=new ge(tr))},size:function(tr,Hn){const er=I$2(this,tr,Hn);return this.attr("points",this.array().size(er.width,er.height))}});class Ge extends qt$1{constructor(Hn,er=Hn){super(G$1("polygon",Hn),er)}}A$2({Container:{polygon:K$1((function(tr){return this.put(new Ge).plot(tr||new ge)}))}}),Q$1(Ge,fe),Q$1(Ge,Be),q$2(Ge,"Polygon");class je extends qt$1{constructor(Hn,er=Hn){super(G$1("polyline",Hn),er)}}A$2({Container:{polyline:K$1((function(tr){return this.put(new je).plot(tr||new ge)}))}}),Q$1(je,fe),Q$1(je,Be),q$2(je,"Polyline");class Ve extends qt$1{constructor(Hn,er=Hn){super(G$1("rect",Hn),er)}}Q$1(Ve,{rx:Zt$1,ry:$t$1}),A$2({Container:{rect:K$1((function(tr,Hn){return this.put(new Ve).size(tr,Hn)}))}}),q$2(Ve,"Rect");class Ue{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(Hn){const er=Hn.next!==void 0?Hn:{value:Hn,next:null,prev:null};return this._last?(er.prev=this._last,this._last.next=er,this._last=er):(this._last=er,this._first=er),er}remove(Hn){Hn.prev&&(Hn.prev.next=Hn.next),Hn.next&&(Hn.next.prev=Hn.prev),Hn===this._last&&(this._last=Hn.prev),Hn===this._first&&(this._first=Hn.next),Hn.prev=null,Hn.next=null}shift(){const Hn=this._first;return Hn?(this._first=Hn.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,Hn.value):null}}const qe={nextDraw:null,frames:new Ue,timeouts:new Ue,immediates:new Ue,timer:()=>O$2.window.performance||O$2.window.Date,transforms:[],frame(tr){const Hn=qe.frames.push({run:tr});return qe.nextDraw===null&&(qe.nextDraw=O$2.window.requestAnimationFrame(qe._draw)),Hn},timeout(tr,Hn){Hn=Hn||0;const er=qe.timer().now()+Hn,nr=qe.timeouts.push({run:tr,time:er});return qe.nextDraw===null&&(qe.nextDraw=O$2.window.requestAnimationFrame(qe._draw)),nr},immediate(tr){const Hn=qe.immediates.push(tr);return qe.nextDraw===null&&(qe.nextDraw=O$2.window.requestAnimationFrame(qe._draw)),Hn},cancelFrame(tr){tr!=null&&qe.frames.remove(tr)},clearTimeout(tr){tr!=null&&qe.timeouts.remove(tr)},cancelImmediate(tr){tr!=null&&qe.immediates.remove(tr)},_draw(tr){let Hn=null;const er=qe.timeouts.last();for(;(Hn=qe.timeouts.shift())&&(tr>=Hn.time?Hn.run():qe.timeouts.push(Hn),Hn!==er););let nr=null;const ir=qe.frames.last();for(;nr!==ir&&(nr=qe.frames.shift());)nr.run(tr);let rr=null;for(;rr=qe.immediates.shift();)rr();qe.nextDraw=qe.timeouts.first()||qe.frames.first()?O$2.window.requestAnimationFrame(qe._draw):null}},Ze=function(tr){const Hn=tr.start,er=tr.runner.duration();return{start:Hn,duration:er,end:Hn+er,runner:tr.runner}},$e=function(){const tr=O$2.window;return(tr.performance||tr.Date).now()};class Je extends Rt$1{constructor(Hn=$e){super(),this._timeSource=Hn,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const Hn=this.getLastRunnerInfo(),er=Hn?Hn.runner.duration():0;return(Hn?Hn.start:this._time)+er}getEndTimeOfTimeline(){const Hn=this._runners.map((er=>er.start+er.runner.duration()));return Math.max(0,...Hn)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(Hn){return this._runners[this._runnerIds.indexOf(Hn)]||null}pause(){return this._paused=!0,this._continue()}persist(Hn){return Hn==null?this._persist:(this._persist=Hn,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(Hn){const er=this.speed();if(Hn==null)return this.speed(-er);const nr=Math.abs(er);return this.speed(Hn?-nr:nr)}schedule(Hn,er,nr){if(Hn==null)return this._runners.map(Ze);let ir=0;const rr=this.getEndTime();if(er=er||0,nr==null||nr==="last"||nr==="after")ir=rr;else if(nr==="absolute"||nr==="start")ir=er,er=0;else if(nr==="now")ir=this._time;else if(nr==="relative"){const or=this.getRunnerInfoById(Hn.id);or&&(ir=or.start+er,er=0)}else{if(nr!=="with-last")throw new Error('Invalid value for the "when" parameter');{const or=this.getLastRunnerInfo();ir=or?or.start:this._time}}Hn.unschedule(),Hn.timeline(this);const sr=Hn.persist(),ar={persist:sr===null?this._persist:sr,start:ir+er,runner:Hn};return this._lastRunnerId=Hn.id,this._runners.push(ar),this._runners.sort(((or,lr)=>or.start-lr.start)),this._runnerIds=this._runners.map((or=>or.runner.id)),this.updateTime()._continue(),this}seek(Hn){return this.time(this._time+Hn)}source(Hn){return Hn==null?this._timeSource:(this._timeSource=Hn,this)}speed(Hn){return Hn==null?this._speed:(this._speed=Hn,this)}stop(){return this.time(0),this.pause()}time(Hn){return Hn==null?this._time:(this._time=Hn,this._continue(!0))}unschedule(Hn){const er=this._runnerIds.indexOf(Hn.id);return er<0||(this._runners.splice(er,1),this._runnerIds.splice(er,1),Hn.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(Hn=!1){return qe.cancelFrame(this._nextFrame),this._nextFrame=null,Hn?this._stepImmediate():(this._paused||(this._nextFrame=qe.frame(this._step)),this)}_stepFn(Hn=!1){const er=this._timeSource();let nr=er-this._lastSourceTime;Hn&&(nr=0);const ir=this._speed*nr+(this._time-this._lastStepTime);this._lastSourceTime=er,Hn||(this._time+=ir,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let sr=this._runners.length;sr--;){const ar=this._runners[sr],or=ar.runner;this._time-ar.start<=0&&or.reset()}let rr=!1;for(let sr=0,ar=this._runners.length;sr<ar;sr++){const or=this._runners[sr],lr=or.runner;let cr=ir;const ur=this._time-or.start;if(ur<=0){rr=!0;continue}ur<cr&&(cr=ur),lr.active()&&(lr.step(cr).done?or.persist!==!0&&lr.duration()-lr.time()+this._time+or.persist<this._time&&(lr.unschedule(),--sr,--ar):rr=!0)}return rr&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}A$2({Element:{timeline:function(tr){return tr==null?(this._timeline=this._timeline||new Je,this._timeline):(this._timeline=tr,this)}}});class Qe extends Rt$1{constructor(Hn){super(),this.id=Qe.id++,Hn=typeof(Hn=Hn??Yt$1)=="function"?new ke$1(Hn):Hn,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof Hn=="number"&&Hn,this._isDeclarative=Hn instanceof ke$1,this._stepper=this._isDeclarative?Hn:new we$1,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new vt$1,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(Hn,er,nr){let ir=1,rr=!1,sr=0;return er=er??Ot$1,nr=nr||"last",typeof(Hn=Hn??Yt$1)!="object"||Hn instanceof ye$1||(er=Hn.delay??er,nr=Hn.when??nr,rr=Hn.swing||rr,ir=Hn.times??ir,sr=Hn.wait??sr,Hn=Hn.duration??Yt$1),{duration:Hn,delay:er,swing:rr,times:ir,wait:sr,when:nr}}active(Hn){return Hn==null?this.enabled:(this.enabled=Hn,this)}addTransform(Hn){return this.transforms.lmultiplyO(Hn),this}after(Hn){return this.on("finished",Hn)}animate(Hn,er,nr){const ir=Qe.sanitise(Hn,er,nr),rr=new Qe(ir.duration);return this._timeline&&rr.timeline(this._timeline),this._element&&rr.element(this._element),rr.loop(ir).schedule(ir.delay,ir.when)}clearTransform(){return this.transforms=new vt$1,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((Hn=>!Hn.isTransform)))}delay(Hn){return this.animate(0,Hn)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(Hn){return this.queue(null,Hn)}ease(Hn){return this._stepper=new we$1(Hn),this}element(Hn){return Hn==null?this._element:(this._element=Hn,Hn._prepareRunner(),this)}finish(){return this.step(1/0)}loop(Hn,er,nr){return typeof Hn=="object"&&(er=Hn.swing,nr=Hn.wait,Hn=Hn.times),this._times=Hn||1/0,this._swing=er||!1,this._wait=nr||0,this._times===!0&&(this._times=1/0),this}loops(Hn){const er=this._duration+this._wait;if(Hn==null){const rr=Math.floor(this._time/er),sr=(this._time-rr*er)/this._duration;return Math.min(rr+sr,this._times)}const nr=Hn%1,ir=er*Math.floor(Hn)+this._duration*nr;return this.time(ir)}persist(Hn){return Hn==null?this._persist:(this._persist=Hn,this)}position(Hn){const er=this._time,nr=this._duration,ir=this._wait,rr=this._times,sr=this._swing,ar=this._reverse;let or;if(Hn==null){const ur=function(fr){const xr=sr*Math.floor(fr%(2*(ir+nr))/(ir+nr)),yr=xr&&!ar||!xr&&ar,_r=Math.pow(-1,yr)*(fr%(ir+nr))/nr+yr;return Math.max(Math.min(_r,1),0)},dr=rr*(ir+nr)-ir;return or=er<=0?Math.round(ur(1e-5)):er<dr?ur(er):Math.round(ur(dr-1e-5)),or}const lr=Math.floor(this.loops()),cr=sr&&lr%2==0;return or=lr+(cr&&!ar||ar&&cr?Hn:1-Hn),this.loops(or)}progress(Hn){return Hn==null?Math.min(1,this._time/this.duration()):this.time(Hn*this.duration())}queue(Hn,er,nr,ir){return this._queue.push({initialiser:Hn||Et$1,runner:er||Et$1,retarget:nr,isTransform:ir,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(Hn){return this._reverse=Hn??!this._reverse,this}schedule(Hn,er,nr){if(Hn instanceof Je||(nr=er,er=Hn,Hn=this.timeline()),!Hn)throw Error("Runner cannot be scheduled without timeline");return Hn.schedule(this,er,nr),this}step(Hn){if(!this.enabled)return this;Hn=Hn??16,this._time+=Hn;const er=this.position(),nr=this._lastPosition!==er&&this._time>=0;this._lastPosition=er;const ir=this.duration(),rr=this._lastTime<=0&&this._time>0,sr=this._lastTime<ir&&this._time>=ir;this._lastTime=this._time,rr&&this.fire("start",this);const ar=this._isDeclarative;this.done=!ar&&!sr&&this._time>=ir,this._reseted=!1;let or=!1;return(nr||ar)&&(this._initialise(nr),this.transforms=new vt$1,or=this._run(ar?Hn:er),this.fire("step",this)),this.done=this.done||or&&ar,sr&&this.fire("finished",this),this}time(Hn){if(Hn==null)return this._time;const er=Hn-this._time;return this.step(er),this}timeline(Hn){return Hn===void 0?this._timeline:(this._timeline=Hn,this)}unschedule(){const Hn=this.timeline();return Hn&&Hn.unschedule(this),this}_initialise(Hn){if(Hn||this._isDeclarative)for(let er=0,nr=this._queue.length;er<nr;++er){const ir=this._queue[er],rr=this._isDeclarative||!ir.initialised&&Hn;Hn=!ir.finished,rr&&Hn&&(ir.initialiser.call(this),ir.initialised=!0)}}_rememberMorpher(Hn,er){if(this._history[Hn]={morpher:er,caller:this._queue[this._queue.length-1]},this._isDeclarative){const nr=this.timeline();nr&&nr.play()}}_run(Hn){let er=!0;for(let nr=0,ir=this._queue.length;nr<ir;++nr){const rr=this._queue[nr],sr=rr.runner.call(this,Hn);rr.finished=rr.finished||sr===!0,er=er&&rr.finished}return er}_tryRetarget(Hn,er,nr){if(this._history[Hn]){if(!this._history[Hn].caller.initialised){const rr=this._queue.indexOf(this._history[Hn].caller);return this._queue.splice(rr,1),!1}this._history[Hn].caller.retarget?this._history[Hn].caller.retarget.call(this,er,nr):this._history[Hn].morpher.to(er),this._history[Hn].caller.finished=!1;const ir=this.timeline();return ir&&ir.play(),!0}return!1}}Qe.id=0;class Ke{constructor(Hn=new vt$1,er=-1,nr=!0){this.transforms=Hn,this.id=er,this.done=nr}clearTransformsFromQueue(){}}Q$1([Qe,Ke],{mergeWith(tr){return new Ke(tr.transforms.lmultiply(this.transforms),tr.id)}});const ti=(tr,Hn)=>tr.lmultiplyO(Hn),ei$1=tr=>tr.transforms;function ii$1(){const tr=this._transformationRunners.runners.map(ei$1).reduce(ti,new vt$1);this.transform(tr),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}let ai$1=class{constructor(){this.runners=[],this.ids=[]}add(Hn){if(this.runners.includes(Hn))return;const er=Hn.id+1;return this.runners.push(Hn),this.ids.push(er),this}clearBefore(Hn){const er=this.ids.indexOf(Hn+1)||1;return this.ids.splice(0,er,0),this.runners.splice(0,er,new Ke).forEach((nr=>nr.clearTransformsFromQueue())),this}edit(Hn,er){const nr=this.ids.indexOf(Hn+1);return this.ids.splice(nr,1,Hn+1),this.runners.splice(nr,1,er),this}getByID(Hn){return this.runners[this.ids.indexOf(Hn+1)]}length(){return this.ids.length}merge(){let Hn=null;for(let er=0;er<this.runners.length;++er){const nr=this.runners[er];if(Hn&&nr.done&&Hn.done&&(!nr._timeline||!nr._timeline._runnerIds.includes(nr.id))&&(!Hn._timeline||!Hn._timeline._runnerIds.includes(Hn.id))){this.remove(nr.id);const ir=nr.mergeWith(Hn);this.edit(Hn.id,ir),Hn=ir,--er}else Hn=nr}return this}remove(Hn){const er=this.ids.indexOf(Hn+1);return this.ids.splice(er,1),this.runners.splice(er,1),this}};A$2({Element:{animate(tr,Hn,er){const nr=Qe.sanitise(tr,Hn,er),ir=this.timeline();return new Qe(nr.duration).loop(nr).element(this).timeline(ir.play()).schedule(nr.delay,nr.when)},delay(tr,Hn){return this.animate(0,tr,Hn)},_clearTransformRunnersBefore(tr){this._transformationRunners.clearBefore(tr.id)},_currentTransform(tr){return this._transformationRunners.runners.filter((Hn=>Hn.id<=tr.id)).map(ei$1).reduce(ti,new vt$1)},_addRunner(tr){this._transformationRunners.add(tr),qe.cancelImmediate(this._frameId),this._frameId=qe.immediate(ii$1.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new ai$1().add(new Ke(new vt$1(this))))}}});Q$1(Qe,{attr(tr,Hn){return this.styleAttr("attr",tr,Hn)},css(tr,Hn){return this.styleAttr("css",tr,Hn)},styleAttr(tr,Hn,er){if(typeof Hn=="string")return this.styleAttr(tr,{[Hn]:er});let nr=Hn;if(this._tryRetarget(tr,nr))return this;let ir=new He(this._stepper).to(nr),rr=Object.keys(nr);return this.queue((function(){ir=ir.from(this.element()[tr](rr))}),(function(sr){return this.element()[tr](ir.at(sr).valueOf()),ir.done()}),(function(sr){const ar=Object.keys(sr),or=(lr=rr,ar.filter((ur=>!lr.includes(ur))));var lr;if(or.length){const ur=this.element()[tr](or),dr=new _e$1(ir.from()).valueOf();Object.assign(dr,ur),ir.from(dr)}const cr=new _e$1(ir.to()).valueOf();Object.assign(cr,sr),ir.to(cr),rr=ar,nr=sr})),this._rememberMorpher(tr,ir),this},zoom(tr,Hn){if(this._tryRetarget("zoom",tr,Hn))return this;let er=new He(this._stepper).to(new _t$1(tr));return this.queue((function(){er=er.from(this.element().zoom())}),(function(nr){return this.element().zoom(er.at(nr),Hn),er.done()}),(function(nr,ir){Hn=ir,er.to(nr)})),this._rememberMorpher("zoom",er),this},transform(tr,Hn,er){if(Hn=tr.relative||Hn,this._isDeclarative&&!Hn&&this._tryRetarget("transform",tr))return this;const nr=vt$1.isMatrixLike(tr);er=tr.affine!=null?tr.affine:er??!nr;const ir=new He(this._stepper).type(er?Fe:vt$1);let rr,sr,ar,or,lr;return this.queue((function(){sr=sr||this.element(),rr=rr||T$2(tr,sr),lr=new vt$1(Hn?void 0:sr),sr._addRunner(this),Hn||sr._clearTransformRunnersBefore(this)}),(function(cr){Hn||this.clearTransform();const{x:ur,y:dr}=new bt$1(rr).transform(sr._currentTransform(this));let fr=new vt$1({...tr,origin:[ur,dr]}),xr=this._isDeclarative&&ar?ar:lr;if(er){fr=fr.decompose(ur,dr),xr=xr.decompose(ur,dr);const _r=fr.rotate,Sr=xr.rotate,jr=[_r-360,_r,_r+360],Dr=jr.map((Or=>Math.abs(Or-Sr))),Ir=Math.min(...Dr),Mr=Dr.indexOf(Ir);fr.rotate=jr[Mr]}Hn&&(nr||(fr.rotate=tr.rotate||0),this._isDeclarative&&or&&(xr.rotate=or)),ir.from(xr),ir.to(fr);const yr=ir.at(cr);return or=yr.rotate,ar=new vt$1(yr),this.addTransform(ar),sr._addRunner(this),ir.done()}),(function(cr){(cr.origin||"center").toString()!==(tr.origin||"center").toString()&&(rr=T$2(cr,sr)),tr={...cr,origin:rr}}),!0),this._isDeclarative&&this._rememberMorpher("transform",ir),this},x(tr){return this._queueNumber("x",tr)},y(tr){return this._queueNumber("y",tr)},ax(tr){return this._queueNumber("ax",tr)},ay(tr){return this._queueNumber("ay",tr)},dx(tr=0){return this._queueNumberDelta("x",tr)},dy(tr=0){return this._queueNumberDelta("y",tr)},dmove(tr,Hn){return this.dx(tr).dy(Hn)},_queueNumberDelta(tr,Hn){if(Hn=new _t$1(Hn),this._tryRetarget(tr,Hn))return this;const er=new He(this._stepper).to(Hn);let nr=null;return this.queue((function(){nr=this.element()[tr](),er.from(nr),er.to(nr+Hn)}),(function(ir){return this.element()[tr](er.at(ir)),er.done()}),(function(ir){er.to(nr+new _t$1(ir))})),this._rememberMorpher(tr,er),this},_queueObject(tr,Hn){if(this._tryRetarget(tr,Hn))return this;const er=new He(this._stepper).to(Hn);return this.queue((function(){er.from(this.element()[tr]())}),(function(nr){return this.element()[tr](er.at(nr)),er.done()})),this._rememberMorpher(tr,er),this},_queueNumber(tr,Hn){return this._queueObject(tr,new _t$1(Hn))},cx(tr){return this._queueNumber("cx",tr)},cy(tr){return this._queueNumber("cy",tr)},move(tr,Hn){return this.x(tr).y(Hn)},amove(tr,Hn){return this.ax(tr).ay(Hn)},center(tr,Hn){return this.cx(tr).cy(Hn)},size(tr,Hn){let er;return tr&&Hn||(er=this._element.bbox()),tr||(tr=er.width/er.height*Hn),Hn||(Hn=er.height/er.width*tr),this.width(tr).height(Hn)},width(tr){return this._queueNumber("width",tr)},height(tr){return this._queueNumber("height",tr)},plot(tr,Hn,er,nr){if(arguments.length===4)return this.plot([tr,Hn,er,nr]);if(this._tryRetarget("plot",tr))return this;const ir=new He(this._stepper).type(this._element.MorphArray).to(tr);return this.queue((function(){ir.from(this._element.array())}),(function(rr){return this._element.plot(ir.at(rr)),ir.done()})),this._rememberMorpher("plot",ir),this},leading(tr){return this._queueNumber("leading",tr)},viewbox(tr,Hn,er,nr){return this._queueObject("viewbox",new kt$1(tr,Hn,er,nr))},update(tr){return typeof tr!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(tr.opacity!=null&&this.attr("stop-opacity",tr.opacity),tr.color!=null&&this.attr("stop-color",tr.color),tr.offset!=null&&this.attr("offset",tr.offset),this)}}),Q$1(Qe,{rx:Zt$1,ry:$t$1,from:ne,to:oe$1}),q$2(Qe,"Runner");let si$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("svg",Hn),er),this.namespace()}defs(){return this.isRoot()?V$1(this.node.querySelector("defs"))||this.put(new Ut$1):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof O$2.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:E$2,version:"1.1"}).attr("xmlns:xlink",H$2,Y$1):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Y$1).attr("xmlns:svgjs",null,Y$1)}root(){return this.isRoot()?this:super.root()}};A$2({Container:{nested:K$1((function(){return this.put(new si$1)}))}}),q$2(si$1,"Svg",!0);let ri$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("symbol",Hn),er)}};A$2({Container:{symbol:K$1((function(){return this.put(new ri$1)}))}}),q$2(ri$1,"Symbol");var ni$1=Object.freeze({__proto__:null,amove:function(tr,Hn){return this.ax(tr).ay(Hn)},ax:function(tr){return this.attr("x",tr)},ay:function(tr){return this.attr("y",tr)},build:function(tr){return this._build=!!tr,this},center:function(tr,Hn,er=this.bbox()){return this.cx(tr,er).cy(Hn,er)},cx:function(tr,Hn=this.bbox()){return tr==null?Hn.cx:this.attr("x",this.attr("x")+tr-Hn.cx)},cy:function(tr,Hn=this.bbox()){return tr==null?Hn.cy:this.attr("y",this.attr("y")+tr-Hn.cy)},length:function(){return this.node.getComputedTextLength()},move:function(tr,Hn,er=this.bbox()){return this.x(tr,er).y(Hn,er)},plain:function(tr){return this._build===!1&&this.clear(),this.node.appendChild(O$2.document.createTextNode(tr)),this},x:function(tr,Hn=this.bbox()){return tr==null?Hn.x:this.attr("x",this.attr("x")+tr-Hn.x)},y:function(tr,Hn=this.bbox()){return tr==null?Hn.y:this.attr("y",this.attr("y")+tr-Hn.y)}});let oi$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("text",Hn),er),this.dom.leading=this.dom.leading??new _t$1(1.3),this._rebuild=!0,this._build=!1}leading(Hn){return Hn==null?this.dom.leading:(this.dom.leading=new _t$1(Hn),this.rebuild())}rebuild(Hn){if(typeof Hn=="boolean"&&(this._rebuild=Hn),this._rebuild){const er=this;let nr=0;const ir=this.dom.leading;this.each((function(rr){if(X$1(this.node))return;const sr=O$2.window.getComputedStyle(this.node).getPropertyValue("font-size"),ar=ir*new _t$1(sr);this.dom.newLined&&(this.attr("x",er.attr("x")),this.text()===`
`?nr+=ar:(this.attr("dy",rr?ar+nr:0),nr=0))})),this.fire("rebuild")}return this}setData(Hn){return this.dom=Hn,this.dom.leading=new _t$1(Hn.leading||1.3),this}writeDataToDom(){return R$2(this,this.dom,{leading:1.3}),this}text(Hn){if(Hn===void 0){const er=this.node.childNodes;let nr=0;Hn="";for(let ir=0,rr=er.length;ir<rr;++ir)er[ir].nodeName==="textPath"||X$1(er[ir])?ir===0&&(nr=ir+1):(ir!==nr&&er[ir].nodeType!==3&&V$1(er[ir]).dom.newLined===!0&&(Hn+=`
`),Hn+=er[ir].textContent);return Hn}if(this.clear().build(!0),typeof Hn=="function")Hn.call(this,this);else for(let er=0,nr=(Hn=(Hn+"").split(`
`)).length;er<nr;er++)this.newLine(Hn[er]);return this.build(!1).rebuild()}};Q$1(oi$1,ni$1),A$2({Container:{text:K$1((function(tr=""){return this.put(new oi$1).text(tr)})),plain:K$1((function(tr=""){return this.put(new oi$1).plain(tr)}))}}),q$2(oi$1,"Text");let li$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("tspan",Hn),er),this._build=!1}dx(Hn){return this.attr("dx",Hn)}dy(Hn){return this.attr("dy",Hn)}newLine(){this.dom.newLined=!0;const Hn=this.parent();if(!(Hn instanceof oi$1))return this;const er=Hn.index(this),nr=O$2.window.getComputedStyle(this.node).getPropertyValue("font-size"),ir=Hn.dom.leading*new _t$1(nr);return this.dy(er?ir:0).attr("x",Hn.x())}text(Hn){return Hn==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof Hn=="function"?(this.clear().build(!0),Hn.call(this,this),this.build(!1)):this.plain(Hn),this)}};Q$1(li$1,ni$1),A$2({Tspan:{tspan:K$1((function(tr=""){const Hn=new li$1;return this._build||this.clear(),this.put(Hn).text(tr)}))},Text:{newLine:function(tr=""){return this.tspan(tr).newLine()}}}),q$2(li$1,"Tspan");let hi$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("circle",Hn),er)}radius(Hn){return this.attr("r",Hn)}rx(Hn){return this.attr("r",Hn)}ry(Hn){return this.rx(Hn)}size(Hn){return this.radius(new _t$1(Hn).divide(2))}};Q$1(hi$1,{x:Jt$1,y:Qt$1,cx:Kt$1,cy:te,width:ee,height:ie}),A$2({Container:{circle:K$1((function(tr=0){return this.put(new hi$1).size(tr).move(0,0)}))}}),q$2(hi$1,"Circle");let ci$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("clipPath",Hn),er)}remove(){return this.targets().forEach((function(Hn){Hn.unclip()})),super.remove()}targets(){return Lt$1("svg [clip-path*="+this.id()+"]")}};A$2({Container:{clip:K$1((function(){return this.defs().put(new ci$1)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(tr){const Hn=tr instanceof ci$1?tr:this.parent().clip().add(tr);return this.attr("clip-path","url(#"+Hn.id()+")")},unclip(){return this.attr("clip-path",null)}}}),q$2(ci$1,"ClipPath");let di$1=class extends Gt$1{constructor(Hn,er=Hn){super(G$1("foreignObject",Hn),er)}};A$2({Container:{foreignObject:K$1((function(tr,Hn){return this.put(new di$1).size(tr,Hn)}))}}),q$2(di$1,"ForeignObject");var ui$1=Object.freeze({__proto__:null,dmove:function(tr,Hn){return this.children().forEach((er=>{let nr;try{nr=er.node instanceof F$1().SVGSVGElement?new kt$1(er.attr(["x","y","width","height"])):er.bbox()}catch{return}const ir=new vt$1(er),rr=ir.translate(tr,Hn).transform(ir.inverse()),sr=new bt$1(nr.x,nr.y).transform(rr);er.move(sr.x,sr.y)})),this},dx:function(tr){return this.dmove(tr,0)},dy:function(tr){return this.dmove(0,tr)},height:function(tr,Hn=this.bbox()){return tr==null?Hn.height:this.size(Hn.width,tr,Hn)},move:function(tr=0,Hn=0,er=this.bbox()){const nr=tr-er.x,ir=Hn-er.y;return this.dmove(nr,ir)},size:function(tr,Hn,er=this.bbox()){const nr=I$2(this,tr,Hn,er),ir=nr.width/er.width,rr=nr.height/er.height;return this.children().forEach((sr=>{const ar=new bt$1(er).transform(new vt$1(sr).inverse());sr.scale(ir,rr,ar.x,ar.y)})),this},width:function(tr,Hn=this.bbox()){return tr==null?Hn.width:this.size(tr,Hn.height,Hn)},x:function(tr,Hn=this.bbox()){return tr==null?Hn.x:this.move(tr,Hn.y,Hn)},y:function(tr,Hn=this.bbox()){return tr==null?Hn.y:this.move(Hn.x,tr,Hn)}});let gi$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("g",Hn),er)}};Q$1(gi$1,ui$1),A$2({Container:{group:K$1((function(){return this.put(new gi$1)}))}}),q$2(gi$1,"G");let pi$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("a",Hn),er)}target(Hn){return this.attr("target",Hn)}to(Hn){return this.attr("href",Hn,H$2)}};Q$1(pi$1,ui$1),A$2({Container:{link:K$1((function(tr){return this.put(new pi$1).to(tr)}))},Element:{unlink(){const tr=this.linker();if(!tr)return this;const Hn=tr.parent();if(!Hn)return this.remove();const er=Hn.index(tr);return Hn.add(this,er),tr.remove(),this},linkTo(tr){let Hn=this.linker();return Hn||(Hn=new pi$1,this.wrap(Hn)),typeof tr=="function"?tr.call(Hn,Hn):Hn.to(tr),this},linker(){const tr=this.parent();return tr&&tr.node.nodeName.toLowerCase()==="a"?tr:null}}}),q$2(pi$1,"A");let fi$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("mask",Hn),er)}remove(){return this.targets().forEach((function(Hn){Hn.unmask()})),super.remove()}targets(){return Lt$1("svg [mask*="+this.id()+"]")}};A$2({Container:{mask:K$1((function(){return this.defs().put(new fi$1)}))},Element:{masker(){return this.reference("mask")},maskWith(tr){const Hn=tr instanceof fi$1?tr:this.parent().mask().add(tr);return this.attr("mask","url(#"+Hn.id()+")")},unmask(){return this.attr("mask",null)}}}),q$2(fi$1,"Mask");let xi$1=class extends Gt$1{constructor(Hn,er=Hn){super(G$1("stop",Hn),er)}update(Hn){return(typeof Hn=="number"||Hn instanceof _t$1)&&(Hn={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),Hn.opacity!=null&&this.attr("stop-opacity",Hn.opacity),Hn.color!=null&&this.attr("stop-color",Hn.color),Hn.offset!=null&&this.attr("offset",new _t$1(Hn.offset)),this}};A$2({Gradient:{stop:function(tr,Hn,er){return this.put(new xi$1).update(tr,Hn,er)}}}),q$2(xi$1,"Stop");let bi$1=class extends Gt$1{constructor(Hn,er=Hn){super(G$1("style",Hn),er)}addText(Hn=""){return this.node.textContent+=Hn,this}font(Hn,er,nr={}){return this.rule("@font-face",{fontFamily:Hn,src:er,...nr})}rule(Hn,er){return this.addText((function(nr,ir){if(!nr)return"";if(!ir)return nr;let rr=nr+"{";for(const sr in ir)rr+=sr.replace(/([A-Z])/g,(function(ar,or){return"-"+or.toLowerCase()}))+":"+ir[sr]+";";return rr+="}",rr})(Hn,er))}};A$2("Dom",{style(tr,Hn){return this.put(new bi$1).rule(tr,Hn)},fontface(tr,Hn,er){return this.put(new bi$1).font(tr,Hn,er)}}),q$2(bi$1,"Style");let mi$1=class extends oi$1{constructor(Hn,er=Hn){super(G$1("textPath",Hn),er)}array(){const Hn=this.track();return Hn?Hn.array():null}plot(Hn){const er=this.track();let nr=null;return er&&(nr=er.plot(Hn)),Hn==null?nr:this}track(){return this.reference("href")}};A$2({Container:{textPath:K$1((function(tr,Hn){return tr instanceof oi$1||(tr=this.text(tr)),tr.path(Hn)}))},Text:{path:K$1((function(tr,Hn=!0){const er=new mi$1;let nr;if(tr instanceof We||(tr=this.defs().path(tr)),er.attr("href","#"+tr,H$2),Hn)for(;nr=this.node.firstChild;)er.node.appendChild(nr);return this.put(er)})),textPath(){return this.findOne("textPath")}},Path:{text:K$1((function(tr){return tr instanceof oi$1||(tr=new oi$1().addTo(this.parent()).text(tr)),tr.path(this)})),targets(){return Lt$1("svg textPath").filter((tr=>(tr.attr("href")||"").includes(this.id())))}}}),mi$1.prototype.MorphArray=Ee,q$2(mi$1,"TextPath");let vi$2=class extends qt$1{constructor(Hn,er=Hn){super(G$1("use",Hn),er)}use(Hn,er){return this.attr("href",(er||"")+"#"+Hn,H$2)}};A$2({Container:{use:K$1((function(tr,Hn){return this.put(new vi$2).use(tr,Hn)}))}}),q$2(vi$2,"Use");const yi$1=B$2;Q$1([si$1,ri$1,de,ce,be],C$2("viewbox")),Q$1([xe$1,je,Ge,We],C$2("marker")),Q$1(oi$1,C$2("Text")),Q$1(We,C$2("Path")),Q$1(Ut$1,C$2("Defs")),Q$1([oi$1,li$1],C$2("Tspan")),Q$1([Ve,se,he,Qe],C$2("radius")),Q$1(Rt$1,C$2("EventTarget")),Q$1(Bt$1,C$2("Dom")),Q$1(Gt$1,C$2("Element")),Q$1(qt$1,C$2("Shape")),Q$1([Vt$1,re],C$2("Container")),Q$1(he,C$2("Gradient")),Q$1(Qe,C$2("Runner")),Ct$1.extend([...new Set(k$2)]),(function(tr=[]){Ne.push(...[].concat(tr))})([_t$1,xt$1,kt$1,vt$1,Dt$1,ge,Ee,bt$1]),Q$1(Ne,{to(tr){return new He().type(this.constructor).from(this.toArray()).to(tr)},fromArray(tr){return this.init(tr),this},toConsumable(){return this.toArray()},morph(tr,Hn,er,nr,ir){return this.fromArray(tr.map((function(rr,sr){return nr.step(rr,Hn[sr],er,ir[sr],ir)})))}});let wi$1=class extends Gt$1{constructor(Hn){super(G$1("filter",Hn),Hn),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(Hn,er){return!(Hn=super.put(Hn,er)).attr("in")&&this.$autoSetIn&&Hn.attr("in",this.$source),Hn.attr("result")||Hn.attr("result",Hn.id()),Hn}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Lt$1('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}},ki$1=class extends Gt$1{constructor(Hn,er){super(Hn,er),this.result(this.id())}in(Hn){if(Hn==null){const er=this.attr("in");return this.parent()&&this.parent().find(`[result="${er}"]`)[0]||er}return this.attr("in",Hn)}result(Hn){return this.attr("result",Hn)}toString(){return this.result()}};const Ai$1=tr=>function(...Hn){for(let er=tr.length;er--;)Hn[er]!=null&&this.attr(tr[er],Hn[er])},Ci$1={blend:Ai$1(["in","in2","mode"]),colorMatrix:Ai$1(["type","values"]),composite:Ai$1(["in","in2","operator"]),convolveMatrix:function(tr){tr=new Dt$1(tr).toString(),this.attr({order:Math.sqrt(tr.split(" ").length),kernelMatrix:tr})},diffuseLighting:Ai$1(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ai$1(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ai$1(["in","dx","dy","stdDeviation"]),flood:Ai$1(["flood-color","flood-opacity"]),gaussianBlur:function(tr=0,Hn=tr){this.attr("stdDeviation",tr+" "+Hn)},image:function(tr){this.attr("href",tr,H$2)},morphology:Ai$1(["operator","radius"]),offset:Ai$1(["dx","dy"]),specularLighting:Ai$1(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ai$1([]),turbulence:Ai$1(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((tr=>{const Hn=P$1(tr),er=Ci$1[tr];wi$1[Hn+"Effect"]=class extends ki$1{constructor(nr){super(G$1("fe"+Hn,nr),nr)}update(nr){return er.apply(this,nr),this}},wi$1.prototype[tr]=K$1((function(nr,...ir){const rr=new wi$1[Hn+"Effect"];return nr==null?this.put(rr):(typeof nr=="function"?nr.call(rr,rr):ir.unshift(nr),this.put(rr).update(ir))}))})),Q$1(wi$1,{merge(tr){const Hn=this.put(new wi$1.MergeEffect);return typeof tr=="function"?(tr.call(Hn,Hn),Hn):((tr instanceof Array?tr:[...arguments]).forEach((er=>{er instanceof wi$1.MergeNode?Hn.put(er):Hn.mergeNode(er)})),Hn)},componentTransfer(tr={}){const Hn=this.put(new wi$1.ComponentTransferEffect);if(typeof tr=="function")return tr.call(Hn,Hn),Hn;tr.r||tr.g||tr.b||tr.a||(tr={r:tr,g:tr,b:tr,a:tr});for(const er in tr)Hn.add(new wi$1["Func"+er.toUpperCase()](tr[er]));return Hn}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((tr=>{const Hn=P$1(tr);wi$1[Hn]=class extends ki$1{constructor(er){super(G$1("fe"+Hn,er),er)}}}));["funcR","funcG","funcB","funcA"].forEach((function(tr){const Hn=wi$1[P$1(tr)],er=K$1((function(){return this.put(new Hn)}));wi$1.ComponentTransferEffect.prototype[tr]=er}));["distantLight","pointLight","spotLight"].forEach((tr=>{const Hn=wi$1[P$1(tr)],er=K$1((function(){return this.put(new Hn)}));wi$1.DiffuseLightingEffect.prototype[tr]=er,wi$1.SpecularLightingEffect.prototype[tr]=er})),Q$1(wi$1.MergeEffect,{mergeNode(tr){return this.put(new wi$1.MergeNode).attr("in",tr)}}),Q$1(Ut$1,{filter:function(tr){const Hn=this.put(new wi$1);return typeof tr=="function"&&tr.call(Hn,Hn),Hn}}),Q$1(Vt$1,{filter:function(tr){return this.defs().filter(tr)}}),Q$1(Gt$1,{filterWith:function(tr){const Hn=tr instanceof wi$1?tr:this.defs().filter(tr);return this.attr("filter",Hn)},unfilter:function(tr){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Si$1={blend:function(tr,Hn){return this.parent()&&this.parent().blend(this,tr,Hn)},colorMatrix:function(tr,Hn){return this.parent()&&this.parent().colorMatrix(tr,Hn).in(this)},componentTransfer:function(tr){return this.parent()&&this.parent().componentTransfer(tr).in(this)},composite:function(tr,Hn){return this.parent()&&this.parent().composite(this,tr,Hn)},convolveMatrix:function(tr){return this.parent()&&this.parent().convolveMatrix(tr).in(this)},diffuseLighting:function(tr,Hn,er,nr){return this.parent()&&this.parent().diffuseLighting(tr,er,nr).in(this)},displacementMap:function(tr,Hn,er,nr){return this.parent()&&this.parent().displacementMap(this,tr,Hn,er,nr)},dropShadow:function(tr,Hn,er){return this.parent()&&this.parent().dropShadow(this,tr,Hn,er).in(this)},flood:function(tr,Hn){return this.parent()&&this.parent().flood(tr,Hn)},gaussianBlur:function(tr,Hn){return this.parent()&&this.parent().gaussianBlur(tr,Hn).in(this)},image:function(tr){return this.parent()&&this.parent().image(tr)},merge:function(tr){return tr=tr instanceof Array?tr:[...tr],this.parent()&&this.parent().merge(this,...tr)},morphology:function(tr,Hn){return this.parent()&&this.parent().morphology(tr,Hn).in(this)},offset:function(tr,Hn){return this.parent()&&this.parent().offset(tr,Hn).in(this)},specularLighting:function(tr,Hn,er,nr,ir){return this.parent()&&this.parent().specularLighting(tr,er,nr,ir).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(tr,Hn,er,nr,ir){return this.parent()&&this.parent().turbulence(tr,Hn,er,nr,ir).in(this)}};Q$1(ki$1,Si$1),Q$1(wi$1.MergeEffect,{in:function(tr){return tr instanceof wi$1.MergeNode?this.add(tr,0):this.add(new wi$1.MergeNode().in(tr),0),this}}),Q$1([wi$1.CompositeEffect,wi$1.BlendEffect,wi$1.DisplacementMapEffect],{in2:function(tr){if(tr==null){const Hn=this.attr("in2");return this.parent()&&this.parent().find(`[result="${Hn}"]`)[0]||Hn}return this.attr("in2",tr)}}),wi$1.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Li$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"getDefaultFilter",value:function(Hn,er){var nr=this.w;Hn.unfilter(!0),new wi$1().size("120%","180%","-5%","-40%"),nr.config.chart.dropShadow.enabled&&this.dropShadow(Hn,nr.config.chart.dropShadow,er)}},{key:"applyFilter",value:function(Hn,er,nr){var ir,rr=this,sr=this.w;if(Hn.unfilter(!0),nr!=="none"){var ar,or,lr=sr.config.chart.dropShadow,cr=nr==="lighten"?2:.3;Hn.filterWith((function(ur){ur.colorMatrix({type:"matrix",values:`
          `.concat(cr,` 0 0 0 0
          0 `).concat(cr,` 0 0 0
          0 0 `).concat(cr,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),lr.enabled&&rr.addShadow(ur,er,lr,"brightness")})),!lr.noUserSpaceOnUse&&((ar=Hn.filterer())===null||ar===void 0||(or=ar.node)===null||or===void 0||or.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((ir=Hn.filterer())===null||ir===void 0?void 0:ir.node)}else this.getDefaultFilter(Hn,er)}},{key:"addShadow",value:function(Hn,er,nr,ir){var rr,sr=this.w,ar=nr.blur,or=nr.top,lr=nr.left,cr=nr.color,ur=nr.opacity;if(cr=Array.isArray(cr)?cr[er]:cr,((rr=sr.config.chart.dropShadow.enabledOnSeries)===null||rr===void 0?void 0:rr.length)>0&&sr.config.chart.dropShadow.enabledOnSeries.indexOf(er)===-1)return Hn;Hn.offset({in:ir,dx:lr,dy:or,result:"offset"}),Hn.gaussianBlur({in:"offset",stdDeviation:ar,result:"blur"}),Hn.flood({"flood-color":cr,"flood-opacity":ur,result:"flood"}),Hn.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),Hn.merge(["shadow",ir])}},{key:"dropShadow",value:function(Hn,er){var nr,ir,rr,sr,ar,or=this,lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,cr=this.w;return Hn.unfilter(!0),v$1.isMsEdge()&&cr.config.chart.type==="radialBar"||((nr=cr.config.chart.dropShadow.enabledOnSeries)===null||nr===void 0?void 0:nr.length)>0&&((rr=cr.config.chart.dropShadow.enabledOnSeries)===null||rr===void 0?void 0:rr.indexOf(lr))===-1?Hn:(Hn.filterWith((function(ur){or.addShadow(ur,lr,er,"SourceGraphic")})),er.noUserSpaceOnUse||(sr=Hn.filterer())===null||sr===void 0||(ar=sr.node)===null||ar===void 0||ar.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((ir=Hn.filterer())===null||ir===void 0?void 0:ir.node),Hn)}},{key:"setSelectionFilter",value:function(Hn,er,nr){var ir=this.w;if(ir.globals.selectedDataPoints[er]!==void 0&&ir.globals.selectedDataPoints[er].indexOf(nr)>-1){Hn.node.setAttribute("selected",!0);var rr=ir.config.states.active.filter;rr!=="none"&&this.applyFilter(Hn,er,rr.type)}}},{key:"_scaleFilterSize",value:function(Hn){Hn&&(function(er){for(var nr in er)er.hasOwnProperty(nr)&&Hn.setAttribute(nr,er[nr])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),tr})(),Mi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"roundPathCorners",value:function(Hn,er){function nr(Fr,Vr,Zr){var Hr=Vr.x-Fr.x,Yr=Vr.y-Fr.y,eo=Math.sqrt(Hr*Hr+Yr*Yr);return ir(Fr,Vr,Math.min(1,Zr/eo))}function ir(Fr,Vr,Zr){return{x:Fr.x+(Vr.x-Fr.x)*Zr,y:Fr.y+(Vr.y-Fr.y)*Zr}}function rr(Fr,Vr){Fr.length>2&&(Fr[Fr.length-2]=Vr.x,Fr[Fr.length-1]=Vr.y)}function sr(Fr){return{x:parseFloat(Fr[Fr.length-2]),y:parseFloat(Fr[Fr.length-1])}}Hn.indexOf("NaN")>-1&&(Hn="");var ar=Hn.split(/[,\s]/).reduce((function(Fr,Vr){var Zr=Vr.match(/^([a-zA-Z])(.+)/);return Zr?(Fr.push(Zr[1]),Fr.push(Zr[2])):Fr.push(Vr),Fr}),[]).reduce((function(Fr,Vr){return parseFloat(Vr)==Vr&&Fr.length?Fr[Fr.length-1].push(Vr):Fr.push([Vr]),Fr}),[]),or=[];if(ar.length>1){var lr=sr(ar[0]),cr=null;ar[ar.length-1][0]=="Z"&&ar[0].length>2&&(cr=["L",lr.x,lr.y],ar[ar.length-1]=cr),or.push(ar[0]);for(var ur=1;ur<ar.length;ur++){var dr=or[or.length-1],fr=ar[ur],xr=fr==cr?ar[1]:ar[ur+1];if(xr&&dr&&dr.length>2&&fr[0]=="L"&&xr.length>2&&xr[0]=="L"){var yr,_r,Sr=sr(dr),jr=sr(fr),Dr=sr(xr);yr=nr(jr,Sr,er),_r=nr(jr,Dr,er),rr(fr,yr),fr.origPoint=jr,or.push(fr);var Ir=ir(yr,jr,.5),Mr=ir(jr,_r,.5),Or=["C",Ir.x,Ir.y,Mr.x,Mr.y,_r.x,_r.y];Or.origPoint=jr,or.push(Or)}else or.push(fr)}if(cr){var Lr=sr(or[or.length-1]);or.push(["Z"]),rr(or[0],Lr)}}else or=ar;return or.reduce((function(Fr,Vr){return Fr+Vr.join(" ")+" "}),"")}},{key:"drawLine",value:function(Hn,er,nr,ir){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,ar=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,or=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:Hn,y1:er,x2:nr,y2:ir,stroke:rr,"stroke-dasharray":sr,"stroke-width":ar,"stroke-linecap":or})}},{key:"drawRect",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",ar=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,or=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,lr=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,cr=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,ur=this.w.globals.dom.Paper.rect();return ur.attr({x:Hn,y:er,width:nr>0?nr:0,height:ir>0?ir:0,rx:rr,ry:rr,opacity:ar,"stroke-width":or!==null?or:0,stroke:lr!==null?lr:"none","stroke-dasharray":cr}),ur.node.setAttribute("fill",sr),ur}},{key:"drawPolygon",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(Hn).attr({fill:ir,stroke:er,"stroke-width":nr})}},{key:"drawCircle",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Hn<0&&(Hn=0);var nr=this.w.globals.dom.Paper.circle(2*Hn);return er!==null&&nr.attr(er),nr}},{key:"drawPath",value:function(Hn){var er=Hn.d,nr=er===void 0?"":er,ir=Hn.stroke,rr=ir===void 0?"#a8a8a8":ir,sr=Hn.strokeWidth,ar=sr===void 0?1:sr,or=Hn.fill,lr=Hn.fillOpacity,cr=lr===void 0?1:lr,ur=Hn.strokeOpacity,dr=ur===void 0?1:ur,fr=Hn.classes,xr=Hn.strokeLinecap,yr=xr===void 0?null:xr,_r=Hn.strokeDashArray,Sr=_r===void 0?0:_r,jr=this.w;return yr===null&&(yr=jr.config.stroke.lineCap),(nr.indexOf("undefined")>-1||nr.indexOf("NaN")>-1)&&(nr="M 0 ".concat(jr.globals.gridHeight)),jr.globals.dom.Paper.path(nr).attr({fill:or,"fill-opacity":cr,stroke:rr,"stroke-opacity":dr,"stroke-linecap":yr,"stroke-width":ar,"stroke-dasharray":Sr,class:fr})}},{key:"group",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,er=this.w.globals.dom.Paper.group();return Hn!==null&&er.attr(Hn),er}},{key:"move",value:function(Hn,er){var nr=["M",Hn,er].join(" ");return nr}},{key:"line",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=null;return nr===null?ir=[" L",Hn,er].join(" "):nr==="H"?ir=[" H",Hn].join(" "):nr==="V"&&(ir=[" V",er].join(" ")),ir}},{key:"curve",value:function(Hn,er,nr,ir,rr,sr){var ar=["C",Hn,er,nr,ir,rr,sr].join(" ");return ar}},{key:"quadraticCurve",value:function(Hn,er,nr,ir){return["Q",Hn,er,nr,ir].join(" ")}},{key:"arc",value:function(Hn,er,nr,ir,rr,sr,ar){var or="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(or="a");var lr=[or,Hn,er,nr,ir,rr,sr,ar].join(" ");return lr}},{key:"renderPaths",value:function(Hn){var er,nr=Hn.j,ir=Hn.realIndex,rr=Hn.pathFrom,sr=Hn.pathTo,ar=Hn.stroke,or=Hn.strokeWidth,lr=Hn.strokeLinecap,cr=Hn.fill,ur=Hn.animationDelay,dr=Hn.initialSpeed,fr=Hn.dataChangeSpeed,xr=Hn.className,yr=Hn.chartType,_r=Hn.shouldClipToGrid,Sr=_r===void 0||_r,jr=Hn.bindEventsOnPaths,Dr=jr===void 0||jr,Ir=Hn.drawShadow,Mr=Ir===void 0||Ir,Or=this.w,Lr=new Li$1(this.ctx),Fr=new y$3(this.ctx),Vr=this.w.config.chart.animations.enabled,Zr=Vr&&this.w.config.chart.animations.dynamicAnimation.enabled;if(rr&&rr.startsWith("M 0 0")&&sr){var Hr=sr.match(/^M\s+[\d.-]+\s+[\d.-]+/);Hr&&(rr=rr.replace(/^M\s+0\s+0/,Hr[0]))}var Yr=!!(Vr&&!Or.globals.resized||Zr&&Or.globals.dataChanged&&Or.globals.shouldAnimate);Yr?er=rr:(er=sr,Or.globals.animationEnded=!0);var eo=Or.config.stroke.dashArray,io=0;io=Array.isArray(eo)?eo[ir]:Or.config.stroke.dashArray;var uo=this.drawPath({d:er,stroke:ar,strokeWidth:or,fill:cr,fillOpacity:1,classes:xr,strokeLinecap:lr,strokeDashArray:io});uo.attr("index",ir),Sr&&(yr==="bar"&&!Or.globals.isHorizontal||Or.globals.comboCharts?uo.attr({"clip-path":"url(#gridRectBarMask".concat(Or.globals.cuid,")")}):uo.attr({"clip-path":"url(#gridRectMask".concat(Or.globals.cuid,")")})),Or.config.chart.dropShadow.enabled&&Mr&&Lr.dropShadow(uo,Or.config.chart.dropShadow,ir),Dr&&(uo.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,uo)),uo.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,uo)),uo.node.addEventListener("mousedown",this.pathMouseDown.bind(this,uo))),uo.attr({pathTo:sr,pathFrom:rr});var so={el:uo,j:nr,realIndex:ir,pathFrom:rr,pathTo:sr,fill:cr,strokeWidth:or,delay:ur};return!Vr||Or.globals.resized||Or.globals.dataChanged?!Or.globals.resized&&Or.globals.dataChanged||Fr.showDelayedElements():Fr.animatePathsGradually(u$2(u$2({},so),{},{speed:dr})),Or.globals.dataChanged&&Zr&&Yr&&Fr.animatePathsGradually(u$2(u$2({},so),{},{speed:fr})),uo}},{key:"drawPattern",value:function(Hn,er,nr){var ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(er,nr,(function(sr){Hn==="horizontalLines"?sr.line(0,0,nr,0).stroke({color:ir,width:rr+1}):Hn==="verticalLines"?sr.line(0,0,0,er).stroke({color:ir,width:rr+1}):Hn==="slantedLines"?sr.line(0,0,er,nr).stroke({color:ir,width:rr}):Hn==="squares"?sr.rect(er,nr).fill("none").stroke({color:ir,width:rr}):Hn==="circles"&&sr.circle(er).fill("none").stroke({color:ir,width:rr})}))}},{key:"drawGradient",value:function(Hn,er,nr,ir,rr){var sr,ar=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,or=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,lr=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],cr=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,ur=this.w;er.length<9&&er.indexOf("#")===0&&(er=v$1.hexToRgba(er,ir)),nr.length<9&&nr.indexOf("#")===0&&(nr=v$1.hexToRgba(nr,rr));var dr=0,fr=1,xr=1,yr=null;or!==null&&(dr=or[0]!==void 0?or[0]/100:0,fr=or[1]!==void 0?or[1]/100:1,xr=or[2]!==void 0?or[2]/100:1,yr=or[3]!==void 0?or[3]/100:null);var _r=!(ur.config.chart.type!=="donut"&&ur.config.chart.type!=="pie"&&ur.config.chart.type!=="polarArea"&&ur.config.chart.type!=="bubble");if(sr=lr&&lr.length!==0?ur.globals.dom.Paper.gradient(_r?"radial":"linear",(function(Dr){(Array.isArray(lr[cr])?lr[cr]:lr).forEach((function(Ir){Dr.stop(Ir.offset/100,Ir.color,Ir.opacity)}))})):ur.globals.dom.Paper.gradient(_r?"radial":"linear",(function(Dr){Dr.stop(dr,er,ir),Dr.stop(fr,nr,rr),Dr.stop(xr,nr,rr),yr!==null&&Dr.stop(yr,er,ir)})),_r){var Sr=ur.globals.gridWidth/2,jr=ur.globals.gridHeight/2;ur.config.chart.type!=="bubble"?sr.attr({gradientUnits:"userSpaceOnUse",cx:Sr,cy:jr,r:ar}):sr.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else Hn==="vertical"?sr.from(0,0).to(0,1):Hn==="diagonal"?sr.from(0,0).to(1,1):Hn==="horizontal"?sr.from(0,1).to(1,1):Hn==="diagonal2"&&sr.from(1,0).to(0,1);return sr}},{key:"getTextBasedOnMaxWidth",value:function(Hn){var er=Hn.text,nr=Hn.maxWidth,ir=Hn.fontSize,rr=Hn.fontFamily,sr=this.getTextRects(er,ir,rr),ar=sr.width/er.length,or=Math.floor(nr/ar);return nr<sr.width?er.slice(0,or-3)+"...":er}},{key:"drawText",value:function(Hn){var er=this,nr=Hn.x,ir=Hn.y,rr=Hn.text,sr=Hn.textAnchor,ar=Hn.fontSize,or=Hn.fontFamily,lr=Hn.fontWeight,cr=Hn.foreColor,ur=Hn.opacity,dr=Hn.maxWidth,fr=Hn.cssClass,xr=fr===void 0?"":fr,yr=Hn.isPlainText,_r=yr===void 0||yr,Sr=Hn.dominantBaseline,jr=Sr===void 0?"auto":Sr,Dr=this.w;rr===void 0&&(rr="");var Ir=rr;sr||(sr="start"),cr&&cr.length||(cr=Dr.config.chart.foreColor),or=or||Dr.config.chart.fontFamily,lr=lr||"regular";var Mr,Or={maxWidth:dr,fontSize:ar=ar||"11px",fontFamily:or};return Array.isArray(rr)?Mr=Dr.globals.dom.Paper.text((function(Lr){for(var Fr=0;Fr<rr.length;Fr++)Ir=rr[Fr],dr&&(Ir=er.getTextBasedOnMaxWidth(u$2({text:rr[Fr]},Or))),Fr===0?Lr.tspan(Ir):Lr.tspan(Ir).newLine()})):(dr&&(Ir=this.getTextBasedOnMaxWidth(u$2({text:rr},Or))),Mr=_r?Dr.globals.dom.Paper.plain(rr):Dr.globals.dom.Paper.text((function(Lr){return Lr.tspan(Ir)}))),Mr.attr({x:nr,y:ir,"text-anchor":sr,"dominant-baseline":jr,"font-size":ar,"font-family":or,"font-weight":lr,fill:cr,class:"apexcharts-text "+xr}),Mr.node.style.fontFamily=or,Mr.node.style.opacity=ur,Mr}},{key:"getMarkerPath",value:function(Hn,er,nr,ir){var rr="";switch(nr){case"cross":rr="M ".concat(Hn-(ir/=1.4)," ").concat(er-ir," L ").concat(Hn+ir," ").concat(er+ir,"  M ").concat(Hn-ir," ").concat(er+ir," L ").concat(Hn+ir," ").concat(er-ir);break;case"plus":rr="M ".concat(Hn-(ir/=1.12)," ").concat(er," L ").concat(Hn+ir," ").concat(er,"  M ").concat(Hn," ").concat(er-ir," L ").concat(Hn," ").concat(er+ir);break;case"star":case"sparkle":var sr=5;ir*=1.15,nr==="sparkle"&&(ir/=1.1,sr=4);for(var ar=Math.PI/sr,or=0;or<=2*sr;or++){var lr=or*ar,cr=or%2==0?ir:ir/2;rr+=(or===0?"M":"L")+(Hn+cr*Math.sin(lr))+","+(er-cr*Math.cos(lr))}rr+="Z";break;case"triangle":rr="M ".concat(Hn," ").concat(er-ir,` 
             L `).concat(Hn+ir," ").concat(er+ir,` 
             L `).concat(Hn-ir," ").concat(er+ir,` 
             Z`);break;case"square":case"rect":rr="M ".concat(Hn-(ir/=1.125)," ").concat(er-ir,` 
           L `).concat(Hn+ir," ").concat(er-ir,` 
           L `).concat(Hn+ir," ").concat(er+ir,` 
           L `).concat(Hn-ir," ").concat(er+ir,` 
           Z`);break;case"diamond":ir*=1.05,rr="M ".concat(Hn," ").concat(er-ir,` 
             L `).concat(Hn+ir," ").concat(er,` 
             L `).concat(Hn," ").concat(er+ir,` 
             L `).concat(Hn-ir," ").concat(er,` 
            Z`);break;case"line":rr="M ".concat(Hn-(ir/=1.1)," ").concat(er,` 
           L `).concat(Hn+ir," ").concat(er);break;default:ir*=2,rr="M ".concat(Hn,", ").concat(er,` 
           m -`).concat(ir/2,`, 0 
           a `).concat(ir/2,",").concat(ir/2," 0 1,0 ").concat(ir,`,0 
           a `).concat(ir/2,",").concat(ir/2," 0 1,0 -").concat(ir,",0")}return rr}},{key:"drawMarkerShape",value:function(Hn,er,nr,ir,rr){var sr=this.drawPath({d:this.getMarkerPath(Hn,er,nr,ir,rr),stroke:rr.pointStrokeColor,strokeDashArray:rr.pointStrokeDashArray,strokeWidth:rr.pointStrokeWidth,fill:rr.pointFillColor,fillOpacity:rr.pointFillOpacity,strokeOpacity:rr.pointStrokeOpacity});return sr.attr({cx:Hn,cy:er,shape:rr.shape,class:rr.class?rr.class:""}),sr}},{key:"drawMarker",value:function(Hn,er,nr){Hn=Hn||0;var ir=nr.pSize||0;return v$1.isNumber(er)||(ir=0,er=0),this.drawMarkerShape(Hn,er,nr?.shape,ir,u$2(u$2({},nr),nr.shape==="line"||nr.shape==="plus"||nr.shape==="cross"?{pointStrokeColor:nr.pointFillColor,pointStrokeOpacity:nr.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=parseInt(Hn.node.getAttribute("index"),10),sr=parseInt(Hn.node.getAttribute("j"),10);if(typeof nr.config.chart.events.dataPointMouseEnter=="function"&&nr.config.chart.events.dataPointMouseEnter(er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}),this.ctx.events.fireEvent("dataPointMouseEnter",[er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}]),(nr.config.states.active.filter.type==="none"||Hn.node.getAttribute("selected")!=="true")&&nr.config.states.hover.filter.type!=="none"&&!nr.globals.isTouchDevice){var ar=nr.config.states.hover.filter;ir.applyFilter(Hn,rr,ar.type)}}},{key:"pathMouseLeave",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=parseInt(Hn.node.getAttribute("index"),10),sr=parseInt(Hn.node.getAttribute("j"),10);typeof nr.config.chart.events.dataPointMouseLeave=="function"&&nr.config.chart.events.dataPointMouseLeave(er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}),this.ctx.events.fireEvent("dataPointMouseLeave",[er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}]),nr.config.states.active.filter.type!=="none"&&Hn.node.getAttribute("selected")==="true"||nr.config.states.hover.filter.type!=="none"&&ir.getDefaultFilter(Hn,rr)}},{key:"pathMouseDown",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=parseInt(Hn.node.getAttribute("index"),10),sr=parseInt(Hn.node.getAttribute("j"),10),ar="false";if(Hn.node.getAttribute("selected")==="true"){if(Hn.node.setAttribute("selected","false"),nr.globals.selectedDataPoints[rr].indexOf(sr)>-1){var or=nr.globals.selectedDataPoints[rr].indexOf(sr);nr.globals.selectedDataPoints[rr].splice(or,1)}}else{if(!nr.config.states.active.allowMultipleDataPointsSelection&&nr.globals.selectedDataPoints.length>0){nr.globals.selectedDataPoints=[];var lr=nr.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),cr=nr.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),ur=function(xr){Array.prototype.forEach.call(xr,(function(yr){yr.node.setAttribute("selected","false"),ir.getDefaultFilter(yr,rr)}))};ur(lr),ur(cr)}Hn.node.setAttribute("selected","true"),ar="true",nr.globals.selectedDataPoints[rr]===void 0&&(nr.globals.selectedDataPoints[rr]=[]),nr.globals.selectedDataPoints[rr].push(sr)}if(ar==="true"){var dr=nr.config.states.active.filter;if(dr!=="none")ir.applyFilter(Hn,rr,dr.type);else if(nr.config.states.hover.filter!=="none"&&!nr.globals.isTouchDevice){var fr=nr.config.states.hover.filter;ir.applyFilter(Hn,rr,fr.type)}}else nr.config.states.active.filter.type!=="none"&&(nr.config.states.hover.filter.type==="none"||nr.globals.isTouchDevice?ir.getDefaultFilter(Hn,rr):(fr=nr.config.states.hover.filter,ir.applyFilter(Hn,rr,fr.type)));typeof nr.config.chart.events.dataPointSelection=="function"&&nr.config.chart.events.dataPointSelection(er,this.ctx,{selectedDataPoints:nr.globals.selectedDataPoints,seriesIndex:rr,dataPointIndex:sr,w:nr}),er&&this.ctx.events.fireEvent("dataPointSelection",[er,this.ctx,{selectedDataPoints:nr.globals.selectedDataPoints,seriesIndex:rr,dataPointIndex:sr,w:nr}])}},{key:"rotateAroundCenter",value:function(Hn){var er={};return Hn&&typeof Hn.getBBox=="function"&&(er=Hn.getBBox()),{x:er.x+er.width/2,y:er.y+er.height/2}}},{key:"getTextRects",value:function(Hn,er,nr,ir){var rr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],sr=this.w,ar=this.drawText({x:-200,y:-200,text:Hn,textAnchor:"start",fontSize:er,fontFamily:nr,foreColor:"#fff",opacity:0});ir&&ar.attr("transform",ir),sr.globals.dom.Paper.add(ar);var or=ar.bbox();return rr||(or=ar.node.getBoundingClientRect()),ar.remove(),{width:or.width,height:or.height}}},{key:"placeTextWithEllipsis",value:function(Hn,er,nr){if(typeof Hn.getComputedTextLength=="function"&&(Hn.textContent=er,er.length>0&&Hn.getComputedTextLength()>=nr/1.1)){for(var ir=er.length-3;ir>0;ir-=3)if(Hn.getSubStringLength(0,ir)<=nr/1.1)return void(Hn.textContent=er.substring(0,ir)+"...");Hn.textContent="."}}}],[{key:"setAttrs",value:function(Hn,er){for(var nr in er)er.hasOwnProperty(nr)&&Hn.setAttribute(nr,er[nr])}}]),tr})(),Pi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"getStackedSeriesTotals",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],er=this.w,nr=[];if(er.globals.series.length===0)return nr;for(var ir=0;ir<er.globals.series[er.globals.maxValsInArrayIndex].length;ir++){for(var rr=0,sr=0;sr<er.globals.series.length;sr++)er.globals.series[sr][ir]!==void 0&&Hn.indexOf(sr)===-1&&(rr+=er.globals.series[sr][ir]);nr.push(rr)}return nr}},{key:"getSeriesTotalByIndex",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Hn===null?this.w.config.series.reduce((function(er,nr){return er+nr}),0):this.w.globals.series[Hn].reduce((function(er,nr){return er+nr}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var Hn=this,er=this.w,nr=[];return er.globals.seriesGroups.forEach((function(ir){var rr=[];er.config.series.forEach((function(ar,or){ir.indexOf(er.globals.seriesNames[or])>-1&&rr.push(or)}));var sr=er.globals.series.map((function(ar,or){return rr.indexOf(or)===-1?or:-1})).filter((function(ar){return ar!==-1}));nr.push(Hn.getStackedSeriesTotals(sr))})),nr}},{key:"setSeriesYAxisMappings",value:function(){var Hn=this.w.globals,er=this.w.config,nr=[],ir=[],rr=[],sr=Hn.series.length>er.yaxis.length||er.yaxis.some((function(ur){return Array.isArray(ur.seriesName)}));er.series.forEach((function(ur,dr){rr.push(dr),ir.push(null)})),er.yaxis.forEach((function(ur,dr){nr[dr]=[]}));var ar=[];er.yaxis.forEach((function(ur,dr){var fr=!1;if(ur.seriesName){var xr=[];Array.isArray(ur.seriesName)?xr=ur.seriesName:xr.push(ur.seriesName),xr.forEach((function(yr){er.series.forEach((function(_r,Sr){if(_r.name===yr){var jr=Sr;dr===Sr||sr?!sr||rr.indexOf(Sr)>-1?nr[dr].push([dr,Sr]):console.warn("Series '"+_r.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(nr[Sr].push([Sr,dr]),jr=dr),fr=!0,(jr=rr.indexOf(jr))!==-1&&rr.splice(jr,1)}}))}))}fr||ar.push(dr)})),nr=nr.map((function(ur,dr){var fr=[];return ur.forEach((function(xr){ir[xr[1]]=xr[0],fr.push(xr[1])})),fr}));for(var or=er.yaxis.length-1,lr=0;lr<ar.length&&(or=ar[lr],nr[or]=[],rr);lr++){var cr=rr[0];rr.shift(),nr[or].push(cr),ir[cr]=or}rr.forEach((function(ur){nr[or].push(ur),ir[ur]=or})),Hn.seriesYAxisMap=nr.map((function(ur){return ur})),Hn.seriesYAxisReverseMap=ir.map((function(ur){return ur})),Hn.seriesYAxisMap.forEach((function(ur,dr){ur.forEach((function(fr){er.series[fr]&&er.series[fr].group===void 0&&(er.series[fr].group="apexcharts-axis-".concat(dr.toString()))}))}))}},{key:"isSeriesNull",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(Hn===null?this.w.config.series.filter((function(er){return er!==null})):this.w.config.series[Hn].data.filter((function(er){return er!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(Hn){return this.w.globals.series[Hn].every((function(er,nr,ir){return er===ir[0]}))}},{key:"getCategoryLabels",value:function(Hn){var er=this.w,nr=Hn.slice();return er.config.xaxis.convertedCatToNumeric&&(nr=Hn.map((function(ir,rr){return er.config.xaxis.labels.formatter(ir-er.globals.minX+1)}))),nr}},{key:"getLargestSeries",value:function(){var Hn=this.w;Hn.globals.maxValsInArrayIndex=Hn.globals.series.map((function(er){return er.length})).indexOf(Math.max.apply(Math,Hn.globals.series.map((function(er){return er.length}))))}},{key:"getLargestMarkerSize",value:function(){var Hn=this.w,er=0;return Hn.globals.markers.size.forEach((function(nr){er=Math.max(er,nr)})),Hn.config.markers.discrete&&Hn.config.markers.discrete.length&&Hn.config.markers.discrete.forEach((function(nr){er=Math.max(er,nr.size)})),er>0&&(Hn.config.markers.hover.size>0?er=Hn.config.markers.hover.size:er+=Hn.config.markers.hover.sizeOffset),Hn.globals.markers.largestSize=er,er}},{key:"getSeriesTotals",value:function(){var Hn=this.w;Hn.globals.seriesTotals=Hn.globals.series.map((function(er,nr){var ir=0;if(Array.isArray(er))for(var rr=0;rr<er.length;rr++)ir+=er[rr];else ir+=er;return ir}))}},{key:"getSeriesTotalsXRange",value:function(Hn,er){var nr=this.w;return nr.globals.series.map((function(ir,rr){for(var sr=0,ar=0;ar<ir.length;ar++)nr.globals.seriesX[rr][ar]>Hn&&nr.globals.seriesX[rr][ar]<er&&(sr+=ir[ar]);return sr}))}},{key:"getPercentSeries",value:function(){var Hn=this.w;Hn.globals.seriesPercent=Hn.globals.series.map((function(er,nr){var ir=[];if(Array.isArray(er))for(var rr=0;rr<er.length;rr++){var sr=Hn.globals.stackedSeriesTotals[rr],ar=0;sr&&(ar=100*er[rr]/sr),ir.push(ar)}else{var or=100*er/Hn.globals.seriesTotals.reduce((function(lr,cr){return lr+cr}),0);ir.push(or)}return ir}))}},{key:"getCalculatedRatios",value:function(){var Hn,er,nr,ir=this,rr=this.w,sr=rr.globals,ar=[],or=0,lr=[],cr=.1,ur=0;if(sr.yRange=[],sr.isMultipleYAxis)for(var dr=0;dr<sr.minYArr.length;dr++)sr.yRange.push(Math.abs(sr.minYArr[dr]-sr.maxYArr[dr])),lr.push(0);else sr.yRange.push(Math.abs(sr.minY-sr.maxY));sr.xRange=Math.abs(sr.maxX-sr.minX),sr.zRange=Math.abs(sr.maxZ-sr.minZ);for(var fr=0;fr<sr.yRange.length;fr++)ar.push(sr.yRange[fr]/sr.gridHeight);if(er=sr.xRange/sr.gridWidth,Hn=sr.yRange/sr.gridWidth,nr=sr.xRange/sr.gridHeight,(or=sr.zRange/sr.gridHeight*16)||(or=1),sr.minY!==Number.MIN_VALUE&&Math.abs(sr.minY)!==0&&(sr.hasNegs=!0),rr.globals.seriesYAxisReverseMap.length>0){var xr=function(_r,Sr){var jr=rr.config.yaxis[rr.globals.seriesYAxisReverseMap[Sr]],Dr=_r<0?-1:1;return _r=Math.abs(_r),jr.logarithmic&&(_r=ir.getBaseLog(jr.logBase,_r)),-Dr*_r/ar[Sr]};if(sr.isMultipleYAxis){lr=[];for(var yr=0;yr<ar.length;yr++)lr.push(xr(sr.minYArr[yr],yr))}else(lr=[]).push(xr(sr.minY,0)),sr.minY!==Number.MIN_VALUE&&Math.abs(sr.minY)!==0&&(cr=-sr.minY/Hn,ur=sr.minX/er)}else(lr=[]).push(0),cr=0,ur=0;return{yRatio:ar,invertedYRatio:Hn,zRatio:or,xRatio:er,invertedXRatio:nr,baseLineInvertedY:cr,baseLineY:lr,baseLineX:ur}}},{key:"getLogSeries",value:function(Hn){var er=this,nr=this.w;return nr.globals.seriesLog=Hn.map((function(ir,rr){var sr=nr.globals.seriesYAxisReverseMap[rr];return nr.config.yaxis[sr]&&nr.config.yaxis[sr].logarithmic?ir.map((function(ar){return ar===null?null:er.getLogVal(nr.config.yaxis[sr].logBase,ar,rr)})):ir})),nr.globals.invalidLogScale?Hn:nr.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(Hn,er){if(Hn===null)return null;var nr=this.w,ir=nr.globals.seriesYAxisReverseMap[er];return nr.config.yaxis[ir]&&nr.config.yaxis[ir].logarithmic?this.getLogVal(nr.config.yaxis[ir].logBase,Hn,er):Hn}},{key:"getBaseLog",value:function(Hn,er){return Math.log(er)/Math.log(Hn)}},{key:"getLogVal",value:function(Hn,er,nr){if(er<=0)return 0;var ir=this.w,rr=ir.globals.minYArr[nr]===0?-1:this.getBaseLog(Hn,ir.globals.minYArr[nr]),sr=(ir.globals.maxYArr[nr]===0?0:this.getBaseLog(Hn,ir.globals.maxYArr[nr]))-rr;return er<1?er/sr:(this.getBaseLog(Hn,er)-rr)/sr}},{key:"getLogYRatios",value:function(Hn){var er=this,nr=this.w,ir=this.w.globals;return ir.yLogRatio=Hn.slice(),ir.logYRange=ir.yRange.map((function(rr,sr){var ar=nr.globals.seriesYAxisReverseMap[sr];if(nr.config.yaxis[ar]&&er.w.config.yaxis[ar].logarithmic){var or,lr=-Number.MAX_VALUE,cr=Number.MIN_VALUE;return ir.seriesLog.forEach((function(ur,dr){ur.forEach((function(fr){nr.config.yaxis[dr]&&nr.config.yaxis[dr].logarithmic&&(lr=Math.max(fr,lr),cr=Math.min(fr,cr))}))})),or=Math.pow(ir.yRange[sr],Math.abs(cr-lr)/ir.yRange[sr]),ir.yLogRatio[sr]=or/ir.gridHeight,or}})),ir.invalidLogScale?Hn.slice():ir.yLogRatio}},{key:"drawSeriesByGroup",value:function(Hn,er,nr,ir){var rr=this.w,sr=[];return Hn.series.length>0&&er.forEach((function(ar){var or=[],lr=[];Hn.i.forEach((function(cr,ur){rr.config.series[cr].group===ar&&(or.push(Hn.series[ur]),lr.push(cr))})),or.length>0&&sr.push(ir.draw(or,nr,lr))})),sr}}],[{key:"checkComboSeries",value:function(Hn,er){var nr=!1,ir=0,rr=0;return er===void 0&&(er="line"),Hn.length&&Hn[0].type!==void 0&&Hn.forEach((function(sr){sr.type!=="bar"&&sr.type!=="column"&&sr.type!=="candlestick"&&sr.type!=="boxPlot"||ir++,sr.type!==void 0&&sr.type!==er&&rr++})),rr>0&&(nr=!0),{comboBarCount:ir,comboCharts:nr}}},{key:"extendArrayProps",value:function(Hn,er,nr){var ir,rr,sr,ar,or,lr;return(ir=er)!==null&&ir!==void 0&&ir.yaxis&&(er=Hn.extendYAxis(er,nr)),(rr=er)!==null&&rr!==void 0&&rr.annotations&&(er.annotations.yaxis&&(er=Hn.extendYAxisAnnotations(er)),(sr=er)!==null&&sr!==void 0&&(ar=sr.annotations)!==null&&ar!==void 0&&ar.xaxis&&(er=Hn.extendXAxisAnnotations(er)),(or=er)!==null&&or!==void 0&&(lr=or.annotations)!==null&&lr!==void 0&&lr.points&&(er=Hn.extendPointAnnotations(er))),er}}]),tr})(),Ii$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn}return s$1(tr,[{key:"setOrientations",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,nr=this.w;if(Hn.label.orientation==="vertical"){var ir=er!==null?er:0,rr=nr.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(ir,"']"));if(rr!==null){var sr=rr.getBoundingClientRect();rr.setAttribute("x",parseFloat(rr.getAttribute("x"))-sr.height+4);var ar=Hn.label.position==="top"?sr.width:-sr.width;rr.setAttribute("y",parseFloat(rr.getAttribute("y"))+ar);var or=this.annoCtx.graphics.rotateAroundCenter(rr),lr=or.x,cr=or.y;rr.setAttribute("transform","rotate(-90 ".concat(lr," ").concat(cr,")"))}}}},{key:"addBackgroundToAnno",value:function(Hn,er){var nr=this.w;if(!Hn||!er.label.text||!String(er.label.text).trim())return null;var ir=nr.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),rr=Hn.getBoundingClientRect(),sr=er.label.style.padding,ar=sr.left,or=sr.right,lr=sr.top,cr=sr.bottom;if(er.label.orientation==="vertical"){var ur=[ar,or,lr,cr];lr=ur[0],cr=ur[1],ar=ur[2],or=ur[3]}var dr=rr.left-ir.left-ar,fr=rr.top-ir.top-lr,xr=this.annoCtx.graphics.drawRect(dr-nr.globals.barPadForNumericAxis,fr,rr.width+ar+or,rr.height+lr+cr,er.label.borderRadius,er.label.style.background,1,er.label.borderWidth,er.label.borderColor,0);return er.id&&xr.node.classList.add(er.id),xr}},{key:"annotationsBackground",value:function(){var Hn=this,er=this.w,nr=function(ir,rr,sr){var ar=er.globals.dom.baseEl.querySelector(".apexcharts-".concat(sr,"-annotations .apexcharts-").concat(sr,"-annotation-label[rel='").concat(rr,"']"));if(ar){var or=ar.parentNode,lr=Hn.addBackgroundToAnno(ar,ir);lr&&(or.insertBefore(lr.node,ar),ir.label.mouseEnter&&lr.node.addEventListener("mouseenter",ir.label.mouseEnter.bind(Hn,ir)),ir.label.mouseLeave&&lr.node.addEventListener("mouseleave",ir.label.mouseLeave.bind(Hn,ir)),ir.label.click&&lr.node.addEventListener("click",ir.label.click.bind(Hn,ir)))}};er.config.annotations.xaxis.forEach((function(ir,rr){return nr(ir,rr,"xaxis")})),er.config.annotations.yaxis.forEach((function(ir,rr){return nr(ir,rr,"yaxis")})),er.config.annotations.points.forEach((function(ir,rr){return nr(ir,rr,"point")}))}},{key:"getY1Y2",value:function(Hn,er){var nr,ir=this.w,rr=Hn==="y1"?er.y:er.y2,sr=!1;if(this.annoCtx.invertAxis){var ar=ir.config.xaxis.convertedCatToNumeric?ir.globals.categoryLabels:ir.globals.labels,or=ar.indexOf(rr),lr=ir.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(or+1,")"));nr=lr?parseFloat(lr.getAttribute("y")):(ir.globals.gridHeight/ar.length-1)*(or+1)-ir.globals.barHeight,er.seriesIndex!==void 0&&ir.globals.barHeight&&(nr-=ir.globals.barHeight/2*(ir.globals.series.length-1)-ir.globals.barHeight*er.seriesIndex)}else{var cr,ur=ir.globals.seriesYAxisMap[er.yAxisIndex][0],dr=ir.config.yaxis[er.yAxisIndex].logarithmic?new Pi$1(this.annoCtx.ctx).getLogVal(ir.config.yaxis[er.yAxisIndex].logBase,rr,ur)/ir.globals.yLogRatio[ur]:(rr-ir.globals.minYArr[ur])/(ir.globals.yRange[ur]/ir.globals.gridHeight);nr=ir.globals.gridHeight-Math.min(Math.max(dr,0),ir.globals.gridHeight),sr=dr>ir.globals.gridHeight||dr<0,!er.marker||er.y!==void 0&&er.y!==null||(nr=0),(cr=ir.config.yaxis[er.yAxisIndex])!==null&&cr!==void 0&&cr.reversed&&(nr=dr)}return typeof rr=="string"&&rr.includes("px")&&(nr=parseFloat(rr)),{yP:nr,clipped:sr}}},{key:"getX1X2",value:function(Hn,er){var nr=this.w,ir=Hn==="x1"?er.x:er.x2,rr=this.annoCtx.invertAxis?nr.globals.minY:nr.globals.minX,sr=this.annoCtx.invertAxis?nr.globals.maxY:nr.globals.maxX,ar=this.annoCtx.invertAxis?nr.globals.yRange[0]:nr.globals.xRange,or=!1,lr=this.annoCtx.inversedReversedAxis?(sr-ir)/(ar/nr.globals.gridWidth):(ir-rr)/(ar/nr.globals.gridWidth);return nr.config.xaxis.type!=="category"&&!nr.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||nr.globals.dataFormatXNumeric||nr.config.chart.sparkline.enabled||(lr=this.getStringX(ir)),typeof ir=="string"&&ir.includes("px")&&(lr=parseFloat(ir)),ir==null&&er.marker&&(lr=nr.globals.gridWidth),er.seriesIndex!==void 0&&nr.globals.barWidth&&!this.annoCtx.invertAxis&&(lr-=nr.globals.barWidth/2*(nr.globals.series.length-1)-nr.globals.barWidth*er.seriesIndex),typeof lr!="number"&&(lr=0,or=!0),parseFloat(lr.toFixed(10))>parseFloat(nr.globals.gridWidth.toFixed(10))?(lr=nr.globals.gridWidth,or=!0):lr<0&&(lr=0,or=!0),{x:lr,clipped:or}}},{key:"getStringX",value:function(Hn){var er=this.w,nr=Hn;er.config.xaxis.convertedCatToNumeric&&er.globals.categoryLabels.length&&(Hn=er.globals.categoryLabels.indexOf(Hn)+1);var ir=er.globals.labels.map((function(sr){return Array.isArray(sr)?sr.join(" "):sr})).indexOf(Hn),rr=er.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(ir+1,")"));return rr&&(nr=parseFloat(rr.getAttribute("x"))),nr}}]),tr})(),Ti$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ii$1(this.annoCtx)}return s$1(tr,[{key:"addXaxisAnnotation",value:function(Hn,er,nr){var ir,rr=this.w,sr=this.helpers.getX1X2("x1",Hn),ar=sr.x,or=sr.clipped,lr=!0,cr=Hn.label.text,ur=Hn.strokeDashArray;if(v$1.isNumber(ar)){if(Hn.x2===null||Hn.x2===void 0){if(!or){var dr=this.annoCtx.graphics.drawLine(ar+Hn.offsetX,0+Hn.offsetY,ar+Hn.offsetX,rr.globals.gridHeight+Hn.offsetY,Hn.borderColor,ur,Hn.borderWidth);er.appendChild(dr.node),Hn.id&&dr.node.classList.add(Hn.id)}}else{var fr=this.helpers.getX1X2("x2",Hn);if(ir=fr.x,lr=fr.clipped,ir<ar){var xr=ar;ar=ir,ir=xr}var yr=this.annoCtx.graphics.drawRect(ar+Hn.offsetX,0+Hn.offsetY,ir-ar,rr.globals.gridHeight+Hn.offsetY,0,Hn.fillColor,Hn.opacity,1,Hn.borderColor,ur);yr.node.classList.add("apexcharts-annotation-rect"),yr.attr("clip-path","url(#gridRectMask".concat(rr.globals.cuid,")")),er.appendChild(yr.node),Hn.id&&yr.node.classList.add(Hn.id)}if(!or||!lr){var _r=this.annoCtx.graphics.getTextRects(cr,parseFloat(Hn.label.style.fontSize)),Sr=Hn.label.position==="top"?4:Hn.label.position==="center"?rr.globals.gridHeight/2+(Hn.label.orientation==="vertical"?_r.width/2:0):rr.globals.gridHeight,jr=this.annoCtx.graphics.drawText({x:ar+Hn.label.offsetX,y:Sr+Hn.label.offsetY-(Hn.label.orientation==="vertical"?Hn.label.position==="top"?_r.width/2-12:-_r.width/2:0),text:cr,textAnchor:Hn.label.textAnchor,fontSize:Hn.label.style.fontSize,fontFamily:Hn.label.style.fontFamily,fontWeight:Hn.label.style.fontWeight,foreColor:Hn.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(Hn.label.style.cssClass," ").concat(Hn.id?Hn.id:"")});jr.attr({rel:nr}),er.appendChild(jr.node),this.annoCtx.helpers.setOrientations(Hn,nr)}}}},{key:"drawXAxisAnnotations",value:function(){var Hn=this,er=this.w,nr=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return er.config.annotations.xaxis.map((function(ir,rr){Hn.addXaxisAnnotation(ir,nr.node,rr)})),nr}}]),tr})(),zi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s$1(tr,[{key:"isValidDate",value:function(Hn){return typeof Hn!="number"&&!isNaN(this.parseDate(Hn))}},{key:"getTimeStamp",value:function(Hn){return Date.parse(Hn)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(Hn).toISOString().substr(0,25)).getTime():new Date(Hn).getTime():Hn}},{key:"getDate",value:function(Hn){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(Hn).toUTCString()):new Date(Hn)}},{key:"parseDate",value:function(Hn){var er=Date.parse(Hn);if(!isNaN(er))return this.getTimeStamp(Hn);var nr=Date.parse(Hn.replace(/-/g,"/").replace(/[a-z]+/gi," "));return nr=this.getTimeStamp(nr)}},{key:"parseDateWithTimezone",value:function(Hn){return Date.parse(Hn.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(Hn,er){var nr=this.w.globals.locale,ir=this.w.config.xaxis.labels.datetimeUTC,rr=["\0"].concat(f$2(nr.months)),sr=[""].concat(f$2(nr.shortMonths)),ar=[""].concat(f$2(nr.days)),or=[""].concat(f$2(nr.shortDays));function lr(Fr,Vr){var Zr=Fr+"";for(Vr=Vr||2;Zr.length<Vr;)Zr="0"+Zr;return Zr}var cr=ir?Hn.getUTCFullYear():Hn.getFullYear();er=(er=(er=er.replace(/(^|[^\\])yyyy+/g,"$1"+cr)).replace(/(^|[^\\])yy/g,"$1"+cr.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+cr);var ur=(ir?Hn.getUTCMonth():Hn.getMonth())+1;er=(er=(er=(er=er.replace(/(^|[^\\])MMMM+/g,"$1"+rr[0])).replace(/(^|[^\\])MMM/g,"$1"+sr[0])).replace(/(^|[^\\])MM/g,"$1"+lr(ur))).replace(/(^|[^\\])M/g,"$1"+ur);var dr=ir?Hn.getUTCDate():Hn.getDate();er=(er=(er=(er=er.replace(/(^|[^\\])dddd+/g,"$1"+ar[0])).replace(/(^|[^\\])ddd/g,"$1"+or[0])).replace(/(^|[^\\])dd/g,"$1"+lr(dr))).replace(/(^|[^\\])d/g,"$1"+dr);var fr=ir?Hn.getUTCHours():Hn.getHours(),xr=fr>12?fr-12:fr===0?12:fr;er=(er=(er=(er=er.replace(/(^|[^\\])HH+/g,"$1"+lr(fr))).replace(/(^|[^\\])H/g,"$1"+fr)).replace(/(^|[^\\])hh+/g,"$1"+lr(xr))).replace(/(^|[^\\])h/g,"$1"+xr);var yr=ir?Hn.getUTCMinutes():Hn.getMinutes();er=(er=er.replace(/(^|[^\\])mm+/g,"$1"+lr(yr))).replace(/(^|[^\\])m/g,"$1"+yr);var _r=ir?Hn.getUTCSeconds():Hn.getSeconds();er=(er=er.replace(/(^|[^\\])ss+/g,"$1"+lr(_r))).replace(/(^|[^\\])s/g,"$1"+_r);var Sr=ir?Hn.getUTCMilliseconds():Hn.getMilliseconds();er=er.replace(/(^|[^\\])fff+/g,"$1"+lr(Sr,3)),Sr=Math.round(Sr/10),er=er.replace(/(^|[^\\])ff/g,"$1"+lr(Sr)),Sr=Math.round(Sr/10);var jr=fr<12?"AM":"PM";er=(er=(er=er.replace(/(^|[^\\])f/g,"$1"+Sr)).replace(/(^|[^\\])TT+/g,"$1"+jr)).replace(/(^|[^\\])T/g,"$1"+jr.charAt(0));var Dr=jr.toLowerCase();er=(er=er.replace(/(^|[^\\])tt+/g,"$1"+Dr)).replace(/(^|[^\\])t/g,"$1"+Dr.charAt(0));var Ir=-Hn.getTimezoneOffset(),Mr=ir||!Ir?"Z":Ir>0?"+":"-";if(!ir){var Or=(Ir=Math.abs(Ir))%60;Mr+=lr(Math.floor(Ir/60))+":"+lr(Or)}er=er.replace(/(^|[^\\])K/g,"$1"+Mr);var Lr=(ir?Hn.getUTCDay():Hn.getDay())+1;return er=(er=(er=(er=(er=er.replace(new RegExp(ar[0],"g"),ar[Lr])).replace(new RegExp(or[0],"g"),or[Lr])).replace(new RegExp(rr[0],"g"),rr[ur])).replace(new RegExp(sr[0],"g"),sr[ur])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(Hn,er,nr){var ir=this.w;ir.config.xaxis.min!==void 0&&(Hn=ir.config.xaxis.min),ir.config.xaxis.max!==void 0&&(er=ir.config.xaxis.max);var rr=this.getDate(Hn),sr=this.getDate(er),ar=this.formatDate(rr,"yyyy MM dd HH mm ss fff").split(" "),or=this.formatDate(sr,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(ar[6],10),maxMillisecond:parseInt(or[6],10),minSecond:parseInt(ar[5],10),maxSecond:parseInt(or[5],10),minMinute:parseInt(ar[4],10),maxMinute:parseInt(or[4],10),minHour:parseInt(ar[3],10),maxHour:parseInt(or[3],10),minDate:parseInt(ar[2],10),maxDate:parseInt(or[2],10),minMonth:parseInt(ar[1],10)-1,maxMonth:parseInt(or[1],10)-1,minYear:parseInt(ar[0],10),maxYear:parseInt(or[0],10)}}},{key:"isLeapYear",value:function(Hn){return Hn%4==0&&Hn%100!=0||Hn%400==0}},{key:"calculcateLastDaysOfMonth",value:function(Hn,er,nr){return this.determineDaysOfMonths(Hn,er)-nr}},{key:"determineDaysOfYear",value:function(Hn){var er=365;return this.isLeapYear(Hn)&&(er=366),er}},{key:"determineRemainingDaysOfYear",value:function(Hn,er,nr){var ir=this.daysCntOfYear[er]+nr;return er>1&&this.isLeapYear()&&ir++,ir}},{key:"determineDaysOfMonths",value:function(Hn,er){var nr=30;switch(Hn=v$1.monthMod(Hn),!0){case this.months30.indexOf(Hn)>-1:Hn===2&&(nr=this.isLeapYear(er)?29:28);break;case this.months31.indexOf(Hn)>-1:default:nr=31}return nr}}]),tr})(),Xi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.tooltipKeyFormat="dd MMM"}return s$1(tr,[{key:"xLabelFormat",value:function(Hn,er,nr,ir){var rr=this.w;if(rr.config.xaxis.type==="datetime"&&rr.config.xaxis.labels.formatter===void 0&&rr.config.tooltip.x.formatter===void 0){var sr=new zi$1(this.ctx);return sr.formatDate(sr.getDate(er),rr.config.tooltip.x.format)}return Hn(er,nr,ir)}},{key:"defaultGeneralFormatter",value:function(Hn){return Array.isArray(Hn)?Hn.map((function(er){return er})):Hn}},{key:"defaultYFormatter",value:function(Hn,er,nr){var ir=this.w;if(v$1.isNumber(Hn))if(ir.globals.yValueDecimal!==0)Hn=Hn.toFixed(er.decimalsInFloat!==void 0?er.decimalsInFloat:ir.globals.yValueDecimal);else{var rr=Hn.toFixed(0);Hn=Hn==rr?rr:Hn.toFixed(1)}return Hn}},{key:"setLabelFormatters",value:function(){var Hn=this,er=this.w;return er.globals.xaxisTooltipFormatter=function(nr){return Hn.defaultGeneralFormatter(nr)},er.globals.ttKeyFormatter=function(nr){return Hn.defaultGeneralFormatter(nr)},er.globals.ttZFormatter=function(nr){return nr},er.globals.legendFormatter=function(nr){return Hn.defaultGeneralFormatter(nr)},er.config.xaxis.labels.formatter!==void 0?er.globals.xLabelFormatter=er.config.xaxis.labels.formatter:er.globals.xLabelFormatter=function(nr){if(v$1.isNumber(nr)){if(!er.config.xaxis.convertedCatToNumeric&&er.config.xaxis.type==="numeric"){if(v$1.isNumber(er.config.xaxis.decimalsInFloat))return nr.toFixed(er.config.xaxis.decimalsInFloat);var ir=er.globals.maxX-er.globals.minX;return ir>0&&ir<100?nr.toFixed(1):nr.toFixed(0)}return er.globals.isBarHorizontal&&er.globals.maxY-er.globals.minYArr<4?nr.toFixed(1):nr.toFixed(0)}return nr},typeof er.config.tooltip.x.formatter=="function"?er.globals.ttKeyFormatter=er.config.tooltip.x.formatter:er.globals.ttKeyFormatter=er.globals.xLabelFormatter,typeof er.config.xaxis.tooltip.formatter=="function"&&(er.globals.xaxisTooltipFormatter=er.config.xaxis.tooltip.formatter),(Array.isArray(er.config.tooltip.y)||er.config.tooltip.y.formatter!==void 0)&&(er.globals.ttVal=er.config.tooltip.y),er.config.tooltip.z.formatter!==void 0&&(er.globals.ttZFormatter=er.config.tooltip.z.formatter),er.config.legend.formatter!==void 0&&(er.globals.legendFormatter=er.config.legend.formatter),er.config.yaxis.forEach((function(nr,ir){nr.labels.formatter!==void 0?er.globals.yLabelFormatters[ir]=nr.labels.formatter:er.globals.yLabelFormatters[ir]=function(rr){return er.globals.xyCharts?Array.isArray(rr)?rr.map((function(sr){return Hn.defaultYFormatter(sr,nr,ir)})):Hn.defaultYFormatter(rr,nr,ir):rr}})),er.globals}},{key:"heatmapLabelFormatters",value:function(){var Hn=this.w;if(Hn.config.chart.type==="heatmap"){Hn.globals.yAxisScale[0].result=Hn.globals.seriesNames.slice();var er=Hn.globals.seriesNames.reduce((function(nr,ir){return nr.length>ir.length?nr:ir}),0);Hn.globals.yAxisScale[0].niceMax=er,Hn.globals.yAxisScale[0].niceMin=er}}}]),tr})(),Ri$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"getLabel",value:function(Hn,er,nr,ir){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",ar=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],or=this.w,lr=Hn[ir]===void 0?"":Hn[ir],cr=lr,ur=or.globals.xLabelFormatter,dr=or.config.xaxis.labels.formatter,fr=!1,xr=new Xi$1(this.ctx),yr=lr;ar&&(cr=xr.xLabelFormat(ur,lr,yr,{i:ir,dateFormatter:new zi$1(this.ctx).formatDate,w:or}),dr!==void 0&&(cr=dr(lr,Hn[ir],{i:ir,dateFormatter:new zi$1(this.ctx).formatDate,w:or})));var _r,Sr;er.length>0?(_r=er[ir].unit,Sr=null,er.forEach((function(Mr){Mr.unit==="month"?Sr="year":Mr.unit==="day"?Sr="month":Mr.unit==="hour"?Sr="day":Mr.unit==="minute"&&(Sr="hour")})),fr=Sr===_r,nr=er[ir].position,cr=er[ir].value):or.config.xaxis.type==="datetime"&&dr===void 0&&(cr=""),cr===void 0&&(cr=""),cr=Array.isArray(cr)?cr:cr.toString();var jr=new Mi$1(this.ctx),Dr={};Dr=or.globals.rotateXLabels&&ar?jr.getTextRects(cr,parseInt(sr,10),null,"rotate(".concat(or.config.xaxis.labels.rotate," 0 0)"),!1):jr.getTextRects(cr,parseInt(sr,10));var Ir=!or.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(cr)&&(String(cr)==="NaN"||rr.indexOf(cr)>=0&&Ir)&&(cr=""),{x:nr,text:cr,textRect:Dr,isBold:fr}}},{key:"checkLabelBasedOnTickamount",value:function(Hn,er,nr){var ir=this.w,rr=ir.config.xaxis.tickAmount;return rr==="dataPoints"&&(rr=Math.round(ir.globals.gridWidth/120)),rr>nr||Hn%Math.round(nr/(rr+1))==0||(er.text=""),er}},{key:"checkForOverflowingLabels",value:function(Hn,er,nr,ir,rr){var sr=this.w;if(Hn===0&&sr.globals.skipFirstTimelinelabel&&(er.text=""),Hn===nr-1&&sr.globals.skipLastTimelinelabel&&(er.text=""),sr.config.xaxis.labels.hideOverlappingLabels&&ir.length>0){var ar=rr[rr.length-1];if(sr.config.xaxis.labels.trim&&sr.config.xaxis.type!=="datetime")return er;er.x<ar.textRect.width/(sr.globals.rotateXLabels?Math.abs(sr.config.xaxis.labels.rotate)/12:1.01)+ar.x&&(er.text="")}return er}},{key:"checkForReversedLabels",value:function(Hn,er){var nr=this.w;return nr.config.yaxis[Hn]&&nr.config.yaxis[Hn].reversed&&er.reverse(),er}},{key:"yAxisAllSeriesCollapsed",value:function(Hn){var er=this.w.globals;return!er.seriesYAxisMap[Hn].some((function(nr){return er.collapsedSeriesIndices.indexOf(nr)===-1}))}},{key:"translateYAxisIndex",value:function(Hn){var er=this.w,nr=er.globals,ir=er.config.yaxis;return nr.series.length>ir.length||ir.some((function(rr){return Array.isArray(rr.seriesName)}))?Hn:nr.seriesYAxisReverseMap[Hn]}},{key:"isYAxisHidden",value:function(Hn){var er=this.w,nr=er.config.yaxis[Hn];if(!nr.show||this.yAxisAllSeriesCollapsed(Hn))return!0;if(!nr.showForNullSeries){var ir=er.globals.seriesYAxisMap[Hn],rr=new Pi$1(this.ctx);return ir.every((function(sr){return rr.isSeriesNull(sr)}))}return!1}},{key:"getYAxisForeColor",value:function(Hn,er){var nr=this.w;return Array.isArray(Hn)&&nr.globals.yAxisScale[er]&&this.ctx.theme.pushExtraColors(Hn,nr.globals.yAxisScale[er].result.length,!1),Hn}},{key:"drawYAxisTicks",value:function(Hn,er,nr,ir,rr,sr,ar){var or=this.w,lr=new Mi$1(this.ctx),cr=or.globals.translateY+or.config.yaxis[rr].labels.offsetY;if(or.globals.isBarHorizontal?cr=0:or.config.chart.type==="heatmap"&&(cr+=sr/2),ir.show&&er>0){or.config.yaxis[rr].opposite===!0&&(Hn+=ir.width);for(var ur=er;ur>=0;ur--){var dr=lr.drawLine(Hn+nr.offsetX-ir.width+ir.offsetX,cr+ir.offsetY,Hn+nr.offsetX+ir.offsetX,cr+ir.offsetY,ir.color);ar.add(dr),cr+=sr}}}}]),tr})(),Ei$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn,this.helpers=new Ii$1(this.annoCtx),this.axesUtils=new Ri$1(this.annoCtx)}return s$1(tr,[{key:"addYaxisAnnotation",value:function(Hn,er,nr){var ir,rr=this.w,sr=Hn.strokeDashArray,ar=this.helpers.getY1Y2("y1",Hn),or=ar.yP,lr=ar.clipped,cr=!0,ur=!1,dr=Hn.label.text;if(Hn.y2===null||Hn.y2===void 0){if(!lr){ur=!0;var fr=this.annoCtx.graphics.drawLine(0+Hn.offsetX,or+Hn.offsetY,this._getYAxisAnnotationWidth(Hn),or+Hn.offsetY,Hn.borderColor,sr,Hn.borderWidth);er.appendChild(fr.node),Hn.id&&fr.node.classList.add(Hn.id)}}else{if(ir=(ar=this.helpers.getY1Y2("y2",Hn)).yP,cr=ar.clipped,ir>or){var xr=or;or=ir,ir=xr}if(!lr||!cr){ur=!0;var yr=this.annoCtx.graphics.drawRect(0+Hn.offsetX,ir+Hn.offsetY,this._getYAxisAnnotationWidth(Hn),or-ir,0,Hn.fillColor,Hn.opacity,1,Hn.borderColor,sr);yr.node.classList.add("apexcharts-annotation-rect"),yr.attr("clip-path","url(#gridRectMask".concat(rr.globals.cuid,")")),er.appendChild(yr.node),Hn.id&&yr.node.classList.add(Hn.id)}}if(ur){var _r=Hn.label.position==="right"?rr.globals.gridWidth:Hn.label.position==="center"?rr.globals.gridWidth/2:0,Sr=this.annoCtx.graphics.drawText({x:_r+Hn.label.offsetX,y:(ir??or)+Hn.label.offsetY-3,text:dr,textAnchor:Hn.label.textAnchor,fontSize:Hn.label.style.fontSize,fontFamily:Hn.label.style.fontFamily,fontWeight:Hn.label.style.fontWeight,foreColor:Hn.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(Hn.label.style.cssClass," ").concat(Hn.id?Hn.id:"")});Sr.attr({rel:nr}),er.appendChild(Sr.node)}}},{key:"_getYAxisAnnotationWidth",value:function(Hn){var er=this.w;return er.globals.gridWidth,(Hn.width.indexOf("%")>-1?er.globals.gridWidth*parseInt(Hn.width,10)/100:parseInt(Hn.width,10))+Hn.offsetX}},{key:"drawYAxisAnnotations",value:function(){var Hn=this,er=this.w,nr=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return er.config.annotations.yaxis.forEach((function(ir,rr){ir.yAxisIndex=Hn.axesUtils.translateYAxisIndex(ir.yAxisIndex),Hn.axesUtils.isYAxisHidden(ir.yAxisIndex)&&Hn.axesUtils.yAxisAllSeriesCollapsed(ir.yAxisIndex)||Hn.addYaxisAnnotation(ir,nr.node,rr)})),nr}}]),tr})(),Yi$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn,this.helpers=new Ii$1(this.annoCtx)}return s$1(tr,[{key:"addPointAnnotation",value:function(Hn,er,nr){if(!(this.w.globals.collapsedSeriesIndices.indexOf(Hn.seriesIndex)>-1)){var ir=this.helpers.getX1X2("x1",Hn),rr=ir.x,sr=ir.clipped,ar=(ir=this.helpers.getY1Y2("y1",Hn)).yP,or=ir.clipped;if(v$1.isNumber(rr)&&!or&&!sr){var lr={pSize:Hn.marker.size,pointStrokeWidth:Hn.marker.strokeWidth,pointFillColor:Hn.marker.fillColor,pointStrokeColor:Hn.marker.strokeColor,shape:Hn.marker.shape,pRadius:Hn.marker.radius,class:"apexcharts-point-annotation-marker ".concat(Hn.marker.cssClass," ").concat(Hn.id?Hn.id:"")},cr=this.annoCtx.graphics.drawMarker(rr+Hn.marker.offsetX,ar+Hn.marker.offsetY,lr);er.appendChild(cr.node);var ur=Hn.label.text?Hn.label.text:"",dr=this.annoCtx.graphics.drawText({x:rr+Hn.label.offsetX,y:ar+Hn.label.offsetY-Hn.marker.size-parseFloat(Hn.label.style.fontSize)/1.6,text:ur,textAnchor:Hn.label.textAnchor,fontSize:Hn.label.style.fontSize,fontFamily:Hn.label.style.fontFamily,fontWeight:Hn.label.style.fontWeight,foreColor:Hn.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(Hn.label.style.cssClass," ").concat(Hn.id?Hn.id:"")});if(dr.attr({rel:nr}),er.appendChild(dr.node),Hn.customSVG.SVG){var fr=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+Hn.customSVG.cssClass});fr.attr({transform:"translate(".concat(rr+Hn.customSVG.offsetX,", ").concat(ar+Hn.customSVG.offsetY,")")}),fr.node.innerHTML=Hn.customSVG.SVG,er.appendChild(fr.node)}if(Hn.image.path){var xr=Hn.image.width?Hn.image.width:20,yr=Hn.image.height?Hn.image.height:20;cr=this.annoCtx.addImage({x:rr+Hn.image.offsetX-xr/2,y:ar+Hn.image.offsetY-yr/2,width:xr,height:yr,path:Hn.image.path,appendTo:".apexcharts-point-annotations"})}Hn.mouseEnter&&cr.node.addEventListener("mouseenter",Hn.mouseEnter.bind(this,Hn)),Hn.mouseLeave&&cr.node.addEventListener("mouseleave",Hn.mouseLeave.bind(this,Hn)),Hn.click&&cr.node.addEventListener("click",Hn.click.bind(this,Hn))}}}},{key:"drawPointAnnotations",value:function(){var Hn=this,er=this.w,nr=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return er.config.annotations.points.map((function(ir,rr){Hn.addPointAnnotation(ir,nr.node,rr)})),nr}}]),tr})(),Hi$1={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Oi$1=(function(){function tr(){i$1(this,tr),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return s$1(tr,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Hi$1],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(Hn){return Hn}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(Hn){return Hn+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(Hn){return Hn.globals.seriesTotals.reduce((function(er,nr){return er+nr}),0)/Hn.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(Hn){return Hn},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(Hn){return Hn}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(Hn){return Hn}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(Hn){return Hn.globals.seriesTotals.reduce((function(er,nr){return er+nr}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(Hn){return Hn!==null?Hn:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(Hn){return Hn?Hn+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),tr})(),Fi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.graphics=new Mi$1(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ii$1(this),this.xAxisAnnotations=new Ti$1(this),this.yAxisAnnotations=new Ei$1(this),this.pointsAnnotations=new Yi$1(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s$1(tr,[{key:"drawAxesAnnotations",value:function(){var Hn=this.w;if(Hn.globals.axisCharts&&Hn.globals.dataPoints){for(var er=this.yAxisAnnotations.drawYAxisAnnotations(),nr=this.xAxisAnnotations.drawXAxisAnnotations(),ir=this.pointsAnnotations.drawPointAnnotations(),rr=Hn.config.chart.animations.enabled,sr=[er,nr,ir],ar=[nr.node,er.node,ir.node],or=0;or<3;or++)Hn.globals.dom.elGraphical.add(sr[or]),!rr||Hn.globals.resized||Hn.globals.dataChanged||Hn.config.chart.type!=="scatter"&&Hn.config.chart.type!=="bubble"&&Hn.globals.dataPoints>1&&ar[or].classList.add("apexcharts-element-hidden"),Hn.globals.delayedElements.push({el:ar[or],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var Hn=this;this.w.config.annotations.images.map((function(er,nr){Hn.addImage(er,nr)}))}},{key:"drawTextAnnos",value:function(){var Hn=this;this.w.config.annotations.texts.map((function(er,nr){Hn.addText(er,nr)}))}},{key:"addXaxisAnnotation",value:function(Hn,er,nr){this.xAxisAnnotations.addXaxisAnnotation(Hn,er,nr)}},{key:"addYaxisAnnotation",value:function(Hn,er,nr){this.yAxisAnnotations.addYaxisAnnotation(Hn,er,nr)}},{key:"addPointAnnotation",value:function(Hn,er,nr){this.pointsAnnotations.addPointAnnotation(Hn,er,nr)}},{key:"addText",value:function(Hn,er){var nr=Hn.x,ir=Hn.y,rr=Hn.text,sr=Hn.textAnchor,ar=Hn.foreColor,or=Hn.fontSize,lr=Hn.fontFamily,cr=Hn.fontWeight,ur=Hn.cssClass,dr=Hn.backgroundColor,fr=Hn.borderWidth,xr=Hn.strokeDashArray,yr=Hn.borderRadius,_r=Hn.borderColor,Sr=Hn.appendTo,jr=Sr===void 0?".apexcharts-svg":Sr,Dr=Hn.paddingLeft,Ir=Dr===void 0?4:Dr,Mr=Hn.paddingRight,Or=Mr===void 0?4:Mr,Lr=Hn.paddingBottom,Fr=Lr===void 0?2:Lr,Vr=Hn.paddingTop,Zr=Vr===void 0?2:Vr,Hr=this.w,Yr=this.graphics.drawText({x:nr,y:ir,text:rr,textAnchor:sr||"start",fontSize:or||"12px",fontWeight:cr||"regular",fontFamily:lr||Hr.config.chart.fontFamily,foreColor:ar||Hr.config.chart.foreColor,cssClass:ur}),eo=Hr.globals.dom.baseEl.querySelector(jr);eo&&eo.appendChild(Yr.node);var io=Yr.bbox();if(rr){var uo=this.graphics.drawRect(io.x-Ir,io.y-Zr,io.width+Ir+Or,io.height+Fr+Zr,yr,dr||"transparent",1,fr,_r,xr);eo.insertBefore(uo.node,Yr.node)}}},{key:"addImage",value:function(Hn,er){var nr=this.w,ir=Hn.path,rr=Hn.x,sr=rr===void 0?0:rr,ar=Hn.y,or=ar===void 0?0:ar,lr=Hn.width,cr=lr===void 0?20:lr,ur=Hn.height,dr=ur===void 0?20:ur,fr=Hn.appendTo,xr=fr===void 0?".apexcharts-svg":fr,yr=nr.globals.dom.Paper.image(ir);yr.size(cr,dr).move(sr,or);var _r=nr.globals.dom.baseEl.querySelector(xr);return _r&&_r.appendChild(yr.node),yr}},{key:"addXaxisAnnotationExternal",value:function(Hn,er,nr){return this.addAnnotationExternal({params:Hn,pushToMemory:er,context:nr,type:"xaxis",contextMethod:nr.addXaxisAnnotation}),nr}},{key:"addYaxisAnnotationExternal",value:function(Hn,er,nr){return this.addAnnotationExternal({params:Hn,pushToMemory:er,context:nr,type:"yaxis",contextMethod:nr.addYaxisAnnotation}),nr}},{key:"addPointAnnotationExternal",value:function(Hn,er,nr){return this.invertAxis===void 0&&(this.invertAxis=nr.w.globals.isBarHorizontal),this.addAnnotationExternal({params:Hn,pushToMemory:er,context:nr,type:"point",contextMethod:nr.addPointAnnotation}),nr}},{key:"addAnnotationExternal",value:function(Hn){var er=Hn.params,nr=Hn.pushToMemory,ir=Hn.context,rr=Hn.type,sr=Hn.contextMethod,ar=ir,or=ar.w,lr=or.globals.dom.baseEl.querySelector(".apexcharts-".concat(rr,"-annotations")),cr=lr.childNodes.length+1,ur=new Oi$1,dr=Object.assign({},rr==="xaxis"?ur.xAxisAnnotation:rr==="yaxis"?ur.yAxisAnnotation:ur.pointAnnotation),fr=v$1.extend(dr,er);switch(rr){case"xaxis":this.addXaxisAnnotation(fr,lr,cr);break;case"yaxis":this.addYaxisAnnotation(fr,lr,cr);break;case"point":this.addPointAnnotation(fr,lr,cr)}var xr=or.globals.dom.baseEl.querySelector(".apexcharts-".concat(rr,"-annotations .apexcharts-").concat(rr,"-annotation-label[rel='").concat(cr,"']")),yr=this.helpers.addBackgroundToAnno(xr,fr);return yr&&lr.insertBefore(yr.node,xr),nr&&or.globals.memory.methodsToExec.push({context:ar,id:fr.id?fr.id:v$1.randomId(),method:sr,label:"addAnnotation",params:er}),ir}},{key:"clearAnnotations",value:function(Hn){for(var er=Hn.w,nr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),ir=er.globals.memory.methodsToExec.length-1;ir>=0;ir--)er.globals.memory.methodsToExec[ir].label!=="addText"&&er.globals.memory.methodsToExec[ir].label!=="addAnnotation"||er.globals.memory.methodsToExec.splice(ir,1);nr=v$1.listToArray(nr),Array.prototype.forEach.call(nr,(function(rr){for(;rr.firstChild;)rr.removeChild(rr.firstChild)}))}},{key:"removeAnnotation",value:function(Hn,er){var nr=Hn.w,ir=nr.globals.dom.baseEl.querySelectorAll(".".concat(er));ir&&(nr.globals.memory.methodsToExec.map((function(rr,sr){rr.id===er&&nr.globals.memory.methodsToExec.splice(sr,1)})),Object.keys(nr.config.annotations).forEach((function(rr){var sr=nr.config.annotations[rr];Array.isArray(sr)&&(nr.config.annotations[rr]=sr.filter((function(ar){return ar.id!==er})))})),Array.prototype.forEach.call(ir,(function(rr){rr.parentElement.removeChild(rr)})))}}]),tr})(),Di$1=function(tr){var Hn,er=tr.isTimeline,nr=tr.ctx,ir=tr.seriesIndex,rr=tr.dataPointIndex,sr=tr.y1,ar=tr.y2,or=tr.w,lr=or.globals.seriesRangeStart[ir][rr],cr=or.globals.seriesRangeEnd[ir][rr],ur=or.globals.labels[rr],dr=or.config.series[ir].name?or.config.series[ir].name:"",fr=or.globals.ttKeyFormatter,xr=or.config.tooltip.y.title.formatter,yr={w:or,seriesIndex:ir,dataPointIndex:rr,start:lr,end:cr};typeof xr=="function"&&(dr=xr(dr,yr)),(Hn=or.config.series[ir].data[rr])!==null&&Hn!==void 0&&Hn.x&&(ur=or.config.series[ir].data[rr].x),er||or.config.xaxis.type==="datetime"&&(ur=new Xi$1(nr).xLabelFormat(or.globals.ttKeyFormatter,ur,ur,{i:void 0,dateFormatter:new zi$1(nr).formatDate,w:or})),typeof fr=="function"&&(ur=fr(ur,yr)),Number.isFinite(sr)&&Number.isFinite(ar)&&(lr=sr,cr=ar);var _r="",Sr="",jr=or.globals.colors[ir];if(or.config.tooltip.x.formatter===void 0)if(or.config.xaxis.type==="datetime"){var Dr=new zi$1(nr);_r=Dr.formatDate(Dr.getDate(lr),or.config.tooltip.x.format),Sr=Dr.formatDate(Dr.getDate(cr),or.config.tooltip.x.format)}else _r=lr,Sr=cr;else _r=or.config.tooltip.x.formatter(lr),Sr=or.config.tooltip.x.formatter(cr);return{start:lr,end:cr,startVal:_r,endVal:Sr,ylabel:ur,color:jr,seriesName:dr}},_i$1=function(tr){var Hn=tr.color,er=tr.seriesName,nr=tr.ylabel,ir=tr.start,rr=tr.end,sr=tr.seriesIndex,ar=tr.dataPointIndex,or=tr.ctx.tooltip.tooltipLabels.getFormatters(sr);ir=or.yLbFormatter(ir),rr=or.yLbFormatter(rr);var lr=or.yLbFormatter(tr.w.globals.series[sr][ar]),cr=`<span class="value start-value">
  `.concat(ir,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(rr,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+Hn+'">'+(er||"")+'</span></div><div> <span class="category">'+nr+": </span> "+(tr.w.globals.comboCharts?tr.w.config.series[sr].type==="rangeArea"||tr.w.config.series[sr].type==="rangeBar"?cr:"<span>".concat(lr,"</span>"):cr)+" </div></div>"},Ni$1=(function(){function tr(Hn){i$1(this,tr),this.opts=Hn}return s$1(tr,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(Hn){return this.hideYAxis(),v$1.extend(Hn,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(Hn,er){var nr=er.w.config.series[er.seriesIndex].name;return Hn!==null?nr+": "+Hn:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),u$2(u$2({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var Hn=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(er){var nr=er.seriesIndex,ir=er.dataPointIndex,rr=er.w;return Hn._getBoxTooltip(rr,nr,ir,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var Hn=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(er){var nr=er.seriesIndex,ir=er.dataPointIndex,rr=er.w;return Hn._getBoxTooltip(rr,nr,ir,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(Hn,er){er.ctx;var nr=er.seriesIndex,ir=er.dataPointIndex,rr=er.w,sr=function(){var ar=rr.globals.seriesRangeStart[nr][ir];return rr.globals.seriesRangeEnd[nr][ir]-ar};return rr.globals.comboCharts?rr.config.series[nr].type==="rangeBar"||rr.config.series[nr].type==="rangeArea"?sr():Hn:sr()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(Hn){return Hn.w.config.plotOptions&&Hn.w.config.plotOptions.bar&&Hn.w.config.plotOptions.bar.horizontal?(function(er){var nr=Di$1(u$2(u$2({},er),{},{isTimeline:!0})),ir=nr.color,rr=nr.seriesName,sr=nr.ylabel,ar=nr.startVal,or=nr.endVal;return _i$1(u$2(u$2({},er),{},{color:ir,seriesName:rr,ylabel:sr,start:ar,end:or}))})(Hn):(function(er){var nr=Di$1(er),ir=nr.color,rr=nr.seriesName,sr=nr.ylabel,ar=nr.start,or=nr.end;return _i$1(u$2(u$2({},er),{},{color:ir,seriesName:rr,ylabel:sr,start:ar,end:or}))})(Hn)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(Hn){var er,nr;return(er=Hn.plotOptions.bar)!==null&&er!==void 0&&er.barHeight||(Hn.plotOptions.bar.barHeight=2),(nr=Hn.plotOptions.bar)!==null&&nr!==void 0&&nr.columnWidth||(Hn.plotOptions.bar.columnWidth=2),Hn}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(Hn){return(function(er){var nr=Di$1(er),ir=nr.color,rr=nr.seriesName,sr=nr.ylabel,ar=nr.start,or=nr.end;return _i$1(u$2(u$2({},er),{},{color:ir,seriesName:rr,ylabel:sr,start:ar,end:or}))})(Hn)}}}}},{key:"brush",value:function(Hn){return v$1.extend(Hn,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(Hn){Hn.dataLabels=Hn.dataLabels||{},Hn.dataLabels.formatter=Hn.dataLabels.formatter||void 0;var er=Hn.dataLabels.formatter;return Hn.yaxis.forEach((function(nr,ir){Hn.yaxis[ir].min=0,Hn.yaxis[ir].max=100})),Hn.chart.type==="bar"&&(Hn.dataLabels.formatter=er||function(nr){return typeof nr=="number"&&nr?nr.toFixed(0)+"%":nr}),Hn}},{key:"stackedBars",value:function(){var Hn=this.bar();return u$2(u$2({},Hn),{},{plotOptions:u$2(u$2({},Hn.plotOptions),{},{bar:u$2(u$2({},Hn.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(Hn){return Hn.xaxis.convertedCatToNumeric=!0,Hn}},{key:"convertCatToNumericXaxis",value:function(Hn,er,nr){Hn.xaxis.type="numeric",Hn.xaxis.labels=Hn.xaxis.labels||{},Hn.xaxis.labels.formatter=Hn.xaxis.labels.formatter||function(sr){return v$1.isNumber(sr)?Math.floor(sr):sr};var ir=Hn.xaxis.labels.formatter,rr=Hn.xaxis.categories&&Hn.xaxis.categories.length?Hn.xaxis.categories:Hn.labels;return nr&&nr.length&&(rr=nr.map((function(sr){return Array.isArray(sr)?sr:String(sr)}))),rr&&rr.length&&(Hn.xaxis.labels.formatter=function(sr){return v$1.isNumber(sr)?ir(rr[Math.floor(sr)-1]):ir(sr)}),Hn.xaxis.categories=[],Hn.labels=[],Hn.xaxis.tickAmount=Hn.xaxis.tickAmount||"dataPoints",Hn}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(Hn){return Hn.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(Hn){return Hn.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(Hn){return Hn.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(Hn){return Hn},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(Hn,er,nr,ir,rr){var sr=Hn.globals.seriesCandleO[er][nr],ar=Hn.globals.seriesCandleH[er][nr],or=Hn.globals.seriesCandleM[er][nr],lr=Hn.globals.seriesCandleL[er][nr],cr=Hn.globals.seriesCandleC[er][nr];return Hn.config.series[er].type&&Hn.config.series[er].type!==rr?`<div class="apexcharts-custom-tooltip">
          `.concat(Hn.config.series[er].name?Hn.config.series[er].name:"series-"+(er+1),": <strong>").concat(Hn.globals.series[er][nr],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(Hn.config.chart.type,'">')+"<div>".concat(ir[0],': <span class="value">')+sr+"</span></div>"+"<div>".concat(ir[1],': <span class="value">')+ar+"</span></div>"+(or?"<div>".concat(ir[2],': <span class="value">')+or+"</span></div>":"")+"<div>".concat(ir[3],': <span class="value">')+lr+"</span></div>"+"<div>".concat(ir[4],': <span class="value">')+cr+"</span></div></div>"}}]),tr})(),Wi$1=(function(){function tr(Hn){i$1(this,tr),this.opts=Hn}return s$1(tr,[{key:"init",value:function(Hn){var er=Hn.responsiveOverride,nr=this.opts,ir=new Oi$1,rr=new Ni$1(nr);this.chartType=nr.chart.type,nr=this.extendYAxis(nr),nr=this.extendAnnotations(nr);var sr=ir.init(),ar={};if(nr&&b$3(nr)==="object"){var or,lr,cr,ur,dr,fr,xr,yr,_r,Sr,jr={};jr=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(nr.chart.type)!==-1?rr[nr.chart.type]():rr.line(),(or=nr.plotOptions)!==null&&or!==void 0&&(lr=or.bar)!==null&&lr!==void 0&&lr.isFunnel&&(jr=rr.funnel()),nr.chart.stacked&&nr.chart.type==="bar"&&(jr=rr.stackedBars()),(cr=nr.chart.brush)!==null&&cr!==void 0&&cr.enabled&&(jr=rr.brush(jr)),(ur=nr.plotOptions)!==null&&ur!==void 0&&(dr=ur.line)!==null&&dr!==void 0&&dr.isSlopeChart&&(jr=rr.slope()),nr.chart.stacked&&nr.chart.stackType==="100%"&&(nr=rr.stacked100(nr)),(fr=nr.plotOptions)!==null&&fr!==void 0&&(xr=fr.bar)!==null&&xr!==void 0&&xr.isDumbbell&&(nr=rr.dumbbell(nr)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(nr),nr.xaxis=nr.xaxis||window.Apex.xaxis||{},er||(nr.xaxis.convertedCatToNumeric=!1),((yr=(nr=this.checkForCatToNumericXAxis(this.chartType,jr,nr)).chart.sparkline)!==null&&yr!==void 0&&yr.enabled||(_r=window.Apex.chart)!==null&&_r!==void 0&&(Sr=_r.sparkline)!==null&&Sr!==void 0&&Sr.enabled)&&(jr=rr.sparkline(jr)),ar=v$1.extend(sr,jr)}var Dr=v$1.extend(ar,window.Apex);return sr=v$1.extend(Dr,nr),sr=this.handleUserInputErrors(sr)}},{key:"checkForCatToNumericXAxis",value:function(Hn,er,nr){var ir,rr,sr=new Ni$1(nr),ar=(Hn==="bar"||Hn==="boxPlot")&&((ir=nr.plotOptions)===null||ir===void 0||(rr=ir.bar)===null||rr===void 0?void 0:rr.horizontal),or=Hn==="pie"||Hn==="polarArea"||Hn==="donut"||Hn==="radar"||Hn==="radialBar"||Hn==="heatmap",lr=nr.xaxis.type!=="datetime"&&nr.xaxis.type!=="numeric",cr=nr.xaxis.tickPlacement?nr.xaxis.tickPlacement:er.xaxis&&er.xaxis.tickPlacement;return ar||or||!lr||cr==="between"||(nr=sr.convertCatToNumeric(nr)),nr}},{key:"extendYAxis",value:function(Hn,er){var nr=new Oi$1;(Hn.yaxis===void 0||!Hn.yaxis||Array.isArray(Hn.yaxis)&&Hn.yaxis.length===0)&&(Hn.yaxis={}),Hn.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(Hn.yaxis=v$1.extend(Hn.yaxis,window.Apex.yaxis)),Hn.yaxis.constructor!==Array?Hn.yaxis=[v$1.extend(nr.yAxis,Hn.yaxis)]:Hn.yaxis=v$1.extendArray(Hn.yaxis,nr.yAxis);var ir=!1;Hn.yaxis.forEach((function(sr){sr.logarithmic&&(ir=!0)}));var rr=Hn.series;return er&&!rr&&(rr=er.config.series),ir&&rr.length!==Hn.yaxis.length&&rr.length&&(Hn.yaxis=rr.map((function(sr,ar){if(sr.name||(rr[ar].name="series-".concat(ar+1)),Hn.yaxis[ar])return Hn.yaxis[ar].seriesName=rr[ar].name,Hn.yaxis[ar];var or=v$1.extend(nr.yAxis,Hn.yaxis[0]);return or.show=!1,or}))),ir&&rr.length>1&&rr.length!==Hn.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),Hn}},{key:"extendAnnotations",value:function(Hn){return Hn.annotations===void 0&&(Hn.annotations={},Hn.annotations.yaxis=[],Hn.annotations.xaxis=[],Hn.annotations.points=[]),Hn=this.extendYAxisAnnotations(Hn),Hn=this.extendXAxisAnnotations(Hn),Hn=this.extendPointAnnotations(Hn)}},{key:"extendYAxisAnnotations",value:function(Hn){var er=new Oi$1;return Hn.annotations.yaxis=v$1.extendArray(Hn.annotations.yaxis!==void 0?Hn.annotations.yaxis:[],er.yAxisAnnotation),Hn}},{key:"extendXAxisAnnotations",value:function(Hn){var er=new Oi$1;return Hn.annotations.xaxis=v$1.extendArray(Hn.annotations.xaxis!==void 0?Hn.annotations.xaxis:[],er.xAxisAnnotation),Hn}},{key:"extendPointAnnotations",value:function(Hn){var er=new Oi$1;return Hn.annotations.points=v$1.extendArray(Hn.annotations.points!==void 0?Hn.annotations.points:[],er.pointAnnotation),Hn}},{key:"checkForDarkTheme",value:function(Hn){Hn.theme&&Hn.theme.mode==="dark"&&(Hn.tooltip||(Hn.tooltip={}),Hn.tooltip.theme!=="light"&&(Hn.tooltip.theme="dark"),Hn.chart.foreColor||(Hn.chart.foreColor="#f6f7f8"),Hn.theme.palette||(Hn.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(Hn){var er=Hn;if(er.tooltip.shared&&er.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(er.chart.type==="bar"&&er.plotOptions.bar.horizontal){if(er.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");er.yaxis[0].reversed&&(er.yaxis[0].opposite=!0),er.xaxis.tooltip.enabled=!1,er.yaxis[0].tooltip.enabled=!1,er.chart.zoom.enabled=!1}return er.chart.type!=="bar"&&er.chart.type!=="rangeBar"||er.tooltip.shared&&er.xaxis.crosshairs.width==="barWidth"&&er.series.length>1&&(er.xaxis.crosshairs.width="tickWidth"),er.chart.type!=="candlestick"&&er.chart.type!=="boxPlot"||er.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(er.chart.type," chart is not supported.")),er.yaxis[0].reversed=!1),er}}]),tr})(),Bi$1=(function(){function tr(){i$1(this,tr)}return s$1(tr,[{key:"initGlobalVars",value:function(Hn){Hn.series=[],Hn.seriesCandleO=[],Hn.seriesCandleH=[],Hn.seriesCandleM=[],Hn.seriesCandleL=[],Hn.seriesCandleC=[],Hn.seriesRangeStart=[],Hn.seriesRangeEnd=[],Hn.seriesRange=[],Hn.seriesPercent=[],Hn.seriesGoals=[],Hn.seriesX=[],Hn.seriesZ=[],Hn.seriesNames=[],Hn.seriesTotals=[],Hn.seriesLog=[],Hn.seriesColors=[],Hn.stackedSeriesTotals=[],Hn.seriesXvalues=[],Hn.seriesYvalues=[],Hn.dataWasParsed=!1,Hn.originalSeries=null,Hn.labels=[],Hn.hasXaxisGroups=!1,Hn.groups=[],Hn.barGroups=[],Hn.lineGroups=[],Hn.areaGroups=[],Hn.hasSeriesGroups=!1,Hn.seriesGroups=[],Hn.categoryLabels=[],Hn.timescaleLabels=[],Hn.noLabelsProvided=!1,Hn.resizeTimer=null,Hn.selectionResizeTimer=null,Hn.lastWheelExecution=0,Hn.delayedElements=[],Hn.pointsArray=[],Hn.dataLabelsRects=[],Hn.isXNumeric=!1,Hn.skipLastTimelinelabel=!1,Hn.skipFirstTimelinelabel=!1,Hn.isDataXYZ=!1,Hn.isMultiLineX=!1,Hn.isMultipleYAxis=!1,Hn.maxY=-Number.MAX_VALUE,Hn.minY=Number.MIN_VALUE,Hn.minYArr=[],Hn.maxYArr=[],Hn.maxX=-Number.MAX_VALUE,Hn.minX=Number.MAX_VALUE,Hn.initialMaxX=-Number.MAX_VALUE,Hn.initialMinX=Number.MAX_VALUE,Hn.maxDate=0,Hn.minDate=Number.MAX_VALUE,Hn.minZ=Number.MAX_VALUE,Hn.maxZ=-Number.MAX_VALUE,Hn.minXDiff=Number.MAX_VALUE,Hn.yAxisScale=[],Hn.xAxisScale=null,Hn.xAxisTicksPositions=[],Hn.yLabelsCoords=[],Hn.yTitleCoords=[],Hn.barPadForNumericAxis=0,Hn.padHorizontal=0,Hn.xRange=0,Hn.yRange=[],Hn.zRange=0,Hn.dataPoints=0,Hn.xTickAmount=0,Hn.multiAxisTickAmount=0}},{key:"globalVars",value:function(Hn){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:Hn.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:Hn.chart.toolbar.autoSelected==="zoom"&&Hn.chart.toolbar.tools.zoom&&Hn.chart.zoom.enabled,panEnabled:Hn.chart.toolbar.autoSelected==="pan"&&Hn.chart.toolbar.tools.pan,selectionEnabled:Hn.chart.toolbar.autoSelected==="selection"&&Hn.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:Hn.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(Hn){var er=this.globalVars(Hn);return this.initGlobalVars(er),er.initialConfig=v$1.extend({},Hn),er.initialSeries=v$1.clone(Hn.series),er.lastXAxis=v$1.clone(er.initialConfig.xaxis),er.lastYAxis=v$1.clone(er.initialConfig.yaxis),er}}]),tr})(),Gi$1=(function(){function tr(Hn){i$1(this,tr),this.opts=Hn}return s$1(tr,[{key:"init",value:function(){var Hn=new Wi$1(this.opts).init({responsiveOverride:!1});return{config:Hn,globals:new Bi$1().init(Hn)}}}]),tr})(),ji$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return s$1(tr,[{key:"clippedImgArea",value:function(Hn){var er=this.w,nr=er.config,ir=parseInt(er.globals.gridWidth,10),rr=parseInt(er.globals.gridHeight,10),sr=ir>rr?ir:rr,ar=Hn.image,or=0,lr=0;Hn.width===void 0&&Hn.height===void 0?nr.fill.image.width!==void 0&&nr.fill.image.height!==void 0?(or=nr.fill.image.width+1,lr=nr.fill.image.height):(or=sr+1,lr=sr):(or=Hn.width,lr=Hn.height);var cr=document.createElementNS(er.globals.SVGNS,"pattern");Mi$1.setAttrs(cr,{id:Hn.patternID,patternUnits:Hn.patternUnits?Hn.patternUnits:"userSpaceOnUse",width:or+"px",height:lr+"px"});var ur=document.createElementNS(er.globals.SVGNS,"image");cr.appendChild(ur),ur.setAttributeNS(window.SVG.xlink,"href",ar),Mi$1.setAttrs(ur,{x:0,y:0,preserveAspectRatio:"none",width:or+"px",height:lr+"px"}),ur.style.opacity=Hn.opacity,er.globals.dom.elDefs.node.appendChild(cr)}},{key:"getSeriesIndex",value:function(Hn){var er=this.w,nr=er.config.chart.type;return(nr==="bar"||nr==="rangeBar")&&er.config.plotOptions.bar.distributed||nr==="heatmap"||nr==="treemap"?this.seriesIndex=Hn.seriesNumber:this.seriesIndex=Hn.seriesNumber%er.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(Hn,er){var nr,ir=this.w,rr=null,sr=null,ar=r$1(Hn);try{for(ar.s();!(nr=ar.n()).done;){var or=nr.value;or>=er.threshold?(rr===null||or>rr)&&(rr=or):(sr===null||or<sr)&&(sr=or)}}catch(ur){ar.e(ur)}finally{ar.f()}rr===null&&(rr=er.threshold),sr===null&&(sr=er.threshold);var lr=rr-er.threshold+(er.threshold-sr);lr===0&&(lr=1);var cr=100-(er.threshold-sr)/lr*100;return[{offset:cr=Math.max(0,Math.min(cr,100)),color:er.colorAboveThreshold,opacity:ir.config.fill.opacity},{offset:0,color:er.colorBelowThreshold,opacity:ir.config.fill.opacity}]}},{key:"fillPath",value:function(Hn){var er,nr,ir,rr=this.w;this.opts=Hn;var sr,ar,or,lr=this.w.config;this.seriesIndex=this.getSeriesIndex(Hn);var cr=lr.plotOptions.line.colors.colorAboveThreshold&&lr.plotOptions.line.colors.colorBelowThreshold,ur=this.getFillColors()[this.seriesIndex];rr.globals.seriesColors[this.seriesIndex]!==void 0&&(ur=rr.globals.seriesColors[this.seriesIndex]),typeof ur=="function"&&(ur=ur({seriesIndex:this.seriesIndex,dataPointIndex:Hn.dataPointIndex,value:Hn.value,w:rr}));var dr,fr,xr,yr=Hn.fillType?Hn.fillType:this.getFillType(this.seriesIndex),_r=Array.isArray(lr.fill.opacity)?lr.fill.opacity[this.seriesIndex]:lr.fill.opacity,Sr=yr==="gradient"||cr;Hn.color&&(ur=Hn.color),(er=rr.config.series[this.seriesIndex])!==null&&er!==void 0&&(nr=er.data)!==null&&nr!==void 0&&(ir=nr[Hn.dataPointIndex])!==null&&ir!==void 0&&ir.fillColor&&(ur=(dr=rr.config.series[this.seriesIndex])===null||dr===void 0||(fr=dr.data)===null||fr===void 0||(xr=fr[Hn.dataPointIndex])===null||xr===void 0?void 0:xr.fillColor),ur||(ur="#fff",console.warn("undefined color - ApexCharts"));var jr=ur;if(ur.indexOf("rgb")===-1?ur.indexOf("#")===-1?jr=ur:ur.length<9&&(jr=v$1.hexToRgba(ur,_r)):ur.indexOf("rgba")>-1?_r=v$1.getOpacityFromRGBA(ur):jr=v$1.hexToRgba(v$1.rgb2hex(ur),_r),Hn.opacity&&(_r=Hn.opacity),yr==="pattern"&&(ar=this.handlePatternFill({fillConfig:Hn.fillConfig,patternFill:ar,fillColor:ur,fillOpacity:_r,defaultColor:jr})),Sr){var Dr=f$2(lr.fill.gradient.colorStops)||[],Ir=lr.fill.gradient.type;cr&&(Dr[this.seriesIndex]=this.computeColorStops(rr.globals.series[this.seriesIndex],lr.plotOptions.line.colors),Ir="vertical"),or=this.handleGradientFill({type:Ir,fillConfig:Hn.fillConfig,fillColor:ur,fillOpacity:_r,colorStops:Dr,i:this.seriesIndex})}if(yr==="image"){var Mr=lr.fill.image.src,Or=Hn.patternID?Hn.patternID:"",Lr="pattern".concat(rr.globals.cuid).concat(Hn.seriesNumber+1).concat(Or);this.patternIDs.indexOf(Lr)===-1&&(this.clippedImgArea({opacity:_r,image:Array.isArray(Mr)?Hn.seriesNumber<Mr.length?Mr[Hn.seriesNumber]:Mr[0]:Mr,width:Hn.width?Hn.width:void 0,height:Hn.height?Hn.height:void 0,patternUnits:Hn.patternUnits,patternID:Lr}),this.patternIDs.push(Lr)),sr="url(#".concat(Lr,")")}else sr=Sr?or:yr==="pattern"?ar:jr;return Hn.solid&&(sr=jr),sr}},{key:"getFillType",value:function(Hn){var er=this.w;return Array.isArray(er.config.fill.type)?er.config.fill.type[Hn]:er.config.fill.type}},{key:"getFillColors",value:function(){var Hn=this.w,er=Hn.config,nr=this.opts,ir=[];return Hn.globals.comboCharts?Hn.config.series[this.seriesIndex].type==="line"?Array.isArray(Hn.globals.stroke.colors)?ir=Hn.globals.stroke.colors:ir.push(Hn.globals.stroke.colors):Array.isArray(Hn.globals.fill.colors)?ir=Hn.globals.fill.colors:ir.push(Hn.globals.fill.colors):er.chart.type==="line"?Array.isArray(Hn.globals.stroke.colors)?ir=Hn.globals.stroke.colors:ir.push(Hn.globals.stroke.colors):Array.isArray(Hn.globals.fill.colors)?ir=Hn.globals.fill.colors:ir.push(Hn.globals.fill.colors),nr.fillColors!==void 0&&(ir=[],Array.isArray(nr.fillColors)?ir=nr.fillColors.slice():ir.push(nr.fillColors)),ir}},{key:"handlePatternFill",value:function(Hn){var er=Hn.fillConfig,nr=Hn.patternFill,ir=Hn.fillColor,rr=Hn.fillOpacity,sr=Hn.defaultColor,ar=this.w.config.fill;er&&(ar=er);var or=this.opts,lr=new Mi$1(this.ctx),cr=Array.isArray(ar.pattern.strokeWidth)?ar.pattern.strokeWidth[this.seriesIndex]:ar.pattern.strokeWidth,ur=ir;return Array.isArray(ar.pattern.style)?nr=ar.pattern.style[or.seriesNumber]!==void 0?lr.drawPattern(ar.pattern.style[or.seriesNumber],ar.pattern.width,ar.pattern.height,ur,cr,rr):sr:nr=lr.drawPattern(ar.pattern.style,ar.pattern.width,ar.pattern.height,ur,cr,rr),nr}},{key:"handleGradientFill",value:function(Hn){var er=Hn.type,nr=Hn.fillColor,ir=Hn.fillOpacity,rr=Hn.fillConfig,sr=Hn.colorStops,ar=Hn.i,or=this.w.config.fill;rr&&(or=u$2(u$2({},or),rr));var lr=this.opts,cr=new Mi$1(this.ctx),ur=new v$1;er=er||or.gradient.type;var dr,fr=nr,xr=or.gradient.opacityFrom===void 0?ir:Array.isArray(or.gradient.opacityFrom)?or.gradient.opacityFrom[ar]:or.gradient.opacityFrom;fr.indexOf("rgba")>-1&&(xr=v$1.getOpacityFromRGBA(fr));var yr=or.gradient.opacityTo===void 0?ir:Array.isArray(or.gradient.opacityTo)?or.gradient.opacityTo[ar]:or.gradient.opacityTo;if(or.gradient.gradientToColors===void 0||or.gradient.gradientToColors.length===0)dr=or.gradient.shade==="dark"?ur.shadeColor(-1*parseFloat(or.gradient.shadeIntensity),nr.indexOf("rgb")>-1?v$1.rgb2hex(nr):nr):ur.shadeColor(parseFloat(or.gradient.shadeIntensity),nr.indexOf("rgb")>-1?v$1.rgb2hex(nr):nr);else if(or.gradient.gradientToColors[lr.seriesNumber]){var _r=or.gradient.gradientToColors[lr.seriesNumber];dr=_r,_r.indexOf("rgba")>-1&&(yr=v$1.getOpacityFromRGBA(_r))}else dr=nr;if(or.gradient.gradientFrom&&(fr=or.gradient.gradientFrom),or.gradient.gradientTo&&(dr=or.gradient.gradientTo),or.gradient.inverseColors){var Sr=fr;fr=dr,dr=Sr}return fr.indexOf("rgb")>-1&&(fr=v$1.rgb2hex(fr)),dr.indexOf("rgb")>-1&&(dr=v$1.rgb2hex(dr)),cr.drawGradient(er,fr,dr,xr,yr,lr.size,or.gradient.stops,sr,ar)}}]),tr})(),Vi$1=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"setGlobalMarkerSize",value:function(){var Hn=this.w;if(Hn.globals.markers.size=Array.isArray(Hn.config.markers.size)?Hn.config.markers.size:[Hn.config.markers.size],Hn.globals.markers.size.length>0){if(Hn.globals.markers.size.length<Hn.globals.series.length+1)for(var er=0;er<=Hn.globals.series.length;er++)Hn.globals.markers.size[er]===void 0&&Hn.globals.markers.size.push(Hn.globals.markers.size[0])}else Hn.globals.markers.size=Hn.config.series.map((function(nr){return Hn.config.markers.size}))}},{key:"plotChartMarkers",value:function(Hn){var er=Hn.pointsPos,nr=Hn.seriesIndex,ir=Hn.j,rr=Hn.pSize,sr=Hn.alwaysDrawMarker,ar=sr!==void 0&&sr,or=Hn.isVirtualPoint,lr=or!==void 0&&or,cr=this.w,ur=nr,dr=er,fr=null,xr=new Mi$1(this.ctx),yr=cr.config.markers.discrete&&cr.config.markers.discrete.length;if(Array.isArray(dr.x))for(var _r=0;_r<dr.x.length;_r++){var Sr=void 0,jr=ir,Dr=!v$1.isNumber(dr.y[_r]);cr.globals.markers.largestSize===0&&cr.globals.hasNullValues&&cr.globals.series[ur][ir+1]!==null&&!lr&&(Dr=!0),ir===1&&_r===0&&(jr=0),ir===1&&_r===1&&(jr=1);var Ir="apexcharts-marker";if(cr.config.chart.type!=="line"&&cr.config.chart.type!=="area"||cr.globals.comboCharts||cr.config.tooltip.intersect||(Ir+=" no-pointer-events"),(Array.isArray(cr.config.markers.size)?cr.globals.markers.size[nr]>0:cr.config.markers.size>0)||ar||yr){Dr||(Ir+=" w".concat(v$1.randomId()));var Mr=this.getMarkerConfig({cssClass:Ir,seriesIndex:nr,dataPointIndex:jr});cr.config.series[ur].data[jr]&&(cr.config.series[ur].data[jr].fillColor&&(Mr.pointFillColor=cr.config.series[ur].data[jr].fillColor),cr.config.series[ur].data[jr].strokeColor&&(Mr.pointStrokeColor=cr.config.series[ur].data[jr].strokeColor)),rr!==void 0&&(Mr.pSize=rr),(dr.x[_r]<-cr.globals.markers.largestSize||dr.x[_r]>cr.globals.gridWidth+cr.globals.markers.largestSize||dr.y[_r]<-cr.globals.markers.largestSize||dr.y[_r]>cr.globals.gridHeight+cr.globals.markers.largestSize)&&(Mr.pSize=0),!Dr&&((cr.globals.markers.size[nr]>0||ar||yr)&&!fr&&(fr=xr.group({class:ar||yr?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(cr.globals.cuid,")")),(Sr=xr.drawMarker(dr.x[_r],dr.y[_r],Mr)).attr("rel",jr),Sr.attr("j",jr),Sr.attr("index",nr),Sr.node.setAttribute("default-marker-size",Mr.pSize),new Li$1(this.ctx).setSelectionFilter(Sr,nr,jr),this.addEvents(Sr),fr&&fr.add(Sr))}else cr.globals.pointsArray[nr]===void 0&&(cr.globals.pointsArray[nr]=[]),cr.globals.pointsArray[nr].push([dr.x[_r],dr.y[_r]])}return fr}},{key:"getMarkerConfig",value:function(Hn){var er=Hn.cssClass,nr=Hn.seriesIndex,ir=Hn.dataPointIndex,rr=ir===void 0?null:ir,sr=Hn.radius,ar=sr===void 0?null:sr,or=Hn.size,lr=or===void 0?null:or,cr=Hn.strokeWidth,ur=cr===void 0?null:cr,dr=this.w,fr=this.getMarkerStyle(nr),xr=lr===null?dr.globals.markers.size[nr]:lr,yr=dr.config.markers;return rr!==null&&yr.discrete.length&&yr.discrete.map((function(_r){_r.seriesIndex===nr&&_r.dataPointIndex===rr&&(fr.pointStrokeColor=_r.strokeColor,fr.pointFillColor=_r.fillColor,xr=_r.size,fr.pointShape=_r.shape)})),{pSize:ar===null?xr:ar,pRadius:ar!==null?ar:yr.radius,pointStrokeWidth:ur!==null?ur:Array.isArray(yr.strokeWidth)?yr.strokeWidth[nr]:yr.strokeWidth,pointStrokeColor:fr.pointStrokeColor,pointFillColor:fr.pointFillColor,shape:fr.pointShape||(Array.isArray(yr.shape)?yr.shape[nr]:yr.shape),class:er,pointStrokeOpacity:Array.isArray(yr.strokeOpacity)?yr.strokeOpacity[nr]:yr.strokeOpacity,pointStrokeDashArray:Array.isArray(yr.strokeDashArray)?yr.strokeDashArray[nr]:yr.strokeDashArray,pointFillOpacity:Array.isArray(yr.fillOpacity)?yr.fillOpacity[nr]:yr.fillOpacity,seriesIndex:nr}}},{key:"addEvents",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx);Hn.node.addEventListener("mouseenter",nr.pathMouseEnter.bind(this.ctx,Hn)),Hn.node.addEventListener("mouseleave",nr.pathMouseLeave.bind(this.ctx,Hn)),Hn.node.addEventListener("mousedown",nr.pathMouseDown.bind(this.ctx,Hn)),Hn.node.addEventListener("click",er.config.markers.onClick),Hn.node.addEventListener("dblclick",er.config.markers.onDblClick),Hn.node.addEventListener("touchstart",nr.pathMouseDown.bind(this.ctx,Hn),{passive:!0})}},{key:"getMarkerStyle",value:function(Hn){var er=this.w,nr=er.globals.markers.colors,ir=er.config.markers.strokeColor||er.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(ir)?ir[Hn]:ir,pointFillColor:Array.isArray(nr)?nr[Hn]:nr}}}]),tr})(),Ui$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.initialAnim=this.w.config.chart.animations.enabled}return s$1(tr,[{key:"draw",value:function(Hn,er,nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=nr.realIndex,ar=nr.pointsPos,or=nr.zRatio,lr=nr.elParent,cr=rr.group({class:"apexcharts-series-markers apexcharts-series-".concat(ir.config.chart.type)});if(cr.attr("clip-path","url(#gridRectMarkerMask".concat(ir.globals.cuid,")")),Array.isArray(ar.x))for(var ur=0;ur<ar.x.length;ur++){var dr=er+1,fr=!0;er===0&&ur===0&&(dr=0),er===0&&ur===1&&(dr=1);var xr=ir.globals.markers.size[sr];if(or!==1/0){var yr=ir.config.plotOptions.bubble;xr=ir.globals.seriesZ[sr][dr],yr.zScaling&&(xr/=or),yr.minBubbleRadius&&xr<yr.minBubbleRadius&&(xr=yr.minBubbleRadius),yr.maxBubbleRadius&&xr>yr.maxBubbleRadius&&(xr=yr.maxBubbleRadius)}var _r=ar.x[ur],Sr=ar.y[ur];if(xr=xr||0,Sr!==null&&ir.globals.series[sr][dr]!==void 0||(fr=!1),fr){var jr=this.drawPoint(_r,Sr,xr,sr,dr,er);cr.add(jr)}lr.add(cr)}}},{key:"drawPoint",value:function(Hn,er,nr,ir,rr,sr){var ar=this.w,or=ir,lr=new y$3(this.ctx),cr=new Li$1(this.ctx),ur=new ji$1(this.ctx),dr=new Vi$1(this.ctx),fr=new Mi$1(this.ctx),xr=dr.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:or,dataPointIndex:rr,radius:ar.config.chart.type==="bubble"||ar.globals.comboCharts&&ar.config.series[ir]&&ar.config.series[ir].type==="bubble"?nr:null}),yr=ur.fillPath({seriesNumber:ir,dataPointIndex:rr,color:xr.pointFillColor,patternUnits:"objectBoundingBox",value:ar.globals.series[ir][sr]}),_r=fr.drawMarker(Hn,er,xr);if(ar.config.series[or].data[rr]&&ar.config.series[or].data[rr].fillColor&&(yr=ar.config.series[or].data[rr].fillColor),_r.attr({fill:yr}),ar.config.chart.dropShadow.enabled){var Sr=ar.config.chart.dropShadow;cr.dropShadow(_r,Sr,ir)}if(!this.initialAnim||ar.globals.dataChanged||ar.globals.resized)ar.globals.animationEnded=!0;else{var jr=ar.config.chart.animations.speed;lr.animateMarker(_r,jr,ar.globals.easing,(function(){window.setTimeout((function(){lr.animationCompleted(_r)}),100)}))}return _r.attr({rel:rr,j:rr,index:ir,"default-marker-size":xr.pSize}),cr.setSelectionFilter(_r,ir,rr),dr.addEvents(_r),_r.node.classList.add("apexcharts-marker"),_r}},{key:"centerTextInBubble",value:function(Hn){var er=this.w;return{y:Hn+=parseInt(er.config.dataLabels.style.fontSize,10)/4}}}]),tr})(),qi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"dataLabelsCorrection",value:function(Hn,er,nr,ir,rr,sr,ar){var or=this.w,lr=!1,cr=new Mi$1(this.ctx).getTextRects(nr,ar),ur=cr.width,dr=cr.height;er<0&&(er=0),er>or.globals.gridHeight+dr&&(er=or.globals.gridHeight+dr/2),or.globals.dataLabelsRects[ir]===void 0&&(or.globals.dataLabelsRects[ir]=[]),or.globals.dataLabelsRects[ir].push({x:Hn,y:er,width:ur,height:dr});var fr=or.globals.dataLabelsRects[ir].length-2,xr=or.globals.lastDrawnDataLabelsIndexes[ir]!==void 0?or.globals.lastDrawnDataLabelsIndexes[ir][or.globals.lastDrawnDataLabelsIndexes[ir].length-1]:0;if(or.globals.dataLabelsRects[ir][fr]!==void 0){var yr=or.globals.dataLabelsRects[ir][xr];(Hn>yr.x+yr.width||er>yr.y+yr.height||er+dr<yr.y||Hn+ur<yr.x)&&(lr=!0)}return(rr===0||sr)&&(lr=!0),{x:Hn,y:er,textRects:cr,drawnextLabel:lr}}},{key:"drawDataLabel",value:function(Hn){var er=this,nr=Hn.type,ir=Hn.pos,rr=Hn.i,sr=Hn.j,ar=Hn.isRangeStart,or=Hn.strokeWidth,lr=or===void 0?2:or,cr=this.w,ur=new Mi$1(this.ctx),dr=cr.config.dataLabels,fr=0,xr=0,yr=sr,_r=null;if(cr.globals.collapsedSeriesIndices.indexOf(rr)!==-1||!dr.enabled||!Array.isArray(ir.x))return _r;_r=ur.group({class:"apexcharts-data-labels"});for(var Sr=0;Sr<ir.x.length;Sr++)if(fr=ir.x[Sr]+dr.offsetX,xr=ir.y[Sr]+dr.offsetY+lr,!isNaN(fr)){sr===1&&Sr===0&&(yr=0),sr===1&&Sr===1&&(yr=1);var jr=cr.globals.series[rr][yr];nr==="rangeArea"&&(jr=ar?cr.globals.seriesRangeStart[rr][yr]:cr.globals.seriesRangeEnd[rr][yr]);var Dr="",Ir=function(Or){return cr.config.dataLabels.formatter(Or,{ctx:er.ctx,seriesIndex:rr,dataPointIndex:yr,w:cr})};cr.config.chart.type==="bubble"?(Dr=Ir(jr=cr.globals.seriesZ[rr][yr]),xr=ir.y[Sr],xr=new Ui$1(this.ctx).centerTextInBubble(xr,rr,yr).y):jr!==void 0&&(Dr=Ir(jr));var Mr=cr.config.dataLabels.textAnchor;cr.globals.isSlopeChart&&(Mr=yr===0?"end":yr===cr.config.series[rr].data.length-1?"start":"middle"),this.plotDataLabelsText({x:fr,y:xr,text:Dr,i:rr,j:yr,parent:_r,offsetCorrection:!0,dataLabelsConfig:cr.config.dataLabels,textAnchor:Mr})}return _r}},{key:"plotDataLabelsText",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=Hn.x,rr=Hn.y,sr=Hn.i,ar=Hn.j,or=Hn.text,lr=Hn.textAnchor,cr=Hn.fontSize,ur=Hn.parent,dr=Hn.dataLabelsConfig,fr=Hn.color,xr=Hn.alwaysDrawDataLabel,yr=Hn.offsetCorrection,_r=Hn.className,Sr=null;if(Array.isArray(er.config.dataLabels.enabledOnSeries)&&er.config.dataLabels.enabledOnSeries.indexOf(sr)<0)return Sr;var jr={x:ir,y:rr,drawnextLabel:!0,textRects:null};yr&&(jr=this.dataLabelsCorrection(ir,rr,or,sr,ar,xr,parseInt(dr.style.fontSize,10))),er.globals.zoomed||(ir=jr.x,rr=jr.y),jr.textRects&&(ir<-20-jr.textRects.width||ir>er.globals.gridWidth+jr.textRects.width+30)&&(or="");var Dr=er.globals.dataLabels.style.colors[sr];((er.config.chart.type==="bar"||er.config.chart.type==="rangeBar")&&er.config.plotOptions.bar.distributed||er.config.dataLabels.distributed)&&(Dr=er.globals.dataLabels.style.colors[ar]),typeof Dr=="function"&&(Dr=Dr({series:er.globals.series,seriesIndex:sr,dataPointIndex:ar,w:er})),fr&&(Dr=fr);var Ir=dr.offsetX,Mr=dr.offsetY;if(er.config.chart.type!=="bar"&&er.config.chart.type!=="rangeBar"||(Ir=0,Mr=0),er.globals.isSlopeChart&&(ar!==0&&(Ir=-2*dr.offsetX+5),ar!==0&&ar!==er.config.series[sr].data.length-1&&(Ir=0)),jr.drawnextLabel){if(lr==="middle"&&ir===er.globals.gridWidth&&(lr="end"),(Sr=nr.drawText({width:100,height:parseInt(dr.style.fontSize,10),x:ir+Ir,y:rr+Mr,foreColor:Dr,textAnchor:lr||dr.textAnchor,text:or,fontSize:cr||dr.style.fontSize,fontFamily:dr.style.fontFamily,fontWeight:dr.style.fontWeight||"normal"})).attr({class:_r||"apexcharts-datalabel",cx:ir,cy:rr}),dr.dropShadow.enabled){var Or=dr.dropShadow;new Li$1(this.ctx).dropShadow(Sr,Or)}ur.add(Sr),er.globals.lastDrawnDataLabelsIndexes[sr]===void 0&&(er.globals.lastDrawnDataLabelsIndexes[sr]=[]),er.globals.lastDrawnDataLabelsIndexes[sr].push(ar)}return Sr}},{key:"addBackgroundToDataLabel",value:function(Hn,er){var nr=this.w,ir=nr.config.dataLabels.background,rr=ir.padding,sr=ir.padding/2,ar=er.width,or=er.height,lr=new Mi$1(this.ctx).drawRect(er.x-rr,er.y-sr/2,ar+2*rr,or+sr,ir.borderRadius,nr.config.chart.background!=="transparent"&&nr.config.chart.background?nr.config.chart.background:"#fff",ir.opacity,ir.borderWidth,ir.borderColor);return ir.dropShadow.enabled&&new Li$1(this.ctx).dropShadow(lr,ir.dropShadow),lr}},{key:"dataLabelsBackground",value:function(){var Hn=this.w;if(Hn.config.chart.type!=="bubble")for(var er=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),nr=0;nr<er.length;nr++){var ir=er[nr],rr=ir.getBBox(),sr=null;if(rr.width&&rr.height&&(sr=this.addBackgroundToDataLabel(ir,rr)),sr){ir.parentNode.insertBefore(sr.node,ir);var ar=Hn.config.dataLabels.background.backgroundColor||ir.getAttribute("fill");Hn.config.chart.animations.enabled&&!Hn.globals.resized&&!Hn.globals.dataChanged?sr.animate().attr({fill:ar}):sr.attr({fill:ar}),ir.setAttribute("fill",Hn.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var Hn=this.w,er=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),nr=Hn.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),ir=0;ir<er.length;ir++)nr&&nr.insertBefore(er[ir],nr.nextSibling)}}]),tr})(),Zi$1=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,$i$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.legendInactiveClass="legend-mouseover-inactive"}return s$1(tr,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(Hn){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(v$1.escapeString(Hn),"']"))}},{key:"isSeriesHidden",value:function(Hn){var er=this.getSeriesByName(Hn),nr=parseInt(er.getAttribute("data:realIndex"),10);return{isHidden:er.classList.contains("apexcharts-series-collapsed"),realIndex:nr}}},{key:"addCollapsedClassToSeries",value:function(Hn,er){var nr=this.w;function ir(rr){for(var sr=0;sr<rr.length;sr++)rr[sr].index===er&&Hn.node.classList.add("apexcharts-series-collapsed")}ir(nr.globals.collapsedSeries),ir(nr.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(Hn){var er=this.isSeriesHidden(Hn);return this.ctx.legend.legendHelpers.toggleDataSeries(er.realIndex,er.isHidden),er.isHidden}},{key:"showSeries",value:function(Hn){var er=this.isSeriesHidden(Hn);er.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(er.realIndex,!0)}},{key:"hideSeries",value:function(Hn){var er=this.isSeriesHidden(Hn);er.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(er.realIndex,!1)}},{key:"resetSeries",value:function(){var Hn=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ir=this.w,rr=v$1.clone(ir.globals.initialSeries);ir.globals.previousPaths=[],nr?(ir.globals.collapsedSeries=[],ir.globals.ancillaryCollapsedSeries=[],ir.globals.collapsedSeriesIndices=[],ir.globals.ancillaryCollapsedSeriesIndices=[]):rr=this.emptyCollapsedSeries(rr),ir.config.series=rr,Hn&&(er&&(ir.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(rr,ir.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(Hn){for(var er=this.w,nr=0;nr<Hn.length;nr++)er.globals.collapsedSeriesIndices.indexOf(nr)>-1&&(Hn[nr].data=[]);return Hn}},{key:"highlightSeries",value:function(Hn){var er=this.w,nr=this.getSeriesByName(Hn),ir=parseInt(nr?.getAttribute("data:realIndex"),10),rr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),sr=null,ar=null,or=null;if(er.globals.axisCharts||er.config.chart.type==="radialBar")if(er.globals.axisCharts){sr=er.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(ir,"']")),ar=er.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(ir,"']"));var lr=er.globals.seriesYAxisReverseMap[ir];or=er.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(lr,"']"))}else sr=er.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(ir+1,"']"));else sr=er.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(ir+1,"'] path"));for(var cr=0;cr<rr.length;cr++)rr[cr].classList.add(this.legendInactiveClass);if(sr)er.globals.axisCharts||sr.parentNode.classList.remove(this.legendInactiveClass),sr.classList.remove(this.legendInactiveClass),ar!==null&&ar.classList.remove(this.legendInactiveClass),or!==null&&or.classList.remove(this.legendInactiveClass);else for(var ur=0;ur<rr.length;ur++)rr[ur].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(Hn,er){var nr=this.w;er||(er=Hn.target);var ir=nr.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(Hn.type==="mousemove"){var rr=parseInt(er.getAttribute("rel"),10)-1;this.highlightSeries(nr.globals.seriesNames[rr])}else if(Hn.type==="mouseout")for(var sr=0;sr<ir.length;sr++)ir[sr].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(Hn,er){var nr=this,ir=this.w,rr=ir.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),sr=function(lr){for(var cr=0;cr<rr.length;cr++)rr[cr].classList[lr](nr.legendInactiveClass)};if(Hn.type==="mousemove"){var ar=parseInt(er.getAttribute("rel"),10)-1;sr("add");var or=ir.config.plotOptions.heatmap.colorScale.ranges;(function(lr,cr){for(var ur=0;ur<rr.length;ur++){var dr=Number(rr[ur].getAttribute("val"));dr>=lr.from&&(dr<lr.to||lr.to===cr&&dr===cr)&&rr[ur].classList.remove(nr.legendInactiveClass)}})(or[ar],or.reduce((function(lr,cr){return Math.max(lr,cr.to)}),0))}else Hn.type==="mouseout"&&sr("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],nr=this.w,ir=0;if(nr.config.series.length>1){for(var rr=nr.config.series.map((function(ar,or){return ar.data&&ar.data.length>0&&nr.globals.collapsedSeriesIndices.indexOf(or)===-1&&(!nr.globals.comboCharts||er.length===0||er.length&&er.indexOf(nr.config.series[or].type)>-1)?or:-1})),sr=Hn==="asc"?0:rr.length-1;Hn==="asc"?sr<rr.length:sr>=0;Hn==="asc"?sr++:sr--)if(rr[sr]!==-1){ir=rr[sr];break}}return ir}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(Hn,er){return Hn.type==="bar"||Hn.type==="column"?er:-1})).filter((function(Hn){return Hn!==-1})):this.w.config.series.map((function(Hn,er){return er}))}},{key:"getPreviousPaths",value:function(){var Hn=this.w;function er(sr,ar,or){for(var lr=sr[ar].childNodes,cr={type:or,paths:[],realIndex:sr[ar].getAttribute("data:realIndex")},ur=0;ur<lr.length;ur++)if(lr[ur].hasAttribute("pathTo")){var dr=lr[ur].getAttribute("pathTo");cr.paths.push({d:dr})}Hn.globals.previousPaths.push(cr)}Hn.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(sr){for(var ar,or=(ar=sr,Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(ar,"-series .apexcharts-series"))),lr=0;lr<or.length;lr++)er(or,lr,sr)}));var nr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Hn.config.chart.type," .apexcharts-series"));if(nr.length>0)for(var ir=function(sr){for(var ar=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Hn.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(sr,"'] rect")),or=[],lr=function(ur){var dr=function(xr){return ar[ur].getAttribute(xr)},fr={x:parseFloat(dr("x")),y:parseFloat(dr("y")),width:parseFloat(dr("width")),height:parseFloat(dr("height"))};or.push({rect:fr,color:ar[ur].getAttribute("color")})},cr=0;cr<ar.length;cr++)lr(cr);Hn.globals.previousPaths.push(or)},rr=0;rr<nr.length;rr++)ir(rr);Hn.globals.axisCharts||(Hn.globals.previousPaths=Hn.globals.series)}},{key:"clearPreviousPaths",value:function(){var Hn=this.w;Hn.globals.previousPaths=[],Hn.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var Hn=this.w,er=Hn.config.noData,nr=new Mi$1(this.ctx),ir=Hn.globals.svgWidth/2,rr=Hn.globals.svgHeight/2,sr="middle";if(Hn.globals.noData=!0,Hn.globals.animationEnded=!0,er.align==="left"?(ir=10,sr="start"):er.align==="right"&&(ir=Hn.globals.svgWidth-10,sr="end"),er.verticalAlign==="top"?rr=50:er.verticalAlign==="bottom"&&(rr=Hn.globals.svgHeight-50),ir+=er.offsetX,rr=rr+parseInt(er.style.fontSize,10)+2+er.offsetY,er.text!==void 0&&er.text!==""){var ar=nr.drawText({x:ir,y:rr,text:er.text,textAnchor:sr,fontSize:er.style.fontSize,fontFamily:er.style.fontFamily,foreColor:er.style.color,opacity:1,class:"apexcharts-text-nodata"});Hn.globals.dom.Paper.add(ar)}}},{key:"setNullSeriesToZeroValues",value:function(Hn){for(var er=this.w,nr=0;nr<Hn.length;nr++)if(Hn[nr].length===0)for(var ir=0;ir<Hn[er.globals.maxValsInArrayIndex].length;ir++)Hn[nr].push(0);return Hn}},{key:"hasAllSeriesEqualX",value:function(){for(var Hn=!0,er=this.w,nr=this.filteredSeriesX(),ir=0;ir<nr.length-1;ir++)if(nr[ir][0]!==nr[ir+1][0]){Hn=!1;break}return er.globals.allSeriesHasEqualX=Hn,Hn}},{key:"filteredSeriesX",value:function(){var Hn=this.w.globals.seriesX.map((function(er){return er.length>0?er:[]}));return Hn}}]),tr})(),Ji$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Pi$1(this.ctx)}return s$1(tr,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var Hn=this.w.config.series.slice(),er=new $i$1(this.ctx);if(this.activeSeriesIndex=er.getActiveConfigSeriesIndex(),Hn[this.activeSeriesIndex].data!==void 0&&Hn[this.activeSeriesIndex].data.length>0&&Hn[this.activeSeriesIndex].data[0]!==null&&Hn[this.activeSeriesIndex].data[0].x!==void 0&&Hn[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var Hn=this.w.config.series.slice(),er=new $i$1(this.ctx);if(this.activeSeriesIndex=er.getActiveConfigSeriesIndex(),Hn[this.activeSeriesIndex].data!==void 0&&Hn[this.activeSeriesIndex].data.length>0&&Hn[this.activeSeriesIndex].data[0]!==void 0&&Hn[this.activeSeriesIndex].data[0]!==null&&Hn[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(Hn,er){for(var nr=this.w.config,ir=this.w.globals,rr=nr.chart.type==="boxPlot"||nr.series[er].type==="boxPlot",sr=0;sr<Hn[er].data.length;sr++)if(Hn[er].data[sr][1]!==void 0&&(Array.isArray(Hn[er].data[sr][1])&&Hn[er].data[sr][1].length===4&&!rr?this.twoDSeries.push(v$1.parseNumber(Hn[er].data[sr][1][3])):Hn[er].data[sr].length>=5?this.twoDSeries.push(v$1.parseNumber(Hn[er].data[sr][4])):this.twoDSeries.push(v$1.parseNumber(Hn[er].data[sr][1])),ir.dataFormatXNumeric=!0),nr.xaxis.type==="datetime"){var ar=new Date(Hn[er].data[sr][0]);ar=new Date(ar).getTime(),this.twoDSeriesX.push(ar)}else this.twoDSeriesX.push(Hn[er].data[sr][0]);for(var or=0;or<Hn[er].data.length;or++)Hn[er].data[or][2]!==void 0&&(this.threeDSeries.push(Hn[er].data[or][2]),ir.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(Hn,er){var nr=this.w.config,ir=this.w.globals,rr=new zi$1(this.ctx),sr=er;ir.collapsedSeriesIndices.indexOf(er)>-1&&(sr=this.activeSeriesIndex);for(var ar=0;ar<Hn[er].data.length;ar++)Hn[er].data[ar].y!==void 0&&(Array.isArray(Hn[er].data[ar].y)?this.twoDSeries.push(v$1.parseNumber(Hn[er].data[ar].y[Hn[er].data[ar].y.length-1])):this.twoDSeries.push(v$1.parseNumber(Hn[er].data[ar].y))),Hn[er].data[ar].goals!==void 0&&Array.isArray(Hn[er].data[ar].goals)?(this.seriesGoals[er]===void 0&&(this.seriesGoals[er]=[]),this.seriesGoals[er].push(Hn[er].data[ar].goals)):(this.seriesGoals[er]===void 0&&(this.seriesGoals[er]=[]),this.seriesGoals[er].push(null));for(var or=0;or<Hn[sr].data.length;or++){var lr=typeof Hn[sr].data[or].x=="string",cr=Array.isArray(Hn[sr].data[or].x),ur=!cr&&!!rr.isValidDate(Hn[sr].data[or].x);if(lr||ur)if(lr||nr.xaxis.convertedCatToNumeric){var dr=ir.isBarHorizontal&&ir.isRangeData;nr.xaxis.type!=="datetime"||dr?(this.fallbackToCategory=!0,this.twoDSeriesX.push(Hn[sr].data[or].x),isNaN(Hn[sr].data[or].x)||this.w.config.xaxis.type==="category"||typeof Hn[sr].data[or].x=="string"||(ir.isXNumeric=!0)):this.twoDSeriesX.push(rr.parseDate(Hn[sr].data[or].x))}else nr.xaxis.type==="datetime"?this.twoDSeriesX.push(rr.parseDate(Hn[sr].data[or].x.toString())):(ir.dataFormatXNumeric=!0,ir.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(Hn[sr].data[or].x)));else cr?(this.fallbackToCategory=!0,this.twoDSeriesX.push(Hn[sr].data[or].x)):(ir.isXNumeric=!0,ir.dataFormatXNumeric=!0,this.twoDSeriesX.push(Hn[sr].data[or].x))}if(Hn[er].data[0]&&Hn[er].data[0].z!==void 0){for(var fr=0;fr<Hn[er].data.length;fr++)this.threeDSeries.push(Hn[er].data[fr].z);ir.isDataXYZ=!0}}},{key:"handleRangeData",value:function(Hn,er){var nr=this.w.globals,ir={};return this.isFormat2DArray()?ir=this.handleRangeDataFormat("array",Hn,er):this.isFormatXY()&&(ir=this.handleRangeDataFormat("xy",Hn,er)),nr.seriesRangeStart[er]=ir.start===void 0?[]:ir.start,nr.seriesRangeEnd[er]=ir.end===void 0?[]:ir.end,nr.seriesRange[er]=ir.rangeUniques,nr.seriesRange.forEach((function(rr,sr){rr&&rr.forEach((function(ar,or){ar.y.forEach((function(lr,cr){for(var ur=0;ur<ar.y.length;ur++)if(cr!==ur){var dr=lr.y1,fr=lr.y2,xr=ar.y[ur].y1;dr<=ar.y[ur].y2&&xr<=fr&&(ar.overlaps.indexOf(lr.rangeName)<0&&ar.overlaps.push(lr.rangeName),ar.overlaps.indexOf(ar.y[ur].rangeName)<0&&ar.overlaps.push(ar.y[ur].rangeName))}}))}))})),ir}},{key:"handleCandleStickBoxData",value:function(Hn,er){var nr=this.w.globals,ir={};return this.isFormat2DArray()?ir=this.handleCandleStickBoxDataFormat("array",Hn,er):this.isFormatXY()&&(ir=this.handleCandleStickBoxDataFormat("xy",Hn,er)),nr.seriesCandleO[er]=ir.o,nr.seriesCandleH[er]=ir.h,nr.seriesCandleM[er]=ir.m,nr.seriesCandleL[er]=ir.l,nr.seriesCandleC[er]=ir.c,ir}},{key:"handleRangeDataFormat",value:function(Hn,er,nr){var ir=[],rr=[],sr=er[nr].data.filter((function(cr,ur,dr){return ur===dr.findIndex((function(fr){return fr.x===cr.x}))})).map((function(cr,ur){return{x:cr.x,overlaps:[],y:[]}}));if(Hn==="array")for(var ar=0;ar<er[nr].data.length;ar++)Array.isArray(er[nr].data[ar])?(ir.push(er[nr].data[ar][1][0]),rr.push(er[nr].data[ar][1][1])):(ir.push(er[nr].data[ar]),rr.push(er[nr].data[ar]));else if(Hn==="xy")for(var or=function(cr){var ur=Array.isArray(er[nr].data[cr].y),dr=v$1.randomId(),fr=er[nr].data[cr].x,xr={y1:ur?er[nr].data[cr].y[0]:er[nr].data[cr].y,y2:ur?er[nr].data[cr].y[1]:er[nr].data[cr].y,rangeName:dr};er[nr].data[cr].rangeName=dr;var yr=sr.findIndex((function(_r){return _r.x===fr}));sr[yr].y.push(xr),ir.push(xr.y1),rr.push(xr.y2)},lr=0;lr<er[nr].data.length;lr++)or(lr);return{start:ir,end:rr,rangeUniques:sr}}},{key:"handleCandleStickBoxDataFormat",value:function(Hn,er,nr){var ir=this.w,rr=ir.config.chart.type==="boxPlot"||ir.config.series[nr].type==="boxPlot",sr=[],ar=[],or=[],lr=[],cr=[];if(Hn==="array")if(rr&&er[nr].data[0].length===6||!rr&&er[nr].data[0].length===5)for(var ur=0;ur<er[nr].data.length;ur++)sr.push(er[nr].data[ur][1]),ar.push(er[nr].data[ur][2]),rr?(or.push(er[nr].data[ur][3]),lr.push(er[nr].data[ur][4]),cr.push(er[nr].data[ur][5])):(lr.push(er[nr].data[ur][3]),cr.push(er[nr].data[ur][4]));else for(var dr=0;dr<er[nr].data.length;dr++)Array.isArray(er[nr].data[dr][1])&&(sr.push(er[nr].data[dr][1][0]),ar.push(er[nr].data[dr][1][1]),rr?(or.push(er[nr].data[dr][1][2]),lr.push(er[nr].data[dr][1][3]),cr.push(er[nr].data[dr][1][4])):(lr.push(er[nr].data[dr][1][2]),cr.push(er[nr].data[dr][1][3])));else if(Hn==="xy")for(var fr=0;fr<er[nr].data.length;fr++)Array.isArray(er[nr].data[fr].y)&&(sr.push(er[nr].data[fr].y[0]),ar.push(er[nr].data[fr].y[1]),rr?(or.push(er[nr].data[fr].y[2]),lr.push(er[nr].data[fr].y[3]),cr.push(er[nr].data[fr].y[4])):(lr.push(er[nr].data[fr].y[2]),cr.push(er[nr].data[fr].y[3])));return{o:sr,h:ar,m:or,l:lr,c:cr}}},{key:"parseDataAxisCharts",value:function(Hn){var er=this,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,ir=this.w.config,rr=this.w.globals,sr=new zi$1(nr),ar=ir.labels.length>0?ir.labels.slice():ir.xaxis.categories.slice();rr.isRangeBar=ir.chart.type==="rangeBar"&&rr.isBarHorizontal,rr.hasXaxisGroups=ir.xaxis.type==="category"&&ir.xaxis.group.groups.length>0,rr.hasXaxisGroups&&(rr.groups=ir.xaxis.group.groups),Hn.forEach((function(fr,xr){fr.name!==void 0?rr.seriesNames.push(fr.name):rr.seriesNames.push("series-"+parseInt(xr+1,10))})),this.coreUtils.setSeriesYAxisMappings();var or=[],lr=f$2(new Set(ir.series.map((function(fr){return fr.group}))));ir.series.forEach((function(fr,xr){var yr=lr.indexOf(fr.group);or[yr]||(or[yr]=[]),or[yr].push(rr.seriesNames[xr])})),rr.seriesGroups=or;for(var cr=function(){for(var fr=0;fr<ar.length;fr++)if(typeof ar[fr]=="string"){if(!sr.isValidDate(ar[fr]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");er.twoDSeriesX.push(sr.parseDate(ar[fr]))}else er.twoDSeriesX.push(ar[fr])},ur=0;ur<Hn.length;ur++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],Hn[ur].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(ir.chart.type!=="rangeBar"&&ir.chart.type!=="rangeArea"&&Hn[ur].type!=="rangeBar"&&Hn[ur].type!=="rangeArea"||(rr.isRangeData=!0,this.handleRangeData(Hn,ur)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(Hn,ur):this.isFormatXY()&&this.handleFormatXY(Hn,ur),ir.chart.type!=="candlestick"&&Hn[ur].type!=="candlestick"&&ir.chart.type!=="boxPlot"&&Hn[ur].type!=="boxPlot"||this.handleCandleStickBoxData(Hn,ur),rr.series.push(this.twoDSeries),rr.labels.push(this.twoDSeriesX),rr.seriesX.push(this.twoDSeriesX),rr.seriesGoals=this.seriesGoals,ur!==this.activeSeriesIndex||this.fallbackToCategory||(rr.isXNumeric=!0);else{ir.xaxis.type==="datetime"?(rr.isXNumeric=!0,cr(),rr.seriesX.push(this.twoDSeriesX)):ir.xaxis.type==="numeric"&&(rr.isXNumeric=!0,ar.length>0&&(this.twoDSeriesX=ar,rr.seriesX.push(this.twoDSeriesX))),rr.labels.push(this.twoDSeriesX);var dr=Hn[ur].data.map((function(fr){return v$1.parseNumber(fr)}));rr.series.push(dr)}rr.seriesZ.push(this.threeDSeries),Hn[ur].color!==void 0?rr.seriesColors.push(Hn[ur].color):rr.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(Hn){var er=this.w.globals,nr=this.w.config,ir=Array.isArray(Hn)&&Hn.every((function(cr){return typeof cr=="number"}))&&nr.labels.length>0,rr=Array.isArray(Hn)&&Hn.some((function(cr){return cr&&b$3(cr)==="object"&&cr.data||cr&&b$3(cr)==="object"&&cr.parsing}));if(ir&&rr&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),ir){er.series=Hn.slice(),er.seriesNames=nr.labels.slice();for(var sr=0;sr<er.series.length;sr++)er.seriesNames[sr]===void 0&&er.seriesNames.push("series-"+(sr+1));return this.w}if(Array.isArray(Hn)&&Hn.every((function(cr){return typeof cr=="number"}))){er.series=Hn.slice(),er.seriesNames=[];for(var ar=0;ar<er.series.length;ar++)er.seriesNames.push(nr.labels[ar]||"series-".concat(ar+1));return this.w}var or=this.extractPieDataFromSeries(Hn);er.series=or.values,er.seriesNames=or.labels,nr.chart.type==="radialBar"&&(er.series=er.series.map((function(cr){var ur=v$1.parseNumber(cr);return ur>100&&console.warn("ApexCharts: RadialBar value ".concat(ur," > 100, consider using percentage values (0-100)")),ur})));for(var lr=0;lr<er.series.length;lr++)er.seriesNames[lr]===void 0&&er.seriesNames.push("series-"+(lr+1));return this.w}},{key:"resetParsingFlags",value:function(){var Hn=this.w;Hn.globals.dataWasParsed=!1,Hn.globals.originalSeries=null,Hn.config.series&&Hn.config.series.forEach((function(er){er.__apexParsed&&delete er.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(Hn){var er=[],nr=[];if(!Array.isArray(Hn))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(Hn.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var ir=Hn[0];return b$3(ir)==="object"&&ir!==null&&ir.data?(this.extractPieDataFromSeriesObjects(Hn,er,nr),{values:er,labels:nr}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(Hn,er,nr){Hn.forEach((function(ir,rr){ir.data&&Array.isArray(ir.data)?ir.data.forEach((function(sr){b$3(sr)==="object"&&sr!==null?sr.x!==void 0&&sr.y!==void 0?(nr.push(String(sr.x)),er.push(v$1.parseNumber(sr.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",sr):console.warn("ApexCharts: Expected object data point, got:",b$3(sr))})):console.warn("ApexCharts: Series ".concat(rr," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(Hn){var er=this.w.config,nr=this.w.globals;er.xaxis.categories.length>0?nr.labels=er.xaxis.categories:er.labels.length>0?nr.labels=er.labels.slice():this.fallbackToCategory?(nr.labels=nr.labels[0],nr.seriesRange.length&&(nr.seriesRange.map((function(ir){ir.forEach((function(rr){nr.labels.indexOf(rr.x)<0&&rr.x&&nr.labels.push(rr.x)}))})),nr.labels=Array.from(new Set(nr.labels.map(JSON.stringify)),JSON.parse)),er.xaxis.convertedCatToNumeric&&(new Ni$1(er).convertCatToNumericXaxis(er,this.ctx,nr.seriesX[0]),this._generateExternalLabels(Hn))):this._generateExternalLabels(Hn)}},{key:"_generateExternalLabels",value:function(Hn){var er=this.w.globals,nr=this.w.config,ir=[];if(er.axisCharts){if(er.series.length>0)if(this.isFormatXY())for(var rr=nr.series.map((function(ur,dr){return ur.data.filter((function(fr,xr,yr){return yr.findIndex((function(_r){return _r.x===fr.x}))===xr}))})),sr=rr.reduce((function(ur,dr,fr,xr){return xr[ur].length>dr.length?ur:fr}),0),ar=0;ar<rr[sr].length;ar++)ir.push(ar+1);else for(var or=0;or<er.series[er.maxValsInArrayIndex].length;or++)ir.push(or+1);er.seriesX=[];for(var lr=0;lr<Hn.length;lr++)er.seriesX.push(ir);this.w.globals.isBarHorizontal||(er.isXNumeric=!0)}if(ir.length===0){ir=er.axisCharts?[]:er.series.map((function(ur,dr){return dr+1}));for(var cr=0;cr<Hn.length;cr++)er.seriesX.push(ir)}er.labels=ir,nr.xaxis.convertedCatToNumeric&&(er.categoryLabels=ir.map((function(ur){return nr.xaxis.labels.formatter(ur)}))),er.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(Hn){var er=this,nr=this.w.config,ir=this.w.globals,rr=nr.parsing;if(ir.dataWasParsed||!rr&&!Hn.some((function(ar){return ar.parsing})))return Hn;var sr=Hn.map((function(ar,or){var lr,cr,ur;if(!ar.data||!Array.isArray(ar.data)||ar.data.length===0)return ar;var dr={x:((lr=ar.parsing)===null||lr===void 0?void 0:lr.x)||rr?.x,y:((cr=ar.parsing)===null||cr===void 0?void 0:cr.y)||rr?.y,z:((ur=ar.parsing)===null||ur===void 0?void 0:ur.z)||rr?.z};if(!dr.x&&!dr.y)return ar;var fr=ar.data[0];if(b$3(fr)==="object"&&fr!==null&&(fr.hasOwnProperty("x")||fr.hasOwnProperty("y"))||Array.isArray(fr))return ar;if(!dr.x||!dr.y||Array.isArray(dr.y)&&dr.y.length===0)return console.warn("ApexCharts: Series ".concat(or," has parsing config but missing x or y field specification")),ar;var xr=ar.data.map((function(yr,_r){if(b$3(yr)!=="object"||yr===null)return console.warn("ApexCharts: Series ".concat(or,", data point ").concat(_r," is not an object, skipping parsing")),yr;var Sr,jr=er.getNestedValue(yr,dr.x),Dr=void 0;if(Array.isArray(dr.y)){var Ir=dr.y.map((function(Lr){return er.getNestedValue(yr,Lr)}));Sr=er.w.config.chart.type==="bubble"&&Ir.length===2?Ir[0]:Ir}else Sr=er.getNestedValue(yr,dr.y);dr.z&&(Dr=er.getNestedValue(yr,dr.z)),jr===void 0&&console.warn("ApexCharts: Series ".concat(or,", data point ").concat(_r," missing field '").concat(dr.x,"'")),Sr===void 0&&console.warn("ApexCharts: Series ".concat(or,", data point ").concat(_r," missing field '").concat(dr.y,"'"));var Mr={x:jr,y:Sr};if(er.w.config.chart.type==="bubble"&&Array.isArray(dr.y)&&dr.y.length===2){var Or=er.getNestedValue(yr,dr.y[1]);Or!==void 0&&(Mr.z=Or)}return Dr!==void 0&&(Mr.z=Dr),Mr}));return u$2(u$2({},ar),{},{data:xr,__apexParsed:!0})}));return ir.dataWasParsed=!0,ir.originalSeries||(ir.originalSeries=v$1.clone(Hn)),sr}},{key:"getNestedValue",value:function(Hn,er){if(Hn&&b$3(Hn)==="object"&&er){if(er.indexOf(".")===-1)return Hn[er];for(var nr=er.split("."),ir=Hn,rr=0;rr<nr.length;rr++){if(ir==null||b$3(ir)!=="object")return;ir=ir[nr[rr]]}return ir}}},{key:"parseData",value:function(Hn){var er=this.w,nr=er.config,ir=er.globals;if(Hn=this.parseRawDataIfNeeded(Hn),nr.series=Hn,ir.initialSeries=v$1.clone(Hn),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),ir.axisCharts?(this.parseDataAxisCharts(Hn),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(Hn),nr.chart.stacked){var rr=new $i$1(this.ctx);ir.series=rr.setNullSeriesToZeroValues(ir.series)}this.coreUtils.getSeriesTotals(),ir.axisCharts&&(ir.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),ir.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),ir.dataFormatXNumeric||ir.isXNumeric&&(nr.xaxis.type!=="numeric"||nr.labels.length!==0||nr.xaxis.categories.length!==0)||this.handleExternalLabelsData(Hn);for(var sr=this.coreUtils.getCategoryLabels(ir.labels),ar=0;ar<sr.length;ar++)if(Array.isArray(sr[ar])){ir.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var Hn=this.w,er=[];Hn.globals.seriesYAxisMap.forEach((function(nr,ir){var rr=0;nr.forEach((function(sr){Hn.globals.collapsedSeriesIndices.indexOf(sr)!==-1&&rr++})),rr>0&&rr==nr.length&&er.push(ir)})),Hn.globals.ignoreYAxisIndexes=er.map((function(nr){return nr}))}}]),tr})(),Qi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"svgStringToNode",value:function(Hn){return new DOMParser().parseFromString(Hn,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(Hn,er){var nr=parseFloat(Hn.getAttributeNS(null,"width")),ir=parseFloat(Hn.getAttributeNS(null,"height"));Hn.setAttributeNS(null,"width",nr*er),Hn.setAttributeNS(null,"height",ir*er),Hn.setAttributeNS(null,"viewBox","0 0 "+nr+" "+ir)}},{key:"getSvgString",value:function(Hn){var er=this;return new Promise((function(nr){var ir=er.w,rr=Hn||ir.config.chart.toolbar.export.scale||ir.config.chart.toolbar.export.width/ir.globals.svgWidth;rr||(rr=1);var sr=ir.globals.svgWidth*rr,ar=ir.globals.svgHeight*rr,or=ir.globals.dom.elWrap.cloneNode(!0);or.style.width=sr+"px",or.style.height=ar+"px";var lr=new XMLSerializer().serializeToString(or),cr=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;ir.config.legend.show&&ir.globals.dom.elLegendWrap&&ir.globals.dom.elLegendWrap.children.length>0&&(cr+=Zi$1);var ur=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(ir.globals.svgWidth,'px" height="').concat(ir.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(sr,"px; height:").concat(ar,`px;">
            <style type="text/css">
              `).concat(cr,`
            </style>
              `).concat(lr,`
            </div>
          </foreignObject>
        </svg>
      `),dr=er.svgStringToNode(ur);rr!==1&&er.scaleSvgNode(dr,rr),er.convertImagesToBase64(dr).then((function(){ur=new XMLSerializer().serializeToString(dr),nr(ur.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(Hn){var er=this,nr=Hn.getElementsByTagName("image"),ir=Array.from(nr).map((function(rr){var sr=rr.getAttributeNS("http://www.w3.org/1999/xlink","href");return sr&&!sr.startsWith("data:")?er.getBase64FromUrl(sr).then((function(ar){rr.setAttributeNS("http://www.w3.org/1999/xlink","href",ar)})).catch((function(ar){console.error("Error converting image to base64:",ar)})):Promise.resolve()}));return Promise.all(ir)}},{key:"getBase64FromUrl",value:function(Hn){return new Promise((function(er,nr){var ir=new Image;ir.crossOrigin="Anonymous",ir.onload=function(){var rr=document.createElement("canvas");rr.width=ir.width,rr.height=ir.height,rr.getContext("2d").drawImage(ir,0,0),er(rr.toDataURL())},ir.onerror=nr,ir.src=Hn}))}},{key:"svgUrl",value:function(){var Hn=this;return new Promise((function(er){Hn.getSvgString().then((function(nr){var ir=new Blob([nr],{type:"image/svg+xml;charset=utf-8"});er(URL.createObjectURL(ir))}))}))}},{key:"dataURI",value:function(Hn){var er=this;return new Promise((function(nr){var ir=er.w,rr=Hn?Hn.scale||Hn.width/ir.globals.svgWidth:1,sr=document.createElement("canvas");sr.width=ir.globals.svgWidth*rr,sr.height=parseInt(ir.globals.dom.elWrap.style.height,10)*rr;var ar=ir.config.chart.background!=="transparent"&&ir.config.chart.background?ir.config.chart.background:"#fff",or=sr.getContext("2d");or.fillStyle=ar,or.fillRect(0,0,sr.width*rr,sr.height*rr),er.getSvgString(rr).then((function(lr){var cr="data:image/svg+xml,"+encodeURIComponent(lr),ur=new Image;ur.crossOrigin="anonymous",ur.onload=function(){if(or.drawImage(ur,0,0),sr.msToBlob){var dr=sr.msToBlob();nr({blob:dr})}else{var fr=sr.toDataURL("image/png");nr({imgURI:fr})}},ur.src=cr}))}))}},{key:"exportToSVG",value:function(){var Hn=this;this.svgUrl().then((function(er){Hn.triggerDownload(er,Hn.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var Hn=this,er=this.w.config.chart.toolbar.export.scale,nr=this.w.config.chart.toolbar.export.width,ir=er?{scale:er}:nr?{width:nr}:void 0;this.dataURI(ir).then((function(rr){var sr=rr.imgURI,ar=rr.blob;ar?navigator.msSaveOrOpenBlob(ar,Hn.w.globals.chartID+".png"):Hn.triggerDownload(sr,Hn.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(Hn){var er=this,nr=Hn.series,ir=Hn.fileName,rr=Hn.columnDelimiter,sr=rr===void 0?",":rr,ar=Hn.lineDelimiter,or=ar===void 0?`
`:ar,lr=this.w;nr||(nr=lr.config.series);var cr=[],ur=[],dr="",fr=lr.globals.series.map((function(Mr,Or){return lr.globals.collapsedSeriesIndices.indexOf(Or)===-1?Mr:[]})),xr=function(Mr){return typeof lr.config.chart.toolbar.export.csv.categoryFormatter=="function"?lr.config.chart.toolbar.export.csv.categoryFormatter(Mr):lr.config.xaxis.type==="datetime"&&String(Mr).length>=10?new Date(Mr).toDateString():v$1.isNumber(Mr)?Mr:Mr.split(sr).join("")},yr=function(Mr){return typeof lr.config.chart.toolbar.export.csv.valueFormatter=="function"?lr.config.chart.toolbar.export.csv.valueFormatter(Mr):Mr},_r=Math.max.apply(Math,f$2(nr.map((function(Mr){return Mr.data?Mr.data.length:0})))),Sr=new Ji$1(this.ctx),jr=new Ri$1(this.ctx),Dr=function(Mr){var Or="";if(lr.globals.axisCharts){if(lr.config.xaxis.type==="category"||lr.config.xaxis.convertedCatToNumeric)if(lr.globals.isBarHorizontal){var Lr=lr.globals.yLabelFormatters[0],Fr=new $i$1(er.ctx).getActiveConfigSeriesIndex();Or=Lr(lr.globals.labels[Mr],{seriesIndex:Fr,dataPointIndex:Mr,w:lr})}else Or=jr.getLabel(lr.globals.labels,lr.globals.timescaleLabels,0,Mr).text;lr.config.xaxis.type==="datetime"&&(lr.config.xaxis.categories.length?Or=lr.config.xaxis.categories[Mr]:lr.config.labels.length&&(Or=lr.config.labels[Mr]))}else Or=lr.config.labels[Mr];return Or===null?"nullvalue":(Array.isArray(Or)&&(Or=Or.join(" ")),v$1.isNumber(Or)?Or:Or.split(sr).join(""))},Ir=function(Mr,Or){if(cr.length&&Or===0&&ur.push(cr.join(sr)),Mr.data){Mr.data=Mr.data.length&&Mr.data||f$2(Array(_r)).map((function(){return""}));for(var Lr=0;Lr<Mr.data.length;Lr++){cr=[];var Fr=Dr(Lr);if(Fr!=="nullvalue"){if(Fr||(Sr.isFormatXY()?Fr=nr[Or].data[Lr].x:Sr.isFormat2DArray()&&(Fr=nr[Or].data[Lr]?nr[Or].data[Lr][0]:"")),Or===0){cr.push(xr(Fr));for(var Vr=0;Vr<lr.globals.series.length;Vr++){var Zr,Hr=Sr.isFormatXY()?(Zr=nr[Vr].data[Lr])===null||Zr===void 0?void 0:Zr.y:fr[Vr][Lr];cr.push(yr(Hr))}}(lr.config.chart.type==="candlestick"||Mr.type&&Mr.type==="candlestick")&&(cr.pop(),cr.push(lr.globals.seriesCandleO[Or][Lr]),cr.push(lr.globals.seriesCandleH[Or][Lr]),cr.push(lr.globals.seriesCandleL[Or][Lr]),cr.push(lr.globals.seriesCandleC[Or][Lr])),(lr.config.chart.type==="boxPlot"||Mr.type&&Mr.type==="boxPlot")&&(cr.pop(),cr.push(lr.globals.seriesCandleO[Or][Lr]),cr.push(lr.globals.seriesCandleH[Or][Lr]),cr.push(lr.globals.seriesCandleM[Or][Lr]),cr.push(lr.globals.seriesCandleL[Or][Lr]),cr.push(lr.globals.seriesCandleC[Or][Lr])),lr.config.chart.type==="rangeBar"&&(cr.pop(),cr.push(lr.globals.seriesRangeStart[Or][Lr]),cr.push(lr.globals.seriesRangeEnd[Or][Lr])),cr.length&&ur.push(cr.join(sr))}}}};cr.push(lr.config.chart.toolbar.export.csv.headerCategory),lr.config.chart.type==="boxPlot"?(cr.push("minimum"),cr.push("q1"),cr.push("median"),cr.push("q3"),cr.push("maximum")):lr.config.chart.type==="candlestick"?(cr.push("open"),cr.push("high"),cr.push("low"),cr.push("close")):lr.config.chart.type==="rangeBar"?(cr.push("minimum"),cr.push("maximum")):nr.map((function(Mr,Or){var Lr=(Mr.name?Mr.name:"series-".concat(Or))+"";lr.globals.axisCharts&&cr.push(Lr.split(sr).join("")?Lr.split(sr).join(""):"series-".concat(Or))})),lr.globals.axisCharts||(cr.push(lr.config.chart.toolbar.export.csv.headerValue),ur.push(cr.join(sr))),lr.globals.allSeriesHasEqualX||!lr.globals.axisCharts||lr.config.xaxis.categories.length||lr.config.labels.length?nr.map((function(Mr,Or){lr.globals.axisCharts?Ir(Mr,Or):((cr=[]).push(xr(lr.globals.labels[Or])),cr.push(yr(fr[Or])),ur.push(cr.join(sr)))})):(function(){var Mr=new Set,Or={};nr.forEach((function(Lr,Fr){Lr?.data.forEach((function(Vr){var Zr,Hr;if(Sr.isFormatXY())Zr=Vr.x,Hr=Vr.y;else{if(!Sr.isFormat2DArray())return;Zr=Vr[0],Hr=Vr[1]}Or[Zr]||(Or[Zr]=Array(nr.length).fill("")),Or[Zr][Fr]=yr(Hr),Mr.add(Zr)}))})),cr.length&&ur.push(cr.join(sr)),Array.from(Mr).sort().forEach((function(Lr){ur.push([xr(Lr),Or[Lr].join(sr)])}))})(),dr+=ur.join(or),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+dr),ir||lr.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(Hn,er,nr){var ir=document.createElement("a");ir.href=Hn,ir.download=(er||this.w.globals.chartID)+nr,document.body.appendChild(ir),ir.click(),document.body.removeChild(ir)}}]),tr})(),Ki$1=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.elgrid=er,this.w=Hn.w;var nr=this.w;this.axesUtils=new Ri$1(Hn),this.xaxisLabels=nr.globals.labels.slice(),nr.globals.timescaleLabels.length>0&&!nr.globals.isBarHorizontal&&(this.xaxisLabels=nr.globals.timescaleLabels.slice()),nr.config.xaxis.overwriteCategories&&(this.xaxisLabels=nr.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],nr.config.xaxis.position==="top"?this.offY=0:this.offY=nr.globals.gridHeight,this.offY=this.offY+nr.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=nr.config.chart.type==="bar"&&nr.config.plotOptions.bar.horizontal,this.xaxisFontSize=nr.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=nr.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=nr.config.xaxis.labels.style.colors,this.xaxisBorderWidth=nr.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=nr.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=nr.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=nr.config.xaxis.axisBorder.height,this.yaxis=nr.config.yaxis[0]}return s$1(tr,[{key:"drawXaxis",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=er.group({class:"apexcharts-xaxis",transform:"translate(".concat(Hn.config.xaxis.offsetX,", ").concat(Hn.config.xaxis.offsetY,")")}),ir=er.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(Hn.globals.translateXAxisX,", ").concat(Hn.globals.translateXAxisY,")")});nr.add(ir);for(var rr=[],sr=0;sr<this.xaxisLabels.length;sr++)rr.push(this.xaxisLabels[sr]);if(this.drawXAxisLabelAndGroup(!0,er,ir,rr,Hn.globals.isXNumeric,(function(xr,yr){return yr})),Hn.globals.hasXaxisGroups){var ar=Hn.globals.groups;rr=[];for(var or=0;or<ar.length;or++)rr.push(ar[or].title);var lr={};Hn.config.xaxis.group.style&&(lr.xaxisFontSize=Hn.config.xaxis.group.style.fontSize,lr.xaxisFontFamily=Hn.config.xaxis.group.style.fontFamily,lr.xaxisForeColors=Hn.config.xaxis.group.style.colors,lr.fontWeight=Hn.config.xaxis.group.style.fontWeight,lr.cssClass=Hn.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,er,ir,rr,!1,(function(xr,yr){return ar[xr].cols*yr}),lr)}if(Hn.config.xaxis.title.text!==void 0){var cr=er.group({class:"apexcharts-xaxis-title"}),ur=er.drawText({x:Hn.globals.gridWidth/2+Hn.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(Hn.config.xaxis.position==="bottom"?Hn.globals.xAxisLabelsHeight:-Hn.globals.xAxisLabelsHeight-10)+Hn.config.xaxis.title.offsetY,text:Hn.config.xaxis.title.text,textAnchor:"middle",fontSize:Hn.config.xaxis.title.style.fontSize,fontFamily:Hn.config.xaxis.title.style.fontFamily,fontWeight:Hn.config.xaxis.title.style.fontWeight,foreColor:Hn.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+Hn.config.xaxis.title.style.cssClass});cr.add(ur),nr.add(cr)}if(Hn.config.xaxis.axisBorder.show){var dr=Hn.globals.barPadForNumericAxis,fr=er.drawLine(Hn.globals.padHorizontal+Hn.config.xaxis.axisBorder.offsetX-dr,this.offY,this.xaxisBorderWidth+dr,this.offY,Hn.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&Hn.config.grid.show?this.elgrid.elGridBorders.add(fr):nr.add(fr)}return nr}},{key:"drawXAxisLabelAndGroup",value:function(Hn,er,nr,ir,rr,sr){var ar,or=this,lr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},cr=[],ur=[],dr=this.w,fr=lr.xaxisFontSize||this.xaxisFontSize,xr=lr.xaxisFontFamily||this.xaxisFontFamily,yr=lr.xaxisForeColors||this.xaxisForeColors,_r=lr.fontWeight||dr.config.xaxis.labels.style.fontWeight,Sr=lr.cssClass||dr.config.xaxis.labels.style.cssClass,jr=dr.globals.padHorizontal,Dr=ir.length,Ir=dr.config.xaxis.type==="category"?dr.globals.dataPoints:Dr;if(Ir===0&&Dr>Ir&&(Ir=Dr),rr){var Mr=Math.max(Number(dr.config.xaxis.tickAmount)||1,Ir>1?Ir-1:Ir);ar=dr.globals.gridWidth/Math.min(Mr,Dr-1),jr=jr+sr(0,ar)/2+dr.config.xaxis.labels.offsetX}else ar=dr.globals.gridWidth/Ir,jr=jr+sr(0,ar)+dr.config.xaxis.labels.offsetX;for(var Or=function(Fr){var Vr=jr-sr(Fr,ar)/2+dr.config.xaxis.labels.offsetX;Fr===0&&Dr===1&&ar/2===jr&&Ir===1&&(Vr=dr.globals.gridWidth/2);var Zr=or.axesUtils.getLabel(ir,dr.globals.timescaleLabels,Vr,Fr,cr,fr,Hn),Hr=28;if(dr.globals.rotateXLabels&&Hn&&(Hr=22),dr.config.xaxis.title.text&&dr.config.xaxis.position==="top"&&(Hr+=parseFloat(dr.config.xaxis.title.style.fontSize)+2),Hn||(Hr=Hr+parseFloat(fr)+(dr.globals.xAxisLabelsHeight-dr.globals.xAxisGroupLabelsHeight)+(dr.globals.rotateXLabels?10:0)),Zr=dr.config.xaxis.tickAmount!==void 0&&dr.config.xaxis.tickAmount!=="dataPoints"&&dr.config.xaxis.type!=="datetime"?or.axesUtils.checkLabelBasedOnTickamount(Fr,Zr,Dr):or.axesUtils.checkForOverflowingLabels(Fr,Zr,Dr,cr,ur),dr.config.xaxis.labels.show){var Yr=er.drawText({x:Zr.x,y:or.offY+dr.config.xaxis.labels.offsetY+Hr-(dr.config.xaxis.position==="top"?dr.globals.xAxisHeight+dr.config.xaxis.axisTicks.height-2:0),text:Zr.text,textAnchor:"middle",fontWeight:Zr.isBold?600:_r,fontSize:fr,fontFamily:xr,foreColor:Array.isArray(yr)?Hn&&dr.config.xaxis.convertedCatToNumeric?yr[dr.globals.minX+Fr-1]:yr[Fr]:yr,isPlainText:!1,cssClass:(Hn?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+Sr});if(nr.add(Yr),Yr.on("click",(function(io){if(typeof dr.config.chart.events.xAxisLabelClick=="function"){var uo=Object.assign({},dr,{labelIndex:Fr});dr.config.chart.events.xAxisLabelClick(io,or.ctx,uo)}})),Hn){var eo=document.createElementNS(dr.globals.SVGNS,"title");eo.textContent=Array.isArray(Zr.text)?Zr.text.join(" "):Zr.text,Yr.node.appendChild(eo),Zr.text!==""&&(cr.push(Zr.text),ur.push(Zr))}}Fr<Dr-1&&(jr+=sr(Fr+1,ar))},Lr=0;Lr<=Dr-1;Lr++)Or(Lr)}},{key:"drawXaxisInversed",value:function(Hn){var er,nr,ir=this,rr=this.w,sr=new Mi$1(this.ctx),ar=rr.config.yaxis[0].opposite?rr.globals.translateYAxisX[Hn]:0,or=sr.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:Hn}),lr=sr.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+ar+", 0)"});or.add(lr);var cr=[];if(rr.config.yaxis[Hn].show)for(var ur=0;ur<this.xaxisLabels.length;ur++)cr.push(this.xaxisLabels[ur]);er=rr.globals.gridHeight/cr.length,nr=-er/2.2;var dr=rr.globals.yLabelFormatters[0],fr=rr.config.yaxis[0].labels;if(fr.show)for(var xr=function(Mr){var Or=cr[Mr]===void 0?"":cr[Mr];Or=dr(Or,{seriesIndex:Hn,dataPointIndex:Mr,w:rr});var Lr=ir.axesUtils.getYAxisForeColor(fr.style.colors,Hn),Fr=0;Array.isArray(Or)&&(Fr=Or.length/2*parseInt(fr.style.fontSize,10));var Vr=fr.offsetX-15,Zr="end";ir.yaxis.opposite&&(Zr="start"),rr.config.yaxis[0].labels.align==="left"?(Vr=fr.offsetX,Zr="start"):rr.config.yaxis[0].labels.align==="center"?(Vr=fr.offsetX,Zr="middle"):rr.config.yaxis[0].labels.align==="right"&&(Zr="end");var Hr=sr.drawText({x:Vr,y:nr+er+fr.offsetY-Fr,text:Or,textAnchor:Zr,foreColor:Array.isArray(Lr)?Lr[Mr]:Lr,fontSize:fr.style.fontSize,fontFamily:fr.style.fontFamily,fontWeight:fr.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+fr.style.cssClass,maxWidth:fr.maxWidth});lr.add(Hr),Hr.on("click",(function(io){if(typeof rr.config.chart.events.xAxisLabelClick=="function"){var uo=Object.assign({},rr,{labelIndex:Mr});rr.config.chart.events.xAxisLabelClick(io,ir.ctx,uo)}}));var Yr=document.createElementNS(rr.globals.SVGNS,"title");if(Yr.textContent=Array.isArray(Or)?Or.join(" "):Or,Hr.node.appendChild(Yr),rr.config.yaxis[Hn].labels.rotate!==0){var eo=sr.rotateAroundCenter(Hr.node);Hr.node.setAttribute("transform","rotate(".concat(rr.config.yaxis[Hn].labels.rotate," 0 ").concat(eo.y,")"))}nr+=er},yr=0;yr<=cr.length-1;yr++)xr(yr);if(rr.config.yaxis[0].title.text!==void 0){var _r=sr.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+ar+", 0)"}),Sr=sr.drawText({x:rr.config.yaxis[0].title.offsetX,y:rr.globals.gridHeight/2+rr.config.yaxis[0].title.offsetY,text:rr.config.yaxis[0].title.text,textAnchor:"middle",foreColor:rr.config.yaxis[0].title.style.color,fontSize:rr.config.yaxis[0].title.style.fontSize,fontWeight:rr.config.yaxis[0].title.style.fontWeight,fontFamily:rr.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+rr.config.yaxis[0].title.style.cssClass});_r.add(Sr),or.add(_r)}var jr=0;this.isCategoryBarHorizontal&&rr.config.yaxis[0].opposite&&(jr=rr.globals.gridWidth);var Dr=rr.config.xaxis.axisBorder;if(Dr.show){var Ir=sr.drawLine(rr.globals.padHorizontal+Dr.offsetX+jr,1+Dr.offsetY,rr.globals.padHorizontal+Dr.offsetX+jr,rr.globals.gridHeight+Dr.offsetY,Dr.color,0);this.elgrid&&this.elgrid.elGridBorders&&rr.config.grid.show?this.elgrid.elGridBorders.add(Ir):or.add(Ir)}return rr.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(jr,cr.length,rr.config.yaxis[0].axisBorder,rr.config.yaxis[0].axisTicks,0,er,or),or}},{key:"drawXaxisTicks",value:function(Hn,er,nr){var ir=this.w,rr=Hn;if(!(Hn<0||Hn-2>ir.globals.gridWidth)){var sr=this.offY+ir.config.xaxis.axisTicks.offsetY;if(er=er+sr+ir.config.xaxis.axisTicks.height,ir.config.xaxis.position==="top"&&(er=sr-ir.config.xaxis.axisTicks.height),ir.config.xaxis.axisTicks.show){var ar=new Mi$1(this.ctx).drawLine(Hn+ir.config.xaxis.axisTicks.offsetX,sr+ir.config.xaxis.offsetY,rr+ir.config.xaxis.axisTicks.offsetX,er+ir.config.xaxis.offsetY,ir.config.xaxis.axisTicks.color);nr.add(ar),ar.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var Hn=this.w,er=[],nr=this.xaxisLabels.length,ir=Hn.globals.padHorizontal;if(Hn.globals.timescaleLabels.length>0)for(var rr=0;rr<nr;rr++)ir=this.xaxisLabels[rr].position,er.push(ir);else for(var sr=nr,ar=0;ar<sr;ar++){var or=sr;Hn.globals.isXNumeric&&Hn.config.chart.type!=="bar"&&(or-=1),ir+=Hn.globals.gridWidth/or,er.push(ir)}return er}},{key:"xAxisLabelCorrections",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=Hn.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),ir=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),rr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),sr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(Hn.globals.rotateXLabels||Hn.config.xaxis.labels.rotateAlways)for(var ar=0;ar<ir.length;ar++){var or=er.rotateAroundCenter(ir[ar]);or.y=or.y-1,or.x=or.x+1,ir[ar].setAttribute("transform","rotate(".concat(Hn.config.xaxis.labels.rotate," ").concat(or.x," ").concat(or.y,")")),ir[ar].setAttribute("text-anchor","end"),nr.setAttribute("transform","translate(0, ".concat(-10,")"));var lr=ir[ar].childNodes;Hn.config.xaxis.labels.trim&&Array.prototype.forEach.call(lr,(function(fr){er.placeTextWithEllipsis(fr,fr.textContent,Hn.globals.xAxisLabelsHeight-(Hn.config.legend.position==="bottom"?20:10))}))}else(function(){for(var fr=Hn.globals.gridWidth/(Hn.globals.labels.length+1),xr=0;xr<ir.length;xr++){var yr=ir[xr].childNodes;Hn.config.xaxis.labels.trim&&Hn.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(yr,(function(_r){er.placeTextWithEllipsis(_r,_r.textContent,fr)}))}})();if(rr.length>0){var cr=rr[rr.length-1].getBBox(),ur=rr[0].getBBox();cr.x<-20&&rr[rr.length-1].parentNode.removeChild(rr[rr.length-1]),ur.x+ur.width>Hn.globals.gridWidth&&!Hn.globals.isBarHorizontal&&rr[0].parentNode.removeChild(rr[0]);for(var dr=0;dr<sr.length;dr++)er.placeTextWithEllipsis(sr[dr],sr[dr].textContent,Hn.config.yaxis[0].labels.maxWidth-(Hn.config.yaxis[0].title.text?2*parseFloat(Hn.config.yaxis[0].title.style.fontSize):0)-15)}}}]),tr})(),ta=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.xaxisLabels=er.globals.labels.slice(),this.axesUtils=new Ri$1(Hn),this.isRangeBar=er.globals.seriesRange.length&&er.globals.isBarHorizontal,er.globals.timescaleLabels.length>0&&(this.xaxisLabels=er.globals.timescaleLabels.slice())}return s$1(tr,[{key:"drawGridArea",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,er=this.w,nr=new Mi$1(this.ctx);Hn||(Hn=nr.group({class:"apexcharts-grid"}));var ir=nr.drawLine(er.globals.padHorizontal,1,er.globals.padHorizontal,er.globals.gridHeight,"transparent"),rr=nr.drawLine(er.globals.padHorizontal,er.globals.gridHeight,er.globals.gridWidth,er.globals.gridHeight,"transparent");return Hn.add(rr),Hn.add(ir),Hn}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var Hn=this.renderGrid();return this.drawGridArea(Hn.el),Hn}return null}},{key:"createGridMask",value:function(){var Hn=this.w,er=Hn.globals,nr=new Mi$1(this.ctx),ir=Array.isArray(Hn.config.stroke.width)?Math.max.apply(Math,f$2(Hn.config.stroke.width)):Hn.config.stroke.width,rr=function(cr){var ur=document.createElementNS(er.SVGNS,"clipPath");return ur.setAttribute("id",cr),ur};er.dom.elGridRectMask=rr("gridRectMask".concat(er.cuid)),er.dom.elGridRectBarMask=rr("gridRectBarMask".concat(er.cuid)),er.dom.elGridRectMarkerMask=rr("gridRectMarkerMask".concat(er.cuid)),er.dom.elForecastMask=rr("forecastMask".concat(er.cuid)),er.dom.elNonForecastMask=rr("nonForecastMask".concat(er.cuid));var sr=0,ar=0;(["bar","rangeBar","candlestick","boxPlot"].includes(Hn.config.chart.type)||Hn.globals.comboBarCount>0)&&Hn.globals.isXNumeric&&!Hn.globals.isBarHorizontal&&(sr=Math.max(Hn.config.grid.padding.left,er.barPadForNumericAxis),ar=Math.max(Hn.config.grid.padding.right,er.barPadForNumericAxis)),er.dom.elGridRect=nr.drawRect(-ir/2-2,-ir/2-2,er.gridWidth+ir+4,er.gridHeight+ir+4,0,"#fff"),er.dom.elGridRectBar=nr.drawRect(-ir/2-sr-2,-ir/2-2,er.gridWidth+ir+ar+sr+4,er.gridHeight+ir+4,0,"#fff");var or=Hn.globals.markers.largestSize;er.dom.elGridRectMarker=nr.drawRect(Math.min(-ir/2-sr-2,-or),-or,er.gridWidth+Math.max(ir+ar+sr+4,2*or),er.gridHeight+2*or,0,"#fff"),er.dom.elGridRectMask.appendChild(er.dom.elGridRect.node),er.dom.elGridRectBarMask.appendChild(er.dom.elGridRectBar.node),er.dom.elGridRectMarkerMask.appendChild(er.dom.elGridRectMarker.node);var lr=er.dom.baseEl.querySelector("defs");lr.appendChild(er.dom.elGridRectMask),lr.appendChild(er.dom.elGridRectBarMask),lr.appendChild(er.dom.elGridRectMarkerMask),lr.appendChild(er.dom.elForecastMask),lr.appendChild(er.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(Hn){var er=Hn.i,nr=Hn.x1,ir=Hn.y1,rr=Hn.x2,sr=Hn.y2,ar=Hn.xCount,or=Hn.parent,lr=this.w;if(!(er===0&&lr.globals.skipFirstTimelinelabel||er===ar-1&&lr.globals.skipLastTimelinelabel&&!lr.config.xaxis.labels.formatter||lr.config.chart.type==="radar")){lr.config.grid.xaxis.lines.show&&this._drawGridLine({i:er,x1:nr,y1:ir,x2:rr,y2:sr,xCount:ar,parent:or});var cr=0;if(lr.globals.hasXaxisGroups&&lr.config.xaxis.tickPlacement==="between"){var ur=lr.globals.groups;if(ur){for(var dr=0,fr=0;dr<er&&fr<ur.length;fr++)dr+=ur[fr].cols;dr===er&&(cr=.6*lr.globals.xAxisLabelsHeight)}}new Ki$1(this.ctx).drawXaxisTicks(nr,cr,lr.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(Hn){var er=Hn.i,nr=Hn.x1,ir=Hn.y1,rr=Hn.x2,sr=Hn.y2,ar=Hn.xCount,or=Hn.parent,lr=this.w,cr=or.node.classList.contains("apexcharts-gridlines-horizontal"),ur=lr.globals.barPadForNumericAxis,dr=ir===0&&sr===0||nr===0&&rr===0||ir===lr.globals.gridHeight&&sr===lr.globals.gridHeight||lr.globals.isBarHorizontal&&(er===0||er===ar-1),fr=new Mi$1(this).drawLine(nr-(cr?ur:0),ir,rr+(cr?ur:0),sr,lr.config.grid.borderColor,lr.config.grid.strokeDashArray);fr.node.classList.add("apexcharts-gridline"),dr&&lr.config.grid.show?this.elGridBorders.add(fr):or.add(fr)}},{key:"_drawGridBandRect",value:function(Hn){var er=Hn.c,nr=Hn.x1,ir=Hn.y1,rr=Hn.x2,sr=Hn.y2,ar=Hn.type,or=this.w,lr=new Mi$1(this.ctx),cr=or.globals.barPadForNumericAxis,ur=or.config.grid[ar].colors[er],dr=lr.drawRect(nr-(ar==="row"?cr:0),ir,rr+(ar==="row"?2*cr:0),sr,0,ur,or.config.grid[ar].opacity);this.elg.add(dr),dr.attr("clip-path","url(#gridRectMask".concat(or.globals.cuid,")")),dr.node.classList.add("apexcharts-grid-".concat(ar))}},{key:"_drawXYLines",value:function(Hn){var er=this,nr=Hn.xCount,ir=Hn.tickAmount,rr=this.w;if(rr.config.grid.xaxis.lines.show||rr.config.xaxis.axisTicks.show){var sr,ar=rr.globals.padHorizontal,or=rr.globals.gridHeight;rr.globals.timescaleLabels.length?(function(xr){for(var yr=xr.xC,_r=xr.x1,Sr=xr.y1,jr=xr.x2,Dr=xr.y2,Ir=0;Ir<yr;Ir++)_r=er.xaxisLabels[Ir].position,jr=er.xaxisLabels[Ir].position,er._drawGridLines({i:Ir,x1:_r,y1:Sr,x2:jr,y2:Dr,xCount:nr,parent:er.elgridLinesV})})({xC:nr,x1:ar,y1:0,x2:sr,y2:or}):(rr.globals.isXNumeric&&(nr=rr.globals.xAxisScale.result.length),(function(xr){for(var yr=xr.xC,_r=xr.x1,Sr=xr.y1,jr=xr.x2,Dr=xr.y2,Ir=0;Ir<yr+(rr.globals.isXNumeric?0:1);Ir++)Ir===0&&yr===1&&rr.globals.dataPoints===1&&(jr=_r=rr.globals.gridWidth/2),er._drawGridLines({i:Ir,x1:_r,y1:Sr,x2:jr,y2:Dr,xCount:nr,parent:er.elgridLinesV}),jr=_r+=rr.globals.gridWidth/(rr.globals.isXNumeric?yr-1:yr)})({xC:nr,x1:ar,y1:0,x2:sr,y2:or}))}if(rr.config.grid.yaxis.lines.show){var lr=0,cr=0,ur=rr.globals.gridWidth,dr=ir+1;this.isRangeBar&&(dr=rr.globals.labels.length);for(var fr=0;fr<dr+(this.isRangeBar?1:0);fr++)this._drawGridLine({i:fr,xCount:dr+(this.isRangeBar?1:0),x1:0,y1:lr,x2:ur,y2:cr,parent:this.elgridLinesH}),cr=lr+=rr.globals.gridHeight/(this.isRangeBar?dr:ir)}}},{key:"_drawInvertedXYLines",value:function(Hn){var er=Hn.xCount,nr=this.w;if(nr.config.grid.xaxis.lines.show||nr.config.xaxis.axisTicks.show)for(var ir,rr=nr.globals.padHorizontal,sr=nr.globals.gridHeight,ar=0;ar<er+1;ar++)nr.config.grid.xaxis.lines.show&&this._drawGridLine({i:ar,xCount:er+1,x1:rr,y1:0,x2:ir,y2:sr,parent:this.elgridLinesV}),new Ki$1(this.ctx).drawXaxisTicks(rr,0,nr.globals.dom.elGraphical),ir=rr+=nr.globals.gridWidth/er;if(nr.config.grid.yaxis.lines.show)for(var or=0,lr=0,cr=nr.globals.gridWidth,ur=0;ur<nr.globals.dataPoints+1;ur++)this._drawGridLine({i:ur,xCount:nr.globals.dataPoints+1,x1:0,y1:or,x2:cr,y2:lr,parent:this.elgridLinesH}),lr=or+=nr.globals.gridHeight/nr.globals.dataPoints}},{key:"renderGrid",value:function(){var Hn=this.w,er=Hn.globals,nr=new Mi$1(this.ctx);this.elg=nr.group({class:"apexcharts-grid"}),this.elgridLinesH=nr.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=nr.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=nr.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),Hn.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var ir=0;ir<er.seriesYAxisMap.length&&er.ignoreYAxisIndexes.includes(ir);)ir++;ir===er.seriesYAxisMap.length&&(ir=0);var rr,sr=er.yAxisScale[ir].result.length-1;if(!er.isBarHorizontal||this.isRangeBar){var ar,or,lr;rr=this.xaxisLabels.length,this.isRangeBar&&(sr=er.labels.length,Hn.config.xaxis.tickAmount&&Hn.config.xaxis.labels.formatter&&(rr=Hn.config.xaxis.tickAmount),((ar=er.yAxisScale)===null||ar===void 0||(or=ar[ir])===null||or===void 0||(lr=or.result)===null||lr===void 0?void 0:lr.length)>0&&Hn.config.xaxis.type!=="datetime"&&(rr=er.yAxisScale[ir].result.length-1)),this._drawXYLines({xCount:rr,tickAmount:sr})}else rr=sr,sr=er.xTickAmount,this._drawInvertedXYLines({xCount:rr,tickAmount:sr});return this.drawGridBands(rr,sr),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:er.gridWidth/rr}}},{key:"drawGridBands",value:function(Hn,er){var nr,ir,rr=this,sr=this.w;if(((nr=sr.config.grid.row.colors)===null||nr===void 0?void 0:nr.length)>0&&(function(xr,yr,_r,Sr,jr,Dr){for(var Ir=0,Mr=0;Ir<yr;Ir++,Mr++)Mr>=sr.config.grid[xr].colors.length&&(Mr=0),rr._drawGridBandRect({c:Mr,x1:_r,y1:Sr,x2:jr,y2:Dr,type:xr}),Sr+=sr.globals.gridHeight/er})("row",er,0,0,sr.globals.gridWidth,sr.globals.gridHeight/er),((ir=sr.config.grid.column.colors)===null||ir===void 0?void 0:ir.length)>0){var ar=sr.globals.isBarHorizontal||sr.config.xaxis.tickPlacement!=="on"||sr.config.xaxis.type!=="category"&&!sr.config.xaxis.convertedCatToNumeric?Hn:Hn-1;sr.globals.isXNumeric&&(ar=sr.globals.xAxisScale.result.length-1);for(var or=sr.globals.padHorizontal,lr=sr.globals.padHorizontal+sr.globals.gridWidth/ar,cr=sr.globals.gridHeight,ur=0,dr=0;ur<Hn;ur++,dr++){var fr;dr>=sr.config.grid.column.colors.length&&(dr=0),sr.config.xaxis.type==="datetime"&&(or=this.xaxisLabels[ur].position,lr=(((fr=this.xaxisLabels[ur+1])===null||fr===void 0?void 0:fr.position)||sr.globals.gridWidth)-this.xaxisLabels[ur].position),this._drawGridBandRect({c:dr,x1:or,y1:0,x2:lr,y2:cr,type:"column"}),or+=sr.globals.gridWidth/ar}}}}]),tr})(),ea=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.coreUtils=new Pi$1(this.ctx)}return s$1(tr,[{key:"niceScale",value:function(Hn,er){var nr,ir,rr,sr,ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,or=1e-11,lr=this.w,cr=lr.globals;cr.isBarHorizontal?(nr=lr.config.xaxis,ir=Math.max((cr.svgWidth-100)/25,2)):(nr=lr.config.yaxis[ar],ir=Math.max((cr.svgHeight-100)/15,2)),v$1.isNumber(ir)||(ir=10),rr=nr.min!==void 0&&nr.min!==null,sr=nr.max!==void 0&&nr.min!==null;var ur=nr.stepSize!==void 0&&nr.stepSize!==null,dr=nr.tickAmount!==void 0&&nr.tickAmount!==null,fr=dr?nr.tickAmount:cr.niceScaleDefaultTicks[Math.min(Math.round(ir/2),cr.niceScaleDefaultTicks.length-1)];if(cr.isMultipleYAxis&&!dr&&cr.multiAxisTickAmount>0&&(fr=cr.multiAxisTickAmount,dr=!0),fr=fr==="dataPoints"?cr.dataPoints-1:Math.abs(Math.round(fr)),(Hn===Number.MIN_VALUE&&er===0||!v$1.isNumber(Hn)&&!v$1.isNumber(er)||Hn===Number.MIN_VALUE&&er===-Number.MAX_VALUE)&&(Hn=v$1.isNumber(nr.min)?nr.min:0,er=v$1.isNumber(nr.max)?nr.max:Hn+fr,cr.allSeriesCollapsed=!1),Hn>er){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var xr=er;er=Hn,Hn=xr}else Hn===er&&(Hn=Hn===0?0:Hn-1,er=er===0?2:er+1);var yr=[];fr<1&&(fr=1);var _r=fr,Sr=Math.abs(er-Hn);!rr&&Hn>0&&Hn/Sr<.15&&(Hn=0,rr=!0),!sr&&er<0&&-er/Sr<.15&&(er=0,sr=!0);var jr=(Sr=Math.abs(er-Hn))/_r,Dr=jr,Ir=Math.floor(Math.log10(Dr)),Mr=Math.pow(10,Ir),Or=Math.ceil(Dr/Mr);if(jr=Dr=(Or=cr.niceScaleAllowedMagMsd[cr.yValueDecimal===0?0:1][Or])*Mr,cr.isBarHorizontal&&nr.stepSize&&nr.type!=="datetime"?(jr=nr.stepSize,ur=!0):ur&&(jr=nr.stepSize),ur&&nr.forceNiceScale){var Lr=Math.floor(Math.log10(jr));jr*=Math.pow(10,Ir-Lr)}if(rr&&sr){var Fr=Sr/_r;if(dr)if(ur)if(v$1.mod(Sr,jr)!=0){var Vr=v$1.getGCD(jr,Fr);jr=Fr/Vr<10?Vr:Fr}else v$1.mod(jr,Fr)==0?jr=Fr:(Fr=jr,dr=!1);else jr=Fr;else if(ur)v$1.mod(Sr,jr)==0?Fr=jr:jr=Fr;else if(v$1.mod(Sr,jr)==0)Fr=jr;else{Fr=Sr/(_r=Math.ceil(Sr/jr));var Zr=v$1.getGCD(Sr,jr);Sr/Zr<ir&&(Fr=Zr),jr=Fr}_r=Math.round(Sr/jr)}else{if(rr||sr){if(sr)if(dr)Hn=er-jr*_r;else{var Hr=Hn;Hn=jr*Math.floor(Hn/jr),Math.abs(er-Hn)/v$1.getGCD(Sr,jr)>ir&&(Hn=er-jr*fr,Hn+=jr*Math.floor((Hr-Hn)/jr))}else if(rr)if(dr)er=Hn+jr*_r;else{var Yr=er;er=jr*Math.ceil(er/jr),Math.abs(er-Hn)/v$1.getGCD(Sr,jr)>ir&&(er=Hn+jr*fr,er+=jr*Math.ceil((Yr-er)/jr))}}else if(cr.isMultipleYAxis&&dr){var eo=jr*Math.floor(Hn/jr),io=eo+jr*_r;io<er&&(jr*=2),io=er,er=(Hn=eo)+jr*_r,Sr=Math.abs(er-Hn),Hn>0&&Hn<Math.abs(io-er)&&(Hn=0,er=jr*_r),er<0&&-er<Math.abs(eo-Hn)&&(er=0,Hn=-jr*_r)}else Hn=jr*Math.floor(Hn/jr),er=jr*Math.ceil(er/jr);Sr=Math.abs(er-Hn),jr=v$1.getGCD(Sr,jr),_r=Math.round(Sr/jr)}if(dr||rr||sr||(_r=Math.ceil((Sr-or)/(jr+or)))>16&&v$1.getPrimeFactors(_r).length<2&&_r++,!dr&&nr.forceNiceScale&&cr.yValueDecimal===0&&_r>Sr&&(_r=Sr,jr=Math.round(Sr/_r)),_r>ir&&(!dr&&!ur||nr.forceNiceScale)){var uo=v$1.getPrimeFactors(_r),so=uo.length-1,no=_r;e:for(var po=0;po<so;po++)for(var co=0;co<=so-po;co++){for(var lo=Math.min(co+po,so),ao=no,xo=1,_o=co;_o<=lo;_o++)xo*=uo[_o];if((ao/=xo)<ir){no=ao;break e}}jr=no===_r?Sr:Sr/no,_r=Math.round(Sr/jr)}cr.isMultipleYAxis&&cr.multiAxisTickAmount==0&&cr.ignoreYAxisIndexes.indexOf(ar)<0&&(cr.multiAxisTickAmount=_r);var Po=Hn-jr,Oo=jr*or;do Po+=jr,yr.push(v$1.stripNumber(Po,7));while(er-Po>Oo);return{result:yr,niceMin:yr[0],niceMax:yr[yr.length-1]}}},{key:"linearScale",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,sr=Math.abs(er-Hn),ar=[];if(Hn===er)return{result:ar=[Hn],niceMin:ar[0],niceMax:ar[ar.length-1]};(nr=this._adjustTicksForSmallRange(nr,ir,sr))==="dataPoints"&&(nr=this.w.globals.dataPoints-1),rr||(rr=sr/nr),rr=Math.round(100*(rr+Number.EPSILON))/100,nr===Number.MAX_VALUE&&(nr=5,rr=1);for(var or=Hn;nr>=0;)ar.push(or),or=v$1.preciseAddition(or,rr),nr-=1;return{result:ar,niceMin:ar[0],niceMax:ar[ar.length-1]}}},{key:"logarithmicScaleNice",value:function(Hn,er,nr){er<=0&&(er=Math.max(Hn,nr)),Hn<=0&&(Hn=Math.min(er,nr));for(var ir=[],rr=Math.ceil(Math.log(er)/Math.log(nr)+1),sr=Math.floor(Math.log(Hn)/Math.log(nr));sr<rr;sr++)ir.push(Math.pow(nr,sr));return{result:ir,niceMin:ir[0],niceMax:ir[ir.length-1]}}},{key:"logarithmicScale",value:function(Hn,er,nr){er<=0&&(er=Math.max(Hn,nr)),Hn<=0&&(Hn=Math.min(er,nr));for(var ir=[],rr=Math.log(er)/Math.log(nr),sr=Math.log(Hn)/Math.log(nr),ar=rr-sr,or=Math.round(ar),lr=ar/or,cr=0,ur=sr;cr<or;cr++,ur+=lr)ir.push(Math.pow(nr,ur));return ir.push(Math.pow(nr,rr)),{result:ir,niceMin:Hn,niceMax:er}}},{key:"_adjustTicksForSmallRange",value:function(Hn,er,nr){var ir=Hn;if(er!==void 0&&this.w.config.yaxis[er].labels.formatter&&this.w.config.yaxis[er].tickAmount===void 0){var rr=Number(this.w.config.yaxis[er].labels.formatter(1));v$1.isNumber(rr)&&this.w.globals.yValueDecimal===0&&(ir=Math.ceil(nr))}return ir<Hn?ir:Hn}},{key:"setYScaleForIndex",value:function(Hn,er,nr){var ir=this.w.globals,rr=this.w.config,sr=ir.isBarHorizontal?rr.xaxis:rr.yaxis[Hn];ir.yAxisScale[Hn]===void 0&&(ir.yAxisScale[Hn]=[]);var ar=Math.abs(nr-er);sr.logarithmic&&ar<=5&&(ir.invalidLogScale=!0),sr.logarithmic&&ar>5?(ir.allSeriesCollapsed=!1,ir.yAxisScale[Hn]=sr.forceNiceScale?this.logarithmicScaleNice(er,nr,sr.logBase):this.logarithmicScale(er,nr,sr.logBase)):nr!==-Number.MAX_VALUE&&v$1.isNumber(nr)&&er!==Number.MAX_VALUE&&v$1.isNumber(er)?(ir.allSeriesCollapsed=!1,ir.yAxisScale[Hn]=this.niceScale(er,nr,Hn)):ir.yAxisScale[Hn]=this.niceScale(Number.MIN_VALUE,0,Hn)}},{key:"setXScale",value:function(Hn,er){var nr=this.w,ir=nr.globals;if(er!==-Number.MAX_VALUE&&v$1.isNumber(er)){var rr=ir.xTickAmount;ir.xAxisScale=this.linearScale(Hn,er,rr,0,nr.config.xaxis.max===void 0?nr.config.xaxis.stepSize:void 0)}else ir.xAxisScale=this.linearScale(0,10,10);return ir.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var Hn=this,er=this.w.config,nr=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var ir=nr.seriesYAxisMap,rr=nr.minYArr,sr=nr.maxYArr;nr.allSeriesCollapsed=!0,nr.barGroups=[],ir.forEach((function(ar,or){var lr=[];ar.forEach((function(cr){var ur,dr=(ur=er.series[cr])===null||ur===void 0?void 0:ur.group;lr.indexOf(dr)<0&&lr.push(dr)})),ar.length>0?(function(){var cr,ur,dr=Number.MAX_VALUE,fr=-Number.MAX_VALUE,xr=dr,yr=fr;if(er.chart.stacked)(function(){var jr=new Array(nr.dataPoints).fill(0),Dr=[],Ir=[],Mr=[];lr.forEach((function(){Dr.push(jr.map((function(){return Number.MIN_VALUE}))),Ir.push(jr.map((function(){return Number.MIN_VALUE}))),Mr.push(jr.map((function(){return Number.MIN_VALUE})))}));for(var Or=function(Fr){!cr&&er.series[ar[Fr]].type&&(cr=er.series[ar[Fr]].type);var Vr=ar[Fr];ur=er.series[Vr].group?er.series[Vr].group:"axis-".concat(or),!(nr.collapsedSeriesIndices.indexOf(Vr)<0&&nr.ancillaryCollapsedSeriesIndices.indexOf(Vr)<0)||(nr.allSeriesCollapsed=!1,lr.forEach((function(Zr,Hr){if(er.series[Vr].group===Zr)for(var Yr=0;Yr<nr.series[Vr].length;Yr++){var eo=nr.series[Vr][Yr];eo>=0?Ir[Hr][Yr]+=eo:Mr[Hr][Yr]+=eo,Dr[Hr][Yr]+=eo,xr=Math.min(xr,eo),yr=Math.max(yr,eo)}}))),cr!=="bar"&&cr!=="column"||nr.barGroups.push(ur)},Lr=0;Lr<ar.length;Lr++)Or(Lr);cr||(cr=er.chart.type),cr==="bar"||cr==="column"?lr.forEach((function(Fr,Vr){dr=Math.min(dr,Math.min.apply(null,Mr[Vr])),fr=Math.max(fr,Math.max.apply(null,Ir[Vr]))})):(lr.forEach((function(Fr,Vr){xr=Math.min(xr,Math.min.apply(null,Dr[Vr])),yr=Math.max(yr,Math.max.apply(null,Dr[Vr]))})),dr=xr,fr=yr),dr===Number.MIN_VALUE&&fr===Number.MIN_VALUE&&(fr=-Number.MAX_VALUE)})();else for(var _r=0;_r<ar.length;_r++){var Sr=ar[_r];dr=Math.min(dr,rr[Sr]),fr=Math.max(fr,sr[Sr]),!(nr.collapsedSeriesIndices.indexOf(Sr)<0&&nr.ancillaryCollapsedSeriesIndices.indexOf(Sr)<0)||(nr.allSeriesCollapsed=!1)}er.yaxis[or].min!==void 0&&(dr=typeof er.yaxis[or].min=="function"?er.yaxis[or].min(dr):er.yaxis[or].min),er.yaxis[or].max!==void 0&&(fr=typeof er.yaxis[or].max=="function"?er.yaxis[or].max(fr):er.yaxis[or].max),nr.barGroups=nr.barGroups.filter((function(jr,Dr,Ir){return Ir.indexOf(jr)===Dr})),Hn.setYScaleForIndex(or,dr,fr),ar.forEach((function(jr){rr[jr]=nr.yAxisScale[or].niceMin,sr[jr]=nr.yAxisScale[or].niceMax}))})():Hn.setYScaleForIndex(or,0,-Number.MAX_VALUE)}))}}]),tr})(),ia=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.scales=new ea(Hn)}return s$1(tr,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,rr=this.w.config,sr=this.w.globals,ar=-Number.MAX_VALUE,or=Number.MIN_VALUE;ir===null&&(ir=Hn+1);var lr=sr.series,cr=lr,ur=lr;rr.chart.type==="candlestick"?(cr=sr.seriesCandleL,ur=sr.seriesCandleH):rr.chart.type==="boxPlot"?(cr=sr.seriesCandleO,ur=sr.seriesCandleC):sr.isRangeData&&(cr=sr.seriesRangeStart,ur=sr.seriesRangeEnd);var dr=!1;if(sr.seriesX.length>=ir){var fr,xr=(fr=sr.brushSource)===null||fr===void 0?void 0:fr.w.config.chart.brush;(rr.chart.zoom.enabled&&rr.chart.zoom.autoScaleYaxis||xr!=null&&xr.enabled&&xr!=null&&xr.autoScaleYaxis)&&(dr=!0)}for(var yr=Hn;yr<ir;yr++){sr.dataPoints=Math.max(sr.dataPoints,lr[yr].length);var _r=rr.series[yr].type;sr.categoryLabels.length&&(sr.dataPoints=sr.categoryLabels.filter((function(Vr){return Vr!==void 0})).length),sr.labels.length&&rr.xaxis.type!=="datetime"&&sr.series.reduce((function(Vr,Zr){return Vr+Zr.length}),0)!==0&&(sr.dataPoints=Math.max(sr.dataPoints,sr.labels.length));var Sr=0,jr=lr[yr].length-1;if(dr){if(rr.xaxis.min)for(;Sr<jr&&sr.seriesX[yr][Sr]<rr.xaxis.min;Sr++);if(rr.xaxis.max)for(;jr>Sr&&sr.seriesX[yr][jr]>rr.xaxis.max;jr--);}for(var Dr=Sr;Dr<=jr&&Dr<sr.series[yr].length;Dr++){var Ir=lr[yr][Dr];if(Ir!==null&&v$1.isNumber(Ir)){var Mr,Or,Lr,Fr;switch(((Mr=ur[yr])===null||Mr===void 0?void 0:Mr[Dr])!==void 0&&(ar=Math.max(ar,ur[yr][Dr]),er=Math.min(er,ur[yr][Dr])),((Or=cr[yr])===null||Or===void 0?void 0:Or[Dr])!==void 0&&(er=Math.min(er,cr[yr][Dr]),nr=Math.max(nr,cr[yr][Dr])),_r){case"candlestick":sr.seriesCandleC[yr][Dr]!==void 0&&(ar=Math.max(ar,sr.seriesCandleH[yr][Dr]),er=Math.min(er,sr.seriesCandleL[yr][Dr]));break;case"boxPlot":sr.seriesCandleC[yr][Dr]!==void 0&&(ar=Math.max(ar,sr.seriesCandleC[yr][Dr]),er=Math.min(er,sr.seriesCandleO[yr][Dr]))}_r&&_r!=="candlestick"&&_r!=="boxPlot"&&_r!=="rangeArea"&&_r!=="rangeBar"&&(ar=Math.max(ar,sr.series[yr][Dr]),er=Math.min(er,sr.series[yr][Dr])),sr.seriesGoals[yr]&&sr.seriesGoals[yr][Dr]&&Array.isArray(sr.seriesGoals[yr][Dr])&&sr.seriesGoals[yr][Dr].forEach((function(Vr){ar=Math.max(ar,Vr.value),er=Math.min(er,Vr.value)})),nr=ar,Ir=v$1.noExponents(Ir),v$1.isFloat(Ir)&&(sr.yValueDecimal=Math.max(sr.yValueDecimal,Ir.toString().split(".")[1].length)),or>((Lr=cr[yr])===null||Lr===void 0?void 0:Lr[Dr])&&((Fr=cr[yr])===null||Fr===void 0?void 0:Fr[Dr])<0&&(or=cr[yr][Dr])}else sr.hasNullValues=!0}_r!=="bar"&&_r!=="column"||(or<0&&ar<0&&(ar=0,nr=Math.max(nr,0)),or===Number.MIN_VALUE&&(or=0,er=Math.min(er,0)))}return rr.chart.type==="rangeBar"&&sr.seriesRangeStart.length&&sr.isBarHorizontal&&(or=er),rr.chart.type==="bar"&&(or<0&&ar<0&&(ar=0),or===Number.MIN_VALUE&&(or=0)),{minY:or,maxY:ar,lowestY:er,highestY:nr}}},{key:"setYRange",value:function(){var Hn=this.w.globals,er=this.w.config;Hn.maxY=-Number.MAX_VALUE,Hn.minY=Number.MIN_VALUE;var nr,ir=Number.MAX_VALUE;if(Hn.isMultipleYAxis){ir=Number.MAX_VALUE;for(var rr=0;rr<Hn.series.length;rr++)nr=this.getMinYMaxY(rr),Hn.minYArr[rr]=nr.lowestY,Hn.maxYArr[rr]=nr.highestY,ir=Math.min(ir,nr.lowestY)}return nr=this.getMinYMaxY(0,ir,null,Hn.series.length),er.chart.type==="bar"?(Hn.minY=nr.minY,Hn.maxY=nr.maxY):(Hn.minY=nr.lowestY,Hn.maxY=nr.highestY),ir=nr.lowestY,er.chart.stacked&&this._setStackedMinMax(),er.chart.type==="line"||er.chart.type==="area"||er.chart.type==="scatter"||er.chart.type==="candlestick"||er.chart.type==="boxPlot"||er.chart.type==="rangeBar"&&!Hn.isBarHorizontal?Hn.minY===Number.MIN_VALUE&&ir!==-Number.MAX_VALUE&&ir!==Hn.maxY&&(Hn.minY=ir):Hn.minY=Hn.minY!==Number.MIN_VALUE?Math.min(nr.minY,Hn.minY):nr.minY,er.yaxis.forEach((function(sr,ar){sr.max!==void 0&&(typeof sr.max=="number"?Hn.maxYArr[ar]=sr.max:typeof sr.max=="function"&&(Hn.maxYArr[ar]=sr.max(Hn.isMultipleYAxis?Hn.maxYArr[ar]:Hn.maxY)),Hn.maxY=Hn.maxYArr[ar]),sr.min!==void 0&&(typeof sr.min=="number"?Hn.minYArr[ar]=sr.min:typeof sr.min=="function"&&(Hn.minYArr[ar]=sr.min(Hn.isMultipleYAxis?Hn.minYArr[ar]===Number.MIN_VALUE?0:Hn.minYArr[ar]:Hn.minY)),Hn.minY=Hn.minYArr[ar])})),Hn.isBarHorizontal&&["min","max"].forEach((function(sr){er.xaxis[sr]!==void 0&&typeof er.xaxis[sr]=="number"&&(sr==="min"?Hn.minY=er.xaxis[sr]:Hn.maxY=er.xaxis[sr])})),Hn.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),Hn.minY=ir):(this.scales.setYScaleForIndex(0,Hn.minY,Hn.maxY),Hn.minY=Hn.yAxisScale[0].niceMin,Hn.maxY=Hn.yAxisScale[0].niceMax,Hn.minYArr[0]=Hn.minY,Hn.maxYArr[0]=Hn.maxY),Hn.barGroups=[],Hn.lineGroups=[],Hn.areaGroups=[],er.series.forEach((function(sr){switch(sr.type||er.chart.type){case"bar":case"column":Hn.barGroups.push(sr.group);break;case"line":Hn.lineGroups.push(sr.group);break;case"area":Hn.areaGroups.push(sr.group)}})),Hn.barGroups=Hn.barGroups.filter((function(sr,ar,or){return or.indexOf(sr)===ar})),Hn.lineGroups=Hn.lineGroups.filter((function(sr,ar,or){return or.indexOf(sr)===ar})),Hn.areaGroups=Hn.areaGroups.filter((function(sr,ar,or){return or.indexOf(sr)===ar})),{minY:Hn.minY,maxY:Hn.maxY,minYArr:Hn.minYArr,maxYArr:Hn.maxYArr,yAxisScale:Hn.yAxisScale}}},{key:"setXRange",value:function(){var Hn=this.w.globals,er=this.w.config,nr=er.xaxis.type==="numeric"||er.xaxis.type==="datetime"||er.xaxis.type==="category"&&!Hn.noLabelsProvided||Hn.noLabelsProvided||Hn.isXNumeric;if(Hn.isXNumeric&&(function(){for(var or=0;or<Hn.series.length;or++)if(Hn.labels[or])for(var lr=0;lr<Hn.labels[or].length;lr++)Hn.labels[or][lr]!==null&&v$1.isNumber(Hn.labels[or][lr])&&(Hn.maxX=Math.max(Hn.maxX,Hn.labels[or][lr]),Hn.initialMaxX=Math.max(Hn.maxX,Hn.labels[or][lr]),Hn.minX=Math.min(Hn.minX,Hn.labels[or][lr]),Hn.initialMinX=Math.min(Hn.minX,Hn.labels[or][lr]))})(),Hn.noLabelsProvided&&er.xaxis.categories.length===0&&(Hn.maxX=Hn.labels[Hn.labels.length-1],Hn.initialMaxX=Hn.labels[Hn.labels.length-1],Hn.minX=1,Hn.initialMinX=1),Hn.isXNumeric||Hn.noLabelsProvided||Hn.dataFormatXNumeric){var ir=10;if(er.xaxis.tickAmount===void 0)ir=Math.round(Hn.svgWidth/150),er.xaxis.type==="numeric"&&Hn.dataPoints<30&&(ir=Hn.dataPoints-1),ir>Hn.dataPoints&&Hn.dataPoints!==0&&(ir=Hn.dataPoints-1);else if(er.xaxis.tickAmount==="dataPoints"){if(Hn.series.length>1&&(ir=Hn.series[Hn.maxValsInArrayIndex].length-1),Hn.isXNumeric){var rr=Math.round(Hn.maxX-Hn.minX);rr<30&&(ir=rr)}}else ir=er.xaxis.tickAmount;if(Hn.xTickAmount=ir,er.xaxis.max!==void 0&&typeof er.xaxis.max=="number"&&(Hn.maxX=er.xaxis.max),er.xaxis.min!==void 0&&typeof er.xaxis.min=="number"&&(Hn.minX=er.xaxis.min),er.xaxis.range!==void 0&&(Hn.minX=Hn.maxX-er.xaxis.range),Hn.minX!==Number.MAX_VALUE&&Hn.maxX!==-Number.MAX_VALUE)if(er.xaxis.convertedCatToNumeric&&!Hn.dataFormatXNumeric){for(var sr=[],ar=Hn.minX-1;ar<Hn.maxX;ar++)sr.push(ar+1);Hn.xAxisScale={result:sr,niceMin:sr[0],niceMax:sr[sr.length-1]}}else Hn.xAxisScale=this.scales.setXScale(Hn.minX,Hn.maxX);else Hn.xAxisScale=this.scales.linearScale(0,ir,ir,0,er.xaxis.stepSize),Hn.noLabelsProvided&&Hn.labels.length>0&&(Hn.xAxisScale=this.scales.linearScale(1,Hn.labels.length,ir-1,0,er.xaxis.stepSize),Hn.seriesX=Hn.labels.slice());nr&&(Hn.labels=Hn.xAxisScale.result.slice())}return Hn.isBarHorizontal&&Hn.labels.length&&(Hn.xTickAmount=Hn.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:Hn.minX,maxX:Hn.maxX}}},{key:"setZRange",value:function(){var Hn=this.w.globals;if(Hn.isDataXYZ){for(var er=0;er<Hn.series.length;er++)if(Hn.seriesZ[er]!==void 0)for(var nr=0;nr<Hn.seriesZ[er].length;nr++)Hn.seriesZ[er][nr]!==null&&v$1.isNumber(Hn.seriesZ[er][nr])&&(Hn.maxZ=Math.max(Hn.maxZ,Hn.seriesZ[er][nr]),Hn.minZ=Math.min(Hn.minZ,Hn.seriesZ[er][nr]))}}},{key:"_handleSingleDataPoint",value:function(){var Hn=this.w.globals,er=this.w.config;if(Hn.minX===Hn.maxX){var nr=new zi$1(this.ctx);if(er.xaxis.type==="datetime"){var ir=nr.getDate(Hn.minX);er.xaxis.labels.datetimeUTC?ir.setUTCDate(ir.getUTCDate()-2):ir.setDate(ir.getDate()-2),Hn.minX=new Date(ir).getTime();var rr=nr.getDate(Hn.maxX);er.xaxis.labels.datetimeUTC?rr.setUTCDate(rr.getUTCDate()+2):rr.setDate(rr.getDate()+2),Hn.maxX=new Date(rr).getTime()}else(er.xaxis.type==="numeric"||er.xaxis.type==="category"&&!Hn.noLabelsProvided)&&(Hn.minX=Hn.minX-2,Hn.initialMinX=Hn.minX,Hn.maxX=Hn.maxX+2,Hn.initialMaxX=Hn.maxX)}}},{key:"_getMinXDiff",value:function(){var Hn=this.w.globals;Hn.isXNumeric&&Hn.seriesX.forEach((function(er,nr){if(er.length){er.length===1&&er.push(Hn.seriesX[Hn.maxValsInArrayIndex][Hn.seriesX[Hn.maxValsInArrayIndex].length-1]);var ir=er.slice();ir.sort((function(rr,sr){return rr-sr})),ir.forEach((function(rr,sr){if(sr>0){var ar=rr-ir[sr-1];ar>0&&(Hn.minXDiff=Math.min(ar,Hn.minXDiff))}})),Hn.dataPoints!==1&&Hn.minXDiff!==Number.MAX_VALUE||(Hn.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var Hn=this,er=this.w.globals;if(er.series.length){var nr=er.seriesGroups;nr.length||(nr=[this.w.globals.seriesNames.map((function(sr){return sr}))]);var ir={},rr={};nr.forEach((function(sr){ir[sr]=[],rr[sr]=[],Hn.w.config.series.map((function(ar,or){return sr.indexOf(er.seriesNames[or])>-1?or:null})).filter((function(ar){return ar!==null})).forEach((function(ar){for(var or=0;or<er.series[er.maxValsInArrayIndex].length;or++){var lr,cr,ur,dr;ir[sr][or]===void 0&&(ir[sr][or]=0,rr[sr][or]=0),(Hn.w.config.chart.stacked&&!er.comboCharts||Hn.w.config.chart.stacked&&er.comboCharts&&(!Hn.w.config.chart.stackOnlyBar||((lr=Hn.w.config.series)===null||lr===void 0||(cr=lr[ar])===null||cr===void 0?void 0:cr.type)==="bar"||((ur=Hn.w.config.series)===null||ur===void 0||(dr=ur[ar])===null||dr===void 0?void 0:dr.type)==="column"))&&er.series[ar][or]!==null&&v$1.isNumber(er.series[ar][or])&&(er.series[ar][or]>0?ir[sr][or]+=parseFloat(er.series[ar][or])+1e-4:rr[sr][or]+=parseFloat(er.series[ar][or]))}}))})),Object.entries(ir).forEach((function(sr){var ar=p$2(sr,1)[0];ir[ar].forEach((function(or,lr){er.maxY=Math.max(er.maxY,ir[ar][lr]),er.minY=Math.min(er.minY,rr[ar][lr])}))}))}}}]),tr})(),aa=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.elgrid=er,this.w=Hn.w;var nr=this.w;this.xaxisFontSize=nr.config.xaxis.labels.style.fontSize,this.axisFontFamily=nr.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=nr.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=nr.config.chart.type==="bar"&&nr.config.plotOptions.bar.horizontal,this.xAxisoffX=nr.config.xaxis.position==="bottom"?nr.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ri$1(Hn)}return s$1(tr,[{key:"drawYaxis",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=er.config.yaxis[Hn].labels.style,rr=ir.fontSize,sr=ir.fontFamily,ar=ir.fontWeight,or=nr.group({class:"apexcharts-yaxis",rel:Hn,transform:"translate(".concat(er.globals.translateYAxisX[Hn],", 0)")});if(this.axesUtils.isYAxisHidden(Hn))return or;var lr=nr.group({class:"apexcharts-yaxis-texts-g"});or.add(lr);var cr=er.globals.yAxisScale[Hn].result.length-1,ur=er.globals.gridHeight/cr,dr=er.globals.yLabelFormatters[Hn],fr=this.axesUtils.checkForReversedLabels(Hn,er.globals.yAxisScale[Hn].result.slice());if(er.config.yaxis[Hn].labels.show){var xr=er.globals.translateY+er.config.yaxis[Hn].labels.offsetY;er.globals.isBarHorizontal?xr=0:er.config.chart.type==="heatmap"&&(xr-=ur/2),xr+=parseInt(rr,10)/3;for(var yr=cr;yr>=0;yr--){var _r=dr(fr[yr],yr,er),Sr=er.config.yaxis[Hn].labels.padding;er.config.yaxis[Hn].opposite&&er.config.yaxis.length!==0&&(Sr*=-1);var jr=this.getTextAnchor(er.config.yaxis[Hn].labels.align,er.config.yaxis[Hn].opposite),Dr=this.axesUtils.getYAxisForeColor(ir.colors,Hn),Ir=Array.isArray(Dr)?Dr[yr]:Dr,Mr=v$1.listToArray(er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(Hn,"'] .apexcharts-yaxis-label tspan"))).map((function(Lr){return Lr.textContent})),Or=nr.drawText({x:Sr,y:xr,text:Mr.includes(_r)&&!er.config.yaxis[Hn].labels.showDuplicates?"":_r,textAnchor:jr,fontSize:rr,fontFamily:sr,fontWeight:ar,maxWidth:er.config.yaxis[Hn].labels.maxWidth,foreColor:Ir,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(ir.cssClass)});lr.add(Or),this.addTooltip(Or,_r),er.config.yaxis[Hn].labels.rotate!==0&&this.rotateLabel(nr,Or,firstLabel,er.config.yaxis[Hn].labels.rotate),xr+=ur}}return this.addYAxisTitle(nr,or,Hn),this.addAxisBorder(nr,or,Hn,cr,ur),or}},{key:"getTextAnchor",value:function(Hn,er){return Hn==="left"?"start":Hn==="center"?"middle":Hn==="right"?"end":er?"start":"end"}},{key:"addTooltip",value:function(Hn,er){var nr=document.createElementNS(this.w.globals.SVGNS,"title");nr.textContent=Array.isArray(er)?er.join(" "):er,Hn.node.appendChild(nr)}},{key:"rotateLabel",value:function(Hn,er,nr,ir){var rr=Hn.rotateAroundCenter(nr.node),sr=Hn.rotateAroundCenter(er.node);er.node.setAttribute("transform","rotate(".concat(ir," ").concat(rr.x," ").concat(sr.y,")"))}},{key:"addYAxisTitle",value:function(Hn,er,nr){var ir=this.w;if(ir.config.yaxis[nr].title.text!==void 0){var rr=Hn.group({class:"apexcharts-yaxis-title"}),sr=ir.config.yaxis[nr].opposite?ir.globals.translateYAxisX[nr]:0,ar=Hn.drawText({x:sr,y:ir.globals.gridHeight/2+ir.globals.translateY+ir.config.yaxis[nr].title.offsetY,text:ir.config.yaxis[nr].title.text,textAnchor:"end",foreColor:ir.config.yaxis[nr].title.style.color,fontSize:ir.config.yaxis[nr].title.style.fontSize,fontWeight:ir.config.yaxis[nr].title.style.fontWeight,fontFamily:ir.config.yaxis[nr].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(ir.config.yaxis[nr].title.style.cssClass)});rr.add(ar),er.add(rr)}}},{key:"addAxisBorder",value:function(Hn,er,nr,ir,rr){var sr=this.w,ar=sr.config.yaxis[nr].axisBorder,or=31+ar.offsetX;if(sr.config.yaxis[nr].opposite&&(or=-31-ar.offsetX),ar.show){var lr=Hn.drawLine(or,sr.globals.translateY+ar.offsetY-2,or,sr.globals.gridHeight+sr.globals.translateY+ar.offsetY+2,ar.color,0,ar.width);er.add(lr)}sr.config.yaxis[nr].axisTicks.show&&this.axesUtils.drawYAxisTicks(or,ir,ar,sr.config.yaxis[nr].axisTicks,nr,rr,er)}},{key:"drawYaxisInversed",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=nr.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),rr=nr.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(er.globals.translateXAxisX,", ").concat(er.globals.translateXAxisY,")")});ir.add(rr);var sr=er.globals.yAxisScale[Hn].result.length-1,ar=er.globals.gridWidth/sr+.1,or=ar+er.config.xaxis.labels.offsetX,lr=er.globals.xLabelFormatter,cr=this.axesUtils.checkForReversedLabels(Hn,er.globals.yAxisScale[Hn].result.slice()),ur=er.globals.timescaleLabels;if(ur.length>0&&(this.xaxisLabels=ur.slice(),sr=(cr=ur.slice()).length),er.config.xaxis.labels.show)for(var dr=ur.length?0:sr;ur.length?dr<ur.length:dr>=0;ur.length?dr++:dr--){var fr=lr(cr[dr],dr,er),xr=er.globals.gridWidth+er.globals.padHorizontal-(or-ar+er.config.xaxis.labels.offsetX);if(ur.length){var yr=this.axesUtils.getLabel(cr,ur,xr,dr,this.drawnLabels,this.xaxisFontSize);xr=yr.x,fr=yr.text,this.drawnLabels.push(yr.text),dr===0&&er.globals.skipFirstTimelinelabel&&(fr=""),dr===cr.length-1&&er.globals.skipLastTimelinelabel&&(fr="")}var _r=nr.drawText({x:xr,y:this.xAxisoffX+er.config.xaxis.labels.offsetY+30-(er.config.xaxis.position==="top"?er.globals.xAxisHeight+er.config.xaxis.axisTicks.height-2:0),text:fr,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[Hn]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:er.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(er.config.xaxis.labels.style.cssClass)});rr.add(_r),_r.tspan(fr),this.addTooltip(_r,fr),or+=ar}return this.inversedYAxisTitleText(ir),this.inversedYAxisBorder(ir),ir}},{key:"inversedYAxisBorder",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=er.config.xaxis.axisBorder;if(ir.show){var rr=0;er.config.chart.type==="bar"&&er.globals.isXNumeric&&(rr-=15);var sr=nr.drawLine(er.globals.padHorizontal+rr+ir.offsetX,this.xAxisoffX,er.globals.gridWidth,this.xAxisoffX,ir.color,0,ir.height);this.elgrid&&this.elgrid.elGridBorders&&er.config.grid.show?this.elgrid.elGridBorders.add(sr):Hn.add(sr)}}},{key:"inversedYAxisTitleText",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx);if(er.config.xaxis.title.text!==void 0){var ir=nr.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),rr=nr.drawText({x:er.globals.gridWidth/2+er.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(er.config.xaxis.title.style.fontSize)+er.config.xaxis.title.offsetY+20,text:er.config.xaxis.title.text,textAnchor:"middle",fontSize:er.config.xaxis.title.style.fontSize,fontFamily:er.config.xaxis.title.style.fontFamily,fontWeight:er.config.xaxis.title.style.fontWeight,foreColor:er.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(er.config.xaxis.title.style.cssClass)});ir.add(rr),Hn.add(ir)}}},{key:"yAxisTitleRotate",value:function(Hn,er){var nr=this.w,ir=new Mi$1(this.ctx),rr=nr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Hn,"'] .apexcharts-yaxis-texts-g")),sr=rr?rr.getBoundingClientRect():{width:0,height:0},ar=nr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Hn,"'] .apexcharts-yaxis-title text")),or=ar?ar.getBoundingClientRect():{width:0,height:0};if(ar){var lr=this.xPaddingForYAxisTitle(Hn,sr,or,er);ar.setAttribute("x",lr.xPos-(er?10:0));var cr=ir.rotateAroundCenter(ar);ar.setAttribute("transform","rotate(".concat(er?-1*nr.config.yaxis[Hn].title.rotate:nr.config.yaxis[Hn].title.rotate," ").concat(cr.x," ").concat(cr.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(Hn,er,nr,ir){var rr=this.w,sr=0,ar=10;return rr.config.yaxis[Hn].title.text===void 0||Hn<0?{xPos:sr,padd:0}:(ir?sr=er.width+rr.config.yaxis[Hn].title.offsetX+nr.width/2+ar/2:(sr=-1*er.width+rr.config.yaxis[Hn].title.offsetX+ar/2+nr.width/2,rr.globals.isBarHorizontal&&(ar=25,sr=-1*er.width-rr.config.yaxis[Hn].title.offsetX-ar)),{xPos:sr,padd:ar})}},{key:"setYAxisXPosition",value:function(Hn,er){var nr=this.w,ir=0,rr=0,sr=18,ar=1;nr.config.yaxis.length>1&&(this.multipleYs=!0),nr.config.yaxis.forEach((function(or,lr){var cr=nr.globals.ignoreYAxisIndexes.includes(lr)||!or.show||or.floating||Hn[lr].width===0,ur=Hn[lr].width+er[lr].width;or.opposite?nr.globals.isBarHorizontal?(rr=nr.globals.gridWidth+nr.globals.translateX-1,nr.globals.translateYAxisX[lr]=rr-or.labels.offsetX):(rr=nr.globals.gridWidth+nr.globals.translateX+ar,cr||(ar+=ur+20),nr.globals.translateYAxisX[lr]=rr-or.labels.offsetX+20):(ir=nr.globals.translateX-sr,cr||(sr+=ur+20),nr.globals.translateYAxisX[lr]=ir+or.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var Hn=this.w;v$1.listToArray(Hn.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(er,nr){var ir=Hn.config.yaxis[nr];if(ir&&!ir.floating&&ir.labels.align!==void 0){var rr=Hn.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(nr,"'] .apexcharts-yaxis-texts-g")),sr=v$1.listToArray(Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(nr,"'] .apexcharts-yaxis-label"))),ar=rr.getBoundingClientRect();sr.forEach((function(or){or.setAttribute("text-anchor",ir.labels.align)})),ir.labels.align!=="left"||ir.opposite?ir.labels.align==="center"?rr.setAttribute("transform","translate(".concat(ar.width/2*(ir.opposite?1:-1),", 0)")):ir.labels.align==="right"&&ir.opposite&&rr.setAttribute("transform","translate(".concat(ar.width,", 0)")):rr.setAttribute("transform","translate(-".concat(ar.width,", 0)"))}}))}}]),tr})(),sa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.documentEvent=v$1.bind(this.documentEvent,this)}return s$1(tr,[{key:"addEventListener",value:function(Hn,er){var nr=this.w;nr.globals.events.hasOwnProperty(Hn)?nr.globals.events[Hn].push(er):nr.globals.events[Hn]=[er]}},{key:"removeEventListener",value:function(Hn,er){var nr=this.w;if(nr.globals.events.hasOwnProperty(Hn)){var ir=nr.globals.events[Hn].indexOf(er);ir!==-1&&nr.globals.events[Hn].splice(ir,1)}}},{key:"fireEvent",value:function(Hn,er){var nr=this.w;if(nr.globals.events.hasOwnProperty(Hn)){er&&er.length||(er=[]);for(var ir=nr.globals.events[Hn],rr=ir.length,sr=0;sr<rr;sr++)ir[sr].apply(null,er)}}},{key:"setupEventHandlers",value:function(){var Hn=this,er=this.w,nr=this.ctx,ir=er.globals.dom.baseEl.querySelector(er.globals.chartClass);this.ctx.eventList.forEach((function(rr){ir.addEventListener(rr,(function(sr){var ar=sr.target.getAttribute("i")===null&&er.globals.capturedSeriesIndex!==-1?er.globals.capturedSeriesIndex:sr.target.getAttribute("i"),or=sr.target.getAttribute("j")===null&&er.globals.capturedDataPointIndex!==-1?er.globals.capturedDataPointIndex:sr.target.getAttribute("j"),lr=Object.assign({},er,{seriesIndex:er.globals.axisCharts?ar:0,dataPointIndex:or});sr.type==="mousemove"||sr.type==="touchmove"?typeof er.config.chart.events.mouseMove=="function"&&er.config.chart.events.mouseMove(sr,nr,lr):sr.type==="mouseleave"||sr.type==="touchleave"?typeof er.config.chart.events.mouseLeave=="function"&&er.config.chart.events.mouseLeave(sr,nr,lr):(sr.type==="mouseup"&&sr.which===1||sr.type==="touchend")&&(typeof er.config.chart.events.click=="function"&&er.config.chart.events.click(sr,nr,lr),nr.ctx.events.fireEvent("click",[sr,nr,lr]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(rr){er.globals.dom.baseEl.addEventListener(rr,Hn.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(Hn){var er=this.w,nr=Hn.target.className;if(Hn.type==="click"){var ir=er.globals.dom.baseEl.querySelector(".apexcharts-menu");ir&&ir.classList.contains("apexcharts-menu-open")&&nr!=="apexcharts-menu-icon"&&ir.classList.remove("apexcharts-menu-open")}er.globals.clientX=Hn.type==="touchmove"?Hn.touches[0].clientX:Hn.clientX,er.globals.clientY=Hn.type==="touchmove"?Hn.touches[0].clientY:Hn.clientY}}]),tr})(),ra=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"setCurrentLocaleValues",value:function(Hn){var er=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(er=this.w.config.chart.locales.concat(window.Apex.chart.locales));var nr=er.filter((function(rr){return rr.name===Hn}))[0];if(!nr)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var ir=v$1.extend(Hi$1,nr);this.w.globals.locale=ir.options}}]),tr})(),na=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"drawAxis",value:function(Hn,er){var nr,ir,rr=this,sr=this.w.globals,ar=this.w.config,or=new Ki$1(this.ctx,er),lr=new aa(this.ctx,er);sr.axisCharts&&Hn!=="radar"&&(sr.isBarHorizontal?(ir=lr.drawYaxisInversed(0),nr=or.drawXaxisInversed(0),sr.dom.elGraphical.add(nr),sr.dom.elGraphical.add(ir)):(nr=or.drawXaxis(),sr.dom.elGraphical.add(nr),ar.yaxis.map((function(cr,ur){if(sr.ignoreYAxisIndexes.indexOf(ur)===-1&&(ir=lr.drawYaxis(ur),sr.dom.Paper.add(ir),rr.w.config.grid.position==="back")){var dr=sr.dom.Paper.children()[1];dr.remove(),sr.dom.Paper.add(dr)}}))))}}]),tr})(),oa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"drawXCrosshairs",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=new Li$1(this.ctx),ir=Hn.config.xaxis.crosshairs.fill.gradient,rr=Hn.config.xaxis.crosshairs.dropShadow,sr=Hn.config.xaxis.crosshairs.fill.type,ar=ir.colorFrom,or=ir.colorTo,lr=ir.opacityFrom,cr=ir.opacityTo,ur=ir.stops,dr=rr.enabled,fr=rr.left,xr=rr.top,yr=rr.blur,_r=rr.color,Sr=rr.opacity,jr=Hn.config.xaxis.crosshairs.fill.color;if(Hn.config.xaxis.crosshairs.show){sr==="gradient"&&(jr=er.drawGradient("vertical",ar,or,lr,cr,null,ur,null));var Dr=er.drawRect();Hn.config.xaxis.crosshairs.width===1&&(Dr=er.drawLine());var Ir=Hn.globals.gridHeight;(!v$1.isNumber(Ir)||Ir<0)&&(Ir=0);var Mr=Hn.config.xaxis.crosshairs.width;(!v$1.isNumber(Mr)||Mr<0)&&(Mr=0),Dr.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Ir,width:Mr,height:Ir,fill:jr,filter:"none","fill-opacity":Hn.config.xaxis.crosshairs.opacity,stroke:Hn.config.xaxis.crosshairs.stroke.color,"stroke-width":Hn.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":Hn.config.xaxis.crosshairs.stroke.dashArray}),dr&&(Dr=nr.dropShadow(Dr,{left:fr,top:xr,blur:yr,color:_r,opacity:Sr})),Hn.globals.dom.elGraphical.add(Dr)}}},{key:"drawYCrosshairs",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=Hn.config.yaxis[0].crosshairs,ir=Hn.globals.barPadForNumericAxis;if(Hn.config.yaxis[0].crosshairs.show){var rr=er.drawLine(-ir,0,Hn.globals.gridWidth+ir,0,nr.stroke.color,nr.stroke.dashArray,nr.stroke.width);rr.attr({class:"apexcharts-ycrosshairs"}),Hn.globals.dom.elGraphical.add(rr)}var sr=er.drawLine(-ir,0,Hn.globals.gridWidth+ir,0,nr.stroke.color,0,0);sr.attr({class:"apexcharts-ycrosshairs-hidden"}),Hn.globals.dom.elGraphical.add(sr)}}]),tr})(),la=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"checkResponsiveConfig",value:function(Hn){var er=this,nr=this.w,ir=nr.config;if(ir.responsive.length!==0){var rr=ir.responsive.slice();rr.sort((function(lr,cr){return lr.breakpoint>cr.breakpoint?1:cr.breakpoint>lr.breakpoint?-1:0})).reverse();var sr=new Wi$1({}),ar=function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=rr[0].breakpoint,ur=window.innerWidth>0?window.innerWidth:screen.width;if(ur>cr){var dr=v$1.clone(nr.globals.initialConfig);dr.series=v$1.clone(nr.config.series);var fr=Pi$1.extendArrayProps(sr,dr,nr);lr=v$1.extend(fr,lr),lr=v$1.extend(nr.config,lr),er.overrideResponsiveOptions(lr)}else for(var xr=0;xr<rr.length;xr++)ur<rr[xr].breakpoint&&(lr=Pi$1.extendArrayProps(sr,rr[xr].options,nr),lr=v$1.extend(nr.config,lr),er.overrideResponsiveOptions(lr))};if(Hn){var or=Pi$1.extendArrayProps(sr,Hn,nr);or=v$1.extend(nr.config,or),ar(or=v$1.extend(or,Hn))}else ar({})}}},{key:"overrideResponsiveOptions",value:function(Hn){var er=new Wi$1(Hn).init({responsiveOverride:!0});this.w.config=er}}]),tr})(),ha=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return s$1(tr,[{key:"checkHeatmapDistributed",value:function(){var Hn=this.w.config,er=Hn.chart,nr=Hn.plotOptions;return er.type==="treemap"&&nr.treemap&&nr.treemap.distributed||er.type==="heatmap"&&nr.heatmap&&nr.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var Hn=this.w.config,er=Hn.chart,nr=Hn.plotOptions;return nr.bar&&nr.bar.distributed&&(er.type==="bar"||er.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var Hn=this.w,er=new v$1;Hn.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(Hn.config.theme.mode||"light"));var nr=f$2(Hn.config.colors||Hn.config.fill.colors||[]);Hn.globals.colors=this.getColors(nr),this.applySeriesColors(Hn.globals.seriesColors,Hn.globals.colors),Hn.config.theme.monochrome.enabled&&(Hn.globals.colors=this.getMonochromeColors(Hn.config.theme.monochrome,Hn.globals.series,er));var ir=Hn.globals.colors.slice();this.pushExtraColors(Hn.globals.colors),this.applyColorTypes(["fill","stroke"],ir),this.applyDataLabelsColors(ir),this.applyRadarPolygonsColors(),this.applyMarkersColors(ir)}},{key:"getColors",value:function(Hn){var er=this,nr=this.w;return Hn&&Hn.length!==0?Array.isArray(Hn)&&Hn.length>0&&typeof Hn[0]=="function"?(this.isColorFn=!0,nr.config.series.map((function(ir,rr){var sr=Hn[rr]||Hn[0];return typeof sr=="function"?sr({value:nr.globals.axisCharts?nr.globals.series[rr][0]||0:nr.globals.series[rr],seriesIndex:rr,dataPointIndex:rr,w:er.w}):sr}))):Hn:this.predefined()}},{key:"applySeriesColors",value:function(Hn,er){Hn.forEach((function(nr,ir){nr&&(er[ir]=nr)}))}},{key:"getMonochromeColors",value:function(Hn,er,nr){var ir=Hn.color,rr=Hn.shadeIntensity,sr=Hn.shadeTo,ar=this.isBarDistributed||this.isHeatmapDistributed?er[0].length*er.length:er.length,or=1/(ar/rr),lr=0;return Array.from({length:ar},(function(){var cr=sr==="dark"?nr.shadeColor(-1*lr,ir):nr.shadeColor(lr,ir);return lr+=or,cr}))}},{key:"applyColorTypes",value:function(Hn,er){var nr=this,ir=this.w;Hn.forEach((function(rr){ir.globals[rr].colors=ir.config[rr].colors===void 0?nr.isColorFn?ir.config.colors:er:ir.config[rr].colors.slice(),nr.pushExtraColors(ir.globals[rr].colors)}))}},{key:"applyDataLabelsColors",value:function(Hn){var er=this.w;er.globals.dataLabels.style.colors=er.config.dataLabels.style.colors===void 0?Hn:er.config.dataLabels.style.colors.slice(),this.pushExtraColors(er.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var Hn=this.w;Hn.globals.radarPolygons.fill.colors=Hn.config.plotOptions.radar.polygons.fill.colors===void 0?[Hn.config.theme.mode==="dark"?"#343A3F":"none"]:Hn.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(Hn.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(Hn){var er=this.w;er.globals.markers.colors=er.config.markers.colors===void 0?Hn:er.config.markers.colors.slice(),this.pushExtraColors(er.globals.markers.colors)}},{key:"pushExtraColors",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=this.w,rr=er||ir.globals.series.length;if(nr===null&&(nr=this.isBarDistributed||this.isHeatmapDistributed||ir.config.chart.type==="heatmap"&&ir.config.plotOptions.heatmap&&ir.config.plotOptions.heatmap.colorScale.inverse),nr&&ir.globals.series.length&&(rr=ir.globals.series[ir.globals.maxValsInArrayIndex].length*ir.globals.series.length),Hn.length<rr)for(var sr=rr-Hn.length,ar=0;ar<sr;ar++)Hn.push(Hn[ar])}},{key:"updateThemeOptions",value:function(Hn){Hn.chart=Hn.chart||{},Hn.tooltip=Hn.tooltip||{};var er=Hn.theme.mode,nr=er==="dark"?"palette4":er==="light"?"palette1":Hn.theme.palette||"palette1",ir=er==="dark"?"#f6f7f8":er==="light"?"#373d3f":Hn.chart.foreColor||"#373d3f";return Hn.tooltip.theme=er||"light",Hn.chart.foreColor=ir,Hn.theme.palette=nr,Hn}},{key:"predefined",value:function(){var Hn=this.w.config.theme.palette,er=this.ctx.constructor.getThemePalettes();return er[Hn]||er.palette1}}]),tr})(),ca=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(Hn){var er=this.w,nr=Hn==="title"?er.config.title:er.config.subtitle,ir=er.globals.svgWidth/2,rr=nr.offsetY,sr="middle";if(nr.align==="left"?(ir=10,sr="start"):nr.align==="right"&&(ir=er.globals.svgWidth-10,sr="end"),ir+=nr.offsetX,rr=rr+parseInt(nr.style.fontSize,10)+nr.margin/2,nr.text!==void 0){var ar=new Mi$1(this.ctx).drawText({x:ir,y:rr,text:nr.text,textAnchor:sr,fontSize:nr.style.fontSize,fontFamily:nr.style.fontFamily,fontWeight:nr.style.fontWeight,foreColor:nr.style.color,opacity:1});ar.node.setAttribute("class","apexcharts-".concat(Hn,"-text")),er.globals.dom.Paper.add(ar)}}}]),tr})(),da=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"getTitleSubtitleCoords",value:function(Hn){var er=this.w,nr=0,ir=0,rr=Hn==="title"?er.config.title.floating:er.config.subtitle.floating,sr=er.globals.dom.baseEl.querySelector(".apexcharts-".concat(Hn,"-text"));if(sr!==null&&!rr){var ar=sr.getBoundingClientRect();nr=ar.width,ir=er.globals.axisCharts?ar.height+5:ar.height}return{width:nr,height:ir}}},{key:"getLegendsRect",value:function(){var Hn=this.w,er=Hn.globals.dom.elLegendWrap;Hn.config.legend.height||Hn.config.legend.position!=="top"&&Hn.config.legend.position!=="bottom"||(er.style.maxHeight=Hn.globals.svgHeight/2+"px");var nr=Object.assign({},v$1.getBoundingClientRect(er));return er!==null&&!Hn.config.legend.floating&&Hn.config.legend.show?this.dCtx.lgRect={x:nr.x,y:nr.y,height:nr.height,width:nr.height===0?0:nr.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},Hn.config.legend.position!=="left"&&Hn.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>Hn.globals.svgWidth&&(this.dCtx.lgRect.width=Hn.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var Hn=this,er=this.w,nr=[];er.config.series.forEach((function(or,lr){or.data.forEach((function(cr,ur){var dr;dr=er.globals.series[lr][ur],ir=er.config.dataLabels.formatter(dr,{ctx:Hn.dCtx.ctx,seriesIndex:lr,dataPointIndex:ur,w:er}),nr.push(ir)}))}));var ir=v$1.getLargestStringFromArr(nr),rr=new Mi$1(this.dCtx.ctx),sr=er.config.dataLabels.style,ar=rr.getTextRects(ir,parseInt(sr.fontSize),sr.fontFamily);return{width:1.05*ar.width,height:ar.height}}},{key:"getLargestStringFromMultiArr",value:function(Hn,er){var nr=Hn;if(this.w.globals.isMultiLineX){var ir=er.map((function(sr,ar){return Array.isArray(sr)?sr.length:1})),rr=Math.max.apply(Math,f$2(ir));nr=er[ir.indexOf(rr)]}return nr}}]),tr})(),ua=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"getxAxisLabelsCoords",value:function(){var Hn,er=this.w,nr=er.globals.labels.slice();if(er.config.xaxis.convertedCatToNumeric&&nr.length===0&&(nr=er.globals.categoryLabels),er.globals.timescaleLabels.length>0){var ir=this.getxAxisTimeScaleLabelsCoords();Hn={width:ir.width,height:ir.height},er.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=er.config.legend.position!=="left"&&er.config.legend.position!=="right"||er.config.legend.floating?0:this.dCtx.lgRect.width;var rr=er.globals.xLabelFormatter,sr=v$1.getLargestStringFromArr(nr),ar=this.dCtx.dimHelpers.getLargestStringFromMultiArr(sr,nr);er.globals.isBarHorizontal&&(ar=sr=er.globals.yAxisScale[0].result.reduce((function(xr,yr){return xr.length>yr.length?xr:yr}),0));var or=new Xi$1(this.dCtx.ctx),lr=sr;sr=or.xLabelFormat(rr,sr,lr,{i:void 0,dateFormatter:new zi$1(this.dCtx.ctx).formatDate,w:er}),ar=or.xLabelFormat(rr,ar,lr,{i:void 0,dateFormatter:new zi$1(this.dCtx.ctx).formatDate,w:er}),(er.config.xaxis.convertedCatToNumeric&&sr===void 0||String(sr).trim()==="")&&(ar=sr="1");var cr=new Mi$1(this.dCtx.ctx),ur=cr.getTextRects(sr,er.config.xaxis.labels.style.fontSize),dr=ur;if(sr!==ar&&(dr=cr.getTextRects(ar,er.config.xaxis.labels.style.fontSize)),(Hn={width:ur.width>=dr.width?ur.width:dr.width,height:ur.height>=dr.height?ur.height:dr.height}).width*nr.length>er.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&er.config.xaxis.labels.rotate!==0||er.config.xaxis.labels.rotateAlways){if(!er.globals.isBarHorizontal){er.globals.rotateXLabels=!0;var fr=function(xr){return cr.getTextRects(xr,er.config.xaxis.labels.style.fontSize,er.config.xaxis.labels.style.fontFamily,"rotate(".concat(er.config.xaxis.labels.rotate," 0 0)"),!1)};ur=fr(sr),sr!==ar&&(dr=fr(ar)),Hn.height=(ur.height>dr.height?ur.height:dr.height)/1.5,Hn.width=ur.width>dr.width?ur.width:dr.width}}else er.globals.rotateXLabels=!1}return er.config.xaxis.labels.show||(Hn={width:0,height:0}),{width:Hn.width,height:Hn.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var Hn,er=this.w;if(!er.globals.hasXaxisGroups)return{width:0,height:0};var nr,ir=((Hn=er.config.xaxis.group.style)===null||Hn===void 0?void 0:Hn.fontSize)||er.config.xaxis.labels.style.fontSize,rr=er.globals.groups.map((function(ur){return ur.title})),sr=v$1.getLargestStringFromArr(rr),ar=this.dCtx.dimHelpers.getLargestStringFromMultiArr(sr,rr),or=new Mi$1(this.dCtx.ctx),lr=or.getTextRects(sr,ir),cr=lr;return sr!==ar&&(cr=or.getTextRects(ar,ir)),nr={width:lr.width>=cr.width?lr.width:cr.width,height:lr.height>=cr.height?lr.height:cr.height},er.config.xaxis.labels.show||(nr={width:0,height:0}),{width:nr.width,height:nr.height}}},{key:"getxAxisTitleCoords",value:function(){var Hn=this.w,er=0,nr=0;if(Hn.config.xaxis.title.text!==void 0){var ir=new Mi$1(this.dCtx.ctx).getTextRects(Hn.config.xaxis.title.text,Hn.config.xaxis.title.style.fontSize);er=ir.width,nr=ir.height}return{width:er,height:nr}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var Hn,er=this.w;this.dCtx.timescaleLabels=er.globals.timescaleLabels.slice();var nr=this.dCtx.timescaleLabels.map((function(rr){return rr.value})),ir=nr.reduce((function(rr,sr){return rr===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):rr.length>sr.length?rr:sr}),0);return 1.05*(Hn=new Mi$1(this.dCtx.ctx).getTextRects(ir,er.config.xaxis.labels.style.fontSize)).width*nr.length>er.globals.gridWidth&&er.config.xaxis.labels.rotate!==0&&(er.globals.overlappingXLabels=!0),Hn}},{key:"additionalPaddingXLabels",value:function(Hn){var er=this,nr=this.w,ir=nr.globals,rr=nr.config,sr=rr.xaxis.type,ar=Hn.width;ir.skipLastTimelinelabel=!1,ir.skipFirstTimelinelabel=!1;var or=nr.config.yaxis[0].opposite&&nr.globals.isBarHorizontal,lr=function(cr,ur){rr.yaxis.length>1&&(function(dr){return ir.collapsedSeriesIndices.indexOf(dr)!==-1})(ur)||(function(dr){if(er.dCtx.timescaleLabels&&er.dCtx.timescaleLabels.length){var fr=er.dCtx.timescaleLabels[0],xr=er.dCtx.timescaleLabels[er.dCtx.timescaleLabels.length-1].position+ar/1.75-er.dCtx.yAxisWidthRight,yr=fr.position-ar/1.75+er.dCtx.yAxisWidthLeft,_r=nr.config.legend.position==="right"&&er.dCtx.lgRect.width>0?er.dCtx.lgRect.width:0;xr>ir.svgWidth-ir.translateX-_r&&(ir.skipLastTimelinelabel=!0),yr<-(dr.show&&!dr.floating||rr.chart.type!=="bar"&&rr.chart.type!=="candlestick"&&rr.chart.type!=="rangeBar"&&rr.chart.type!=="boxPlot"?10:ar/1.75)&&(ir.skipFirstTimelinelabel=!0)}else sr==="datetime"?er.dCtx.gridPad.right<ar&&!ir.rotateXLabels&&(ir.skipLastTimelinelabel=!0):sr!=="datetime"&&er.dCtx.gridPad.right<ar/2-er.dCtx.yAxisWidthRight&&!ir.rotateXLabels&&!nr.config.xaxis.labels.trim&&(er.dCtx.xPadRight=ar/2+1)})(cr)};rr.yaxis.forEach((function(cr,ur){or?(er.dCtx.gridPad.left<ar&&(er.dCtx.xPadLeft=ar/2+1),er.dCtx.xPadRight=ar/2+1):lr(cr,ur)}))}}]),tr})(),ga=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"getyAxisLabelsCoords",value:function(){var Hn=this,er=this.w,nr=[],ir=10,rr=new Ri$1(this.dCtx.ctx);return er.config.yaxis.map((function(sr,ar){var or={seriesIndex:ar,dataPointIndex:-1,w:er},lr=er.globals.yAxisScale[ar],cr=0;if(!rr.isYAxisHidden(ar)&&sr.labels.show&&sr.labels.minWidth!==void 0&&(cr=sr.labels.minWidth),!rr.isYAxisHidden(ar)&&sr.labels.show&&lr.result.length){var ur=er.globals.yLabelFormatters[ar],dr=lr.niceMin===Number.MIN_VALUE?0:lr.niceMin,fr=lr.result.reduce((function(Ir,Mr){var Or,Lr;return((Or=String(ur(Ir,or)))===null||Or===void 0?void 0:Or.length)>((Lr=String(ur(Mr,or)))===null||Lr===void 0?void 0:Lr.length)?Ir:Mr}),dr),xr=fr=ur(fr,or);if(fr!==void 0&&fr.length!==0||(fr=lr.niceMax),er.globals.isBarHorizontal){ir=0;var yr=er.globals.labels.slice();fr=v$1.getLargestStringFromArr(yr),fr=ur(fr,{seriesIndex:ar,dataPointIndex:-1,w:er}),xr=Hn.dCtx.dimHelpers.getLargestStringFromMultiArr(fr,yr)}var _r=new Mi$1(Hn.dCtx.ctx),Sr="rotate(".concat(sr.labels.rotate," 0 0)"),jr=_r.getTextRects(fr,sr.labels.style.fontSize,sr.labels.style.fontFamily,Sr,!1),Dr=jr;fr!==xr&&(Dr=_r.getTextRects(xr,sr.labels.style.fontSize,sr.labels.style.fontFamily,Sr,!1)),nr.push({width:(cr>Dr.width||cr>jr.width?cr:Dr.width>jr.width?Dr.width:jr.width)+ir,height:Dr.height>jr.height?Dr.height:jr.height})}else nr.push({width:0,height:0})})),nr}},{key:"getyAxisTitleCoords",value:function(){var Hn=this,er=this.w,nr=[];return er.config.yaxis.map((function(ir,rr){if(ir.show&&ir.title.text!==void 0){var sr=new Mi$1(Hn.dCtx.ctx),ar="rotate(".concat(ir.title.rotate," 0 0)"),or=sr.getTextRects(ir.title.text,ir.title.style.fontSize,ir.title.style.fontFamily,ar,!1);nr.push({width:or.width,height:or.height})}else nr.push({width:0,height:0})})),nr}},{key:"getTotalYAxisWidth",value:function(){var Hn=this.w,er=0,nr=0,ir=0,rr=Hn.globals.yAxisScale.length>1?10:0,sr=new Ri$1(this.dCtx.ctx),ar=function(or,lr){var cr=Hn.config.yaxis[lr].floating,ur=0;or.width>0&&!cr?(ur=or.width+rr,(function(dr){return Hn.globals.ignoreYAxisIndexes.indexOf(dr)>-1})(lr)&&(ur=ur-or.width-rr)):ur=cr||sr.isYAxisHidden(lr)?0:5,Hn.config.yaxis[lr].opposite?ir+=ur:nr+=ur,er+=ur};return Hn.globals.yLabelsCoords.map((function(or,lr){ar(or,lr)})),Hn.globals.yTitleCoords.map((function(or,lr){ar(or,lr)})),Hn.globals.isBarHorizontal&&!Hn.config.yaxis[0].floating&&(er=Hn.globals.yLabelsCoords[0].width+Hn.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=nr,this.dCtx.yAxisWidthRight=ir,er}}]),tr})(),pa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"gridPadForColumnsInNumericAxis",value:function(Hn){var er=this.w,nr=er.config,ir=er.globals;if(ir.noData||ir.collapsedSeries.length+ir.ancillaryCollapsedSeries.length===nr.series.length)return 0;var rr=function(fr){return["bar","rangeBar","candlestick","boxPlot"].includes(fr)},sr=nr.chart.type,ar=0,or=rr(sr)?nr.series.length:1;ir.comboBarCount>0&&(or=ir.comboBarCount),ir.collapsedSeries.forEach((function(fr){rr(fr.type)&&(or-=1)})),nr.chart.stacked&&(or=1);var lr=rr(sr)||ir.comboBarCount>0,cr=Math.abs(ir.initialMaxX-ir.initialMinX);if(lr&&ir.isXNumeric&&!ir.isBarHorizontal&&or>0&&cr!==0){cr<=3&&(cr=ir.dataPoints);var ur=cr/Hn,dr=ir.minXDiff&&ir.minXDiff/ur>0?ir.minXDiff/ur:0;dr>Hn/2&&(dr/=2),(ar=dr*parseInt(nr.plotOptions.bar.columnWidth,10)/100)<1&&(ar=1),ir.barPadForNumericAxis=ar}return ar}},{key:"gridPadFortitleSubtitle",value:function(){var Hn=this,er=this.w,nr=er.globals,ir=this.dCtx.isSparkline||!nr.axisCharts?0:10;["title","subtitle"].forEach((function(ar){er.config[ar].text!==void 0?ir+=er.config[ar].margin:ir+=Hn.dCtx.isSparkline||!nr.axisCharts?0:5})),!er.config.legend.show||er.config.legend.position!=="bottom"||er.config.legend.floating||nr.axisCharts||(ir+=10);var rr=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),sr=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");nr.gridHeight-=rr.height+sr.height+ir,nr.translateY+=rr.height+sr.height+ir}},{key:"setGridXPosForDualYAxis",value:function(Hn,er){var nr=this.w,ir=new Ri$1(this.dCtx.ctx);nr.config.yaxis.forEach((function(rr,sr){nr.globals.ignoreYAxisIndexes.indexOf(sr)!==-1||rr.floating||ir.isYAxisHidden(sr)||(rr.opposite&&(nr.globals.translateX-=er[sr].width+Hn[sr].width+parseInt(rr.labels.style.fontSize,10)/1.2+12),nr.globals.translateX<2&&(nr.globals.translateX=2))}))}}]),tr})(),fa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new da(this),this.dimYAxis=new ga(this),this.dimXAxis=new ua(this),this.dimGrid=new pa(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return s$1(tr,[{key:"plotCoords",value:function(){var Hn=this,er=this.w,nr=er.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var ir=Array.isArray(er.config.stroke.width)?Math.max.apply(Math,f$2(er.config.stroke.width)):er.config.stroke.width;this.isSparkline&&((er.config.markers.discrete.length>0||er.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(sr){var ar=p$2(sr,2),or=ar[0],lr=ar[1];Hn.gridPad[or]=Math.max(lr,Hn.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(ir/2,this.gridPad.top),this.gridPad.bottom=Math.max(ir/2,this.gridPad.bottom)),nr.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),nr.gridHeight=nr.gridHeight-this.gridPad.top-this.gridPad.bottom,nr.gridWidth=nr.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var rr=this.dimGrid.gridPadForColumnsInNumericAxis(nr.gridWidth);nr.gridWidth=nr.gridWidth-2*rr,nr.translateX=nr.translateX+this.gridPad.left+this.xPadLeft+(rr>0?rr:0),nr.translateY=nr.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var Hn=this,er=this.w,nr=er.globals,ir=this.dimYAxis.getyAxisLabelsCoords(),rr=this.dimYAxis.getyAxisTitleCoords();nr.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),er.globals.yLabelsCoords=[],er.globals.yTitleCoords=[],er.config.yaxis.map((function(fr,xr){er.globals.yLabelsCoords.push({width:ir[xr].width,index:xr}),er.globals.yTitleCoords.push({width:rr[xr].width,index:xr})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var sr=this.dimXAxis.getxAxisLabelsCoords(),ar=this.dimXAxis.getxAxisGroupLabelsCoords(),or=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(sr,or,ar),nr.translateXAxisY=er.globals.rotateXLabels?this.xAxisHeight/8:-4,nr.translateXAxisX=er.globals.rotateXLabels&&er.globals.isXNumeric&&er.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,er.globals.isBarHorizontal&&(nr.rotateXLabels=!1,nr.translateXAxisY=parseInt(er.config.xaxis.labels.style.fontSize,10)/1.5*-1),nr.translateXAxisY=nr.translateXAxisY+er.config.xaxis.labels.offsetY,nr.translateXAxisX=nr.translateXAxisX+er.config.xaxis.labels.offsetX;var lr=this.yAxisWidth,cr=this.xAxisHeight;nr.xAxisLabelsHeight=this.xAxisHeight-or.height,nr.xAxisGroupLabelsHeight=nr.xAxisLabelsHeight-sr.height,nr.xAxisLabelsWidth=this.xAxisWidth,nr.xAxisHeight=this.xAxisHeight;var ur=10;(er.config.chart.type==="radar"||this.isSparkline)&&(lr=0,cr=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||er.config.chart.type==="treemap")&&(lr=0,cr=0,ur=0),this.isSparkline||er.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(sr);var dr=function(){nr.translateX=lr+Hn.datalabelsCoords.width,nr.gridHeight=nr.svgHeight-Hn.lgRect.height-cr-(Hn.isSparkline||er.config.chart.type==="treemap"?0:er.globals.rotateXLabels?10:15),nr.gridWidth=nr.svgWidth-lr-2*Hn.datalabelsCoords.width};switch(er.config.xaxis.position==="top"&&(ur=nr.xAxisHeight-er.config.xaxis.axisTicks.height-5),er.config.legend.position){case"bottom":nr.translateY=ur,dr();break;case"top":nr.translateY=this.lgRect.height+ur,dr();break;case"left":nr.translateY=ur,nr.translateX=this.lgRect.width+lr+this.datalabelsCoords.width,nr.gridHeight=nr.svgHeight-cr-12,nr.gridWidth=nr.svgWidth-this.lgRect.width-lr-2*this.datalabelsCoords.width;break;case"right":nr.translateY=ur,nr.translateX=lr+this.datalabelsCoords.width,nr.gridHeight=nr.svgHeight-cr-12,nr.gridWidth=nr.svgWidth-this.lgRect.width-lr-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(rr,ir),new aa(this.ctx).setYAxisXPosition(ir,rr)}},{key:"setDimensionsForNonAxisCharts",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config,ir=0;Hn.config.legend.show&&!Hn.config.legend.floating&&(ir=20);var rr=nr.chart.type==="pie"||nr.chart.type==="polarArea"||nr.chart.type==="donut"?"pie":"radialBar",sr=nr.plotOptions[rr].offsetY,ar=nr.plotOptions[rr].offsetX;if(!nr.legend.show||nr.legend.floating){er.gridHeight=er.svgHeight;var or=er.dom.elWrap.getBoundingClientRect().width;return er.gridWidth=Math.min(or,er.gridHeight),er.translateY=sr,void(er.translateX=ar+(er.svgWidth-er.gridWidth)/2)}switch(nr.legend.position){case"bottom":er.gridHeight=er.svgHeight-this.lgRect.height,er.gridWidth=er.svgWidth,er.translateY=sr-10,er.translateX=ar+(er.svgWidth-er.gridWidth)/2;break;case"top":er.gridHeight=er.svgHeight-this.lgRect.height,er.gridWidth=er.svgWidth,er.translateY=this.lgRect.height+sr+10,er.translateX=ar+(er.svgWidth-er.gridWidth)/2;break;case"left":er.gridWidth=er.svgWidth-this.lgRect.width-ir,er.gridHeight=nr.chart.height!=="auto"?er.svgHeight:er.gridWidth,er.translateY=sr,er.translateX=ar+this.lgRect.width+ir;break;case"right":er.gridWidth=er.svgWidth-this.lgRect.width-ir-5,er.gridHeight=nr.chart.height!=="auto"?er.svgHeight:er.gridWidth,er.translateY=sr,er.translateX=ar+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(Hn,er,nr){var ir=this.w,rr=ir.globals.hasXaxisGroups?2:1,sr=nr.height+Hn.height+er.height,ar=ir.globals.isMultiLineX?1.2:ir.globals.LINE_HEIGHT_RATIO,or=ir.globals.rotateXLabels?22:10,lr=ir.globals.rotateXLabels&&ir.config.legend.position==="bottom"?10:0;this.xAxisHeight=sr*ar+rr*or+lr,this.xAxisWidth=Hn.width,this.xAxisHeight-er.height>ir.config.xaxis.labels.maxHeight&&(this.xAxisHeight=ir.config.xaxis.labels.maxHeight),ir.config.xaxis.labels.minHeight&&this.xAxisHeight<ir.config.xaxis.labels.minHeight&&(this.xAxisHeight=ir.config.xaxis.labels.minHeight),ir.config.xaxis.floating&&(this.xAxisHeight=0);var cr=0,ur=0;ir.config.yaxis.forEach((function(dr){cr+=dr.labels.minWidth,ur+=dr.labels.maxWidth})),this.yAxisWidth<cr&&(this.yAxisWidth=cr),this.yAxisWidth>ur&&(this.yAxisWidth=ur)}}]),tr})(),xa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.lgCtx=Hn}return s$1(tr,[{key:"getLegendStyles",value:function(){var Hn,er,nr,ir=document.createElement("style");ir.setAttribute("type","text/css");var rr=((Hn=this.lgCtx.ctx)===null||Hn===void 0||(er=Hn.opts)===null||er===void 0||(nr=er.chart)===null||nr===void 0?void 0:nr.nonce)||this.w.config.chart.nonce;rr&&ir.setAttribute("nonce",rr);var sr=document.createTextNode(Zi$1);return ir.appendChild(sr),ir}},{key:"getLegendDimensions",value:function(){var Hn=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),er=Hn.width;return{clwh:Hn.height,clww:er}}},{key:"appendToForeignObject",value:function(){var Hn=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&Hn.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(Hn,er){var nr=this,ir=this.w;if(ir.globals.axisCharts||ir.config.chart.type==="radialBar"){ir.globals.resized=!0;var rr=null,sr=null;ir.globals.risingSeries=[],ir.globals.axisCharts?(rr=ir.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(Hn,"']")),sr=parseInt(rr.getAttribute("data:realIndex"),10)):(rr=ir.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(Hn+1,"']")),sr=parseInt(rr.getAttribute("rel"),10)-1),er?[{cs:ir.globals.collapsedSeries,csi:ir.globals.collapsedSeriesIndices},{cs:ir.globals.ancillaryCollapsedSeries,csi:ir.globals.ancillaryCollapsedSeriesIndices}].forEach((function(cr){nr.riseCollapsedSeries(cr.cs,cr.csi,sr)})):this.hideSeries({seriesEl:rr,realIndex:sr})}else{var ar=ir.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(Hn+1,"'] path")),or=ir.config.chart.type;if(or==="pie"||or==="polarArea"||or==="donut"){var lr=ir.config.plotOptions.pie.donut.labels;new Mi$1(this.lgCtx.ctx).pathMouseDown(ar,null),this.lgCtx.ctx.pie.printDataLabelsInner(ar.node,lr)}ar.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(Hn){var er=Hn.realIndex,nr=this.w,ir=nr.globals,rr=v$1.clone(nr.config.series);if(ir.axisCharts){var sr=nr.config.yaxis[ir.seriesYAxisReverseMap[er]],ar={index:er,data:rr[er].data.slice(),type:rr[er].type||nr.config.chart.type};if(sr&&sr.show&&sr.showAlways)ir.ancillaryCollapsedSeriesIndices.indexOf(er)<0&&(ir.ancillaryCollapsedSeries.push(ar),ir.ancillaryCollapsedSeriesIndices.push(er));else if(ir.collapsedSeriesIndices.indexOf(er)<0){ir.collapsedSeries.push(ar),ir.collapsedSeriesIndices.push(er);var or=ir.risingSeries.indexOf(er);ir.risingSeries.splice(or,1)}}else ir.collapsedSeries.push({index:er,data:rr[er]}),ir.collapsedSeriesIndices.push(er);return ir.allSeriesCollapsed=ir.collapsedSeries.length+ir.ancillaryCollapsedSeries.length===nr.config.series.length,this._getSeriesBasedOnCollapsedState(rr)}},{key:"hideSeries",value:function(Hn){for(var er=Hn.seriesEl,nr=Hn.realIndex,ir=this.w,rr=this.getSeriesAfterCollapsing({realIndex:nr}),sr=er.childNodes,ar=0;ar<sr.length;ar++)sr[ar].classList.contains("apexcharts-series-markers-wrap")&&(sr[ar].classList.contains("apexcharts-hide")?sr[ar].classList.remove("apexcharts-hide"):sr[ar].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(rr,ir.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(Hn,er,nr){var ir=this.w,rr=v$1.clone(ir.config.series);if(Hn.length>0){for(var sr=0;sr<Hn.length;sr++)Hn[sr].index===nr&&(ir.globals.axisCharts?rr[nr].data=Hn[sr].data.slice():rr[nr]=Hn[sr].data,typeof rr[nr]!="number"&&(rr[nr].hidden=!1),Hn.splice(sr,1),er.splice(sr,1),ir.globals.risingSeries.push(nr));rr=this._getSeriesBasedOnCollapsedState(rr),this.lgCtx.ctx.updateHelpers._updateSeries(rr,ir.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(Hn){var er=this.w,nr=0;return er.globals.axisCharts?Hn.forEach((function(ir,rr){er.globals.collapsedSeriesIndices.indexOf(rr)<0&&er.globals.ancillaryCollapsedSeriesIndices.indexOf(rr)<0||(Hn[rr].data=[],nr++)})):Hn.forEach((function(ir,rr){!er.globals.collapsedSeriesIndices.indexOf(rr)<0&&(Hn[rr]=0,nr++)})),er.globals.allSeriesCollapsed=nr===Hn.length,Hn}}]),tr})(),ba=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new xa(this)}return s$1(tr,[{key:"init",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config,ir=nr.legend.showForSingleSeries&&er.series.length===1||this.isBarsDistributed||er.series.length>1;if(this.legendHelpers.appendToForeignObject(),(ir||!er.axisCharts)&&nr.legend.show){for(;er.dom.elLegendWrap.firstChild;)er.dom.elLegendWrap.removeChild(er.dom.elLegendWrap.firstChild);this.drawLegends(),nr.legend.position==="bottom"||nr.legend.position==="top"?this.legendAlignHorizontal():nr.legend.position!=="right"&&nr.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(Hn){var er=Hn.i,nr=Hn.fillcolor,ir=this.w,rr=document.createElement("span");rr.classList.add("apexcharts-legend-marker");var sr=ir.config.legend.markers.shape||ir.config.markers.shape,ar=sr;Array.isArray(sr)&&(ar=sr[er]);var or=Array.isArray(ir.config.legend.markers.size)?parseFloat(ir.config.legend.markers.size[er]):parseFloat(ir.config.legend.markers.size),lr=Array.isArray(ir.config.legend.markers.offsetX)?parseFloat(ir.config.legend.markers.offsetX[er]):parseFloat(ir.config.legend.markers.offsetX),cr=Array.isArray(ir.config.legend.markers.offsetY)?parseFloat(ir.config.legend.markers.offsetY[er]):parseFloat(ir.config.legend.markers.offsetY),ur=Array.isArray(ir.config.legend.markers.strokeWidth)?parseFloat(ir.config.legend.markers.strokeWidth[er]):parseFloat(ir.config.legend.markers.strokeWidth),dr=rr.style;if(dr.height=2*(or+ur)+"px",dr.width=2*(or+ur)+"px",dr.left=lr+"px",dr.top=cr+"px",ir.config.legend.markers.customHTML)dr.background="transparent",dr.color=nr[er],Array.isArray(ir.config.legend.markers.customHTML)?ir.config.legend.markers.customHTML[er]&&(rr.innerHTML=ir.config.legend.markers.customHTML[er]()):rr.innerHTML=ir.config.legend.markers.customHTML();else{var fr=new Vi$1(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(ar),seriesIndex:er,strokeWidth:ur,size:or}),xr=window.SVG().addTo(rr).size("100%","100%"),yr=new Mi$1(this.ctx).drawMarker(0,0,u$2(u$2({},fr),{},{pointFillColor:Array.isArray(nr)?nr[er]:fr.pointFillColor,shape:ar}));ir.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(_r){_r.node.classList.contains("apexcharts-marker-triangle")?_r.node.style.transform="translate(50%, 45%)":_r.node.style.transform="translate(50%, 50%)"})),xr.add(yr)}return rr}},{key:"drawLegends",value:function(){var Hn=this,er=this,nr=this.w,ir=nr.config.legend.fontFamily,rr=nr.globals.seriesNames,sr=nr.config.legend.markers.fillColors?nr.config.legend.markers.fillColors.slice():nr.globals.colors.slice();if(nr.config.chart.type==="heatmap"){var ar=nr.config.plotOptions.heatmap.colorScale.ranges;rr=ar.map((function(fr){return fr.name?fr.name:fr.from+" - "+fr.to})),sr=ar.map((function(fr){return fr.color}))}else this.isBarsDistributed&&(rr=nr.globals.labels.slice());nr.config.legend.customLegendItems.length&&(rr=nr.config.legend.customLegendItems);var or=nr.globals.legendFormatter,lr=nr.config.legend.inverseOrder,cr=[];nr.globals.seriesGroups.length>1&&nr.config.legend.clusterGroupedSeries&&nr.globals.seriesGroups.forEach((function(fr,xr){cr[xr]=document.createElement("div"),cr[xr].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(xr)),nr.config.legend.clusterGroupedSeriesOrientation==="horizontal"?nr.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):cr[xr].classList.add("apexcharts-legend-group-vertical")}));for(var ur=function(fr){var xr,yr=or(rr[fr],{seriesIndex:fr,w:nr}),_r=!1,Sr=!1;if(nr.globals.collapsedSeries.length>0)for(var jr=0;jr<nr.globals.collapsedSeries.length;jr++)nr.globals.collapsedSeries[jr].index===fr&&(_r=!0);if(nr.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Dr=0;Dr<nr.globals.ancillaryCollapsedSeriesIndices.length;Dr++)nr.globals.ancillaryCollapsedSeriesIndices[Dr]===fr&&(Sr=!0);var Ir=Hn.createLegendMarker({i:fr,fillcolor:sr});Mi$1.setAttrs(Ir,{rel:fr+1,"data:collapsed":_r||Sr}),(_r||Sr)&&Ir.classList.add("apexcharts-inactive-legend");var Mr=document.createElement("div"),Or=document.createElement("span");Or.classList.add("apexcharts-legend-text"),Or.innerHTML=Array.isArray(yr)?yr.join(" "):yr;var Lr=nr.config.legend.labels.useSeriesColors?nr.globals.colors[fr]:Array.isArray(nr.config.legend.labels.colors)?(xr=nr.config.legend.labels.colors)===null||xr===void 0?void 0:xr[fr]:nr.config.legend.labels.colors;Lr||(Lr=nr.config.chart.foreColor),Or.style.color=Lr,Or.style.fontSize=parseFloat(nr.config.legend.fontSize)+"px",Or.style.fontWeight=nr.config.legend.fontWeight,Or.style.fontFamily=ir||nr.config.chart.fontFamily,Mi$1.setAttrs(Or,{rel:fr+1,i:fr,"data:default-text":encodeURIComponent(yr),"data:collapsed":_r||Sr}),Mr.appendChild(Ir),Mr.appendChild(Or);var Fr=new Pi$1(Hn.ctx);nr.config.legend.showForZeroSeries||Fr.getSeriesTotalByIndex(fr)===0&&Fr.seriesHaveSameValues(fr)&&!Fr.isSeriesNull(fr)&&nr.globals.collapsedSeriesIndices.indexOf(fr)===-1&&nr.globals.ancillaryCollapsedSeriesIndices.indexOf(fr)===-1&&Mr.classList.add("apexcharts-hidden-zero-series"),nr.config.legend.showForNullSeries||Fr.isSeriesNull(fr)&&nr.globals.collapsedSeriesIndices.indexOf(fr)===-1&&nr.globals.ancillaryCollapsedSeriesIndices.indexOf(fr)===-1&&Mr.classList.add("apexcharts-hidden-null-series"),cr.length?nr.globals.seriesGroups.forEach((function(Vr,Zr){var Hr;Vr.includes((Hr=nr.config.series[fr])===null||Hr===void 0?void 0:Hr.name)&&(nr.globals.dom.elLegendWrap.appendChild(cr[Zr]),cr[Zr].appendChild(Mr))})):nr.globals.dom.elLegendWrap.appendChild(Mr),nr.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(nr.config.legend.horizontalAlign)),nr.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+nr.config.legend.position),Mr.classList.add("apexcharts-legend-series"),Mr.style.margin="".concat(nr.config.legend.itemMargin.vertical,"px ").concat(nr.config.legend.itemMargin.horizontal,"px"),nr.globals.dom.elLegendWrap.style.width=nr.config.legend.width?nr.config.legend.width+"px":"",nr.globals.dom.elLegendWrap.style.height=nr.config.legend.height?nr.config.legend.height+"px":"",Mi$1.setAttrs(Mr,{rel:fr+1,seriesName:v$1.escapeString(rr[fr]),"data:collapsed":_r||Sr}),(_r||Sr)&&Mr.classList.add("apexcharts-inactive-legend"),nr.config.legend.onItemClick.toggleDataSeries||Mr.classList.add("apexcharts-no-click")},dr=lr?rr.length-1:0;lr?dr>=0:dr<=rr.length-1;lr?dr--:dr++)ur(dr);nr.globals.dom.elWrap.addEventListener("click",er.onLegendClick,!0),nr.config.legend.onItemHover.highlightDataSeries&&nr.config.legend.customLegendItems.length===0&&(nr.globals.dom.elWrap.addEventListener("mousemove",er.onLegendHovered,!0),nr.globals.dom.elWrap.addEventListener("mouseout",er.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(Hn,er){var nr=this.w,ir=nr.globals.dom.elLegendWrap,rr=ir.clientHeight,sr=0,ar=0;if(nr.config.legend.position==="bottom")ar=nr.globals.svgHeight-Math.min(rr,nr.globals.svgHeight/2)-5;else if(nr.config.legend.position==="top"){var or=new fa(this.ctx),lr=or.dimHelpers.getTitleSubtitleCoords("title").height,cr=or.dimHelpers.getTitleSubtitleCoords("subtitle").height;ar=(lr>0?lr-10:0)+(cr>0?cr-10:0)}ir.style.position="absolute",sr=sr+Hn+nr.config.legend.offsetX,ar=ar+er+nr.config.legend.offsetY,ir.style.left=sr+"px",ir.style.top=ar+"px",nr.config.legend.position==="right"&&(ir.style.left="auto",ir.style.right=25+nr.config.legend.offsetX+"px"),["width","height"].forEach((function(ur){ir.style[ur]&&(ir.style[ur]=parseInt(nr.config.legend[ur],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var Hn=this.w;Hn.globals.dom.elLegendWrap.style.right=0;var er=new fa(this.ctx),nr=er.dimHelpers.getTitleSubtitleCoords("title"),ir=er.dimHelpers.getTitleSubtitleCoords("subtitle"),rr=0;Hn.config.legend.position==="top"&&(rr=nr.height+ir.height+Hn.config.title.margin+Hn.config.subtitle.margin-10),this.setLegendWrapXY(20,rr)}},{key:"legendAlignVertical",value:function(){var Hn=this.w,er=this.legendHelpers.getLegendDimensions(),nr=0;Hn.config.legend.position==="left"&&(nr=20),Hn.config.legend.position==="right"&&(nr=Hn.globals.svgWidth-er.clww-10),this.setLegendWrapXY(nr,20)}},{key:"onLegendHovered",value:function(Hn){var er=this.w,nr=Hn.target.classList.contains("apexcharts-legend-series")||Hn.target.classList.contains("apexcharts-legend-text")||Hn.target.classList.contains("apexcharts-legend-marker");if(er.config.chart.type==="heatmap"||this.isBarsDistributed){if(nr){var ir=parseInt(Hn.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,ir,this.w]),new $i$1(this.ctx).highlightRangeInSeries(Hn,Hn.target)}}else!Hn.target.classList.contains("apexcharts-inactive-legend")&&nr&&new $i$1(this.ctx).toggleSeriesOnHover(Hn,Hn.target)}},{key:"onLegendClick",value:function(Hn){var er=this.w;if(!er.config.legend.customLegendItems.length&&(Hn.target.classList.contains("apexcharts-legend-series")||Hn.target.classList.contains("apexcharts-legend-text")||Hn.target.classList.contains("apexcharts-legend-marker"))){var nr=parseInt(Hn.target.getAttribute("rel"),10)-1,ir=Hn.target.getAttribute("data:collapsed")==="true",rr=this.w.config.chart.events.legendClick;typeof rr=="function"&&rr(this.ctx,nr,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,nr,this.w]);var sr=this.w.config.legend.markers.onClick;typeof sr=="function"&&Hn.target.classList.contains("apexcharts-legend-marker")&&(sr(this.ctx,nr,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,nr,this.w])),er.config.chart.type!=="treemap"&&er.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&er.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(nr,ir)}}}]),tr})(),ma=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=er.globals.minX,this.maxX=er.globals.maxX}return s$1(tr,[{key:"createToolbar",value:function(){var Hn=this,er=this.w,nr=function(){return document.createElement("div")},ir=nr();if(ir.setAttribute("class","apexcharts-toolbar"),ir.style.top=er.config.chart.toolbar.offsetY+"px",ir.style.right=3-er.config.chart.toolbar.offsetX+"px",er.globals.dom.elWrap.appendChild(ir),this.elZoom=nr(),this.elZoomIn=nr(),this.elZoomOut=nr(),this.elPan=nr(),this.elSelection=nr(),this.elZoomReset=nr(),this.elMenuIcon=nr(),this.elMenu=nr(),this.elCustomIcons=[],this.t=er.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var rr=0;rr<this.t.customIcons.length;rr++)this.elCustomIcons.push(nr());var sr=[],ar=function(ur,dr,fr){var xr=ur.toLowerCase();Hn.t[xr]&&er.config.chart.zoom.enabled&&sr.push({el:dr,icon:typeof Hn.t[xr]=="string"?Hn.t[xr]:fr,title:Hn.localeValues[ur],class:"apexcharts-".concat(xr,"-icon")})};ar("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),ar("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var or=function(ur){Hn.t[ur]&&er.config.chart[ur].enabled&&sr.push({el:ur==="zoom"?Hn.elZoom:Hn.elSelection,icon:typeof Hn.t[ur]=="string"?Hn.t[ur]:ur==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:Hn.localeValues[ur==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(ur,"-icon")})};or("zoom"),or("selection"),this.t.pan&&er.config.chart.zoom.enabled&&sr.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),ar("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&sr.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var lr=0;lr<this.elCustomIcons.length;lr++)sr.push({el:this.elCustomIcons[lr],icon:this.t.customIcons[lr].icon,title:this.t.customIcons[lr].title,index:this.t.customIcons[lr].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[lr].class});sr.forEach((function(ur,dr){ur.index&&v$1.moveIndexInArray(sr,dr,ur.index)}));for(var cr=0;cr<sr.length;cr++)Mi$1.setAttrs(sr[cr].el,{class:sr[cr].class,title:sr[cr].title}),sr[cr].el.innerHTML=sr[cr].icon,ir.appendChild(sr[cr].el);this._createHamburgerMenu(ir),er.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):er.globals.panEnabled?this.elPan.classList.add(this.selectedClass):er.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(Hn){this.elMenuItems=[],Hn.appendChild(this.elMenu),Mi$1.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var er=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],nr=0;nr<er.length;nr++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[nr].innerHTML=er[nr].title,Mi$1.setAttrs(this.elMenuItems[nr],{class:"apexcharts-menu-item ".concat(er[nr].name),title:er[nr].title}),this.elMenu.appendChild(this.elMenuItems[nr])}},{key:"addToolbarEventListeners",value:function(){var Hn=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(nr){nr.classList.contains("exportSVG")?nr.addEventListener("click",Hn.handleDownload.bind(Hn,"svg")):nr.classList.contains("exportPNG")?nr.addEventListener("click",Hn.handleDownload.bind(Hn,"png")):nr.classList.contains("exportCSV")&&nr.addEventListener("click",Hn.handleDownload.bind(Hn,"csv"))}));for(var er=0;er<this.t.customIcons.length;er++)this.elCustomIcons[er].addEventListener("click",this.t.customIcons[er].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(Hn){this.ctx.getSyncedCharts().forEach((function(er){er.ctx.toolbar.toggleOtherControls();var nr=Hn==="selection"?er.ctx.toolbar.elSelection:er.ctx.toolbar.elZoom,ir=Hn==="selection"?"selectionEnabled":"zoomEnabled";er.w.globals[ir]=!er.w.globals[ir],nr.classList.contains(er.ctx.toolbar.selectedClass)?nr.classList.remove(er.ctx.toolbar.selectedClass):nr.classList.add(er.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var Hn=this.w;this.elZoom||(this.elZoom=Hn.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=Hn.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=Hn.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(Hn){this.toggleOtherControls(),Hn==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var er=Hn==="pan"?this.elPan:this.elZoom,nr=Hn==="pan"?this.elZoom:this.elPan;er&&er.classList.add(this.selectedClass),nr&&nr.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(Hn){Hn.ctx.toolbar.toggleOtherControls(),Hn.w.globals.panEnabled=!Hn.w.globals.panEnabled,Hn.ctx.toolbar.elPan.classList.contains(Hn.ctx.toolbar.selectedClass)?Hn.ctx.toolbar.elPan.classList.remove(Hn.ctx.toolbar.selectedClass):Hn.ctx.toolbar.elPan.classList.add(Hn.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var Hn=this,er=this.w;er.globals.panEnabled=!1,er.globals.zoomEnabled=!1,er.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(nr){nr&&nr.classList.remove(Hn.selectedClass)}))}},{key:"handleZoomIn",value:function(){var Hn=this.w;Hn.globals.isRangeBar&&(this.minX=Hn.globals.minY,this.maxX=Hn.globals.maxY);var er=(this.minX+this.maxX)/2,nr=(this.minX+er)/2,ir=(this.maxX+er)/2,rr=this._getNewMinXMaxX(nr,ir);Hn.globals.disableZoomIn||this.zoomUpdateOptions(rr.minX,rr.maxX)}},{key:"handleZoomOut",value:function(){var Hn=this.w;if(Hn.globals.isRangeBar&&(this.minX=Hn.globals.minY,this.maxX=Hn.globals.maxY),!(Hn.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var er=(this.minX+this.maxX)/2,nr=this.minX-(er-this.minX),ir=this.maxX-(er-this.maxX),rr=this._getNewMinXMaxX(nr,ir);Hn.globals.disableZoomOut||this.zoomUpdateOptions(rr.minX,rr.maxX)}}},{key:"_getNewMinXMaxX",value:function(Hn,er){var nr=this.w.config.xaxis.convertedCatToNumeric;return{minX:nr?Math.floor(Hn):Hn,maxX:nr?Math.floor(er):er}}},{key:"zoomUpdateOptions",value:function(Hn,er){var nr=this.w;if(Hn!==void 0||er!==void 0){if(!(nr.config.xaxis.convertedCatToNumeric&&(Hn<1&&(Hn=1,er=nr.globals.dataPoints),er-Hn<2))){var ir={min:Hn,max:er},rr=this.getBeforeZoomRange(ir);rr&&(ir=rr.xaxis);var sr={xaxis:ir},ar=v$1.clone(nr.globals.initialConfig.yaxis);nr.config.chart.group||(sr.yaxis=ar),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(sr,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(ir,ar)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(Hn,er){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:Hn,yaxis:er}),this.ctx.events.fireEvent("zoomed",{xaxis:Hn,yaxis:er}))}},{key:"getBeforeZoomRange",value:function(Hn,er){var nr=null;return typeof this.ev.beforeZoom=="function"&&(nr=this.ev.beforeZoom(this,{xaxis:Hn,yaxis:er})),nr}},{key:"toggleMenu",value:function(){var Hn=this;window.setTimeout((function(){Hn.elMenu.classList.contains("apexcharts-menu-open")?Hn.elMenu.classList.remove("apexcharts-menu-open"):Hn.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(Hn){var er=this.w,nr=new Qi$1(this.ctx);switch(Hn){case"svg":nr.exportToSVG(this.ctx);break;case"png":nr.exportToPng(this.ctx);break;case"csv":nr.exportToCSV({series:er.config.series,columnDelimiter:er.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(Hn){this.ctx.getSyncedCharts().forEach((function(er){var nr=er.w;if(nr.globals.lastXAxis.min=nr.globals.initialConfig.xaxis.min,nr.globals.lastXAxis.max=nr.globals.initialConfig.xaxis.max,er.updateHelpers.revertDefaultAxisMinMax(),typeof nr.config.chart.events.beforeResetZoom=="function"){var ir=nr.config.chart.events.beforeResetZoom(er,nr);ir&&er.updateHelpers.revertDefaultAxisMinMax(ir)}typeof nr.config.chart.events.zoomed=="function"&&er.ctx.toolbar.zoomCallback({min:nr.config.xaxis.min,max:nr.config.xaxis.max}),nr.globals.zoomed=!1;var rr=er.ctx.series.emptyCollapsedSeries(v$1.clone(nr.globals.initialSeries));er.updateHelpers._updateSeries(rr,nr.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),tr})(),va=(function(tr){h$3(er,ma);var Hn=n(er);function er(nr){var ir;return i$1(this,er),(ir=Hn.call(this,nr)).ctx=nr,ir.w=nr.w,ir.dragged=!1,ir.graphics=new Mi$1(ir.ctx),ir.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],ir.clientX=0,ir.clientY=0,ir.startX=0,ir.endX=0,ir.dragX=0,ir.startY=0,ir.endY=0,ir.dragY=0,ir.moveDirection="none",ir.debounceTimer=null,ir.debounceDelay=100,ir.wheelDelay=400,ir}return s$1(er,[{key:"init",value:function(nr){var ir=this,rr=nr.xyRatios,sr=this.w,ar=this;this.xyRatios=rr,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=sr.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new kt$1(0,0,sr.globals.gridWidth,sr.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),sr.globals.dom.Paper.add(this.zoomRect),sr.globals.dom.Paper.add(this.selectionRect),sr.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:sr.globals.gridWidth,maxY:sr.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):sr.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:sr.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=sr.globals.dom.baseEl.querySelector("".concat(sr.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(or){ir.hoverArea.addEventListener(or,ar.svgMouseEvents.bind(ar,rr),{capture:!1,passive:!0})})),sr.config.chart.zoom.enabled&&sr.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",ar.mouseWheelEvent.bind(ar),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(nr,ir){var rr=this.w,sr=this.ctx.toolbar,ar=rr.globals.zoomEnabled?rr.config.chart.zoom.type:rr.config.chart.selection.type,or=rr.config.chart.toolbar.autoSelected;if(ir.shiftKey?(this.shiftWasPressed=!0,sr.enableZoomPanFromToolbar(or==="pan"?"zoom":"pan")):this.shiftWasPressed&&(sr.enableZoomPanFromToolbar(or),this.shiftWasPressed=!1),ir.target){var lr,cr=ir.target.classList;if(ir.target.parentNode&&ir.target.parentNode!==null&&(lr=ir.target.parentNode.classList),!(cr.contains("apexcharts-legend-marker")||cr.contains("apexcharts-legend-text")||lr&&lr.contains("apexcharts-toolbar"))){if(this.clientX=ir.type==="touchmove"||ir.type==="touchstart"?ir.touches[0].clientX:ir.type==="touchend"?ir.changedTouches[0].clientX:ir.clientX,this.clientY=ir.type==="touchmove"||ir.type==="touchstart"?ir.touches[0].clientY:ir.type==="touchend"?ir.changedTouches[0].clientY:ir.clientY,ir.type==="mousedown"&&ir.which===1||ir.type==="touchstart"){var ur=this.gridRect.getBoundingClientRect();this.startX=this.clientX-ur.left-rr.globals.barPadForNumericAxis,this.startY=this.clientY-ur.top,this.dragged=!1,this.w.globals.mousedown=!0}(ir.type==="mousemove"&&ir.which===1||ir.type==="touchmove")&&(this.dragged=!0,rr.globals.panEnabled?(rr.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:ar,xyRatios:nr})):(this.w.globals.mousedown&&rr.globals.zoomEnabled||this.w.globals.mousedown&&rr.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:ar}))),ir.type!=="mouseup"&&ir.type!=="touchend"&&ir.type!=="mouseleave"||this.handleMouseUp({zoomtype:ar}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(nr){var ir,rr=nr.zoomtype,sr=nr.isResized,ar=this.w,or=(ir=this.gridRect)===null||ir===void 0?void 0:ir.getBoundingClientRect();or&&(this.w.globals.mousedown||sr)&&(this.endX=this.clientX-or.left-ar.globals.barPadForNumericAxis,this.endY=this.clientY-or.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(ar.globals.zoomEnabled||ar.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:rr})),ar.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(nr){var ir=this,rr=this.w;nr.preventDefault();var sr=Date.now();sr-rr.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(nr),rr.globals.lastWheelExecution=sr),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){sr-rr.globals.lastWheelExecution>ir.wheelDelay&&(ir.executeMouseWheelZoom(nr),rr.globals.lastWheelExecution=sr)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(nr){var ir,rr=this.w;this.minX=rr.globals.isRangeBar?rr.globals.minY:rr.globals.minX,this.maxX=rr.globals.isRangeBar?rr.globals.maxY:rr.globals.maxX;var sr=(ir=this.gridRect)===null||ir===void 0?void 0:ir.getBoundingClientRect();if(sr){var ar,or,lr,cr=(nr.clientX-sr.left)/sr.width,ur=this.minX,dr=this.maxX,fr=dr-ur;if(nr.deltaY<0){var xr=ur+cr*fr;or=xr-(ar=.5*fr)/2,lr=xr+ar/2}else or=ur-(ar=1.5*fr)/2,lr=dr+ar/2;if(!rr.globals.isRangeBar){or=Math.max(or,rr.globals.initialMinX),lr=Math.min(lr,rr.globals.initialMaxX);var yr=.01*(rr.globals.initialMaxX-rr.globals.initialMinX);if(lr-or<yr){var _r=(or+lr)/2;or=_r-yr/2,lr=_r+yr/2}}var Sr=this._getNewMinXMaxX(or,lr);isNaN(Sr.minX)||isNaN(Sr.maxX)||this.zoomUpdateOptions(Sr.minX,Sr.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var nr=this,ir=this.w;if(this.selectionRect){var rr=this.selectionRect.node.getBoundingClientRect();rr.width>0&&rr.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(sr,ar,or,lr,cr){return cr==="l"||cr==="r"?sr.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):sr.circle(0)},updateHandle:function(sr,ar){return sr.center(ar[0],ar[1])}}).resize().on("resize",(function(){var sr=ir.globals.zoomEnabled?ir.config.chart.zoom.type:ir.config.chart.selection.type;nr.handleMouseUp({zoomtype:sr,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var nr=this.w,ir=this.xyRatios;if(!nr.globals.zoomEnabled){if(nr.globals.selection!==void 0&&nr.globals.selection!==null)this.drawSelectionRect(u$2(u$2({},nr.globals.selection),{},{translateX:nr.globals.translateX,translateY:nr.globals.translateY}));else if(nr.config.chart.selection.xaxis.min!==void 0&&nr.config.chart.selection.xaxis.max!==void 0){var rr=(nr.config.chart.selection.xaxis.min-nr.globals.minX)/ir.xRatio,sr=nr.globals.gridWidth-(nr.globals.maxX-nr.config.chart.selection.xaxis.max)/ir.xRatio-rr;nr.globals.isRangeBar&&(rr=(nr.config.chart.selection.xaxis.min-nr.globals.yAxisScale[0].niceMin)/ir.invertedYRatio,sr=(nr.config.chart.selection.xaxis.max-nr.config.chart.selection.xaxis.min)/ir.invertedYRatio);var ar={x:rr,y:0,width:sr,height:nr.globals.gridHeight,translateX:nr.globals.translateX,translateY:nr.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(ar),this.makeSelectionRectDraggable(),typeof nr.config.chart.events.selection=="function"&&nr.config.chart.events.selection(this.ctx,{xaxis:{min:nr.config.chart.selection.xaxis.min,max:nr.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(nr){var ir=nr.x,rr=nr.y,sr=nr.width,ar=nr.height,or=nr.translateX,lr=or===void 0?0:or,cr=nr.translateY,ur=cr===void 0?0:cr,dr=this.w,fr=this.zoomRect,xr=this.selectionRect;if(this.dragged||dr.globals.selection!==null){var yr={transform:"translate("+lr+", "+ur+")"};dr.globals.zoomEnabled&&this.dragged&&(sr<0&&(sr=1),fr.attr({x:ir,y:rr,width:sr,height:ar,fill:dr.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":dr.config.chart.zoom.zoomedArea.fill.opacity,stroke:dr.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":dr.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":dr.config.chart.zoom.zoomedArea.stroke.opacity}),Mi$1.setAttrs(fr.node,yr)),dr.globals.selectionEnabled&&(xr.attr({x:ir,y:rr,width:sr>0?sr:0,height:ar>0?ar:0,fill:dr.config.chart.selection.fill.color,"fill-opacity":dr.config.chart.selection.fill.opacity,stroke:dr.config.chart.selection.stroke.color,"stroke-width":dr.config.chart.selection.stroke.width,"stroke-dasharray":dr.config.chart.selection.stroke.dashArray,"stroke-opacity":dr.config.chart.selection.stroke.opacity}),Mi$1.setAttrs(xr.node,yr))}}},{key:"hideSelectionRect",value:function(nr){nr&&nr.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(nr){var ir=nr.context,rr=nr.zoomtype,sr=this.w,ar=ir,or=this.gridRect.getBoundingClientRect(),lr=ar.startX-1,cr=ar.startY,ur=!1,dr=!1,fr=ar.clientX-or.left-sr.globals.barPadForNumericAxis,xr=ar.clientY-or.top,yr=fr-lr,_r=xr-cr,Sr={translateX:sr.globals.translateX,translateY:sr.globals.translateY};return Math.abs(yr+lr)>sr.globals.gridWidth?yr=sr.globals.gridWidth-lr:fr<0&&(yr=lr),lr>fr&&(ur=!0,yr=Math.abs(yr)),cr>xr&&(dr=!0,_r=Math.abs(_r)),Sr=u$2(u$2({},Sr=rr==="x"?{x:ur?lr-yr:lr,y:0,width:yr,height:sr.globals.gridHeight}:rr==="y"?{x:0,y:dr?cr-_r:cr,width:sr.globals.gridWidth,height:_r}:{x:ur?lr-yr:lr,y:dr?cr-_r:cr,width:yr,height:_r}),{},{translateX:sr.globals.translateX,translateY:sr.globals.translateY}),ar.drawSelectionRect(Sr),ar.selectionDragging("resizing"),Sr}},{key:"selectionDragging",value:function(nr,ir){var rr=this,sr=this.w;if(ir){ir.preventDefault();var ar=ir.detail,or=ar.handler,lr=ar.box,cr=lr.x,ur=lr.y;cr<this.constraints.x&&(cr=this.constraints.x),ur<this.constraints.y&&(ur=this.constraints.y),lr.x2>this.constraints.x2&&(cr=this.constraints.x2-lr.w),lr.y2>this.constraints.y2&&(ur=this.constraints.y2-lr.h),or.move(cr,ur);var dr=this.xyRatios,fr=this.selectionRect,xr=0;nr==="resizing"&&(xr=30);var yr=function(Sr){return parseFloat(fr.node.getAttribute(Sr))},_r={x:yr("x"),y:yr("y"),width:yr("width"),height:yr("height")};sr.globals.selection=_r,typeof sr.config.chart.events.selection=="function"&&sr.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var Sr,jr,Dr,Ir,Mr=rr.gridRect.getBoundingClientRect(),Or=fr.node.getBoundingClientRect();sr.globals.isRangeBar?(Sr=sr.globals.yAxisScale[0].niceMin+(Or.left-Mr.left)*dr.invertedYRatio,jr=sr.globals.yAxisScale[0].niceMin+(Or.right-Mr.left)*dr.invertedYRatio,Dr=0,Ir=1):(Sr=sr.globals.xAxisScale.niceMin+(Or.left-Mr.left)*dr.xRatio,jr=sr.globals.xAxisScale.niceMin+(Or.right-Mr.left)*dr.xRatio,Dr=sr.globals.yAxisScale[0].niceMin+(Mr.bottom-Or.bottom)*dr.yRatio[0],Ir=sr.globals.yAxisScale[0].niceMax-(Or.top-Mr.top)*dr.yRatio[0]);var Lr={xaxis:{min:Sr,max:jr},yaxis:{min:Dr,max:Ir}};sr.config.chart.events.selection(rr.ctx,Lr),sr.config.chart.brush.enabled&&sr.config.chart.events.brushScrolled!==void 0&&sr.config.chart.events.brushScrolled(rr.ctx,Lr)}),xr))}}},{key:"selectionDrawn",value:function(nr){var ir,rr,sr=nr.context,ar=nr.zoomtype,or=this.w,lr=sr,cr=this.xyRatios,ur=this.ctx.toolbar,dr=or.globals.zoomEnabled?lr.zoomRect.node.getBoundingClientRect():lr.selectionRect.node.getBoundingClientRect(),fr=lr.gridRect.getBoundingClientRect(),xr=dr.left-fr.left-or.globals.barPadForNumericAxis,yr=dr.right-fr.left-or.globals.barPadForNumericAxis,_r=dr.top-fr.top,Sr=dr.bottom-fr.top;or.globals.isRangeBar?(ir=or.globals.yAxisScale[0].niceMin+xr*cr.invertedYRatio,rr=or.globals.yAxisScale[0].niceMin+yr*cr.invertedYRatio):(ir=or.globals.xAxisScale.niceMin+xr*cr.xRatio,rr=or.globals.xAxisScale.niceMin+yr*cr.xRatio);var jr=[],Dr=[];if(or.config.yaxis.forEach((function(Zr,Hr){var Yr=or.globals.seriesYAxisMap[Hr][0],eo=or.globals.yAxisScale[Hr].niceMax-cr.yRatio[Yr]*_r,io=or.globals.yAxisScale[Hr].niceMax-cr.yRatio[Yr]*Sr;jr.push(eo),Dr.push(io)})),lr.dragged&&(lr.dragX>10||lr.dragY>10)&&ir!==rr){if(or.globals.zoomEnabled){var Ir=v$1.clone(or.globals.initialConfig.yaxis),Mr=v$1.clone(or.globals.initialConfig.xaxis);if(or.globals.zoomed=!0,or.config.xaxis.convertedCatToNumeric&&(ir=Math.floor(ir),rr=Math.floor(rr),ir<1&&(ir=1,rr=or.globals.dataPoints),rr-ir<2&&(rr=ir+1)),ar!=="xy"&&ar!=="x"||(Mr={min:ir,max:rr}),ar!=="xy"&&ar!=="y"||Ir.forEach((function(Zr,Hr){Ir[Hr].min=Dr[Hr],Ir[Hr].max=jr[Hr]})),ur){var Or=ur.getBeforeZoomRange(Mr,Ir);Or&&(Mr=Or.xaxis?Or.xaxis:Mr,Ir=Or.yaxis?Or.yaxis:Ir)}var Lr={xaxis:Mr};or.config.chart.group||(Lr.yaxis=Ir),lr.ctx.updateHelpers._updateOptions(Lr,!1,lr.w.config.chart.animations.dynamicAnimation.enabled),typeof or.config.chart.events.zoomed=="function"&&ur.zoomCallback(Mr,Ir)}else if(or.globals.selectionEnabled){var Fr,Vr=null;Fr={min:ir,max:rr},ar!=="xy"&&ar!=="y"||(Vr=v$1.clone(or.config.yaxis)).forEach((function(Zr,Hr){Vr[Hr].min=Dr[Hr],Vr[Hr].max=jr[Hr]})),or.globals.selection=lr.selection,typeof or.config.chart.events.selection=="function"&&or.config.chart.events.selection(lr.ctx,{xaxis:Fr,yaxis:Vr})}}}},{key:"panDragging",value:function(nr){var ir=nr.context,rr=this.w,sr=ir;if(rr.globals.lastClientPosition.x!==void 0){var ar=rr.globals.lastClientPosition.x-sr.clientX,or=rr.globals.lastClientPosition.y-sr.clientY;Math.abs(ar)>Math.abs(or)&&ar>0?this.moveDirection="left":Math.abs(ar)>Math.abs(or)&&ar<0?this.moveDirection="right":Math.abs(or)>Math.abs(ar)&&or>0?this.moveDirection="up":Math.abs(or)>Math.abs(ar)&&or<0&&(this.moveDirection="down")}rr.globals.lastClientPosition={x:sr.clientX,y:sr.clientY};var lr=rr.globals.isRangeBar?rr.globals.minY:rr.globals.minX,cr=rr.globals.isRangeBar?rr.globals.maxY:rr.globals.maxX;sr.panScrolled(lr,cr)}},{key:"panScrolled",value:function(nr,ir){var rr=this.w,sr=this.xyRatios,ar=v$1.clone(rr.globals.initialConfig.yaxis),or=sr.xRatio,lr=rr.globals.minX,cr=rr.globals.maxX;rr.globals.isRangeBar&&(or=sr.invertedYRatio,lr=rr.globals.minY,cr=rr.globals.maxY),this.moveDirection==="left"?(nr=lr+rr.globals.gridWidth/15*or,ir=cr+rr.globals.gridWidth/15*or):this.moveDirection==="right"&&(nr=lr-rr.globals.gridWidth/15*or,ir=cr-rr.globals.gridWidth/15*or),rr.globals.isRangeBar||(nr<rr.globals.initialMinX||ir>rr.globals.initialMaxX)&&(nr=lr,ir=cr);var ur={xaxis:{min:nr,max:ir}};rr.config.chart.group||(ur.yaxis=ar),this.updateScrolledChart(ur,nr,ir)}},{key:"updateScrolledChart",value:function(nr,ir,rr){var sr=this.w;if(this.ctx.updateHelpers._updateOptions(nr,!1,!1),typeof sr.config.chart.events.scrolled=="function"){var ar={xaxis:{min:ir,max:rr}};sr.config.chart.events.scrolled(this.ctx,ar),this.ctx.events.fireEvent("scrolled",ar)}}}]),er})(),ya=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ttCtx=Hn,this.ctx=Hn.ctx}return s$1(tr,[{key:"getNearestValues",value:function(Hn){var er=Hn.hoverArea,nr=Hn.elGrid,ir=Hn.clientX,rr=Hn.clientY,sr=this.w,ar=nr.getBoundingClientRect(),or=ar.width,lr=ar.height,cr=or/(sr.globals.dataPoints-1),ur=lr/sr.globals.dataPoints,dr=this.hasBars();!sr.globals.comboCharts&&!dr||sr.config.xaxis.convertedCatToNumeric||(cr=or/sr.globals.dataPoints);var fr=ir-ar.left-sr.globals.barPadForNumericAxis,xr=rr-ar.top;fr<0||xr<0||fr>or||xr>lr?(er.classList.remove("hovering-zoom"),er.classList.remove("hovering-pan")):sr.globals.zoomEnabled?(er.classList.remove("hovering-pan"),er.classList.add("hovering-zoom")):sr.globals.panEnabled&&(er.classList.remove("hovering-zoom"),er.classList.add("hovering-pan"));var yr=Math.round(fr/cr),_r=Math.floor(xr/ur);dr&&!sr.config.xaxis.convertedCatToNumeric&&(yr=Math.ceil(fr/cr),yr-=1);var Sr=null,jr=null,Dr=sr.globals.seriesXvalues.map((function(Fr){return Fr.filter((function(Vr){return v$1.isNumber(Vr)}))})),Ir=sr.globals.seriesYvalues.map((function(Fr){return Fr.filter((function(Vr){return v$1.isNumber(Vr)}))}));if(sr.globals.isXNumeric){var Mr=this.ttCtx.getElGrid().getBoundingClientRect(),Or=fr*(Mr.width/or),Lr=xr*(Mr.height/lr);Sr=(jr=this.closestInMultiArray(Or,Lr,Dr,Ir)).index,yr=jr.j,Sr!==null&&sr.globals.hasNullValues&&(Dr=sr.globals.seriesXvalues[Sr],yr=(jr=this.closestInArray(Or,Dr)).j)}return sr.globals.capturedSeriesIndex=Sr===null?-1:Sr,(!yr||yr<1)&&(yr=0),sr.globals.isBarHorizontal?sr.globals.capturedDataPointIndex=_r:sr.globals.capturedDataPointIndex=yr,{capturedSeries:Sr,j:sr.globals.isBarHorizontal?_r:yr,hoverX:fr,hoverY:xr}}},{key:"getFirstActiveXArray",value:function(Hn){for(var er=this.w,nr=0,ir=Hn.map((function(sr,ar){return sr.length>0?ar:-1})),rr=0;rr<ir.length;rr++)if(ir[rr]!==-1&&er.globals.collapsedSeriesIndices.indexOf(rr)===-1&&er.globals.ancillaryCollapsedSeriesIndices.indexOf(rr)===-1){nr=ir[rr];break}return nr}},{key:"closestInMultiArray",value:function(Hn,er,nr,ir){for(var rr,sr=this.w,ar=1/0,or=null,lr=null,cr=0;cr<nr.length;cr++)if(rr=cr,sr.globals.collapsedSeriesIndices.indexOf(rr)===-1&&sr.globals.ancillaryCollapsedSeriesIndices.indexOf(rr)===-1)for(var ur=nr[cr],dr=ir[cr],fr=Math.min(ur.length,dr.length),xr=0;xr<fr;xr++){var yr=Hn-ur[xr],_r=Math.sqrt(yr*yr);if(!sr.globals.allSeriesHasEqualX){var Sr=er-dr[xr];_r=Math.sqrt(yr*yr+Sr*Sr)}_r<ar&&(ar=_r,or=cr,lr=xr)}return{index:or,j:lr}}},{key:"closestInArray",value:function(Hn,er){for(var nr=er[0],ir=null,rr=Math.abs(Hn-nr),sr=0;sr<er.length;sr++){var ar=Math.abs(Hn-er[sr]);ar<rr&&(rr=ar,ir=sr)}return{j:ir}}},{key:"isXoverlap",value:function(Hn){var er=[],nr=this.w.globals.seriesX.filter((function(rr){return rr[0]!==void 0}));if(nr.length>0)for(var ir=0;ir<nr.length-1;ir++)nr[ir][Hn]!==void 0&&nr[ir+1][Hn]!==void 0&&nr[ir][Hn]!==nr[ir+1][Hn]&&er.push("unEqual");return er.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var Hn=!0,er=this.w.globals.initialSeries,nr=0;nr<er.length-1;nr++)if(er[nr].data.length!==er[nr+1].data.length){Hn=!1;break}return Hn}},{key:"getBarsHeight",value:function(Hn){return f$2(Hn).reduce((function(er,nr){return er+nr.getBBox().height}),0)}},{key:"getElMarkers",value:function(Hn){return typeof Hn=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(Hn,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var Hn=this,er=arguments.length>0&&arguments[0]!==void 0&&arguments[0],nr=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");nr=f$2(nr),er&&(nr=nr.filter((function(rr){var sr=Number(rr.getAttribute("data:realIndex"));return Hn.w.globals.collapsedSeriesIndices.indexOf(sr)===-1}))),nr.sort((function(rr,sr){var ar=Number(rr.getAttribute("data:realIndex")),or=Number(sr.getAttribute("data:realIndex"));return or<ar?1:or>ar?-1:0}));var ir=[];return nr.forEach((function(rr){ir.push(rr.querySelector(".apexcharts-marker"))})),ir}},{key:"hasMarkers",value:function(Hn){return this.getElMarkers(Hn).length>0}},{key:"getPathFromPoint",value:function(Hn,er){var nr=Number(Hn.getAttribute("cx")),ir=Number(Hn.getAttribute("cy")),rr=Hn.getAttribute("shape");return new Mi$1(this.ctx).getMarkerPath(nr,ir,rr,er)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(Hn){var er=this.w,nr=er.config.markers.hover.size;return nr===void 0&&(nr=er.globals.markers.size[Hn]+er.config.markers.hover.sizeOffset),nr}},{key:"toggleAllTooltipSeriesGroups",value:function(Hn){var er=this.w,nr=this.ttCtx;nr.allTooltipSeriesGroups.length===0&&(nr.allTooltipSeriesGroups=er.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var ir=nr.allTooltipSeriesGroups,rr=0;rr<ir.length;rr++)Hn==="enable"?(ir[rr].classList.add("apexcharts-active"),ir[rr].style.display=er.config.tooltip.items.display):(ir[rr].classList.remove("apexcharts-active"),ir[rr].style.display="none")}}]),tr})(),wa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ctx=Hn.ctx,this.ttCtx=Hn,this.tooltipUtil=new ya(Hn)}return s$1(tr,[{key:"drawSeriesTexts",value:function(Hn){var er=Hn.shared,nr=er===void 0||er,ir=Hn.ttItems,rr=Hn.i,sr=rr===void 0?0:rr,ar=Hn.j,or=ar===void 0?null:ar,lr=Hn.y1,cr=Hn.y2,ur=Hn.e,dr=this.w;dr.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:sr,j:or,y1:lr,y2:cr,w:dr}):this.toggleActiveInactiveSeries(nr,sr);var fr=this.getValuesToPrint({i:sr,j:or});this.printLabels({i:sr,j:or,values:fr,ttItems:ir,shared:nr,e:ur});var xr=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=xr.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=xr.getBoundingClientRect().height}},{key:"printLabels",value:function(Hn){var er,nr=this,ir=Hn.i,rr=Hn.j,sr=Hn.values,ar=Hn.ttItems,or=Hn.shared,lr=Hn.e,cr=this.w,ur=[],dr=function(Mr){return cr.globals.seriesGoals[Mr]&&cr.globals.seriesGoals[Mr][rr]&&Array.isArray(cr.globals.seriesGoals[Mr][rr])},fr=sr.xVal,xr=sr.zVal,yr=sr.xAxisTTVal,_r="",Sr=cr.globals.colors[ir];rr!==null&&cr.config.plotOptions.bar.distributed&&(Sr=cr.globals.colors[rr]);for(var jr=function(Mr,Or){var Lr=nr.getFormatters(ir);_r=nr.getSeriesName({fn:Lr.yLbTitleFormatter,index:ir,seriesIndex:ir,j:rr}),cr.config.chart.type==="treemap"&&(_r=Lr.yLbTitleFormatter(String(cr.config.series[ir].data[rr].x),{series:cr.globals.series,seriesIndex:ir,dataPointIndex:rr,w:cr}));var Fr=cr.config.tooltip.inverseOrder?Or:Mr;if(cr.globals.axisCharts){var Vr=function(Yr){var eo,io,uo,so;return cr.globals.isRangeData?Lr.yLbFormatter((eo=cr.globals.seriesRangeStart)===null||eo===void 0||(io=eo[Yr])===null||io===void 0?void 0:io[rr],{series:cr.globals.seriesRangeStart,seriesIndex:Yr,dataPointIndex:rr,w:cr})+" - "+Lr.yLbFormatter((uo=cr.globals.seriesRangeEnd)===null||uo===void 0||(so=uo[Yr])===null||so===void 0?void 0:so[rr],{series:cr.globals.seriesRangeEnd,seriesIndex:Yr,dataPointIndex:rr,w:cr}):Lr.yLbFormatter(cr.globals.series[Yr][rr],{series:cr.globals.series,seriesIndex:Yr,dataPointIndex:rr,w:cr})};if(or)Lr=nr.getFormatters(Fr),_r=nr.getSeriesName({fn:Lr.yLbTitleFormatter,index:Fr,seriesIndex:ir,j:rr}),Sr=cr.globals.colors[Fr],er=Vr(Fr),dr(Fr)&&(ur=cr.globals.seriesGoals[Fr][rr].map((function(Yr){return{attrs:Yr,val:Lr.yLbFormatter(Yr.value,{seriesIndex:Fr,dataPointIndex:rr,w:cr})}})));else{var Zr,Hr=lr==null||(Zr=lr.target)===null||Zr===void 0?void 0:Zr.getAttribute("fill");Hr&&(Hr.indexOf("url")!==-1?Hr.indexOf("Pattern")!==-1&&(Sr=cr.globals.dom.baseEl.querySelector(Hr.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):Sr=Hr),er=Vr(ir),dr(ir)&&Array.isArray(cr.globals.seriesGoals[ir][rr])&&(ur=cr.globals.seriesGoals[ir][rr].map((function(Yr){return{attrs:Yr,val:Lr.yLbFormatter(Yr.value,{seriesIndex:ir,dataPointIndex:rr,w:cr})}})))}}rr===null&&(er=Lr.yLbFormatter(cr.globals.series[ir],u$2(u$2({},cr),{},{seriesIndex:ir,dataPointIndex:ir}))),nr.DOMHandling({i:ir,t:Fr,j:rr,ttItems:ar,values:{val:er,goalVals:ur,xVal:fr,xAxisTTVal:yr,zVal:xr},seriesName:_r,shared:or,pColor:Sr})},Dr=0,Ir=cr.globals.series.length-1;Dr<cr.globals.series.length;Dr++,Ir--)jr(Dr,Ir)}},{key:"getFormatters",value:function(Hn){var er,nr=this.w,ir=nr.globals.yLabelFormatters[Hn];return nr.globals.ttVal!==void 0?Array.isArray(nr.globals.ttVal)?(ir=nr.globals.ttVal[Hn]&&nr.globals.ttVal[Hn].formatter,er=nr.globals.ttVal[Hn]&&nr.globals.ttVal[Hn].title&&nr.globals.ttVal[Hn].title.formatter):(ir=nr.globals.ttVal.formatter,typeof nr.globals.ttVal.title.formatter=="function"&&(er=nr.globals.ttVal.title.formatter)):er=nr.config.tooltip.y.title.formatter,typeof ir!="function"&&(ir=nr.globals.yLabelFormatters[0]?nr.globals.yLabelFormatters[0]:function(rr){return rr}),typeof er!="function"&&(er=function(rr){return rr?rr+": ":""}),{yLbFormatter:ir,yLbTitleFormatter:er}}},{key:"getSeriesName",value:function(Hn){var er=Hn.fn,nr=Hn.index,ir=Hn.seriesIndex,rr=Hn.j,sr=this.w;return er(String(sr.globals.seriesNames[nr]),{series:sr.globals.series,seriesIndex:ir,dataPointIndex:rr,w:sr})}},{key:"DOMHandling",value:function(Hn){Hn.i;var er=Hn.t,nr=Hn.j,ir=Hn.ttItems,rr=Hn.values,sr=Hn.seriesName,ar=Hn.shared,or=Hn.pColor,lr=this.w,cr=this.ttCtx,ur=rr.val,dr=rr.goalVals,fr=rr.xVal,xr=rr.xAxisTTVal,yr=rr.zVal,_r=null;_r=ir[er].children,lr.config.tooltip.fillSeriesColor&&(ir[er].style.backgroundColor=or,_r[0].style.display="none"),cr.showTooltipTitle&&(cr.tooltipTitle===null&&(cr.tooltipTitle=lr.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),cr.tooltipTitle.innerHTML=fr),cr.isXAxisTooltipEnabled&&(cr.xaxisTooltipText.innerHTML=xr!==""?xr:fr);var Sr=ir[er].querySelector(".apexcharts-tooltip-text-y-label");Sr&&(Sr.innerHTML=sr||"");var jr=ir[er].querySelector(".apexcharts-tooltip-text-y-value");jr&&(jr.innerHTML=ur!==void 0?ur:""),_r[0]&&_r[0].classList.contains("apexcharts-tooltip-marker")&&(lr.config.tooltip.marker.fillColors&&Array.isArray(lr.config.tooltip.marker.fillColors)&&(or=lr.config.tooltip.marker.fillColors[er]),lr.config.tooltip.fillSeriesColor?_r[0].style.backgroundColor=or:_r[0].style.color=or),lr.config.tooltip.marker.show||(_r[0].style.display="none");var Dr=ir[er].querySelector(".apexcharts-tooltip-text-goals-label"),Ir=ir[er].querySelector(".apexcharts-tooltip-text-goals-value");if(dr.length&&lr.globals.seriesGoals[er]){var Mr=function(){var Fr="<div>",Vr="<div>";dr.forEach((function(Zr,Hr){Fr+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Zr.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Zr.attrs.name,"</div>"),Vr+="<div>".concat(Zr.val,"</div>")})),Dr.innerHTML=Fr+"</div>",Ir.innerHTML=Vr+"</div>"};ar?lr.globals.seriesGoals[er][nr]&&Array.isArray(lr.globals.seriesGoals[er][nr])?Mr():(Dr.innerHTML="",Ir.innerHTML=""):Mr()}else Dr.innerHTML="",Ir.innerHTML="";if(yr!==null&&(ir[er].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=lr.config.tooltip.z.title,ir[er].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=yr!==void 0?yr:""),ar&&_r[0]){if(lr.config.tooltip.hideEmptySeries){var Or=ir[er].querySelector(".apexcharts-tooltip-marker"),Lr=ir[er].querySelector(".apexcharts-tooltip-text");parseFloat(ur)==0?(Or.style.display="none",Lr.style.display="none"):(Or.style.display="block",Lr.style.display="block")}ur==null||lr.globals.ancillaryCollapsedSeriesIndices.indexOf(er)>-1||lr.globals.collapsedSeriesIndices.indexOf(er)>-1||Array.isArray(cr.tConfig.enabledOnSeries)&&cr.tConfig.enabledOnSeries.indexOf(er)===-1?_r[0].parentNode.style.display="none":_r[0].parentNode.style.display=lr.config.tooltip.items.display}else Array.isArray(cr.tConfig.enabledOnSeries)&&cr.tConfig.enabledOnSeries.indexOf(er)===-1&&(_r[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(Hn,er){var nr=this.w;if(Hn)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var ir=nr.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(er));ir&&(ir.classList.add("apexcharts-active"),ir.style.display=nr.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(Hn){var er=Hn.i,nr=Hn.j,ir=this.w,rr=this.ctx.series.filteredSeriesX(),sr="",ar="",or=null,lr=null,cr={series:ir.globals.series,seriesIndex:er,dataPointIndex:nr,w:ir},ur=ir.globals.ttZFormatter;nr===null?lr=ir.globals.series[er]:ir.globals.isXNumeric&&ir.config.chart.type!=="treemap"?(sr=rr[er][nr],rr[er].length===0&&(sr=rr[this.tooltipUtil.getFirstActiveXArray(rr)][nr])):sr=new Ji$1(this.ctx).isFormatXY()?ir.config.series[er].data[nr]!==void 0?ir.config.series[er].data[nr].x:"":ir.globals.labels[nr]!==void 0?ir.globals.labels[nr]:"";var dr=sr;return ir.globals.isXNumeric&&ir.config.xaxis.type==="datetime"?sr=new Xi$1(this.ctx).xLabelFormat(ir.globals.ttKeyFormatter,dr,dr,{i:void 0,dateFormatter:new zi$1(this.ctx).formatDate,w:this.w}):sr=ir.globals.isBarHorizontal?ir.globals.yLabelFormatters[0](dr,cr):ir.globals.xLabelFormatter(dr,cr),ir.config.tooltip.x.formatter!==void 0&&(sr=ir.globals.ttKeyFormatter(dr,cr)),ir.globals.seriesZ.length>0&&ir.globals.seriesZ[er].length>0&&(or=ur(ir.globals.seriesZ[er][nr],ir)),ar=typeof ir.config.xaxis.tooltip.formatter=="function"?ir.globals.xaxisTooltipFormatter(dr,cr):sr,{val:Array.isArray(lr)?lr.join(" "):lr,xVal:Array.isArray(sr)?sr.join(" "):sr,xAxisTTVal:Array.isArray(ar)?ar.join(" "):ar,zVal:or}}},{key:"handleCustomTooltip",value:function(Hn){var er=Hn.i,nr=Hn.j,ir=Hn.y1,rr=Hn.y2,sr=Hn.w,ar=this.ttCtx.getElTooltip(),or=sr.config.tooltip.custom;Array.isArray(or)&&or[er]&&(or=or[er]);var lr=or({ctx:this.ctx,series:sr.globals.series,seriesIndex:er,dataPointIndex:nr,y1:ir,y2:rr,w:sr});typeof lr=="string"||typeof lr=="number"?ar.innerHTML=lr:(lr instanceof Element||typeof lr.nodeName=="string")&&(ar.innerHTML="",ar.appendChild(lr.cloneNode(!0)))}}]),tr})(),ka=(function(){function tr(Hn){i$1(this,tr),this.ttCtx=Hn,this.ctx=Hn.ctx,this.w=Hn.w}return s$1(tr,[{key:"moveXCrosshairs",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,nr=this.ttCtx,ir=this.w,rr=nr.getElXCrosshairs(),sr=Hn-nr.xcrosshairsWidth/2,ar=ir.globals.labels.slice().length;if(er!==null&&(sr=ir.globals.gridWidth/ar*er),rr===null||ir.globals.isBarHorizontal||(rr.setAttribute("x",sr),rr.setAttribute("x1",sr),rr.setAttribute("x2",sr),rr.setAttribute("y2",ir.globals.gridHeight),rr.classList.add("apexcharts-active")),sr<0&&(sr=0),sr>ir.globals.gridWidth&&(sr=ir.globals.gridWidth),nr.isXAxisTooltipEnabled){var or=sr;ir.config.xaxis.crosshairs.width!=="tickWidth"&&ir.config.xaxis.crosshairs.width!=="barWidth"||(or=sr+nr.xcrosshairsWidth/2),this.moveXAxisTooltip(or)}}},{key:"moveYCrosshairs",value:function(Hn){var er=this.ttCtx;er.ycrosshairs!==null&&Mi$1.setAttrs(er.ycrosshairs,{y1:Hn,y2:Hn}),er.ycrosshairsHidden!==null&&Mi$1.setAttrs(er.ycrosshairsHidden,{y1:Hn,y2:Hn})}},{key:"moveXAxisTooltip",value:function(Hn){var er=this.w,nr=this.ttCtx;if(nr.xaxisTooltip!==null&&nr.xcrosshairsWidth!==0){nr.xaxisTooltip.classList.add("apexcharts-active");var ir=nr.xaxisOffY+er.config.xaxis.tooltip.offsetY+er.globals.translateY+1+er.config.xaxis.offsetY;if(Hn-=nr.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(Hn)){Hn+=er.globals.translateX;var rr;rr=new Mi$1(this.ctx).getTextRects(nr.xaxisTooltipText.innerHTML),nr.xaxisTooltipText.style.minWidth=rr.width+"px",nr.xaxisTooltip.style.left=Hn+"px",nr.xaxisTooltip.style.top=ir+"px"}}}},{key:"moveYAxisTooltip",value:function(Hn){var er=this.w,nr=this.ttCtx;nr.yaxisTTEls===null&&(nr.yaxisTTEls=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var ir=parseInt(nr.ycrosshairsHidden.getAttribute("y1"),10),rr=er.globals.translateY+ir,sr=nr.yaxisTTEls[Hn].getBoundingClientRect(),ar=sr.height,or=er.globals.translateYAxisX[Hn]-2;er.config.yaxis[Hn].opposite&&(or-=sr.width),rr-=ar/2,er.globals.ignoreYAxisIndexes.indexOf(Hn)===-1&&rr>0&&rr<er.globals.gridHeight?(nr.yaxisTTEls[Hn].classList.add("apexcharts-active"),nr.yaxisTTEls[Hn].style.top=rr+"px",nr.yaxisTTEls[Hn].style.left=or+er.config.yaxis[Hn].tooltip.offsetX+"px"):nr.yaxisTTEls[Hn].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=this.w,rr=this.ttCtx,sr=rr.getElTooltip(),ar=rr.tooltipRect,or=nr!==null?parseFloat(nr):1,lr=parseFloat(Hn)+or+5,cr=parseFloat(er)+or/2;if(lr>ir.globals.gridWidth/2&&(lr=lr-ar.ttWidth-or-10),lr>ir.globals.gridWidth-ar.ttWidth-10&&(lr=ir.globals.gridWidth-ar.ttWidth),lr<-20&&(lr=-20),ir.config.tooltip.followCursor){var ur=rr.getElGrid().getBoundingClientRect();(lr=rr.e.clientX-ur.left)>ir.globals.gridWidth/2&&(lr-=rr.tooltipRect.ttWidth),(cr=rr.e.clientY+ir.globals.translateY-ur.top)>ir.globals.gridHeight/2&&(cr-=rr.tooltipRect.ttHeight)}else ir.globals.isBarHorizontal||ar.ttHeight/2+cr>ir.globals.gridHeight&&(cr=ir.globals.gridHeight-ar.ttHeight+ir.globals.translateY);isNaN(lr)||(lr+=ir.globals.translateX,sr.style.left=lr+"px",sr.style.top=cr+"px")}},{key:"moveMarkers",value:function(Hn,er){var nr=this.w,ir=this.ttCtx;if(nr.globals.markers.size[Hn]>0)for(var rr=nr.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(Hn,"'] .apexcharts-marker")),sr=0;sr<rr.length;sr++)parseInt(rr[sr].getAttribute("rel"),10)===er&&(ir.marker.resetPointsSize(),ir.marker.enlargeCurrentPoint(er,rr[sr]));else ir.marker.resetPointsSize(),this.moveDynamicPointOnHover(er,Hn)}},{key:"moveDynamicPointOnHover",value:function(Hn,er){var nr,ir,rr,sr,ar=this.w,or=this.ttCtx,lr=new Mi$1(this.ctx),cr=ar.globals.pointsArray,ur=or.tooltipUtil.getHoverMarkerSize(er),dr=ar.config.series[er].type;if(!dr||dr!=="column"&&dr!=="candlestick"&&dr!=="boxPlot"){rr=(nr=cr[er][Hn])===null||nr===void 0?void 0:nr[0],sr=((ir=cr[er][Hn])===null||ir===void 0?void 0:ir[1])||0;var fr=ar.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(er,"'] .apexcharts-series-markers path"));if(fr&&sr<ar.globals.gridHeight&&sr>0){var xr=fr.getAttribute("shape"),yr=lr.getMarkerPath(rr,sr,xr,1.5*ur);fr.setAttribute("d",yr)}this.moveXCrosshairs(rr),or.fixedTooltip||this.moveTooltip(rr,sr,ur)}}},{key:"moveDynamicPointsOnHover",value:function(Hn){var er,nr=this.ttCtx,ir=nr.w,rr=0,sr=0,ar=ir.globals.pointsArray,or=new $i$1(this.ctx),lr=new Mi$1(this.ctx);er=or.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var cr=nr.tooltipUtil.getHoverMarkerSize(er);if(ar[er]&&(rr=ar[er][Hn][0],sr=ar[er][Hn][1]),!isNaN(rr)){var ur=nr.tooltipUtil.getAllMarkers();if(ur.length)for(var dr=0;dr<ir.globals.series.length;dr++){var fr=ar[dr];if(ir.globals.comboCharts&&fr===void 0&&ur.splice(dr,0,null),fr&&fr.length){var xr=ar[dr][Hn][1],yr=void 0;ur[dr].setAttribute("cx",rr);var _r=ur[dr].getAttribute("shape");if(ir.config.chart.type==="rangeArea"&&!ir.globals.comboCharts){var Sr=Hn+ir.globals.series[dr].length;yr=ar[dr][Sr][1],xr-=Math.abs(xr-yr)/2}if(xr!==null&&!isNaN(xr)&&xr<ir.globals.gridHeight+cr&&xr+cr>0){var jr=lr.getMarkerPath(rr,xr,_r,cr);ur[dr].setAttribute("d",jr)}else ur[dr].setAttribute("d","")}}this.moveXCrosshairs(rr),nr.fixedTooltip||this.moveTooltip(rr,sr||ir.globals.gridHeight,cr)}}},{key:"moveStickyTooltipOverBars",value:function(Hn,er){var nr=this.w,ir=this.ttCtx,rr=nr.globals.columnSeries?nr.globals.columnSeries.length:nr.globals.series.length;nr.config.chart.stacked&&(rr=nr.globals.barGroups.length);var sr=rr>=2&&rr%2==0?Math.floor(rr/2):Math.floor(rr/2)+1;nr.globals.isBarHorizontal&&(sr=new $i$1(this.ctx).getActiveConfigSeriesIndex("desc")+1);var ar=nr.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(sr,"'] path[j='").concat(Hn,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(sr,"'] path[j='").concat(Hn,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(sr,"'] path[j='").concat(Hn,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(sr,"'] path[j='").concat(Hn,"']"));ar||typeof er!="number"||(ar=nr.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(er,"'] path[j='").concat(Hn,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(er,"'] path[j='").concat(Hn,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(er,"'] path[j='").concat(Hn,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(er,"'] path[j='").concat(Hn,"']")));var or=ar?parseFloat(ar.getAttribute("cx")):0,lr=ar?parseFloat(ar.getAttribute("cy")):0,cr=ar?parseFloat(ar.getAttribute("barWidth")):0,ur=ir.getElGrid().getBoundingClientRect(),dr=ar&&(ar.classList.contains("apexcharts-candlestick-area")||ar.classList.contains("apexcharts-boxPlot-area"));nr.globals.isXNumeric?(ar&&!dr&&(or-=rr%2!=0?cr/2:0),ar&&dr&&(or-=cr/2)):nr.globals.isBarHorizontal||(or=ir.xAxisTicksPositions[Hn-1]+ir.dataPointsDividedWidth/2,isNaN(or)&&(or=ir.xAxisTicksPositions[Hn]-ir.dataPointsDividedWidth/2)),nr.globals.isBarHorizontal?lr-=ir.tooltipRect.ttHeight:nr.config.tooltip.followCursor?lr=ir.e.clientY-ur.top-ir.tooltipRect.ttHeight/2:lr+ir.tooltipRect.ttHeight+15>nr.globals.gridHeight&&(lr=nr.globals.gridHeight),nr.globals.isBarHorizontal||this.moveXCrosshairs(or),ir.fixedTooltip||this.moveTooltip(or,lr||nr.globals.gridHeight)}}]),tr})(),Aa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ttCtx=Hn,this.ctx=Hn.ctx,this.tooltipPosition=new ka(Hn)}return s$1(tr,[{key:"drawDynamicPoints",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=new Vi$1(this.ctx),ir=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series");ir=f$2(ir),Hn.config.chart.stacked&&ir.sort((function(ur,dr){return parseFloat(ur.getAttribute("data:realIndex"))-parseFloat(dr.getAttribute("data:realIndex"))}));for(var rr=0;rr<ir.length;rr++){var sr=ir[rr].querySelector(".apexcharts-series-markers-wrap");if(sr!==null){var ar=void 0,or="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));Hn.config.chart.type!=="line"&&Hn.config.chart.type!=="area"||Hn.globals.comboCharts||Hn.config.tooltip.intersect||(or+=" no-pointer-events");var lr=nr.getMarkerConfig({cssClass:or,seriesIndex:Number(sr.getAttribute("data:realIndex"))});(ar=er.drawMarker(0,0,lr)).node.setAttribute("default-marker-size",0);var cr=document.createElementNS(Hn.globals.SVGNS,"g");cr.classList.add("apexcharts-series-markers"),cr.appendChild(ar.node),sr.appendChild(cr)}}}},{key:"enlargeCurrentPoint",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,rr=this.w;rr.config.chart.type!=="bubble"&&this.newPointSize(Hn,er);var sr=er.getAttribute("cx"),ar=er.getAttribute("cy");if(nr!==null&&ir!==null&&(sr=nr,ar=ir),this.tooltipPosition.moveXCrosshairs(sr),!this.fixedTooltip){if(rr.config.chart.type==="radar"){var or=this.ttCtx.getElGrid().getBoundingClientRect();sr=this.ttCtx.e.clientX-or.left}this.tooltipPosition.moveTooltip(sr,ar,rr.config.markers.hover.size)}}},{key:"enlargePoints",value:function(Hn){for(var er=this.w,nr=this,ir=this.ttCtx,rr=Hn,sr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),ar=er.config.markers.hover.size,or=0;or<sr.length;or++){var lr=sr[or].getAttribute("rel"),cr=sr[or].getAttribute("index");if(ar===void 0&&(ar=er.globals.markers.size[cr]+er.config.markers.hover.sizeOffset),rr===parseInt(lr,10)){nr.newPointSize(rr,sr[or]);var ur=sr[or].getAttribute("cx"),dr=sr[or].getAttribute("cy");nr.tooltipPosition.moveXCrosshairs(ur),ir.fixedTooltip||nr.tooltipPosition.moveTooltip(ur,dr,ar)}else nr.oldPointSize(sr[or])}}},{key:"newPointSize",value:function(Hn,er){var nr=this.w,ir=nr.config.markers.hover.size,rr=Hn===0?er.parentNode.firstChild:er.parentNode.lastChild;if(rr.getAttribute("default-marker-size")!=="0"){var sr=parseInt(rr.getAttribute("index"),10);ir===void 0&&(ir=nr.globals.markers.size[sr]+nr.config.markers.hover.sizeOffset),ir<0&&(ir=0);var ar=this.ttCtx.tooltipUtil.getPathFromPoint(er,ir);er.setAttribute("d",ar)}}},{key:"oldPointSize",value:function(Hn){var er=parseFloat(Hn.getAttribute("default-marker-size")),nr=this.ttCtx.tooltipUtil.getPathFromPoint(Hn,er);Hn.setAttribute("d",nr)}},{key:"resetPointsSize",value:function(){for(var Hn=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),er=0;er<Hn.length;er++){var nr=parseFloat(Hn[er].getAttribute("default-marker-size"));if(v$1.isNumber(nr)&&nr>0){var ir=this.ttCtx.tooltipUtil.getPathFromPoint(Hn[er],nr);Hn[er].setAttribute("d",ir)}else Hn[er].setAttribute("d","M0,0")}}}]),tr})(),Ca=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w;var er=this.w;this.ttCtx=Hn,this.isVerticalGroupedRangeBar=!er.globals.isBarHorizontal&&er.config.chart.type==="rangeBar"&&er.config.plotOptions.bar.rangeBarGroupRows}return s$1(tr,[{key:"getAttr",value:function(Hn,er){return parseFloat(Hn.target.getAttribute(er))}},{key:"handleHeatTreeTooltip",value:function(Hn){var er=Hn.e,nr=Hn.opt,ir=Hn.x,rr=Hn.y,sr=Hn.type,ar=this.ttCtx,or=this.w;if(er.target.classList.contains("apexcharts-".concat(sr,"-rect"))){var lr=this.getAttr(er,"i"),cr=this.getAttr(er,"j"),ur=this.getAttr(er,"cx"),dr=this.getAttr(er,"cy"),fr=this.getAttr(er,"width"),xr=this.getAttr(er,"height");if(ar.tooltipLabels.drawSeriesTexts({ttItems:nr.ttItems,i:lr,j:cr,shared:!1,e:er}),or.globals.capturedSeriesIndex=lr,or.globals.capturedDataPointIndex=cr,ir=ur+ar.tooltipRect.ttWidth/2+fr,rr=dr+ar.tooltipRect.ttHeight/2-xr/2,ar.tooltipPosition.moveXCrosshairs(ur+fr/2),ir>or.globals.gridWidth/2&&(ir=ur-ar.tooltipRect.ttWidth/2+fr),ar.w.config.tooltip.followCursor){var yr=or.globals.dom.elWrap.getBoundingClientRect();ir=or.globals.clientX-yr.left-(ir>or.globals.gridWidth/2?ar.tooltipRect.ttWidth:0),rr=or.globals.clientY-yr.top-(rr>or.globals.gridHeight/2?ar.tooltipRect.ttHeight:0)}}return{x:ir,y:rr}}},{key:"handleMarkerTooltip",value:function(Hn){var er,nr,ir=Hn.e,rr=Hn.opt,sr=Hn.x,ar=Hn.y,or=this.w,lr=this.ttCtx;if(ir.target.classList.contains("apexcharts-marker")){var cr=parseInt(rr.paths.getAttribute("cx"),10),ur=parseInt(rr.paths.getAttribute("cy"),10),dr=parseFloat(rr.paths.getAttribute("val"));if(nr=parseInt(rr.paths.getAttribute("rel"),10),er=parseInt(rr.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,lr.intersect){var fr=v$1.findAncestor(rr.paths,"apexcharts-series");fr&&(er=parseInt(fr.getAttribute("data:realIndex"),10))}if(lr.tooltipLabels.drawSeriesTexts({ttItems:rr.ttItems,i:er,j:nr,shared:!lr.showOnIntersect&&or.config.tooltip.shared,e:ir}),ir.type==="mouseup"&&lr.markerClick(ir,er,nr),or.globals.capturedSeriesIndex=er,or.globals.capturedDataPointIndex=nr,sr=cr,ar=ur+or.globals.translateY-1.4*lr.tooltipRect.ttHeight,lr.w.config.tooltip.followCursor){var xr=lr.getElGrid().getBoundingClientRect();ar=lr.e.clientY+or.globals.translateY-xr.top}dr<0&&(ar=ur),lr.marker.enlargeCurrentPoint(nr,rr.paths,sr,ar)}return{x:sr,y:ar}}},{key:"handleBarTooltip",value:function(Hn){var er,nr,ir=Hn.e,rr=Hn.opt,sr=this.w,ar=this.ttCtx,or=ar.getElTooltip(),lr=0,cr=0,ur=0,dr=this.getBarTooltipXY({e:ir,opt:rr});if(dr.j!==null||dr.barHeight!==0||dr.barWidth!==0){er=dr.i;var fr=dr.j;if(sr.globals.capturedSeriesIndex=er,sr.globals.capturedDataPointIndex=fr,sr.globals.isBarHorizontal&&ar.tooltipUtil.hasBars()||!sr.config.tooltip.shared?(cr=dr.x,ur=dr.y,nr=Array.isArray(sr.config.stroke.width)?sr.config.stroke.width[er]:sr.config.stroke.width,lr=cr):sr.globals.comboCharts||sr.config.tooltip.shared||(lr/=2),isNaN(ur)&&(ur=sr.globals.svgHeight-ar.tooltipRect.ttHeight),parseInt(rr.paths.parentNode.getAttribute("data:realIndex"),10),cr+ar.tooltipRect.ttWidth>sr.globals.gridWidth?cr-=ar.tooltipRect.ttWidth:cr<0&&(cr=0),ar.w.config.tooltip.followCursor){var xr=ar.getElGrid().getBoundingClientRect();ur=ar.e.clientY-xr.top}ar.tooltip===null&&(ar.tooltip=sr.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),sr.config.tooltip.shared||(sr.globals.comboBarCount>0?ar.tooltipPosition.moveXCrosshairs(lr+nr/2):ar.tooltipPosition.moveXCrosshairs(lr)),!ar.fixedTooltip&&(!sr.config.tooltip.shared||sr.globals.isBarHorizontal&&ar.tooltipUtil.hasBars())&&(ur=ur+sr.globals.translateY-ar.tooltipRect.ttHeight/2,or.style.left=cr+sr.globals.translateX+"px",or.style.top=ur+"px")}}},{key:"getBarTooltipXY",value:function(Hn){var er=this,nr=Hn.e,ir=Hn.opt,rr=this.w,sr=null,ar=this.ttCtx,or=0,lr=0,cr=0,ur=0,dr=0,fr=nr.target.classList;if(fr.contains("apexcharts-bar-area")||fr.contains("apexcharts-candlestick-area")||fr.contains("apexcharts-boxPlot-area")||fr.contains("apexcharts-rangebar-area")){var xr=nr.target,yr=xr.getBoundingClientRect(),_r=ir.elGrid.getBoundingClientRect(),Sr=yr.height;dr=yr.height;var jr=yr.width,Dr=parseInt(xr.getAttribute("cx"),10),Ir=parseInt(xr.getAttribute("cy"),10);ur=parseFloat(xr.getAttribute("barWidth"));var Mr=nr.type==="touchmove"?nr.touches[0].clientX:nr.clientX;sr=parseInt(xr.getAttribute("j"),10),or=parseInt(xr.parentNode.getAttribute("rel"),10)-1;var Or=xr.getAttribute("data-range-y1"),Lr=xr.getAttribute("data-range-y2");rr.globals.comboCharts&&(or=parseInt(xr.parentNode.getAttribute("data:realIndex"),10));var Fr=function(Zr){return rr.globals.isXNumeric?Dr-jr/2:er.isVerticalGroupedRangeBar?Dr+jr/2:Dr-ar.dataPointsDividedWidth+jr/2},Vr=function(){return Ir-ar.dataPointsDividedHeight+Sr/2-ar.tooltipRect.ttHeight/2};ar.tooltipLabels.drawSeriesTexts({ttItems:ir.ttItems,i:or,j:sr,y1:Or?parseInt(Or,10):null,y2:Lr?parseInt(Lr,10):null,shared:!ar.showOnIntersect&&rr.config.tooltip.shared,e:nr}),rr.config.tooltip.followCursor?rr.globals.isBarHorizontal?(lr=Mr-_r.left+15,cr=Vr()):(lr=Fr(),cr=nr.clientY-_r.top-ar.tooltipRect.ttHeight/2-15):rr.globals.isBarHorizontal?((lr=Dr)<ar.xyRatios.baseLineInvertedY&&(lr=Dr-ar.tooltipRect.ttWidth),cr=Vr()):(lr=Fr(),cr=Ir)}return{x:lr,y:cr,barHeight:dr,barWidth:ur,i:or,j:sr}}}]),tr})(),Sa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ttCtx=Hn}return s$1(tr,[{key:"drawXaxisTooltip",value:function(){var Hn=this.w,er=this.ttCtx,nr=Hn.config.xaxis.position==="bottom";er.xaxisOffY=nr?Hn.globals.gridHeight+1:-Hn.globals.xAxisHeight-Hn.config.xaxis.axisTicks.height+3;var ir=nr?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",rr=Hn.globals.dom.elWrap;er.isXAxisTooltipEnabled&&Hn.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(er.xaxisTooltip=document.createElement("div"),er.xaxisTooltip.setAttribute("class",ir+" apexcharts-theme-"+Hn.config.tooltip.theme),rr.appendChild(er.xaxisTooltip),er.xaxisTooltipText=document.createElement("div"),er.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),er.xaxisTooltipText.style.fontFamily=Hn.config.xaxis.tooltip.style.fontFamily||Hn.config.chart.fontFamily,er.xaxisTooltipText.style.fontSize=Hn.config.xaxis.tooltip.style.fontSize,er.xaxisTooltip.appendChild(er.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var Hn=this.w,er=this.ttCtx,nr=0;nr<Hn.config.yaxis.length;nr++){var ir=Hn.config.yaxis[nr].opposite||Hn.config.yaxis[nr].crosshairs.opposite;er.yaxisOffX=ir?Hn.globals.gridWidth+1:1;var rr="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(nr,ir?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),sr=Hn.globals.dom.elWrap;Hn.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(nr))===null&&(er.yaxisTooltip=document.createElement("div"),er.yaxisTooltip.setAttribute("class",rr+" apexcharts-theme-"+Hn.config.tooltip.theme),sr.appendChild(er.yaxisTooltip),nr===0&&(er.yaxisTooltipText=[]),er.yaxisTooltipText[nr]=document.createElement("div"),er.yaxisTooltipText[nr].classList.add("apexcharts-yaxistooltip-text"),er.yaxisTooltip.appendChild(er.yaxisTooltipText[nr]))}}},{key:"setXCrosshairWidth",value:function(){var Hn=this.w,er=this.ttCtx,nr=er.getElXCrosshairs();if(er.xcrosshairsWidth=parseInt(Hn.config.xaxis.crosshairs.width,10),Hn.globals.comboCharts){var ir=Hn.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(ir!==null&&Hn.config.xaxis.crosshairs.width==="barWidth"){var rr=parseFloat(ir.getAttribute("barWidth"));er.xcrosshairsWidth=rr}else if(Hn.config.xaxis.crosshairs.width==="tickWidth"){var sr=Hn.globals.labels.length;er.xcrosshairsWidth=Hn.globals.gridWidth/sr}}else if(Hn.config.xaxis.crosshairs.width==="tickWidth"){var ar=Hn.globals.labels.length;er.xcrosshairsWidth=Hn.globals.gridWidth/ar}else if(Hn.config.xaxis.crosshairs.width==="barWidth"){var or=Hn.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(or!==null){var lr=parseFloat(or.getAttribute("barWidth"));er.xcrosshairsWidth=lr}else er.xcrosshairsWidth=1}Hn.globals.isBarHorizontal&&(er.xcrosshairsWidth=0),nr!==null&&er.xcrosshairsWidth>0&&nr.setAttribute("width",er.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var Hn=this.w,er=this.ttCtx;er.ycrosshairs=Hn.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),er.ycrosshairsHidden=Hn.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(Hn,er,nr){var ir=this.ttCtx,rr=this.w,sr=rr.globals,ar=sr.seriesYAxisMap[Hn];if(ir.yaxisTooltips[Hn]&&ar.length>0){var or=sr.yLabelFormatters[Hn],lr=ir.getElGrid().getBoundingClientRect(),cr=ar[0],ur=0;nr.yRatio.length>1&&(ur=cr);var dr=(er-lr.top)*nr.yRatio[ur],fr=sr.maxYArr[cr]-sr.minYArr[cr],xr=sr.minYArr[cr]+(fr-dr);rr.config.yaxis[Hn].reversed&&(xr=sr.maxYArr[cr]-(fr-dr)),ir.tooltipPosition.moveYCrosshairs(er-lr.top),ir.yaxisTooltipText[Hn].innerHTML=or(xr),ir.tooltipPosition.moveYAxisTooltip(Hn)}}}]),tr})(),La=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.tConfig=er.config.tooltip,this.tooltipUtil=new ya(this),this.tooltipLabels=new wa(this),this.tooltipPosition=new ka(this),this.marker=new Aa(this),this.intersect=new Ca(this),this.axesTooltip=new Sa(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!er.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return s$1(tr,[{key:"getElTooltip",value:function(Hn){return Hn||(Hn=this),Hn.w.globals.dom.baseEl?Hn.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(Hn){var er=this.w;this.xyRatios=Hn,this.isXAxisTooltipEnabled=er.config.xaxis.tooltip.enabled&&er.globals.axisCharts,this.yaxisTooltips=er.config.yaxis.map((function(sr,ar){return!!(sr.show&&sr.tooltip.enabled&&er.globals.axisCharts)})),this.allTooltipSeriesGroups=[],er.globals.axisCharts||(this.showTooltipTitle=!1);var nr=document.createElement("div");if(nr.classList.add("apexcharts-tooltip"),er.config.tooltip.cssClass&&nr.classList.add(er.config.tooltip.cssClass),nr.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),er.globals.dom.elWrap.appendChild(nr),er.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var ir=new Ki$1(this.ctx);this.xAxisTicksPositions=ir.getXAxisTicksPositions()}if(!er.globals.comboCharts&&!this.tConfig.intersect&&er.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),er.config.markers.size!==0&&er.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),er.globals.collapsedSeries.length!==er.globals.series.length){this.dataPointsDividedHeight=er.globals.gridHeight/er.globals.dataPoints,this.dataPointsDividedWidth=er.globals.gridWidth/er.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||er.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,nr.appendChild(this.tooltipTitle));var rr=er.globals.series.length;(er.globals.xyCharts||er.globals.comboCharts)&&this.tConfig.shared&&(rr=this.showOnIntersect?1:er.globals.series.length),this.legendLabels=er.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(rr),this.addSVGEvents()}}},{key:"createTTElements",value:function(Hn){for(var er=this,nr=this.w,ir=[],rr=this.getElTooltip(),sr=function(or){var lr=document.createElement("div");lr.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(or)),lr.style.order=nr.config.tooltip.inverseOrder?Hn-or:or+1;var cr=document.createElement("span");cr.classList.add("apexcharts-tooltip-marker"),nr.config.tooltip.fillSeriesColor?cr.style.backgroundColor=nr.globals.colors[or]:cr.style.color=nr.globals.colors[or];var ur=nr.config.markers.shape,dr=ur;Array.isArray(ur)&&(dr=ur[or]),cr.setAttribute("shape",dr),lr.appendChild(cr);var fr=document.createElement("div");fr.classList.add("apexcharts-tooltip-text"),fr.style.fontFamily=er.tConfig.style.fontFamily||nr.config.chart.fontFamily,fr.style.fontSize=er.tConfig.style.fontSize,["y","goals","z"].forEach((function(xr){var yr=document.createElement("div");yr.classList.add("apexcharts-tooltip-".concat(xr,"-group"));var _r=document.createElement("span");_r.classList.add("apexcharts-tooltip-text-".concat(xr,"-label")),yr.appendChild(_r);var Sr=document.createElement("span");Sr.classList.add("apexcharts-tooltip-text-".concat(xr,"-value")),yr.appendChild(Sr),fr.appendChild(yr)})),lr.appendChild(fr),rr.appendChild(lr),ir.push(lr)},ar=0;ar<Hn;ar++)sr(ar);return ir}},{key:"addSVGEvents",value:function(){var Hn=this.w,er=Hn.config.chart.type,nr=this.getElTooltip(),ir=!(er!=="bar"&&er!=="candlestick"&&er!=="boxPlot"&&er!=="rangeBar"),rr=er==="area"||er==="line"||er==="scatter"||er==="bubble"||er==="radar",sr=Hn.globals.dom.Paper.node,ar=this.getElGrid();ar&&(this.seriesBound=ar.getBoundingClientRect());var or,lr=[],cr=[],ur={hoverArea:sr,elGrid:ar,tooltipEl:nr,tooltipY:lr,tooltipX:cr,ttItems:this.ttItems};if(Hn.globals.axisCharts&&(rr?or=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):ir?or=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):er!=="heatmap"&&er!=="treemap"||(or=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),or&&or.length))for(var dr=0;dr<or.length;dr++)lr.push(or[dr].getAttribute("cy")),cr.push(or[dr].getAttribute("cx"));if(Hn.globals.xyCharts&&!this.showOnIntersect||Hn.globals.comboCharts&&!this.showOnIntersect||ir&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([sr],ur);else if(ir&&!Hn.globals.comboCharts||rr&&this.showOnIntersect)this.addDatapointEventsListeners(ur);else if(!Hn.globals.axisCharts||er==="heatmap"||er==="treemap"){var fr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(fr,ur)}if(this.showOnIntersect){var xr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");xr.length>0&&this.addPathsEventListeners(xr,ur),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(ur)}}},{key:"drawFixedTooltipRect",value:function(){var Hn=this.w,er=this.getElTooltip(),nr=er.getBoundingClientRect(),ir=nr.width+10,rr=nr.height+10,sr=this.tConfig.fixed.offsetX,ar=this.tConfig.fixed.offsetY,or=this.tConfig.fixed.position.toLowerCase();return or.indexOf("right")>-1&&(sr=sr+Hn.globals.svgWidth-ir+10),or.indexOf("bottom")>-1&&(ar=ar+Hn.globals.svgHeight-rr-10),er.style.left=sr+"px",er.style.top=ar+"px",{x:sr,y:ar,ttWidth:ir,ttHeight:rr}}},{key:"addDatapointEventsListeners",value:function(Hn){var er=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(er,Hn)}},{key:"addPathsEventListeners",value:function(Hn,er){for(var nr=this,ir=function(sr){var ar={paths:Hn[sr],tooltipEl:er.tooltipEl,tooltipY:er.tooltipY,tooltipX:er.tooltipX,elGrid:er.elGrid,hoverArea:er.hoverArea,ttItems:er.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(or){return Hn[sr].addEventListener(or,nr.onSeriesHover.bind(nr,ar),{capture:!1,passive:!0})}))},rr=0;rr<Hn.length;rr++)ir(rr)}},{key:"onSeriesHover",value:function(Hn,er){var nr=this,ir=Date.now()-this.lastHoverTime;ir>=20?this.seriesHover(Hn,er):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){nr.seriesHover(Hn,er)}),20-ir))}},{key:"seriesHover",value:function(Hn,er){var nr=this;this.lastHoverTime=Date.now();var ir=[],rr=this.w;rr.config.chart.group&&(ir=this.ctx.getGroupedCharts()),rr.globals.axisCharts&&(rr.globals.minX===-1/0&&rr.globals.maxX===1/0||rr.globals.dataPoints===0)||(ir.length?ir.forEach((function(sr){var ar=nr.getElTooltip(sr),or={paths:Hn.paths,tooltipEl:ar,tooltipY:Hn.tooltipY,tooltipX:Hn.tooltipX,elGrid:Hn.elGrid,hoverArea:Hn.hoverArea,ttItems:sr.w.globals.tooltip.ttItems};sr.w.globals.minX===nr.w.globals.minX&&sr.w.globals.maxX===nr.w.globals.maxX&&sr.w.globals.tooltip.seriesHoverByContext({chartCtx:sr,ttCtx:sr.w.globals.tooltip,opt:or,e:er})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:Hn,e:er}))}},{key:"seriesHoverByContext",value:function(Hn){var er=Hn.chartCtx,nr=Hn.ttCtx,ir=Hn.opt,rr=Hn.e,sr=er.w,ar=this.getElTooltip(er);ar&&(nr.tooltipRect={x:0,y:0,ttWidth:ar.getBoundingClientRect().width,ttHeight:ar.getBoundingClientRect().height},nr.e=rr,nr.tooltipUtil.hasBars()&&!sr.globals.comboCharts&&!nr.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new $i$1(er).toggleSeriesOnHover(rr,rr.target.parentNode),sr.globals.axisCharts?nr.axisChartsTooltips({e:rr,opt:ir,tooltipRect:nr.tooltipRect}):nr.nonAxisChartsTooltips({e:rr,opt:ir,tooltipRect:nr.tooltipRect}),nr.fixedTooltip&&nr.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(Hn){var er,nr,ir=Hn.e,rr=Hn.opt,sr=this.w,ar=rr.elGrid.getBoundingClientRect(),or=ir.type==="touchmove"?ir.touches[0].clientX:ir.clientX,lr=ir.type==="touchmove"?ir.touches[0].clientY:ir.clientY;if(this.clientY=lr,this.clientX=or,sr.globals.capturedSeriesIndex=-1,sr.globals.capturedDataPointIndex=-1,lr<ar.top||lr>ar.top+ar.height)this.handleMouseOut(rr);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!sr.config.tooltip.shared){var cr=parseInt(rr.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(cr)<0)return void this.handleMouseOut(rr)}var ur=this.getElTooltip(),dr=this.getElXCrosshairs(),fr=[];sr.config.chart.group&&(fr=this.ctx.getSyncedCharts());var xr=sr.globals.xyCharts||sr.config.chart.type==="bar"&&!sr.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||sr.globals.comboCharts&&this.tooltipUtil.hasBars();if(ir.type==="mousemove"||ir.type==="touchmove"||ir.type==="mouseup"){if(sr.globals.collapsedSeries.length+sr.globals.ancillaryCollapsedSeries.length===sr.globals.series.length)return;dr!==null&&dr.classList.add("apexcharts-active");var yr=this.yaxisTooltips.filter((function(jr){return jr===!0}));if(this.ycrosshairs!==null&&yr.length&&this.ycrosshairs.classList.add("apexcharts-active"),xr&&!this.showOnIntersect||fr.length>1)this.handleStickyTooltip(ir,or,lr,rr);else if(sr.config.chart.type==="heatmap"||sr.config.chart.type==="treemap"){var _r=this.intersect.handleHeatTreeTooltip({e:ir,opt:rr,x:er,y:nr,type:sr.config.chart.type});er=_r.x,nr=_r.y,ur.style.left=er+"px",ur.style.top=nr+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:ir,opt:rr}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:ir,opt:rr,x:er,y:nr});if(this.yaxisTooltips.length)for(var Sr=0;Sr<sr.config.yaxis.length;Sr++)this.axesTooltip.drawYaxisTooltipText(Sr,lr,this.xyRatios);sr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),rr.tooltipEl.classList.add("apexcharts-active")}else ir.type!=="mouseout"&&ir.type!=="touchend"||this.handleMouseOut(rr)}}},{key:"nonAxisChartsTooltips",value:function(Hn){var er=Hn.e,nr=Hn.opt,ir=Hn.tooltipRect,rr=this.w,sr=nr.paths.getAttribute("rel"),ar=this.getElTooltip(),or=rr.globals.dom.elWrap.getBoundingClientRect();if(er.type==="mousemove"||er.type==="touchmove"){rr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),ar.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:nr.ttItems,i:parseInt(sr,10)-1,shared:!1});var lr=rr.globals.clientX-or.left-ir.ttWidth/2,cr=rr.globals.clientY-or.top-ir.ttHeight-10;if(ar.style.left=lr+"px",ar.style.top=cr+"px",rr.config.legend.tooltipHoverFormatter){var ur=sr-1,dr=(0,rr.config.legend.tooltipHoverFormatter)(this.legendLabels[ur].getAttribute("data:default-text"),{seriesIndex:ur,dataPointIndex:ur,w:rr});this.legendLabels[ur].innerHTML=dr}}else er.type!=="mouseout"&&er.type!=="touchend"||(ar.classList.remove("apexcharts-active"),rr.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),rr.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(fr){var xr=fr.getAttribute("data:default-text");fr.innerHTML=decodeURIComponent(xr)})))}},{key:"handleStickyTooltip",value:function(Hn,er,nr,ir){var rr=this.w,sr=this.tooltipUtil.getNearestValues({context:this,hoverArea:ir.hoverArea,elGrid:ir.elGrid,clientX:er,clientY:nr}),ar=sr.j,or=sr.capturedSeries;rr.globals.collapsedSeriesIndices.includes(or)&&(or=null);var lr=ir.elGrid.getBoundingClientRect();if(sr.hoverX<0||sr.hoverX>lr.width)this.handleMouseOut(ir);else if(or!==null)this.handleStickyCapturedSeries(Hn,or,ir,ar);else if(this.tooltipUtil.isXoverlap(ar)||rr.globals.isBarHorizontal){var cr=rr.globals.series.findIndex((function(ur,dr){return!rr.globals.collapsedSeriesIndices.includes(dr)}));this.create(Hn,this,cr,ar,ir.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(Hn,er,nr,ir){var rr=this.w;if(!this.tConfig.shared&&rr.globals.series[er][ir]===null)return void this.handleMouseOut(nr);if(rr.globals.series[er][ir]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(ir)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(Hn,this,er,ir,nr.ttItems):this.create(Hn,this,er,ir,nr.ttItems,!1);else if(this.tooltipUtil.isXoverlap(ir)){var sr=rr.globals.series.findIndex((function(ar,or){return!rr.globals.collapsedSeriesIndices.includes(or)}));this.create(Hn,this,sr,ir,nr.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var Hn=this.w,er=new Mi$1(this.ctx),nr=Hn.globals.dom.Paper.find(".apexcharts-bar-area"),ir=0;ir<nr.length;ir++)er.pathMouseLeave(nr[ir])}},{key:"handleMouseOut",value:function(Hn){var er=this.w,nr=this.getElXCrosshairs();if(er.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),Hn.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),er.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),nr!==null&&nr.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var ir=0;ir<this.yaxisTTEls.length;ir++)this.yaxisTTEls[ir].classList.remove("apexcharts-active")}er.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(rr){var sr=rr.getAttribute("data:default-text");rr.innerHTML=decodeURIComponent(sr)}))}},{key:"markerClick",value:function(Hn,er,nr){var ir=this.w;typeof ir.config.chart.events.markerClick=="function"&&ir.config.chart.events.markerClick(Hn,this.ctx,{seriesIndex:er,dataPointIndex:nr,w:ir}),this.ctx.events.fireEvent("markerClick",[Hn,this.ctx,{seriesIndex:er,dataPointIndex:nr,w:ir}])}},{key:"create",value:function(Hn,er,nr,ir,rr){var sr,ar,or,lr,cr,ur,dr,fr,xr,yr,_r,Sr,jr,Dr,Ir,Mr,Or=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Lr=this.w,Fr=er;Hn.type==="mouseup"&&this.markerClick(Hn,nr,ir),Or===null&&(Or=this.tConfig.shared);var Vr=this.tooltipUtil.hasMarkers(nr),Zr=this.tooltipUtil.getElBars(),Hr=function(){Lr.globals.markers.largestSize>0?Fr.marker.enlargePoints(ir):Fr.tooltipPosition.moveDynamicPointsOnHover(ir)};if(Lr.config.legend.tooltipHoverFormatter){var Yr=Lr.config.legend.tooltipHoverFormatter,eo=Array.from(this.legendLabels);eo.forEach((function(_o){var Po=_o.getAttribute("data:default-text");_o.innerHTML=decodeURIComponent(Po)}));for(var io=0;io<eo.length;io++){var uo=eo[io],so=parseInt(uo.getAttribute("i"),10),no=decodeURIComponent(uo.getAttribute("data:default-text")),po=Yr(no,{seriesIndex:Or?so:nr,dataPointIndex:ir,w:Lr});if(Or)uo.innerHTML=Lr.globals.collapsedSeriesIndices.indexOf(so)<0?po:no;else if(uo.innerHTML=so===nr?po:no,nr===so)break}}var co=u$2(u$2({ttItems:rr,i:nr,j:ir},((sr=Lr.globals.seriesRange)===null||sr===void 0||(ar=sr[nr])===null||ar===void 0||(or=ar[ir])===null||or===void 0||(lr=or.y[0])===null||lr===void 0?void 0:lr.y1)!==void 0&&{y1:(cr=Lr.globals.seriesRange)===null||cr===void 0||(ur=cr[nr])===null||ur===void 0||(dr=ur[ir])===null||dr===void 0||(fr=dr.y[0])===null||fr===void 0?void 0:fr.y1}),((xr=Lr.globals.seriesRange)===null||xr===void 0||(yr=xr[nr])===null||yr===void 0||(_r=yr[ir])===null||_r===void 0||(Sr=_r.y[0])===null||Sr===void 0?void 0:Sr.y2)!==void 0&&{y2:(jr=Lr.globals.seriesRange)===null||jr===void 0||(Dr=jr[nr])===null||Dr===void 0||(Ir=Dr[ir])===null||Ir===void 0||(Mr=Ir.y[0])===null||Mr===void 0?void 0:Mr.y2});if(Or){if(Fr.tooltipLabels.drawSeriesTexts(u$2(u$2({},co),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Vr)Hr();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Zr),this.barSeriesHeight>0)){var lo=new Mi$1(this.ctx),ao=Lr.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(ir,"']"));this.deactivateHoverFilter(),Fr.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&Hr(),Fr.tooltipPosition.moveStickyTooltipOverBars(ir,nr);for(var xo=0;xo<ao.length;xo++)lo.pathMouseEnter(ao[xo])}}else Fr.tooltipLabels.drawSeriesTexts(u$2({shared:!1},co)),this.tooltipUtil.hasBars()&&Fr.tooltipPosition.moveStickyTooltipOverBars(ir,nr),Vr&&Fr.tooltipPosition.moveMarkers(nr,ir)}}]),tr})(),Ma=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.barCtx=Hn,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return s$1(tr,[{key:"handleBarDataLabels",value:function(Hn){var er,nr,ir=Hn.x,rr=Hn.y,sr=Hn.y1,ar=Hn.y2,or=Hn.i,lr=Hn.j,cr=Hn.realIndex,ur=Hn.columnGroupIndex,dr=Hn.series,fr=Hn.barHeight,xr=Hn.barWidth,yr=Hn.barXPosition,_r=Hn.barYPosition,Sr=Hn.visibleSeries,jr=this.w,Dr=new Mi$1(this.barCtx.ctx),Ir=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[cr]:this.barCtx.strokeWidth;jr.globals.isXNumeric&&!jr.globals.isBarHorizontal?(er=ir+parseFloat(xr*(Sr+1)),nr=rr+parseFloat(fr*(Sr+1))-Ir):(er=ir+parseFloat(xr*Sr),nr=rr+parseFloat(fr*Sr));var Mr,Or=null,Lr=ir,Fr=rr,Vr={},Zr=jr.config.dataLabels,Hr=this.barCtx.barOptions.dataLabels,Yr=this.barCtx.barOptions.dataLabels.total;_r!==void 0&&this.barCtx.isRangeBar&&(nr=_r,Fr=_r),yr!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(er=yr,Lr=yr);var eo=Zr.offsetX,io=Zr.offsetY,uo={width:0,height:0};if(jr.config.dataLabels.enabled){var so=jr.globals.series[or][lr];uo=Dr.getTextRects(jr.config.dataLabels.formatter?jr.config.dataLabels.formatter(so,u$2(u$2({},jr),{},{seriesIndex:or,dataPointIndex:lr,w:jr})):jr.globals.yLabelFormatters[0](so),parseFloat(Zr.style.fontSize))}var no={x:ir,y:rr,i:or,j:lr,realIndex:cr,columnGroupIndex:ur,bcx:er,bcy:nr,barHeight:fr,barWidth:xr,textRects:uo,strokeWidth:Ir,dataLabelsX:Lr,dataLabelsY:Fr,dataLabelsConfig:Zr,barDataLabelsConfig:Hr,barTotalDataLabelsConfig:Yr,offX:eo,offY:io};return Vr=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(no):this.calculateColumnsDataLabelsPosition(no),Mr=this.drawCalculatedDataLabels({x:Vr.dataLabelsX,y:Vr.dataLabelsY,val:this.barCtx.isRangeBar?[sr,ar]:jr.config.chart.stackType==="100%"?dr[cr][lr]:jr.globals.series[cr][lr],i:cr,j:lr,barWidth:xr,barHeight:fr,textRects:uo,dataLabelsConfig:Zr}),jr.config.chart.stacked&&Yr.enabled&&(Or=this.drawTotalDataLabels({x:Vr.totalDataLabelsX,y:Vr.totalDataLabelsY,barWidth:xr,barHeight:fr,realIndex:cr,textAnchor:Vr.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:cr,j:lr}),dataLabelsConfig:Zr,barTotalDataLabelsConfig:Yr})),{dataLabelsPos:Vr,dataLabels:Mr,totalDataLabels:Or}}},{key:"getStackedTotalDataLabel",value:function(Hn){var er=Hn.realIndex,nr=Hn.j,ir=this.w,rr=this.barCtx.stackedSeriesTotals[nr];return this.totalFormatter&&(rr=this.totalFormatter(rr,u$2(u$2({},ir),{},{seriesIndex:er,dataPointIndex:nr,w:ir}))),rr}},{key:"calculateColumnsDataLabelsPosition",value:function(Hn){var er=this,nr=this.w,ir=Hn.i,rr=Hn.j,sr=Hn.realIndex;Hn.columnGroupIndex;var ar,or,lr=Hn.y,cr=Hn.bcx,ur=Hn.barWidth,dr=Hn.barHeight,fr=Hn.textRects,xr=Hn.dataLabelsX,yr=Hn.dataLabelsY,_r=Hn.dataLabelsConfig,Sr=Hn.barDataLabelsConfig,jr=Hn.barTotalDataLabelsConfig,Dr=Hn.strokeWidth,Ir=Hn.offX,Mr=Hn.offY,Or=cr;dr=Math.abs(dr);var Lr=nr.config.plotOptions.bar.dataLabels.orientation==="vertical",Fr=this.barCtx.barHelpers.getZeroValueEncounters({i:ir,j:rr}).zeroEncounters;cr-=Dr/2;var Vr=nr.globals.gridWidth/nr.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?xr+=ur/2:(xr=nr.globals.isXNumeric?cr-ur/2+Ir:cr-Vr+ur/2+Ir,!nr.config.chart.stacked&&Fr>0&&nr.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(xr-=ur*Fr)),Lr&&(xr=xr+fr.height/2-Dr/2-2);var Zr=nr.globals.series[ir][rr]<0,Hr=lr;switch(this.barCtx.isReversed&&(Hr=lr+(Zr?dr:-dr)),Sr.position){case"center":yr=Lr?Zr?Hr-dr/2+Mr:Hr+dr/2-Mr:Zr?Hr-dr/2+fr.height/2+Mr:Hr+dr/2+fr.height/2-Mr;break;case"bottom":yr=Lr?Zr?Hr-dr+Mr:Hr+dr-Mr:Zr?Hr-dr+fr.height+Dr+Mr:Hr+dr-fr.height/2+Dr-Mr;break;case"top":yr=Lr?Zr?Hr+Mr:Hr-Mr:Zr?Hr-fr.height/2-Mr:Hr+fr.height+Mr}var Yr=Hr;if(nr.globals.seriesGroups.forEach((function(uo){var so;(so=er.barCtx[uo.join(",")])===null||so===void 0||so.prevY.forEach((function(no){Yr=Zr?Math.max(no[rr],Yr):Math.min(no[rr],Yr)}))})),this.barCtx.lastActiveBarSerieIndex===sr&&jr.enabled){var eo=new Mi$1(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:sr,j:rr}),_r.fontSize);ar=Zr?Yr-eo.height/2-Mr-jr.offsetY+18:Yr+eo.height+Mr+jr.offsetY-18;var io=Vr;or=Or+(nr.globals.isXNumeric?-ur*nr.globals.barGroups.length/2:nr.globals.barGroups.length*ur/2-(nr.globals.barGroups.length-1)*ur-io)+jr.offsetX}return nr.config.chart.stacked||(yr<0?yr=0+Dr:yr+fr.height/3>nr.globals.gridHeight&&(yr=nr.globals.gridHeight-Dr)),{bcx:cr,bcy:lr,dataLabelsX:xr,dataLabelsY:yr,totalDataLabelsX:or,totalDataLabelsY:ar,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(Hn){var er=this,nr=this.w,ir=Hn.x,rr=Hn.i,sr=Hn.j,ar=Hn.realIndex,or=Hn.bcy,lr=Hn.barHeight,cr=Hn.barWidth,ur=Hn.textRects,dr=Hn.dataLabelsX,fr=Hn.strokeWidth,xr=Hn.dataLabelsConfig,yr=Hn.barDataLabelsConfig,_r=Hn.barTotalDataLabelsConfig,Sr=Hn.offX,jr=Hn.offY,Dr=nr.globals.gridHeight/nr.globals.dataPoints,Ir=this.barCtx.barHelpers.getZeroValueEncounters({i:rr,j:sr}).zeroEncounters;cr=Math.abs(cr);var Mr,Or,Lr=or-(this.barCtx.isRangeBar?0:Dr)+lr/2+ur.height/2+jr-3;!nr.config.chart.stacked&&Ir>0&&nr.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Lr-=lr*Ir);var Fr="start",Vr=nr.globals.series[rr][sr]<0,Zr=ir;switch(this.barCtx.isReversed&&(Zr=ir+(Vr?-cr:cr),Fr=Vr?"start":"end"),yr.position){case"center":dr=Vr?Zr+cr/2-Sr:Math.max(ur.width/2,Zr-cr/2)+Sr;break;case"bottom":dr=Vr?Zr+cr-fr-Sr:Zr-cr+fr+Sr;break;case"top":dr=Vr?Zr-fr-Sr:Zr-fr+Sr}var Hr=Zr;if(nr.globals.seriesGroups.forEach((function(eo){var io;(io=er.barCtx[eo.join(",")])===null||io===void 0||io.prevX.forEach((function(uo){Hr=Vr?Math.min(uo[sr],Hr):Math.max(uo[sr],Hr)}))})),this.barCtx.lastActiveBarSerieIndex===ar&&_r.enabled){var Yr=new Mi$1(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:ar,j:sr}),xr.fontSize);Vr?(Mr=Hr-fr-Sr-_r.offsetX,Fr="end"):Mr=Hr+Sr+_r.offsetX+(this.barCtx.isReversed?-(cr+fr):fr),Or=Lr-ur.height/2+Yr.height/2+_r.offsetY+fr,nr.globals.barGroups.length>1&&(Or-=nr.globals.barGroups.length/2*(lr/2))}return nr.config.chart.stacked||(xr.textAnchor==="start"?dr-ur.width<0?dr=Vr?ur.width+fr:fr:dr+ur.width>nr.globals.gridWidth&&(dr=Vr?nr.globals.gridWidth-fr:nr.globals.gridWidth-ur.width-fr):xr.textAnchor==="middle"?dr-ur.width/2<0?dr=ur.width/2+fr:dr+ur.width/2>nr.globals.gridWidth&&(dr=nr.globals.gridWidth-ur.width/2-fr):xr.textAnchor==="end"&&(dr<1?dr=ur.width+fr:dr+1>nr.globals.gridWidth&&(dr=nr.globals.gridWidth-ur.width-fr))),{bcx:ir,bcy:or,dataLabelsX:dr,dataLabelsY:Lr,totalDataLabelsX:Mr,totalDataLabelsY:Or,totalDataLabelsAnchor:Fr}}},{key:"drawCalculatedDataLabels",value:function(Hn){var er=Hn.x,nr=Hn.y,ir=Hn.val,rr=Hn.i,sr=Hn.j,ar=Hn.textRects,or=Hn.barHeight,lr=Hn.barWidth,cr=Hn.dataLabelsConfig,ur=this.w,dr="rotate(0)";ur.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(dr="rotate(-90, ".concat(er,", ").concat(nr,")"));var fr=new qi$1(this.barCtx.ctx),xr=new Mi$1(this.barCtx.ctx),yr=cr.formatter,_r=null,Sr=ur.globals.collapsedSeriesIndices.indexOf(rr)>-1;if(cr.enabled&&!Sr){_r=xr.group({class:"apexcharts-data-labels",transform:dr});var jr="";ir!==void 0&&(jr=yr(ir,u$2(u$2({},ur),{},{seriesIndex:rr,dataPointIndex:sr,w:ur}))),!ir&&ur.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(jr="");var Dr=ur.globals.series[rr][sr]<0,Ir=ur.config.plotOptions.bar.dataLabels.position;ur.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Ir==="top"&&(cr.textAnchor=Dr?"end":"start"),Ir==="center"&&(cr.textAnchor="middle"),Ir==="bottom"&&(cr.textAnchor=Dr?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&lr<xr.getTextRects(jr,parseFloat(cr.style.fontSize)).width&&(jr=""),ur.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?ar.width/1.6>Math.abs(lr)&&(jr=""):ar.height/1.6>Math.abs(or)&&(jr=""));var Mr=u$2({},cr);this.barCtx.isHorizontal&&ir<0&&(cr.textAnchor==="start"?Mr.textAnchor="end":cr.textAnchor==="end"&&(Mr.textAnchor="start")),fr.plotDataLabelsText({x:er,y:nr,text:jr,i:rr,j:sr,parent:_r,dataLabelsConfig:Mr,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return _r}},{key:"drawTotalDataLabels",value:function(Hn){var er=Hn.x,nr=Hn.y,ir=Hn.val,rr=Hn.realIndex,sr=Hn.textAnchor,ar=Hn.barTotalDataLabelsConfig;this.w;var or,lr=new Mi$1(this.barCtx.ctx);return ar.enabled&&er!==void 0&&nr!==void 0&&this.barCtx.lastActiveBarSerieIndex===rr&&(or=lr.drawText({x:er,y:nr,foreColor:ar.style.color,text:ir,textAnchor:sr,fontFamily:ar.style.fontFamily,fontSize:ar.style.fontSize,fontWeight:ar.style.fontWeight})),or}}]),tr})(),Pa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.barCtx=Hn}return s$1(tr,[{key:"initVariables",value:function(Hn){var er=this.w;this.barCtx.series=Hn,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var nr=0;nr<Hn.length;nr++)if(Hn[nr].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=Hn[nr].length),er.globals.isXNumeric)for(var ir=0;ir<Hn[nr].length;ir++)er.globals.seriesX[nr][ir]>er.globals.minX&&er.globals.seriesX[nr][ir]<er.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=er.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(er.globals.series),v$1.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(rr){return rr.map((function(sr){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],er.globals.comboCharts||this.checkZeroSeries({series:Hn})}},{key:"initialPositions",value:function(Hn){var er,nr,ir,rr,sr,ar,or,lr,cr=this.w,ur=cr.globals.dataPoints;this.barCtx.isRangeBar&&(ur=cr.globals.labels.length);var dr=this.barCtx.seriesLen;if(cr.config.plotOptions.bar.rangeBarGroupRows&&(dr=1),this.barCtx.isHorizontal)sr=(ir=cr.globals.gridHeight/ur)/dr,cr.globals.isXNumeric&&(sr=(ir=cr.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),sr=sr*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(sr=parseInt(this.barCtx.barOptions.barHeight,10)),lr=this.barCtx.baseLineInvertedY+cr.globals.padHorizontal+(this.barCtx.isReversed?cr.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(lr=cr.globals.gridWidth/2),nr=(ir-sr*this.barCtx.seriesLen)/2;else{if(rr=cr.globals.gridWidth/this.barCtx.visibleItems,cr.config.xaxis.convertedCatToNumeric&&(rr=cr.globals.gridWidth/cr.globals.dataPoints),ar=rr/dr*parseInt(this.barCtx.barOptions.columnWidth,10)/100,cr.globals.isXNumeric){var fr=this.barCtx.xRatio;cr.globals.minXDiff&&cr.globals.minXDiff!==.5&&cr.globals.minXDiff/fr>0&&(rr=cr.globals.minXDiff/fr),(ar=rr/dr*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(ar=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(ar=parseInt(this.barCtx.barOptions.columnWidth,10)),or=cr.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?cr.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),cr.globals.isXNumeric?er=this.barCtx.getBarXForNumericXAxis({x:er,j:0,realIndex:Hn,barWidth:ar}).x:er=cr.globals.padHorizontal+v$1.noExponents(rr-ar*this.barCtx.seriesLen)/2}return cr.globals.barHeight=sr,cr.globals.barWidth=ar,{x:er,y:nr,yDivision:ir,xDivision:rr,barHeight:sr,barWidth:ar,zeroH:or,zeroW:lr}}},{key:"initializeStackedPrevVars",value:function(Hn){Hn.w.globals.seriesGroups.forEach((function(er){Hn[er]||(Hn[er]={}),Hn[er].prevY=[],Hn[er].prevX=[],Hn[er].prevYF=[],Hn[er].prevXF=[],Hn[er].prevYVal=[],Hn[er].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(Hn){Hn.w.globals.seriesGroups.forEach((function(er){Hn[er]||(Hn[er]={}),Hn[er].xArrj=[],Hn[er].xArrjF=[],Hn[er].xArrjVal=[],Hn[er].yArrj=[],Hn[er].yArrjF=[],Hn[er].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(Hn,er,nr,ir){var rr,sr,ar,or,lr=this.w,cr=this.barCtx.ctx.fill,ur=null,dr=this.barCtx.barOptions.distributed?nr:er,fr=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(xr){Hn[er][nr]>=xr.from&&Hn[er][nr]<=xr.to&&(ur=xr.color,fr=!0)})),{color:cr.fillPath({seriesNumber:this.barCtx.barOptions.distributed?dr:ir,dataPointIndex:nr,color:ur,value:Hn[er][nr],fillConfig:(rr=lr.config.series[er].data[nr])===null||rr===void 0?void 0:rr.fill,fillType:(sr=lr.config.series[er].data[nr])!==null&&sr!==void 0&&(ar=sr.fill)!==null&&ar!==void 0&&ar.type?(or=lr.config.series[er].data[nr])===null||or===void 0?void 0:or.fill.type:Array.isArray(lr.config.fill.type)?lr.config.fill.type[ir]:lr.config.fill.type}),useRangeColor:fr}}},{key:"getStrokeWidth",value:function(Hn,er,nr){var ir=0,rr=this.w;return this.barCtx.series[Hn][er]===void 0||this.barCtx.series[Hn][er]===null||rr.config.chart.type==="bar"&&!this.barCtx.series[Hn][er]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,rr.config.stroke.show&&(this.barCtx.isNullValue||(ir=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[nr]:this.barCtx.strokeWidth)),ir}},{key:"createBorderRadiusArr",value:function(Hn){var er,nr=this.w,ir=!this.w.config.chart.stacked||nr.config.plotOptions.bar.borderRadius<=0,rr=Hn.length,sr=0|((er=Hn[0])===null||er===void 0?void 0:er.length),ar=Array.from({length:rr},(function(){return Array(sr).fill(ir?"top":"none")}));if(ir)return ar;for(var or=0;or<sr;or++){for(var lr=[],cr=[],ur=0,dr=0;dr<rr;dr++){var fr=Hn[dr][or];fr>0?(lr.push(dr),ur++):fr<0&&(cr.push(dr),ur++)}if(lr.length>0&&cr.length===0)if(lr.length===1)ar[lr[0]][or]="both";else{var xr,yr=lr[0],_r=lr[lr.length-1],Sr=r$1(lr);try{for(Sr.s();!(xr=Sr.n()).done;){var jr=xr.value;ar[jr][or]=jr===yr?"bottom":jr===_r?"top":"none"}}catch(so){Sr.e(so)}finally{Sr.f()}}else if(cr.length>0&&lr.length===0)if(cr.length===1)ar[cr[0]][or]="both";else{var Dr,Ir=Math.max.apply(Math,cr),Mr=Math.min.apply(Math,cr),Or=r$1(cr);try{for(Or.s();!(Dr=Or.n()).done;){var Lr=Dr.value;ar[Lr][or]=Lr===Ir?"bottom":Lr===Mr?"top":"none"}}catch(so){Or.e(so)}finally{Or.f()}}else if(lr.length>0&&cr.length>0){var Fr,Vr=lr[lr.length-1],Zr=r$1(lr);try{for(Zr.s();!(Fr=Zr.n()).done;){var Hr=Fr.value;ar[Hr][or]=Hr===Vr?"top":"none"}}catch(so){Zr.e(so)}finally{Zr.f()}var Yr,eo=Math.max.apply(Math,cr),io=r$1(cr);try{for(io.s();!(Yr=io.n()).done;){var uo=Yr.value;ar[uo][or]=uo===eo?"bottom":"none"}}catch(so){io.e(so)}finally{io.f()}}else ur===1&&(ar[lr[0]||cr[0]][or]="both")}return ar}},{key:"barBackground",value:function(Hn){var er=Hn.j,nr=Hn.i,ir=Hn.x1,rr=Hn.x2,sr=Hn.y1,ar=Hn.y2,or=Hn.elSeries,lr=this.w,cr=new Mi$1(this.barCtx.ctx),ur=new $i$1(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&ur===nr){er>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(er%=this.barCtx.barOptions.colors.backgroundBarColors.length);var dr=this.barCtx.barOptions.colors.backgroundBarColors[er],fr=cr.drawRect(ir!==void 0?ir:0,sr!==void 0?sr:0,rr!==void 0?rr:lr.globals.gridWidth,ar!==void 0?ar:lr.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,dr,this.barCtx.barOptions.colors.backgroundBarOpacity);or.add(fr),fr.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(Hn){var er,nr=Hn.barWidth,ir=Hn.barXPosition,rr=Hn.y1,sr=Hn.y2,ar=Hn.strokeWidth,or=Hn.isReversed,lr=Hn.series,cr=Hn.seriesGroup,ur=Hn.realIndex,dr=Hn.i,fr=Hn.j,xr=Hn.w,yr=new Mi$1(this.barCtx.ctx);(ar=Array.isArray(ar)?ar[ur]:ar)||(ar=0);var _r=nr,Sr=ir;(er=xr.config.series[ur].data[fr])!==null&&er!==void 0&&er.columnWidthOffset&&(Sr=ir-xr.config.series[ur].data[fr].columnWidthOffset/2,_r=nr+xr.config.series[ur].data[fr].columnWidthOffset);var jr=ar/2,Dr=Sr+jr,Ir=Sr+_r-jr,Mr=(lr[dr][fr]>=0?1:-1)*(or?-1:1);rr+=.001-jr*Mr,sr+=.001+jr*Mr;var Or=yr.move(Dr,rr),Lr=yr.move(Dr,rr),Fr=yr.line(Ir,rr);if(xr.globals.previousPaths.length>0&&(Lr=this.barCtx.getPreviousPath(ur,fr,!1)),Or=Or+yr.line(Dr,sr)+yr.line(Ir,sr)+Fr+(xr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),Lr=Lr+yr.line(Dr,rr)+Fr+Fr+Fr+Fr+Fr+yr.line(Dr,rr)+(xr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),this.arrBorderRadius[ur][fr]!=="none"&&(Or=yr.roundPathCorners(Or,xr.config.plotOptions.bar.borderRadius)),xr.config.chart.stacked){var Vr=this.barCtx;(Vr=this.barCtx[cr]).yArrj.push(sr-jr*Mr),Vr.yArrjF.push(Math.abs(rr-sr+ar*Mr)),Vr.yArrjVal.push(this.barCtx.series[dr][fr])}return{pathTo:Or,pathFrom:Lr}}},{key:"getBarpaths",value:function(Hn){var er,nr=Hn.barYPosition,ir=Hn.barHeight,rr=Hn.x1,sr=Hn.x2,ar=Hn.strokeWidth,or=Hn.isReversed,lr=Hn.series,cr=Hn.seriesGroup,ur=Hn.realIndex,dr=Hn.i,fr=Hn.j,xr=Hn.w,yr=new Mi$1(this.barCtx.ctx);(ar=Array.isArray(ar)?ar[ur]:ar)||(ar=0);var _r=nr,Sr=ir;(er=xr.config.series[ur].data[fr])!==null&&er!==void 0&&er.barHeightOffset&&(_r=nr-xr.config.series[ur].data[fr].barHeightOffset/2,Sr=ir+xr.config.series[ur].data[fr].barHeightOffset);var jr=ar/2,Dr=_r+jr,Ir=_r+Sr-jr,Mr=(lr[dr][fr]>=0?1:-1)*(or?-1:1);rr+=.001+jr*Mr,sr+=.001-jr*Mr;var Or=yr.move(rr,Dr),Lr=yr.move(rr,Dr);xr.globals.previousPaths.length>0&&(Lr=this.barCtx.getPreviousPath(ur,fr,!1));var Fr=yr.line(rr,Ir);if(Or=Or+yr.line(sr,Dr)+yr.line(sr,Ir)+Fr+(xr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),Lr=Lr+yr.line(rr,Dr)+Fr+Fr+Fr+Fr+Fr+yr.line(rr,Dr)+(xr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),this.arrBorderRadius[ur][fr]!=="none"&&(Or=yr.roundPathCorners(Or,xr.config.plotOptions.bar.borderRadius)),xr.config.chart.stacked){var Vr=this.barCtx;(Vr=this.barCtx[cr]).xArrj.push(sr+jr*Mr),Vr.xArrjF.push(Math.abs(rr-sr-ar*Mr)),Vr.xArrjVal.push(this.barCtx.series[dr][fr])}return{pathTo:Or,pathFrom:Lr}}},{key:"checkZeroSeries",value:function(Hn){for(var er=Hn.series,nr=this.w,ir=0;ir<er.length;ir++){for(var rr=0,sr=0;sr<er[nr.globals.maxValsInArrayIndex].length;sr++)rr+=er[ir][sr];rr===0&&this.barCtx.zeroSerieses.push(ir)}}},{key:"getXForValue",value:function(Hn,er){var nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?er:null;return Hn!=null&&(nr=er+Hn/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?Hn/this.barCtx.invertedYRatio:0)),nr}},{key:"getYForValue",value:function(Hn,er,nr){var ir=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?er:null;return Hn!=null&&(ir=er-Hn/this.barCtx.yRatio[nr]+2*(this.barCtx.isReversed?Hn/this.barCtx.yRatio[nr]:0)),ir}},{key:"getGoalValues",value:function(Hn,er,nr,ir,rr,sr){var ar=this,or=this.w,lr=[],cr=function(fr,xr){var yr;lr.push((o$2(yr={},Hn,Hn==="x"?ar.getXForValue(fr,er,!1):ar.getYForValue(fr,nr,sr,!1)),o$2(yr,"attrs",xr),yr))};if(or.globals.seriesGoals[ir]&&or.globals.seriesGoals[ir][rr]&&Array.isArray(or.globals.seriesGoals[ir][rr])&&or.globals.seriesGoals[ir][rr].forEach((function(fr){cr(fr.value,fr)})),this.barCtx.barOptions.isDumbbell&&or.globals.seriesRange.length){var ur=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:or.globals.colors,dr={strokeHeight:Hn==="x"?0:or.globals.markers.size[ir],strokeWidth:Hn==="x"?or.globals.markers.size[ir]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(ur[ir])?ur[ir][0]:ur[ir]};cr(or.globals.seriesRangeStart[ir][rr],dr),cr(or.globals.seriesRangeEnd[ir][rr],u$2(u$2({},dr),{},{strokeColor:Array.isArray(ur[ir])?ur[ir][1]:ur[ir]}))}return lr}},{key:"drawGoalLine",value:function(Hn){var er=Hn.barXPosition,nr=Hn.barYPosition,ir=Hn.goalX,rr=Hn.goalY,sr=Hn.barWidth,ar=Hn.barHeight,or=new Mi$1(this.barCtx.ctx),lr=or.group({className:"apexcharts-bar-goals-groups"});lr.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:lr.node}),lr.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var cr=null;return this.barCtx.isHorizontal?Array.isArray(ir)&&ir.forEach((function(ur){if(ur.x>=-1&&ur.x<=or.w.globals.gridWidth+1){var dr=ur.attrs.strokeHeight!==void 0?ur.attrs.strokeHeight:ar/2,fr=nr+dr+ar/2;cr=or.drawLine(ur.x,fr-2*dr,ur.x,fr,ur.attrs.strokeColor?ur.attrs.strokeColor:void 0,ur.attrs.strokeDashArray,ur.attrs.strokeWidth?ur.attrs.strokeWidth:2,ur.attrs.strokeLineCap),lr.add(cr)}})):Array.isArray(rr)&&rr.forEach((function(ur){if(ur.y>=-1&&ur.y<=or.w.globals.gridHeight+1){var dr=ur.attrs.strokeWidth!==void 0?ur.attrs.strokeWidth:sr/2,fr=er+dr+sr/2;cr=or.drawLine(fr-2*dr,ur.y,fr,ur.y,ur.attrs.strokeColor?ur.attrs.strokeColor:void 0,ur.attrs.strokeDashArray,ur.attrs.strokeHeight?ur.attrs.strokeHeight:2,ur.attrs.strokeLineCap),lr.add(cr)}})),lr}},{key:"drawBarShadow",value:function(Hn){var er=Hn.prevPaths,nr=Hn.currPaths,ir=Hn.color,rr=this.w,sr=er.x,ar=er.x1,or=er.barYPosition,lr=nr.x,cr=nr.x1,ur=nr.barYPosition,dr=or+nr.barHeight,fr=new Mi$1(this.barCtx.ctx),xr=new v$1,yr=fr.move(ar,dr)+fr.line(sr,dr)+fr.line(lr,ur)+fr.line(cr,ur)+fr.line(ar,dr)+(rr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return fr.drawPath({d:yr,fill:xr.shadeColor(.5,v$1.rgb2hex(ir)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(Hn){var er,nr=Hn.i,ir=Hn.j,rr=this.w,sr=0,ar=0;return(rr.config.plotOptions.bar.horizontal?rr.globals.series.map((function(or,lr){return lr})):((er=rr.globals.columnSeries)===null||er===void 0?void 0:er.i.map((function(or){return or})))||[]).forEach((function(or){var lr=rr.globals.seriesPercent[or][ir];lr&&sr++,or<nr&&lr===0&&ar++})),{nonZeroColumns:sr,zeroEncounters:ar}}},{key:"getGroupIndex",value:function(Hn){var er=this.w,nr=er.globals.seriesGroups.findIndex((function(sr){return sr.indexOf(er.globals.seriesNames[Hn])>-1})),ir=this.barCtx.columnGroupIndices,rr=ir.indexOf(nr);return rr<0&&(ir.push(nr),rr=ir.length-1),{groupIndex:nr,columnGroupIndex:rr}}}]),tr})(),Ia=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var nr=this.w;this.barOptions=nr.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=nr.config.stroke.width,this.isNullValue=!1,this.isRangeBar=nr.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!nr.globals.isBarHorizontal&&nr.globals.seriesRange.length&&nr.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=er,this.xyRatios!==null&&(this.xRatio=er.xRatio,this.yRatio=er.yRatio,this.invertedXRatio=er.invertedXRatio,this.invertedYRatio=er.invertedYRatio,this.baseLineY=er.baseLineY,this.baseLineInvertedY=er.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var ir=new $i$1(this.ctx);this.lastActiveBarSerieIndex=ir.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var rr=ir.getBarSeriesIndices(),sr=new Pi$1(this.ctx);this.stackedSeriesTotals=sr.getStackedSeriesTotals(this.w.config.series.map((function(ar,or){return rr.indexOf(or)===-1?or:-1})).filter((function(ar){return ar!==-1}))),this.barHelpers=new Pa(this)}return s$1(tr,[{key:"draw",value:function(Hn,er){var nr=this.w,ir=new Mi$1(this.ctx),rr=new Pi$1(this.ctx,nr);Hn=rr.getLogSeries(Hn),this.series=Hn,this.yRatio=rr.getLogYRatios(this.yRatio),this.barHelpers.initVariables(Hn);var sr=ir.group({class:"apexcharts-bar-series apexcharts-plot-series"});nr.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var ar=0,or=0;ar<Hn.length;ar++,or++){var lr,cr,ur,dr,fr=void 0,xr=void 0,yr=[],_r=[],Sr=nr.globals.comboCharts?er[ar]:ar,jr=this.barHelpers.getGroupIndex(Sr).columnGroupIndex,Dr=ir.group({class:"apexcharts-series",rel:ar+1,seriesName:v$1.escapeString(nr.globals.seriesNames[Sr]),"data:realIndex":Sr});this.ctx.series.addCollapsedClassToSeries(Dr,Sr),Hn[ar].length>0&&(this.visibleI=this.visibleI+1);var Ir=0,Mr=0;this.yRatio.length>1&&(this.yaxisIndex=nr.globals.seriesYAxisReverseMap[Sr],this.translationsIndex=Sr);var Or=this.translationsIndex;this.isReversed=nr.config.yaxis[this.yaxisIndex]&&nr.config.yaxis[this.yaxisIndex].reversed;var Lr=this.barHelpers.initialPositions(Sr);xr=Lr.y,Ir=Lr.barHeight,cr=Lr.yDivision,dr=Lr.zeroW,fr=Lr.x,Mr=Lr.barWidth,lr=Lr.xDivision,ur=Lr.zeroH,this.isHorizontal||_r.push(fr+Mr/2);var Fr=ir.group({class:"apexcharts-datalabels","data:realIndex":Sr});nr.globals.delayedElements.push({el:Fr.node}),Fr.node.classList.add("apexcharts-element-hidden");var Vr=ir.group({class:"apexcharts-bar-goals-markers"}),Zr=ir.group({class:"apexcharts-bar-shadows"});nr.globals.delayedElements.push({el:Zr.node}),Zr.node.classList.add("apexcharts-element-hidden");for(var Hr=0;Hr<Hn[ar].length;Hr++){var Yr=this.barHelpers.getStrokeWidth(ar,Hr,Sr),eo=null,io={indexes:{i:ar,j:Hr,realIndex:Sr,translationsIndex:Or,bc:or},x:fr,y:xr,strokeWidth:Yr,elSeries:Dr};this.isHorizontal?(eo=this.drawBarPaths(u$2(u$2({},io),{},{barHeight:Ir,zeroW:dr,yDivision:cr})),Mr=this.series[ar][Hr]/this.invertedYRatio):(eo=this.drawColumnPaths(u$2(u$2({},io),{},{xDivision:lr,barWidth:Mr,zeroH:ur})),Ir=this.series[ar][Hr]/this.yRatio[Or]);var uo=this.barHelpers.getPathFillColor(Hn,ar,Hr,Sr);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Hr>0){var so,no=this.barHelpers.drawBarShadow({color:typeof uo.color=="string"&&((so=uo.color)===null||so===void 0?void 0:so.indexOf("url"))===-1?uo.color:v$1.hexToRgba(nr.globals.colors[ar]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:eo});Zr.add(no),nr.config.chart.dropShadow.enabled&&new Li$1(this.ctx).dropShadow(no,nr.config.chart.dropShadow,Sr)}this.pathArr.push(eo);var po=this.barHelpers.drawGoalLine({barXPosition:eo.barXPosition,barYPosition:eo.barYPosition,goalX:eo.goalX,goalY:eo.goalY,barHeight:Ir,barWidth:Mr});po&&Vr.add(po),xr=eo.y,fr=eo.x,Hr>0&&_r.push(fr+Mr/2),yr.push(xr),this.renderSeries(u$2(u$2({realIndex:Sr,pathFill:uo.color},uo.useRangeColor?{lineFill:uo.color}:{}),{},{j:Hr,i:ar,columnGroupIndex:jr,pathFrom:eo.pathFrom,pathTo:eo.pathTo,strokeWidth:Yr,elSeries:Dr,x:fr,y:xr,series:Hn,barHeight:Math.abs(eo.barHeight?eo.barHeight:Ir),barWidth:Math.abs(eo.barWidth?eo.barWidth:Mr),elDataLabelsWrap:Fr,elGoalsMarkers:Vr,elBarShadows:Zr,visibleSeries:this.visibleI,type:"bar"}))}nr.globals.seriesXvalues[Sr]=_r,nr.globals.seriesYvalues[Sr]=yr,sr.add(Dr)}return sr}},{key:"renderSeries",value:function(Hn){var er=Hn.realIndex,nr=Hn.pathFill,ir=Hn.lineFill,rr=Hn.j,sr=Hn.i,ar=Hn.columnGroupIndex,or=Hn.pathFrom,lr=Hn.pathTo,cr=Hn.strokeWidth,ur=Hn.elSeries,dr=Hn.x,fr=Hn.y,xr=Hn.y1,yr=Hn.y2,_r=Hn.series,Sr=Hn.barHeight,jr=Hn.barWidth,Dr=Hn.barXPosition,Ir=Hn.barYPosition,Mr=Hn.elDataLabelsWrap,Or=Hn.elGoalsMarkers,Lr=Hn.elBarShadows,Fr=Hn.visibleSeries,Vr=Hn.type,Zr=Hn.classes,Hr=this.w,Yr=new Mi$1(this.ctx),eo=!1;if(!ir){var io=typeof Hr.globals.stroke.colors[er]=="function"?(function(co){var lo,ao=Hr.config.stroke.colors;return Array.isArray(ao)&&ao.length>0&&((lo=ao[co])||(lo=""),typeof lo=="function")?lo({value:Hr.globals.series[co][rr],dataPointIndex:rr,w:Hr}):lo})(er):Hr.globals.stroke.colors[er];ir=this.barOptions.distributed?Hr.globals.stroke.colors[rr]:io}var uo=new Ma(this).handleBarDataLabels({x:dr,y:fr,y1:xr,y2:yr,i:sr,j:rr,series:_r,realIndex:er,columnGroupIndex:ar,barHeight:Sr,barWidth:jr,barXPosition:Dr,barYPosition:Ir,visibleSeries:Fr});Hr.globals.isBarHorizontal||(uo.dataLabelsPos.dataLabelsX+Math.max(jr,Hr.globals.barPadForNumericAxis)<0||uo.dataLabelsPos.dataLabelsX-Math.max(jr,Hr.globals.barPadForNumericAxis)>Hr.globals.gridWidth)&&(eo=!0),Hr.config.series[sr].data[rr]&&Hr.config.series[sr].data[rr].strokeColor&&(ir=Hr.config.series[sr].data[rr].strokeColor),this.isNullValue&&(nr="none");var so=rr/Hr.config.chart.animations.animateGradually.delay*(Hr.config.chart.animations.speed/Hr.globals.dataPoints)/2.4;if(!eo){var no=Yr.renderPaths({i:sr,j:rr,realIndex:er,pathFrom:or,pathTo:lr,stroke:ir,strokeWidth:cr,strokeLineCap:Hr.config.stroke.lineCap,fill:nr,animationDelay:so,initialSpeed:Hr.config.chart.animations.speed,dataChangeSpeed:Hr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Vr,"-area ").concat(Zr),chartType:Vr});no.attr("clip-path","url(#gridRectBarMask".concat(Hr.globals.cuid,")"));var po=Hr.config.forecastDataPoints;po.count>0&&rr>=Hr.globals.dataPoints-po.count&&(no.node.setAttribute("stroke-dasharray",po.dashArray),no.node.setAttribute("stroke-width",po.strokeWidth),no.node.setAttribute("fill-opacity",po.fillOpacity)),xr!==void 0&&yr!==void 0&&(no.attr("data-range-y1",xr),no.attr("data-range-y2",yr)),new Li$1(this.ctx).setSelectionFilter(no,er,rr),ur.add(no),no.attr({cy:uo.dataLabelsPos.bcy,cx:uo.dataLabelsPos.bcx,j:rr,val:Hr.globals.series[sr][rr],barHeight:Sr,barWidth:jr}),uo.dataLabels!==null&&Mr.add(uo.dataLabels),uo.totalDataLabels&&Mr.add(uo.totalDataLabels),ur.add(Mr),Or&&ur.add(Or),Lr&&ur.add(Lr)}return ur}},{key:"drawBarPaths",value:function(Hn){var er,nr=Hn.indexes,ir=Hn.barHeight,rr=Hn.strokeWidth,sr=Hn.zeroW,ar=Hn.x,or=Hn.y,lr=Hn.yDivision,cr=Hn.elSeries,ur=this.w,dr=nr.i,fr=nr.j;if(ur.globals.isXNumeric)er=(or=(ur.globals.seriesX[dr][fr]-ur.globals.minX)/this.invertedXRatio-ir)+ir*this.visibleI;else if(ur.config.plotOptions.bar.hideZeroBarsWhenGrouped){var xr=this.barHelpers.getZeroValueEncounters({i:dr,j:fr}),yr=xr.nonZeroColumns,_r=xr.zeroEncounters;yr>0&&(ir=this.seriesLen*ir/yr),er=or+ir*this.visibleI,er-=ir*_r}else er=or+ir*this.visibleI;this.isFunnel&&(sr-=(this.barHelpers.getXForValue(this.series[dr][fr],sr)-sr)/2),ar=this.barHelpers.getXForValue(this.series[dr][fr],sr);var Sr=this.barHelpers.getBarpaths({barYPosition:er,barHeight:ir,x1:sr,x2:ar,strokeWidth:rr,isReversed:this.isReversed,series:this.series,realIndex:nr.realIndex,i:dr,j:fr,w:ur});return ur.globals.isXNumeric||(or+=lr),this.barHelpers.barBackground({j:fr,i:dr,y1:er-ir*this.visibleI,y2:ir*this.seriesLen,elSeries:cr}),{pathTo:Sr.pathTo,pathFrom:Sr.pathFrom,x1:sr,x:ar,y:or,goalX:this.barHelpers.getGoalValues("x",sr,null,dr,fr),barYPosition:er,barHeight:ir}}},{key:"drawColumnPaths",value:function(Hn){var er,nr=Hn.indexes,ir=Hn.x,rr=Hn.y,sr=Hn.xDivision,ar=Hn.barWidth,or=Hn.zeroH,lr=Hn.strokeWidth,cr=Hn.elSeries,ur=this.w,dr=nr.realIndex,fr=nr.translationsIndex,xr=nr.i,yr=nr.j,_r=nr.bc;if(ur.globals.isXNumeric){var Sr=this.getBarXForNumericXAxis({x:ir,j:yr,realIndex:dr,barWidth:ar});ir=Sr.x,er=Sr.barXPosition}else if(ur.config.plotOptions.bar.hideZeroBarsWhenGrouped){var jr=this.barHelpers.getZeroValueEncounters({i:xr,j:yr}),Dr=jr.nonZeroColumns,Ir=jr.zeroEncounters;Dr>0&&(ar=this.seriesLen*ar/Dr),er=ir+ar*this.visibleI,er-=ar*Ir}else er=ir+ar*this.visibleI;rr=this.barHelpers.getYForValue(this.series[xr][yr],or,fr);var Mr=this.barHelpers.getColumnPaths({barXPosition:er,barWidth:ar,y1:or,y2:rr,strokeWidth:lr,isReversed:this.isReversed,series:this.series,realIndex:dr,i:xr,j:yr,w:ur});return ur.globals.isXNumeric||(ir+=sr),this.barHelpers.barBackground({bc:_r,j:yr,i:xr,x1:er-lr/2-ar*this.visibleI,x2:ar*this.seriesLen+lr/2,elSeries:cr}),{pathTo:Mr.pathTo,pathFrom:Mr.pathFrom,x:ir,y:rr,goalY:this.barHelpers.getGoalValues("y",null,or,xr,yr,fr),barXPosition:er,barWidth:ar}}},{key:"getBarXForNumericXAxis",value:function(Hn){var er=Hn.x,nr=Hn.barWidth,ir=Hn.realIndex,rr=Hn.j,sr=this.w,ar=ir;return sr.globals.seriesX[ir].length||(ar=sr.globals.maxValsInArrayIndex),v$1.isNumber(sr.globals.seriesX[ar][rr])&&(er=(sr.globals.seriesX[ar][rr]-sr.globals.minX)/this.xRatio-nr*this.seriesLen/2),{barXPosition:er+nr*this.visibleI,x:er}}},{key:"getPreviousPath",value:function(Hn,er){for(var nr=this.w,ir="M 0 0",rr=0;rr<nr.globals.previousPaths.length;rr++){var sr=nr.globals.previousPaths[rr];sr.paths&&sr.paths.length>0&&parseInt(sr.realIndex,10)===parseInt(Hn,10)&&nr.globals.previousPaths[rr].paths[er]!==void 0&&(ir=nr.globals.previousPaths[rr].paths[er].d)}return ir}}]),tr})(),Ta=(function(tr){h$3(er,Ia);var Hn=n(er);function er(){return i$1(this,er),Hn.apply(this,arguments)}return s$1(er,[{key:"draw",value:function(nr,ir){var rr=this,sr=this.w;this.graphics=new Mi$1(this.ctx),this.bar=new Ia(this.ctx,this.xyRatios);var ar=new Pi$1(this.ctx,sr);nr=ar.getLogSeries(nr),this.yRatio=ar.getLogYRatios(this.yRatio),this.barHelpers.initVariables(nr),sr.config.chart.stackType==="100%"&&(nr=sr.globals.comboCharts?ir.map((function(xr){return sr.globals.seriesPercent[xr]})):sr.globals.seriesPercent.slice()),this.series=nr,this.barHelpers.initializeStackedPrevVars(this);for(var or=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),lr=0,cr=0,ur=function(xr,yr){var _r=void 0,Sr=void 0,jr=void 0,Dr=void 0,Ir=sr.globals.comboCharts?ir[xr]:xr,Mr=rr.barHelpers.getGroupIndex(Ir),Or=Mr.groupIndex,Lr=Mr.columnGroupIndex;rr.groupCtx=rr[sr.globals.seriesGroups[Or]];var Fr=[],Vr=[],Zr=0;rr.yRatio.length>1&&(rr.yaxisIndex=sr.globals.seriesYAxisReverseMap[Ir][0],Zr=Ir),rr.isReversed=sr.config.yaxis[rr.yaxisIndex]&&sr.config.yaxis[rr.yaxisIndex].reversed;var Hr=rr.graphics.group({class:"apexcharts-series",seriesName:v$1.escapeString(sr.globals.seriesNames[Ir]),rel:xr+1,"data:realIndex":Ir});rr.ctx.series.addCollapsedClassToSeries(Hr,Ir);var Yr=rr.graphics.group({class:"apexcharts-datalabels","data:realIndex":Ir}),eo=rr.graphics.group({class:"apexcharts-bar-goals-markers"}),io=0,uo=0,so=rr.initialPositions(lr,cr,_r,Sr,jr,Dr,Zr);cr=so.y,io=so.barHeight,Sr=so.yDivision,Dr=so.zeroW,lr=so.x,uo=so.barWidth,_r=so.xDivision,jr=so.zeroH,sr.globals.barHeight=io,sr.globals.barWidth=uo,rr.barHelpers.initializeStackedXYVars(rr),rr.groupCtx.prevY.length===1&&rr.groupCtx.prevY[0].every((function(Oo){return isNaN(Oo)}))&&(rr.groupCtx.prevY[0]=rr.groupCtx.prevY[0].map((function(){return jr})),rr.groupCtx.prevYF[0]=rr.groupCtx.prevYF[0].map((function(){return 0})));for(var no=0;no<sr.globals.dataPoints;no++){var po=rr.barHelpers.getStrokeWidth(xr,no,Ir),co={indexes:{i:xr,j:no,realIndex:Ir,translationsIndex:Zr,bc:yr},strokeWidth:po,x:lr,y:cr,elSeries:Hr,columnGroupIndex:Lr,seriesGroup:sr.globals.seriesGroups[Or]},lo=null;rr.isHorizontal?(lo=rr.drawStackedBarPaths(u$2(u$2({},co),{},{zeroW:Dr,barHeight:io,yDivision:Sr})),uo=rr.series[xr][no]/rr.invertedYRatio):(lo=rr.drawStackedColumnPaths(u$2(u$2({},co),{},{xDivision:_r,barWidth:uo,zeroH:jr})),io=rr.series[xr][no]/rr.yRatio[Zr]);var ao=rr.barHelpers.drawGoalLine({barXPosition:lo.barXPosition,barYPosition:lo.barYPosition,goalX:lo.goalX,goalY:lo.goalY,barHeight:io,barWidth:uo});ao&&eo.add(ao),cr=lo.y,lr=lo.x,Fr.push(lr),Vr.push(cr);var xo=rr.barHelpers.getPathFillColor(nr,xr,no,Ir),_o="",Po=sr.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(rr.barHelpers.arrBorderRadius[Ir][no]==="bottom"&&sr.globals.series[Ir][no]>0||rr.barHelpers.arrBorderRadius[Ir][no]==="top"&&sr.globals.series[Ir][no]<0)&&(_o=Po),Hr=rr.renderSeries(u$2(u$2({realIndex:Ir,pathFill:xo.color},xo.useRangeColor?{lineFill:xo.color}:{}),{},{j:no,i:xr,columnGroupIndex:Lr,pathFrom:lo.pathFrom,pathTo:lo.pathTo,strokeWidth:po,elSeries:Hr,x:lr,y:cr,series:nr,barHeight:io,barWidth:uo,elDataLabelsWrap:Yr,elGoalsMarkers:eo,type:"bar",visibleSeries:Lr,classes:_o}))}sr.globals.seriesXvalues[Ir]=Fr,sr.globals.seriesYvalues[Ir]=Vr,rr.groupCtx.prevY.push(rr.groupCtx.yArrj),rr.groupCtx.prevYF.push(rr.groupCtx.yArrjF),rr.groupCtx.prevYVal.push(rr.groupCtx.yArrjVal),rr.groupCtx.prevX.push(rr.groupCtx.xArrj),rr.groupCtx.prevXF.push(rr.groupCtx.xArrjF),rr.groupCtx.prevXVal.push(rr.groupCtx.xArrjVal),or.add(Hr)},dr=0,fr=0;dr<nr.length;dr++,fr++)ur(dr,fr);return or}},{key:"initialPositions",value:function(nr,ir,rr,sr,ar,or,lr){var cr,ur,dr=this.w;if(this.isHorizontal){sr=dr.globals.gridHeight/dr.globals.dataPoints;var fr=dr.config.plotOptions.bar.barHeight;cr=String(fr).indexOf("%")===-1?parseInt(fr,10):sr*parseInt(fr,10)/100,or=dr.globals.padHorizontal+(this.isReversed?dr.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),ir=(sr-cr)/2}else{ur=rr=dr.globals.gridWidth/dr.globals.dataPoints;var xr=dr.config.plotOptions.bar.columnWidth;dr.globals.isXNumeric&&dr.globals.dataPoints>1?ur=(rr=dr.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(xr).indexOf("%")===-1?ur=parseInt(xr,10):ur*=parseInt(xr,10)/100,ar=this.isReversed?this.baseLineY[lr]:dr.globals.gridHeight-this.baseLineY[lr],nr=dr.globals.padHorizontal+(rr-ur)/2}var yr=dr.globals.barGroups.length||1;return{x:nr,y:ir,yDivision:sr,xDivision:rr,barHeight:cr/yr,barWidth:ur/yr,zeroH:ar,zeroW:or}}},{key:"drawStackedBarPaths",value:function(nr){for(var ir,rr=nr.indexes,sr=nr.barHeight,ar=nr.strokeWidth,or=nr.zeroW,lr=nr.x,cr=nr.y,ur=nr.columnGroupIndex,dr=nr.seriesGroup,fr=nr.yDivision,xr=nr.elSeries,yr=this.w,_r=cr+ur*sr,Sr=rr.i,jr=rr.j,Dr=rr.realIndex,Ir=rr.translationsIndex,Mr=0,Or=0;Or<this.groupCtx.prevXF.length;Or++)Mr+=this.groupCtx.prevXF[Or][jr];var Lr=Sr;if(yr.config.series[Dr].name&&(Lr=dr.indexOf(yr.config.series[Dr].name)),Lr>0){var Fr=or;this.groupCtx.prevXVal[Lr-1][jr]<0?Fr=this.series[Sr][jr]>=0?this.groupCtx.prevX[Lr-1][jr]+Mr-2*(this.isReversed?Mr:0):this.groupCtx.prevX[Lr-1][jr]:this.groupCtx.prevXVal[Lr-1][jr]>=0&&(Fr=this.series[Sr][jr]>=0?this.groupCtx.prevX[Lr-1][jr]:this.groupCtx.prevX[Lr-1][jr]-Mr+2*(this.isReversed?Mr:0)),ir=Fr}else ir=or;lr=this.series[Sr][jr]===null?ir:ir+this.series[Sr][jr]/this.invertedYRatio-2*(this.isReversed?this.series[Sr][jr]/this.invertedYRatio:0);var Vr=this.barHelpers.getBarpaths({barYPosition:_r,barHeight:sr,x1:ir,x2:lr,strokeWidth:ar,isReversed:this.isReversed,series:this.series,realIndex:rr.realIndex,seriesGroup:dr,i:Sr,j:jr,w:yr});return this.barHelpers.barBackground({j:jr,i:Sr,y1:_r,y2:sr,elSeries:xr}),cr+=fr,{pathTo:Vr.pathTo,pathFrom:Vr.pathFrom,goalX:this.barHelpers.getGoalValues("x",or,null,Sr,jr,Ir),barXPosition:ir,barYPosition:_r,x:lr,y:cr}}},{key:"drawStackedColumnPaths",value:function(nr){var ir=nr.indexes,rr=nr.x,sr=nr.y,ar=nr.xDivision,or=nr.barWidth,lr=nr.zeroH,cr=nr.columnGroupIndex,ur=nr.seriesGroup,dr=nr.elSeries,fr=this.w,xr=ir.i,yr=ir.j,_r=ir.bc,Sr=ir.realIndex,jr=ir.translationsIndex;if(fr.globals.isXNumeric){var Dr=fr.globals.seriesX[Sr][yr];Dr||(Dr=0),rr=(Dr-fr.globals.minX)/this.xRatio-or/2*fr.globals.barGroups.length}for(var Ir,Mr=rr+cr*or,Or=0,Lr=0;Lr<this.groupCtx.prevYF.length;Lr++)Or+=isNaN(this.groupCtx.prevYF[Lr][yr])?0:this.groupCtx.prevYF[Lr][yr];var Fr=xr;if(ur&&(Fr=ur.indexOf(fr.globals.seriesNames[Sr])),Fr>0&&!fr.globals.isXNumeric||Fr>0&&fr.globals.isXNumeric&&fr.globals.seriesX[Sr-1][yr]===fr.globals.seriesX[Sr][yr]){var Vr,Zr,Hr,Yr=Math.min(this.yRatio.length+1,Sr+1);if(this.groupCtx.prevY[Fr-1]!==void 0&&this.groupCtx.prevY[Fr-1].length)for(var eo=1;eo<Yr;eo++){var io;if(!isNaN((io=this.groupCtx.prevY[Fr-eo])===null||io===void 0?void 0:io[yr])){Hr=this.groupCtx.prevY[Fr-eo][yr];break}}for(var uo=1;uo<Yr;uo++){var so,no;if(((so=this.groupCtx.prevYVal[Fr-uo])===null||so===void 0?void 0:so[yr])<0){Zr=this.series[xr][yr]>=0?Hr-Or+2*(this.isReversed?Or:0):Hr;break}if(((no=this.groupCtx.prevYVal[Fr-uo])===null||no===void 0?void 0:no[yr])>=0){Zr=this.series[xr][yr]>=0?Hr:Hr+Or-2*(this.isReversed?Or:0);break}}Zr===void 0&&(Zr=fr.globals.gridHeight),Ir=(Vr=this.groupCtx.prevYF[0])!==null&&Vr!==void 0&&Vr.every((function(co){return co===0}))&&this.groupCtx.prevYF.slice(1,Fr).every((function(co){return co.every((function(lo){return isNaN(lo)}))}))?lr:Zr}else Ir=lr;sr=this.series[xr][yr]?Ir-this.series[xr][yr]/this.yRatio[jr]+2*(this.isReversed?this.series[xr][yr]/this.yRatio[jr]:0):Ir;var po=this.barHelpers.getColumnPaths({barXPosition:Mr,barWidth:or,y1:Ir,y2:sr,yRatio:this.yRatio[jr],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:ur,realIndex:ir.realIndex,i:xr,j:yr,w:fr});return this.barHelpers.barBackground({bc:_r,j:yr,i:xr,x1:Mr,x2:or,elSeries:dr}),{pathTo:po.pathTo,pathFrom:po.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,lr,xr,yr),barXPosition:Mr,x:fr.globals.isXNumeric?rr:rr+ar,y:sr}}}]),er})(),za=(function(tr){h$3(er,Ia);var Hn=n(er);function er(){return i$1(this,er),Hn.apply(this,arguments)}return s$1(er,[{key:"draw",value:function(nr,ir,rr){var sr=this,ar=this.w,or=new Mi$1(this.ctx),lr=ar.globals.comboCharts?ir:ar.config.chart.type,cr=new ji$1(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=ar.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var ur=new Pi$1(this.ctx,ar);nr=ur.getLogSeries(nr),this.series=nr,this.yRatio=ur.getLogYRatios(this.yRatio),this.barHelpers.initVariables(nr);for(var dr=or.group({class:"apexcharts-".concat(lr,"-series apexcharts-plot-series")}),fr=function(yr){sr.isBoxPlot=ar.config.chart.type==="boxPlot"||ar.config.series[yr].type==="boxPlot";var _r,Sr,jr,Dr,Ir=void 0,Mr=void 0,Or=[],Lr=[],Fr=ar.globals.comboCharts?rr[yr]:yr,Vr=sr.barHelpers.getGroupIndex(Fr).columnGroupIndex,Zr=or.group({class:"apexcharts-series",seriesName:v$1.escapeString(ar.globals.seriesNames[Fr]),rel:yr+1,"data:realIndex":Fr});sr.ctx.series.addCollapsedClassToSeries(Zr,Fr),nr[yr].length>0&&(sr.visibleI=sr.visibleI+1);var Hr,Yr,eo=0;sr.yRatio.length>1&&(sr.yaxisIndex=ar.globals.seriesYAxisReverseMap[Fr][0],eo=Fr);var io=sr.barHelpers.initialPositions(Fr);Mr=io.y,Hr=io.barHeight,Sr=io.yDivision,Dr=io.zeroW,Ir=io.x,Yr=io.barWidth,_r=io.xDivision,jr=io.zeroH,Lr.push(Ir+Yr/2);for(var uo=or.group({class:"apexcharts-datalabels","data:realIndex":Fr}),so=or.group({class:"apexcharts-bar-goals-markers"}),no=function(co){var lo=sr.barHelpers.getStrokeWidth(yr,co,Fr),ao=null,xo={indexes:{i:yr,j:co,realIndex:Fr,translationsIndex:eo},x:Ir,y:Mr,strokeWidth:lo,elSeries:Zr};ao=sr.isHorizontal?sr.drawHorizontalBoxPaths(u$2(u$2({},xo),{},{yDivision:Sr,barHeight:Hr,zeroW:Dr})):sr.drawVerticalBoxPaths(u$2(u$2({},xo),{},{xDivision:_r,barWidth:Yr,zeroH:jr})),Mr=ao.y,Ir=ao.x;var _o=sr.barHelpers.drawGoalLine({barXPosition:ao.barXPosition,barYPosition:ao.barYPosition,goalX:ao.goalX,goalY:ao.goalY,barHeight:Hr,barWidth:Yr});_o&&so.add(_o),co>0&&Lr.push(Ir+Yr/2),Or.push(Mr),ao.pathTo.forEach((function(Po,Oo){var So=!sr.isBoxPlot&&sr.candlestickOptions.wick.useFillColor?ao.color[Oo]:ar.globals.stroke.colors[yr],Ao=cr.fillPath({seriesNumber:Fr,dataPointIndex:co,color:ao.color[Oo],value:nr[yr][co]});sr.renderSeries({realIndex:Fr,pathFill:Ao,lineFill:So,j:co,i:yr,pathFrom:ao.pathFrom,pathTo:Po,strokeWidth:lo,elSeries:Zr,x:Ir,y:Mr,series:nr,columnGroupIndex:Vr,barHeight:Hr,barWidth:Yr,elDataLabelsWrap:uo,elGoalsMarkers:so,visibleSeries:sr.visibleI,type:ar.config.chart.type})}))},po=0;po<ar.globals.dataPoints;po++)no(po);ar.globals.seriesXvalues[Fr]=Lr,ar.globals.seriesYvalues[Fr]=Or,dr.add(Zr)},xr=0;xr<nr.length;xr++)fr(xr);return dr}},{key:"drawVerticalBoxPaths",value:function(nr){var ir=nr.indexes,rr=nr.x;nr.y;var sr=nr.xDivision,ar=nr.barWidth,or=nr.zeroH,lr=nr.strokeWidth,cr=this.w,ur=new Mi$1(this.ctx),dr=ir.i,fr=ir.j,xr=cr.config.plotOptions.candlestick.colors,yr=this.boxOptions.colors,_r=ir.realIndex,Sr=function(po){return Array.isArray(po)?po[_r]:po},jr=Sr(xr.upward),Dr=Sr(xr.downward),Ir=this.yRatio[ir.translationsIndex],Mr=this.getOHLCValue(_r,fr),Or=or,Lr=or,Fr=Mr.o<Mr.c?[jr]:[Dr];this.isBoxPlot&&(Fr=[Sr(yr.lower),Sr(yr.upper)]);var Vr=Math.min(Mr.o,Mr.c),Zr=Math.max(Mr.o,Mr.c),Hr=Mr.m;cr.globals.isXNumeric&&(rr=(cr.globals.seriesX[_r][fr]-cr.globals.minX)/this.xRatio-ar/2);var Yr=rr+ar*this.visibleI;this.series[dr][fr]===void 0||this.series[dr][fr]===null?(Vr=or,Zr=or):(Vr=or-Vr/Ir,Zr=or-Zr/Ir,Or=or-Mr.h/Ir,Lr=or-Mr.l/Ir,Hr=or-Mr.m/Ir);var eo=ur.move(Yr,or),io=ur.move(Yr+ar/2,Vr);if(cr.globals.previousPaths.length>0&&(io=this.getPreviousPath(_r,fr,!0)),this.isOHLC){var uo=Yr+ar/2,so=or-Mr.o/Ir,no=or-Mr.c/Ir;eo=[ur.move(uo,Or)+ur.line(uo,Lr)+ur.move(uo,so)+ur.line(Yr,so)+ur.move(uo,no)+ur.line(Yr+ar,no)]}else eo=this.isBoxPlot?[ur.move(Yr,Vr)+ur.line(Yr+ar/2,Vr)+ur.line(Yr+ar/2,Or)+ur.line(Yr+ar/4,Or)+ur.line(Yr+ar-ar/4,Or)+ur.line(Yr+ar/2,Or)+ur.line(Yr+ar/2,Vr)+ur.line(Yr+ar,Vr)+ur.line(Yr+ar,Hr)+ur.line(Yr,Hr)+ur.line(Yr,Vr+lr/2),ur.move(Yr,Hr)+ur.line(Yr+ar,Hr)+ur.line(Yr+ar,Zr)+ur.line(Yr+ar/2,Zr)+ur.line(Yr+ar/2,Lr)+ur.line(Yr+ar-ar/4,Lr)+ur.line(Yr+ar/4,Lr)+ur.line(Yr+ar/2,Lr)+ur.line(Yr+ar/2,Zr)+ur.line(Yr,Zr)+ur.line(Yr,Hr)+"z"]:[ur.move(Yr,Zr)+ur.line(Yr+ar/2,Zr)+ur.line(Yr+ar/2,Or)+ur.line(Yr+ar/2,Zr)+ur.line(Yr+ar,Zr)+ur.line(Yr+ar,Vr)+ur.line(Yr+ar/2,Vr)+ur.line(Yr+ar/2,Lr)+ur.line(Yr+ar/2,Vr)+ur.line(Yr,Vr)+ur.line(Yr,Zr-lr/2)];return io+=ur.move(Yr,Vr),cr.globals.isXNumeric||(rr+=sr),{pathTo:eo,pathFrom:io,x:rr,y:Zr,goalY:this.barHelpers.getGoalValues("y",null,or,dr,fr,ir.translationsIndex),barXPosition:Yr,color:Fr}}},{key:"drawHorizontalBoxPaths",value:function(nr){var ir=nr.indexes;nr.x;var rr=nr.y,sr=nr.yDivision,ar=nr.barHeight,or=nr.zeroW,lr=nr.strokeWidth,cr=this.w,ur=new Mi$1(this.ctx),dr=ir.i,fr=ir.j,xr=this.boxOptions.colors.lower;this.isBoxPlot&&(xr=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var yr=this.invertedYRatio,_r=ir.realIndex,Sr=this.getOHLCValue(_r,fr),jr=or,Dr=or,Ir=Math.min(Sr.o,Sr.c),Mr=Math.max(Sr.o,Sr.c),Or=Sr.m;cr.globals.isXNumeric&&(rr=(cr.globals.seriesX[_r][fr]-cr.globals.minX)/this.invertedXRatio-ar/2);var Lr=rr+ar*this.visibleI;this.series[dr][fr]===void 0||this.series[dr][fr]===null?(Ir=or,Mr=or):(Ir=or+Ir/yr,Mr=or+Mr/yr,jr=or+Sr.h/yr,Dr=or+Sr.l/yr,Or=or+Sr.m/yr);var Fr=ur.move(or,Lr),Vr=ur.move(Ir,Lr+ar/2);return cr.globals.previousPaths.length>0&&(Vr=this.getPreviousPath(_r,fr,!0)),Fr=[ur.move(Ir,Lr)+ur.line(Ir,Lr+ar/2)+ur.line(jr,Lr+ar/2)+ur.line(jr,Lr+ar/2-ar/4)+ur.line(jr,Lr+ar/2+ar/4)+ur.line(jr,Lr+ar/2)+ur.line(Ir,Lr+ar/2)+ur.line(Ir,Lr+ar)+ur.line(Or,Lr+ar)+ur.line(Or,Lr)+ur.line(Ir+lr/2,Lr),ur.move(Or,Lr)+ur.line(Or,Lr+ar)+ur.line(Mr,Lr+ar)+ur.line(Mr,Lr+ar/2)+ur.line(Dr,Lr+ar/2)+ur.line(Dr,Lr+ar-ar/4)+ur.line(Dr,Lr+ar/4)+ur.line(Dr,Lr+ar/2)+ur.line(Mr,Lr+ar/2)+ur.line(Mr,Lr)+ur.line(Or,Lr)+"z"],Vr+=ur.move(Ir,Lr),cr.globals.isXNumeric||(rr+=sr),{pathTo:Fr,pathFrom:Vr,x:Mr,y:rr,goalX:this.barHelpers.getGoalValues("x",or,null,dr,fr),barYPosition:Lr,color:xr}}},{key:"getOHLCValue",value:function(nr,ir){var rr=this.w,sr=new Pi$1(this.ctx,rr),ar=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleH[nr][ir],nr),or=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleO[nr][ir],nr),lr=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleM[nr][ir],nr),cr=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleC[nr][ir],nr),ur=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleL[nr][ir],nr);return{o:this.isBoxPlot?ar:or,h:this.isBoxPlot?or:ar,m:lr,l:this.isBoxPlot?cr:ur,c:this.isBoxPlot?ur:cr}}}]),er})(),Xa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"checkColorRange",value:function(){var Hn=this.w,er=!1,nr=Hn.config.plotOptions[Hn.config.chart.type];return nr.colorScale.ranges.length>0&&nr.colorScale.ranges.map((function(ir,rr){ir.from<=0&&(er=!0)})),er}},{key:"getShadeColor",value:function(Hn,er,nr,ir){var rr=this.w,sr=1,ar=rr.config.plotOptions[Hn].shadeIntensity,or=this.determineColor(Hn,er,nr);rr.globals.hasNegs||ir?sr=rr.config.plotOptions[Hn].reverseNegativeShade?or.percent<0?or.percent/100*(1.25*ar):(1-or.percent/100)*(1.25*ar):or.percent<=0?1-(1+or.percent/100)*ar:(1-or.percent/100)*ar:(sr=1-or.percent/100,Hn==="treemap"&&(sr=(1-or.percent/100)*(1.25*ar)));var lr=or.color,cr=new v$1;if(rr.config.plotOptions[Hn].enableShades)if(this.w.config.theme.mode==="dark"){var ur=cr.shadeColor(-1*sr,or.color);lr=v$1.hexToRgba(v$1.isColorHex(ur)?ur:v$1.rgb2hex(ur),rr.config.fill.opacity)}else{var dr=cr.shadeColor(sr,or.color);lr=v$1.hexToRgba(v$1.isColorHex(dr)?dr:v$1.rgb2hex(dr),rr.config.fill.opacity)}return{color:lr,colorProps:or}}},{key:"determineColor",value:function(Hn,er,nr){var ir=this.w,rr=ir.globals.series[er][nr],sr=ir.config.plotOptions[Hn],ar=sr.colorScale.inverse?nr:er;sr.distributed&&ir.config.chart.type==="treemap"&&(ar=nr);var or=ir.globals.colors[ar],lr=null,cr=Math.min.apply(Math,f$2(ir.globals.series[er])),ur=Math.max.apply(Math,f$2(ir.globals.series[er]));sr.distributed||Hn!=="heatmap"||(cr=ir.globals.minY,ur=ir.globals.maxY),sr.colorScale.min!==void 0&&(cr=sr.colorScale.min<ir.globals.minY?sr.colorScale.min:ir.globals.minY,ur=sr.colorScale.max>ir.globals.maxY?sr.colorScale.max:ir.globals.maxY);var dr=Math.abs(ur)+Math.abs(cr),fr=100*rr/(dr===0?dr-1e-6:dr);return sr.colorScale.ranges.length>0&&sr.colorScale.ranges.map((function(xr,yr){if(rr>=xr.from&&rr<=xr.to){or=xr.color,lr=xr.foreColor?xr.foreColor:null,cr=xr.from,ur=xr.to;var _r=Math.abs(ur)+Math.abs(cr);fr=100*rr/(_r===0?_r-1e-6:_r)}})),{color:or,foreColor:lr,percent:fr}}},{key:"calculateDataLabels",value:function(Hn){var er=Hn.text,nr=Hn.x,ir=Hn.y,rr=Hn.i,sr=Hn.j,ar=Hn.colorProps,or=Hn.fontSize,lr=this.w.config.dataLabels,cr=new Mi$1(this.ctx),ur=new qi$1(this.ctx),dr=null;if(lr.enabled){dr=cr.group({class:"apexcharts-data-labels"});var fr=lr.offsetX,xr=lr.offsetY,yr=nr+fr,_r=ir+parseFloat(lr.style.fontSize)/3+xr;ur.plotDataLabelsText({x:yr,y:_r,text:er,i:rr,j:sr,color:ar.foreColor,parent:dr,fontSize:or,dataLabelsConfig:lr})}return dr}},{key:"addListeners",value:function(Hn){var er=new Mi$1(this.ctx);Hn.node.addEventListener("mouseenter",er.pathMouseEnter.bind(this,Hn)),Hn.node.addEventListener("mouseleave",er.pathMouseLeave.bind(this,Hn)),Hn.node.addEventListener("mousedown",er.pathMouseDown.bind(this,Hn))}}]),tr})(),Ra=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.xRatio=er.xRatio,this.yRatio=er.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Xa(Hn),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return s$1(tr,[{key:"draw",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=nr.group({class:"apexcharts-heatmap"});ir.attr("clip-path","url(#gridRectMask".concat(er.globals.cuid,")"));var rr=er.globals.gridWidth/er.globals.dataPoints,sr=er.globals.gridHeight/er.globals.series.length,ar=0,or=!1;this.negRange=this.helpers.checkColorRange();var lr=Hn.slice();er.config.yaxis[0].reversed&&(or=!0,lr.reverse());for(var cr=or?0:lr.length-1;or?cr<lr.length:cr>=0;or?cr++:cr--){var ur=nr.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:v$1.escapeString(er.globals.seriesNames[cr]),rel:cr+1,"data:realIndex":cr});if(this.ctx.series.addCollapsedClassToSeries(ur,cr),er.config.chart.dropShadow.enabled){var dr=er.config.chart.dropShadow;new Li$1(this.ctx).dropShadow(ur,dr,cr)}for(var fr=0,xr=er.config.plotOptions.heatmap.shadeIntensity,yr=0,_r=0;_r<er.globals.dataPoints;_r++)if(er.globals.seriesX.length&&!er.globals.allSeriesHasEqualX&&er.globals.minX+er.globals.minXDiff*_r<er.globals.seriesX[cr][yr])fr+=rr;else{if(yr>=lr[cr].length)break;var Sr=this.helpers.getShadeColor(er.config.chart.type,cr,yr,this.negRange),jr=Sr.color,Dr=Sr.colorProps;er.config.fill.type==="image"&&(jr=new ji$1(this.ctx).fillPath({seriesNumber:cr,dataPointIndex:yr,opacity:er.globals.hasNegs?Dr.percent<0?1-(1+Dr.percent/100):xr+Dr.percent/100:Dr.percent/100,patternID:v$1.randomId(),width:er.config.fill.image.width?er.config.fill.image.width:rr,height:er.config.fill.image.height?er.config.fill.image.height:sr}));var Ir=this.rectRadius,Mr=nr.drawRect(fr,ar,rr,sr,Ir);if(Mr.attr({cx:fr,cy:ar}),Mr.node.classList.add("apexcharts-heatmap-rect"),ur.add(Mr),Mr.attr({fill:jr,i:cr,index:cr,j:yr,val:Hn[cr][yr],"stroke-width":this.strokeWidth,stroke:er.config.plotOptions.heatmap.useFillColorAsStroke?jr:er.globals.stroke.colors[0],color:jr}),this.helpers.addListeners(Mr),er.config.chart.animations.enabled&&!er.globals.dataChanged){var Or=1;er.globals.resized||(Or=er.config.chart.animations.speed),this.animateHeatMap(Mr,fr,ar,rr,sr,Or)}if(er.globals.dataChanged){var Lr=1;if(this.dynamicAnim.enabled&&er.globals.shouldAnimate){Lr=this.dynamicAnim.speed;var Fr=er.globals.previousPaths[cr]&&er.globals.previousPaths[cr][yr]&&er.globals.previousPaths[cr][yr].color;Fr||(Fr="rgba(255, 255, 255, 0)"),this.animateHeatColor(Mr,v$1.isColorHex(Fr)?Fr:v$1.rgb2hex(Fr),v$1.isColorHex(jr)?jr:v$1.rgb2hex(jr),Lr)}}var Vr=(0,er.config.dataLabels.formatter)(er.globals.series[cr][yr],{value:er.globals.series[cr][yr],seriesIndex:cr,dataPointIndex:yr,w:er}),Zr=this.helpers.calculateDataLabels({text:Vr,x:fr+rr/2,y:ar+sr/2,i:cr,j:yr,colorProps:Dr,series:lr});Zr!==null&&ur.add(Zr),fr+=rr,yr++}ar+=sr,ir.add(ur)}var Hr=er.globals.yAxisScale[0].result.slice();return er.config.yaxis[0].reversed?Hr.unshift(""):Hr.push(""),er.globals.yAxisScale[0].result=Hr,ir}},{key:"animateHeatMap",value:function(Hn,er,nr,ir,rr,sr){var ar=new y$3(this.ctx);ar.animateRect(Hn,{x:er+ir/2,y:nr+rr/2,width:0,height:0},{x:er,y:nr,width:ir,height:rr},sr,(function(){ar.animationCompleted(Hn)}))}},{key:"animateHeatColor",value:function(Hn,er,nr,ir){Hn.attr({fill:er}).animate(ir).attr({fill:nr})}}]),tr})(),Ea=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"drawYAxisTexts",value:function(Hn,er,nr,ir){var rr=this.w,sr=rr.config.yaxis[0],ar=rr.globals.yLabelFormatters[0];return new Mi$1(this.ctx).drawText({x:Hn+sr.labels.offsetX,y:er+sr.labels.offsetY,text:ar(ir,nr),textAnchor:"middle",fontSize:sr.labels.style.fontSize,fontFamily:sr.labels.style.fontFamily,foreColor:Array.isArray(sr.labels.style.colors)?sr.labels.style.colors[nr]:sr.labels.style.colors})}}]),tr})(),Ya=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=er.globals.stroke.colors!==void 0?er.globals.stroke.colors:er.globals.colors,this.defaultSize=Math.min(er.globals.gridWidth,er.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=er.globals.gridWidth/2,er.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(er.config.plotOptions.pie.endAngle-er.config.plotOptions.pie.startAngle),this.initialAngle=er.config.plotOptions.pie.startAngle%this.fullAngle,er.globals.radialSize=this.defaultSize/2.05-er.config.stroke.width-(er.config.chart.sparkline.enabled?0:er.config.chart.dropShadow.blur),this.donutSize=er.globals.radialSize*parseInt(er.config.plotOptions.pie.donut.size,10)/100;var nr=er.config.plotOptions.pie.customScale,ir=er.globals.gridWidth/2,rr=er.globals.gridHeight/2;this.translateX=ir-ir*nr,this.translateY=rr-rr*nr,this.dataLabelsGroup=new Mi$1(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(nr,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return s$1(tr,[{key:"draw",value:function(Hn){var er=this,nr=this.w,ir=new Mi$1(this.ctx),rr=ir.group({class:"apexcharts-pie"});if(nr.globals.noData)return rr;for(var sr=0,ar=0;ar<Hn.length;ar++)sr+=v$1.negToZero(Hn[ar]);var or=[],lr=ir.group();sr===0&&(sr=1e-5),Hn.forEach((function(Dr){er.maxY=Math.max(er.maxY,Dr)})),nr.config.yaxis[0].max&&(this.maxY=nr.config.yaxis[0].max),nr.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(rr);for(var cr=0;cr<Hn.length;cr++){var ur=this.fullAngle*v$1.negToZero(Hn[cr])/sr;or.push(ur),this.chartType==="polarArea"?(or[cr]=this.fullAngle/Hn.length,this.sliceSizes.push(nr.globals.radialSize*Hn[cr]/this.maxY)):this.sliceSizes.push(nr.globals.radialSize)}if(nr.globals.dataChanged){for(var dr,fr=0,xr=0;xr<nr.globals.previousPaths.length;xr++)fr+=v$1.negToZero(nr.globals.previousPaths[xr]);for(var yr=0;yr<nr.globals.previousPaths.length;yr++)dr=this.fullAngle*v$1.negToZero(nr.globals.previousPaths[yr])/fr,this.prevSectorAngleArr.push(dr)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var _r=ir.drawCircle(this.donutSize);_r.attr({cx:this.centerX,cy:this.centerY,fill:nr.config.plotOptions.pie.donut.background?nr.config.plotOptions.pie.donut.background:"transparent"}),lr.add(_r)}var Sr=this.drawArcs(or,Hn);if(this.sliceLabels.forEach((function(Dr){Sr.add(Dr)})),lr.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(nr.config.plotOptions.pie.customScale,")")}),lr.add(Sr),rr.add(lr),this.donutDataLabels.show){var jr=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});rr.add(jr)}return nr.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(rr),rr}},{key:"drawArcs",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=new Mi$1(this.ctx),sr=new ji$1(this.ctx),ar=rr.group({class:"apexcharts-slices"}),or=this.initialAngle,lr=this.initialAngle,cr=this.initialAngle,ur=this.initialAngle;this.strokeWidth=nr.config.stroke.show?nr.config.stroke.width:0;for(var dr=0;dr<Hn.length;dr++){var fr=rr.group({class:"apexcharts-series apexcharts-pie-series",seriesName:v$1.escapeString(nr.globals.seriesNames[dr]),rel:dr+1,"data:realIndex":dr});ar.add(fr),lr=ur,cr=(or=cr)+Hn[dr],ur=lr+this.prevSectorAngleArr[dr];var xr=cr<or?this.fullAngle+cr-or:cr-or,yr=sr.fillPath({seriesNumber:dr,size:this.sliceSizes[dr],value:er[dr]}),_r=this.getChangedPath(lr,ur),Sr=rr.drawPath({d:_r,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[dr]:this.lineColorArr,strokeWidth:0,fill:yr,fillOpacity:nr.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(dr)});if(Sr.attr({index:0,j:dr}),ir.setSelectionFilter(Sr,0,dr),nr.config.chart.dropShadow.enabled){var jr=nr.config.chart.dropShadow;ir.dropShadow(Sr,jr,dr)}this.addListeners(Sr,this.donutDataLabels),Mi$1.setAttrs(Sr.node,{"data:angle":xr,"data:startAngle":or,"data:strokeWidth":this.strokeWidth,"data:value":er[dr]});var Dr={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?Dr=v$1.polarToCartesian(this.centerX,this.centerY,nr.globals.radialSize/1.25+nr.config.plotOptions.pie.dataLabels.offset,(or+xr/2)%this.fullAngle):this.chartType==="donut"&&(Dr=v$1.polarToCartesian(this.centerX,this.centerY,(nr.globals.radialSize+this.donutSize)/2+nr.config.plotOptions.pie.dataLabels.offset,(or+xr/2)%this.fullAngle)),fr.add(Sr);var Ir=0;if(!this.initialAnim||nr.globals.resized||nr.globals.dataChanged?this.animBeginArr.push(0):((Ir=xr/this.fullAngle*nr.config.chart.animations.speed)===0&&(Ir=1),this.animDur=Ir+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&nr.globals.dataChanged?this.animatePaths(Sr,{size:this.sliceSizes[dr],endAngle:cr,startAngle:or,prevStartAngle:lr,prevEndAngle:ur,animateStartingPos:!0,i:dr,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:nr.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(Sr,{size:this.sliceSizes[dr],endAngle:cr,startAngle:or,i:dr,totalItems:Hn.length-1,animBeginArr:this.animBeginArr,dur:Ir}),nr.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&Sr.node.addEventListener("mouseup",this.pieClicked.bind(this,dr)),nr.globals.selectedDataPoints[0]!==void 0&&nr.globals.selectedDataPoints[0].indexOf(dr)>-1&&this.pieClicked(dr),nr.config.dataLabels.enabled){var Mr=Dr.x,Or=Dr.y,Lr=100*xr/this.fullAngle+"%";if(xr!==0&&nr.config.plotOptions.pie.dataLabels.minAngleToShowLabel<Hn[dr]){var Fr=nr.config.dataLabels.formatter;Fr!==void 0&&(Lr=Fr(nr.globals.seriesPercent[dr][0],{seriesIndex:dr,w:nr}));var Vr=nr.globals.dataLabels.style.colors[dr],Zr=rr.group({class:"apexcharts-datalabels"}),Hr=rr.drawText({x:Mr,y:Or,text:Lr,textAnchor:"middle",fontSize:nr.config.dataLabels.style.fontSize,fontFamily:nr.config.dataLabels.style.fontFamily,fontWeight:nr.config.dataLabels.style.fontWeight,foreColor:Vr});if(Zr.add(Hr),nr.config.dataLabels.dropShadow.enabled){var Yr=nr.config.dataLabels.dropShadow;ir.dropShadow(Hr,Yr)}Hr.node.classList.add("apexcharts-pie-label"),nr.config.chart.animations.animate&&nr.globals.resized===!1&&(Hr.node.classList.add("apexcharts-pie-label-delay"),Hr.node.style.animationDelay=nr.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Zr)}}}return ar}},{key:"addListeners",value:function(Hn,er){var nr=new Mi$1(this.ctx);Hn.node.addEventListener("mouseenter",nr.pathMouseEnter.bind(this,Hn)),Hn.node.addEventListener("mouseleave",nr.pathMouseLeave.bind(this,Hn)),Hn.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,Hn.node,er)),Hn.node.addEventListener("mousedown",nr.pathMouseDown.bind(this,Hn)),this.donutDataLabels.total.showAlways||(Hn.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,Hn.node,er)),Hn.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,Hn.node,er)))}},{key:"animatePaths",value:function(Hn,er){var nr=this.w,ir=er.endAngle<er.startAngle?this.fullAngle+er.endAngle-er.startAngle:er.endAngle-er.startAngle,rr=ir,sr=er.startAngle,ar=er.startAngle;er.prevStartAngle!==void 0&&er.prevEndAngle!==void 0&&(sr=er.prevEndAngle,rr=er.prevEndAngle<er.prevStartAngle?this.fullAngle+er.prevEndAngle-er.prevStartAngle:er.prevEndAngle-er.prevStartAngle),er.i===nr.config.series.length-1&&(ir+ar>this.fullAngle?er.endAngle=er.endAngle-(ir+ar):ir+ar<this.fullAngle&&(er.endAngle=er.endAngle+(this.fullAngle-(ir+ar)))),ir===this.fullAngle&&(ir=this.fullAngle-.01),this.animateArc(Hn,sr,ar,ir,rr,er)}},{key:"animateArc",value:function(Hn,er,nr,ir,rr,sr){var ar,or=this,lr=this.w,cr=new y$3(this.ctx),ur=sr.size;(isNaN(er)||isNaN(rr))&&(er=nr,rr=ir,sr.dur=0);var dr=ir,fr=nr,xr=er<nr?this.fullAngle+er-nr:er-nr;lr.globals.dataChanged&&sr.shouldSetPrevPaths&&sr.prevEndAngle&&(ar=or.getPiePath({me:or,startAngle:sr.prevStartAngle,angle:sr.prevEndAngle<sr.prevStartAngle?this.fullAngle+sr.prevEndAngle-sr.prevStartAngle:sr.prevEndAngle-sr.prevStartAngle,size:ur}),Hn.attr({d:ar})),sr.dur!==0?Hn.animate(sr.dur,sr.animBeginArr[sr.i]).after((function(){or.chartType!=="pie"&&or.chartType!=="donut"&&or.chartType!=="polarArea"||this.animate(lr.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":or.strokeWidth}),sr.i===lr.config.series.length-1&&cr.animationCompleted(Hn)})).during((function(yr){dr=xr+(ir-xr)*yr,sr.animateStartingPos&&(dr=rr+(ir-rr)*yr,fr=er-rr+(nr-(er-rr))*yr),ar=or.getPiePath({me:or,startAngle:fr,angle:dr,size:ur}),Hn.node.setAttribute("data:pathOrig",ar),Hn.attr({d:ar})})):(ar=or.getPiePath({me:or,startAngle:fr,angle:ir,size:ur}),sr.isTrack||(lr.globals.animationEnded=!0),Hn.node.setAttribute("data:pathOrig",ar),Hn.attr({d:ar,"stroke-width":or.strokeWidth}))}},{key:"pieClicked",value:function(Hn){var er,nr=this.w,ir=this,rr=ir.sliceSizes[Hn]+(nr.config.plotOptions.pie.expandOnClick?4:0),sr=nr.globals.dom.Paper.findOne(".apexcharts-".concat(ir.chartType.toLowerCase(),"-slice-").concat(Hn));if(sr.attr("data:pieClicked")!=="true"){var ar=nr.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(ar,(function(ur){ur.setAttribute("data:pieClicked","false");var dr=ur.getAttribute("data:pathOrig");dr&&ur.setAttribute("d",dr)})),nr.globals.capturedDataPointIndex=Hn,sr.attr("data:pieClicked","true");var or=parseInt(sr.attr("data:startAngle"),10),lr=parseInt(sr.attr("data:angle"),10);er=ir.getPiePath({me:ir,startAngle:or,angle:lr,size:rr}),lr!==360&&sr.plot(er)}else{sr.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(sr.node,this.donutDataLabels);var cr=sr.attr("data:pathOrig");sr.attr({d:cr})}}},{key:"getChangedPath",value:function(Hn,er){var nr="";return this.dynamicAnim&&this.w.globals.dataChanged&&(nr=this.getPiePath({me:this,startAngle:Hn,angle:er-Hn,size:this.size})),nr}},{key:"getPiePath",value:function(Hn){var er,nr=Hn.me,ir=Hn.startAngle,rr=Hn.angle,sr=Hn.size,ar=new Mi$1(this.ctx),or=ir,lr=Math.PI*(or-90)/180,cr=rr+ir;Math.ceil(cr)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(cr=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(cr)>this.fullAngle&&(cr-=this.fullAngle);var ur=Math.PI*(cr-90)/180,dr=nr.centerX+sr*Math.cos(lr),fr=nr.centerY+sr*Math.sin(lr),xr=nr.centerX+sr*Math.cos(ur),yr=nr.centerY+sr*Math.sin(ur),_r=v$1.polarToCartesian(nr.centerX,nr.centerY,nr.donutSize,cr),Sr=v$1.polarToCartesian(nr.centerX,nr.centerY,nr.donutSize,or),jr=rr>180?1:0,Dr=["M",dr,fr,"A",sr,sr,0,jr,1,xr,yr];return er=nr.chartType==="donut"?[].concat(Dr,["L",_r.x,_r.y,"A",nr.donutSize,nr.donutSize,0,jr,0,Sr.x,Sr.y,"L",dr,fr,"z"]).join(" "):nr.chartType==="pie"||nr.chartType==="polarArea"?[].concat(Dr,["L",nr.centerX,nr.centerY,"L",dr,fr]).join(" "):[].concat(Dr).join(" "),ar.roundPathCorners(er,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(Hn){var er=this.w,nr=new ea(this.ctx),ir=new Mi$1(this.ctx),rr=new Ea(this.ctx),sr=ir.group(),ar=ir.group(),or=nr.niceScale(0,Math.ceil(this.maxY),0),lr=or.result.reverse(),cr=or.result.length;this.maxY=or.niceMax;for(var ur=er.globals.radialSize,dr=ur/(cr-1),fr=0;fr<cr-1;fr++){var xr=ir.drawCircle(ur);if(xr.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":er.config.plotOptions.polarArea.rings.strokeWidth,stroke:er.config.plotOptions.polarArea.rings.strokeColor}),er.config.yaxis[0].show){var yr=rr.drawYAxisTexts(this.centerX,this.centerY-ur+parseInt(er.config.yaxis[0].labels.style.fontSize,10)/2,fr,lr[fr]);ar.add(yr)}sr.add(xr),ur-=dr}this.drawSpokes(Hn),Hn.add(sr),Hn.add(ar)}},{key:"renderInnerDataLabels",value:function(Hn,er,nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=er.total.show;Hn.node.innerHTML="",Hn.node.style.opacity=nr.opacity;var ar,or,lr=nr.centerX,cr=this.donutDataLabels.total.label?nr.centerY:nr.centerY-nr.centerY/6;ar=er.name.color===void 0?ir.globals.colors[0]:er.name.color;var ur=er.name.fontSize,dr=er.name.fontFamily,fr=er.name.fontWeight;or=er.value.color===void 0?ir.config.chart.foreColor:er.value.color;var xr=er.value.formatter,yr="",_r="";if(sr?(ar=er.total.color,ur=er.total.fontSize,dr=er.total.fontFamily,fr=er.total.fontWeight,_r=this.donutDataLabels.total.label?er.total.label:"",yr=er.total.formatter(ir)):ir.globals.series.length===1&&(yr=xr(ir.globals.series[0],ir),_r=ir.globals.seriesNames[0]),_r&&(_r=er.name.formatter(_r,er.total.show,ir)),er.name.show){var Sr=rr.drawText({x:lr,y:cr+parseFloat(er.name.offsetY),text:_r,textAnchor:"middle",foreColor:ar,fontSize:ur,fontWeight:fr,fontFamily:dr});Sr.node.classList.add("apexcharts-datalabel-label"),Hn.add(Sr)}if(er.value.show){var jr=er.name.show?parseFloat(er.value.offsetY)+16:er.value.offsetY,Dr=rr.drawText({x:lr,y:cr+jr,text:yr,textAnchor:"middle",foreColor:or,fontWeight:er.value.fontWeight,fontSize:er.value.fontSize,fontFamily:er.value.fontFamily});Dr.node.classList.add("apexcharts-datalabel-value"),Hn.add(Dr)}return Hn}},{key:"printInnerLabels",value:function(Hn,er,nr,ir){var rr,sr=this.w;ir?rr=Hn.name.color===void 0?sr.globals.colors[parseInt(ir.parentNode.getAttribute("rel"),10)-1]:Hn.name.color:sr.globals.series.length>1&&Hn.total.show&&(rr=Hn.total.color);var ar=sr.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),or=sr.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");nr=(0,Hn.value.formatter)(nr,sr),ir||typeof Hn.total.formatter!="function"||(nr=Hn.total.formatter(sr));var lr=er===Hn.total.label;er=this.donutDataLabels.total.label?Hn.name.formatter(er,lr,sr):"",ar!==null&&(ar.textContent=er),or!==null&&(or.textContent=nr),ar!==null&&(ar.style.fill=rr)}},{key:"printDataLabelsInner",value:function(Hn,er){var nr=this.w,ir=Hn.getAttribute("data:value"),rr=nr.globals.seriesNames[parseInt(Hn.parentNode.getAttribute("rel"),10)-1];nr.globals.series.length>1&&this.printInnerLabels(er,rr,ir,Hn);var sr=nr.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");sr!==null&&(sr.style.opacity=1)}},{key:"drawSpokes",value:function(Hn){var er=this,nr=this.w,ir=new Mi$1(this.ctx),rr=nr.config.plotOptions.polarArea.spokes;if(rr.strokeWidth!==0){for(var sr=[],ar=360/nr.globals.series.length,or=0;or<nr.globals.series.length;or++)sr.push(v$1.polarToCartesian(this.centerX,this.centerY,nr.globals.radialSize,nr.config.plotOptions.pie.startAngle+ar*or));sr.forEach((function(lr,cr){var ur=ir.drawLine(lr.x,lr.y,er.centerX,er.centerY,Array.isArray(rr.connectorColors)?rr.connectorColors[cr]:rr.connectorColors);Hn.add(ur)}))}}},{key:"revertDataLabelsInner",value:function(){var Hn=this.w;if(this.donutDataLabels.show){var er=Hn.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),nr=this.renderInnerDataLabels(er,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});Hn.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(nr)}}}]),tr})(),Ha=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var er=this.w;this.graphics=new Mi$1(this.ctx),this.lineColorArr=er.globals.stroke.colors!==void 0?er.globals.stroke.colors:er.globals.colors,this.defaultSize=er.globals.svgHeight<er.globals.svgWidth?er.globals.gridHeight:er.globals.gridWidth,this.isLog=er.config.yaxis[0].logarithmic,this.logBase=er.config.yaxis[0].logBase,this.coreUtils=new Pi$1(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,er.globals.maxY,0):er.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):er.globals.minY,this.polygons=er.config.plotOptions.radar.polygons,this.strokeWidth=er.config.stroke.show?er.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-er.config.chart.dropShadow.blur,er.config.xaxis.labels.show&&(this.size=this.size-er.globals.xAxisLabelsWidth/1.75),er.config.plotOptions.radar.size!==void 0&&(this.size=er.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s$1(tr,[{key:"draw",value:function(Hn){var er=this,nr=this.w,ir=new ji$1(this.ctx),rr=[],sr=new qi$1(this.ctx);Hn.length&&(this.dataPointsLen=Hn[nr.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var ar=nr.globals.gridWidth/2,or=nr.globals.gridHeight/2,lr=ar+nr.config.plotOptions.radar.offsetX,cr=or+nr.config.plotOptions.radar.offsetY,ur=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(lr||0,", ").concat(cr||0,")")}),dr=[],fr=null,xr=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),Hn.forEach((function(_r,Sr){var jr=_r.length===nr.globals.dataPoints,Dr=er.graphics.group().attr({class:"apexcharts-series","data:longestSeries":jr,seriesName:v$1.escapeString(nr.globals.seriesNames[Sr]),rel:Sr+1,"data:realIndex":Sr});er.dataRadiusOfPercent[Sr]=[],er.dataRadius[Sr]=[],er.angleArr[Sr]=[],_r.forEach((function(eo,io){var uo=Math.abs(er.maxValue-er.minValue);eo-=er.minValue,er.isLog&&(eo=er.coreUtils.getLogVal(er.logBase,eo,0)),er.dataRadiusOfPercent[Sr][io]=eo/uo,er.dataRadius[Sr][io]=er.dataRadiusOfPercent[Sr][io]*er.size,er.angleArr[Sr][io]=io*er.disAngle})),dr=er.getDataPointsPos(er.dataRadius[Sr],er.angleArr[Sr]);var Ir=er.createPaths(dr,{x:0,y:0});fr=er.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),xr=er.graphics.group({class:"apexcharts-datalabels","data:realIndex":Sr}),nr.globals.delayedElements.push({el:fr.node,index:Sr});var Mr={i:Sr,realIndex:Sr,animationDelay:Sr,initialSpeed:nr.config.chart.animations.speed,dataChangeSpeed:nr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:nr.globals.stroke.colors[Sr],strokeLineCap:nr.config.stroke.lineCap},Or=null;nr.globals.previousPaths.length>0&&(Or=er.getPreviousPath(Sr));for(var Lr=0;Lr<Ir.linePathsTo.length;Lr++){var Fr=er.graphics.renderPaths(u$2(u$2({},Mr),{},{pathFrom:Or===null?Ir.linePathsFrom[Lr]:Or,pathTo:Ir.linePathsTo[Lr],strokeWidth:Array.isArray(er.strokeWidth)?er.strokeWidth[Sr]:er.strokeWidth,fill:"none",drawShadow:!1}));Dr.add(Fr);var Vr=ir.fillPath({seriesNumber:Sr}),Zr=er.graphics.renderPaths(u$2(u$2({},Mr),{},{pathFrom:Or===null?Ir.areaPathsFrom[Lr]:Or,pathTo:Ir.areaPathsTo[Lr],strokeWidth:0,fill:Vr,drawShadow:!1}));if(nr.config.chart.dropShadow.enabled){var Hr=new Li$1(er.ctx),Yr=nr.config.chart.dropShadow;Hr.dropShadow(Zr,Object.assign({},Yr,{noUserSpaceOnUse:!0}),Sr)}Dr.add(Zr)}_r.forEach((function(eo,io){var uo=new Vi$1(er.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:Sr,dataPointIndex:io}),so=er.graphics.drawMarker(dr[io].x,dr[io].y,uo);so.attr("rel",io),so.attr("j",io),so.attr("index",Sr),so.node.setAttribute("default-marker-size",uo.pSize);var no=er.graphics.group({class:"apexcharts-series-markers"});no&&no.add(so),fr.add(no),Dr.add(fr);var po=nr.config.dataLabels;if(po.enabled){var co=po.formatter(nr.globals.series[Sr][io],{seriesIndex:Sr,dataPointIndex:io,w:nr});sr.plotDataLabelsText({x:dr[io].x,y:dr[io].y,text:co,textAnchor:"middle",i:Sr,j:Sr,parent:xr,offsetCorrection:!1,dataLabelsConfig:u$2({},po)})}Dr.add(xr)})),rr.push(Dr)})),this.drawPolygons({parent:ur}),nr.config.xaxis.labels.show){var yr=this.drawXAxisTexts();ur.add(yr)}return rr.forEach((function(_r){ur.add(_r)})),ur.add(this.yaxisLabels),ur}},{key:"drawPolygons",value:function(Hn){for(var er=this,nr=this.w,ir=Hn.parent,rr=new Ea(this.ctx),sr=nr.globals.yAxisScale[0].result.reverse(),ar=sr.length,or=[],lr=this.size/(ar-1),cr=0;cr<ar;cr++)or[cr]=lr*cr;or.reverse();var ur=[],dr=[];or.forEach((function(fr,xr){var yr=v$1.getPolygonPos(fr,er.dataPointsLen),_r="";yr.forEach((function(Sr,jr){if(xr===0){var Dr=er.graphics.drawLine(Sr.x,Sr.y,0,0,Array.isArray(er.polygons.connectorColors)?er.polygons.connectorColors[jr]:er.polygons.connectorColors);dr.push(Dr)}jr===0&&er.yaxisLabelsTextsPos.push({x:Sr.x,y:Sr.y}),_r+=Sr.x+","+Sr.y+" "})),ur.push(_r)})),ur.forEach((function(fr,xr){var yr=er.polygons.strokeColors,_r=er.polygons.strokeWidth,Sr=er.graphics.drawPolygon(fr,Array.isArray(yr)?yr[xr]:yr,Array.isArray(_r)?_r[xr]:_r,nr.globals.radarPolygons.fill.colors[xr]);ir.add(Sr)})),dr.forEach((function(fr){ir.add(fr)})),nr.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(fr,xr){var yr=rr.drawYAxisTexts(fr.x,fr.y,xr,sr[xr]);er.yaxisLabels.add(yr)}))}},{key:"drawXAxisTexts",value:function(){var Hn=this,er=this.w,nr=er.config.xaxis.labels,ir=this.graphics.group({class:"apexcharts-xaxis"}),rr=v$1.getPolygonPos(this.size,this.dataPointsLen);return er.globals.labels.forEach((function(sr,ar){var or=er.config.xaxis.labels.formatter,lr=new qi$1(Hn.ctx);if(rr[ar]){var cr=Hn.getTextPos(rr[ar],Hn.size),ur=or(sr,{seriesIndex:-1,dataPointIndex:ar,w:er});lr.plotDataLabelsText({x:cr.newX,y:cr.newY,text:ur,textAnchor:cr.textAnchor,i:ar,j:ar,parent:ir,className:"apexcharts-xaxis-label",color:Array.isArray(nr.style.colors)&&nr.style.colors[ar]?nr.style.colors[ar]:"#a8a8a8",dataLabelsConfig:u$2({textAnchor:cr.textAnchor,dropShadow:{enabled:!1}},nr),offsetCorrection:!1}).on("click",(function(dr){if(typeof er.config.chart.events.xAxisLabelClick=="function"){var fr=Object.assign({},er,{labelIndex:ar});er.config.chart.events.xAxisLabelClick(dr,Hn.ctx,fr)}}))}})),ir}},{key:"createPaths",value:function(Hn,er){var nr=this,ir=[],rr=[],sr=[],ar=[];if(Hn.length){rr=[this.graphics.move(er.x,er.y)],ar=[this.graphics.move(er.x,er.y)];var or=this.graphics.move(Hn[0].x,Hn[0].y),lr=this.graphics.move(Hn[0].x,Hn[0].y);Hn.forEach((function(cr,ur){or+=nr.graphics.line(cr.x,cr.y),lr+=nr.graphics.line(cr.x,cr.y),ur===Hn.length-1&&(or+="Z",lr+="Z")})),ir.push(or),sr.push(lr)}return{linePathsFrom:rr,linePathsTo:ir,areaPathsFrom:ar,areaPathsTo:sr}}},{key:"getTextPos",value:function(Hn,er){var nr="middle",ir=Hn.x,rr=Hn.y;return Math.abs(Hn.x)>=10?Hn.x>0?(nr="start",ir+=10):Hn.x<0&&(nr="end",ir-=10):nr="middle",Math.abs(Hn.y)>=er-10&&(Hn.y<0?rr-=10:Hn.y>0&&(rr+=10)),{textAnchor:nr,newX:ir,newY:rr}}},{key:"getPreviousPath",value:function(Hn){for(var er=this.w,nr=null,ir=0;ir<er.globals.previousPaths.length;ir++){var rr=er.globals.previousPaths[ir];rr.paths.length>0&&parseInt(rr.realIndex,10)===parseInt(Hn,10)&&er.globals.previousPaths[ir].paths[0]!==void 0&&(nr=er.globals.previousPaths[ir].paths[0].d)}return nr}},{key:"getDataPointsPos",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;Hn=Hn||[],er=er||[];for(var ir=[],rr=0;rr<nr;rr++){var sr={};sr.x=Hn[rr]*Math.sin(er[rr]),sr.y=-Hn[rr]*Math.cos(er[rr]),ir.push(sr)}return ir}}]),tr})(),Oa=(function(tr){h$3(er,Ya);var Hn=n(er);function er(nr){var ir;i$1(this,er),(ir=Hn.call(this,nr)).ctx=nr,ir.w=nr.w,ir.animBeginArr=[0],ir.animDur=0;var rr=ir.w;return ir.startAngle=rr.config.plotOptions.radialBar.startAngle,ir.endAngle=rr.config.plotOptions.radialBar.endAngle,ir.totalAngle=Math.abs(rr.config.plotOptions.radialBar.endAngle-rr.config.plotOptions.radialBar.startAngle),ir.trackStartAngle=rr.config.plotOptions.radialBar.track.startAngle,ir.trackEndAngle=rr.config.plotOptions.radialBar.track.endAngle,ir.barLabels=ir.w.config.plotOptions.radialBar.barLabels,ir.donutDataLabels=ir.w.config.plotOptions.radialBar.dataLabels,ir.radialDataLabels=ir.donutDataLabels,ir.trackStartAngle||(ir.trackStartAngle=ir.startAngle),ir.trackEndAngle||(ir.trackEndAngle=ir.endAngle),ir.endAngle===360&&(ir.endAngle=359.99),ir.margin=parseInt(rr.config.plotOptions.radialBar.track.margin,10),ir.onBarLabelClick=ir.onBarLabelClick.bind(e$1(ir)),ir}return s$1(er,[{key:"draw",value:function(nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=rr.group({class:"apexcharts-radialbar"});if(ir.globals.noData)return sr;var ar=rr.group(),or=this.defaultSize/2,lr=ir.globals.gridWidth/2,cr=this.defaultSize/2.05;ir.config.chart.sparkline.enabled||(cr=cr-ir.config.stroke.width-ir.config.chart.dropShadow.blur);var ur=ir.globals.fill.colors;if(ir.config.plotOptions.radialBar.track.show){var dr=this.drawTracks({size:cr,centerX:lr,centerY:or,colorArr:ur,series:nr});ar.add(dr)}var fr=this.drawArcs({size:cr,centerX:lr,centerY:or,colorArr:ur,series:nr}),xr=360;ir.config.plotOptions.radialBar.startAngle<0&&(xr=this.totalAngle);var yr=(360-xr)/360;if(ir.globals.radialSize=cr-cr*yr,this.radialDataLabels.value.show){var _r=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);ir.globals.radialSize+=_r*yr}return ar.add(fr.g),ir.config.plotOptions.radialBar.hollow.position==="front"&&(fr.g.add(fr.elHollow),fr.dataLabels&&fr.g.add(fr.dataLabels)),sr.add(ar),sr}},{key:"drawTracks",value:function(nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=rr.group({class:"apexcharts-tracks"}),ar=new Li$1(this.ctx),or=new ji$1(this.ctx),lr=this.getStrokeWidth(nr);nr.size=nr.size-lr/2;for(var cr=0;cr<nr.series.length;cr++){var ur=rr.group({class:"apexcharts-radialbar-track apexcharts-track"});sr.add(ur),ur.attr({rel:cr+1}),nr.size=nr.size-lr-this.margin;var dr=ir.config.plotOptions.radialBar.track,fr=or.fillPath({seriesNumber:0,size:nr.size,fillColors:Array.isArray(dr.background)?dr.background[cr]:dr.background,solid:!0}),xr=this.trackStartAngle,yr=this.trackEndAngle;Math.abs(yr)+Math.abs(xr)>=360&&(yr=360-Math.abs(this.startAngle)-.1);var _r=rr.drawPath({d:"",stroke:fr,strokeWidth:lr*parseInt(dr.strokeWidth,10)/100,fill:"none",strokeOpacity:dr.opacity,classes:"apexcharts-radialbar-area"});if(dr.dropShadow.enabled){var Sr=dr.dropShadow;ar.dropShadow(_r,Sr)}ur.add(_r),_r.attr("id","apexcharts-radialbarTrack-"+cr),this.animatePaths(_r,{centerX:nr.centerX,centerY:nr.centerY,endAngle:yr,startAngle:xr,size:nr.size,i:cr,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return sr}},{key:"drawArcs",value:function(nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=new ji$1(this.ctx),ar=new Li$1(this.ctx),or=rr.group(),lr=this.getStrokeWidth(nr);nr.size=nr.size-lr/2;var cr=ir.config.plotOptions.radialBar.hollow.background,ur=nr.size-lr*nr.series.length-this.margin*nr.series.length-lr*parseInt(ir.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,dr=ur-ir.config.plotOptions.radialBar.hollow.margin;ir.config.plotOptions.radialBar.hollow.image!==void 0&&(cr=this.drawHollowImage(nr,or,ur,cr));var fr=this.drawHollow({size:dr,centerX:nr.centerX,centerY:nr.centerY,fill:cr||"transparent"});if(ir.config.plotOptions.radialBar.hollow.dropShadow.enabled){var xr=ir.config.plotOptions.radialBar.hollow.dropShadow;ar.dropShadow(fr,xr)}var yr=1;!this.radialDataLabels.total.show&&ir.globals.series.length>1&&(yr=0);var _r=null;if(this.radialDataLabels.show){var Sr=ir.globals.dom.Paper.findOne(".apexcharts-datalabels-group");_r=this.renderInnerDataLabels(Sr,this.radialDataLabels,{hollowSize:ur,centerX:nr.centerX,centerY:nr.centerY,opacity:yr})}ir.config.plotOptions.radialBar.hollow.position==="back"&&(or.add(fr),_r&&or.add(_r));var jr=!1;ir.config.plotOptions.radialBar.inverseOrder&&(jr=!0);for(var Dr=jr?nr.series.length-1:0;jr?Dr>=0:Dr<nr.series.length;jr?Dr--:Dr++){var Ir=rr.group({class:"apexcharts-series apexcharts-radial-series",seriesName:v$1.escapeString(ir.globals.seriesNames[Dr])});or.add(Ir),Ir.attr({rel:Dr+1,"data:realIndex":Dr}),this.ctx.series.addCollapsedClassToSeries(Ir,Dr),nr.size=nr.size-lr-this.margin;var Mr=sr.fillPath({seriesNumber:Dr,size:nr.size,value:nr.series[Dr]}),Or=this.startAngle,Lr=void 0,Fr=v$1.negToZero(nr.series[Dr]>100?100:nr.series[Dr])/100,Vr=Math.round(this.totalAngle*Fr)+this.startAngle,Zr=void 0;ir.globals.dataChanged&&(Lr=this.startAngle,Zr=Math.round(this.totalAngle*v$1.negToZero(ir.globals.previousPaths[Dr])/100)+Lr),Math.abs(Vr)+Math.abs(Or)>360&&(Vr-=.01),Math.abs(Zr)+Math.abs(Lr)>360&&(Zr-=.01);var Hr=Vr-Or,Yr=Array.isArray(ir.config.stroke.dashArray)?ir.config.stroke.dashArray[Dr]:ir.config.stroke.dashArray,eo=rr.drawPath({d:"",stroke:Mr,strokeWidth:lr,fill:"none",fillOpacity:ir.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Dr,strokeDashArray:Yr});if(Mi$1.setAttrs(eo.node,{"data:angle":Hr,"data:value":nr.series[Dr]}),ir.config.chart.dropShadow.enabled){var io=ir.config.chart.dropShadow;ar.dropShadow(eo,io,Dr)}if(ar.setSelectionFilter(eo,0,Dr),this.addListeners(eo,this.radialDataLabels),Ir.add(eo),eo.attr({index:0,j:Dr}),this.barLabels.enabled){var uo=v$1.polarToCartesian(nr.centerX,nr.centerY,nr.size,Or),so=this.barLabels.formatter(ir.globals.seriesNames[Dr],{seriesIndex:Dr,w:ir}),no=["apexcharts-radialbar-label"];this.barLabels.onClick||no.push("apexcharts-no-click");var po=this.barLabels.useSeriesColors?ir.globals.colors[Dr]:ir.config.chart.foreColor;po||(po=ir.config.chart.foreColor);var co=uo.x+this.barLabels.offsetX,lo=uo.y+this.barLabels.offsetY,ao=rr.drawText({x:co,y:lo,text:so,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:po,cssClass:no.join(" ")});ao.on("click",this.onBarLabelClick),ao.attr({rel:Dr+1}),Or!==0&&ao.attr({"transform-origin":"".concat(co," ").concat(lo),transform:"rotate(".concat(Or," 0 0)")}),Ir.add(ao)}var xo=0;!this.initialAnim||ir.globals.resized||ir.globals.dataChanged||(xo=ir.config.chart.animations.speed),ir.globals.dataChanged&&(xo=ir.config.chart.animations.dynamicAnimation.speed),this.animDur=xo/(1.2*nr.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(eo,{centerX:nr.centerX,centerY:nr.centerY,endAngle:Vr,startAngle:Or,prevEndAngle:Zr,prevStartAngle:Lr,size:nr.size,i:Dr,totalItems:2,animBeginArr:this.animBeginArr,dur:xo,shouldSetPrevPaths:!0})}return{g:or,elHollow:fr,dataLabels:_r}}},{key:"drawHollow",value:function(nr){var ir=new Mi$1(this.ctx).drawCircle(2*nr.size);return ir.attr({class:"apexcharts-radialbar-hollow",cx:nr.centerX,cy:nr.centerY,r:nr.size,fill:nr.fill}),ir}},{key:"drawHollowImage",value:function(nr,ir,rr,sr){var ar=this.w,or=new ji$1(this.ctx),lr=v$1.randomId(),cr=ar.config.plotOptions.radialBar.hollow.image;if(ar.config.plotOptions.radialBar.hollow.imageClipped)or.clippedImgArea({width:rr,height:rr,image:cr,patternID:"pattern".concat(ar.globals.cuid).concat(lr)}),sr="url(#pattern".concat(ar.globals.cuid).concat(lr,")");else{var ur=ar.config.plotOptions.radialBar.hollow.imageWidth,dr=ar.config.plotOptions.radialBar.hollow.imageHeight;if(ur===void 0&&dr===void 0){var fr=ar.globals.dom.Paper.image(cr,(function(yr){this.move(nr.centerX-yr.width/2+ar.config.plotOptions.radialBar.hollow.imageOffsetX,nr.centerY-yr.height/2+ar.config.plotOptions.radialBar.hollow.imageOffsetY)}));ir.add(fr)}else{var xr=ar.globals.dom.Paper.image(cr,(function(yr){this.move(nr.centerX-ur/2+ar.config.plotOptions.radialBar.hollow.imageOffsetX,nr.centerY-dr/2+ar.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(ur,dr)}));ir.add(xr)}}return sr}},{key:"getStrokeWidth",value:function(nr){var ir=this.w;return nr.size*(100-parseInt(ir.config.plotOptions.radialBar.hollow.size,10))/100/(nr.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(nr){var ir=parseInt(nr.target.getAttribute("rel"),10)-1,rr=this.barLabels.onClick,sr=this.w;rr&&rr(sr.globals.seriesNames[ir],{w:sr,seriesIndex:ir})}}]),er})(),Fa=(function(tr){h$3(er,Ia);var Hn=n(er);function er(){return i$1(this,er),Hn.apply(this,arguments)}return s$1(er,[{key:"draw",value:function(nr,ir){var rr=this.w,sr=new Mi$1(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=nr,this.seriesRangeStart=rr.globals.seriesRangeStart,this.seriesRangeEnd=rr.globals.seriesRangeEnd,this.barHelpers.initVariables(nr);for(var ar=sr.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),or=0;or<nr.length;or++){var lr,cr,ur,dr,fr=void 0,xr=void 0,yr=rr.globals.comboCharts?ir[or]:or,_r=this.barHelpers.getGroupIndex(yr).columnGroupIndex,Sr=sr.group({class:"apexcharts-series",seriesName:v$1.escapeString(rr.globals.seriesNames[yr]),rel:or+1,"data:realIndex":yr});this.ctx.series.addCollapsedClassToSeries(Sr,yr),nr[or].length>0&&(this.visibleI=this.visibleI+1);var jr=0,Dr=0,Ir=0;this.yRatio.length>1&&(this.yaxisIndex=rr.globals.seriesYAxisReverseMap[yr][0],Ir=yr);var Mr=this.barHelpers.initialPositions(yr);xr=Mr.y,dr=Mr.zeroW,fr=Mr.x,Dr=Mr.barWidth,jr=Mr.barHeight,lr=Mr.xDivision,cr=Mr.yDivision,ur=Mr.zeroH;for(var Or=sr.group({class:"apexcharts-datalabels","data:realIndex":yr}),Lr=sr.group({class:"apexcharts-rangebar-goals-markers"}),Fr=0;Fr<rr.globals.dataPoints;Fr++){var Vr=this.barHelpers.getStrokeWidth(or,Fr,yr),Zr=this.seriesRangeStart[or][Fr],Hr=this.seriesRangeEnd[or][Fr],Yr=null,eo=null,io=null,uo={x:fr,y:xr,strokeWidth:Vr,elSeries:Sr},so=this.seriesLen;if(rr.config.plotOptions.bar.rangeBarGroupRows&&(so=1),rr.config.series[or].data[Fr]===void 0)break;if(this.isHorizontal){io=xr+jr*this.visibleI;var no=(cr-jr*so)/2;if(rr.config.series[or].data[Fr].x){var po=this.detectOverlappingBars({i:or,j:Fr,barYPosition:io,srty:no,barHeight:jr,yDivision:cr,initPositions:Mr});jr=po.barHeight,io=po.barYPosition}Dr=(Yr=this.drawRangeBarPaths(u$2({indexes:{i:or,j:Fr,realIndex:yr},barHeight:jr,barYPosition:io,zeroW:dr,yDivision:cr,y1:Zr,y2:Hr},uo))).barWidth}else{rr.globals.isXNumeric&&(fr=(rr.globals.seriesX[or][Fr]-rr.globals.minX)/this.xRatio-Dr/2),eo=fr+Dr*this.visibleI;var co=(lr-Dr*so)/2;if(rr.config.series[or].data[Fr].x){var lo=this.detectOverlappingBars({i:or,j:Fr,barXPosition:eo,srtx:co,barWidth:Dr,xDivision:lr,initPositions:Mr});Dr=lo.barWidth,eo=lo.barXPosition}jr=(Yr=this.drawRangeColumnPaths(u$2({indexes:{i:or,j:Fr,realIndex:yr,translationsIndex:Ir},barWidth:Dr,barXPosition:eo,zeroH:ur,xDivision:lr},uo))).barHeight}var ao=this.barHelpers.drawGoalLine({barXPosition:Yr.barXPosition,barYPosition:io,goalX:Yr.goalX,goalY:Yr.goalY,barHeight:jr,barWidth:Dr});ao&&Lr.add(ao),xr=Yr.y,fr=Yr.x;var xo=this.barHelpers.getPathFillColor(nr,or,Fr,yr);this.renderSeries({realIndex:yr,pathFill:xo.color,lineFill:xo.useRangeColor?xo.color:rr.globals.stroke.colors[yr],j:Fr,i:or,x:fr,y:xr,y1:Zr,y2:Hr,pathFrom:Yr.pathFrom,pathTo:Yr.pathTo,strokeWidth:Vr,elSeries:Sr,series:nr,barHeight:jr,barWidth:Dr,barXPosition:eo,barYPosition:io,columnGroupIndex:_r,elDataLabelsWrap:Or,elGoalsMarkers:Lr,visibleSeries:this.visibleI,type:"rangebar"})}ar.add(Sr)}return ar}},{key:"detectOverlappingBars",value:function(nr){var ir=nr.i,rr=nr.j,sr=nr.barYPosition,ar=nr.barXPosition,or=nr.srty,lr=nr.srtx,cr=nr.barHeight,ur=nr.barWidth,dr=nr.yDivision,fr=nr.xDivision,xr=nr.initPositions,yr=this.w,_r=[],Sr=yr.config.series[ir].data[rr].rangeName,jr=yr.config.series[ir].data[rr].x,Dr=Array.isArray(jr)?jr.join(" "):jr,Ir=yr.globals.labels.map((function(Or){return Array.isArray(Or)?Or.join(" "):Or})).indexOf(Dr),Mr=yr.globals.seriesRange[ir].findIndex((function(Or){return Or.x===Dr&&Or.overlaps.length>0}));return this.isHorizontal?(sr=yr.config.plotOptions.bar.rangeBarGroupRows?or+dr*Ir:or+cr*this.visibleI+dr*Ir,Mr>-1&&!yr.config.plotOptions.bar.rangeBarOverlap&&(_r=yr.globals.seriesRange[ir][Mr].overlaps).indexOf(Sr)>-1&&(sr=(cr=xr.barHeight/_r.length)*this.visibleI+dr*(100-parseInt(this.barOptions.barHeight,10))/100/2+cr*(this.visibleI+_r.indexOf(Sr))+dr*Ir)):(Ir>-1&&!yr.globals.timescaleLabels.length&&(ar=yr.config.plotOptions.bar.rangeBarGroupRows?lr+fr*Ir:lr+ur*this.visibleI+fr*Ir),Mr>-1&&!yr.config.plotOptions.bar.rangeBarOverlap&&(_r=yr.globals.seriesRange[ir][Mr].overlaps).indexOf(Sr)>-1&&(ar=(ur=xr.barWidth/_r.length)*this.visibleI+fr*(100-parseInt(this.barOptions.barWidth,10))/100/2+ur*(this.visibleI+_r.indexOf(Sr))+fr*Ir)),{barYPosition:sr,barXPosition:ar,barHeight:cr,barWidth:ur}}},{key:"drawRangeColumnPaths",value:function(nr){var ir=nr.indexes,rr=nr.x,sr=nr.xDivision,ar=nr.barWidth,or=nr.barXPosition,lr=nr.zeroH,cr=this.w,ur=ir.i,dr=ir.j,fr=ir.realIndex,xr=ir.translationsIndex,yr=this.yRatio[xr],_r=this.getRangeValue(fr,dr),Sr=Math.min(_r.start,_r.end),jr=Math.max(_r.start,_r.end);this.series[ur][dr]===void 0||this.series[ur][dr]===null?Sr=lr:(Sr=lr-Sr/yr,jr=lr-jr/yr);var Dr=Math.abs(jr-Sr),Ir=this.barHelpers.getColumnPaths({barXPosition:or,barWidth:ar,y1:Sr,y2:jr,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:fr,i:fr,j:dr,w:cr});if(cr.globals.isXNumeric){var Mr=this.getBarXForNumericXAxis({x:rr,j:dr,realIndex:fr,barWidth:ar});rr=Mr.x,or=Mr.barXPosition}else rr+=sr;return{pathTo:Ir.pathTo,pathFrom:Ir.pathFrom,barHeight:Dr,x:rr,y:_r.start<0&&_r.end<0?Sr:jr,goalY:this.barHelpers.getGoalValues("y",null,lr,ur,dr,xr),barXPosition:or}}},{key:"preventBarOverflow",value:function(nr){var ir=this.w;return nr<0&&(nr=0),nr>ir.globals.gridWidth&&(nr=ir.globals.gridWidth),nr}},{key:"drawRangeBarPaths",value:function(nr){var ir=nr.indexes,rr=nr.y,sr=nr.y1,ar=nr.y2,or=nr.yDivision,lr=nr.barHeight,cr=nr.barYPosition,ur=nr.zeroW,dr=this.w,fr=ir.realIndex,xr=ir.j,yr=this.preventBarOverflow(ur+sr/this.invertedYRatio),_r=this.preventBarOverflow(ur+ar/this.invertedYRatio),Sr=this.getRangeValue(fr,xr),jr=Math.abs(_r-yr),Dr=this.barHelpers.getBarpaths({barYPosition:cr,barHeight:lr,x1:yr,x2:_r,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:fr,realIndex:fr,j:xr,w:dr});return dr.globals.isXNumeric||(rr+=or),{pathTo:Dr.pathTo,pathFrom:Dr.pathFrom,barWidth:jr,x:Sr.start<0&&Sr.end<0?yr:_r,goalX:this.barHelpers.getGoalValues("x",ur,null,fr,xr),y:rr}}},{key:"getRangeValue",value:function(nr,ir){var rr=this.w;return{start:rr.globals.seriesRangeStart[nr][ir],end:rr.globals.seriesRangeEnd[nr][ir]}}}]),er})(),Da=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.lineCtx=Hn}return s$1(tr,[{key:"sameValueSeriesFix",value:function(Hn,er){var nr=this.w;if((nr.config.fill.type==="gradient"||nr.config.fill.type[Hn]==="gradient")&&new Pi$1(this.lineCtx.ctx,nr).seriesHaveSameValues(Hn)){var ir=er[Hn].slice();ir[ir.length-1]=ir[ir.length-1]+1e-6,er[Hn]=ir}return er}},{key:"calculatePoints",value:function(Hn){var er=Hn.series,nr=Hn.realIndex,ir=Hn.x,rr=Hn.y,sr=Hn.i,ar=Hn.j,or=Hn.prevY,lr=this.w,cr=[],ur=[],dr=this.lineCtx.categoryAxisCorrection+lr.config.markers.offsetX;return lr.globals.isXNumeric&&(dr=(lr.globals.seriesX[nr][0]-lr.globals.minX)/this.lineCtx.xRatio+lr.config.markers.offsetX),ar===0&&(cr.push(dr),ur.push(v$1.isNumber(er[sr][0])?or+lr.config.markers.offsetY:null)),cr.push(ir+lr.config.markers.offsetX),ur.push(v$1.isNumber(er[sr][ar+1])?rr+lr.config.markers.offsetY:null),{x:cr,y:ur}}},{key:"checkPreviousPaths",value:function(Hn){for(var er=Hn.pathFromLine,nr=Hn.pathFromArea,ir=Hn.realIndex,rr=this.w,sr=0;sr<rr.globals.previousPaths.length;sr++){var ar=rr.globals.previousPaths[sr];(ar.type==="line"||ar.type==="area")&&ar.paths.length>0&&parseInt(ar.realIndex,10)===parseInt(ir,10)&&(ar.type==="line"?(this.lineCtx.appendPathFrom=!1,er=rr.globals.previousPaths[sr].paths[0].d):ar.type==="area"&&(this.lineCtx.appendPathFrom=!1,nr=rr.globals.previousPaths[sr].paths[0].d,rr.config.stroke.show&&rr.globals.previousPaths[sr].paths[1]&&(er=rr.globals.previousPaths[sr].paths[1].d)))}return{pathFromLine:er,pathFromArea:nr}}},{key:"determineFirstPrevY",value:function(Hn){var er,nr,ir,rr=Hn.i,sr=Hn.realIndex,ar=Hn.series,or=Hn.prevY,lr=Hn.lineYPosition,cr=Hn.translationsIndex,ur=this.w,dr=ur.config.chart.stacked&&!ur.globals.comboCharts||ur.config.chart.stacked&&ur.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((er=this.w.config.series[sr])===null||er===void 0?void 0:er.type)==="bar"||((nr=this.w.config.series[sr])===null||nr===void 0?void 0:nr.type)==="column");if(((ir=ar[rr])===null||ir===void 0?void 0:ir[0])!==void 0)or=(lr=dr&&rr>0?this.lineCtx.prevSeriesY[rr-1][0]:this.lineCtx.zeroY)-ar[rr][0]/this.lineCtx.yRatio[cr]+2*(this.lineCtx.isReversed?ar[rr][0]/this.lineCtx.yRatio[cr]:0);else if(dr&&rr>0&&ar[rr][0]===void 0){for(var fr=rr-1;fr>=0;fr--)if(ar[fr][0]!==null&&ar[fr][0]!==void 0){or=lr=this.lineCtx.prevSeriesY[fr][0];break}}return{prevY:or,lineYPosition:lr}}}]),tr})(),_a=function(tr){for(var Hn,er,nr,ir,rr=(function(cr){for(var ur=[],dr=cr[0],fr=cr[1],xr=ur[0]=Ba(dr,fr),yr=1,_r=cr.length-1;yr<_r;yr++)dr=fr,fr=cr[yr+1],ur[yr]=.5*(xr+(xr=Ba(dr,fr)));return ur[yr]=xr,ur})(tr),sr=tr.length-1,ar=[],or=0;or<sr;or++)nr=Ba(tr[or],tr[or+1]),Math.abs(nr)<1e-6?rr[or]=rr[or+1]=0:(ir=(Hn=rr[or]/nr)*Hn+(er=rr[or+1]/nr)*er)>9&&(ir=3*nr/Math.sqrt(ir),rr[or]=ir*Hn,rr[or+1]=ir*er);for(var lr=0;lr<=sr;lr++)ir=(tr[Math.min(sr,lr+1)][0]-tr[Math.max(0,lr-1)][0])/(6*(1+rr[lr]*rr[lr])),ar.push([ir||0,rr[lr]*ir||0]);return ar},Na=function(tr){var Hn=_a(tr),er=tr[1],nr=tr[0],ir=[],rr=Hn[1],sr=Hn[0];ir.push(nr,[nr[0]+sr[0],nr[1]+sr[1],er[0]-rr[0],er[1]-rr[1],er[0],er[1]]);for(var ar=2,or=Hn.length;ar<or;ar++){var lr=tr[ar],cr=Hn[ar];ir.push([lr[0]-cr[0],lr[1]-cr[1],lr[0],lr[1]])}return ir},Wa=function(tr,Hn,er){var nr=tr.slice(Hn,er);if(Hn){if(er-Hn>1&&nr[1].length<6){var ir=nr[0].length;nr[1]=[2*nr[0][ir-2]-nr[0][ir-4],2*nr[0][ir-1]-nr[0][ir-3]].concat(nr[1])}nr[0]=nr[0].slice(-2)}return nr};function Ba(tr,Hn){return(Hn[1]-tr[1])/(Hn[0]-tr[0])}var Ga=(function(){function tr(Hn,er,nr){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.xyRatios=er,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||nr,this.scatter=new Ui$1(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Da(this),this.markers=new Vi$1(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return s$1(tr,[{key:"draw",value:function(Hn,er,nr,ir){var rr,sr=this.w,ar=new Mi$1(this.ctx),or=sr.globals.comboCharts?er:sr.config.chart.type,lr=ar.group({class:"apexcharts-".concat(or,"-series apexcharts-plot-series")}),cr=new Pi$1(this.ctx,sr);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,Hn=cr.getLogSeries(Hn),this.yRatio=cr.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var ur=[],dr=0;dr<Hn.length;dr++){Hn=this.lineHelpers.sameValueSeriesFix(dr,Hn);var fr=sr.globals.comboCharts?nr[dr]:dr,xr=this.yRatio.length>1?fr:0;this._initSerieVariables(Hn,dr,fr);var yr=[],_r=[],Sr=[],jr=sr.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,fr),sr.globals.isXNumeric&&sr.globals.seriesX.length>0&&(jr=(sr.globals.seriesX[fr][0]-sr.globals.minX)/this.xRatio),Sr.push(jr);var Dr,Ir=jr,Mr=void 0,Or=Ir,Lr=this.zeroY,Fr=this.zeroY;Lr=this.lineHelpers.determineFirstPrevY({i:dr,realIndex:fr,series:Hn,prevY:Lr,lineYPosition:0,translationsIndex:xr}).prevY,sr.config.stroke.curve==="monotoneCubic"&&Hn[dr][0]===null?yr.push(null):yr.push(Lr),Dr=Lr,or==="rangeArea"&&(Mr=Fr=this.lineHelpers.determineFirstPrevY({i:dr,realIndex:fr,series:ir,prevY:Fr,lineYPosition:0,translationsIndex:xr}).prevY,_r.push(yr[0]!==null?Fr:null));var Vr=this._calculatePathsFrom({type:or,series:Hn,i:dr,realIndex:fr,translationsIndex:xr,prevX:Or,prevY:Lr,prevY2:Fr}),Zr=[yr[0]],Hr=[_r[0]],Yr={type:or,series:Hn,realIndex:fr,translationsIndex:xr,i:dr,x:jr,y:1,pX:Ir,pY:Dr,pathsFrom:Vr,linePaths:[],areaPaths:[],seriesIndex:nr,lineYPosition:0,xArrj:Sr,yArrj:yr,y2Arrj:_r,seriesRangeEnd:ir},eo=this._iterateOverDataPoints(u$2(u$2({},Yr),{},{iterations:or==="rangeArea"?Hn[dr].length-1:void 0,isRangeStart:!0}));if(or==="rangeArea"){for(var io=this._calculatePathsFrom({series:ir,i:dr,realIndex:fr,prevX:Or,prevY:Fr}),uo=this._iterateOverDataPoints(u$2(u$2({},Yr),{},{series:ir,xArrj:[jr],yArrj:Zr,y2Arrj:Hr,pY:Mr,areaPaths:eo.areaPaths,pathsFrom:io,iterations:ir[dr].length-1,isRangeStart:!1})),so=eo.linePaths.length/2,no=0;no<so;no++)eo.linePaths[no]=uo.linePaths[no+so]+eo.linePaths[no];eo.linePaths.splice(so),eo.pathFromLine=uo.pathFromLine+eo.pathFromLine}else eo.pathFromArea+="z";this._handlePaths({type:or,realIndex:fr,i:dr,paths:eo}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),ur.push(this.elSeries)}if(((rr=sr.config.series[0])===null||rr===void 0?void 0:rr.zIndex)!==void 0&&ur.sort((function(lo,ao){return Number(lo.node.getAttribute("zIndex"))-Number(ao.node.getAttribute("zIndex"))})),sr.config.chart.stacked)for(var po=ur.length-1;po>=0;po--)lr.add(ur[po]);else for(var co=0;co<ur.length;co++)lr.add(ur[co]);return lr}},{key:"_initSerieVariables",value:function(Hn,er,nr){var ir=this.w,rr=new Mi$1(this.ctx);this.xDivision=ir.globals.gridWidth/(ir.globals.dataPoints-(ir.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(ir.config.stroke.width)?ir.config.stroke.width[nr]:ir.config.stroke.width;var sr=0;if(this.yRatio.length>1&&(this.yaxisIndex=ir.globals.seriesYAxisReverseMap[nr],sr=nr),this.isReversed=ir.config.yaxis[this.yaxisIndex]&&ir.config.yaxis[this.yaxisIndex].reversed,this.zeroY=ir.globals.gridHeight-this.baseLineY[sr]-(this.isReversed?ir.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[sr]:0),this.areaBottomY=this.zeroY,(this.zeroY>ir.globals.gridHeight||ir.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=ir.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=rr.group({class:"apexcharts-series",zIndex:ir.config.series[nr].zIndex!==void 0?ir.config.series[nr].zIndex:nr,seriesName:v$1.escapeString(ir.globals.seriesNames[nr])}),this.elPointsMain=rr.group({class:"apexcharts-series-markers-wrap","data:realIndex":nr}),ir.globals.hasNullValues){var ar=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[ir.globals.gridHeight+ir.globals.markers.largestSize]},seriesIndex:er,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});ar!==null&&this.elPointsMain.add(ar)}this.elDataLabelsWrap=rr.group({class:"apexcharts-datalabels","data:realIndex":nr});var or=Hn[er].length===ir.globals.dataPoints;this.elSeries.attr({"data:longestSeries":or,rel:er+1,"data:realIndex":nr}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(Hn){var er,nr,ir,rr,sr=Hn.type,ar=Hn.series,or=Hn.i,lr=Hn.realIndex,cr=Hn.translationsIndex,ur=Hn.prevX,dr=Hn.prevY,fr=Hn.prevY2,xr=this.w,yr=new Mi$1(this.ctx);if(ar[or][0]===null){for(var _r=0;_r<ar[or].length;_r++)if(ar[or][_r]!==null){ur=this.xDivision*_r,dr=this.zeroY-ar[or][_r]/this.yRatio[cr],er=yr.move(ur,dr),nr=yr.move(ur,this.areaBottomY);break}}else er=yr.move(ur,dr),sr==="rangeArea"&&(er=yr.move(ur,fr)+yr.line(ur,dr)),nr=yr.move(ur,this.areaBottomY)+yr.line(ur,dr);if(ir=yr.move(0,this.areaBottomY)+yr.line(0,this.areaBottomY),rr=yr.move(0,this.areaBottomY)+yr.line(0,this.areaBottomY),xr.globals.previousPaths.length>0){var Sr=this.lineHelpers.checkPreviousPaths({pathFromLine:ir,pathFromArea:rr,realIndex:lr});ir=Sr.pathFromLine,rr=Sr.pathFromArea}return{prevX:ur,prevY:dr,linePath:er,areaPath:nr,pathFromLine:ir,pathFromArea:rr}}},{key:"_handlePaths",value:function(Hn){var er=Hn.type,nr=Hn.realIndex,ir=Hn.i,rr=Hn.paths,sr=this.w,ar=new Mi$1(this.ctx),or=new ji$1(this.ctx);this.prevSeriesY.push(rr.yArrj),sr.globals.seriesXvalues[nr]=rr.xArrj,sr.globals.seriesYvalues[nr]=rr.yArrj;var lr=sr.config.forecastDataPoints;if(lr.count>0&&er!=="rangeArea"){var cr=sr.globals.seriesXvalues[nr][sr.globals.seriesXvalues[nr].length-lr.count-1],ur=ar.drawRect(cr,0,sr.globals.gridWidth,sr.globals.gridHeight,0);sr.globals.dom.elForecastMask.appendChild(ur.node);var dr=ar.drawRect(0,0,cr,sr.globals.gridHeight,0);sr.globals.dom.elNonForecastMask.appendChild(dr.node)}this.pointsChart||sr.globals.delayedElements.push({el:this.elPointsMain.node,index:nr});var fr={i:ir,realIndex:nr,animationDelay:ir,initialSpeed:sr.config.chart.animations.speed,dataChangeSpeed:sr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(er)};if(er==="area")for(var xr=or.fillPath({seriesNumber:nr}),yr=0;yr<rr.areaPaths.length;yr++){var _r=ar.renderPaths(u$2(u$2({},fr),{},{pathFrom:rr.pathFromArea,pathTo:rr.areaPaths[yr],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:xr}));this.elSeries.add(_r)}if(sr.config.stroke.show&&!this.pointsChart){var Sr=null;if(er==="line")Sr=or.fillPath({seriesNumber:nr,i:ir});else if(sr.config.stroke.fill.type==="solid")Sr=sr.globals.stroke.colors[nr];else{var jr=sr.config.fill;sr.config.fill=sr.config.stroke.fill,Sr=or.fillPath({seriesNumber:nr,i:ir}),sr.config.fill=jr}for(var Dr=0;Dr<rr.linePaths.length;Dr++){var Ir=Sr;er==="rangeArea"&&(Ir=or.fillPath({seriesNumber:nr}));var Mr=u$2(u$2({},fr),{},{pathFrom:rr.pathFromLine,pathTo:rr.linePaths[Dr],stroke:Sr,strokeWidth:this.strokeWidth,strokeLineCap:sr.config.stroke.lineCap,fill:er==="rangeArea"?Ir:"none"}),Or=ar.renderPaths(Mr);if(this.elSeries.add(Or),Or.attr("fill-rule","evenodd"),lr.count>0&&er!=="rangeArea"){var Lr=ar.renderPaths(Mr);Lr.node.setAttribute("stroke-dasharray",lr.dashArray),lr.strokeWidth&&Lr.node.setAttribute("stroke-width",lr.strokeWidth),this.elSeries.add(Lr),Lr.attr("clip-path","url(#forecastMask".concat(sr.globals.cuid,")")),Or.attr("clip-path","url(#nonForecastMask".concat(sr.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(Hn){var er,nr,ir=this,rr=Hn.type,sr=Hn.series,ar=Hn.iterations,or=Hn.realIndex,lr=Hn.translationsIndex,cr=Hn.i,ur=Hn.x,dr=Hn.y,fr=Hn.pX,xr=Hn.pY,yr=Hn.pathsFrom,_r=Hn.linePaths,Sr=Hn.areaPaths,jr=Hn.seriesIndex,Dr=Hn.lineYPosition,Ir=Hn.xArrj,Mr=Hn.yArrj,Or=Hn.y2Arrj,Lr=Hn.isRangeStart,Fr=Hn.seriesRangeEnd,Vr=this.w,Zr=new Mi$1(this.ctx),Hr=this.yRatio,Yr=yr.prevY,eo=yr.linePath,io=yr.areaPath,uo=yr.pathFromLine,so=yr.pathFromArea,no=v$1.isNumber(Vr.globals.minYArr[or])?Vr.globals.minYArr[or]:Vr.globals.minY;ar||(ar=Vr.globals.dataPoints>1?Vr.globals.dataPoints-1:Vr.globals.dataPoints);var po=function(Ro,Go){return Go-Ro/Hr[lr]+2*(ir.isReversed?Ro/Hr[lr]:0)},co=dr,lo=Vr.config.chart.stacked&&!Vr.globals.comboCharts||Vr.config.chart.stacked&&Vr.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((er=this.w.config.series[or])===null||er===void 0?void 0:er.type)==="bar"||((nr=this.w.config.series[or])===null||nr===void 0?void 0:nr.type)==="column"),ao=Vr.config.stroke.curve;Array.isArray(ao)&&(ao=Array.isArray(jr)?ao[jr[cr]]:ao[cr]);for(var xo,_o=0,Po=0;Po<ar&&sr[cr].length!==0;Po++){var Oo=sr[cr][Po+1]===void 0||sr[cr][Po+1]===null;if(Vr.globals.isXNumeric){var So=Vr.globals.seriesX[or][Po+1];Vr.globals.seriesX[or][Po+1]===void 0&&(So=Vr.globals.seriesX[or][ar-1]),ur=(So-Vr.globals.minX)/this.xRatio}else ur+=this.xDivision;lo?cr>0&&Vr.globals.collapsedSeries.length<Vr.config.series.length-1?Dr=this.prevSeriesY[(function(Ro){for(var Go=Ro;Go>0;Go--){if(!(Vr.globals.collapsedSeriesIndices.indexOf(jr?.[Go]||Go)>-1))return Go;Go--}return 0})(cr-1)][Po+1]:Dr=this.zeroY:Dr=this.zeroY,Oo?dr=po(no,Dr):(dr=po(sr[cr][Po+1],Dr),rr==="rangeArea"&&(co=po(Fr[cr][Po+1],Dr))),Ir.push(sr[cr][Po+1]===null?null:ur),!Oo||Vr.config.stroke.curve!=="smooth"&&Vr.config.stroke.curve!=="monotoneCubic"?(Mr.push(dr),Or.push(co)):(Mr.push(null),Or.push(null));var Ao=this.lineHelpers.calculatePoints({series:sr,x:ur,y:dr,realIndex:or,i:cr,j:Po,prevY:Yr}),zo=this._createPaths({type:rr,series:sr,i:cr,realIndex:or,j:Po,x:ur,y:dr,y2:co,xArrj:Ir,yArrj:Mr,y2Arrj:Or,pX:fr,pY:xr,pathState:_o,segmentStartX:xo,linePath:eo,areaPath:io,linePaths:_r,areaPaths:Sr,curve:ao,isRangeStart:Lr});Sr=zo.areaPaths,_r=zo.linePaths,fr=zo.pX,xr=zo.pY,_o=zo.pathState,xo=zo.segmentStartX,io=zo.areaPath,eo=zo.linePath,!this.appendPathFrom||Vr.globals.hasNullValues||ao==="monotoneCubic"&&rr==="rangeArea"||(uo+=Zr.line(ur,this.areaBottomY),so+=Zr.line(ur,this.areaBottomY)),this.handleNullDataPoints(sr,Ao,cr,Po,or),this._handleMarkersAndLabels({type:rr,pointsPos:Ao,i:cr,j:Po,realIndex:or,isRangeStart:Lr})}return{yArrj:Mr,xArrj:Ir,pathFromArea:so,areaPaths:Sr,pathFromLine:uo,linePaths:_r,linePath:eo,areaPath:io}}},{key:"_handleMarkersAndLabels",value:function(Hn){var er=Hn.type,nr=Hn.pointsPos,ir=Hn.isRangeStart,rr=Hn.i,sr=Hn.j,ar=Hn.realIndex,or=this.w,lr=new qi$1(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,sr,{realIndex:ar,pointsPos:nr,zRatio:this.zRatio,elParent:this.elPointsMain});else{or.globals.series[rr].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var cr=this.markers.plotChartMarkers({pointsPos:nr,seriesIndex:ar,j:sr+1});cr!==null&&this.elPointsMain.add(cr)}var ur=lr.drawDataLabel({type:er,isRangeStart:ir,pos:nr,i:ar,j:sr+1});ur!==null&&this.elDataLabelsWrap.add(ur)}},{key:"_createPaths",value:function(Hn){var er=Hn.type,nr=Hn.series,ir=Hn.i;Hn.realIndex;var rr,sr=Hn.j,ar=Hn.x,or=Hn.y,lr=Hn.xArrj,cr=Hn.yArrj,ur=Hn.y2,dr=Hn.y2Arrj,fr=Hn.pX,xr=Hn.pY,yr=Hn.pathState,_r=Hn.segmentStartX,Sr=Hn.linePath,jr=Hn.areaPath,Dr=Hn.linePaths,Ir=Hn.areaPaths,Mr=Hn.curve,Or=Hn.isRangeStart,Lr=new Mi$1(this.ctx),Fr=this.areaBottomY,Vr=er==="rangeArea",Zr=er==="rangeArea"&&Or;switch(Mr){case"monotoneCubic":var Hr=Or?cr:dr;switch(yr){case 0:if(Hr[sr+1]===null)break;yr=1;case 1:if(!(Vr?lr.length===nr[ir].length:sr===nr[ir].length-2))break;case 2:var Yr=Or?lr:lr.slice().reverse(),eo=Or?Hr:Hr.slice().reverse(),io=(rr=eo,Yr.map((function(So,Ao){return[So,rr[Ao]]})).filter((function(So){return So[1]!==null}))),uo=io.length>1?Na(io):io,so=[];Vr&&(Zr?Ir=io:so=Ir.reverse());var no=0,po=0;if((function(So,Ao){for(var zo=(function(Vo){var nl=[],fl=0;return Vo.forEach((function(Bl){Bl!==null?fl++:fl>0&&(nl.push(fl),fl=0)})),fl>0&&nl.push(fl),nl})(So),Ro=[],Go=0,Qo=0;Go<zo.length;Qo+=zo[Go++])Ro[Go]=Wa(Ao,Qo,Qo+zo[Go]);return Ro})(eo,uo).forEach((function(So){no++;var Ao=(function(Go){for(var Qo="",Vo=0;Vo<Go.length;Vo++){var nl=Go[Vo],fl=nl.length;fl>4?(Qo+="C".concat(nl[0],", ").concat(nl[1]),Qo+=", ".concat(nl[2],", ").concat(nl[3]),Qo+=", ".concat(nl[4],", ").concat(nl[5])):fl>2&&(Qo+="S".concat(nl[0],", ").concat(nl[1]),Qo+=", ".concat(nl[2],", ").concat(nl[3]))}return Qo})(So),zo=po,Ro=(po+=So.length)-1;Zr?Sr=Lr.move(io[zo][0],io[zo][1])+Ao:Vr?Sr=Lr.move(so[zo][0],so[zo][1])+Lr.line(io[zo][0],io[zo][1])+Ao+Lr.line(so[Ro][0],so[Ro][1]):(Sr=Lr.move(io[zo][0],io[zo][1])+Ao,jr=Sr+Lr.line(io[Ro][0],Fr)+Lr.line(io[zo][0],Fr)+"z",Ir.push(jr)),Dr.push(Sr)})),Vr&&no>1&&!Zr){var co=Dr.slice(no).reverse();Dr.splice(no),co.forEach((function(So){return Dr.push(So)}))}yr=0}break;case"smooth":var lo=.35*(ar-fr);if(nr[ir][sr]===null)yr=0;else switch(yr){case 0:if(_r=fr,Sr=Zr?Lr.move(fr,dr[sr])+Lr.line(fr,xr):Lr.move(fr,xr),jr=Lr.move(fr,xr),nr[ir][sr+1]===null||nr[ir][sr+1]===void 0){Dr.push(Sr),Ir.push(jr);break}if(yr=1,sr<nr[ir].length-2){var ao=Lr.curve(fr+lo,xr,ar-lo,or,ar,or);Sr+=ao,jr+=ao;break}case 1:if(nr[ir][sr+1]===null)Sr+=Zr?Lr.line(fr,ur):Lr.move(fr,xr),jr+=Lr.line(fr,Fr)+Lr.line(_r,Fr)+"z",Dr.push(Sr),Ir.push(jr),yr=-1;else{var xo=Lr.curve(fr+lo,xr,ar-lo,or,ar,or);Sr+=xo,jr+=xo,sr>=nr[ir].length-2&&(Zr&&(Sr+=Lr.curve(ar,or,ar,or,ar,ur)+Lr.move(ar,ur)),jr+=Lr.curve(ar,or,ar,or,ar,Fr)+Lr.line(_r,Fr)+"z",Dr.push(Sr),Ir.push(jr),yr=-1)}}fr=ar,xr=or;break;default:var _o=function(So,Ao,zo){var Ro=[];switch(So){case"stepline":Ro=Lr.line(Ao,null,"H")+Lr.line(null,zo,"V");break;case"linestep":Ro=Lr.line(null,zo,"V")+Lr.line(Ao,null,"H");break;case"straight":Ro=Lr.line(Ao,zo)}return Ro};if(nr[ir][sr]===null)yr=0;else switch(yr){case 0:if(_r=fr,Sr=Zr?Lr.move(fr,dr[sr])+Lr.line(fr,xr):Lr.move(fr,xr),jr=Lr.move(fr,xr),nr[ir][sr+1]===null||nr[ir][sr+1]===void 0){Dr.push(Sr),Ir.push(jr);break}if(yr=1,sr<nr[ir].length-2){var Po=_o(Mr,ar,or);Sr+=Po,jr+=Po;break}case 1:if(nr[ir][sr+1]===null)Sr+=Zr?Lr.line(fr,ur):Lr.move(fr,xr),jr+=Lr.line(fr,Fr)+Lr.line(_r,Fr)+"z",Dr.push(Sr),Ir.push(jr),yr=-1;else{var Oo=_o(Mr,ar,or);Sr+=Oo,jr+=Oo,sr>=nr[ir].length-2&&(Zr&&(Sr+=Lr.line(ar,ur)),jr+=Lr.line(ar,Fr)+Lr.line(_r,Fr)+"z",Dr.push(Sr),Ir.push(jr),yr=-1)}}fr=ar,xr=or}return{linePaths:Dr,areaPaths:Ir,pX:fr,pY:xr,pathState:yr,segmentStartX:_r,linePath:Sr,areaPath:jr}}},{key:"handleNullDataPoints",value:function(Hn,er,nr,ir,rr){var sr=this.w;if(Hn[nr][ir]===null&&sr.config.markers.showNullDataPoints||Hn[nr].length===1){var ar=this.strokeWidth-sr.config.markers.strokeWidth/2;ar>0||(ar=0);var or=this.markers.plotChartMarkers({pointsPos:er,seriesIndex:rr,j:ir+1,pSize:ar,alwaysDrawMarker:!0});or!==null&&this.elPointsMain.add(or)}}}]),tr})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function tr(ar,or,lr,cr){this.xoffset=ar,this.yoffset=or,this.height=cr,this.width=lr,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(ur){var dr,fr=[],xr=this.xoffset,yr=this.yoffset,_r=rr(ur)/this.height,Sr=rr(ur)/this.width;if(this.width>=this.height)for(dr=0;dr<ur.length;dr++)fr.push([xr,yr,xr+_r,yr+ur[dr]/_r]),yr+=ur[dr]/_r;else for(dr=0;dr<ur.length;dr++)fr.push([xr,yr,xr+ur[dr]/Sr,yr+Sr]),xr+=ur[dr]/Sr;return fr},this.cutArea=function(ur){var dr;if(this.width>=this.height){var fr=ur/this.height,xr=this.width-fr;dr=new tr(this.xoffset+fr,this.yoffset,xr,this.height)}else{var yr=ur/this.width,_r=this.height-yr;dr=new tr(this.xoffset,this.yoffset+yr,this.width,_r)}return dr}}function Hn(ar,or,lr,cr,ur){cr=cr===void 0?0:cr,ur=ur===void 0?0:ur;var dr=er((function(fr,xr){var yr,_r=[],Sr=xr/rr(fr);for(yr=0;yr<fr.length;yr++)_r[yr]=fr[yr]*Sr;return _r})(ar,or*lr),[],new tr(cr,ur,or,lr),[]);return(function(fr){var xr,yr,_r=[];for(xr=0;xr<fr.length;xr++)for(yr=0;yr<fr[xr].length;yr++)_r.push(fr[xr][yr]);return _r})(dr)}function er(ar,or,lr,cr){var ur,dr,fr;if(ar.length!==0)return ur=lr.shortestEdge(),(function(xr,yr,_r){var Sr;if(xr.length===0)return!0;(Sr=xr.slice()).push(yr);var jr=nr(xr,_r),Dr=nr(Sr,_r);return jr>=Dr})(or,dr=ar[0],ur)?(or.push(dr),er(ar.slice(1),or,lr,cr)):(fr=lr.cutArea(rr(or),cr),cr.push(lr.getCoordinates(or)),er(ar,[],fr,cr)),cr;cr.push(lr.getCoordinates(or))}function nr(ar,or){var lr=Math.min.apply(Math,ar),cr=Math.max.apply(Math,ar),ur=rr(ar);return Math.max(Math.pow(or,2)*cr/Math.pow(ur,2),Math.pow(ur,2)/(Math.pow(or,2)*lr))}function ir(ar){return ar&&ar.constructor===Array}function rr(ar){var or,lr=0;for(or=0;or<ar.length;or++)lr+=ar[or];return lr}function sr(ar){var or,lr=0;if(ir(ar[0]))for(or=0;or<ar.length;or++)lr+=sr(ar[or]);else lr=rr(ar);return lr}return function ar(or,lr,cr,ur,dr){ur=ur===void 0?0:ur,dr=dr===void 0?0:dr;var fr,xr,yr=[],_r=[];if(ir(or[0])){for(xr=0;xr<or.length;xr++)yr[xr]=sr(or[xr]);for(fr=Hn(yr,lr,cr,ur,dr),xr=0;xr<or.length;xr++)_r.push(ar(or[xr],fr[xr][2]-fr[xr][0],fr[xr][3]-fr[xr][1],fr[xr][0],fr[xr][1]))}else _r=Hn(or,lr,cr,ur,dr);return _r}})();var ja=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Xa(Hn),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return s$1(tr,[{key:"draw",value:function(Hn){var er=this,nr=this.w,ir=new Mi$1(this.ctx),rr=new ji$1(this.ctx),sr=ir.group({class:"apexcharts-treemap"});if(nr.globals.noData)return sr;var ar=[];return Hn.forEach((function(or){var lr=or.map((function(cr){return Math.abs(cr)}));ar.push(lr)})),this.negRange=this.helpers.checkColorRange(),nr.config.series.forEach((function(or,lr){or.data.forEach((function(cr){Array.isArray(er.labels[lr])||(er.labels[lr]=[]),er.labels[lr].push(cr.x)}))})),window.TreemapSquared.generate(ar,nr.globals.gridWidth,nr.globals.gridHeight).forEach((function(or,lr){var cr=ir.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:v$1.escapeString(nr.globals.seriesNames[lr]),rel:lr+1,"data:realIndex":lr});if(nr.config.chart.dropShadow.enabled){var ur=nr.config.chart.dropShadow;new Li$1(er.ctx).dropShadow(sr,ur,lr)}var dr=ir.group({class:"apexcharts-data-labels"}),fr={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};or.forEach((function(uo,so){var no=uo[0],po=uo[1],co=uo[2],lo=uo[3];fr.xMin=Math.min(fr.xMin,no),fr.yMin=Math.min(fr.yMin,po),fr.xMax=Math.max(fr.xMax,co),fr.yMax=Math.max(fr.yMax,lo);var ao=er.helpers.getShadeColor(nr.config.chart.type,lr,so,er.negRange),xo=ao.color,_o=rr.fillPath({color:xo,seriesNumber:lr,dataPointIndex:so}),Po=ir.drawRect(no,po,co-no,lo-po,nr.config.plotOptions.treemap.borderRadius,"#fff",1,er.strokeWidth,nr.config.plotOptions.treemap.useFillColorAsStroke?xo:nr.globals.stroke.colors[lr]);Po.attr({cx:no,cy:po,index:lr,i:lr,j:so,width:co-no,height:lo-po,fill:_o}),Po.node.classList.add("apexcharts-treemap-rect"),er.helpers.addListeners(Po);var Oo={x:no+(co-no)/2,y:po+(lo-po)/2,width:0,height:0},So={x:no,y:po,width:co-no,height:lo-po};if(nr.config.chart.animations.enabled&&!nr.globals.dataChanged){var Ao=1;nr.globals.resized||(Ao=nr.config.chart.animations.speed),er.animateTreemap(Po,Oo,So,Ao)}if(nr.globals.dataChanged){var zo=1;er.dynamicAnim.enabled&&nr.globals.shouldAnimate&&(zo=er.dynamicAnim.speed,nr.globals.previousPaths[lr]&&nr.globals.previousPaths[lr][so]&&nr.globals.previousPaths[lr][so].rect&&(Oo=nr.globals.previousPaths[lr][so].rect),er.animateTreemap(Po,Oo,So,zo))}var Ro=er.getFontSize(uo),Go=nr.config.dataLabels.formatter(er.labels[lr][so],{value:nr.globals.series[lr][so],seriesIndex:lr,dataPointIndex:so,w:nr});nr.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Ro=parseInt(nr.config.dataLabels.style.fontSize,10),Go=er.truncateLabels(Go,Ro,no,po,co,lo));var Qo=null;nr.globals.series[lr][so]&&(Qo=er.helpers.calculateDataLabels({text:Go,x:(no+co)/2,y:(po+lo)/2+er.strokeWidth/2+Ro/3,i:lr,j:so,colorProps:ao,fontSize:Ro,series:Hn})),nr.config.dataLabels.enabled&&Qo&&er.rotateToFitLabel(Qo,Ro,Go,no,po,co,lo),cr.add(Po),Qo!==null&&cr.add(Qo)}));var xr=nr.config.plotOptions.treemap.seriesTitle;if(nr.config.series.length>1&&xr&&xr.show){var yr=nr.config.series[lr].name||"";if(yr&&fr.xMin<1/0&&fr.yMin<1/0){var _r=xr.offsetX,Sr=xr.offsetY,jr=xr.borderColor,Dr=xr.borderWidth,Ir=xr.borderRadius,Mr=xr.style,Or=Mr.color||nr.config.chart.foreColor,Lr={left:Mr.padding.left,right:Mr.padding.right,top:Mr.padding.top,bottom:Mr.padding.bottom},Fr=ir.getTextRects(yr,Mr.fontSize,Mr.fontFamily),Vr=Fr.width+Lr.left+Lr.right,Zr=Fr.height+Lr.top+Lr.bottom,Hr=fr.xMin+(_r||0),Yr=fr.yMin+(Sr||0),eo=ir.drawRect(Hr,Yr,Vr,Zr,Ir,Mr.background,1,Dr,jr),io=ir.drawText({x:Hr+Lr.left,y:Yr+Lr.top+.75*Fr.height,text:yr,fontSize:Mr.fontSize,fontFamily:Mr.fontFamily,fontWeight:Mr.fontWeight,foreColor:Or,cssClass:Mr.cssClass||""});cr.add(eo),cr.add(io)}}cr.add(dr),sr.add(cr)})),sr}},{key:"getFontSize",value:function(Hn){var er=this.w,nr=(function ir(rr){var sr,ar=0;if(Array.isArray(rr[0]))for(sr=0;sr<rr.length;sr++)ar+=ir(rr[sr]);else for(sr=0;sr<rr.length;sr++)ar+=rr[sr].length;return ar})(this.labels)/(function ir(rr){var sr,ar=0;if(Array.isArray(rr[0]))for(sr=0;sr<rr.length;sr++)ar+=ir(rr[sr]);else for(sr=0;sr<rr.length;sr++)ar+=1;return ar})(this.labels);return(function(ir,rr){var sr=ir*rr,ar=Math.pow(sr,.5);return Math.min(ar/nr,parseInt(er.config.dataLabels.style.fontSize,10))})(Hn[2]-Hn[0],Hn[3]-Hn[1])}},{key:"rotateToFitLabel",value:function(Hn,er,nr,ir,rr,sr,ar){var or=new Mi$1(this.ctx),lr=or.getTextRects(nr,er);if(lr.width+this.w.config.stroke.width+5>sr-ir&&lr.width<=ar-rr){var cr=or.rotateAroundCenter(Hn.node);Hn.node.setAttribute("transform","rotate(-90 ".concat(cr.x," ").concat(cr.y,") translate(").concat(lr.height/3,")"))}}},{key:"truncateLabels",value:function(Hn,er,nr,ir,rr,sr){var ar=new Mi$1(this.ctx),or=ar.getTextRects(Hn,er).width+this.w.config.stroke.width+5>rr-nr&&sr-ir>rr-nr?sr-ir:rr-nr,lr=ar.getTextBasedOnMaxWidth({text:Hn,maxWidth:or,fontSize:er});return Hn.length!==lr.length&&or/er<5?"":lr}},{key:"animateTreemap",value:function(Hn,er,nr,ir){var rr=new y$3(this.ctx);rr.animateRect(Hn,er,nr,ir,(function(){rr.animationCompleted(Hn)}))}}]),tr})(),Va=86400,Ua=10/Va,qa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return s$1(tr,[{key:"calculateTimeScaleTicks",value:function(Hn,er){var nr=this,ir=this.w;if(ir.globals.allSeriesCollapsed)return ir.globals.labels=[],ir.globals.timescaleLabels=[],[];var rr=new zi$1(this.ctx),sr=(er-Hn)/864e5;this.determineInterval(sr),ir.globals.disableZoomIn=!1,ir.globals.disableZoomOut=!1,sr<Ua?ir.globals.disableZoomIn=!0:sr>5e4&&(ir.globals.disableZoomOut=!0);var ar=rr.getTimeUnitsfromTimestamp(Hn,er,this.utc),or=ir.globals.gridWidth/sr,lr=or/24,cr=lr/60,ur=cr/60,dr=Math.floor(24*sr),fr=Math.floor(1440*sr),xr=Math.floor(sr*Va),yr=Math.floor(sr),_r=Math.floor(sr/30),Sr=Math.floor(sr/365),jr={minMillisecond:ar.minMillisecond,minSecond:ar.minSecond,minMinute:ar.minMinute,minHour:ar.minHour,minDate:ar.minDate,minMonth:ar.minMonth,minYear:ar.minYear},Dr={firstVal:jr,currentMillisecond:jr.minMillisecond,currentSecond:jr.minSecond,currentMinute:jr.minMinute,currentHour:jr.minHour,currentMonthDate:jr.minDate,currentDate:jr.minDate,currentMonth:jr.minMonth,currentYear:jr.minYear,daysWidthOnXAxis:or,hoursWidthOnXAxis:lr,minutesWidthOnXAxis:cr,secondsWidthOnXAxis:ur,numberOfSeconds:xr,numberOfMinutes:fr,numberOfHours:dr,numberOfDays:yr,numberOfMonths:_r,numberOfYears:Sr};switch(this.tickInterval){case"years":this.generateYearScale(Dr);break;case"months":case"half_year":this.generateMonthScale(Dr);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(Dr);break;case"hours":this.generateHourScale(Dr);break;case"minutes_fives":case"minutes":this.generateMinuteScale(Dr);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(Dr)}var Ir=this.timeScaleArray.map((function(Mr){var Or={position:Mr.position,unit:Mr.unit,year:Mr.year,day:Mr.day?Mr.day:1,hour:Mr.hour?Mr.hour:0,month:Mr.month+1};return Mr.unit==="month"?u$2(u$2({},Or),{},{day:1,value:Mr.value+1}):Mr.unit==="day"||Mr.unit==="hour"?u$2(u$2({},Or),{},{value:Mr.value}):Mr.unit==="minute"?u$2(u$2({},Or),{},{value:Mr.value,minute:Mr.value}):Mr.unit==="second"?u$2(u$2({},Or),{},{value:Mr.value,minute:Mr.minute,second:Mr.second}):Mr}));return Ir.filter((function(Mr){var Or=1,Lr=Math.ceil(ir.globals.gridWidth/120),Fr=Mr.value;ir.config.xaxis.tickAmount!==void 0&&(Lr=ir.config.xaxis.tickAmount),Ir.length>Lr&&(Or=Math.floor(Ir.length/Lr));var Vr=!1,Zr=!1;switch(nr.tickInterval){case"years":Mr.unit==="year"&&(Vr=!0);break;case"half_year":Or=7,Mr.unit==="year"&&(Vr=!0);break;case"months":Or=1,Mr.unit==="year"&&(Vr=!0);break;case"months_fortnight":Or=15,Mr.unit!=="year"&&Mr.unit!=="month"||(Vr=!0),Fr===30&&(Zr=!0);break;case"months_days":Or=10,Mr.unit==="month"&&(Vr=!0),Fr===30&&(Zr=!0);break;case"week_days":Or=8,Mr.unit==="month"&&(Vr=!0);break;case"days":Or=1,Mr.unit==="month"&&(Vr=!0);break;case"hours":Mr.unit==="day"&&(Vr=!0);break;case"minutes_fives":case"seconds_fives":Fr%5!=0&&(Zr=!0);break;case"seconds_tens":Fr%10!=0&&(Zr=!0)}if(nr.tickInterval==="hours"||nr.tickInterval==="minutes_fives"||nr.tickInterval==="seconds_tens"||nr.tickInterval==="seconds_fives"){if(!Zr)return!0}else if((Fr%Or==0||Vr)&&!Zr)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(Hn,er){var nr=this.w,ir=this.formatDates(Hn),rr=this.removeOverlappingTS(ir);nr.globals.timescaleLabels=rr.slice(),new fa(this.ctx).plotCoords()}},{key:"determineInterval",value:function(Hn){var er=24*Hn,nr=60*er;switch(!0){case Hn/365>5:this.tickInterval="years";break;case Hn>800:this.tickInterval="half_year";break;case Hn>180:this.tickInterval="months";break;case Hn>90:this.tickInterval="months_fortnight";break;case Hn>60:this.tickInterval="months_days";break;case Hn>30:this.tickInterval="week_days";break;case Hn>2:this.tickInterval="days";break;case er>2.4:this.tickInterval="hours";break;case nr>15:this.tickInterval="minutes_fives";break;case nr>5:this.tickInterval="minutes";break;case nr>1:this.tickInterval="seconds_tens";break;case 60*nr>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentMonth,ir=Hn.currentYear,rr=Hn.daysWidthOnXAxis,sr=Hn.numberOfYears,ar=er.minYear,or=0,lr=new zi$1(this.ctx),cr="year";if(er.minDate>1||er.minMonth>0){var ur=lr.determineRemainingDaysOfYear(er.minYear,er.minMonth,er.minDate);or=(lr.determineDaysOfYear(er.minYear)-ur+1)*rr,ar=er.minYear+1,this.timeScaleArray.push({position:or,value:ar,unit:cr,year:ar,month:v$1.monthMod(nr+1)})}else er.minDate===1&&er.minMonth===0&&this.timeScaleArray.push({position:or,value:ar,unit:cr,year:ir,month:v$1.monthMod(nr+1)});for(var dr=ar,fr=or,xr=0;xr<sr;xr++)dr++,fr=lr.determineDaysOfYear(dr-1)*rr+fr,this.timeScaleArray.push({position:fr,value:dr,unit:cr,year:dr,month:1})}},{key:"generateMonthScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentMonthDate,ir=Hn.currentMonth,rr=Hn.currentYear,sr=Hn.daysWidthOnXAxis,ar=Hn.numberOfMonths,or=ir,lr=0,cr=new zi$1(this.ctx),ur="month",dr=0;if(er.minDate>1){lr=(cr.determineDaysOfMonths(ir+1,er.minYear)-nr+1)*sr,or=v$1.monthMod(ir+1);var fr=rr+dr,xr=v$1.monthMod(or),yr=or;or===0&&(ur="year",yr=fr,xr=1,fr+=dr+=1),this.timeScaleArray.push({position:lr,value:yr,unit:ur,year:fr,month:xr})}else this.timeScaleArray.push({position:lr,value:or,unit:ur,year:rr,month:v$1.monthMod(ir)});for(var _r=or+1,Sr=lr,jr=0,Dr=1;jr<ar;jr++,Dr++){(_r=v$1.monthMod(_r))===0?(ur="year",dr+=1):ur="month";var Ir=this._getYear(rr,_r,dr);Sr=cr.determineDaysOfMonths(_r,Ir)*sr+Sr;var Mr=_r===0?Ir:_r;this.timeScaleArray.push({position:Sr,value:Mr,unit:ur,year:Ir,month:_r===0?1:_r}),_r++}}},{key:"generateDayScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentMonth,ir=Hn.currentYear,rr=Hn.hoursWidthOnXAxis,sr=Hn.numberOfDays,ar=new zi$1(this.ctx),or="day",lr=er.minDate+1,cr=lr,ur=function(Dr,Ir,Mr){return Dr>ar.determineDaysOfMonths(Ir+1,Mr)&&(cr=1,or="month",fr=Ir+=1),Ir},dr=(24-er.minHour)*rr,fr=lr,xr=ur(cr,nr,ir);er.minHour===0&&er.minDate===1?(dr=0,fr=v$1.monthMod(er.minMonth),or="month",cr=er.minDate):er.minDate!==1&&er.minHour===0&&er.minMinute===0&&(dr=0,lr=er.minDate,fr=lr,xr=ur(cr=lr,nr,ir),fr!==1&&(or="day")),this.timeScaleArray.push({position:dr,value:fr,unit:or,year:this._getYear(ir,xr,0),month:v$1.monthMod(xr),day:cr});for(var yr=dr,_r=0;_r<sr;_r++){or="day",xr=ur(cr+=1,xr,this._getYear(ir,xr,0));var Sr=this._getYear(ir,xr,0);yr=24*rr+yr;var jr=cr===1?v$1.monthMod(xr):cr;this.timeScaleArray.push({position:yr,value:jr,unit:or,year:Sr,month:v$1.monthMod(xr),day:jr})}}},{key:"generateHourScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentDate,ir=Hn.currentMonth,rr=Hn.currentYear,sr=Hn.minutesWidthOnXAxis,ar=Hn.numberOfHours,or=new zi$1(this.ctx),lr="hour",cr=function(Or,Lr){return Or>or.determineDaysOfMonths(Lr+1,rr)&&(_r=1,Lr+=1),{month:Lr,date:_r}},ur=function(Or,Lr){return Or>or.determineDaysOfMonths(Lr+1,rr)?Lr+=1:Lr},dr=60-(er.minMinute+er.minSecond/60),fr=dr*sr,xr=er.minHour+1,yr=xr;dr===60&&(fr=0,yr=xr=er.minHour);var _r=nr;yr>=24&&(yr=0,lr="day",xr=_r+=1);var Sr=cr(_r,ir).month;Sr=ur(_r,Sr),xr>31&&(xr=_r=1),this.timeScaleArray.push({position:fr,value:xr,unit:lr,day:_r,hour:yr,year:rr,month:v$1.monthMod(Sr)}),yr++;for(var jr=fr,Dr=0;Dr<ar;Dr++){lr="hour",yr>=24&&(yr=0,lr="day",Sr=cr(_r+=1,Sr).month,Sr=ur(_r,Sr));var Ir=this._getYear(rr,Sr,0);jr=60*sr+jr;var Mr=yr===0?_r:yr;this.timeScaleArray.push({position:jr,value:Mr,unit:lr,hour:yr,day:_r,year:Ir,month:v$1.monthMod(Sr)}),yr++}}},{key:"generateMinuteScale",value:function(Hn){for(var er=Hn.currentMillisecond,nr=Hn.currentSecond,ir=Hn.currentMinute,rr=Hn.currentHour,sr=Hn.currentDate,ar=Hn.currentMonth,or=Hn.currentYear,lr=Hn.minutesWidthOnXAxis,cr=Hn.secondsWidthOnXAxis,ur=Hn.numberOfMinutes,dr=ir+1,fr=sr,xr=ar,yr=or,_r=rr,Sr=(60-nr-er/1e3)*cr,jr=0;jr<ur;jr++)dr>=60&&(dr=0,(_r+=1)===24&&(_r=0)),this.timeScaleArray.push({position:Sr,value:dr,unit:"minute",hour:_r,minute:dr,day:fr,year:this._getYear(yr,xr,0),month:v$1.monthMod(xr)}),Sr+=lr,dr++}},{key:"generateSecondScale",value:function(Hn){for(var er=Hn.currentMillisecond,nr=Hn.currentSecond,ir=Hn.currentMinute,rr=Hn.currentHour,sr=Hn.currentDate,ar=Hn.currentMonth,or=Hn.currentYear,lr=Hn.secondsWidthOnXAxis,cr=Hn.numberOfSeconds,ur=nr+1,dr=ir,fr=sr,xr=ar,yr=or,_r=rr,Sr=(1e3-er)/1e3*lr,jr=0;jr<cr;jr++)ur>=60&&(ur=0,++dr>=60&&(dr=0,++_r===24&&(_r=0))),this.timeScaleArray.push({position:Sr,value:ur,unit:"second",hour:_r,minute:dr,second:ur,day:fr,year:this._getYear(yr,xr,0),month:v$1.monthMod(xr)}),Sr+=lr,ur++}},{key:"createRawDateString",value:function(Hn,er){var nr=Hn.year;return Hn.month===0&&(Hn.month=1),nr+="-"+("0"+Hn.month.toString()).slice(-2),Hn.unit==="day"?nr+=Hn.unit==="day"?"-"+("0"+er).slice(-2):"-01":nr+="-"+("0"+(Hn.day?Hn.day:"1")).slice(-2),Hn.unit==="hour"?nr+=Hn.unit==="hour"?"T"+("0"+er).slice(-2):"T00":nr+="T"+("0"+(Hn.hour?Hn.hour:"0")).slice(-2),Hn.unit==="minute"?nr+=":"+("0"+er).slice(-2):nr+=":"+(Hn.minute?("0"+Hn.minute).slice(-2):"00"),Hn.unit==="second"?nr+=":"+("0"+er).slice(-2):nr+=":00",this.utc&&(nr+=".000Z"),nr}},{key:"formatDates",value:function(Hn){var er=this,nr=this.w;return Hn.map((function(ir){var rr=ir.value.toString(),sr=new zi$1(er.ctx),ar=er.createRawDateString(ir,rr),or=sr.getDate(sr.parseDate(ar));if(er.utc||(or=sr.getDate(sr.parseDateWithTimezone(ar))),nr.config.xaxis.labels.format===void 0){var lr="dd MMM",cr=nr.config.xaxis.labels.datetimeFormatter;ir.unit==="year"&&(lr=cr.year),ir.unit==="month"&&(lr=cr.month),ir.unit==="day"&&(lr=cr.day),ir.unit==="hour"&&(lr=cr.hour),ir.unit==="minute"&&(lr=cr.minute),ir.unit==="second"&&(lr=cr.second),rr=sr.formatDate(or,lr)}else rr=sr.formatDate(or,nr.config.xaxis.labels.format);return{dateString:ar,position:ir.position,value:rr,unit:ir.unit,year:ir.year,month:ir.month}}))}},{key:"removeOverlappingTS",value:function(Hn){var er,nr=this,ir=new Mi$1(this.ctx),rr=!1;Hn.length>0&&Hn[0].value&&Hn.every((function(or){return or.value.length===Hn[0].value.length}))&&(rr=!0,er=ir.getTextRects(Hn[0].value).width);var sr=0,ar=Hn.map((function(or,lr){if(lr>0&&nr.w.config.xaxis.labels.hideOverlappingLabels){var cr=rr?er:ir.getTextRects(Hn[sr].value).width,ur=Hn[sr].position;return or.position>ur+cr+10?(sr=lr,or):null}return or}));return ar=ar.filter((function(or){return or!==null}))}},{key:"_getYear",value:function(Hn,er,nr){return Hn+Math.floor(er/12)+nr}}]),tr})(),Za=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=er,this.w=er.w,this.el=Hn}return s$1(tr,[{key:"setupElements",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config,ir=nr.chart.type;er.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(ir),er.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(ir),er.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(ir)&&nr.plotOptions.bar.horizontal,er.chartClass=".apexcharts".concat(er.chartID),er.dom.baseEl=this.el,er.dom.elWrap=document.createElement("div"),Mi$1.setAttrs(er.dom.elWrap,{id:er.chartClass.substring(1),class:"apexcharts-canvas ".concat(er.chartClass.substring(1))}),this.el.appendChild(er.dom.elWrap),er.dom.Paper=window.SVG().addTo(er.dom.elWrap),er.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(nr.chart.offsetX,", ").concat(nr.chart.offsetY,")")}),er.dom.Paper.node.style.background=nr.theme.mode!=="dark"||nr.chart.background?nr.theme.mode!=="light"||nr.chart.background?nr.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),er.dom.elLegendForeign=document.createElementNS(er.SVGNS,"foreignObject"),Mi$1.setAttrs(er.dom.elLegendForeign,{x:0,y:0,width:er.svgWidth,height:er.svgHeight}),er.dom.elLegendWrap=document.createElement("div"),er.dom.elLegendWrap.classList.add("apexcharts-legend"),er.dom.elWrap.appendChild(er.dom.elLegendWrap),er.dom.Paper.node.appendChild(er.dom.elLegendForeign),er.dom.elGraphical=er.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),er.dom.elDefs=er.dom.Paper.defs(),er.dom.Paper.add(er.dom.elGraphical),er.dom.elGraphical.add(er.dom.elDefs)}},{key:"plotChartType",value:function(Hn,er){var nr=this.w,ir=this.ctx,rr=nr.config,sr=nr.globals,ar={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},or=rr.chart.type||"line",lr=null,cr=0;sr.series.forEach((function(Or,Lr){var Fr,Vr,Zr=((Fr=Hn[Lr])===null||Fr===void 0?void 0:Fr.type)==="column"?"bar":((Vr=Hn[Lr])===null||Vr===void 0?void 0:Vr.type)||(or==="column"?"bar":or);ar[Zr]?(Zr==="rangeArea"?(ar[Zr].series.push(sr.seriesRangeStart[Lr]),ar[Zr].seriesRangeEnd.push(sr.seriesRangeEnd[Lr])):ar[Zr].series.push(Or),ar[Zr].i.push(Lr),Zr==="bar"&&(nr.globals.columnSeries=ar.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(Zr)?lr=Zr:console.warn("You have specified an unrecognized series type (".concat(Zr,").")),or!==Zr&&Zr!=="scatter"&&cr++})),cr>0&&(lr&&console.warn("Chart or series type ".concat(lr," cannot appear with other chart or series types.")),ar.bar.series.length>0&&rr.plotOptions.bar.horizontal&&(cr-=ar.bar.series.length,ar.bar={series:[],i:[]},nr.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),sr.comboCharts||(sr.comboCharts=cr>0);var ur=new Ga(ir,er),dr=new za(ir,er);ir.pie=new Ya(ir);var fr=new Oa(ir);ir.rangeBar=new Fa(ir,er);var xr=new Ha(ir),yr=[];if(sr.comboCharts){var _r,Sr,jr=new Pi$1(ir);if(ar.area.series.length>0&&(_r=yr).push.apply(_r,f$2(jr.drawSeriesByGroup(ar.area,sr.areaGroups,"area",ur))),ar.bar.series.length>0)if(rr.chart.stacked){var Dr=new Ta(ir,er);yr.push(Dr.draw(ar.bar.series,ar.bar.i))}else ir.bar=new Ia(ir,er),yr.push(ir.bar.draw(ar.bar.series,ar.bar.i));if(ar.rangeArea.series.length>0&&yr.push(ur.draw(ar.rangeArea.series,"rangeArea",ar.rangeArea.i,ar.rangeArea.seriesRangeEnd)),ar.line.series.length>0&&(Sr=yr).push.apply(Sr,f$2(jr.drawSeriesByGroup(ar.line,sr.lineGroups,"line",ur))),ar.candlestick.series.length>0&&yr.push(dr.draw(ar.candlestick.series,"candlestick",ar.candlestick.i)),ar.boxPlot.series.length>0&&yr.push(dr.draw(ar.boxPlot.series,"boxPlot",ar.boxPlot.i)),ar.rangeBar.series.length>0&&yr.push(ir.rangeBar.draw(ar.rangeBar.series,ar.rangeBar.i)),ar.scatter.series.length>0){var Ir=new Ga(ir,er,!0);yr.push(Ir.draw(ar.scatter.series,"scatter",ar.scatter.i))}if(ar.bubble.series.length>0){var Mr=new Ga(ir,er,!0);yr.push(Mr.draw(ar.bubble.series,"bubble",ar.bubble.i))}}else switch(rr.chart.type){case"line":yr=ur.draw(sr.series,"line");break;case"area":yr=ur.draw(sr.series,"area");break;case"bar":rr.chart.stacked?yr=new Ta(ir,er).draw(sr.series):(ir.bar=new Ia(ir,er),yr=ir.bar.draw(sr.series));break;case"candlestick":yr=new za(ir,er).draw(sr.series,"candlestick");break;case"boxPlot":yr=new za(ir,er).draw(sr.series,rr.chart.type);break;case"rangeBar":yr=ir.rangeBar.draw(sr.series);break;case"rangeArea":yr=ur.draw(sr.seriesRangeStart,"rangeArea",void 0,sr.seriesRangeEnd);break;case"heatmap":yr=new Ra(ir,er).draw(sr.series);break;case"treemap":yr=new ja(ir,er).draw(sr.series);break;case"pie":case"donut":case"polarArea":yr=ir.pie.draw(sr.series);break;case"radialBar":yr=fr.draw(sr.series);break;case"radar":yr=xr.draw(sr.series);break;default:yr=ur.draw(sr.series)}return yr}},{key:"setSVGDimensions",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config;nr.chart.width=nr.chart.width||"100%",nr.chart.height=nr.chart.height||"auto",er.svgWidth=nr.chart.width,er.svgHeight=nr.chart.height;var ir=v$1.getDimensions(this.el),rr=nr.chart.width.toString().split(/[0-9]+/g).pop();rr==="%"?v$1.isNumber(ir[0])&&(ir[0].width===0&&(ir=v$1.getDimensions(this.el.parentNode)),er.svgWidth=ir[0]*parseInt(nr.chart.width,10)/100):rr!=="px"&&rr!==""||(er.svgWidth=parseInt(nr.chart.width,10));var sr=String(nr.chart.height).toString().split(/[0-9]+/g).pop();if(er.svgHeight!=="auto"&&er.svgHeight!=="")if(sr==="%"){var ar=v$1.getDimensions(this.el.parentNode);er.svgHeight=ar[1]*parseInt(nr.chart.height,10)/100}else er.svgHeight=parseInt(nr.chart.height,10);else er.svgHeight=er.axisCharts?er.svgWidth/1.61:er.svgWidth/1.2;if(er.svgWidth=Math.max(er.svgWidth,0),er.svgHeight=Math.max(er.svgHeight,0),Mi$1.setAttrs(er.dom.Paper.node,{width:er.svgWidth,height:er.svgHeight}),sr!=="%"){var or=nr.chart.sparkline.enabled?0:er.axisCharts?nr.chart.parentHeightOffset:0;er.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(er.svgHeight+or,"px")}er.dom.elWrap.style.width="".concat(er.svgWidth,"px"),er.dom.elWrap.style.height="".concat(er.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var Hn=this.w.globals,er=Hn.translateY,nr=Hn.translateX;Mi$1.setAttrs(Hn.dom.elGraphical.node,{transform:"translate(".concat(nr,", ").concat(er,")")})}},{key:"resizeNonAxisCharts",value:function(){var Hn=this.w,er=Hn.globals,nr=0,ir=Hn.config.chart.sparkline.enabled?1:15;ir+=Hn.config.grid.padding.bottom,["top","bottom"].includes(Hn.config.legend.position)&&Hn.config.legend.show&&!Hn.config.legend.floating&&(nr=new ba(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var rr=Hn.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),sr=2.05*Hn.globals.radialSize;if(rr&&!Hn.config.chart.sparkline.enabled&&Hn.config.plotOptions.radialBar.startAngle!==0){var ar=v$1.getBoundingClientRect(rr);sr=ar.bottom;var or=ar.bottom-ar.top;sr=Math.max(2.05*Hn.globals.radialSize,or)}var lr=Math.ceil(sr+er.translateY+nr+ir);er.dom.elLegendForeign&&er.dom.elLegendForeign.setAttribute("height",lr),Hn.config.chart.height&&String(Hn.config.chart.height).includes("%")||(er.dom.elWrap.style.height="".concat(lr,"px"),Mi$1.setAttrs(er.dom.Paper.node,{height:lr}),er.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(lr,"px"))}},{key:"coreCalculations",value:function(){new ia(this.ctx).init()}},{key:"resetGlobals",value:function(){var Hn=this,er=function(){return Hn.w.config.series.map((function(){return[]}))},nr=new Bi$1,ir=this.w.globals,rr={dataWasParsed:ir.dataWasParsed,originalSeries:ir.originalSeries};nr.initGlobalVars(ir),ir.seriesXvalues=er(),ir.seriesYvalues=er(),rr.dataWasParsed&&(ir.dataWasParsed=rr.dataWasParsed,ir.originalSeries=rr.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var Hn=this.w,er=null;if(Hn.globals.axisCharts){if(Hn.config.xaxis.crosshairs.position==="back"&&new oa(this.ctx).drawXCrosshairs(),Hn.config.yaxis[0].crosshairs.position==="back"&&new oa(this.ctx).drawYCrosshairs(),Hn.config.xaxis.type==="datetime"&&Hn.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new qa(this.ctx);var nr=[];isFinite(Hn.globals.minX)&&isFinite(Hn.globals.maxX)&&!Hn.globals.isBarHorizontal?nr=this.ctx.timeScale.calculateTimeScaleTicks(Hn.globals.minX,Hn.globals.maxX):Hn.globals.isBarHorizontal&&(nr=this.ctx.timeScale.calculateTimeScaleTicks(Hn.globals.minY,Hn.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(nr)}er=new Pi$1(this.ctx).getCalculatedRatios()}return er}},{key:"updateSourceChart",value:function(Hn){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:Hn.w.globals.minX,max:Hn.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var Hn=this,er=this.ctx,nr=this.w;if(nr.config.chart.brush.enabled&&typeof nr.config.chart.events.selection!="function"){var ir=Array.isArray(nr.config.chart.brush.targets)?nr.config.chart.brush.targets:[nr.config.chart.brush.target];ir.forEach((function(rr){var sr=er.constructor.getChartByID(rr);sr.w.globals.brushSource=Hn.ctx,typeof sr.w.config.chart.events.zoomed!="function"&&(sr.w.config.chart.events.zoomed=function(){return Hn.updateSourceChart(sr)}),typeof sr.w.config.chart.events.scrolled!="function"&&(sr.w.config.chart.events.scrolled=function(){return Hn.updateSourceChart(sr)})})),nr.config.chart.events.selection=function(rr,sr){ir.forEach((function(ar){er.constructor.getChartByID(ar).ctx.updateHelpers._updateOptions({xaxis:{min:sr.xaxis.min,max:sr.xaxis.max}},!1,!1,!1,!1)}))}}}}]),tr})(),$a=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"_updateOptions",value:function(Hn){var er=this,nr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],rr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],sr=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(ar){var or=[er.ctx];rr&&(or=er.ctx.getSyncedCharts()),er.ctx.w.globals.isExecCalled&&(or=[er.ctx],er.ctx.w.globals.isExecCalled=!1),or.forEach((function(lr,cr){var ur=lr.w;if(ur.globals.shouldAnimate=ir,nr||(ur.globals.resized=!0,ur.globals.dataChanged=!0,ir&&lr.series.getPreviousPaths()),Hn&&b$3(Hn)==="object"&&(lr.config=new Wi$1(Hn),Hn=Pi$1.extendArrayProps(lr.config,Hn,ur),lr.w.globals.chartID!==er.ctx.w.globals.chartID&&delete Hn.series,ur.config=v$1.extend(ur.config,Hn),sr&&(ur.globals.lastXAxis=Hn.xaxis?v$1.clone(Hn.xaxis):[],ur.globals.lastYAxis=Hn.yaxis?v$1.clone(Hn.yaxis):[],ur.globals.initialConfig=v$1.extend({},ur.config),ur.globals.initialSeries=v$1.clone(ur.config.series),Hn.series))){for(var dr=0;dr<ur.globals.collapsedSeriesIndices.length;dr++){var fr=ur.config.series[ur.globals.collapsedSeriesIndices[dr]];ur.globals.collapsedSeries[dr].data=ur.globals.axisCharts?fr.data.slice():fr}for(var xr=0;xr<ur.globals.ancillaryCollapsedSeriesIndices.length;xr++){var yr=ur.config.series[ur.globals.ancillaryCollapsedSeriesIndices[xr]];ur.globals.ancillaryCollapsedSeries[xr].data=ur.globals.axisCharts?yr.data.slice():yr}lr.series.emptyCollapsedSeries(ur.config.series)}return lr.update(Hn).then((function(){cr===or.length-1&&ar(lr)}))}))}))}},{key:"_updateSeries",value:function(Hn,er){var nr=this,ir=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(rr){var sr=nr.w;return sr.globals.shouldAnimate=er,sr.globals.dataChanged=!0,er&&nr.ctx.series.getPreviousPaths(),nr.ctx.data.resetParsingFlags(),nr.ctx.data.parseData(Hn),ir&&(sr.globals.initialConfig.series=v$1.clone(sr.config.series),sr.globals.initialSeries=v$1.clone(sr.config.series)),nr.ctx.update().then((function(){rr(nr.ctx)}))}))}},{key:"_extendSeries",value:function(Hn,er){var nr=this.w,ir=nr.config.series[er];return u$2(u$2({},nr.config.series[er]),{},{name:Hn.name?Hn.name:ir?.name,color:Hn.color?Hn.color:ir?.color,type:Hn.type?Hn.type:ir?.type,group:Hn.group?Hn.group:ir?.group,hidden:Hn.hidden!==void 0?Hn.hidden:ir?.hidden,data:Hn.data?Hn.data:ir?.data,zIndex:Hn.zIndex!==void 0?Hn.zIndex:er})}},{key:"toggleDataPointSelection",value:function(Hn,er){var nr=this.w,ir=null,rr=".apexcharts-series[data\\:realIndex='".concat(Hn,"']");return nr.globals.axisCharts?ir=nr.globals.dom.Paper.findOne("".concat(rr," path[j='").concat(er,"'], ").concat(rr," circle[j='").concat(er,"'], ").concat(rr," rect[j='").concat(er,"']")):er===void 0&&(ir=nr.globals.dom.Paper.findOne("".concat(rr," path[j='").concat(Hn,"']")),nr.config.chart.type!=="pie"&&nr.config.chart.type!=="polarArea"&&nr.config.chart.type!=="donut"||this.ctx.pie.pieClicked(Hn)),ir?(new Mi$1(this.ctx).pathMouseDown(ir,null),ir.node?ir.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(Hn){var er=this.w;if(["min","max"].forEach((function(ir){Hn.xaxis[ir]!==void 0&&(er.config.xaxis[ir]=Hn.xaxis[ir],er.globals.lastXAxis[ir]=Hn.xaxis[ir])})),Hn.xaxis.categories&&Hn.xaxis.categories.length&&(er.config.xaxis.categories=Hn.xaxis.categories),er.config.xaxis.convertedCatToNumeric){var nr=new Ni$1(Hn);Hn=nr.convertCatToNumericXaxis(Hn,this.ctx)}return Hn}},{key:"forceYAxisUpdate",value:function(Hn){return Hn.chart&&Hn.chart.stacked&&Hn.chart.stackType==="100%"&&(Array.isArray(Hn.yaxis)?Hn.yaxis.forEach((function(er,nr){Hn.yaxis[nr].min=0,Hn.yaxis[nr].max=100})):(Hn.yaxis.min=0,Hn.yaxis.max=100)),Hn}},{key:"revertDefaultAxisMinMax",value:function(Hn){var er=this,nr=this.w,ir=nr.globals.lastXAxis,rr=nr.globals.lastYAxis;Hn&&Hn.xaxis&&(ir=Hn.xaxis),Hn&&Hn.yaxis&&(rr=Hn.yaxis),nr.config.xaxis.min=ir.min,nr.config.xaxis.max=ir.max;var sr=function(ar){rr[ar]!==void 0&&(nr.config.yaxis[ar].min=rr[ar].min,nr.config.yaxis[ar].max=rr[ar].max)};nr.config.yaxis.map((function(ar,or){nr.globals.zoomed||rr[or]!==void 0?sr(or):er.ctx.opts.yaxis[or]!==void 0&&(ar.min=er.ctx.opts.yaxis[or].min,ar.max=er.ctx.opts.yaxis[or].max)}))}}]),tr})();(function(){function tr(){for(var rr=arguments.length>0&&arguments[0]!==ur?arguments[0]:[],sr=arguments.length>1?arguments[1]:ur,ar=arguments.length>2?arguments[2]:ur,or=arguments.length>3?arguments[3]:ur,lr=arguments.length>4?arguments[4]:ur,cr=arguments.length>5?arguments[5]:ur,ur=arguments.length>6?arguments[6]:ur,dr=rr.slice(sr,ar||ur),fr=or.slice(lr,cr||ur),xr=0,yr={pos:[0,0],start:[0,0]},_r={pos:[0,0],start:[0,0]};dr[xr]=Hn.call(yr,dr[xr]),fr[xr]=Hn.call(_r,fr[xr]),dr[xr][0]!=fr[xr][0]||dr[xr][0]=="M"||dr[xr][0]=="A"&&(dr[xr][4]!=fr[xr][4]||dr[xr][5]!=fr[xr][5])?(Array.prototype.splice.apply(dr,[xr,1].concat(nr.call(yr,dr[xr]))),Array.prototype.splice.apply(fr,[xr,1].concat(nr.call(_r,fr[xr])))):(dr[xr]=er.call(yr,dr[xr]),fr[xr]=er.call(_r,fr[xr])),!(++xr==dr.length&&xr==fr.length);)xr==dr.length&&dr.push(["C",yr.pos[0],yr.pos[1],yr.pos[0],yr.pos[1],yr.pos[0],yr.pos[1]]),xr==fr.length&&fr.push(["C",_r.pos[0],_r.pos[1],_r.pos[0],_r.pos[1],_r.pos[0],_r.pos[1]]);return{start:dr,dest:fr}}function Hn(rr){switch(rr[0]){case"z":case"Z":rr[0]="L",rr[1]=this.start[0],rr[2]=this.start[1];break;case"H":rr[0]="L",rr[2]=this.pos[1];break;case"V":rr[0]="L",rr[2]=rr[1],rr[1]=this.pos[0];break;case"T":rr[0]="Q",rr[3]=rr[1],rr[4]=rr[2],rr[1]=this.reflection[1],rr[2]=this.reflection[0];break;case"S":rr[0]="C",rr[6]=rr[4],rr[5]=rr[3],rr[4]=rr[2],rr[3]=rr[1],rr[2]=this.reflection[1],rr[1]=this.reflection[0]}return rr}function er(rr){var sr=rr.length;return this.pos=[rr[sr-2],rr[sr-1]],"SCQT".indexOf(rr[0])!=-1&&(this.reflection=[2*this.pos[0]-rr[sr-4],2*this.pos[1]-rr[sr-3]]),rr}function nr(rr){var sr=[rr];switch(rr[0]){case"M":return this.pos=this.start=[rr[1],rr[2]],sr;case"L":rr[5]=rr[3]=rr[1],rr[6]=rr[4]=rr[2],rr[1]=this.pos[0],rr[2]=this.pos[1];break;case"Q":rr[6]=rr[4],rr[5]=rr[3],rr[4]=1*rr[4]/3+2*rr[2]/3,rr[3]=1*rr[3]/3+2*rr[1]/3,rr[2]=1*this.pos[1]/3+2*rr[2]/3,rr[1]=1*this.pos[0]/3+2*rr[1]/3;break;case"A":sr=(function(ar,or){var lr,cr,ur,dr,fr,xr,yr,_r,Sr,jr,Dr,Ir,Mr,Or,Lr,Fr,Vr,Zr,Hr,Yr,eo,io,uo,so,no,po,co=Math.abs(or[1]),lo=Math.abs(or[2]),ao=or[3]%360,xo=or[4],_o=or[5],Po=or[6],Oo=or[7],So=new bt$1(ar),Ao=new bt$1(Po,Oo),zo=[];if(co===0||lo===0||So.x===Ao.x&&So.y===Ao.y)return[["C",So.x,So.y,Ao.x,Ao.y,Ao.x,Ao.y]];for(lr=new bt$1((So.x-Ao.x)/2,(So.y-Ao.y)/2).transform(new vt$1().rotate(ao)),cr=lr.x*lr.x/(co*co)+lr.y*lr.y/(lo*lo),cr>1&&(co*=cr=Math.sqrt(cr),lo*=cr),ur=new vt$1().rotate(ao).scale(1/co,1/lo).rotate(-ao),So=So.transform(ur),Ao=Ao.transform(ur),dr=[Ao.x-So.x,Ao.y-So.y],xr=dr[0]*dr[0]+dr[1]*dr[1],fr=Math.sqrt(xr),dr[0]/=fr,dr[1]/=fr,yr=xr<4?Math.sqrt(1-xr/4):0,xo===_o&&(yr*=-1),_r=new bt$1((Ao.x+So.x)/2+yr*-dr[1],(Ao.y+So.y)/2+yr*dr[0]),Sr=new bt$1(So.x-_r.x,So.y-_r.y),jr=new bt$1(Ao.x-_r.x,Ao.y-_r.y),Dr=Math.acos(Sr.x/Math.sqrt(Sr.x*Sr.x+Sr.y*Sr.y)),Sr.y<0&&(Dr*=-1),Ir=Math.acos(jr.x/Math.sqrt(jr.x*jr.x+jr.y*jr.y)),jr.y<0&&(Ir*=-1),_o&&Dr>Ir&&(Ir+=2*Math.PI),!_o&&Dr<Ir&&(Ir-=2*Math.PI),Or=Math.ceil(2*Math.abs(Dr-Ir)/Math.PI),Fr=[],Vr=Dr,Mr=(Ir-Dr)/Or,Lr=4*Math.tan(Mr/4)/3,eo=0;eo<=Or;eo++)Hr=Math.cos(Vr),Zr=Math.sin(Vr),Yr=new bt$1(_r.x+Hr,_r.y+Zr),Fr[eo]=[new bt$1(Yr.x+Lr*Zr,Yr.y-Lr*Hr),Yr,new bt$1(Yr.x-Lr*Zr,Yr.y+Lr*Hr)],Vr+=Mr;for(Fr[0][0]=Fr[0][1].clone(),Fr[Fr.length-1][2]=Fr[Fr.length-1][1].clone(),ur=new vt$1().rotate(ao).scale(co,lo).rotate(-ao),eo=0,io=Fr.length;eo<io;eo++)Fr[eo][0]=Fr[eo][0].transform(ur),Fr[eo][1]=Fr[eo][1].transform(ur),Fr[eo][2]=Fr[eo][2].transform(ur);for(eo=1,io=Fr.length;eo<io;eo++)uo=(Yr=Fr[eo-1][2]).x,so=Yr.y,no=(Yr=Fr[eo][0]).x,po=Yr.y,Po=(Yr=Fr[eo][1]).x,Oo=Yr.y,zo.push(["C",uo,so,no,po,Po,Oo]);return zo})(this.pos,rr),rr=sr[0]}return rr[0]="C",this.pos=[rr[5],rr[6]],this.reflection=[2*rr[5]-rr[3],2*rr[6]-rr[4]],sr}function ir(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],sr=arguments.length>1?arguments[1]:void 0;if(sr===!1)return!1;for(var ar=sr,or=rr.length;ar<or;++ar)if(rr[ar][0]=="M")return ar;return!1}Q$1(Ee,{morph:function(rr,sr,ar,or,lr){for(var cr=this.parse(rr),ur=this.parse(sr),dr=0,fr=0,xr=!1,yr=!1;dr!==!1||fr!==!1;){var _r;xr=ir(cr,dr!==!1&&dr+1),yr=ir(ur,fr!==!1&&fr+1),dr===!1&&(dr=(_r=new Ee(Sr.start).bbox()).height==0||_r.width==0?cr.push(cr[0])-1:cr.push(["M",_r.x+_r.width/2,_r.y+_r.height/2])-1),fr===!1&&(fr=(_r=new Ee(Sr.dest).bbox()).height==0||_r.width==0?ur.push(ur[0])-1:ur.push(["M",_r.x+_r.width/2,_r.y+_r.height/2])-1);var Sr=tr(cr,dr,xr,ur,fr,yr);cr=cr.slice(0,dr).concat(Sr.start,xr===!1?[]:cr.slice(xr)),ur=ur.slice(0,fr).concat(Sr.dest,yr===!1?[]:ur.slice(yr)),dr=xr!==!1&&dr+Sr.start.length,fr=yr!==!1&&fr+Sr.dest.length}this._array=cr,this.destination=new Ee,this.destination._array=ur;var jr=this.fromArray(cr.map((function(Dr,Ir){var Mr=ur[Ir].map((function(Or,Lr){return Lr===0?Or:or.step(Dr[Lr],ur[Ir][Lr],ar,lr[Ir],lr)}));return Mr})));return jr}})})();const Ja=tr=>(tr.changedTouches&&(tr=tr.changedTouches[0]),{x:tr.clientX,y:tr.clientY});class Qa{constructor(Hn){Hn.remember("_draggable",this),this.el=Hn,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(Hn){Hn?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(Hn){const er=!Hn.type.indexOf("mouse");if(er&&Hn.which!==1&&Hn.buttons!==0||this.el.dispatch("beforedrag",{event:Hn,handler:this}).defaultPrevented)return;Hn.preventDefault(),Hn.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Ja(Hn));const nr=(er?"mouseup":"touchend")+".drag";zt$1(window,(er?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),zt$1(window,nr,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:Hn,handler:this,box:this.box})}drag(Hn){const{box:er,lastClick:nr}=this,ir=this.el.point(Ja(Hn)),rr=ir.x-nr.x,sr=ir.y-nr.y;if(!rr&&!sr)return er;const ar=er.x+rr,or=er.y+sr;this.box=new kt$1(ar,or,er.w,er.h),this.lastClick=ir,this.el.dispatch("dragmove",{event:Hn,handler:this,box:this.box}).defaultPrevented||this.move(ar,or)}move(Hn,er){this.el.type==="svg"?gi$1.prototype.move.call(this.el,Hn,er):this.el.move(Hn,er)}endDrag(Hn){this.drag(Hn),this.el.fire("dragend",{event:Hn,handler:this,box:this.box}),Xt$1(window,"mousemove.drag"),Xt$1(window,"touchmove.drag"),Xt$1(window,"mouseup.drag"),Xt$1(window,"touchend.drag"),this.init(!0)}}function Ka(tr,Hn,er,nr=null){return function(ir){ir.preventDefault(),ir.stopPropagation();var rr=ir.pageX||ir.touches[0].pageX,sr=ir.pageY||ir.touches[0].pageY;Hn.fire(tr,{x:rr,y:sr,event:ir,index:nr,points:er})}}function ts$1([tr,Hn],{a:er,b:nr,c:ir,d:rr,e:sr,f:ar}){return[tr*er+Hn*ir+sr,tr*nr+Hn*rr+ar]}Q$1(Gt$1,{draggable(tr=!0){return(this.remember("_draggable")||new Qa(this)).init(tr),this}});let es$1=class{constructor(Hn){this.el=Hn,Hn.remember("_selectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F$1();this.observer=new er.MutationObserver(this.mutationHandler)}init(Hn){this.createHandle=Hn.createHandle||this.createHandleFn,this.createRot=Hn.createRot||this.createRotFn,this.updateHandle=Hn.updateHandle||this.updateHandleFn,this.updateRot=Hn.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(Hn,er){if(!Hn)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.createHandle.call(this,this.selection,Hn,er,nr,ir),this.selection.get(er+1).addClass("svg_select_handle svg_select_handle_"+ir).on("mousedown.selection touchstart.selection",Ka(ir,this.el,this.handlePoints,er))}))}createHandleFn(Hn){Hn.polyline()}updateHandleFn(Hn,er,nr,ir){const rr=ir.at(nr-1),sr=ir[(nr+1)%ir.length],ar=er,or=[ar[0]-rr[0],ar[1]-rr[1]],lr=[ar[0]-sr[0],ar[1]-sr[1]],cr=Math.sqrt(or[0]*or[0]+or[1]*or[1]),ur=Math.sqrt(lr[0]*lr[0]+lr[1]*lr[1]),dr=[or[0]/cr,or[1]/cr],fr=[lr[0]/ur,lr[1]/ur],xr=[ar[0]-10*dr[0],ar[1]-10*dr[1]],yr=[ar[0]-10*fr[0],ar[1]-10*fr[1]];Hn.plot([xr,ar,yr])}updateResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.updateHandle.call(this,this.selection.get(er+1),Hn,er,nr,ir)}))}createRotFn(Hn){Hn.line(),Hn.circle(5)}getPoint(Hn){return this.handlePoints[this.order.indexOf(Hn)]}getPointHandle(Hn){return this.selection.get(this.order.indexOf(Hn)+1)}updateRotFn(Hn,er){const nr=this.getPoint("t");Hn.get(0).plot(nr[0],nr[1],er[0],er[1]),Hn.get(1).center(er[0],er[1])}createRotationHandle(){const Hn=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Ka("rot",this.el,this.handlePoints));this.createRot.call(this,Hn)}updateRotationHandle(){const Hn=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(Hn,this.rotationPoint,this.handlePoints)}updatePoints(){const Hn=this.el.bbox(),er=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(Hn).map((nr=>ts$1(nr,er))),this.rotationPoint=ts$1(this.getRotationPoint(Hn),er)}getHandlePoints({x:Hn,x2:er,y:nr,y2:ir,cx:rr,cy:sr}=this.el.bbox()){return[[Hn,nr],[rr,nr],[er,nr],[er,sr],[er,ir],[rr,ir],[Hn,ir],[Hn,sr]]}getRotationPoint({y:Hn,cx:er}=this.el.bbox()){return[er,Hn-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const is$1=tr=>function(Hn=!0,er={}){typeof Hn=="object"&&(er=Hn,Hn=!0);let nr=this.remember("_"+tr.name);return nr||(Hn.prototype instanceof es$1?(nr=new Hn(this),Hn=!0):nr=new tr(this),this.remember("_"+tr.name,nr)),nr.active(Hn,er),this};function as$1(tr,Hn,er,nr=null){return function(ir){ir.preventDefault(),ir.stopPropagation();var rr=ir.pageX||ir.touches[0].pageX,sr=ir.pageY||ir.touches[0].pageY;Hn.fire(tr,{x:rr,y:sr,event:ir,index:nr,points:er})}}function ss$1([tr,Hn],{a:er,b:nr,c:ir,d:rr,e:sr,f:ar}){return[tr*er+Hn*ir+sr,tr*nr+Hn*rr+ar]}Q$1(Gt$1,{select:is$1(es$1)}),Q$1([Ge,je,xe$1],{pointSelect:is$1(class{constructor(tr){this.el=tr,tr.remember("_pointSelectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Hn=F$1();this.observer=new Hn.MutationObserver(this.mutationHandler)}init(tr){this.createHandle=tr.createHandle||this.createHandleFn,this.updateHandle=tr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(tr,Hn){if(!tr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Hn)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((tr,Hn,er)=>{this.createHandle.call(this,this.selection,tr,Hn,er),this.selection.get(Hn+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Ka("point",this.el,this.points,Hn))}))}createHandleFn(tr){tr.circle(5)}updateHandleFn(tr,Hn){tr.center(Hn[0],Hn[1])}updatePointHandles(){this.points.forEach(((tr,Hn,er)=>{this.updateHandle.call(this,this.selection.get(Hn+1),tr,Hn,er)}))}updatePoints(){const tr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((Hn=>ts$1(Hn,tr)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});let rs$1=class{constructor(Hn){this.el=Hn,Hn.remember("_selectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F$1();this.observer=new er.MutationObserver(this.mutationHandler)}init(Hn){this.createHandle=Hn.createHandle||this.createHandleFn,this.createRot=Hn.createRot||this.createRotFn,this.updateHandle=Hn.updateHandle||this.updateHandleFn,this.updateRot=Hn.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(Hn,er){if(!Hn)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.createHandle.call(this,this.selection,Hn,er,nr,ir),this.selection.get(er+1).addClass("svg_select_handle svg_select_handle_"+ir).on("mousedown.selection touchstart.selection",as$1(ir,this.el,this.handlePoints,er))}))}createHandleFn(Hn){Hn.polyline()}updateHandleFn(Hn,er,nr,ir){const rr=ir.at(nr-1),sr=ir[(nr+1)%ir.length],ar=er,or=[ar[0]-rr[0],ar[1]-rr[1]],lr=[ar[0]-sr[0],ar[1]-sr[1]],cr=Math.sqrt(or[0]*or[0]+or[1]*or[1]),ur=Math.sqrt(lr[0]*lr[0]+lr[1]*lr[1]),dr=[or[0]/cr,or[1]/cr],fr=[lr[0]/ur,lr[1]/ur],xr=[ar[0]-10*dr[0],ar[1]-10*dr[1]],yr=[ar[0]-10*fr[0],ar[1]-10*fr[1]];Hn.plot([xr,ar,yr])}updateResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.updateHandle.call(this,this.selection.get(er+1),Hn,er,nr,ir)}))}createRotFn(Hn){Hn.line(),Hn.circle(5)}getPoint(Hn){return this.handlePoints[this.order.indexOf(Hn)]}getPointHandle(Hn){return this.selection.get(this.order.indexOf(Hn)+1)}updateRotFn(Hn,er){const nr=this.getPoint("t");Hn.get(0).plot(nr[0],nr[1],er[0],er[1]),Hn.get(1).center(er[0],er[1])}createRotationHandle(){const Hn=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",as$1("rot",this.el,this.handlePoints));this.createRot.call(this,Hn)}updateRotationHandle(){const Hn=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(Hn,this.rotationPoint,this.handlePoints)}updatePoints(){const Hn=this.el.bbox(),er=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(Hn).map((nr=>ss$1(nr,er))),this.rotationPoint=ss$1(this.getRotationPoint(Hn),er)}getHandlePoints({x:Hn,x2:er,y:nr,y2:ir,cx:rr,cy:sr}=this.el.bbox()){return[[Hn,nr],[rr,nr],[er,nr],[er,sr],[er,ir],[rr,ir],[Hn,ir],[Hn,sr]]}getRotationPoint({y:Hn,cx:er}=this.el.bbox()){return[er,Hn-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const ns$1=tr=>function(Hn=!0,er={}){typeof Hn=="object"&&(er=Hn,Hn=!0);let nr=this.remember("_"+tr.name);return nr||(Hn.prototype instanceof rs$1?(nr=new Hn(this),Hn=!0):nr=new tr(this),this.remember("_"+tr.name,nr)),nr.active(Hn,er),this};Q$1(Gt$1,{select:ns$1(rs$1)}),Q$1([Ge,je,xe$1],{pointSelect:ns$1(class{constructor(tr){this.el=tr,tr.remember("_pointSelectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Hn=F$1();this.observer=new Hn.MutationObserver(this.mutationHandler)}init(tr){this.createHandle=tr.createHandle||this.createHandleFn,this.updateHandle=tr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(tr,Hn){if(!tr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Hn)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((tr,Hn,er)=>{this.createHandle.call(this,this.selection,tr,Hn,er),this.selection.get(Hn+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",as$1("point",this.el,this.points,Hn))}))}createHandleFn(tr){tr.circle(5)}updateHandleFn(tr,Hn){tr.center(Hn[0],Hn[1])}updatePointHandles(){this.points.forEach(((tr,Hn,er)=>{this.updateHandle.call(this,this.selection.get(Hn+1),tr,Hn,er)}))}updatePoints(){const tr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((Hn=>ss$1(Hn,tr)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const os$1=tr=>(tr.changedTouches&&(tr=tr.changedTouches[0]),{x:tr.clientX,y:tr.clientY}),ls$1=tr=>{let Hn=1/0,er=1/0,nr=-1/0,ir=-1/0;for(let rr=0;rr<tr.length;rr++){const sr=tr[rr];Hn=Math.min(Hn,sr[0]),er=Math.min(er,sr[1]),nr=Math.max(nr,sr[0]),ir=Math.max(ir,sr[1])}return new kt$1(Hn,er,nr-Hn,ir-er)};let hs$1=class{constructor(Hn){this.el=Hn,Hn.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(Hn,er){this.preserveAspectRatio=er.preserveAspectRatio??!1,this.aroundCenter=er.aroundCenter??!1,this.grid=er.grid??0,this.degree=er.degree??0,this.el.off(".resize"),Hn&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(Hn){this.eventType=Hn.type;const{event:er,index:nr,points:ir}=Hn.detail,rr=!er.type.indexOf("mouse");if(rr&&(er.which||er.buttons)!==1||this.el.dispatch("beforeresize",{event:Hn,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(os$1(er)),this.index=nr,this.points=ir.slice();const sr=(rr?"mousemove":"touchmove")+".resize",ar=(rr?"mouseup":"touchcancel.resize touchend")+".resize";Hn.type==="point"?zt$1(window,sr,this.movePoint):Hn.type==="rot"?zt$1(window,sr,this.rotate):zt$1(window,sr,this.resize),zt$1(window,ar,this.endResize)}resize(Hn){this.lastEvent=Hn;const er=this.snapToGrid(this.el.point(os$1(Hn)));let nr=er.x-this.startPoint.x,ir=er.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(nr*=2,ir*=2);const rr=this.box.x+nr,sr=this.box.y+ir,ar=this.box.x2+nr,or=this.box.y2+ir;let lr=new kt$1(this.box);if(this.eventType.includes("l")&&(lr.x=Math.min(rr,this.box.x2),lr.x2=Math.max(rr,this.box.x2)),this.eventType.includes("r")&&(lr.x=Math.min(ar,this.box.x),lr.x2=Math.max(ar,this.box.x)),this.eventType.includes("t")&&(lr.y=Math.min(sr,this.box.y2),lr.y2=Math.max(sr,this.box.y2)),this.eventType.includes("b")&&(lr.y=Math.min(or,this.box.y),lr.y2=Math.max(or,this.box.y)),lr.width=lr.x2-lr.x,lr.height=lr.y2-lr.y,this.preserveAspectRatio){const cr=lr.width/this.box.width,ur=lr.height/this.box.height,dr=["lt","t","rt","r","rb","b","lb","l"],fr=(dr.indexOf(this.eventType)+4)%dr.length,xr=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[fr];let yr=this.eventType.includes("t")||this.eventType.includes("b")?ur:cr;yr=this.eventType.length===2?Math.max(cr,ur):yr,lr=(function(_r,Sr,jr){const Dr=[[_r.x,_r.y],[_r.x+_r.width,_r.y],[_r.x+_r.width,_r.y+_r.height],[_r.x,_r.y+_r.height]].map((([Ir,Mr])=>{const Or=Ir-Sr[0],Lr=(Mr-Sr[1])*jr;return[Or*jr+Sr[0],Lr+Sr[1]]}));return ls$1(Dr)})(this.box,xr,yr)}this.el.dispatch("resize",{box:new kt$1(lr),angle:0,eventType:this.eventType,event:Hn,handler:this}).defaultPrevented||this.el.size(lr.width,lr.height).move(lr.x,lr.y)}movePoint(Hn){this.lastEvent=Hn;const{x:er,y:nr}=this.snapToGrid(this.el.point(os$1(Hn))),ir=this.el.array().slice();ir[this.index]=[er,nr],this.el.dispatch("resize",{box:ls$1(ir),angle:0,eventType:this.eventType,event:Hn,handler:this}).defaultPrevented||this.el.plot(ir)}rotate(Hn){this.lastEvent=Hn;const er=this.startPoint,nr=this.el.point(os$1(Hn)),{cx:ir,cy:rr}=this.box,sr=er.x-ir,ar=er.y-rr,or=nr.x-ir,lr=nr.y-rr,cr=Math.sqrt(sr*sr+ar*ar)*Math.sqrt(or*or+lr*lr);if(cr===0)return;let ur=Math.acos((sr*or+ar*lr)/cr)/Math.PI*180;if(!ur)return;nr.x<er.x&&(ur=-ur);const dr=new vt$1(this.el),{x:fr,y:xr}=new bt$1(ir,rr).transformO(dr),{rotate:yr}=dr.decompose(),_r=this.snapToAngle(yr+ur)-yr;this.el.dispatch("resize",{box:this.box,angle:_r,eventType:this.eventType,event:Hn,handler:this}).defaultPrevented||this.el.transform(dr.rotateO(_r,fr,xr))}endResize(Hn){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(Hn),this.lastEvent=null,this.eventType="",Xt$1(window,"mousemove.resize touchmove.resize"),Xt$1(window,"mouseup.resize touchend.resize")}snapToGrid(Hn){return this.grid&&(Hn.x=Math.round(Hn.x/this.grid)*this.grid,Hn.y=Math.round(Hn.y/this.grid)*this.grid),Hn}snapToAngle(Hn){return this.degree&&(Hn=Math.round(Hn/this.degree)*this.degree),Hn}};Q$1(Gt$1,{resize:function(tr=!0,Hn={}){typeof tr=="object"&&(Hn=tr,tr=!0);let er=this.remember("_ResizeHandler");return er||(tr.prototype instanceof hs$1?(er=new tr(this),tr=!0):er=new hs$1(this),this.remember("_resizeHandler",er)),er.active(tr,Hn),this}}),window.SVG===void 0&&(window.SVG=yi$1),window.Apex===void 0&&(window.Apex={});var cs$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new y$3(this.ctx),this.ctx.axes=new na(this.ctx),this.ctx.core=new Za(this.ctx.el,this.ctx),this.ctx.config=new Wi$1({}),this.ctx.data=new Ji$1(this.ctx),this.ctx.grid=new ta(this.ctx),this.ctx.graphics=new Mi$1(this.ctx),this.ctx.coreUtils=new Pi$1(this.ctx),this.ctx.crosshairs=new oa(this.ctx),this.ctx.events=new sa(this.ctx),this.ctx.exports=new Qi$1(this.ctx),this.ctx.fill=new ji$1(this.ctx),this.ctx.localization=new ra(this.ctx),this.ctx.options=new Oi$1,this.ctx.responsive=new la(this.ctx),this.ctx.series=new $i$1(this.ctx),this.ctx.theme=new ha(this.ctx),this.ctx.formatters=new Xi$1(this.ctx),this.ctx.titleSubtitle=new ca(this.ctx),this.ctx.legend=new ba(this.ctx),this.ctx.toolbar=new ma(this.ctx),this.ctx.tooltip=new La(this.ctx),this.ctx.dimensions=new fa(this.ctx),this.ctx.updateHelpers=new $a(this.ctx),this.ctx.zoomPanSelection=new va(this.ctx),this.ctx.w.globals.tooltip=new La(this.ctx)}}]),tr})(),ds$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"clear",value:function(Hn){var er=Hn.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:er})}},{key:"killSVG",value:function(Hn){Hn.each((function(){this.removeClass("*"),this.off()}),!0),Hn.clear()}},{key:"clearDomElements",value:function(Hn){var er=this,nr=Hn.isUpdating,ir=this.w.globals.dom.Paper.node;ir.parentNode&&ir.parentNode.parentNode&&!nr&&(ir.parentNode.parentNode.style.minHeight="unset");var rr=this.w.globals.dom.baseEl;rr&&this.ctx.eventList.forEach((function(ar){rr.removeEventListener(ar,er.ctx.events.documentEvent)}));var sr=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(sr.Paper),sr.Paper.remove(),sr.elWrap=null,sr.elGraphical=null,sr.elLegendWrap=null,sr.elLegendForeign=null,sr.baseEl=null,sr.elGridRect=null,sr.elGridRectMask=null,sr.elGridRectBarMask=null,sr.elGridRectMarkerMask=null,sr.elForecastMask=null,sr.elNonForecastMask=null,sr.elDefs=null}}]),tr})(),us$1=new WeakMap,gs$1=(function(){function tr(Hn,er){i$1(this,tr),this.opts=er,this.ctx=this,this.w=new Gi$1(er).init(),this.el=Hn,this.w.globals.cuid=v$1.randomId(),this.w.globals.chartID=this.w.config.chart.id?v$1.escapeString(this.w.config.chart.id):this.w.globals.cuid,new cs$1(this).initModules(),this.lastUpdateOptions=null,this.create=v$1.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return s$1(tr,[{key:"render",value:function(){var Hn=this;return new Promise((function(er,nr){if(v$1.elementExists(Hn.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),Hn.w.config.chart.id&&Apex._chartInstances.push({id:Hn.w.globals.chartID,group:Hn.w.config.chart.group,chart:Hn}),Hn.setLocale(Hn.w.config.chart.defaultLocale);var ir=Hn.w.config.chart.events.beforeMount;typeof ir=="function"&&ir(Hn,Hn.w),Hn.events.fireEvent("beforeMount",[Hn,Hn.w]),window.addEventListener("resize",Hn.windowResizeHandler),(function(dr,fr){var xr=!1;if(dr.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var yr=dr.getBoundingClientRect();dr.style.display!=="none"&&yr.width!==0||(xr=!0)}var _r=new ResizeObserver((function(Sr){xr&&fr.call(dr,Sr),xr=!0}));dr.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(dr.children).forEach((function(Sr){return _r.observe(Sr)})):_r.observe(dr),us$1.set(fr,_r)})(Hn.el.parentNode,Hn.parentResizeHandler);var rr=Hn.el.getRootNode&&Hn.el.getRootNode(),sr=v$1.is("ShadowRoot",rr),ar=Hn.el.ownerDocument,or=sr?rr.getElementById("apexcharts-css"):ar.getElementById("apexcharts-css");if(!or){var lr;(or=document.createElement("style")).id="apexcharts-css",or.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var cr=((lr=Hn.opts.chart)===null||lr===void 0?void 0:lr.nonce)||Hn.w.config.chart.nonce;cr&&or.setAttribute("nonce",cr),sr?rr.prepend(or):Hn.w.config.chart.injectStyleSheet!==!1&&ar.head.appendChild(or)}var ur=Hn.create(Hn.w.config.series,{});if(!ur)return er(Hn);Hn.mount(ur).then((function(){typeof Hn.w.config.chart.events.mounted=="function"&&Hn.w.config.chart.events.mounted(Hn,Hn.w),Hn.events.fireEvent("mounted",[Hn,Hn.w]),er(ur)})).catch((function(dr){nr(dr)}))}else nr(new Error("Element not found"))}))}},{key:"create",value:function(Hn,er){var nr=this,ir=this.w;new cs$1(this).initModules();var rr=this.w.globals;if(rr.noData=!1,rr.animationEnded=!1,!v$1.elementExists(this.el)||(this.responsive.checkResponsiveConfig(er),ir.config.xaxis.convertedCatToNumeric&&new Ni$1(ir.config).convertCatToNumericXaxis(ir.config,this.ctx),this.core.setupElements(),ir.config.chart.type==="treemap"&&(ir.config.grid.show=!1,ir.config.yaxis[0].show=!1),rr.svgWidth===0))return rr.animationEnded=!0,null;var sr=Hn;Hn.forEach((function(dr,fr){dr.hidden&&(sr=nr.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:fr}))}));var ar=Pi$1.checkComboSeries(sr,ir.config.chart.type);rr.comboCharts=ar.comboCharts,rr.comboBarCount=ar.comboBarCount;var or=sr.every((function(dr){return dr.data&&dr.data.length===0}));(sr.length===0||or&&rr.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(sr),this.theme.init(),new Vi$1(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),rr.noData&&rr.collapsedSeries.length!==rr.series.length&&!ir.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),rr.axisCharts&&(this.core.coreCalculations(),ir.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=ir.globals.minX,this.ctx.toolbar.maxX=ir.globals.maxX),this.formatters.heatmapLabelFormatters(),new Pi$1(this).getLargestMarkerSize(),this.dimensions.plotCoords();var lr=this.core.xySettings();this.grid.createGridMask();var cr=this.core.plotChartType(sr,lr),ur=new qi$1(this);return ur.bringForward(),ir.config.dataLabels.background.enabled&&ur.dataLabelsBackground(),this.core.shiftGraphPosition(),ir.globals.dataPoints>50&&ir.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:cr,xyRatios:lr,dimensions:{plot:{left:ir.globals.translateX,top:ir.globals.translateY,width:ir.globals.gridWidth,height:ir.globals.gridHeight}}}}},{key:"mount",value:function(){var Hn=this,er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,nr=this,ir=nr.w;return new Promise((function(rr,sr){if(nr.el===null)return sr(new Error("Not enough data to display or target element not found"));(er===null||ir.globals.allSeriesCollapsed)&&nr.series.handleNoData(),nr.grid=new ta(nr);var ar,or,lr=nr.grid.drawGrid();if(nr.annotations=new Fi$1(nr),nr.annotations.drawImageAnnos(),nr.annotations.drawTextAnnos(),ir.config.grid.position==="back"&&(lr&&ir.globals.dom.elGraphical.add(lr.el),lr!=null&&(ar=lr.elGridBorders)!==null&&ar!==void 0&&ar.node&&ir.globals.dom.elGraphical.add(lr.elGridBorders)),Array.isArray(er.elGraph))for(var cr=0;cr<er.elGraph.length;cr++)ir.globals.dom.elGraphical.add(er.elGraph[cr]);else ir.globals.dom.elGraphical.add(er.elGraph);ir.config.grid.position==="front"&&(lr&&ir.globals.dom.elGraphical.add(lr.el),lr!=null&&(or=lr.elGridBorders)!==null&&or!==void 0&&or.node&&ir.globals.dom.elGraphical.add(lr.elGridBorders)),ir.config.xaxis.crosshairs.position==="front"&&nr.crosshairs.drawXCrosshairs(),ir.config.yaxis[0].crosshairs.position==="front"&&nr.crosshairs.drawYCrosshairs(),ir.config.chart.type!=="treemap"&&nr.axes.drawAxis(ir.config.chart.type,lr);var ur=new Ki$1(Hn.ctx,lr),dr=new aa(Hn.ctx,lr);if(lr!==null&&(ur.xAxisLabelCorrections(lr.xAxisTickWidth),dr.setYAxisTextAlignments(),ir.config.yaxis.map((function(xr,yr){ir.globals.ignoreYAxisIndexes.indexOf(yr)===-1&&dr.yAxisTitleRotate(yr,xr.opposite)}))),nr.annotations.drawAxesAnnotations(),!ir.globals.noData){if(ir.config.tooltip.enabled&&!ir.globals.noData&&nr.w.globals.tooltip.drawTooltip(er.xyRatios),ir.globals.axisCharts&&(ir.globals.isXNumeric||ir.config.xaxis.convertedCatToNumeric||ir.globals.isRangeBar))(ir.config.chart.zoom.enabled||ir.config.chart.selection&&ir.config.chart.selection.enabled||ir.config.chart.pan&&ir.config.chart.pan.enabled)&&nr.zoomPanSelection.init({xyRatios:er.xyRatios});else{var fr=ir.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(xr){fr[xr]=!1}))}ir.config.chart.toolbar.show&&!ir.globals.allSeriesCollapsed&&nr.toolbar.createToolbar()}ir.globals.memory.methodsToExec.length>0&&ir.globals.memory.methodsToExec.forEach((function(xr){xr.method(xr.params,!1,xr.context)})),ir.globals.axisCharts||ir.globals.noData||nr.core.resizeNonAxisCharts(),rr(nr)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(er,nr){var ir=us$1.get(nr);ir&&(ir.disconnect(),us$1.delete(nr))})(this.el.parentNode,this.parentResizeHandler);var Hn=this.w.config.chart.id;Hn&&Apex._chartInstances.forEach((function(er,nr){er.id===v$1.escapeString(Hn)&&Apex._chartInstances.splice(nr,1)})),new ds$1(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(Hn){var er=this,nr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],rr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],sr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],ar=this.w;return ar.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(Hn)?this:(Hn.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),Hn.series.length&&Hn.series[0].data&&(Hn.series=Hn.series.map((function(or,lr){return er.updateHelpers._extendSeries(or,lr)}))),this.updateHelpers.revertDefaultAxisMinMax()),Hn.xaxis&&(Hn=this.updateHelpers.forceXAxisUpdate(Hn)),Hn.yaxis&&(Hn=this.updateHelpers.forceYAxisUpdate(Hn)),ar.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),Hn.theme&&(Hn=this.theme.updateThemeOptions(Hn)),this.updateHelpers._updateOptions(Hn,nr,ir,rr,sr))}},{key:"updateSeries",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(Hn,er,nr)}},{key:"appendSeries",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var ir=this.w.config.series.slice();return ir.push(Hn),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(ir,er,nr)}},{key:"appendData",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=this;nr.data.resetParsingFlags(),nr.w.globals.dataChanged=!0,nr.series.getPreviousPaths();for(var ir=nr.w.config.series.slice(),rr=0;rr<ir.length;rr++)if(Hn[rr]!==null&&Hn[rr]!==void 0)for(var sr=0;sr<Hn[rr].data.length;sr++)ir[rr].data.push(Hn[rr].data[sr]);return nr.w.config.series=ir,er&&(nr.w.globals.initialSeries=v$1.clone(nr.w.config.series)),this.update()}},{key:"update",value:function(Hn){var er=this;return new Promise((function(nr,ir){if(er.lastUpdateOptions&&JSON.stringify(er.lastUpdateOptions)===JSON.stringify(Hn))return nr(er);er.lastUpdateOptions=v$1.clone(Hn),new ds$1(er.ctx).clear({isUpdating:!0});var rr=er.create(er.w.config.series,Hn);if(!rr)return nr(er);er.mount(rr).then((function(){typeof er.w.config.chart.events.updated=="function"&&er.w.config.chart.events.updated(er,er.w),er.events.fireEvent("updated",[er,er.w]),er.w.globals.isDirty=!0,nr(er)})).catch((function(sr){ir(sr)}))}))}},{key:"getSyncedCharts",value:function(){var Hn=this.getGroupedCharts(),er=[this];return Hn.length&&(er=[],Hn.forEach((function(nr){er.push(nr)}))),er}},{key:"getGroupedCharts",value:function(){var Hn=this;return Apex._chartInstances.filter((function(er){if(er.group)return!0})).map((function(er){return Hn.w.config.chart.group===er.group?er.chart:Hn}))}},{key:"toggleSeries",value:function(Hn){return this.series.toggleSeries(Hn)}},{key:"highlightSeriesOnLegendHover",value:function(Hn,er){return this.series.toggleSeriesOnHover(Hn,er)}},{key:"showSeries",value:function(Hn){this.series.showSeries(Hn)}},{key:"hideSeries",value:function(Hn){this.series.hideSeries(Hn)}},{key:"highlightSeries",value:function(Hn){this.series.highlightSeries(Hn)}},{key:"isSeriesHidden",value:function(Hn){this.series.isSeriesHidden(Hn)}},{key:"resetSeries",value:function(){var Hn=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(Hn,er)}},{key:"addEventListener",value:function(Hn,er){this.events.addEventListener(Hn,er)}},{key:"removeEventListener",value:function(Hn,er){this.events.removeEventListener(Hn,er)}},{key:"addXaxisAnnotation",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ir=this;nr&&(ir=nr),ir.annotations.addXaxisAnnotationExternal(Hn,er,ir)}},{key:"addYaxisAnnotation",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ir=this;nr&&(ir=nr),ir.annotations.addYaxisAnnotationExternal(Hn,er,ir)}},{key:"addPointAnnotation",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ir=this;nr&&(ir=nr),ir.annotations.addPointAnnotationExternal(Hn,er,ir)}},{key:"clearAnnotations",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,er=this;Hn&&(er=Hn),er.annotations.clearAnnotations(er)}},{key:"removeAnnotation",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,nr=this;er&&(nr=er),nr.annotations.removeAnnotation(nr,Hn)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(Hn,er){return this.coreUtils.getSeriesTotalsXRange(Hn,er)}},{key:"getHighestValueInSeries",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ia(this.ctx).getMinYMaxY(Hn).highestY}},{key:"getLowestValueInSeries",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ia(this.ctx).getMinYMaxY(Hn).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(Hn,er){return this.updateHelpers.toggleDataPointSelection(Hn,er)}},{key:"zoomX",value:function(Hn,er){this.ctx.toolbar.zoomUpdateOptions(Hn,er)}},{key:"setLocale",value:function(Hn){this.localization.setCurrentLocaleValues(Hn)}},{key:"dataURI",value:function(Hn){return new Qi$1(this.ctx).dataURI(Hn)}},{key:"getSvgString",value:function(Hn){return new Qi$1(this.ctx).getSvgString(Hn)}},{key:"exportToCSV",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Qi$1(this.ctx).exportToCSV(Hn)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var Hn=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){Hn.w.globals.resized=!0,Hn.w.globals.dataChanged=!1,Hn.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var Hn=this.w.config.chart.redrawOnWindowResize;typeof Hn=="function"&&(Hn=Hn()),Hn&&this._windowResize()}}],[{key:"getChartByID",value:function(Hn){var er=v$1.escapeString(Hn);if(Apex._chartInstances){var nr=Apex._chartInstances.filter((function(ir){return ir.id===er}))[0];return nr&&nr.chart}}},{key:"initOnLoad",value:function(){for(var Hn=document.querySelectorAll("[data-apexcharts]"),er=0;er<Hn.length;er++)new tr(Hn[er],JSON.parse(Hn[er].getAttribute("data-options"))).render()}},{key:"exec",value:function(Hn,er){var nr=this.getChartByID(Hn);if(nr){nr.w.globals.isExecCalled=!0;var ir=null;if(nr.publicMethods.indexOf(er)!==-1){for(var rr=arguments.length,sr=new Array(rr>2?rr-2:0),ar=2;ar<rr;ar++)sr[ar-2]=arguments[ar];ir=nr[er].apply(nr,sr)}return ir}}},{key:"merge",value:function(Hn,er){return v$1.extend(Hn,er)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),tr})(),propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var tr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=tr,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var tr=requireReactPropTypesSecret();function Hn(){}function er(){}return er.resetWarningCache=Hn,factoryWithThrowingShims=function(){function nr(sr,ar,or,lr,cr,ur){if(ur!==tr){var dr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw dr.name="Invariant Violation",dr}}nr.isRequired=nr;function ir(){return nr}var rr={array:nr,bigint:nr,bool:nr,func:nr,number:nr,object:nr,string:nr,symbol:nr,any:nr,arrayOf:ir,element:nr,elementType:nr,instanceOf:ir,node:nr,objectOf:ir,oneOf:ir,oneOfType:ir,shape:ir,exact:ir,checkPropTypes:er,resetWarningCache:Hn};return rr.PropTypes=rr,rr},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const o$1=getDefaultExportFromCjs(propTypesExports);function i(tr,Hn,er){return(Hn=(function(nr){var ir=(function(rr,sr){if(typeof rr!="object"||!rr)return rr;var ar=rr[Symbol.toPrimitive];if(ar!==void 0){var or=ar.call(rr,sr);if(typeof or!="object")return or;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sr==="string"?String:Number)(rr)})(nr,"string");return typeof ir=="symbol"?ir:ir+""})(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function u$1(){return u$1=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},u$1.apply(null,arguments)}function c$1(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter((function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable}))),er.push.apply(er,nr)}return er}function f$1(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?c$1(Object(er),!0).forEach((function(nr){i(tr,nr,er[nr])})):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):c$1(Object(er)).forEach((function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))}))}return tr}function a$1(tr){return a$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Hn){return typeof Hn}:function(Hn){return Hn&&typeof Symbol=="function"&&Hn.constructor===Symbol&&Hn!==Symbol.prototype?"symbol":typeof Hn},a$1(tr)}var s=["type","width","height","series","options","chartRef"];function p$1(tr){return tr&&a$1(tr)==="object"&&!Array.isArray(tr)}function l$1(tr,Hn){var er=f$1({},tr);return p$1(tr)&&p$1(Hn)&&Object.keys(Hn).forEach((function(nr){p$1(Hn[nr])?er[nr]=nr in tr?l$1(tr[nr],Hn[nr]):Hn[nr]:er[nr]=Hn[nr]})),er}function y$2(tr,Hn){var er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(tr===Hn)return!0;if(a$1(tr)!=="object"||tr===null||a$1(Hn)!=="object"||Hn===null)return!1;if(er.has(tr)||er.has(Hn))return!0;er.add(tr),er.add(Hn);var nr=Object.keys(tr),ir=Object.keys(Hn);if(nr.length!==ir.length)return!1;for(var rr=0,sr=nr;rr<sr.length;rr++){var ar=sr[rr];if(!ir.includes(ar)||!y$2(tr[ar],Hn[ar],er))return!1}return!0}var b$2=["type","series","options","width","height","chartRef"];function h$2(tr){var Hn=tr.type,er=Hn===void 0?"line":Hn,nr=tr.width,ir=nr===void 0?"100%":nr,rr=tr.height,sr=rr===void 0?"auto":rr,ar=tr.series,or=tr.options,lr=tr.chartRef,cr=(function(Dr,Ir){if(Dr==null)return{};var Mr,Or,Lr=(function(Vr,Zr){if(Vr==null)return{};var Hr={};for(var Yr in Vr)if({}.hasOwnProperty.call(Vr,Yr)){if(Zr.includes(Yr))continue;Hr[Yr]=Vr[Yr]}return Hr})(Dr,Ir);if(Object.getOwnPropertySymbols){var Fr=Object.getOwnPropertySymbols(Dr);for(Or=0;Or<Fr.length;Or++)Mr=Fr[Or],Ir.includes(Mr)||{}.propertyIsEnumerable.call(Dr,Mr)&&(Lr[Mr]=Dr[Mr])}return Lr})(tr,s),ur=reactExports.useRef(null),dr=reactExports.useRef(null),fr=reactExports.useRef(null),xr=lr||fr,yr=function(){return l$1(or,{chart:{type:er,height:sr,width:ir},series:ar})};reactExports.useEffect((function(){return xr.current=new gs$1(ur.current,yr()),xr.current.render(),dr.current=or,function(){xr.current&&typeof xr.current.destroy=="function"&&xr.current.destroy()}}),[]),reactExports.useEffect((function(){if(xr.current&&xr.current.w){var Dr=!y$2(xr.current.w.config.series,ar),Ir=!y$2(dr.current,or)||sr!==xr.current.opts.chart.height||ir!==xr.current.opts.chart.width;(Dr||Ir)&&(Dr?Ir?xr.current.updateOptions(yr()):xr.current.updateSeries(ar):xr.current.updateOptions(yr())),dr.current=or}}),[or,ar,sr,ir]);var _r,Sr,jr=(_r=b$2,Sr=f$1({},cr),_r.forEach((function(Dr){delete Sr[Dr]})),Sr);return React.createElement("div",u$1({ref:ur},jr))}h$2.propTypes={type:o$1.string.isRequired,series:o$1.array.isRequired,options:o$1.object.isRequired,width:o$1.oneOfType([o$1.string,o$1.number]),height:o$1.oneOfType([o$1.string,o$1.number]),chartRef:o$1.shape({current:o$1.any})};const XAG_API="https://api_gold.thinkdiff.us/view_full_data_json/10_12_2025/10_12_2025_9_40.json",XAGVolumeOnlyChart=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{Hn(!0),nr(null);try{const Sr=await fetch(XAG_API);if(!Sr.ok)throw new Error(`HTTP li: ${Sr.status}`);const Dr=(await Sr.json())?.data?.XAGUSD;if(!Array.isArray(Dr)||Dr.length===0){nr("Khng c d liu gi XAG");return}const Ir=Dr.map(Lr=>Lr.timestamp),Mr=Dr.map(Lr=>Number(Lr.close_price??0)),Or=Dr.map(Lr=>Number(Lr.volume??0));rr(Ir),ar(Mr),lr(Or)}catch(Sr){console.error(Sr)}finally{Hn(!1)}})()},[]);const cr=reactExports.useMemo(()=>or.length?or.reduce((_r,Sr)=>_r+Sr,0)/or.length:0,[or]),ur=reactExports.useMemo(()=>or.map(_r=>_r>cr?"#39ff14":"#ff4500"),[or,cr]),dr=[{name:"Gi XAG",type:"line",data:sr,color:"#00BFFF",yaxisIndex:0},{name:"Volume XAG",type:"column",data:or,yaxisIndex:1}],fr=sr.length?Math.min(...sr)*.9:0,xr=sr.length?Math.max(...sr)*1.1:100,yr={chart:{height:450,type:"line",stacked:!1,toolbar:{show:!0},background:"#000",foreColor:"#f8f8f8"},title:{text:"Biu  Gi Bc (XAG) v Volume",align:"left",style:{fontSize:"18px",fontWeight:700,color:"#f8f8f8"}},stroke:{show:!0,width:[3,0],colors:["#00BFFF","transparent"]},fill:{opacity:[1,.95],type:["solid","solid"]},plotOptions:{bar:{horizontal:!1,columnWidth:"90%",borderRadius:0,distributed:!0}},dataLabels:{enabled:!1},xaxis:{categories:ir,title:{text:"Thi im",style:{fontWeight:600}},labels:{rotate:-45,style:{colors:"#999",fontSize:"12px"}}},yaxis:[{title:{text:"Gi XAG (USD/oz)",style:{fontWeight:600}},labels:{formatter:_r=>_r.toFixed(2),style:{colors:"#00BFFF"}},tickAmount:5,min:fr,max:xr},{opposite:!0,title:{text:"Volume (Khi lng)",style:{fontWeight:600,color:"#39ff14"}},labels:{formatter:_r=>(_r/1e3).toFixed(0)+"K",style:{colors:"#39ff14"}},min:0,tickAmount:5}],grid:{borderColor:"#333",strokeDashArray:3},tooltip:{theme:"dark",y:{formatter:(_r,{seriesIndex:Sr})=>Sr===1?_r.toLocaleString()+" Volume":_r.toFixed(2)+" USD/oz"}},legend:{position:"top",horizontalAlign:"left",fontSize:"13px",markers:{radius:6},labels:{colors:["#f8f8f8"]}},colors:["#00BFFF",...ur]};return tr?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#f8f8f8",backgroundColor:"#000"},children:"ang ti d liu biu ..."}):jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",padding:"20px",borderRadius:"8px",backgroundColor:"#000",border:"1px solid #333",boxShadow:"0 1px 3px rgba(255,255,255,0.05)"},children:[jsxRuntimeExports.jsx("h3",{style:{borderBottom:"1px solid #333",paddingBottom:"10px",marginBottom:"10px",color:"#f8f8f8"},children:"Biu  Gi Bc (XAG) v Volume"}),er&&jsxRuntimeExports.jsx("p",{style:{color:"#ff4500",textAlign:"center",marginBottom:"10px"},children:er}),sr.length>0?jsxRuntimeExports.jsx(h$2,{options:yr,series:dr,type:"line",height:450}):jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#f8f8f8"},children:"Khng c d liu  hin th."})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend,plugin$1);const XAG_BASE_API="https://api_gold.thinkdiff.us/volume_data_xagusd_phantich",XAU_BASE_API="https://api_gold.thinkdiff.us/volume_data_xauusd_phantich",buildApiUrl=(tr,Hn)=>Hn?`${tr}/${Hn}`:tr,formatDate$2=tr=>{const Hn=String(tr.getMonth()+1).padStart(2,"0"),er=String(tr.getDate()).padStart(2,"0"),nr=tr.getFullYear();return`${Hn}_${er}_${nr}`},GrowthChart=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState([]),[dr,fr]=reactExports.useState(null),[xr,yr]=reactExports.useState(new Date(2025,11,9)),_r=reactExports.useRef(new Set),Sr=async Zr=>{const Hr=formatDate$2(Zr);if(!_r.current.has(Hr)){_r.current.add(Hr),Hn(!0),fr(null);try{const[Yr,eo]=await Promise.all([fetch(buildApiUrl(XAG_BASE_API,Hr)),fetch(buildApiUrl(XAU_BASE_API,Hr))]);if(!Yr.ok||!eo.ok)throw new Error("Li fetch API");const io=await Yr.json(),uo=await eo.json(),so=io?.data?.phantich_cactuan??[],no=uo?.data?.phantich_cactuan??[],po=so.map((co,lo)=>co?.phantu_cuoituan?.timestamp?.split(" ")[0]||`Tun ${lo+1}`);nr(co=>[...co,...po]),rr(co=>[...co,...so.map(lo=>lo?.ti_le_tang_truong??0)]),ar(co=>[...co,...no.map(lo=>lo?.ti_le_tang_truong??0)]),lr(co=>[...co,...so.map(lo=>lo?.volume_trungbinh??0)]),ur(co=>[...co,...no.map(lo=>lo?.volume_trungbinh??0)])}catch(Yr){fr(Yr.message||"Li khi ti d liu")}finally{Hn(!1)}}};reactExports.useEffect(()=>{Sr(xr)},[xr]);const jr=()=>{const Zr=new Date(xr);Zr.setDate(Zr.getDate()+1),!(Zr>new Date)&&yr(Zr)},Dr={labels:er,datasets:[{label:"XAU Growth (%)",data:sr,backgroundColor:"#FFD700"},{label:"XAG Growth (%)",data:ir,backgroundColor:"#C0C0C0"}]},Ir={labels:er,datasets:[{label:"XAU Volume",data:cr,backgroundColor:"#FFD700"}]},Mr={labels:er,datasets:[{label:"XAG Volume",data:or,backgroundColor:"#C0C0C0"}]},Or={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#f8f8f8"}},title:{display:!0,color:"#f8f8f8",font:{size:16}},zoom:{pan:{enabled:!0,mode:"x",modifierKey:"ctrl"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{ticks:{color:"#f8f8f8"},grid:{color:"#333"}},y:{ticks:{color:"#00bfff"},grid:{color:"#333"}}}},Lr={...Or,plugins:{...Or.plugins,title:{...Or.plugins.title,text:"T l tng trng XAU / XAG"}}},Fr={...Or,plugins:{...Or.plugins,title:{...Or.plugins.title,text:"Volume Trung Bnh Vng (XAU)"}}},Vr={...Or,plugins:{...Or.plugins,title:{...Or.plugins.title,text:"Volume Trung Bnh Bc (XAG)"}}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{marginTop:20,padding:15,borderRadius:6,backgroundColor:"#000",border:"1px solid #333"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#f8f8f8",borderBottom:"1px solid #333",paddingBottom:8},children:"Biu  T l Tng trng"}),dr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff4500",textAlign:"center"},children:dr}),(ir.length||sr.length)>0?jsxRuntimeExports.jsx("div",{style:{height:350},children:jsxRuntimeExports.jsx(Bar$1,{data:Dr,options:Lr})}):jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#f8f8f8"},children:"Khng c d liu"}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:15},children:jsxRuntimeExports.jsx("button",{onClick:jr,disabled:tr,style:{padding:"8px 18px",backgroundColor:"#00bfff",border:"none",borderRadius:4,color:"#fff",cursor:"pointer"},children:tr?"ang ti...":"Load thm"})})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:30},children:[cr.length>0&&jsxRuntimeExports.jsx("div",{style:{height:300},children:jsxRuntimeExports.jsx(Bar$1,{data:Ir,options:Fr})}),or.length>0&&jsxRuntimeExports.jsx("div",{style:{height:300,marginTop:20},children:jsxRuntimeExports.jsx(Bar$1,{data:Mr,options:Vr})})]})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const ChartView=({goldData:tr,silverData:Hn})=>{const[er,nr]=reactExports.useState(!1);if(!tr&&!Hn)return null;const ir=tr?(tr?.phantich_cactuan||[]).sort((_r,Sr)=>{const jr=new Date(_r?.phantu_cuoituan?.timestamp||0).getTime();return new Date(Sr?.phantu_cuoituan?.timestamp||0).getTime()-jr}):[],rr=Hn?(Hn?.phantich_cactuan||[]).sort((_r,Sr)=>{const jr=new Date(_r?.phantu_cuoituan?.timestamp||0).getTime();return new Date(Sr?.phantu_cuoituan?.timestamp||0).getTime()-jr}):[],sr=Math.max(ir.length,rr.length),ar=er?sr:Math.min(4,sr),or=ir.slice(0,ar),lr=or.map(_r=>_r?.ti_le_tang_truong||0),cr=rr.slice(0,ar),ur=cr.map(_r=>_r?.ti_le_tang_truong||0),dr=or.length>=cr.length?or:cr,fr=dr.map((_r,Sr)=>{const jr=_r?.phantu_dautuan,Dr=_r?.phantu_cuoituan;try{const Ir=formatDate$1(jr?.timestamp),Mr=formatDate$1(Dr?.timestamp);return`Tun ${dr.length-Sr}: ${Ir} - ${Mr}`}catch{return`Tun ${dr.length-Sr}`}}),xr=[...lr],yr=[...ur];for(;xr.length<fr.length;)xr.push(0);for(;yr.length<fr.length;)yr.push(0);return fr.length===0?jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  So snh Vng & Bc"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${er?"active":""}`,onClick:()=>nr(!er),"aria-label":`${er?"Thu gn":"Xem thm"} d liu tun`,children:er?"Thu gn":"Xem thm cc tun"})]}),jsxRuntimeExports.jsx("div",{className:"no-data-message",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu  hin th biu "})})]}):jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  So snh T l Tng trng Vng & Bc"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${er?"active":""}`,onClick:()=>nr(!er),"aria-label":`${er?"Thu gn":"Xem thm"} d liu tun`,children:er?"Thu gn":"Xem thm cc tun"})]}),jsxRuntimeExports.jsx("div",{className:"chart-wrapper",children:jsxRuntimeExports.jsx(Bar$1,{data:{labels:fr,datasets:[{label:"Vng (XAU/USD)",data:xr,backgroundColor:"#f1c40f",borderColor:"#f39c12",borderWidth:1,borderRadius:4,borderSkipped:!1},{label:"Bc (XAG/USD)",data:yr,backgroundColor:"#c0c0c0",borderColor:"#95a5a6",borderWidth:1,borderRadius:4,borderSkipped:!1}]},plugins:[{id:"datalabels",afterDraw:_r=>{const Sr=_r.ctx;Sr.font="bold 11px Arial",Sr.textAlign="center",Sr.textBaseline="bottom",_r.data.datasets.forEach((jr,Dr)=>{_r.getDatasetMeta(Dr).data.forEach((Mr,Or)=>{const Lr=jr.data[Or];if(Lr!==0){const Fr=Mr.x,Vr=Lr>=0?Mr.y-6:Mr.y+15;Sr.fillStyle=Lr>0?"#2ecc71":"#e74c3c",Sr.fillText(Lr.toFixed(2)+"%",Fr,Vr)}})})}}],options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",font:{size:12},usePointStyle:!0,pointStyle:"rect"}},tooltip:{enabled:!1}},scales:{x:{ticks:{color:"#94a3b8",maxRotation:0,minRotation:0,font:{size:10}},grid:{display:!1}},y:{ticks:{color:"#94a3b8",font:{size:11}},title:{display:!0,text:"T l tng gi (%)",color:"#94a3b8",font:{size:12,weight:"bold"}},grid:{color:"rgba(148, 163, 184, 0.1)"},beginAtZero:!0,min:Math.min(0,Math.min(...xr,...yr)-5),max:Math.max(...xr,...yr)+5}},interaction:{mode:"index",intersect:!1}}})})]})},formatDate$1=tr=>{if(!tr)return"-";try{return new Date(tr).toLocaleDateString("vi-VN")}catch{return"-"}},formatVND=tr=>typeof tr!="number"||isNaN(tr)?"0":Math.round(tr).toLocaleString("USD"),formatVolume=tr=>typeof tr!="number"||isNaN(tr)?"0.000":parseFloat(tr).toFixed(3),TableComponent=({title:tr,type:Hn,data:er,otherData:nr})=>{const[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState(!1);if(!er)return null;const or=(er?.phantich_cactuan||[]).sort((dr,fr)=>{const xr=new Date(dr?.phantu_cuoituan?.timestamp||0).getTime();return new Date(fr?.phantu_cuoituan?.timestamp||0).getTime()-xr}),lr=sr?or:or.slice(0,4),cr={...er?.tongket_phantich_toanbo,phantu_dautuan:{...er?.tongket_phantich_toanbo.phantu_cuoituan},phantu_cuoituan:{...er?.tongket_phantich_toanbo.phantu_dautuan}},ur=cr?.phantu_cuoituan?.close_price-cr?.phantu_dautuan?.open_price;return jsxRuntimeExports.jsxs("div",{className:"analysis-block",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{className:`analysis-title-${Hn=="au"?"gold":"silver"}`,children:tr}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr?"active":""}`,onClick:()=>ar(!sr),children:sr?"Thu gn":"Xem thm cc tun"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${ir?"active":""}`,onClick:()=>rr(!ir),children:ir?"n":"Chi tit gi bn v mua"})]})]}),jsxRuntimeExports.jsxs("table",{className:"analysis-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Thi gian"}),jsxRuntimeExports.jsx("th",{children:"Li nhun 1 Ounce - USD"}),jsxRuntimeExports.jsx("th",{children:"T l tng gi"}),jsxRuntimeExports.jsx("th",{children:"Volume trung bnh"}),ir&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{children:"Gi bn u tun - USD"}),jsxRuntimeExports.jsx("th",{children:"Gi mua u tun - USD"}),jsxRuntimeExports.jsx("th",{children:"Gi bn cui tun - USD"}),jsxRuntimeExports.jsx("th",{children:"Gi mua cui tun - USD"})]})]})}),jsxRuntimeExports.jsxs("tbody",{children:[lr&&lr.length>0&&lr.map((dr,fr)=>{const xr=dr?.phantu_dautuan,yr=dr?.phantu_cuoituan,_r=yr?.close_price-xr?.open_price;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[jsxRuntimeExports.jsxs("b",{children:["Tun ",lr.length-fr]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("small",{children:[formatDate$1(xr?.timestamp)," - ",formatDate$1(yr?.timestamp)]})]}),jsxRuntimeExports.jsxs("td",{className:_r>=0?"text-up":"text-down",children:[formatVND(_r)," $/ounce"]}),jsxRuntimeExports.jsxs("td",{style:{color:dr.ti_le_tang_truong>=0?"#2ecc71":"#e74c3c",fontWeight:"bold"},children:[dr?.ti_le_tang_truong.toFixed(2),"%"]}),jsxRuntimeExports.jsx("td",{className:dr?.volume_trungbinh>cr?.volume_trungbinh?"text-up":"text-down",children:formatVolume(dr?.volume_trungbinh)}),ir&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{children:formatVND(xr?.open_price)}),jsxRuntimeExports.jsx("td",{children:formatVND(xr?.close_price)}),jsxRuntimeExports.jsx("td",{children:formatVND(yr?.open_price)}),jsxRuntimeExports.jsx("td",{children:formatVND(yr?.close_price)})]})]},fr)}),jsxRuntimeExports.jsxs("tr",{className:"summary-row",children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:"TNG KT"})}),jsxRuntimeExports.jsxs("td",{className:ur>=0?"text-up":"text-down",children:[formatVND(ur)," $/ounce"]}),jsxRuntimeExports.jsxs("td",{style:{color:cr?.ti_le_tang_truong>=0?"#2ecc71":"#e74c3c",fontWeight:"bold"},children:[cr?.ti_le_tang_truong.toFixed(2),"%"]}),jsxRuntimeExports.jsx("td",{children:formatVolume(cr?.volume_trungbinh)}),ir&&jsxRuntimeExports.jsx("td",{colSpan:4})]})]})]})]})},TableComparisonDataWeek=({fomo:tr})=>{const[Hn,er]=reactExports.useState("chart");if(!tr)return null;const nr=tr;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#f1c40f",margin:0},children:" Phn tch tng trng Vng & Bc theo tun"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`view-toggle-btn ${Hn==="table"?"active":""}`,onClick:()=>er("table"),children:" Bng"}),jsxRuntimeExports.jsx("button",{className:`view-toggle-btn ${Hn==="chart"?"active":""}`,onClick:()=>er("chart"),children:" Biu "})]})]}),Hn==="chart"?jsxRuntimeExports.jsx(ChartView,{goldData:nr?.nhanxet_vang_tangtruong,silverData:nr?.nhanxet_bac_tangtruong}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableComponent,{title:" Phn tch tng trng ca VNG (XAU/USD) theo tun",type:"au",data:nr?.nhanxet_vang_tangtruong}),jsxRuntimeExports.jsx(TableComponent,{title:" Phn tch tng trng ca BC (XAG/USD) theo tun",type:"ag",data:nr?.nhanxet_bac_tangtruong})]})]})};var devicePixelRatio=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var tr=window.screen;if(tr)return(tr.deviceXDPI||1)/(tr.logicalXDPI||1)}return 1})(),utils={toTextLines:function(tr){var Hn=[],er;for(tr=[].concat(tr);tr.length;)er=tr.pop(),typeof er=="string"?Hn.unshift.apply(Hn,er.split(`
`)):Array.isArray(er)?tr.push.apply(tr,er):isNullOrUndef(tr)||Hn.unshift(""+er);return Hn},textSize:function(tr,Hn,er){var nr=[].concat(Hn),ir=nr.length,rr=tr.font,sr=0,ar;for(tr.font=er.string,ar=0;ar<ir;++ar)sr=Math.max(tr.measureText(nr[ar]).width,sr);return tr.font=rr,{height:ir*er.lineHeight,width:sr}},bound:function(tr,Hn,er){return Math.max(tr,Math.min(Hn,er))},arrayDiff:function(tr,Hn){var er=tr.slice(),nr=[],ir,rr,sr,ar;for(ir=0,sr=Hn.length;ir<sr;++ir)ar=Hn[ir],rr=er.indexOf(ar),rr===-1?nr.push([ar,1]):er.splice(rr,1);for(ir=0,sr=er.length;ir<sr;++ir)nr.push([er[ir],-1]);return nr},rasterize:function(tr){return Math.round(tr*devicePixelRatio)/devicePixelRatio}};function orient(tr,Hn){var er=Hn.x,nr=Hn.y;if(er===null)return{x:0,y:-1};if(nr===null)return{x:1,y:0};var ir=tr.x-er,rr=tr.y-nr,sr=Math.sqrt(ir*ir+rr*rr);return{x:sr?ir/sr:0,y:sr?rr/sr:-1}}function aligned(tr,Hn,er,nr,ir){switch(ir){case"center":er=nr=0;break;case"bottom":er=0,nr=1;break;case"right":er=1,nr=0;break;case"left":er=-1,nr=0;break;case"top":er=0,nr=-1;break;case"start":er=-er,nr=-nr;break;case"end":break;default:ir*=Math.PI/180,er=Math.cos(ir),nr=Math.sin(ir);break}return{x:tr,y:Hn,vx:er,vy:nr}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(tr,Hn,er){var nr=R_INSIDE;return tr<er.left?nr|=R_LEFT:tr>er.right&&(nr|=R_RIGHT),Hn<er.top?nr|=R_TOP:Hn>er.bottom&&(nr|=R_BOTTOM),nr}function clipped(tr,Hn){for(var er=tr.x0,nr=tr.y0,ir=tr.x1,rr=tr.y1,sr=region(er,nr,Hn),ar=region(ir,rr,Hn),or,lr,cr;!(!(sr|ar)||sr&ar);)or=sr||ar,or&R_TOP?(lr=er+(ir-er)*(Hn.top-nr)/(rr-nr),cr=Hn.top):or&R_BOTTOM?(lr=er+(ir-er)*(Hn.bottom-nr)/(rr-nr),cr=Hn.bottom):or&R_RIGHT?(cr=nr+(rr-nr)*(Hn.right-er)/(ir-er),lr=Hn.right):or&R_LEFT&&(cr=nr+(rr-nr)*(Hn.left-er)/(ir-er),lr=Hn.left),or===sr?(er=lr,nr=cr,sr=region(er,nr,Hn)):(ir=lr,rr=cr,ar=region(ir,rr,Hn));return{x0:er,x1:ir,y0:nr,y1:rr}}function compute$1(tr,Hn){var er=Hn.anchor,nr=tr,ir,rr;return Hn.clamp&&(nr=clipped(nr,Hn.area)),er==="start"?(ir=nr.x0,rr=nr.y0):er==="end"?(ir=nr.x1,rr=nr.y1):(ir=(nr.x0+nr.x1)/2,rr=(nr.y0+nr.y1)/2),aligned(ir,rr,tr.vx,tr.vy,Hn.align)}var positioners={arc:function(tr,Hn){var er=(tr.startAngle+tr.endAngle)/2,nr=Math.cos(er),ir=Math.sin(er),rr=tr.innerRadius,sr=tr.outerRadius;return compute$1({x0:tr.x+nr*rr,y0:tr.y+ir*rr,x1:tr.x+nr*sr,y1:tr.y+ir*sr,vx:nr,vy:ir},Hn)},point:function(tr,Hn){var er=orient(tr,Hn.origin),nr=er.x*tr.options.radius,ir=er.y*tr.options.radius;return compute$1({x0:tr.x-nr,y0:tr.y-ir,x1:tr.x+nr,y1:tr.y+ir,vx:er.x,vy:er.y},Hn)},bar:function(tr,Hn){var er=orient(tr,Hn.origin),nr=tr.x,ir=tr.y,rr=0,sr=0;return tr.horizontal?(nr=Math.min(tr.x,tr.base),rr=Math.abs(tr.base-tr.x)):(ir=Math.min(tr.y,tr.base),sr=Math.abs(tr.base-tr.y)),compute$1({x0:nr,y0:ir+sr,x1:nr+rr,y1:ir,vx:er.x,vy:er.y},Hn)},fallback:function(tr,Hn){var er=orient(tr,Hn.origin);return compute$1({x0:tr.x,y0:tr.y,x1:tr.x+(tr.width||0),y1:tr.y+(tr.height||0),vx:er.x,vy:er.y},Hn)}},rasterize=utils.rasterize;function boundingRects(tr){var Hn=tr.borderWidth||0,er=tr.padding,nr=tr.size.height,ir=tr.size.width,rr=-ir/2,sr=-nr/2;return{frame:{x:rr-er.left-Hn,y:sr-er.top-Hn,w:ir+er.width+Hn*2,h:nr+er.height+Hn*2},text:{x:rr,y:sr,w:ir,h:nr}}}function getScaleOrigin(tr,Hn){var er=Hn.chart.getDatasetMeta(Hn.datasetIndex).vScale;if(!er)return null;if(er.xCenter!==void 0&&er.yCenter!==void 0)return{x:er.xCenter,y:er.yCenter};var nr=er.getBasePixel();return tr.horizontal?{x:nr,y:null}:{x:null,y:nr}}function getPositioner(tr){return tr instanceof ArcElement?positioners.arc:tr instanceof PointElement?positioners.point:tr instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(tr,Hn,er,nr,ir,rr){var sr=Math.PI/2;if(rr){var ar=Math.min(rr,ir/2,nr/2),or=Hn+ar,lr=er+ar,cr=Hn+nr-ar,ur=er+ir-ar;tr.moveTo(Hn,lr),or<cr&&lr<ur?(tr.arc(or,lr,ar,-Math.PI,-sr),tr.arc(cr,lr,ar,-sr,0),tr.arc(cr,ur,ar,0,sr),tr.arc(or,ur,ar,sr,Math.PI)):or<cr?(tr.moveTo(or,er),tr.arc(cr,lr,ar,-sr,sr),tr.arc(or,lr,ar,sr,Math.PI+sr)):lr<ur?(tr.arc(or,lr,ar,-Math.PI,0),tr.arc(or,ur,ar,0,Math.PI)):tr.arc(or,lr,ar,-Math.PI,Math.PI),tr.closePath(),tr.moveTo(Hn,er)}else tr.rect(Hn,er,nr,ir)}function drawFrame(tr,Hn,er){var nr=er.backgroundColor,ir=er.borderColor,rr=er.borderWidth;!nr&&(!ir||!rr)||(tr.beginPath(),drawRoundedRect(tr,rasterize(Hn.x)+rr/2,rasterize(Hn.y)+rr/2,rasterize(Hn.w)-rr,rasterize(Hn.h)-rr,er.borderRadius),tr.closePath(),nr&&(tr.fillStyle=nr,tr.fill()),ir&&rr&&(tr.strokeStyle=ir,tr.lineWidth=rr,tr.lineJoin="miter",tr.stroke()))}function textGeometry(tr,Hn,er){var nr=er.lineHeight,ir=tr.w,rr=tr.x,sr=tr.y+nr/2;return Hn==="center"?rr+=ir/2:(Hn==="end"||Hn==="right")&&(rr+=ir),{h:nr,w:ir,x:rr,y:sr}}function drawTextLine(tr,Hn,er){var nr=tr.shadowBlur,ir=er.stroked,rr=rasterize(er.x),sr=rasterize(er.y),ar=rasterize(er.w);ir&&tr.strokeText(Hn,rr,sr,ar),er.filled&&(nr&&ir&&(tr.shadowBlur=0),tr.fillText(Hn,rr,sr,ar),nr&&ir&&(tr.shadowBlur=nr))}function drawText(tr,Hn,er,nr){var ir=nr.textAlign,rr=nr.color,sr=!!rr,ar=nr.font,or=Hn.length,lr=nr.textStrokeColor,cr=nr.textStrokeWidth,ur=lr&&cr,dr;if(!(!or||!sr&&!ur))for(er=textGeometry(er,ir,ar),tr.font=ar.string,tr.textAlign=ir,tr.textBaseline="middle",tr.shadowBlur=nr.textShadowBlur,tr.shadowColor=nr.textShadowColor,sr&&(tr.fillStyle=rr),ur&&(tr.lineJoin="round",tr.lineWidth=cr,tr.strokeStyle=lr),dr=0,or=Hn.length;dr<or;++dr)drawTextLine(tr,Hn[dr],{stroked:ur,filled:sr,w:er.w,x:er.x,y:er.y+er.h*dr})}var Label=function(tr,Hn,er,nr){var ir=this;ir._config=tr,ir._index=nr,ir._model=null,ir._rects=null,ir._ctx=Hn,ir._el=er};merge$1(Label.prototype,{_modelize:function(tr,Hn,er,nr){var ir=this,rr=ir._index,sr=toFont(resolve$1([er.font,{}],nr,rr)),ar=resolve$1([er.color,defaults$4.color],nr,rr);return{align:resolve$1([er.align,"center"],nr,rr),anchor:resolve$1([er.anchor,"center"],nr,rr),area:nr.chart.chartArea,backgroundColor:resolve$1([er.backgroundColor,null],nr,rr),borderColor:resolve$1([er.borderColor,null],nr,rr),borderRadius:resolve$1([er.borderRadius,0],nr,rr),borderWidth:resolve$1([er.borderWidth,0],nr,rr),clamp:resolve$1([er.clamp,!1],nr,rr),clip:resolve$1([er.clip,!1],nr,rr),color:ar,display:tr,font:sr,lines:Hn,offset:resolve$1([er.offset,4],nr,rr),opacity:resolve$1([er.opacity,1],nr,rr),origin:getScaleOrigin(ir._el,nr),padding:toPadding(resolve$1([er.padding,4],nr,rr)),positioner:getPositioner(ir._el),rotation:resolve$1([er.rotation,0],nr,rr)*(Math.PI/180),size:utils.textSize(ir._ctx,Hn,sr),textAlign:resolve$1([er.textAlign,"start"],nr,rr),textShadowBlur:resolve$1([er.textShadowBlur,0],nr,rr),textShadowColor:resolve$1([er.textShadowColor,ar],nr,rr),textStrokeColor:resolve$1([er.textStrokeColor,ar],nr,rr),textStrokeWidth:resolve$1([er.textStrokeWidth,0],nr,rr)}},update:function(tr){var Hn=this,er=null,nr=null,ir=Hn._index,rr=Hn._config,sr,ar,or,lr=resolve$1([rr.display,!0],tr,ir);lr&&(sr=tr.dataset.data[ir],ar=valueOrDefault(callback(rr.formatter,[sr,tr]),sr),or=isNullOrUndef(ar)?[]:utils.toTextLines(ar),or.length&&(er=Hn._modelize(lr,or,rr,tr),nr=boundingRects(er))),Hn._model=er,Hn._rects=nr},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(tr,Hn){var er=this,nr=tr.ctx,ir=er._model,rr=er._rects,sr;this.visible()&&(nr.save(),ir.clip&&(sr=ir.area,nr.beginPath(),nr.rect(sr.left,sr.top,sr.right-sr.left,sr.bottom-sr.top),nr.clip()),nr.globalAlpha=utils.bound(0,ir.opacity,1),nr.translate(rasterize(Hn.x),rasterize(Hn.y)),nr.rotate(ir.rotation),drawFrame(nr,rr.frame,ir),drawText(nr,ir.lines,rr.text,ir),nr.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated$1(tr,Hn,er){var nr=Math.cos(er),ir=Math.sin(er),rr=Hn.x,sr=Hn.y;return{x:rr+nr*(tr.x-rr)-ir*(tr.y-sr),y:sr+ir*(tr.x-rr)+nr*(tr.y-sr)}}function projected(tr,Hn){var er=MAX_INTEGER,nr=MIN_INTEGER,ir=Hn.origin,rr,sr,ar,or,lr;for(rr=0;rr<tr.length;++rr)sr=tr[rr],ar=sr.x-ir.x,or=sr.y-ir.y,lr=Hn.vx*ar+Hn.vy*or,er=Math.min(er,lr),nr=Math.max(nr,lr);return{min:er,max:nr}}function toAxis(tr,Hn){var er=Hn.x-tr.x,nr=Hn.y-tr.y,ir=Math.sqrt(er*er+nr*nr);return{vx:(Hn.x-tr.x)/ir,vy:(Hn.y-tr.y)/ir,origin:tr,ln:ir}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge$1(HitBox.prototype,{center:function(){var tr=this._rect;return{x:tr.x+tr.w/2,y:tr.y+tr.h/2}},update:function(tr,Hn,er){this._rotation=er,this._rect={x:Hn.x+tr.x,y:Hn.y+tr.y,w:Hn.w,h:Hn.h}},contains:function(tr){var Hn=this,er=1,nr=Hn._rect;return tr=rotated$1(tr,Hn.center(),-Hn._rotation),!(tr.x<nr.x-er||tr.y<nr.y-er||tr.x>nr.x+nr.w+er*2||tr.y>nr.y+nr.h+er*2)},intersects:function(tr){var Hn=this._points(),er=tr._points(),nr=[toAxis(Hn[0],Hn[1]),toAxis(Hn[0],Hn[3])],ir,rr,sr;for(this._rotation!==tr._rotation&&nr.push(toAxis(er[0],er[1]),toAxis(er[0],er[3])),ir=0;ir<nr.length;++ir)if(rr=projected(Hn,nr[ir]),sr=projected(er,nr[ir]),rr.max<sr.min||sr.max<rr.min)return!1;return!0},_points:function(){var tr=this,Hn=tr._rect,er=tr._rotation,nr=tr.center();return[rotated$1({x:Hn.x,y:Hn.y},nr,er),rotated$1({x:Hn.x+Hn.w,y:Hn.y},nr,er),rotated$1({x:Hn.x+Hn.w,y:Hn.y+Hn.h},nr,er),rotated$1({x:Hn.x,y:Hn.y+Hn.h},nr,er)]}});function coordinates(tr,Hn,er){var nr=Hn.positioner(tr,Hn),ir=nr.vx,rr=nr.vy;if(!ir&&!rr)return{x:nr.x,y:nr.y};var sr=er.w,ar=er.h,or=Hn.rotation,lr=Math.abs(sr/2*Math.cos(or))+Math.abs(ar/2*Math.sin(or)),cr=Math.abs(sr/2*Math.sin(or))+Math.abs(ar/2*Math.cos(or)),ur=1/Math.max(Math.abs(ir),Math.abs(rr));return lr*=ir*ur,cr*=rr*ur,lr+=Hn.offset*ir,cr+=Hn.offset*rr,{x:nr.x+lr,y:nr.y+cr}}function collide(tr,Hn){var er,nr,ir,rr;for(er=tr.length-1;er>=0;--er)for(ir=tr[er].$layout,nr=er-1;nr>=0&&ir._visible;--nr)rr=tr[nr].$layout,rr._visible&&ir._box.intersects(rr._box)&&Hn(ir,rr);return tr}function compute(tr){var Hn,er,nr,ir,rr,sr,ar;for(Hn=0,er=tr.length;Hn<er;++Hn)nr=tr[Hn],ir=nr.$layout,ir._visible&&(ar=new Proxy(nr._el,{get:(or,lr)=>or.getProps([lr],!0)[lr]}),rr=nr.geometry(),sr=coordinates(ar,nr.model(),rr),ir._box.update(sr,rr,nr.rotation()));return collide(tr,function(or,lr){var cr=or._hidable,ur=lr._hidable;cr&&ur||ur?lr._visible=!1:cr&&(or._visible=!1)})}var layout={prepare:function(tr){var Hn=[],er,nr,ir,rr,sr;for(er=0,ir=tr.length;er<ir;++er)for(nr=0,rr=tr[er].length;nr<rr;++nr)sr=tr[er][nr],Hn.push(sr),sr.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:er,_idx:sr._index};return Hn.sort(function(ar,or){var lr=ar.$layout,cr=or.$layout;return lr._idx===cr._idx?cr._set-lr._set:cr._idx-lr._idx}),this.update(Hn),Hn},update:function(tr){var Hn=!1,er,nr,ir,rr,sr;for(er=0,nr=tr.length;er<nr;++er)ir=tr[er],rr=ir.model(),sr=ir.$layout,sr._hidable=rr&&rr.display==="auto",sr._visible=ir.visible(),Hn|=sr._hidable;Hn&&compute(tr)},lookup:function(tr,Hn){var er,nr;for(er=tr.length-1;er>=0;--er)if(nr=tr[er].$layout,nr&&nr._visible&&nr._box.contains(Hn))return tr[er];return null},draw:function(tr,Hn){var er,nr,ir,rr,sr,ar;for(er=0,nr=Hn.length;er<nr;++er)ir=Hn[er],rr=ir.$layout,rr._visible&&(sr=ir.geometry(),ar=coordinates(ir._el,ir.model(),sr),rr._box.update(ar,sr,ir.rotation()),ir.draw(tr,ar))}},formatter=function(tr){if(isNullOrUndef(tr))return null;var Hn=tr,er,nr,ir;if(isObject$2(tr))if(!isNullOrUndef(tr.label))Hn=tr.label;else if(!isNullOrUndef(tr.r))Hn=tr.r;else for(Hn="",er=Object.keys(tr),ir=0,nr=er.length;ir<nr;++ir)Hn+=(ir!==0?", ":"")+er[ir]+": "+tr[er[ir]];return""+Hn},defaults$1={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(tr,Hn){var er=tr.datalabels,nr={},ir=[],rr,sr;return er===!1?null:(er===!0&&(er={}),Hn=merge$1({},[Hn,er]),rr=Hn.labels||{},sr=Object.keys(rr),delete Hn.labels,sr.length?sr.forEach(function(ar){rr[ar]&&ir.push(merge$1({},[Hn,rr[ar],{_key:ar}]))}):ir.push(Hn),nr=ir.reduce(function(ar,or){return each$1(or.listeners||{},function(lr,cr){ar[cr]=ar[cr]||{},ar[cr][or._key||DEFAULT_KEY]=lr}),delete or.listeners,ar},{}),{labels:ir,listeners:nr})}function dispatchEvent$1(tr,Hn,er,nr){if(Hn){var ir=er.$context,rr=er.$groups,sr;Hn[rr._set]&&(sr=Hn[rr._set][rr._key],sr&&callback(sr,[ir,nr])===!0&&(tr[EXPANDO_KEY]._dirty=!0,er.update(ir)))}}function dispatchMoveEvents$1(tr,Hn,er,nr,ir){var rr,sr;!er&&!nr||(er?nr?er!==nr&&(sr=rr=!0):sr=!0:rr=!0,sr&&dispatchEvent$1(tr,Hn.leave,er,ir),rr&&dispatchEvent$1(tr,Hn.enter,nr,ir))}function handleMoveEvents$1(tr,Hn){var er=tr[EXPANDO_KEY],nr=er._listeners,ir,rr;if(!(!nr.enter&&!nr.leave)){if(Hn.type==="mousemove")rr=layout.lookup(er._labels,Hn);else if(Hn.type!=="mouseout")return;ir=er._hovered,er._hovered=rr,dispatchMoveEvents$1(tr,nr,ir,rr,Hn)}}function handleClickEvents$1(tr,Hn){var er=tr[EXPANDO_KEY],nr=er._listeners.click,ir=nr&&layout.lookup(er._labels,Hn);ir&&dispatchEvent$1(tr,nr,ir,Hn)}var plugin={id:"datalabels",defaults:defaults$1,beforeInit:function(tr){tr[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(tr){var Hn=tr[EXPANDO_KEY];Hn._listened=!1,Hn._listeners={},Hn._datasets=[],Hn._labels=[]},afterDatasetUpdate:function(tr,Hn,er){var nr=Hn.index,ir=tr[EXPANDO_KEY],rr=ir._datasets[nr]=[],sr=tr.isDatasetVisible(nr),ar=tr.data.datasets[nr],or=configure(ar,er),lr=Hn.meta.data||[],cr=tr.ctx,ur,dr,fr,xr,yr,_r,Sr,jr;for(cr.save(),ur=0,fr=lr.length;ur<fr;++ur)if(Sr=lr[ur],Sr[EXPANDO_KEY]=[],sr&&Sr&&tr.getDataVisibility(ur)&&!Sr.skip)for(dr=0,xr=or.labels.length;dr<xr;++dr)yr=or.labels[dr],_r=yr._key,jr=new Label(yr,cr,Sr,ur),jr.$groups={_set:nr,_key:_r||DEFAULT_KEY},jr.$context={active:!1,chart:tr,dataIndex:ur,dataset:ar,datasetIndex:nr},jr.update(jr.$context),Sr[EXPANDO_KEY].push(jr),rr.push(jr);cr.restore(),merge$1(ir._listeners,or.listeners,{merger:function(Dr,Ir,Mr){Ir[Dr]=Ir[Dr]||{},Ir[Dr][Hn.index]=Mr[Dr],ir._listened=!0}})},afterUpdate:function(tr){tr[EXPANDO_KEY]._labels=layout.prepare(tr[EXPANDO_KEY]._datasets)},afterDatasetsDraw:function(tr){layout.draw(tr,tr[EXPANDO_KEY]._labels)},beforeEvent:function(tr,Hn){if(tr[EXPANDO_KEY]._listened){var er=Hn.event;switch(er.type){case"mousemove":case"mouseout":handleMoveEvents$1(tr,er);break;case"click":handleClickEvents$1(tr,er);break}}},afterEvent:function(tr){var Hn=tr[EXPANDO_KEY],er=Hn._actives,nr=Hn._actives=tr.getActiveElements(),ir=utils.arrayDiff(er,nr),rr,sr,ar,or,lr,cr,ur;for(rr=0,sr=ir.length;rr<sr;++rr)if(lr=ir[rr],lr[1])for(ur=lr[0].element[EXPANDO_KEY]||[],ar=0,or=ur.length;ar<or;++ar)cr=ur[ar],cr.$context.active=lr[1]===1,cr.update(cr.$context);(Hn._dirty||ir.length)&&(layout.update(Hn._labels),tr.render()),delete Hn._dirty}};Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const formatDateForChart=(tr,Hn)=>{const er={hour:"2-digit",minute:"2-digit",hour12:!1};return Hn||(er.year="numeric",er.month="2-digit",er.day="2-digit"),new Date(tr).toLocaleString("vi-VN",er)},getBarColors=(tr,Hn)=>tr.map(er=>Number(er.volume)>=Hn?"#00FF3C":"#FF3333"),VolumeChart=({data:tr,title:Hn,avgVolume:er,enableZoom:nr=!0})=>{const[ir,rr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{const Mr=()=>rr(window.innerWidth<768);return Mr(),window.addEventListener("resize",Mr),()=>window.removeEventListener("resize",Mr)},[]),!tr)return jsxRuntimeExports.jsx("p",{children:"Loading..."});const sr=[...tr].reverse(),ar=sr.map(Mr=>Hn==="XAU"?Number(Mr.y[3])/.02835:Number(Mr.y[3])),or=Hn==="XAU"?"Gi Xau VND/LNG":"Gi Xag VND/KG",lr=Math.min(...ar),cr=sr.map(Mr=>formatDateForChart(Mr.x,ir)),ur=getBarColors(sr,er),dr=sr.map(Mr=>Number(Mr.volume)),fr=(Mr,Or,Lr)=>{let Fr=new Array(Mr.length).fill(NaN),Vr=new Array(Mr.length).fill(0),Zr=0;for(;Zr<Mr.length;)if(Lr==="low"?Mr[Zr]<Or:Mr[Zr]>=Or){let Yr=Zr;for(;Zr<Mr.length&&(Lr==="low"?Mr[Zr]<Or:Mr[Zr]>=Or);)Zr++;let eo=Zr-1,io=Zr-Yr;if(io>5){let uo=Math.floor((Yr+eo)/2),so=Math.max(...Mr.slice(Yr,eo+1))*1.3;for(let no=Yr;no<=eo;no++)no===uo?Fr[no]=so:no===Yr||no===eo?Fr[no]=Mr[no]*1.05:Fr[no]=so*.95,Vr[no]=io}}else Fr[Zr]=NaN,Zr++;return{result:Fr,countArr:Vr}},{result:xr,countArr:yr}=fr(dr,er,"low"),{result:_r,countArr:Sr}=fr(dr,er,"high"),jr=Hn==="XAU"?"#FFD700":"#C0C0C0",Dr={labels:cr,datasets:[{type:"bar",label:`${Hn} Volume`,data:dr,backgroundColor:ur,datalabels:{display:!1},yAxisID:"y"},{type:"line",label:`${Hn} Price`,data:sr.map(Mr=>Hn==="XAU"?Number(Mr.y[3])/.02835:Number(Mr.y[3])),borderColor:jr,borderWidth:2,pointRadius:0,tension:.2,yAxisID:"yPrice",datalabels:{display:!1}},{type:"line",label:"Cnh bo",data:xr,borderColor:"#FF3333",borderWidth:2,pointRadius:0,spanGaps:!1,tension:.4,datalabels:{display:Mr=>{const Or=Mr.dataset.data,Lr=Mr.dataIndex;return!isNaN(Or[Lr])&&Or[Lr]>Or[Lr-1]&&Or[Lr]>Or[Lr+1]},formatter:(Mr,Or)=>{const Lr=Or.dataIndex;return`Volume tch ly di mc tb: ${yr[Lr]||0} nn`},color:"#FF3333",align:"top",font:{weight:"bold",size:10}}},{type:"line",label:"Cnh bo",data:_r,borderColor:"#00FF3C",borderWidth:2,pointRadius:0,spanGaps:!1,tension:.4,datalabels:{display:Mr=>{const Or=Mr.dataset.data,Lr=Mr.dataIndex;return!isNaN(Or[Lr])&&Or[Lr]>Or[Lr-1]&&Or[Lr]>Or[Lr+1]},formatter:(Mr,Or)=>{const Lr=Or.dataIndex;return`Volume bng n: ${Sr[Lr]||0} nn`},color:"#00FF3C",align:"top",font:{weight:"bold",size:10}}}]},Ir={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!ir,position:"left",title:{display:!0,text:"Volume"}},yPrice:{type:"linear",display:!ir,position:"left",title:{display:!0,text:or},grid:{drawOnChartArea:!1},min:lr*.995},x:{title:{display:!0,text:"Date"}}},plugins:{legend:{display:!0},datalabels:{display:!1},tooltip:{callbacks:{label:Mr=>{if(Mr.dataset.label==="Cnh bo")return null;const Or=Mr.raw??0;return`${Mr.dataset.label}: ${Or.toLocaleString("en-US")}`}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:nr},pinch:{enabled:nr},mode:"x"}}}};return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"450px",marginBottom:"40px"},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:Dr,options:Ir,plugins:[plugin]})})},VolumeComparisonChart=({dataXau:tr,dataXag:Hn,avgVolumeXau:er,avgVolumeXag:nr,enableZoom:ir=!0})=>{const rr=er??(tr?.length?Number(tr[0].volume_trungbinh):0),sr=nr??(Hn?.length?Number(Hn[0].volume_trungbinh):0);return jsxRuntimeExports.jsxs("div",{style:{marginTop:"50px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#FFD700"},children:"Volume & Price XAU (Vng)"}),jsxRuntimeExports.jsx(VolumeChart,{data:tr,title:"XAU",avgVolume:rr,enableZoom:ir,colorScheme:{bar:"#FFD700",line:"#FFD700"}})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#C0C0C0"},children:"Volume & Price XAG (Bc)"}),jsxRuntimeExports.jsx(VolumeChart,{data:Hn,title:"XAG",avgVolume:sr,enableZoom:ir,colorScheme:{bar:"#C0C0C0",line:"#C0C0C0"}})]})]})},MyRsiChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,xr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[_r,Sr]=reactExports.useState(yr),jr=nr==="XAU",Dr=jr?"#FFD700":"#ffffff",Ir="#00b060",Mr="#ff4648";reactExports.useEffect(()=>{const Vr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Vr),()=>window.removeEventListener("resize",Vr)},[]);const Or=Vr=>{if(!Vr)return"";const Zr=Vr.split(" ");return Zr.length>1?Zr[1].substring(0,5):Vr},Lr=Vr=>{if(!Vr)return"";const Zr=Vr.split(" ");if(Zr.length<2)return Vr;const Hr=Zr[0].split("-"),Yr=Zr[1].split(":");return`${Hr[2]}/${Hr[1]}/${Hr[0].substring(2)} ${Yr[0]}:${Yr[1]}`},Fr=(Vr,Zr)=>{if(Vr===0)return"Tt c";if(!Zr||Zr.length===0)return`K${Vr}`;const Hr=Math.ceil(Zr.length/yr),Yr=(Vr-1)*Hr;let eo=Yr+Hr-1;return eo>=Zr.length&&(eo=Zr.length-1),Yr>=Zr.length?"-":`${Or(Zr[Yr])}-${Or(Zr[eo])}`};return reactExports.useEffect(()=>{(async()=>{const Zr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Hr of Zr)document.querySelector(`script[src="${Hr}"]`)||await new Promise(Yr=>{const eo=document.createElement("script");eo.src=Hr,eo.async=!1,eo.onload=Yr,document.head.appendChild(eo)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Hr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(eo=>eo.json());Hr.data&&Hr.data.total_page&&or(Hr.data.total_page);const Yr=(Hr.data.list_volume||[]).reverse();Yr.length>0&&cr(Yr[Yr.length-1].timestamp),xr(eo=>({...eo,[jr?"gold_full":"silver_full"]:Yr,[jr?"gold_categories":"silver_categories"]:Yr.map(io=>io.timestamp)})),Sr(yr)}catch(Zr){console.error(Zr)}})()},[Hn,rr,nr,jr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Vr=jr?fr.gold_full:fr.silver_full,Zr=jr?fr.gold_categories:fr.silver_categories;if(!Vr.length)return;let Hr=[...Vr],Yr=[...Zr];if(_r!==0){const _o=Math.ceil(Vr.length/yr),Po=(_r-1)*_o,Oo=Po+_o;Hr=Vr.slice(Po,Oo),Yr=Zr.slice(Po,Oo)}const eo=[],io=[],uo=[],so=[],no=[],po=_r===0&&!ur?1:ur?10:1;Hr.forEach((_o,Po)=>{eo.push({x:Po,open:_o.open_price/po,high:_o.high_price/po,low:_o.low_price/po,close:_o.close_price/po,timestamp:_o.timestamp,bb_u:_o.bb_upper_trungbinh!==null?_o.bb_upper_trungbinh/po:null,bb_l:_o.bb_lower_trungbinh!==null?_o.bb_lower_trungbinh/po:null,rsi_val:_o.rsi_pro_trungbinh||0}),_o.bb_upper_trungbinh!==null&&_o.bb_lower_trungbinh!==null&&io.push([Po,_o.bb_lower_trungbinh/po,_o.bb_upper_trungbinh/po]),uo.push({x:Po,y:_o.rsi_pro_trungbinh||0,price:_o.close_price,timestamp:_o.timestamp}),so.push({x:Po,y:_o.acc_dist!=null?Number(_o.acc_dist):null,timestamp:_o.timestamp})});const co=(_o,Po,Oo,So,Ao,zo,Ro)=>{const Go=Ao.slice(_o,Po+1),Qo=_r===0&&!ur?1:ur?10:1,Vo=Go[0],nl=Go[Go.length-1],fl=So===0?Vo.close:Vo.y,Bl=So===0?nl.close:nl.y,Gl=Go.map(Jc=>So===0?Jc.close:Jc.y),Tl=Ro?Math.min(...Gl):Math.max(...Gl);let Pc;So===0?Pc=ur?Ro?-.1:.1:Ro?-.8:.8:Pc=Ro?-15:15;const mc=Tl+Pc;let Hc,Vl;_o===Po?(Hc=Lr(Yr[_o]),Vl=So===0?(fl*Qo).toFixed(3):fl.toFixed(2)):(Hc=`${Lr(Yr[_o])}  ${Lr(Yr[Po])}`,Vl=So===0?`${(fl*Qo).toFixed(3)}  ${(Bl*Qo).toFixed(3)}`:`${fl.toFixed(2)}  ${Bl.toFixed(2)}`),no.push({draggable:"",labelOptions:{allowOverlap:!1,crop:!0,overflow:"justify",backgroundColor:"rgba(0,0,0,0.85)",borderColor:zo,borderRadius:4,padding:ur?4:8,style:{pointerEvents:"none",zIndex:10}},shapes:[{type:"path",points:[{x:_o,xAxis:0,y:So===0?Vo.close:Vo.y,yAxis:So},{x:_o,xAxis:0,y:mc,yAxis:So},{x:Po,xAxis:0,y:mc,yAxis:So},{x:Po,xAxis:0,y:So===0?nl.close:nl.y,yAxis:So}],fill:"none",stroke:zo,strokeWidth:ur?1:2,dashStyle:"Solid"}],labels:[{point:{x:(_o+Po)/2,xAxis:0,y:mc,yAxis:So},useHTML:!0,text:`<div style="text-align: center; white-space: nowrap;">
                  <div style="color: ${zo}; font-weight: 900; font-size: ${ur?"10px":"14px"}; margin-bottom: 2px;">
                    ${Oo}
                  </div>
                  <div style="color: #FFFFFF; font-weight: bold; font-size: ${ur?"8px":"11px"}; margin-bottom: 2px;">
                    ${Hc}
                  </div>
                  <div style="color: #00FF80; font-weight: bold; font-size: ${ur?"9px":"12px"};">
                    ${Vl}
                  </div>
                </div>`,verticalAlign:Ro?"bottom":"top"}]})};let lo=0;for(;lo<uo.length;){let _o=uo[lo].y>70?"BN":uo[lo].y<30?"MUA":null;if(_o){let Po=lo,Oo=lo;for(;Oo+1<uo.length;){let So=uo[Oo+1].y;if(_o==="BN"&&So>=70||_o==="MUA"&&So<=30)Oo++;else break}co(Po,Oo,_o,1,uo,_o==="MUA"?"#00FF80":"#FF4B4B",_o==="MUA"),lo=Oo+1}else lo++}let ao=0;for(;ao<eo.length;){const _o=eo[ao];if(_o.bb_u===null||_o.bb_l===null){ao++;continue}let Po=_o.close>_o.bb_u?"BN":_o.close<_o.bb_l?"MUA":null;if(Po){let Oo=ao,So=ao;for(;So+1<eo.length;){let Ao=eo[So+1];if(Ao.bb_u===null||Ao.bb_l===null)break;if((Ao.close>Ao.bb_u?"BN":Ao.close<Ao.bb_l?"MUA":null)===Po)So++;else break}co(Oo,So,Po,0,eo,Po==="MUA"?"#00FF80":"#FF4B4B",Po==="MUA"),ao=So+1}else ao++}const xo={chart:{height:ur?800:900,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},annotations:no,xAxis:{categories:Yr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:ur?[{title:{text:null},height:"70%",gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},minPadding:.1,maxPadding:.1},{title:{text:null},top:"75%",height:"25%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},max:100,min:0,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:null},top:"92%",height:"8%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1}}]:[{title:{text:null},height:"55%",gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},minPadding:.1,maxPadding:.1},{title:{text:null},top:"60%",height:"40%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},max:100,min:0,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:null},top:"84%",height:"16%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"none",borderWidth:0,shadow:!1,padding:0},plotOptions:{candlestick:{color:Mr,upColor:Ir,lineColor:Mr,upLineColor:Ir,wickColor:"#888",groupPadding:ur?.05:.02,pointPadding:ur?.02:.01,lineWidth:ur?1:2},series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{type:"candlestick",name:"Gi",data:eo,yAxis:0,zIndex:2,tooltip:{pointFormatter:function(){const _o=_r===0&&!ur?1:ur?10:1;return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                        <b style="color:#ffd700; font-size:13px;">
                        <b style="color:#ffffff; font-size:14px;">${this.timestamp}</b><br/>
                          Open-price: ${(this.open*_o).toFixed(3)}<br/>
                          High-price: ${(this.high*_o).toFixed(3)}<br/>
                          Low-price: ${(this.low*_o).toFixed(3)}<br/>
                          Close-price: ${(this.close*_o).toFixed(3)}
                        </b>
                      </div>`}}},{type:"areasplinerange",name:"BB",data:io,yAxis:0,color:"#9b59b6",fillColor:"rgba(155, 89, 182, 0.2)",lineWidth:ur?.1:2,zIndex:0,enableMouseTracking:!1},{type:"spline",name:"RSI",data:uo,yAxis:1,color:Dr,lineWidth:ur?1:3,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                        <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                        <b style="color:#00ff00; font-size:13px;">Gi: ${this.price.toFixed(3)}</b><br/>
                        <b style="color:${Dr}; font-size:13px;">RSI: ${this.y.toFixed(2)}</b>
                      </div>`}}},{type:"spline",name:"AccumulationDistribution",data:so,yAxis:2,color:"#00e5ff",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return this.y===null?`
                  <div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                    <b style="color:${Dr}; font-size:13px;">Accum/Dist</b><br/>
                    <b style="color:#ff6464; font-size:12px;">Khng c d liu Accum/Dist</b>
                  </div>
                `:`
                <div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                  <b style="color:${Dr}; font-size:13px;">Accum/Dist:</b><br/>
                  <b style="color:${Dr}; font-size:13px;">
                    ${Math.round(this.y).toLocaleString()}
                  </b>
                </div>
              `}}}],credits:{enabled:!1},legend:{enabled:!1}};window.Highcharts.chart(tr.current,xo)},[nr,fr,rr,_r,Hn,jr,Dr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/rsi-chart",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Dr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Vr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Vr),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Vr?Vr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Vr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Vr==="XAU"?"Vng (XAU)":"Bc (XAG)"},Vr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Vr=>jsxRuntimeExports.jsx("button",{onClick:()=>Sr(Vr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:_r===Vr?"#333":"#111",color:_r===Vr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Fr(Vr,jr?fr.gold_categories:fr.silver_categories)},Vr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Vr=>Vr+1),disabled:rr>=ar,style:navBtnStyle$4(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Vr=>Math.max(1,Vr-1)),disabled:rr===1,style:navBtnStyle$4(rr===1),children:" Sau "})]})]})},navBtnStyle$4=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),TradingDashboardBollingerBand=()=>{const tr="https://api_gold.thinkdiff.us/volume_xauusd_phantich",Hn="https://api_gold.thinkdiff.us/volume_xagusd_phantich",er="wss://vang247.com/price-service/ws/v1/prices",[nr,ir]=reactExports.useState({gold:null,silver:null}),[rr,sr]=reactExports.useState({XAUUSD:0,XAGUSD:0}),[ar,or]=reactExports.useState({XAUUSD:0,XAGUSD:0}),[lr,cr]=reactExports.useState({gold:0,silver:0}),[ur,dr]=reactExports.useState({gold:0,silver:0}),[fr,xr]=reactExports.useState(null),[yr,_r]=reactExports.useState(typeof window<"u"?window.innerWidth<768:!1),[Sr,jr]=reactExports.useState([]),Dr=reactExports.useRef(null),Ir=reactExports.useRef({VNG:0,BC:0}),Mr=reactExports.useRef(0),Or=eo=>eo?eo.split(".")[0]:"--:--",Lr=(eo,io)=>{const uo=Date.now(),so={id:uo,type:eo,instrument:io,time:new Date().toLocaleTimeString()};jr(no=>[so,...no].slice(0,3)),setTimeout(()=>{jr(no=>no.filter(po=>po.id!==uo))},5e3)};reactExports.useEffect(()=>{const eo=()=>_r(window.innerWidth<768);return window.addEventListener("resize",eo),()=>window.removeEventListener("resize",eo)},[]);const Fr=(eo,io)=>{if(!eo||!io?.data?.rsi_data)return 0;const uo=io.data.rsi_data.trungbinh_rsi.rsi_trungbinh,so=io.data.rsi_data.trungbinh_rsi,no=(eo-so.bb_lower_trungbinh)/(so.bb_upper_trungbinh-so.bb_lower_trungbinh)*100;return uo+no},Vr=()=>{Dr.current&&Dr.current.readyState===WebSocket.OPEN||(Dr.current=new WebSocket(er),Dr.current.onmessage=eo=>{const io=Date.now();if(!(io-Mr.current<1e3))try{const uo=JSON.parse(eo.data),so=uo.goldNationWide?.find(po=>po.name==="XAUUSD")||uo.sjcNationWide?.find(po=>po.name==="XAUUSD"),no=uo.silver_price?.find(po=>po.name==="XAGUSD");if(so||no){if(Mr.current=io,so){const po=so.hanoi.buy-.05;sr(co=>(or(lo=>({...lo,XAUUSD:co.XAUUSD})),{...co,XAUUSD:po})),ir(co=>{if(co.gold){const lo=Fr(po,co.gold);cr(ao=>(dr(xo=>({...xo,gold:ao.gold})),{...ao,gold:lo}))}return co})}if(no){const po=no.hanoi.buy-.05;sr(co=>(or(lo=>({...lo,XAGUSD:co.XAGUSD})),{...co,XAGUSD:po})),ir(co=>{if(co.silver){const lo=Fr(po,co.silver);cr(ao=>(dr(xo=>({...xo,silver:ao.silver})),{...ao,silver:lo}))}return co})}}}catch{}},Dr.current.onclose=()=>{setTimeout(Vr,3e3)},Dr.current.onerror=()=>{Dr.current.close()})},Zr=async()=>{try{const[eo,io]=await Promise.all([fetch(tr).then(uo=>uo.json()),fetch(Hn).then(uo=>uo.json())]);ir({gold:eo,silver:io})}catch(eo){console.error("API Error:",eo)}};reactExports.useEffect(()=>{Zr();const eo=setInterval(Zr,6e4);return Vr(),()=>{Dr.current?.close(),clearInterval(eo)}},[]);const Yr=!nr.gold||!nr.silver?null:lr.gold>lr.silver?{char:">",text:"Vn ang Vo Vng Nhiu Hn Bc",color:"#fff200"}:lr.gold<lr.silver?{char:"<",text:"Vn ang Vo Bc Nhiu Hn Vng",color:"#c0c0c0"}:{char:"=",text:"Dng Tin ang Cn Bng",color:"#fff"};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:yr?"5px":"20px",color:"#fff",fontFamily:"sans-serif",width:"100%",minHeight:"100vh",position:"relative",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("style",{children:`
        @keyframes flash-green-glow { 0% { color: #00ff88; filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.9)); } 100% { color: inherit; filter: none; } }
        @keyframes flash-red-glow { 0% { color: #ff4d4d; filter: drop-shadow(0 0 10px rgba(255, 77, 77, 0.9)); } 100% { color: inherit; filter: none; } }
        @keyframes flash-bg-green { 0% { background-color: rgba(0, 255, 136, 0.2); } 100% { background-color: transparent; } }
        @keyframes flash-bg-red { 0% { background-color: rgba(255, 77, 77, 0.2); } 100% { background-color: transparent; } }
        @keyframes slide-in-left { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .text-flash-up { animation: flash-green-glow 1s ease-out; }
        .text-flash-down { animation: flash-red-glow 1s ease-out; }
        .box-flash-up { animation: flash-bg-green 1s ease-out; }
        .box-flash-down { animation: flash-bg-red 1s ease-out; }
        .noti-item { animation: slide-in-left 0.3s ease-out; }
      `}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:"1px solid #333",paddingBottom:"10px"},children:[jsxRuntimeExports.jsxs("div",{style:{color:"#ffffff",fontSize:yr?"11px":"14px"},children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff88",fontWeight:"bold"},children:Or(nr.gold?.data?.time_now)})]}),jsxRuntimeExports.jsx("button",{onClick:Zr,style:{backgroundColor:"#35e858",border:"none",color:"#fff",padding:yr?"5px 10px":"10px 20px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:yr?"11px":"14px"},children:"LM MI"})]}),Yr&&jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginBottom:"15px",color:Yr.color,fontWeight:"bold",fontSize:yr?"12px":"20px",textTransform:"uppercase"},children:Yr.text}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:yr?"5px":"20px",width:"100%",justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(InstrumentCard,{title:"VNG",price:rr.XAUUSD,prevPrice:ar.XAUUSD,total:lr.gold,prevTotal:ur.gold,fullData:nr.gold,isMobile:yr,onOpenDetail:()=>xr("VNG"),addNoti:Lr,lastSignalTime:Ir}),Yr&&jsxRuntimeExports.jsx("div",{style:{fontSize:yr?"30px":"80px",color:"#ff9800",fontWeight:"bold",textShadow:"0 0 10px rgba(255, 152, 0, 0.5)",minWidth:yr?"20px":"auto",textAlign:"center"},children:Yr.char}),jsxRuntimeExports.jsx(InstrumentCard,{title:"BC",price:rr.XAGUSD,prevPrice:ar.XAGUSD,total:lr.silver,prevTotal:ur.silver,fullData:nr.silver,isMobile:yr,onOpenDetail:()=>xr("BC"),addNoti:Lr,lastSignalTime:Ir})]})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:"10px",zIndex:1e4,display:"flex",flexDirection:"column-reverse",gap:"8px",bottom:"20px"},children:Sr.map(eo=>jsxRuntimeExports.jsxs("div",{className:"noti-item",style:{backgroundColor:eo.type==="BUY"?"rgba(0, 255, 136, 0.95)":"rgba(255, 77, 77, 0.95)",color:"#000",padding:yr?"6px 10px":"10px 15px",borderRadius:"8px",fontWeight:"bold",boxShadow:"0 8px 16px rgba(0,0,0,0.6)",minWidth:yr?"140px":"180px",borderLeft:"5px solid #000"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:yr?"11px":"14px"},children:[jsxRuntimeExports.jsx("span",{children:eo.type==="BUY"?"":""}),jsxRuntimeExports.jsx("span",{children:eo.type==="BUY"?"TN HIU MUA":"TN HIU BN"})]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"10px",opacity:.7},children:[eo.instrument," - ",eo.time]})]},eo.id))}),fr&&jsxRuntimeExports.jsx(DetailModal,{title:fr,price:fr==="VNG"?rr.XAUUSD:rr.XAGUSD,fullData:fr==="VNG"?nr.gold:nr.silver,isMobile:yr,onClose:()=>xr(null)})]})},InstrumentCard=({title:tr,price:Hn,prevPrice:er,total:nr,prevTotal:ir,fullData:rr,onOpenDetail:sr,isMobile:ar,addNoti:or,lastSignalTime:lr})=>{const cr=reactExports.useRef(null),ur=reactExports.useRef(null),dr=reactExports.useRef(null);if(reactExports.useEffect(()=>{if(Hn>0&&rr?.data?.rsi_data){const Mr=rr.data.rsi_data.trungbinh_rsi.rsi_trungbinh,Or=rr.data.rsi_data.trungbinh_rsi,Lr=(Hn-Or.bb_lower_trungbinh)/(Or.bb_upper_trungbinh-Or.bb_lower_trungbinh)*100,Fr=Date.now(),Vr=3e4;if(Mr>=70&&Lr>100?Fr-lr.current[tr]>Vr&&(or("SELL",tr),lr.current[tr]=Fr):Mr<=30&&Lr<0&&Fr-lr.current[tr]>Vr&&(or("BUY",tr),lr.current[tr]=Fr),er>0&&Hn!==er){const Zr=Hn>er?"text-flash-up":"text-flash-down",Hr=Hn>er?"box-flash-up":"box-flash-down";cr.current&&(cr.current.classList.remove("text-flash-up","text-flash-down"),cr.current.offsetWidth,cr.current.classList.add(Zr)),ur.current&&(ur.current.classList.remove("box-flash-up","box-flash-down"),ur.current.offsetWidth,ur.current.classList.add(Hr))}if(ir>0&&nr!==ir){const Zr=nr>ir?"text-flash-up":"text-flash-down";dr.current&&(dr.current.classList.remove("text-flash-up","text-flash-down"),dr.current.offsetWidth,dr.current.classList.add(Zr))}}},[Hn,nr,rr,tr,or,er,ir]),!rr||!rr.data?.rsi_data)return jsxRuntimeExports.jsx("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"#111",borderRadius:"24px"},children:"..."});const xr=rr.data.rsi_data.trungbinh_rsi,yr=tr==="VNG"?"#fff200":"#c0c0c0",_r=xr.rsi_trungbinh,Sr=(Hn-xr.bb_lower_trungbinh)/(xr.bb_upper_trungbinh-xr.bb_lower_trungbinh)*100,Dr=((Mr,Or)=>{let Lr="i ngang",Fr="#ffffff";Mr>=70?(Lr="Nn bn",Fr="#ff4d4d"):Mr<=30&&(Lr="Nn mua",Fr="#00ff88");let Vr="ang i",Zr="#ffffff";return Or>100?(Vr="Nn bn ngay",Zr="#ff4d4d"):Or<0&&(Vr="Nn mua ngay",Zr="#00ff88"),{rsiText:Lr,rsiColor:Fr,bbText:Vr,bbColor:Zr}})(_r,Sr),Ir=tr==="BC";return jsxRuntimeExports.jsxs("div",{style:{flex:1,backgroundColor:"#111",borderRadius:ar?"12px":"24px",border:"1px solid #333",padding:ar?"10px":"30px",textAlign:"center",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",maxWidth:"50%",boxSizing:"border-box",position:"relative"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:ar?"5px":"15px",left:Ir?ar?"10px":"20px":"auto",right:Ir?"auto":ar?"10px":"20px",textAlign:Ir?"left":"right"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:ar?"9px":"12px",color:"#888"},children:"TOTAL"}),jsxRuntimeExports.jsx("div",{ref:dr,style:{fontSize:ar?"12px":"18px",fontWeight:"bold"},children:nr.toFixed(2)})]}),jsxRuntimeExports.jsx("h3",{style:{fontSize:ar?"16px":"35px",color:yr,marginBottom:ar?"10px":"20px",fontWeight:"bold"},children:tr}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:ar?"5px":"30px",marginBottom:"10px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:ar?"55px":"140px",height:ar?"55px":"140px"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:Dr.rsiColor,strokeWidth:"2.5",strokeDasharray:`${Math.min(Math.max(_r,0),100)*1.13}, 113`,strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("span",{style:{fontSize:ar?"12px":"28px",fontWeight:"900",color:Dr.rsiColor},children:_r.toFixed(3)})})]}),jsxRuntimeExports.jsx("span",{style:{fontSize:ar?"10px":"18px",color:"#555",marginTop:"5px",fontWeight:"bold"},children:"RSI"}),jsxRuntimeExports.jsx("div",{style:{fontSize:ar?"8px":"12px",color:Dr.rsiColor,height:"14px"},children:Dr.rsiText})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{ref:ur,style:{position:"relative",width:ar?"55px":"140px",height:ar?"55px":"140px"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:Dr.bbColor,strokeWidth:"2.5",strokeDasharray:`${Math.min(Math.max(Sr,0),100)*1.13}, 113`,strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("span",{style:{fontSize:ar?"12px":"28px",fontWeight:"900",color:Dr.bbColor},children:Sr.toFixed(3)})})]}),jsxRuntimeExports.jsx("span",{style:{fontSize:ar?"10px":"18px",color:"#555",marginTop:"5px",fontWeight:"bold"},children:"BB"}),jsxRuntimeExports.jsx("div",{style:{fontSize:ar?"8px":"12px",color:Dr.bbColor,height:"14px"},children:Dr.bbText})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:ar?"4px":"15px",marginBottom:ar?"10px":"25px",marginTop:"10px",fontSize:ar?"8px":"14px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00ff88",fontWeight:"bold"},children:"Lower:"})," ",xr.bb_lower_trungbinh.toFixed(3)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#888",fontWeight:"bold"},children:"Middle:"})," ",xr.bb_middle_trungbinh.toFixed(3)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ff4d4d",fontWeight:"bold"},children:"Upper:"})," ",xr.bb_upper_trungbinh.toFixed(3)]})]}),jsxRuntimeExports.jsxs("div",{ref:cr,style:{fontSize:ar?"15px":"45px",fontWeight:"bold",color:Dr.rsiColor},children:["$",Hn.toFixed(ar?2:3)]}),jsxRuntimeExports.jsx("div",{style:{color:Dr.rsiColor,fontSize:ar?"12px":"35px",fontWeight:"900",marginTop:ar?"5px":"10px"},children:Dr.rsiText==="i ngang"?"I NGANG":Dr.rsiText==="Nn bn"?"NN BN RA":"NN MUA VO"}),jsxRuntimeExports.jsx("button",{onClick:sr,style:{marginTop:"15px",backgroundColor:"#333",border:"none",color:"#fff",padding:ar?"10px":"15px",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",width:"100%",fontSize:ar?"10px":"14px"},children:"XEM CHI TIT"})]})},DetailModal=({title:tr,price:Hn,fullData:er,onClose:nr,isMobile:ir})=>{const rr=er?.data?.rsi_data?.rsi?.danhsach||[],sr=tr==="VNG"?"#fff200":"#c0c0c0",ar=(or,lr)=>{let cr="i ngang",ur="#ffffff";or>=70?(cr="Nn bn",ur="#ff4d4d"):or<=30&&(cr="Nn mua",ur="#00ff88");let dr="Ch tn hiu",fr="#ffffff";return lr>100?(dr="Nn bn",fr="#ff4d4d"):lr<0&&(dr="Nn mua",fr="#00ff88"),{rsiText:cr,rsiColor:ur,bbText:dr,bbColor:fr}};return jsxRuntimeExports.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:ir?"5px":"10px"},children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#111",width:"100%",maxWidth:"1200px",maxHeight:"95vh",borderRadius:"24px",border:"1px solid #333",overflowY:"auto",padding:ir?"10px":"30px",position:"relative"},children:[jsxRuntimeExports.jsx("button",{onClick:nr,style:{position:"absolute",top:"15px",right:"15px",background:"#ff4d4d",border:"none",color:"#fff",borderRadius:"50%",width:"35px",height:"35px",cursor:"pointer",zIndex:10},children:""}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsxs("h2",{style:{color:sr,margin:"0 0 5px 0",fontSize:ir?"18px":"28px"},children:["CHI TIT ",tr]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:ir?"24px":"40px",fontWeight:"bold",color:"#ffbaba"},children:["$",Hn.toFixed(3)]})]}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:ir?"1fr 1fr":"1fr 1fr 1fr",gap:ir?"8px":"20px"},children:rr.map((or,lr)=>{const cr=(Hn-or.value.bb_lower)/(or.value.bb_upper-or.value.bb_lower)*100,ur=or.value.rsi_value,dr=ar(ur,cr);return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#111",padding:ir?"10px":"20px",borderRadius:"20px",border:"1px solid #333",textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{style:{color:sr,marginBottom:"15px",fontWeight:"bold",fontSize:ir?"13px":"18px"},children:or.minute<60?or.minute+" PHT":or.minute/60+" GI"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:ir?"10px":"25px",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:ir?"50px":"75px",height:ir?"50px":"75px"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:dr.rsiColor,strokeWidth:"3",strokeDasharray:`${Math.min(Math.max(ur,0),100)*1.13}, 113`})]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:ir?"10px":"16px",fontWeight:"bold"},children:ur.toFixed(3)})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#888",marginTop:"4px",fontWeight:"bold"},children:"RSI"}),jsxRuntimeExports.jsx("div",{style:{fontSize:ir?"9px":"11px",color:dr.rsiColor,fontStyle:"italic",height:"14px"},children:dr.rsiText})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:ir?"50px":"75px",height:ir?"50px":"75px"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:dr.bbColor,strokeWidth:"3",strokeDasharray:`${Math.min(Math.max(cr,0),100)*1.13}, 113`})]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:ir?"10px":"16px",fontWeight:"bold"},children:cr.toFixed(3)})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#888",marginTop:"4px",fontWeight:"bold"},children:"BB"}),jsxRuntimeExports.jsx("div",{style:{fontSize:ir?"9px":"11px",color:dr.bbColor,fontStyle:"italic",height:"14px"},children:dr.bbText})]})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:ir?"14px":"20px",color:dr.rsiColor,fontWeight:"bold",margin:"10px 0",textTransform:"uppercase"},children:dr.rsiText==="i ngang"?"I NGANG":dr.rsiText==="Nn bn"?"NN BN RA":"NN MUA VO"}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"10px",fontSize:ir?"7px":"10px",borderTop:"1px solid #222",paddingTop:"10px",display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00ff88"},children:"Lower:"})," ",or.value.bb_lower.toFixed(3)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#888"},children:"Middle:"})," ",or.value.bb_middle.toFixed(3)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ff4d4d"},children:"Upper:"})," ",or.value.bb_upper.toFixed(3)]})]})]},lr)})})]})})},SOCKET_URL="wss://api-ui.hyperliquid.xyz/ws";function formatNumberShort(tr){if(tr==null)return"0";const Hn=Math.abs(tr);return Hn>=1e9?(tr/1e9).toFixed(2).replace(/\.0$/,"")+"B":Hn>=1e6?(tr/1e6).toFixed(2).replace(/\.0$/,"")+"M":Hn>=1e3?(tr/1e3).toFixed(2).replace(/\.0$/,"")+"K":tr.toString()}const OrderBook=({type:tr="SILVER"})=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState({val:0,percent:0}),[ar,or]=reactExports.useState(0),[lr,cr]=reactExports.useState(!1),ur=reactExports.useRef([]),[dr,fr]=reactExports.useState(!1),xr=reactExports.useRef(!1),yr=`xyz:${tr}`,_r=reactExports.useRef({bids:[],asks:[]});reactExports.useEffect(()=>{const Hr=setInterval(()=>{cr(!0),setTimeout(()=>{cr(!1)},5e3)},3e4);return()=>clearInterval(Hr)},[]),reactExports.useEffect(()=>{const Hr=new WebSocket(SOCKET_URL);Hr.onopen=()=>{const eo={method:"subscribe",subscription:{type:"l2Book",coin:yr,nSigFigs:null}};Hr.send(JSON.stringify(eo))},Hr.onmessage=eo=>{const uo=JSON.parse(eo.data).data;uo&&uo.levels&&(_r.current={bids:uo.levels[0],asks:uo.levels[1]},xr.current||(ur.current.push({coin:uo.coin,levels:uo.levels,time:uo.time||Date.now()}),ur.current.length>50&&ur.current.shift()))};const Yr=setInterval(()=>{jr()},200);return()=>{Hr.close(),clearInterval(Yr)}},[yr]),reactExports.useEffect(()=>{const Hr=setInterval(()=>{or(Yr=>Yr+1)},1e3);return()=>clearInterval(Hr)},[]);function Sr(Hr){const Yr=Math.floor(Hr/3600),eo=Math.floor(Hr%3600/60),io=Hr%60;return[Yr.toString().padStart(2,"0"),eo.toString().padStart(2,"0"),io.toString().padStart(2,"0")].join(":")}const jr=()=>{const Hr=_r.current.bids,Yr=_r.current.asks;if(Hr.length===0||Yr.length===0)return;let eo=0;const io=Yr.slice(0,15).map(ao=>{const xo=parseFloat(ao.sz);return eo+=xo,{price:parseFloat(ao.px),size:xo,total:eo}}).reverse();let uo=0;const so=Hr.slice(0,15).map(ao=>{const xo=parseFloat(ao.sz);return uo+=xo,{price:parseFloat(ao.px),size:xo,total:uo}}),no=parseFloat(Hr[0].px),po=parseFloat(Yr[0].px),co=po-no,lo=co/po*100;ir(io),er(so),sr({val:co,percent:lo})},Dr=reactExports.useRef(0),Ir=reactExports.useRef(0),{maxTotal:Mr,buyPercent:Or,sellPercent:Lr,a:Fr,b:Vr}=reactExports.useMemo(()=>{const Hr=Hn.length>0?Hn[Hn.length-1].total:0,Yr=nr.length>0?nr[0].total:0;Dr.current=Dr.current+Hn.reduce((uo,so)=>uo+(so?.total||0),0),Ir.current=Ir.current+nr.reduce((uo,so)=>uo+(so?.total||0),0);const eo=Dr.current+Ir.current;let io=50;return eo>0&&(io=Dr.current/eo*100),{maxTotal:Math.max(Hr,Yr),buyPercent:io,sellPercent:100-io,a:Dr.current,b:Ir.current}},[Hn,nr]),Zr=tr==="GOLD"?"Vng":"Bc";return jsxRuntimeExports.jsxs("div",{style:styles.container,onClick:()=>{fr(!0),xr.current=!0},children:[jsxRuntimeExports.jsx("style",{children:`
                @keyframes vanishIn {
                    0% { opacity: 0; transform: translate(-50%, 0) scale(2); filter: blur(10px); }
                    100% { opacity: 1; transform: translate(-50%, 0) scale(1); filter: blur(0); }
                }
                @media (max-width: 600px) {
                    .noti-gold { left: 30% !important; }
                    .noti-silver { left: 70% !important; }
                }
                `}),lr&&jsxRuntimeExports.jsx("div",{className:tr==="GOLD"?"noti-gold":"noti-silver",style:{...styles.notification,left:tr==="GOLD"?"45%":"55%",borderColor:Or>50?"#3b82f6":"#ef4444"},children:jsxRuntimeExports.jsxs("div",{style:{fontWeight:"bold"},children:[Zr,": ",Or.toFixed(1),"%"]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0,color:tr==="SILVER"?"#95a5a6":"#f1c40f"},children:tr}),jsxRuntimeExports.jsxs("span",{style:{fontSize:"11px",color:"#848E9C"},children:[" Thi Gian cng dn: ",Sr(ar)]})]}),jsxRuntimeExports.jsxs("div",{style:styles.ratioContainer,children:[jsxRuntimeExports.jsxs("div",{style:styles.ratioLabel,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("span",{style:{color:"#3b82f6"},children:["Buy ",Or.toFixed(1),"% "]}),jsxRuntimeExports.jsxs("span",{style:{color:"#3b82f6"},children:["Tng: ",formatNumberShort(Fr)]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("span",{style:{color:"#ef4444"},children:["Sell ",Lr.toFixed(1),"% "]}),jsxRuntimeExports.jsxs("span",{style:{color:"#ef4444"},children:["Tng: ",formatNumberShort(Vr)]})]})]}),jsxRuntimeExports.jsxs("div",{style:styles.ratioBarBg,children:[jsxRuntimeExports.jsx("div",{style:{...styles.ratioFill,width:`${Or}%`,backgroundColor:"#3b82f6"}}),jsxRuntimeExports.jsx("div",{style:{...styles.ratioFill,width:`${Lr}%`,backgroundColor:"#ef4444"}})]})]}),jsxRuntimeExports.jsxs("div",{style:styles.header,children:[jsxRuntimeExports.jsx("div",{style:styles.colLeft,children:"Price"}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Size (",tr,")"]}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Total (",tr,")"]})]}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:nr.map((Hr,Yr)=>jsxRuntimeExports.jsx(OrderRow,{item:Hr,maxTotal:Mr,type:"ask"},`ask-${Yr}`))}),jsxRuntimeExports.jsxs("div",{style:styles.spreadRow,children:[jsxRuntimeExports.jsx("span",{style:{color:"#888"},children:"Spread"}),jsxRuntimeExports.jsx("span",{style:{fontWeight:"bold"},children:rr.val.toFixed(2)}),jsxRuntimeExports.jsxs("span",{style:{color:"#888"},children:[rr.percent.toFixed(3),"%"]})]}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:Hn.map((Hr,Yr)=>jsxRuntimeExports.jsx(OrderRow,{item:Hr,maxTotal:Mr,type:"bid"},`bid-${Yr}`))}),dr&&jsxRuntimeExports.jsx(DataOverlay,{data:ur.current,onClose:()=>{xr.current=!1,fr(!1)},type:tr})]})},OrderRow=({item:tr,maxTotal:Hn,type:er})=>{const nr=er==="ask",ir=nr?"#FF5353":"#00C076",rr=nr?"rgba(255, 83, 83, 0.15)":"rgba(0, 192, 118, 0.15)",sr=Hn>0?Math.min(tr.total/Hn*100,100):0;return jsxRuntimeExports.jsxs("div",{style:styles.row,children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:0,width:`${sr}%`,backgroundColor:rr,zIndex:0,transition:"width 0.2s ease-out"}}),jsxRuntimeExports.jsx("span",{style:{...styles.cellLeft,color:ir},children:tr.price.toFixed(2)}),jsxRuntimeExports.jsx("span",{style:styles.cellRight,children:tr.size.toLocaleString(void 0,{minimumFractionDigits:2})}),jsxRuntimeExports.jsx("span",{style:styles.cellRight,children:tr.total.toLocaleString(void 0,{minimumFractionDigits:2})})]})};function processLevels(tr,Hn=15){const[er,nr]=tr;let ir=0;const rr=er.slice(0,Hn).map(lr=>(ir+=Number(lr.sz),{price:Number(lr.px),size:Number(lr.sz),total:ir}));let sr=0;const ar=nr.slice(0,Hn).map(lr=>(sr+=Number(lr.sz),{price:Number(lr.px),size:Number(lr.sz),total:sr})).reverse(),or=Math.max(rr[rr.length-1]?.total||0,ar[0]?.total||0);return{bids:rr,asks:ar,maxTotal:or}}function formatDateTime$2(tr){const Hn=new Date(tr),er=Hn.getHours().toString().padStart(2,"0"),nr=Hn.getMinutes().toString().padStart(2,"0"),ir=Hn.getSeconds().toString().padStart(2,"0"),rr=Hn.getMilliseconds().toString().padStart(3,"0"),sr=Hn.getDate().toString().padStart(2,"0"),ar=(Hn.getMonth()+1).toString().padStart(2,"0"),or=Hn.getFullYear();return`${er}:${nr}:${ir}:${rr} ${sr}/${ar}/${or}`}const DataOverlay=({data:tr,onClose:Hn,type:er})=>jsxRuntimeExports.jsx("div",{style:overlayStyles.backdrop,onClick:Hn,children:jsxRuntimeExports.jsxs("div",{style:overlayStyles.panel,onClick:nr=>nr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:overlayStyles.header,children:[jsxRuntimeExports.jsxs("h2",{children:["History ",` ${er}`]}),jsxRuntimeExports.jsx("button",{style:overlayStyles.closeBtn,onClick:Hn,children:""})]}),jsxRuntimeExports.jsx("div",{style:overlayStyles.content,children:tr.map((nr,ir)=>{const{bids:rr,asks:sr,maxTotal:ar}=processLevels(nr.levels);return jsxRuntimeExports.jsxs("div",{style:overlayStyles.snapshot,children:[jsxRuntimeExports.jsx("div",{style:overlayStyles.time,children:formatDateTime$2(nr.time)}),jsxRuntimeExports.jsxs("div",{style:styles.header,children:[jsxRuntimeExports.jsx("div",{style:styles.colLeft,children:"Price"}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Size (",er,")"]}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Total (",er,")"]})]}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:sr.map((or,lr)=>jsxRuntimeExports.jsx(OrderRow,{item:or,maxTotal:ar,type:"ask"},`ask-${ir}-${lr}`))}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:rr.map((or,lr)=>jsxRuntimeExports.jsx(OrderRow,{item:or,maxTotal:ar,type:"bid"},`bid-${ir}-${lr}`))})]},ir)})})]})}),overlayStyles={backdrop:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.75)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center"},panel:{width:"90%",maxWidth:"800px",maxHeight:"90vh",backgroundColor:"#161A25",borderRadius:"6px",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",padding:"10px",borderBottom:"1px solid #2B3139",fontWeight:"bold"},content:{overflowY:"auto",padding:"10px"},snapshot:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #2B3139"},time:{fontSize:"11px",color:"#9CA3AF",marginBottom:"6px"},closeBtn:{background:"transparent",border:"none",color:"#fff",fontSize:"16px",cursor:"pointer"}},styles={container:{width:"520px",backgroundColor:"#161A25",color:"#F0F3FA",fontFamily:"Consolas, monospace",fontSize:"12px",padding:"8px",borderRadius:"4px",position:"relative"},notification:{position:"fixed",top:"20px",transform:"translateX(-50%)",width:"auto",minWidth:"100px",padding:"10px 15px",backgroundColor:"#1e232f",color:"#fff",borderRadius:"8px",borderLeft:"5px solid",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",zIndex:1e4,fontSize:"14px",textAlign:"center",animation:"vanishIn 0.5s ease-out forwards",whiteSpace:"nowrap"},ratioContainer:{marginBottom:"10px"},ratioLabel:{display:"flex",justifyContent:"space-between",marginBottom:"4px",fontSize:"11px",fontWeight:"bold"},ratioBarBg:{display:"flex",height:"6px",width:"100%",backgroundColor:"#2a2e39",borderRadius:"3px",overflow:"hidden"},ratioFill:{height:"100%",transition:"width 0.3s ease-in-out"},header:{display:"flex",color:"#848E9C",marginBottom:"8px",padding:"0 4px"},colLeft:{flex:1,textAlign:"left"},colRight:{flex:1,textAlign:"right"},listContainer:{display:"flex",flexDirection:"column"},row:{display:"flex",position:"relative",height:"20px",alignItems:"center",cursor:"pointer",padding:"0 4px",marginBottom:"1px"},cellLeft:{flex:1,textAlign:"left",zIndex:1,position:"relative"},cellRight:{flex:1,textAlign:"right",zIndex:1,position:"relative",color:"#EAECEF"},spreadRow:{display:"flex",justifyContent:"space-between",padding:"8px 4px",fontSize:"13px",borderTop:"1px solid #2B3139",borderBottom:"1px solid #2B3139",margin:"4px 0"}};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const IGPriceBarChart=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState("7days"),[ir,rr]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{try{const ur=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();if(!ur.ig_sentiment)return;let dr=[...ur.ig_sentiment];dr.sort((xr,yr)=>new Date(xr.ngay_tao)-new Date(yr.ngay_tao));const fr=new Date;if(ir){if(er==="7days"){const xr=new Date(fr-6048e5);dr=dr.filter(yr=>new Date(yr.ngay_tao)>=xr)}else if(er==="30days"){const xr=new Date(fr-2592e6);dr=dr.filter(yr=>new Date(yr.ngay_tao)>=xr)}}else dr=dr.slice(-10);Hn(dr)}catch(cr){console.error("Error fetching data:",cr)}})()},[er,ir]);const ar={labels:tr.map(lr=>new Date(lr.ngay_tao).toLocaleString("vi-VN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})),datasets:[{label:"LONG (%)",data:tr.map(lr=>lr.sentiment_long),backgroundColor:"#4CAF50",borderRadius:4,datalabels:{display:!0,color:"#4CAF50",anchor:"end",align:"top",font:{weight:"bold",size:11},formatter:lr=>lr+"%"}},{label:"SHORT (%)",data:tr.map(lr=>lr.sentiment_short),backgroundColor:"#F44336",borderRadius:4,datalabels:{display:!1}}]},or={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{callbacks:{label:lr=>`${lr.dataset.label}: ${lr.parsed.y}%`},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff"}},scales:{x:{grid:{display:!1},ticks:{color:"#999"}},y:{min:0,max:100,ticks:{color:"#999",callback:lr=>lr+"%"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}};return jsxRuntimeExports.jsxs("div",{className:"ig-chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"ig-chart-header",children:[jsxRuntimeExports.jsx("h3",{children:"Biu  Long / Short theo thi gian"}),jsxRuntimeExports.jsxs("div",{className:"time-range-buttons",children:[jsxRuntimeExports.jsx("button",{className:`time-btn ${er==="7days"?"active":""}`,onClick:()=>nr("7days"),children:"7 Ngy"}),jsxRuntimeExports.jsx("button",{className:`time-btn ${er==="30days"?"active":""}`,onClick:()=>nr("30days"),children:"30 Ngy"}),jsxRuntimeExports.jsx("button",{className:`time-btn ${er==="all"?"active":""}`,onClick:()=>nr("all"),children:"Tt c"}),jsxRuntimeExports.jsx("button",{className:"time-btn",onClick:()=>rr(lr=>!lr),children:ir?"Thu gn (10)":"Xem thm"})]})]}),jsxRuntimeExports.jsx("div",{className:"ig-chart-wrapper",children:tr.length>0?jsxRuntimeExports.jsx(Bar$1,{data:ar,options:or,plugins:[plugin]}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu"})})]})},IGInstrumentInfo=({info:tr=null})=>{const[Hn,er]=reactExports.useState(tr);return reactExports.useEffect(()=>{if(tr)return;(async()=>{try{const rr=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();console.log("API raw:",rr);const sr=or=>{const lr=or.filter(dr=>dr&&typeof dr=="object");if(lr.length===0)return null;const ur=lr.map(dr=>{const fr=dr.ngay_tao||dr.created_at||null,xr=fr?new Date(String(fr).replace(" ","T")).getTime():NaN;return{it:dr,ts:xr}}).filter(dr=>!Number.isNaN(dr.ts));if(ur.length>0)return ur.sort((dr,fr)=>fr.ts-dr.ts),ur[0].it;for(let dr=lr.length-1;dr>=0;dr--){const fr=lr[dr];if("min_size"in fr||"contract_size"in fr||"one_pip_means"in fr||"symbol"in fr||"gia_sell"in fr)return fr}return lr[lr.length-1]};let ar=null;rr&&Array.isArray(rr.ig_sentiment)&&rr.ig_sentiment.length>0?ar=sr(rr.ig_sentiment):Array.isArray(rr)&&rr.length>0?ar=sr(rr):rr&&typeof rr=="object"&&(ar=rr),ar?(console.log("Selected latest instrument (by date/fallback):",ar.ngay_tao,ar.id,ar),er(ar)):console.warn("No IG instrument info found in API response")}catch(ir){console.error("Fetch instrument info error:",ir)}})()},[tr]),Hn?jsxRuntimeExports.jsxs("div",{className:"instrument-card",children:[jsxRuntimeExports.jsxs("h3",{className:"instrument-title",children:[Hn.symbol," (Dealing)"]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Minimum size"}),jsxRuntimeExports.jsx("span",{children:Hn.min_size??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Contract size"}),jsxRuntimeExports.jsx("span",{children:Hn.contract_size??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"One Pip means"}),jsxRuntimeExports.jsx("span",{children:Hn.one_pip_means??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Value of one Pip"}),jsxRuntimeExports.jsx("span",{children:Hn.value_one_pip??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Margin"}),jsxRuntimeExports.jsx("span",{children:Hn.margin??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Minimum stop distance"}),jsxRuntimeExports.jsx("span",{children:Hn.min_stop_dist??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Minimum guaranteed stop distance"}),jsxRuntimeExports.jsx("span",{children:Hn.min_guaranteed_stop??""})]})]}):jsxRuntimeExports.jsx("div",{className:"instrument-card",children:"ang ti d liu..."})},IGMarginTable=({raw:tr})=>{if(!tr)return null;let Hn=[];try{Hn=typeof tr=="string"?JSON.parse(tr):tr}catch{try{Hn=JSON.parse(String(tr).replace(/'/g,'"'))}catch(nr){return console.warn("Failed to parse margin_full_table",nr),null}}return!Array.isArray(Hn)||Hn.length===0?null:jsxRuntimeExports.jsx("div",{className:"margin-card",children:jsxRuntimeExports.jsxs("div",{className:"margin-card-body",children:[jsxRuntimeExports.jsx("h4",{className:"margin-title",children:"Margin"}),jsxRuntimeExports.jsx("div",{className:"margin-table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"margin-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tier"}),jsxRuntimeExports.jsx("th",{children:"Position size"}),jsxRuntimeExports.jsx("th",{children:"Margin"})]})}),jsxRuntimeExports.jsx("tbody",{children:Hn.map((er,nr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:er.tier??""}),jsxRuntimeExports.jsx("td",{children:er.position_size??""}),jsxRuntimeExports.jsx("td",{children:er.margin_rate??""})]},nr))})]})})]})})},IGInstrumentBlock=()=>{const[tr,Hn]=reactExports.useState(null);return reactExports.useEffect(()=>{const er=ir=>{const rr=ir.filter(or=>or&&typeof or=="object");if(rr.length===0)return null;const ar=rr.map(or=>{const lr=or.ngay_tao||or.created_at||null,cr=lr?new Date(String(lr).replace(" ","T")).getTime():NaN;return{it:or,ts:cr}}).filter(or=>!Number.isNaN(or.ts));if(ar.length>0)return ar.sort((or,lr)=>lr.ts-or.ts),ar[0].it;for(let or=rr.length-1;or>=0;or--){const lr=rr[or];if("min_size"in lr||"contract_size"in lr||"one_pip_means"in lr||"symbol"in lr||"gia_sell"in lr)return lr}return rr[rr.length-1]};(async()=>{try{const rr=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();let sr=null;rr&&Array.isArray(rr.ig_sentiment)&&rr.ig_sentiment.length>0?sr=er(rr.ig_sentiment):Array.isArray(rr)&&rr.length>0?sr=er(rr):rr&&typeof rr=="object"&&(sr=rr),sr&&Hn(sr)}catch(ir){console.error("Fetch instrument block error",ir)}})()},[]),tr?jsxRuntimeExports.jsxs("div",{className:"instrument-block",children:[jsxRuntimeExports.jsx("div",{className:"instrument-left",children:jsxRuntimeExports.jsx(IGInstrumentInfo,{info:tr})}),jsxRuntimeExports.jsx("div",{className:"instrument-right",children:jsxRuntimeExports.jsx(IGMarginTable,{raw:tr.margin_full_table})})]}):null},IGSentiment=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(0);if(reactExports.useEffect(()=>{const Hr=async(eo=!1)=>{try{eo&&nr(!0);const io=await fetch("https://api_gold.thinkdiff.us/ig_sentiment");if(!io.ok)throw new Error(`API error: ${io.status}`);const uo=await io.json();uo.ig_sentiment?.length>0&&Hn(uo.ig_sentiment[0]),rr(null)}catch(io){rr(io.message||"Failed to fetch sentiment data")}finally{eo&&nr(!1)}};Hr(!0);const Yr=setInterval(()=>Hr(!1),3e4);return()=>clearInterval(Yr)},[]),reactExports.useEffect(()=>{if(!tr)return;const Hr=Number(tr.sentiment_long),Yr=Number(tr.sentiment_short);let eo;const io=600,uo=performance.now(),so=sr,no=or,po=co=>{const lo=Math.min((co-uo)/io,1);ar(Math.round(so+(Hr-so)*lo)),lr(Math.round(no+(Yr-no)*lo)),lo<1&&(eo=requestAnimationFrame(po))};return eo=requestAnimationFrame(po),()=>cancelAnimationFrame(eo)},[tr]),er)return jsxRuntimeExports.jsx("div",{className:"sentiment-container loading",children:"Loading sentiment data..."});if(ir)return jsxRuntimeExports.jsxs("div",{className:"sentiment-container error",children:["Error: ",ir]});if(!tr)return jsxRuntimeExports.jsx("div",{className:"sentiment-container",children:"No data available"});const{gia_sell:cr=0,gia_buy:ur=0,bien_dong_gia:dr=0,bien_dong_phantram:fr=0,gia_high:xr=0,gia_low:yr=0,sentiment_long:_r=0,sentiment_short:Sr=0,ngay_tao:jr=""}=tr,Dr=cr,Ir=ur,Mr=dr??0,Or=fr??0,Lr=xr??0,Fr=yr??0,Vr=Mr>=0?"#4CAF50":"#FF6B6B",Zr=Mr>=0?"+":"";return jsxRuntimeExports.jsxs("div",{className:"sentiment-container",children:[jsxRuntimeExports.jsxs("div",{className:"sentiment-header",children:[jsxRuntimeExports.jsx("h2",{children:jsxRuntimeExports.jsx(Link,{to:"/ig-sentiment",className:"ig-title-link",title:"Xem trang IG Sentiment",children:"IG Sentiment (Silver)"})}),jsxRuntimeExports.jsxs("p",{className:"update-time",children:["Cp nht: ",jr]})]}),jsxRuntimeExports.jsxs("div",{className:"price-section",children:[jsxRuntimeExports.jsxs("div",{className:"price-box sell",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Bn"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:Dr.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]}),jsxRuntimeExports.jsxs("div",{className:"price-change",children:[jsxRuntimeExports.jsxs("div",{className:"change-value",style:{color:Vr},children:[Zr,Mr.toFixed(1)," (",Zr,Or.toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("div",{className:"high-low",children:[jsxRuntimeExports.jsxs("div",{className:"high1",children:["High: ",jsxRuntimeExports.jsx("span",{className:"num1",children:Lr.toLocaleString("en-US",{maximumFractionDigits:1})})]}),jsxRuntimeExports.jsxs("div",{className:"low1",children:["Low: ",jsxRuntimeExports.jsx("span",{className:"num2",children:Fr.toLocaleString("en-US",{maximumFractionDigits:1})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"price-box buy",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Mua"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:Ir.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]})]}),jsxRuntimeExports.jsxs("div",{className:"sentiment-bar-section",children:[jsxRuntimeExports.jsxs("div",{className:"sentiment-bar",children:[jsxRuntimeExports.jsx("div",{className:"sentiment-fill long",style:{width:`${sr}%`}}),jsxRuntimeExports.jsx("div",{className:"sentiment-fill short",style:{width:`${or}%`}})]}),jsxRuntimeExports.jsxs("div",{className:"sentiment-labels",children:[jsxRuntimeExports.jsxs("div",{className:"sentiment-item long",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Long"}),jsxRuntimeExports.jsxs("span",{className:"percent",children:[sr,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"sentiment-item short",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Short"}),jsxRuntimeExports.jsxs("span",{className:"percent",children:[or,"%"]})]})]})]}),jsxRuntimeExports.jsx(IGInstrumentBlock,{}),jsxRuntimeExports.jsx(IGPriceBarChart,{})]})};Chart$1.register(CategoryScale,LinearScale,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const GiaSLVGLDPSLV=()=>{const[tr,Hn]=reactExports.useState({slv:null,gld:null,pslv:null}),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(null),cr=async()=>{ar(!0),nr(null);try{const Lr=await(await fetch("https://api_gold.thinkdiff.us/phantich_quy_vang_bac")).json();Hn({slv:Lr.slv,gld:Lr.gld,pslv:Lr.PSLV});const Fr=Lr.slv?.json_goc?.chart_section?.quote?.updated_at;Fr&&rr(ur(Fr))}catch(Or){console.error(Or),nr("Khng load c d liu")}finally{ar(!1)}};reactExports.useEffect(()=>{cr()},[]);const ur=Or=>{if(!Or)return null;const Lr=typeof Or=="number"?new Date(Or<1e12?Or*1e3:Or):new Date(Or),Fr=Vr=>String(Vr).padStart(2,"0");return`${Fr(Lr.getHours())}:${Fr(Lr.getMinutes())}:${Fr(Lr.getSeconds())} ${Fr(Lr.getDate())}/${Fr(Lr.getMonth()+1)}/${Lr.getFullYear()}`},dr=(Or,Lr)=>{if(!Or||!Lr)return Or||"";let Fr=Or;const Vr=Or.match(/(\d{1,2}):(\d{2})?\s?(AM|PM)/i);if(Vr){let Yr=Number(Vr[1]);const eo=Vr[2]||"00";Yr===12&&(Yr=0),Fr=`${Yr.toString().padStart(2,"0")}:${eo}`}let Zr;typeof Lr=="number"?Zr=new Date(Lr<1e12?Lr*1e3:Lr):Zr=new Date(Lr);const Hr=Zr.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"});return`${Fr} ${Hr}`},fr=Or=>{const Lr=Or?.json_goc?.chart_section?.chart?.lines?.[1]?.segments?.flatMap(Yr=>Yr?.points??[]);if(!Array.isArray(Lr))return{data:{labels:[],datasets:[]},options:{}};const Fr=Or?.json_goc?.chart_section?.default_display?.secondary_value?.main?.color?.dark,Vr=xr(Fr),Zr=Lr.map(Yr=>dr(Yr?.cursor_data?.label?.value,ir)),Hr=Lr.map(Yr=>Number(Yr?.cursor_data?.price_chart_data?.dollar_value?.amount));return{data:{labels:Zr,datasets:[{label:"Gi ($)",data:Hr,borderColor:Vr,backgroundColor:Fr==="negative"?"rgba(211,47,47,0.15)":"rgba(46,125,50,0.15)",tension:.3,pointRadius:0,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{label:Yr=>`Gi: $${Yr.parsed.y}`}},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{ticks:{maxTicksLimit:6}},y:{beginAtZero:!1}}}}},xr=Or=>{switch(Or){case"negative":return"red";case"positive":return"green";case"fg":default:return"#333"}},yr=(Or,Lr)=>{if(!Or)return Or;let Fr=String(Or);const Vr=Fr.match(/([-\d.,$]+)\s*\(([-\d.,%]+)\)/);let Zr=Fr,Hr=null;return Vr&&(Zr=Vr[1],Hr=Vr[2]),Zr=Zr.replace(/^[-+]/,""),Hr&&(Hr=Hr.replace(/^[-+]/,"")),Lr==="negative"&&(Zr=`-${Zr}`,Hr&&(Hr=`-${Hr}`)),Lr==="positive"&&(Zr=`+${Zr}`,Hr&&(Hr=`+${Hr}`)),Hr?`${Zr} (${Hr})`:Zr},_r=(Or,Lr)=>{const Fr=Lr?.json_goc?.chart_section?.default_display?.primary_value?.value,Vr=Lr?.json_goc?.chart_section?.default_display?.secondary_value?.main?.value,Zr=Lr?.json_goc?.chart_section?.default_display?.secondary_value?.main?.color?.dark,Hr=xr(Zr),Yr=yr(Vr,Zr);return jsxRuntimeExports.jsxs("div",{className:"box",onClick:()=>lr({title:Or,item:Lr}),style:{flex:1,border:"1px solid #ddd",borderRadius:8,padding:16,textAlign:"center",cursor:"pointer"},children:[jsxRuntimeExports.jsx("h2",{children:Or}),Fr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"price-main",children:Fr}),Yr&&jsxRuntimeExports.jsx("div",{style:{color:Hr},children:Yr})]}):jsxRuntimeExports.jsx("p",{children:"ang load..."})]})},Sr=or?.item?.json_goc?.chart_section?.default_display?.primary_value?.value,jr=or?.item?.json_goc?.chart_section?.default_display?.secondary_value?.main?.value,Dr=or?.item?.json_goc?.chart_section?.default_display?.secondary_value?.main?.color?.dark,Ir=xr(Dr),Mr=yr(jr,Dr);return jsxRuntimeExports.jsxs("div",{style:{padding:16},children:[jsxRuntimeExports.jsx("h1",{style:{textAlign:"center",padding:"8px 0"},children:"Gi SLV - GLD - PSLV"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[ir&&jsxRuntimeExports.jsxs("h3",{style:{margin:0},children:["Cp nht ln cui:",jsxRuntimeExports.jsxs("span",{style:{color:"#1976d2"},children:[" ",ir]})]}),jsxRuntimeExports.jsx("button",{className:"refresh-btn",onClick:cr,disabled:sr,children:sr?"ang ti...":"Lm mi"})]}),er&&jsxRuntimeExports.jsx("p",{style:{color:"red"},children:er}),or&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:()=>lr(null),children:jsxRuntimeExports.jsxs("div",{className:"price-modal-container",onClick:Or=>Or.stopPropagation(),style:{width:"80%",height:"70vh"},children:[jsxRuntimeExports.jsxs("div",{className:"price-modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"price-modal-title",children:or.title}),jsxRuntimeExports.jsx("button",{className:"price-modal-close-btn",onClick:()=>lr(null),children:""})]}),jsxRuntimeExports.jsxs("p",{children:["Gi hin ti:",jsxRuntimeExports.jsxs("strong",{children:[" ",Sr,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{style:{color:Ir,paddingLeft:"40px"},children:Mr})]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:550},children:jsxRuntimeExports.jsx(Chart,{type:"line",data:fr(or.item).data,options:fr(or.item).options})})]})}),jsxRuntimeExports.jsxs("div",{className:"box-container",style:{display:"flex",gap:16,justifyContent:"center"},children:[_r("SLV",tr.slv),_r("GLD",tr.gld),_r("PSLV",tr.pslv)]})]})},getChartSlug=tr=>{switch(tr){case"FX_IDC:XAUUSD":return"chart/gold";case"FX_IDC:XAGUSD":return"chart/silver";case"OANDA:XAUXAG":return"chart/xau_xag";case"TICKMILL:DXY":return"chart/dxy";default:return""}},SYMBOL_MAP={gold:"FX_IDC:XAUUSD",xau_xag:"OANDA:XAUXAG",silver:"FX_IDC:XAGUSD",dxy:"TICKMILL:DXY"},VolumeDualChartModal=({isOpen:tr,onClose:Hn,dataXauVolume:er,dataXagVolume:nr,avgVolumeXau:ir,avgVolumeXag:rr,volumeZoomState:sr,handleVolumeZoom:ar,modalRef:or,hasMoreData:lr,loadNextPages:cr,isLoadingMore:ur,loadAllPages:dr,resetToInitialPages:fr,sliderPage:xr,accumulatedXauRawRef:yr,pageSize:_r,handleVolumeSliderChange:Sr})=>!tr||!er?null:jsxRuntimeExports.jsxs("div",{className:"fullscreen-modal",ref:or,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{className:"modal-title",children:"Biu  so snh XAU/XAG"}),jsxRuntimeExports.jsx("button",{className:"modal-close-btn",onClick:Hn,children:""})]}),jsxRuntimeExports.jsx("div",{className:"dual-chart-container",style:{width:"100%",display:"flex",flexDirection:"row",gap:"20px"},children:jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsx("h1",{children:"Biu  Phn Tch Volume Giao Dch XAU (Vng) v XAG (Bc)"}),jsxRuntimeExports.jsx(VolumeXauXagChart,{dataXau:er,dataXag:nr,externalZoom:sr,onZoom:ar,enableZoom:!0}),jsxRuntimeExports.jsxs("div",{style:{margin:"20px 0",display:"none"},children:[jsxRuntimeExports.jsxs("label",{children:["S trang hin th: ",jsxRuntimeExports.jsx("b",{children:xr})]}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:Math.max(1,Math.ceil(yr.current.length/_r)),step:1,value:xr,onChange:Sr,style:{width:"100%"}})]}),lr&&jsxRuntimeExports.jsxs("div",{className:"pagination-actions",children:[jsxRuntimeExports.jsx("button",{className:"action-button",onClick:cr,disabled:ur,children:ur?"ang ti...":"Tip"}),jsxRuntimeExports.jsx("button",{className:"action-button",onClick:dr,disabled:ur,children:ur?"ang ti...":"Tt c"})]}),jsxRuntimeExports.jsx("button",{className:"action-button single",onClick:fr,disabled:ur,children:"Hin ti"}),jsxRuntimeExports.jsx(VolumeComparisonChart,{dataXau:er,dataXag:nr,avgVolumeXau:ir,avgVolumeXag:rr,externalZoom:sr,onZoom:ar,enableZoom:!0}),jsxRuntimeExports.jsx(GrowthChart,{}),jsxRuntimeExports.jsx(XAGVolumeOnlyChart,{data:nr})]})})]}),MultiChartViewer=({fomo:tr,symbol:Hn,showPopUpCompare:er=!1})=>{const[nr,ir]=reactExports.useState(null),[rr,sr]=reactExports.useState(null),ar=reactExports.useRef(0),or=reactExports.useRef(null),[lr,cr]=reactExports.useState(er),ur=reactExports.useRef(null),dr=useNavigate(),[fr,xr]=reactExports.useState(null),[yr,_r]=reactExports.useState(null),[Sr,jr]=reactExports.useState(0),[Dr,Ir]=reactExports.useState(0),[Mr,Or]=reactExports.useState(1),[Lr,Fr]=reactExports.useState(!0),[Vr,Zr]=reactExports.useState(0),[Hr,Yr]=reactExports.useState(!1),[eo,io]=reactExports.useState(!1),[uo,so]=reactExports.useState(0),[no,po]=reactExports.useState(null),co=reactExports.useRef([]),lo=reactExports.useRef([]),[ao,xo]=reactExports.useState({min:null,max:null}),[_o,Po]=reactExports.useState(!1),[Oo,So]=reactExports.useState(!1),Ao=100,zo=3,[Ro,Go]=reactExports.useState({visible:!1,x:0,y:0}),Qo=["FX_IDC:XAUUSD","OANDA:XAUXAG","FX_IDC:XAGUSD","TICKMILL:DXY"],Vo=reactExports.useCallback(Yl=>{po(Yl)},[]);reactExports.useEffect(()=>{Hn&&(ir(SYMBOL_MAP[Hn]),document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`)},[Hn]),reactExports.useEffect(()=>{er&&(ar.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`,cr(!0))},[er]),reactExports.useEffect(()=>{let Yl=!1;return(async()=>{try{Fr(!0);const cc=await fetchXauXagVolumeData(1),Xc=await fetchXauXagVolumeData(2),Sc=await fetchXauXagVolumeData(3);if(Yl)return;co.current=[...cc.volumeXauRaw||[],...Xc.volumeXauRaw||[],...Sc.volumeXauRaw||[]],lo.current=[...cc.volumeXagRaw||[],...Xc.volumeXagRaw||[],...Sc.volumeXagRaw||[]];const Oc=cc?.totalPages||0;so(Oc),Zr(3),Yr(Oc>3),console.log("la page ",cc),jr(cc.volume_trungbinh.xau||0),Ir(cc.volume_trungbinh.xag||0);const gl=[...co.current.map(Dl=>Dl.timestamp),...lo.current.map(Dl=>Dl.timestamp)],Ql=Math.min(...gl),ql=Math.max(...gl);xo({min:Ql,max:ql});const wc=co.current.slice(0,zo*Ao),Il=lo.current.slice(0,zo*Ao);_r(formatCandlestickForApex(wc)),xr(formatCandlestickForApex(Il));const rl=[...co.current].sort((Dl,Pl)=>Pl.timestamp-Dl.timestamp),il=Math.max(0,rl.length-30),hl=rl[il]?.timestamp||Ql;setTimeout(()=>po({min:hl,max:ql}),300)}catch(cc){console.error("Error fetching volume data:",cc),Yl||(_r([]),xr([]),jr(0),Ir(0))}finally{Yl||Fr(!1)}})(),()=>{Yl=!0}},[]);const nl=async()=>{if(eo||!Hr)return;const Yl=Vr+1,ic=Math.min(Vr+3,uo);io(!0);try{await fetchXauXagVolumeDataMultiplePages(Yl,ic,(cc,Xc)=>{co.current=[...co.current,...Xc.volumeXauRaw],lo.current=[...lo.current,...Xc.volumeXagRaw];const Sc=Array.from(new Map(co.current.map(gl=>[gl.timestamp,gl])).values()),Oc=Array.from(new Map(lo.current.map(gl=>[gl.timestamp,gl])).values());_r(formatCandlestickForApex(Sc)),xr(formatCandlestickForApex(Oc)),Zr(cc),Yr(cc<uo)})}catch(cc){console.error("Error loading more pages:",cc)}finally{io(!1)}},fl=async()=>{if(!(eo||!Hr)){io(!0);try{await fetchXauXagVolumeDataMultiplePages(Vr+1,uo,(Yl,ic)=>{co.current=[...co.current,...ic.volumeXauRaw],lo.current=[...lo.current,...ic.volumeXagRaw];const cc=Array.from(new Map(co.current.map(Sc=>[Sc.timestamp,Sc])).values()),Xc=Array.from(new Map(lo.current.map(Sc=>[Sc.timestamp,Sc])).values());_r(formatCandlestickForApex(cc)),xr(formatCandlestickForApex(Xc)),Zr(Yl),Yr(!1)})}catch(Yl){console.error("Error loading all pages:",Yl)}finally{io(!1)}}},Bl=reactExports.useCallback(async()=>{try{io(!0);const Yl=await fetchXauXagVolumeData(1),ic=await fetchXauXagVolumeData(2),cc=await fetchXauXagVolumeData(3);co.current=[...Yl.volumeXauRaw||[],...ic.volumeXauRaw||[],...cc.volumeXauRaw||[]],lo.current=[...Yl.volumeXagRaw||[],...ic.volumeXagRaw||[],...cc.volumeXagRaw||[]];const Xc=[...co.current.map(ql=>ql.timestamp),...lo.current.map(ql=>ql.timestamp)],Sc=Math.min(...Xc),Oc=Math.max(...Xc);_r(formatCandlestickForApex(co.current)),xr(formatCandlestickForApex(lo.current)),Zr(3),Yr(uo>3),xo({min:Sc,max:Oc});const gl=co.current.slice().sort((ql,wc)=>wc.timestamp-ql.timestamp),Ql=gl[Math.max(0,gl.length-30)]?.timestamp||Sc;po({min:Ql,max:Oc})}catch(Yl){console.error("Error resetting to initial pages:",Yl)}finally{io(!1)}},[uo]),Gl=Yl=>{const ic=parseInt(Yl.target.value,10);Or(ic);const Xc=(ic-1)*Ao+Ao,Sc=co.current.slice(0,Xc),Oc=lo.current.slice(0,Xc);_r(formatCandlestickForApex(Sc)),xr(formatCandlestickForApex(Oc));const gl=[...Sc.map(wc=>wc.timestamp),...Oc.map(wc=>wc.timestamp)],Ql=Math.min(...gl),ql=Math.max(...gl);po({min:Ql,max:ql})},Tl=reactExports.useCallback(Yl=>Go({visible:!0,x:Yl.clientX,y:Yl.clientY-15}),[]),Pc=reactExports.useCallback(()=>Go(Yl=>({...Yl,visible:!1})),[]),mc=reactExports.useCallback(()=>{ir(null),window.location.hash="#/vietnam/gold",requestAnimationFrame(()=>{document.body.style.overflow="",document.body.style.paddingRight="",setTimeout(()=>{window.scrollTo({top:ar.current,behavior:"auto"})},20)})},[]),Hc=reactExports.useCallback(Yl=>{ar.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`;const ic=getChartSlug(Yl);window.location.hash=`#/${ic}`,ir(Yl)},[]),Vl=reactExports.useCallback(()=>{ar.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`,cr(!0),dr("/so-sanh-XAU-XAG")},[]),Jc=reactExports.useCallback(()=>{cr(!1),requestAnimationFrame(()=>{document.body.style.overflow="",document.body.style.paddingRight="",setTimeout(()=>{window.scrollTo({top:ar.current,behavior:"auto"})},20)}),dr("/")},[]);return reactExports.useEffect(()=>{const Yl=ic=>{or.current&&!or.current.contains(ic.target)&&mc()};return nr&&document.addEventListener("mousedown",Yl),()=>document.removeEventListener("mousedown",Yl)},[nr,mc]),reactExports.useEffect(()=>{const Yl=ic=>{ur.current&&!ur.current.contains(ic.target)&&Jc()};return lr&&document.addEventListener("mousedown",Yl),()=>document.removeEventListener("mousedown",Yl)},[lr,Jc]),reactExports.useEffect(()=>{const Yl=ic=>{ic.key==="Escape"&&(nr?mc():lr&&Jc())};return(nr||lr)&&document.addEventListener("keydown",Yl),()=>document.removeEventListener("keydown",Yl)},[nr,lr,mc,Jc]),reactExports.useEffect(()=>()=>{document.body.style.overflow=""},[]),reactExports.useEffect(()=>{sr(tr)},[tr]),jsxRuntimeExports.jsxs("div",{className:"multi-chart-viewer",children:[!er&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"viewer-header",children:[jsxRuntimeExports.jsx("h2",{className:"viewer-title",children:" BIU  PHN TCH K THUT"}),jsxRuntimeExports.jsx("p",{className:"viewer-subtitle",children:"Click vo biu  mini  xem chi tit hoc m biu  Volume  phn tch ng b XAU/XAG."})]}),jsxRuntimeExports.jsx("div",{className:"chart-grid",children:Qo.map(Yl=>jsxRuntimeExports.jsx(MiniTradingViewChart,{symbol:Yl,onClick:Hc},Yl))})]}),jsxRuntimeExports.jsx(GiaSLVGLDPSLV,{}),jsxRuntimeExports.jsx(TradingDashboardBollingerBand,{}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"20px"},children:[jsxRuntimeExports.jsx("h1",{style:{textAlign:"center",color:"white"},children:"Order Book"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px",flexWrap:"wrap",gap:"10px"},children:[jsxRuntimeExports.jsx(OrderBook,{type:"GOLD"}),jsxRuntimeExports.jsx(OrderBook,{type:"SILVER"})]})]}),yr&&jsxRuntimeExports.jsxs("div",{onClick:Vl,className:`dual-chart-container ${lr?"hidden":""}`,style:{width:"100%",display:"flex",flexDirection:"column",gap:"0px",marginTop:"40px",cursor:"pointer"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:"20px"},onClick:Yl=>Yl.stopPropagation()}),jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:"30px"},onClick:Yl=>Yl.stopPropagation(),children:jsxRuntimeExports.jsx(MyRsiChart,{})})]}),jsxRuntimeExports.jsx(TableComparisonDataWeek,{fomo:tr}),jsxRuntimeExports.jsx(VolumeDualChartModal,{isOpen:lr,onClose:Jc,dataXauVolume:yr,dataXagVolume:fr,volumeZoomState:no,handleVolumeZoom:Vo,modalRef:ur,hasMoreData:Hr,isLoadingMore:eo,loadNextPages:nl,loadAllPages:fl,resetToInitialPages:Bl,avgVolumeXau:Sr,avgVolumeXag:Dr,sliderPage:Mr,accumulatedXauRawRef:lo,pageSize:Ao,handleVolumeSliderChange:Gl}),nr&&jsxRuntimeExports.jsxs("div",{className:"fullscreen-modal",ref:or,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{className:"modal-title",children:getSymbolName(nr)}),jsxRuntimeExports.jsx("button",{className:"modal-close-btn",onClick:mc,children:""})]}),jsxRuntimeExports.jsx("div",{className:"modal-content",style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(FullScreenChart,{symbol:nr})})]}),rr&&jsxRuntimeExports.jsx("div",{className:"contain-bar-chart-xau-xag",children:jsxRuntimeExports.jsxs("div",{className:"div-first",children:[jsxRuntimeExports.jsxs("div",{className:"contain-two-chart",children:[jsxRuntimeExports.jsx(GrowBarChart,{p1:rr.chiso_xau_xag_ancarat,p2:rr.chiso_xau_xag_kim_ngan_phuc,p3:rr.chiso_xau_xag_nguyen_lieu,p4:rr.chiso_xau_xag_phuquy,p5:rr.chiso_xau_xag_quocte,p6:rr.chiso_xau_xag_SACOMBANK}),jsxRuntimeExports.jsxs("div",{className:"distance-title chart-container",onMouseMove:Tl,onMouseLeave:Pc,style:{marginRight:"20px"},children:[jsxRuntimeExports.jsx("h2",{children:"Ch s FOMO ca vng trong nc"}),jsxRuntimeExports.jsx(GaugeChart,{value:(rr.chiso_fomo_vang_trong_nuoc*10).toFixed(1),size:"large",showLabel:!1,colors:["#ffffff"]})]}),jsxRuntimeExports.jsxs("div",{className:"distance-title chart-container",style:{marginRight:"20px"},children:[jsxRuntimeExports.jsx("h2",{children:"Ch s FOMO ca bc trong nc"}),jsxRuntimeExports.jsx(GaugeChart,{value:(rr.gia_chenh_lech_nguyenlieu_bac/1e5).toFixed(1),size:"large",showLabel:!1,colors:["#ffffff"]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[jsxRuntimeExports.jsx("div",{className:"contain-linexagxau",children:jsxRuntimeExports.jsx(LineXauXagChart,{})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TableData,{dataAnalysis:{"Bc 1 lng nhn t gi":rr.gia_bac_1_luong_nhan_ty_gia/1e6,"Bc 1kg nhn t gi":rr.gia_bac_1kg_nhan_ty_gia/1e6,"Chnh lch: bc":rr.gia_chenh_lech_nguyenlieu_bac/1e6,"Chnh lch: vng":rr.gia_chenh_lech_vang_nguyen_lieu/1e6,"Vng kitco USD":rr.gia_vang_kitco_usd,"Vng nhn t gi":rr.gia_vang_nhan_ty_gia/1e6,"Vng nguyn liu":rr.gia_vang_nguyenlieu/1e6,"Bc nguyn liu 1 lng":rr.gia_bac_nguyenlieu_1_luong/1e6,"Bc nguyn liu 1kg":rr.gia_bac_nguyenlieu_1_kg/1e6,"Silver kitco usd":rr.gia_silver_kitco_usd,"T gi USD":rr.ty_gia_usd}})})]}),jsxRuntimeExports.jsx("div",{style:{justifyItems:"center",marginTop:"10px"},children:[rr.loi_khuyen_mua_ban_xau_xag_quoc_te,rr.loi_khuyen_chenh_bac_nguyen_lieu_trong_nuoc,rr.loi_khuyen_chenh_nguyen_lieu_trong_nuoc].map((Yl,ic)=>jsxRuntimeExports.jsx("span",{style:{display:"block"},dangerouslySetInnerHTML:{__html:highlightNum(Yl)}},ic))})]})}),Ro.visible&&jsxRuntimeExports.jsx(TooltipPortal,{x:Ro.x,y:Ro.y})]})},highlightNum=tr=>tr.replace(/(\d+(\.\d+)?)/,'<span style="color:red;font-weight:bold;">$1</span>');function EconomicCalendar(){return jsxRuntimeExports.jsxs("div",{style:{height:"700px",backgroundColor:"#fff",margin:"16px",borderRadius:"8px",padding:"15px",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("h1",{className:"economic-calendar-title-",style:{color:"#000",textAlign:"center"},children:"Lch Kinh T"}),jsxRuntimeExports.jsx("div",{style:{width:"full",height:"90%",padding:"20px"},children:jsxRuntimeExports.jsx("iframe",{title:"Economic Calendar",src:"https://sslecal2.investing.com/?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&importance=2,3&features=datepicker,timeselector,filters&countries=4,6,5,72,43,35,12,25&calType=day&timeZone=27&lang=52",width:"100%",height:"100%",style:{border:"none",overflow:"hidden",boxSizing:"border-box"},loading:"lazy"})})]})}function _extends(){return _extends=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(tr,Hn){if(tr==null)return{};var er={},nr=Object.keys(tr),ir,rr;for(rr=0;rr<nr.length;rr++)ir=nr[rr],!(Hn.indexOf(ir)>=0)&&(er[ir]=tr[ir]);return er}var _excluded=["cdnSuffix","cdnUrl","countryCode","style","svg"],DEFAULT_CDN_URL="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/",DEFAULT_CDN_SUFFIX="svg",OFFSET=127397,ReactCountryFlag=function tr(Hn){var er=Hn.cdnSuffix,nr=er===void 0?DEFAULT_CDN_SUFFIX:er,ir=Hn.cdnUrl,rr=ir===void 0?DEFAULT_CDN_URL:ir,sr=Hn.countryCode,ar=Hn.style,or=Hn.svg,lr=or===void 0?!1:or,cr=_objectWithoutPropertiesLoose(Hn,_excluded);if(typeof sr!="string")return null;if(lr){var ur=""+rr+sr.toLowerCase()+"."+nr;return reactExports.createElement("img",Object.assign({},cr,{src:ur,style:_extends({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},ar)}))}var dr=sr.toUpperCase().replace(/./g,function(fr){return String.fromCodePoint(fr.charCodeAt(0)+OFFSET)});return reactExports.createElement("span",Object.assign({role:"img"},cr,{style:_extends({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},ar)}),dr)};const formatCurrency$1=tr=>tr==null?"N/A":new Intl.NumberFormat("vi-VN").format(tr),getCurrencyName=tr=>({USD:" LA M",USD_TUDO:"USD T DO",EUR:"EURO",GBP:"BNG ANH",JPY:"YN NHT",AUD:" LA C",CAD:" LA CANADA",CHF:"FRANC THY S",HKD:" LA HNG KNG",SGD:" LA SINGAPORE",THB:"BT THI LAN",KRW:"WON HN QUC",CNY:"NHN DN T",INR:"RUPEE N ",MYR:"RINGGIT MALAYSIA",NOK:"KRONE NA UY",SEK:"KRONA THY IN",DKK:"KRONE AN MCH",RUB:"RUBLE NGA",KWD:"DINAR KUWAIT"})[tr]||tr,getCurrencyCountryCode=tr=>({USD:"US",USD_TUDO:"US",EUR:"EU",GBP:"GB",JPY:"JP",AUD:"AU",CAD:"CA",CHF:"CH",HKD:"HK",SGD:"SG",THB:"TH",KRW:"KR",CNY:"CN",INR:"IN",MYR:"MY",NOK:"NO",SEK:"SE",DKK:"DK",RUB:"RU",KWD:"KW"})[tr]||"XX",getCurrencyFlag=(tr,Hn=24)=>{const er=getCurrencyCountryCode(tr);return tr==="EUR"?jsxRuntimeExports.jsx("span",{style:{fontSize:`${Hn}px`},children:""}):jsxRuntimeExports.jsx(ReactCountryFlag,{countryCode:er,svg:!0,style:{width:`${Hn}px`,height:`${Hn}px`},title:getCurrencyName(tr)})},filterDataByDateRange=(tr,Hn)=>{if(!tr||typeof tr!="object")return{};const er=new Date,nr=new Date(er);nr.setDate(er.getDate()-Hn);const ir={};return Object.keys(tr).sort().forEach(rr=>{const sr=new Date(rr);sr>=nr&&sr<=er&&(ir[rr]=tr[rr])}),ir},formatDateForUrl=tr=>{if(!tr)return"";const[Hn,er,nr]=tr.split("-");return`${nr}-${er}-${Hn}`},parseDateFromUrl=tr=>{if(!tr)return"";const[Hn,er,nr]=tr.split("-");return`${nr}-${er}-${Hn}`},getRecentDates=(tr,Hn=7)=>!tr||typeof tr!="object"?[]:Object.keys(tr).sort().reverse().slice(0,Hn);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const USDHistoryChart=({data:tr})=>{const[Hn,er]=reactExports.useState({}),[nr,ir]=reactExports.useState({}),[rr,sr]=reactExports.useState("ALL"),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState({title:"",price:null,change:null,percent:null}),{minYear:ur,maxYear:dr,availableYears:fr}=reactExports.useMemo(()=>{if(!tr||typeof tr!="object"||Object.keys(tr).length===0)return{minYear:null,maxYear:null,availableYears:[]};const Mr=Object.keys(tr).sort();if(Mr.length===0)return{minYear:null,maxYear:null,availableYears:[]};const Or=Mr.map(Zr=>{const[Hr]=Zr.split("-").map(Number);return Hr}),Lr=[...new Set(Or)].sort((Zr,Hr)=>Zr-Hr),Fr=Lr[0],Vr=Lr[Lr.length-1];return{minYear:Fr,maxYear:Vr,availableYears:Lr}},[tr]);reactExports.useEffect(()=>{if(tr&&typeof tr=="object"&&Object.keys(tr).length>0){er(tr);const Mr=Object.keys(tr).sort();if(Mr.length>0){const Or=Mr[Mr.length-1],Lr=tr[Or]?.USD_TUDO?.sell,Fr=Mr[0],Vr=tr[Fr]?.USD_TUDO?.sell;let Zr={title:"",price:null,change:null,percent:null};if(Lr!=null){const[Hr,Yr,eo]=Or.split("-");if(Zr.title=`Gi hin ti (${eo}/${Yr}/${Hr})`,Zr.price=Lr,Vr!=null&&Vr!==0){const io=Lr-Vr,uo=(io/Vr*100).toFixed(1);Zr.change=io,Zr.percent=uo}}ir(tr),cr(Zr),sr("ALL")}}},[tr]);const xr=Mr=>{if(!Hn||Object.keys(Hn).length===0)return;let Or={},Lr={title:"",price:null,change:null,percent:null};const Fr=Object.keys(Hn).sort();if(Mr==="ALL"){if(Or={...Hn},Fr.length>0){const Vr=Fr[Fr.length-1],Zr=Hn[Vr]?.USD_TUDO?.sell,Hr=Fr[0],Yr=Hn[Hr]?.USD_TUDO?.sell;if(Zr!=null){const[eo,io,uo]=Vr.split("-");if(Lr.title=`Gi hin ti (${uo}/${io}/${eo})`,Lr.price=Zr,Yr!=null&&Yr!==0){const so=Zr-Yr,no=(so/Yr*100).toFixed(1);Lr.change=so,Lr.percent=no}}}}else if(Mr==="1W"){const Vr=Fr[Fr.length-1],[Zr,Hr,Yr]=Vr.split("-").map(Number),eo=new Date(Zr,Hr-1,Yr),io=new Date(eo);if(io.setDate(eo.getDate()-7),Fr.forEach(uo=>{const[so,no,po]=uo.split("-").map(Number),co=new Date(so,no-1,po);co>=io&&co<=eo&&(Or[uo]=Hn[uo])}),Fr.length>0){const uo=Fr[Fr.length-1],so=Hn[uo]?.USD_TUDO?.sell,po=Object.keys(Or).sort()[0],co=Hn[po]?.USD_TUDO?.sell;if(so!=null){const[lo,ao,xo]=uo.split("-");if(Lr.title=`Gi hin ti (${xo}/${ao}/${lo})`,Lr.price=so,co!=null&&co!==0){const _o=so-co,Po=(_o/co*100).toFixed(1);Lr.change=_o,Lr.percent=Po}}}}else if(Mr==="1M"){const Vr=Fr[Fr.length-1],[Zr,Hr,Yr]=Vr.split("-").map(Number),eo=new Date(Zr,Hr-1,Yr),io=new Date(eo);if(io.setDate(eo.getDate()-30),Fr.forEach(uo=>{const[so,no,po]=uo.split("-").map(Number),co=new Date(so,no-1,po);co>=io&&co<=eo&&(Or[uo]=Hn[uo])}),Fr.length>0){const uo=Fr[Fr.length-1],so=Hn[uo]?.USD_TUDO?.sell,po=Object.keys(Or).sort()[0],co=Hn[po]?.USD_TUDO?.sell;if(so!=null){const[lo,ao,xo]=uo.split("-");if(Lr.title=`Gi hin ti (${xo}/${ao}/${lo})`,Lr.price=so,co!=null&&co!==0){const _o=so-co,Po=(_o/co*100).toFixed(1);Lr.change=_o,Lr.percent=Po}}}}else if(typeof Mr=="number"||typeof Mr=="string"&&/^\d{4}$/.test(Mr)){const Vr=typeof Mr=="number"?Mr:parseInt(Mr,10),Zr=new Date(Vr,0,1),Hr=new Date(Vr,11,31);Fr.forEach(eo=>{const[io,uo,so]=eo.split("-").map(Number),no=new Date(io,uo-1,so);no>=Zr&&no<=Hr&&(Or[eo]=Hn[eo])});const Yr=Object.keys(Or).sort();if(Yr.length>0){const eo=Yr[Yr.length-1],io=Hn[eo]?.USD_TUDO?.sell,uo=Yr[0],so=Hn[uo]?.USD_TUDO?.sell;if(io!=null&&(Lr.title=`Gi cui nm ${Vr}`,Lr.price=io,so!=null&&so!==0)){const no=io-so,po=(no/so*100).toFixed(1);Lr.change=no,Lr.percent=po}}}ir(Or),cr(Lr)},yr=Mr=>{const Or=parseInt(Mr.target.value,10);or(Or),sr(Or),Hn&&Object.keys(Hn).length>0&&xr(Or)},_r=Mr=>{or(null),sr(Mr),Hn&&Object.keys(Hn).length>0&&xr(Mr)},Sr=reactExports.useMemo(()=>ar!==null?ar:typeof rr=="number"?rr:typeof rr=="string"&&/^\d{4}$/.test(rr)?parseInt(rr,10):dr||new Date().getFullYear(),[ar,rr,dr]),jr=reactExports.useMemo(()=>rr==="ALL"?"Tt c":rr==="1W"||rr==="1M"?rr==="1W"?"1 tun":"1 thng":ar!==null?ar.toString():typeof rr=="number"?rr.toString():typeof rr=="string"&&/^\d{4}$/.test(rr)?rr:"Tt c",[ar,rr]),Dr=reactExports.useMemo(()=>{if(!nr||Object.keys(nr).length===0)return null;const Mr=Object.keys(nr).sort();let Or=[];typeof rr=="number"||typeof rr=="string"&&/^\d{4}$/.test(rr)?Or=Mr.map(Fr=>{const[,Vr]=Fr.split("-");return["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"][parseInt(Vr,10)-1]||Vr}):Or=Mr.map(Fr=>{const[Vr]=Fr.split("-");return Vr});const Lr=Mr.map(Fr=>{const Vr=nr[Fr]?.USD_TUDO;return Vr?.sell!==null&&Vr?.sell!==void 0?Vr.sell:null});return{labels:Or,datasets:[{label:"Gi Bn USD T Do",data:Lr,borderColor:"#22c55e",backgroundColor:Fr=>{const Zr=Fr.chart.ctx.createLinearGradient(0,0,0,300);return Zr.addColorStop(0,"rgba(34, 197, 94, 0.3)"),Zr.addColorStop(1,"rgba(34, 197, 94, 0)"),Zr},borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:5,pointBackgroundColor:"#22c55e",pointBorderColor:"#1E293B",pointBorderWidth:2}]}},[nr,rr]),Ir={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!0,callbacks:{title:Mr=>{const Or=Mr[0].dataIndex,Fr=Object.keys(nr).sort()[Or],[Vr,Zr,Hr]=Fr.split("-");return`Ngy: ${Hr}/${Zr}/${Vr}`},label:Mr=>{const Or=Mr.parsed.y;return Or===null?"N/A":`Gi bn: ${formatCurrency$1(Or)} VN`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",callback:Mr=>formatCurrency$1(Mr)}}},interaction:{intersect:!1,mode:"index"}};return Dr?jsxRuntimeExports.jsxs("div",{className:"usd-history-chart-card",children:[jsxRuntimeExports.jsx("div",{className:"usd-chart-header",children:jsxRuntimeExports.jsxs("div",{className:"usd-chart-title-section",children:[jsxRuntimeExports.jsx("h3",{className:"usd-chart-title",children:lr.title||"Gi USD T Do"}),lr.price!==null&&jsxRuntimeExports.jsxs("div",{className:"usd-chart-price",children:[jsxRuntimeExports.jsx("span",{className:"usd-price-value",children:formatCurrency$1(lr.price)}),lr.percent!==null&&jsxRuntimeExports.jsxs("span",{className:`usd-price-change ${lr.change>=0?"up":"down"}`,children:[lr.change>=0?"":""," ",Math.abs(lr.percent),"%",typeof rr=="number"||typeof rr=="string"&&/^\d{4}$/.test(rr)?`(trong nm ${rr})`:""]})]})]})}),jsxRuntimeExports.jsx("div",{className:"usd-chart-container",children:jsxRuntimeExports.jsx(Line,{data:Dr,options:Ir})}),jsxRuntimeExports.jsxs("div",{className:"usd-controls",children:[jsxRuntimeExports.jsxs("div",{className:"usd-year-slider-container",children:[jsxRuntimeExports.jsxs("label",{className:"usd-slider-label",children:["Chn nm: ",jr]}),jsxRuntimeExports.jsx("input",{type:"range",min:ur||2e3,max:dr||new Date().getFullYear(),value:Sr,onChange:yr,className:"usd-year-slider",disabled:rr==="1W"||rr==="1M"}),jsxRuntimeExports.jsxs("div",{className:"usd-slider-years",children:[jsxRuntimeExports.jsx("span",{children:ur||2e3}),jsxRuntimeExports.jsx("span",{children:dr||new Date().getFullYear()})]})]}),jsxRuntimeExports.jsx("div",{className:"usd-time-filter",children:["1W","1M","Tt C"].map(Mr=>jsxRuntimeExports.jsx("button",{className:`usd-filter-btn ${rr===Mr?"active":""}`,onClick:()=>_r(Mr==="Tt C"?"ALL":Mr),children:Mr},Mr))})]})]}):jsxRuntimeExports.jsxs("div",{className:"usd-history-chart-card",children:[jsxRuntimeExports.jsx("div",{className:"usd-chart-header",children:jsxRuntimeExports.jsx("div",{className:"usd-chart-title-section",children:jsxRuntimeExports.jsx("h3",{className:"usd-chart-title",children:"ang ti d liu..."})})}),jsxRuntimeExports.jsx("div",{className:"usd-chart-container",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"ang ti d liu..."})})]})},formatCurrencyInteger=tr=>tr==null?"N/A":new Intl.NumberFormat("vi-VN",{minimumFractionDigits:0,maximumFractionDigits:0}).format(tr),AnimatedPrice=({value:tr,className:Hn})=>{const[er,nr]=reactExports.useState("00");if(reactExports.useEffect(()=>{const rr=setInterval(()=>{const sr=Math.floor(Math.random()*100).toString().padStart(2,"0");nr(sr)},2e3);return()=>clearInterval(rr)},[]),tr==null)return jsxRuntimeExports.jsx("span",{children:"N/A"});const ir=formatCurrencyInteger(tr);return jsxRuntimeExports.jsxs("span",{className:`animated-price ${Hn||""}`,children:[ir,",",er]})},BlackMarketExchangeRateTable=({exchangeRates:tr})=>{if(!tr||!Array.isArray(tr)||tr.length===0)return jsxRuntimeExports.jsx("div",{className:"black-market-exchange-rate-table-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu t gi"})});const Hn=er=>er?`https://vang247.xyz/icon_tygia/${er.toLowerCase()}.png`:null;return jsxRuntimeExports.jsxs("div",{className:"black-market-exchange-rate-table-card",children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsx("h2",{className:"table-title",children:"T Gi Ngoi T Ch en"})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"black-market-exchange-rate-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"M NT & Quc K"}),jsxRuntimeExports.jsx("th",{children:"Tn Ngoi T"}),jsxRuntimeExports.jsx("th",{children:"Mua Vo"}),jsxRuntimeExports.jsx("th",{children:"Bn Ra"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((er,nr)=>{const ir=Hn(er.code);return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"currency-code-cell",children:jsxRuntimeExports.jsxs("div",{className:"currency-flag-wrapper",children:[ir?jsxRuntimeExports.jsx("img",{src:ir,alt:er.code||"",className:"currency-flag",onError:rr=>{rr.target.style.display="none"}}):null,jsxRuntimeExports.jsx("span",{className:"currency-code",children:er.code||"N/A"})]})}),jsxRuntimeExports.jsx("td",{className:"currency-name",children:er.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:er.buy!==null&&er.buy!==void 0?jsxRuntimeExports.jsx(AnimatedPrice,{value:er.buy}):"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:er.sell!==null&&er.sell!==void 0?jsxRuntimeExports.jsx(AnimatedPrice,{value:er.sell}):"N/A"})]},er.code||nr)})})]})})]})},convertToApiGoldUrl=tr=>{if(!tr||tr.includes("api_gold.thinkdiff.us"))return tr;if(tr.includes("thinkdiff.us")){const Hn=tr.match(/thinkdiff\.us\/(.+)$/);if(Hn)return`https://api_gold.thinkdiff.us/${Hn[1].replace(/^vang247_xyz\//,"view_full_data_json/")}`}return tr},getLatestFileUrl=async(tr,Hn,er)=>{try{const nr=await fetchVang247FileList(tr,Hn,er);if(!nr||nr.length===0)return null;const rr=[...nr].sort((sr,ar)=>{const or=sr.modified_time||0;return(ar.modified_time||0)-or})[0]?.link;return rr?convertToApiGoldUrl(rr):null}catch(nr){return console.error("Error getting latest file URL:",nr),null}},fetchBlackMarketExchangeRates=async()=>{try{const tr=new Date,Hn=String(tr.getDate()).padStart(2,"0"),er=String(tr.getMonth()+1).padStart(2,"0"),nr=String(tr.getFullYear());let ir=await getLatestFileUrl(Hn,er,nr);if(!ir){const sr=new Date(tr);sr.setDate(sr.getDate()-1);const ar=String(sr.getDate()).padStart(2,"0"),or=String(sr.getMonth()+1).padStart(2,"0"),lr=String(sr.getFullYear());ir=await getLatestFileUrl(ar,or,lr)}if(!ir)return console.warn("Khng tm thy d liu t gi ch en"),null;console.log("fileUrl: ",ir);const rr=await fetchVang247SingleFile(ir);return!rr||!rr.data||!rr.data.chogia_vn||!rr.data.chogia_vn.data?(console.warn("Cu trc d liu khng ng:",rr),null):rr.data.chogia_vn.data}catch(tr){return console.error("Error fetching black market exchange rates:",tr),null}},API_ENDPOINT$2="https://api_gold.thinkdiff.us/lich_su_tygia_dola",fetchExchangeRateHistory=async()=>{try{const tr=await fetch(API_ENDPOINT$2);if(!tr.ok)throw new Error(`HTTP error! status: ${tr.status}`);return await tr.json()}catch(tr){throw console.error("Error fetching exchange rate history:",tr),tr}},processApiData=tr=>{if(!tr||!tr.data||!Array.isArray(tr.data)||tr.data.length<3)return console.error("Invalid API data structure"),{};const Hn=tr.data[2]?.data;if(!Hn||!Array.isArray(Hn))return console.error("Invalid main data structure"),{};const er={};return Hn.forEach(nr=>{if(!nr.date)return;const ir=nr.date.split(" ")[0];er[ir]||(er[ir]={}),Object.keys(nr).forEach(rr=>{if(!(rr==="date"||rr==="id"))try{const sr=typeof nr[rr]=="string"?JSON.parse(nr[rr]):nr[rr];sr&&(sr.buy!==void 0||sr.sell!==void 0)&&(er[ir][rr]={buy:sr.buy,sell:sr.sell})}catch(sr){console.warn(`Failed to parse currency data for ${rr}:`,sr)}})}),er},getExchangeRateByDate=(tr,Hn)=>!tr||!Hn?null:tr[Hn]||null,getLatestDateWithData=tr=>!tr||Object.keys(tr).length===0?null:Object.keys(tr).sort().reverse()[0]||null,calculatePriceChange=(tr,Hn)=>{if(!tr||!Hn)return{buyChange:null,sellChange:null,buyPercent:null,sellPercent:null};const er=tr.buy!==null&&Hn.buy!==null?tr.buy-Hn.buy:null,nr=tr.sell!==null&&Hn.sell!==null?tr.sell-Hn.sell:null,ir=er!==null&&Hn.buy!==null&&Hn.buy!==0?(er/Hn.buy*100).toFixed(2):null,rr=nr!==null&&Hn.sell!==null&&Hn.sell!==0?(nr/Hn.sell*100).toFixed(2):null;return{buyChange:er,sellChange:nr,buyPercent:ir,sellPercent:rr}},getPreviousDate=tr=>{const Hn=new Date(tr);return Hn.setDate(Hn.getDate()-1),Hn.toISOString().split("T")[0]},useExchangeRate=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null);reactExports.useEffect(()=>{let ur=!1;return(async()=>{try{rr(!0),ar(null);const fr=await fetchExchangeRateHistory();if(ur)return;const xr=processApiData(fr);Hn(fr),nr(xr)}catch(fr){ur||(console.error("Error loading exchange rate data:",fr),ar("Khng th ti d liu t gi. Vui lng th li sau."))}finally{ur||rr(!1)}})(),()=>{ur=!0}},[]);const or=reactExports.useMemo(()=>ur=>getExchangeRateByDate(er,ur),[er]),lr=reactExports.useMemo(()=>()=>getLatestDateWithData(er),[er]),cr=reactExports.useMemo(()=>ur=>{const dr=getPreviousDate(ur);return getExchangeRateByDate(er,dr)},[er]);return{processedData:er,loading:ir,error:sr,getRateByDate:or,getLatestDate:lr,getPreviousRate:cr}},BlackMarketExchangeRateSection=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),{processedData:sr}=useExchangeRate();return reactExports.useEffect(()=>{(async()=>{try{nr(!0),rr(null);const or=await fetchBlackMarketExchangeRates();or?Hn(or):rr("Khng tm thy d liu t gi")}catch(or){console.error("Error loading black market exchange rates:",or),rr("Khng th ti d liu t gi")}finally{nr(!1)}})()},[]),jsxRuntimeExports.jsx("div",{className:"black-market-exchange-rate-section",children:jsxRuntimeExports.jsxs("div",{className:"black-market-section-grid",children:[jsxRuntimeExports.jsx("div",{className:"black-market-chart-column",children:jsxRuntimeExports.jsx(USDHistoryChart,{data:sr})}),jsxRuntimeExports.jsx("div",{className:"black-market-table-column",children:er?jsxRuntimeExports.jsx("div",{className:"black-market-loading",children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."})}):ir?jsxRuntimeExports.jsx("div",{className:"black-market-error",children:jsxRuntimeExports.jsx("p",{children:ir})}):jsxRuntimeExports.jsx(BlackMarketExchangeRateTable,{exchangeRates:tr})})]})})};var lodash$1={exports:{}};var lodash=lodash$1.exports,hasRequiredLodash;function requireLodash(){return hasRequiredLodash||(hasRequiredLodash=1,(function(tr,Hn){(function(){var er,nr="4.17.21",ir=200,rr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",sr="Expected a function",ar="Invalid `variable` option passed into `_.template`",or="__lodash_hash_undefined__",lr=500,cr="__lodash_placeholder__",ur=1,dr=2,fr=4,xr=1,yr=2,_r=1,Sr=2,jr=4,Dr=8,Ir=16,Mr=32,Or=64,Lr=128,Fr=256,Vr=512,Zr=30,Hr="...",Yr=800,eo=16,io=1,uo=2,so=3,no=1/0,po=9007199254740991,co=17976931348623157e292,lo=NaN,ao=4294967295,xo=ao-1,_o=ao>>>1,Po=[["ary",Lr],["bind",_r],["bindKey",Sr],["curry",Dr],["curryRight",Ir],["flip",Vr],["partial",Mr],["partialRight",Or],["rearg",Fr]],Oo="[object Arguments]",So="[object Array]",Ao="[object AsyncFunction]",zo="[object Boolean]",Ro="[object Date]",Go="[object DOMException]",Qo="[object Error]",Vo="[object Function]",nl="[object GeneratorFunction]",fl="[object Map]",Bl="[object Number]",Gl="[object Null]",Tl="[object Object]",Pc="[object Promise]",mc="[object Proxy]",Hc="[object RegExp]",Vl="[object Set]",Jc="[object String]",Yl="[object Symbol]",ic="[object Undefined]",cc="[object WeakMap]",Xc="[object WeakSet]",Sc="[object ArrayBuffer]",Oc="[object DataView]",gl="[object Float32Array]",Ql="[object Float64Array]",ql="[object Int8Array]",wc="[object Int16Array]",Il="[object Int32Array]",rl="[object Uint8Array]",il="[object Uint8ClampedArray]",hl="[object Uint16Array]",Dl="[object Uint32Array]",Pl=/\b__p \+= '';/g,Jl=/\b(__p \+=) '' \+/g,oc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qc=/&(?:amp|lt|gt|quot|#39);/g,xc=/[&<>"']/g,jc=RegExp(qc.source),vu=RegExp(xc.source),Kc=/<%-([\s\S]+?)%>/g,uc=/<%([\s\S]+?)%>/g,Ic=/<%=([\s\S]+?)%>/g,ec=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hl=/^\w*$/,ah=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sl=/[\\^$.*+?()[\]{}|]/g,yl=RegExp(sl.source),Ll=/^\s+/,Cl=/\s/,kl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bu=/\{\n\/\* \[wrapped with (.+)\] \*/,oh=/,? & /,ku=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dc=/[()=,{}\[\]\/\s]/,eu=/\\(\\)?/g,Zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ac=/\w*$/,hu=/^[-+]0x[0-9a-f]+$/i,du=/^0b[01]+$/i,Wc=/^\[object .+?Constructor\]$/,Iu=/^0o[0-7]+$/i,qh=/^(?:0|[1-9]\d*)$/,Bh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zh=/($^)/,Fc=/['\n\r\u2028\u2029\\]/g,Hu="\\ud800-\\udfff",tu="\\u0300-\\u036f",Hh="\\ufe20-\\ufe2f",cd="\\u20d0-\\u20ff",fh=tu+Hh+cd,Nh="\\u2700-\\u27bf",bh="a-z\\xdf-\\xf6\\xf8-\\xff",Ed="\\xac\\xb1\\xd7\\xf7",_u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bf="\\u2000-\\u206f",Lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gc="A-Z\\xc0-\\xd6\\xd8-\\xde",Th="\\ufe0e\\ufe0f",ph=Ed+_u+Bf+Lc,Sd="[']",fp="["+Hu+"]",yc="["+ph+"]",wu="["+fh+"]",Wh="\\d+",um="["+Nh+"]",Eu="["+bh+"]",zf="[^"+Hu+ph+Wh+Nh+bh+Gc+"]",Jd="\\ud83c[\\udffb-\\udfff]",ud="(?:"+wu+"|"+Jd+")",Au="[^"+Hu+"]",jo="(?:\\ud83c[\\udde6-\\uddff]){2}",Mo="[\\ud800-\\udbff][\\udc00-\\udfff]",$o="["+Gc+"]",ll="\\u200d",Rl="(?:"+Eu+"|"+zf+")",zl="(?:"+$o+"|"+zf+")",vc="(?:"+Sd+"(?:d|ll|m|re|s|t|ve))?",Ku="(?:"+Sd+"(?:D|LL|M|RE|S|T|VE))?",mh=ud+"?",Zu="["+Th+"]?",Qu="(?:"+ll+"(?:"+[Au,jo,Mo].join("|")+")"+Zu+mh+")*",Hf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vf=Zu+mh+Qu,bc="(?:"+[um,jo,Mo].join("|")+")"+vf,ef="(?:"+[Au+wu+"?",wu,jo,Mo,fp].join("|")+")",Du=RegExp(Sd,"g"),Um=RegExp(wu,"g"),Wf=RegExp(Jd+"(?="+Jd+")|"+ef+vf,"g"),hd=RegExp([$o+"?"+Eu+"+"+vc+"(?="+[yc,$o,"$"].join("|")+")",zl+"+"+Ku+"(?="+[yc,$o+Rl,"$"].join("|")+")",$o+"?"+Rl+"+"+vc,$o+"+"+Ku,Vm,Hf,Wh,bc].join("|"),"g"),hm=RegExp("["+ll+Hu+fh+Th+"]"),_h=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tf=-1,Ec={};Ec[gl]=Ec[Ql]=Ec[ql]=Ec[wc]=Ec[Il]=Ec[rl]=Ec[il]=Ec[hl]=Ec[Dl]=!0,Ec[Oo]=Ec[So]=Ec[Sc]=Ec[zo]=Ec[Oc]=Ec[Ro]=Ec[Qo]=Ec[Vo]=Ec[fl]=Ec[Bl]=Ec[Tl]=Ec[Hc]=Ec[Vl]=Ec[Jc]=Ec[cc]=!1;var nu={};nu[Oo]=nu[So]=nu[Sc]=nu[Oc]=nu[zo]=nu[Ro]=nu[gl]=nu[Ql]=nu[ql]=nu[wc]=nu[Il]=nu[fl]=nu[Bl]=nu[Tl]=nu[Hc]=nu[Vl]=nu[Jc]=nu[Yl]=nu[rl]=nu[il]=nu[hl]=nu[Dl]=!0,nu[Qo]=nu[Vo]=nu[cc]=!1;var dm={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},fm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ny={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_f=parseFloat,pm=parseInt,Id=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Mc=typeof self=="object"&&self&&self.Object===Object&&self,gh=Id||Mc||Function("return this")(),Zh=Hn&&!Hn.nodeType&&Hn,Qh=Zh&&!0&&tr&&!tr.nodeType&&tr,mm=Qh&&Qh.exports===Zh,Ym=mm&&Id.process,gu=(function(){try{var Zo=Qh&&Qh.require&&Qh.require("util").types;return Zo||Ym&&Ym.binding&&Ym.binding("util")}catch{}})(),nf=gu&&gu.isArrayBuffer,kg=gu&&gu.isDate,Ag=gu&&gu.isMap,ux=gu&&gu.isRegExp,pp=gu&&gu.isSet,iy=gu&&gu.isTypedArray;function Wu(Zo,vl,ul){switch(ul.length){case 0:return Zo.call(vl);case 1:return Zo.call(vl,ul[0]);case 2:return Zo.call(vl,ul[0],ul[1]);case 3:return Zo.call(vl,ul[0],ul[1],ul[2])}return Zo.apply(vl,ul)}function ry(Zo,vl,ul,Wl){for(var dc=-1,Rc=Zo==null?0:Zo.length;++dc<Rc;){var Ju=Zo[dc];vl(Wl,Ju,ul(Ju),Zo)}return Wl}function wh(Zo,vl){for(var ul=-1,Wl=Zo==null?0:Zo.length;++ul<Wl&&vl(Zo[ul],ul,Zo)!==!1;);return Zo}function Gf(Zo,vl){for(var ul=Zo==null?0:Zo.length;ul--&&vl(Zo[ul],ul,Zo)!==!1;);return Zo}function hx(Zo,vl){for(var ul=-1,Wl=Zo==null?0:Zo.length;++ul<Wl;)if(!vl(Zo[ul],ul,Zo))return!1;return!0}function jd(Zo,vl){for(var ul=-1,Wl=Zo==null?0:Zo.length,dc=0,Rc=[];++ul<Wl;){var Ju=Zo[ul];vl(Ju,ul,Zo)&&(Rc[dc++]=Ju)}return Rc}function Bp(Zo,vl){var ul=Zo==null?0:Zo.length;return!!ul&&ym(Zo,vl,0)>-1}function gm(Zo,vl,ul){for(var Wl=-1,dc=Zo==null?0:Zo.length;++Wl<dc;)if(ul(vl,Zo[Wl]))return!0;return!1}function Fu(Zo,vl){for(var ul=-1,Wl=Zo==null?0:Zo.length,dc=Array(Wl);++ul<Wl;)dc[ul]=vl(Zo[ul],ul,Zo);return dc}function wf(Zo,vl){for(var ul=-1,Wl=vl.length,dc=Zo.length;++ul<Wl;)Zo[dc+ul]=vl[ul];return Zo}function Xm(Zo,vl,ul,Wl){var dc=-1,Rc=Zo==null?0:Zo.length;for(Wl&&Rc&&(ul=Zo[++dc]);++dc<Rc;)ul=vl(ul,Zo[dc],dc,Zo);return ul}function sy(Zo,vl,ul,Wl){var dc=Zo==null?0:Zo.length;for(Wl&&dc&&(ul=Zo[--dc]);dc--;)ul=vl(ul,Zo[dc],dc,Zo);return ul}function xm(Zo,vl){for(var ul=-1,Wl=Zo==null?0:Zo.length;++ul<Wl;)if(vl(Zo[ul],ul,Zo))return!0;return!1}var dx=mp("length");function ay(Zo){return Zo.split("")}function oy(Zo){return Zo.match(ku)||[]}function qm(Zo,vl,ul){var Wl;return ul(Zo,function(dc,Rc,Ju){if(vl(dc,Rc,Ju))return Wl=Rc,!1}),Wl}function Ef(Zo,vl,ul,Wl){for(var dc=Zo.length,Rc=ul+(Wl?1:-1);Wl?Rc--:++Rc<dc;)if(vl(Zo[Rc],Rc,Zo))return Rc;return-1}function ym(Zo,vl,ul){return vl===vl?vm(Zo,vl,ul):Ef(Zo,Rd,ul)}function zp(Zo,vl,ul,Wl){for(var dc=ul-1,Rc=Zo.length;++dc<Rc;)if(Wl(Zo[dc],vl))return dc;return-1}function Rd(Zo){return Zo!==Zo}function Km(Zo,vl){var ul=Zo==null?0:Zo.length;return ul?Qm(Zo,vl)/ul:lo}function mp(Zo){return function(vl){return vl==null?er:vl[Zo]}}function Tg(Zo){return function(vl){return Zo==null?er:Zo[vl]}}function Sf(Zo,vl,ul,Wl,dc){return dc(Zo,function(Rc,Ju,Su){ul=Wl?(Wl=!1,Rc):vl(ul,Rc,Ju,Su)}),ul}function Zm(Zo,vl){var ul=Zo.length;for(Zo.sort(vl);ul--;)Zo[ul]=Zo[ul].value;return Zo}function Qm(Zo,vl){for(var ul,Wl=-1,dc=Zo.length;++Wl<dc;){var Rc=vl(Zo[Wl]);Rc!==er&&(ul=ul===er?Rc:ul+Rc)}return ul}function Pg(Zo,vl){for(var ul=-1,Wl=Array(Zo);++ul<Zo;)Wl[ul]=vl(ul);return Wl}function fx(Zo,vl){return Fu(vl,function(ul){return[ul,Zo[ul]]})}function Hp(Zo){return Zo&&Zo.slice(0,Vp(Zo)+1).replace(Ll,"")}function Gu(Zo){return function(vl){return Zo(vl)}}function jf(Zo,vl){return Fu(vl,function(ul){return Zo[ul]})}function gp(Zo,vl){return Zo.has(vl)}function dd(Zo,vl){for(var ul=-1,Wl=Zo.length;++ul<Wl&&ym(vl,Zo[ul],0)>-1;);return ul}function px(Zo,vl){for(var ul=Zo.length;ul--&&ym(vl,Zo[ul],0)>-1;);return ul}function rf(Zo,vl){for(var ul=Zo.length,Wl=0;ul--;)Zo[ul]===vl&&++Wl;return Wl}var xp=Tg(dm),sf=Tg(fm);function Jm(Zo){return"\\"+Kh[Zo]}function af(Zo,vl){return Zo==null?er:Zo[vl]}function Wp(Zo){return hm.test(Zo)}function Gh(Zo){return _h.test(Zo)}function Rf(Zo){for(var vl,ul=[];!(vl=Zo.next()).done;)ul.push(vl.value);return ul}function Dg(Zo){var vl=-1,ul=Array(Zo.size);return Zo.forEach(function(Wl,dc){ul[++vl]=[dc,Wl]}),ul}function Gp(Zo,vl){return function(ul){return Zo(vl(ul))}}function of(Zo,vl){for(var ul=-1,Wl=Zo.length,dc=0,Rc=[];++ul<Wl;){var Ju=Zo[ul];(Ju===vl||Ju===cr)&&(Zo[ul]=cr,Rc[dc++]=ul)}return Rc}function Fd(Zo){var vl=-1,ul=Array(Zo.size);return Zo.forEach(function(Wl){ul[++vl]=Wl}),ul}function hv(Zo){var vl=-1,ul=Array(Zo.size);return Zo.forEach(function(Wl){ul[++vl]=[Wl,Wl]}),ul}function vm(Zo,vl,ul){for(var Wl=ul-1,dc=Zo.length;++Wl<dc;)if(Zo[Wl]===vl)return Wl;return-1}function Mg(Zo,vl,ul){for(var Wl=ul+1;Wl--;)if(Zo[Wl]===vl)return Wl;return Wl}function fd(Zo){return Wp(Zo)?eg(Zo):dx(Zo)}function zu(Zo){return Wp(Zo)?tg(Zo):ay(Zo)}function Vp(Zo){for(var vl=Zo.length;vl--&&Cl.test(Zo.charAt(vl)););return vl}var lf=Tg(ny);function eg(Zo){for(var vl=Wf.lastIndex=0;Wf.test(Zo);)++vl;return vl}function tg(Zo){return Zo.match(Wf)||[]}function ng(Zo){return Zo.match(hd)||[]}var yp=(function Zo(vl){vl=vl==null?gh:Bd.defaults(gh.Object(),vl,Bd.pick(gh,bf));var ul=vl.Array,Wl=vl.Date,dc=vl.Error,Rc=vl.Function,Ju=vl.Math,Su=vl.Object,Ng=vl.RegExp,Vh=vl.String,Uh=vl.TypeError,vp=ul.prototype,Up=Rc.prototype,bm=Su.prototype,bp=vl["__core-js_shared__"],_m=Up.toString,su=bm.hasOwnProperty,mx=0,Cd=(function(){var wr=/[^.]+$/.exec(bp&&bp.keys&&bp.keys.IE_PROTO||"");return wr?"Symbol(src)_1."+wr:""})(),Jh=bm.toString,_p=_m.call(Su),zd=gh._,pd=Ng("^"+_m.call(su).replace(sl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yh=mm?vl.Buffer:er,Oh=vl.Symbol,cf=vl.Uint8Array,ig=Yh?Yh.allocUnsafe:er,kd=Gp(Su.getPrototypeOf,Su),Vf=Su.create,wm=bm.propertyIsEnumerable,Cf=vp.splice,gx=Oh?Oh.isConcatSpreadable:er,Ph=Oh?Oh.iterator:er,Hd=Oh?Oh.toStringTag:er,Vu=(function(){try{var wr=tp(Su,"defineProperty");return wr({},"",{}),wr}catch{}})(),ju=vl.clearTimeout!==gh.clearTimeout&&vl.clearTimeout,rg=Wl&&Wl.now!==gh.Date.now&&Wl.now,wp=vl.setTimeout!==gh.setTimeout&&vl.setTimeout,Uf=Ju.ceil,Yf=Ju.floor,Mu=Su.getOwnPropertySymbols,gr=Yh?Yh.isBuffer:er,Rr=vl.isFinite,Br=vp.join,Qr=Gp(Su.keys,Su),ho=Ju.max,Eo=Ju.min,Io=Wl.now,Jo=vl.parseInt,Ko=Ju.random,_l=vp.reverse,Nl=tp(vl,"DataView"),tc=tp(vl,"Map"),$c=tp(vl,"Promise"),lh=tp(vl,"Set"),Tu=tp(vl,"WeakMap"),Lh=tp(Su,"create"),fu=Tu&&new Tu,iu={},Uc=xd(Nl),Ep=xd(tc),Ad=xd($c),Og=xd(lh),Sp=xd(Tu),Em=Oh?Oh.prototype:er,Uu=Em?Em.valueOf:er,kf=Em?Em.toString:er;function Co(wr){if(Lo(wr)&&!Er(wr)&&!(wr instanceof Cc)){if(wr instanceof $h)return wr;if(su.call(wr,"__wrapped__"))return Fy(wr)}return new $h(wr)}var jp=(function(){function wr(){}return function(Ar){if(!Do(Ar))return{};if(Vf)return Vf(Ar);wr.prototype=Ar;var Gr=new wr;return wr.prototype=er,Gr}})();function Rp(){}function $h(wr,Ar){this.__wrapped__=wr,this.__actions__=[],this.__chain__=!!Ar,this.__index__=0,this.__values__=er}Co.templateSettings={escape:Kc,evaluate:uc,interpolate:Ic,variable:"",imports:{_:Co}},Co.prototype=Rp.prototype,Co.prototype.constructor=Co,$h.prototype=jp(Rp.prototype),$h.prototype.constructor=$h;function Cc(wr){this.__wrapped__=wr,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ao,this.__views__=[]}function Dh(){var wr=new Cc(this.__wrapped__);return wr.__actions__=ch(this.__actions__),wr.__dir__=this.__dir__,wr.__filtered__=this.__filtered__,wr.__iteratees__=ch(this.__iteratees__),wr.__takeCount__=this.__takeCount__,wr.__views__=ch(this.__views__),wr}function Sm(){if(this.__filtered__){var wr=new Cc(this);wr.__dir__=-1,wr.__filtered__=!0}else wr=this.clone(),wr.__dir__*=-1;return wr}function Yp(){var wr=this.__wrapped__.value(),Ar=this.__dir__,Gr=Er(wr),oo=Ar<0,wo=Gr?wr.length:0,No=e0(0,wo,this.__views__),Fo=No.start,Xo=No.end,tl=Xo-Fo,Sl=oo?Xo:Fo-1,jl=this.__iteratees__,Al=jl.length,Ul=0,lc=Eo(tl,this.__takeCount__);if(!Gr||!oo&&wo==tl&&lc==tl)return Ey(wr,this.__actions__);var Ac=[];e:for(;tl--&&Ul<lc;){Sl+=Ar;for(var uu=-1,Tc=wr[Sl];++uu<Al;){var yu=jl[uu],Pu=yu.iteratee,lm=yu.type,dp=Pu(Tc);if(lm==uo)Tc=dp;else if(!dp){if(lm==io)continue e;break e}}Ac[Ul++]=Tc}return Ac}Cc.prototype=jp(Rp.prototype),Cc.prototype.constructor=Cc;function Xp(wr){var Ar=-1,Gr=wr==null?0:wr.length;for(this.clear();++Ar<Gr;){var oo=wr[Ar];this.set(oo[0],oo[1])}}function ly(){this.__data__=Lh?Lh(null):{},this.size=0}function Lg(wr){var Ar=this.has(wr)&&delete this.__data__[wr];return this.size-=Ar?1:0,Ar}function cy(wr){var Ar=this.__data__;if(Lh){var Gr=Ar[wr];return Gr===or?er:Gr}return su.call(Ar,wr)?Ar[wr]:er}function Cp(wr){var Ar=this.__data__;return Lh?Ar[wr]!==er:su.call(Ar,wr)}function ed(wr,Ar){var Gr=this.__data__;return this.size+=this.has(wr)?0:1,Gr[wr]=Lh&&Ar===er?or:Ar,this}Xp.prototype.clear=ly,Xp.prototype.delete=Lg,Xp.prototype.get=cy,Xp.prototype.has=Cp,Xp.prototype.set=ed;function uf(wr){var Ar=-1,Gr=wr==null?0:wr.length;for(this.clear();++Ar<Gr;){var oo=wr[Ar];this.set(oo[0],oo[1])}}function tb(){this.__data__=[],this.size=0}function qb(wr){var Ar=this.__data__,Gr=Ap(Ar,wr);if(Gr<0)return!1;var oo=Ar.length-1;return Gr==oo?Ar.pop():Cf.call(Ar,Gr,1),--this.size,!0}function nb(wr){var Ar=this.__data__,Gr=Ap(Ar,wr);return Gr<0?er:Ar[Gr][1]}function Kb(wr){return Ap(this.__data__,wr)>-1}function Mh(wr,Ar){var Gr=this.__data__,oo=Ap(Gr,wr);return oo<0?(++this.size,Gr.push([wr,Ar])):Gr[oo][1]=Ar,this}uf.prototype.clear=tb,uf.prototype.delete=qb,uf.prototype.get=nb,uf.prototype.has=Kb,uf.prototype.set=Mh;function Xf(wr){var Ar=-1,Gr=wr==null?0:wr.length;for(this.clear();++Ar<Gr;){var oo=wr[Ar];this.set(oo[0],oo[1])}}function kp(){this.size=0,this.__data__={hash:new Xp,map:new(tc||uf),string:new Xp}}function $g(wr){var Ar=Xg(this,wr).delete(wr);return this.size-=Ar?1:0,Ar}function dv(wr){return Xg(this,wr).get(wr)}function Ig(wr){return Xg(this,wr).has(wr)}function jm(wr,Ar){var Gr=Xg(this,wr),oo=Gr.size;return Gr.set(wr,Ar),this.size+=Gr.size==oo?0:1,this}Xf.prototype.clear=kp,Xf.prototype.delete=$g,Xf.prototype.get=dv,Xf.prototype.has=Ig,Xf.prototype.set=jm;function Rm(wr){var Ar=-1,Gr=wr==null?0:wr.length;for(this.__data__=new Xf;++Ar<Gr;)this.add(wr[Ar])}function ib(wr){return this.__data__.set(wr,or),this}function Zb(wr){return this.__data__.has(wr)}Rm.prototype.add=Rm.prototype.push=ib,Rm.prototype.has=Zb;function Af(wr){var Ar=this.__data__=new uf(wr);this.size=Ar.size}function qp(){this.__data__=new uf,this.size=0}function fv(wr){var Ar=this.__data__,Gr=Ar.delete(wr);return this.size=Ar.size,Gr}function Kp(wr){return this.__data__.get(wr)}function rb(wr){return this.__data__.has(wr)}function Cm(wr,Ar){var Gr=this.__data__;if(Gr instanceof uf){var oo=Gr.__data__;if(!tc||oo.length<ir-1)return oo.push([wr,Ar]),this.size=++Gr.size,this;Gr=this.__data__=new Xf(oo)}return Gr.set(wr,Ar),this.size=Gr.size,this}Af.prototype.clear=qp,Af.prototype.delete=fv,Af.prototype.get=Kp,Af.prototype.has=rb,Af.prototype.set=Cm;function uy(wr,Ar){var Gr=Er(wr),oo=!Gr&&vr(wr),wo=!Gr&&!oo&&zr(wr),No=!Gr&&!oo&&!wo&&kc(wr),Fo=Gr||oo||wo||No,Xo=Fo?Pg(wr.length,Vh):[],tl=Xo.length;for(var Sl in wr)(Ar||su.call(wr,Sl))&&!(Fo&&(Sl=="length"||wo&&(Sl=="offset"||Sl=="parent")||No&&(Sl=="buffer"||Sl=="byteLength"||Sl=="byteOffset")||ip(Sl,tl)))&&Xo.push(Sl);return Xo}function sg(wr){var Ar=wr.length;return Ar?wr[ug(0,Ar-1)]:er}function xx(wr,Ar){return $x(ch(wr),Kf(Ar,0,wr.length))}function sb(wr){return $x(ch(wr))}function hy(wr,Ar,Gr){(Gr!==er&&!pf(wr[Ar],Gr)||Gr===er&&!(Ar in wr))&&Td(wr,Ar,Gr)}function qf(wr,Ar,Gr){var oo=wr[Ar];(!(su.call(wr,Ar)&&pf(oo,Gr))||Gr===er&&!(Ar in wr))&&Td(wr,Ar,Gr)}function Ap(wr,Ar){for(var Gr=wr.length;Gr--;)if(pf(wr[Gr][0],Ar))return Gr;return-1}function ab(wr,Ar,Gr,oo){return Tp(wr,function(wo,No,Fo){Ar(oo,wo,Gr(wo),Fo)}),oo}function pv(wr,Ar){return wr&&Nf(Ar,wd(Ar),wr)}function Zp(wr,Ar){return wr&&Nf(Ar,Ff(Ar),wr)}function Td(wr,Ar,Gr){Ar=="__proto__"&&Vu?Vu(wr,Ar,{configurable:!0,enumerable:!0,value:Gr,writable:!0}):wr[Ar]=Gr}function Fg(wr,Ar){for(var Gr=-1,oo=Ar.length,wo=ul(oo),No=wr==null;++Gr<oo;)wo[Gr]=No?er:rx(wr,Ar[Gr]);return wo}function Kf(wr,Ar,Gr){return wr===wr&&(Gr!==er&&(wr=wr<=Gr?wr:Gr),Ar!==er&&(wr=wr>=Ar?wr:Ar)),wr}function Pd(wr,Ar,Gr,oo,wo,No){var Fo,Xo=Ar&ur,tl=Ar&dr,Sl=Ar&fr;if(Gr&&(Fo=wo?Gr(wr,oo,wo,No):Gr(wr)),Fo!==er)return Fo;if(!Do(wr))return wr;var jl=Er(wr);if(jl){if(Fo=Dy(wr),!Xo)return ch(wr,Fo)}else{var Al=id(wr),Ul=Al==Vo||Al==nl;if(zr(wr))return bv(wr,Xo);if(Al==Tl||Al==Oo||Ul&&!wo){if(Fo=tl||Ul?{}:Nx(wr),!Xo)return tl?fb(wr,Zp(Fo,wr)):db(wr,pv(Fo,wr))}else{if(!nu[Al])return wo?wr:{};Fo=gb(wr,Al,Xo)}}No||(No=new Af);var lc=No.get(wr);if(lc)return lc;No.set(wr,Fo),Fl(wr)?wr.forEach(function(Tc){Fo.add(Pd(Tc,Ar,Gr,Tc,wr,No))}):Wo(wr)&&wr.forEach(function(Tc,yu){Fo.set(yu,Pd(Tc,Ar,Gr,yu,wr,No))});var Ac=Sl?tl?Yg:Ty:tl?Ff:wd,uu=jl?er:Ac(wr);return wh(uu||wr,function(Tc,yu){uu&&(yu=Tc,Tc=wr[yu]),qf(Fo,yu,Pd(Tc,Ar,Gr,yu,wr,No))}),Fo}function Qp(wr){var Ar=wd(wr);return function(Gr){return Zf(Gr,wr,Ar)}}function Zf(wr,Ar,Gr){var oo=Gr.length;if(wr==null)return!oo;for(wr=Su(wr);oo--;){var wo=Gr[oo],No=Ar[wo],Fo=wr[wo];if(Fo===er&&!(wo in wr)||!No(Fo))return!1}return!0}function dy(wr,Ar,Gr){if(typeof wr!="function")throw new Uh(sr);return rp(function(){wr.apply(er,Gr)},Ar)}function Ih(wr,Ar,Gr,oo){var wo=-1,No=Bp,Fo=!0,Xo=wr.length,tl=[],Sl=Ar.length;if(!Xo)return tl;Gr&&(Ar=Fu(Ar,Gu(Gr))),oo?(No=gm,Fo=!1):Ar.length>=ir&&(No=gp,Fo=!1,Ar=new Rm(Ar));e:for(;++wo<Xo;){var jl=wr[wo],Al=Gr==null?jl:Gr(jl);if(jl=oo||jl!==0?jl:0,Fo&&Al===Al){for(var Ul=Sl;Ul--;)if(Ar[Ul]===Al)continue e;tl.push(jl)}else No(Ar,Al,oo)||tl.push(jl)}return tl}var Tp=Cy(Eh),yx=Cy(py,!0);function km(wr,Ar){var Gr=!0;return Tp(wr,function(oo,wo,No){return Gr=!!Ar(oo,wo,No),Gr}),Gr}function Dd(wr,Ar,Gr){for(var oo=-1,wo=wr.length;++oo<wo;){var No=wr[oo],Fo=Ar(No);if(Fo!=null&&(Xo===er?Fo===Fo&&!Bc(Fo):Gr(Fo,Xo)))var Xo=Fo,tl=No}return tl}function Tf(wr,Ar,Gr,oo){var wo=wr.length;for(Gr=$l(Gr),Gr<0&&(Gr=-Gr>wo?0:wo+Gr),oo=oo===er||oo>wo?wo:$l(oo),oo<0&&(oo+=wo),oo=Gr>oo?0:rh(oo);Gr<oo;)wr[Gr++]=Ar;return wr}function fy(wr,Ar){var Gr=[];return Tp(wr,function(oo,wo,No){Ar(oo,wo,No)&&Gr.push(oo)}),Gr}function Rh(wr,Ar,Gr,oo,wo){var No=-1,Fo=wr.length;for(Gr||(Gr=Ny),wo||(wo=[]);++No<Fo;){var Xo=wr[No];Ar>0&&Gr(Xo)?Ar>1?Rh(Xo,Ar-1,Gr,oo,wo):wf(wo,Xo):oo||(wo[wo.length]=Xo)}return wo}var ag=jx(),Bg=jx(!0);function Eh(wr,Ar){return wr&&ag(wr,Ar,wd)}function py(wr,Ar){return wr&&Bg(wr,Ar,wd)}function Qf(wr,Ar){return jd(Ar,function(Gr){return vo(wr[Gr])})}function Pf(wr,Ar){Ar=Yd(Ar,wr);for(var Gr=0,oo=Ar.length;wr!=null&&Gr<oo;)wr=wr[qd(Ar[Gr++])];return Gr&&Gr==oo?wr:er}function my(wr,Ar,Gr){var oo=Ar(wr);return Er(wr)?oo:wf(oo,Gr(wr))}function xh(wr){return wr==null?wr===er?ic:Gl:Hd&&Hd in Su(wr)?Mx(wr):$y(wr)}function Am(wr,Ar){return wr>Ar}function md(wr,Ar){return wr!=null&&su.call(wr,Ar)}function Df(wr,Ar){return wr!=null&&Ar in Su(wr)}function Tm(wr,Ar,Gr){return wr>=Eo(Ar,Gr)&&wr<ho(Ar,Gr)}function Wd(wr,Ar,Gr){for(var oo=Gr?gm:Bp,wo=wr[0].length,No=wr.length,Fo=No,Xo=ul(No),tl=1/0,Sl=[];Fo--;){var jl=wr[Fo];Fo&&Ar&&(jl=Fu(jl,Gu(Ar))),tl=Eo(jl.length,tl),Xo[Fo]=!Gr&&(Ar||wo>=120&&jl.length>=120)?new Rm(Fo&&jl):er}jl=wr[0];var Al=-1,Ul=Xo[0];e:for(;++Al<wo&&Sl.length<tl;){var lc=jl[Al],Ac=Ar?Ar(lc):lc;if(lc=Gr||lc!==0?lc:0,!(Ul?gp(Ul,Ac):oo(Sl,Ac,Gr))){for(Fo=No;--Fo;){var uu=Xo[Fo];if(!(uu?gp(uu,Ac):oo(wr[Fo],Ac,Gr)))continue e}Ul&&Ul.push(Ac),Sl.push(lc)}}return Sl}function ob(wr,Ar,Gr,oo){return Eh(wr,function(wo,No,Fo){Ar(oo,Gr(wo),No,Fo)}),oo}function hf(wr,Ar,Gr){Ar=Yd(Ar,wr),wr=qg(wr,Ar);var oo=wr==null?wr:wr[qd(dh(Ar))];return oo==null?er:Wu(oo,wr,Gr)}function Ru(wr){return Lo(wr)&&xh(wr)==Oo}function Sh(wr){return Lo(wr)&&xh(wr)==Sc}function gy(wr){return Lo(wr)&&xh(wr)==Ro}function Gd(wr,Ar,Gr,oo,wo){return wr===Ar?!0:wr==null||Ar==null||!Lo(wr)&&!Lo(Ar)?wr!==wr&&Ar!==Ar:Nc(wr,Ar,Gr,oo,Gd,wo)}function Nc(wr,Ar,Gr,oo,wo,No){var Fo=Er(wr),Xo=Er(Ar),tl=Fo?So:id(wr),Sl=Xo?So:id(Ar);tl=tl==Oo?Tl:tl,Sl=Sl==Oo?Tl:Sl;var jl=tl==Tl,Al=Sl==Tl,Ul=tl==Sl;if(Ul&&zr(wr)){if(!zr(Ar))return!1;Fo=!0,jl=!1}if(Ul&&!jl)return No||(No=new Af),Fo||kc(wr)?Px(wr,Ar,Gr,oo,wo,No):Ay(wr,Ar,tl,Gr,oo,wo,No);if(!(Gr&xr)){var lc=jl&&su.call(wr,"__wrapped__"),Ac=Al&&su.call(Ar,"__wrapped__");if(lc||Ac){var uu=lc?wr.value():wr,Tc=Ac?Ar.value():Ar;return No||(No=new Af),wo(uu,Tc,Gr,oo,No)}}return Ul?(No||(No=new Af),Rv(wr,Ar,Gr,oo,wo,No)):!1}function Cu(wr){return Lo(wr)&&id(wr)==fl}function eh(wr,Ar,Gr,oo){var wo=Gr.length,No=wo,Fo=!oo;if(wr==null)return!No;for(wr=Su(wr);wo--;){var Xo=Gr[wo];if(Fo&&Xo[2]?Xo[1]!==wr[Xo[0]]:!(Xo[0]in wr))return!1}for(;++wo<No;){Xo=Gr[wo];var tl=Xo[0],Sl=wr[tl],jl=Xo[1];if(Fo&&Xo[2]){if(Sl===er&&!(tl in wr))return!1}else{var Al=new Af;if(oo)var Ul=oo(Sl,jl,tl,wr,Ar,Al);if(!(Ul===er?Gd(jl,Sl,xr|yr,oo,Al):Ul))return!1}}return!0}function Pm(wr){if(!Do(wr)||xb(wr))return!1;var Ar=vo(wr)?pd:Wc;return Ar.test(xd(wr))}function zg(wr){return Lo(wr)&&xh(wr)==Hc}function og(wr){return Lo(wr)&&id(wr)==Vl}function vx(wr){return Lo(wr)&&To(wr.length)&&!!Ec[xh(wr)]}function lg(wr){return typeof wr=="function"?wr:wr==null?yf:typeof wr=="object"?Er(wr)?yy(wr[0],wr[1]):nh(wr):ko(wr)}function Jp(wr){if(!Nm(wr))return Qr(wr);var Ar=[];for(var Gr in Su(wr))su.call(wr,Gr)&&Gr!="constructor"&&Ar.push(Gr);return Ar}function Qb(wr){if(!Do(wr))return rm(wr);var Ar=Nm(wr),Gr=[];for(var oo in wr)oo=="constructor"&&(Ar||!su.call(wr,oo))||Gr.push(oo);return Gr}function yh(wr,Ar){return wr<Ar}function xy(wr,Ar){var Gr=-1,oo=Pr(wr)?ul(wr.length):[];return Tp(wr,function(wo,No,Fo){oo[++Gr]=Ar(wo,No,Fo)}),oo}function nh(wr){var Ar=Dx(wr);return Ar.length==1&&Ar[0][2]?Om(Ar[0][0],Ar[0][1]):function(Gr){return Gr===wr||eh(Gr,wr,Ar)}}function yy(wr,Ar){return im(wr)&&Lf(Ar)?Om(qd(wr),Ar):function(Gr){var oo=rx(Gr,wr);return oo===er&&oo===Ar?u0(Gr,wr):Gd(Ar,oo,xr|yr)}}function bx(wr,Ar,Gr,oo,wo){wr!==Ar&&ag(Ar,function(No,Fo){if(wo||(wo=new Af),Do(No))vy(wr,Ar,Fo,Gr,bx,oo,wo);else{var Xo=oo?oo(Yu(wr,Fo),No,Fo+"",wr,Ar,wo):er;Xo===er&&(Xo=No),hy(wr,Fo,Xo)}},Ff)}function vy(wr,Ar,Gr,oo,wo,No,Fo){var Xo=Yu(wr,Gr),tl=Yu(Ar,Gr),Sl=Fo.get(tl);if(Sl){hy(wr,Gr,Sl);return}var jl=No?No(Xo,tl,Gr+"",wr,Ar,Fo):er,Al=jl===er;if(Al){var Ul=Er(tl),lc=!Ul&&zr(tl),Ac=!Ul&&!lc&&kc(tl);jl=tl,Ul||lc||Ac?Er(Xo)?jl=Xo:Nr(Xo)?jl=ch(Xo):lc?(Al=!1,jl=bv(tl,!0)):Ac?(Al=!1,jl=_v(tl,!0)):jl=[]:Xl(tl)||vr(tl)?(jl=Xo,vr(Xo)?jl=od(Xo):(!Do(Xo)||vo(Xo))&&(jl=Nx(tl))):Al=!1}Al&&(Fo.set(tl,jl),wo(jl,tl,oo,No,Fo),Fo.delete(tl)),hy(wr,Gr,jl)}function by(wr,Ar){var Gr=wr.length;if(Gr)return Ar+=Ar<0?Gr:0,ip(Ar,Gr)?wr[Ar]:er}function _y(wr,Ar,Gr){Ar.length?Ar=Fu(Ar,function(No){return Er(No)?function(Fo){return Pf(Fo,No.length===1?No[0]:No)}:No}):Ar=[yf];var oo=-1;Ar=Fu(Ar,Gu(fc()));var wo=xy(wr,function(No,Fo,Xo){var tl=Fu(Ar,function(Sl){return Sl(No)});return{criteria:tl,index:++oo,value:No}});return Zm(wo,function(No,Fo){return Pp(No,Fo,Gr)})}function mv(wr,Ar){return Ch(wr,Ar,function(Gr,oo){return u0(wr,oo)})}function Ch(wr,Ar,Gr){for(var oo=-1,wo=Ar.length,No={};++oo<wo;){var Fo=Ar[oo],Xo=Pf(wr,Fo);Gr(Xo,Fo)&&hg(No,Yd(Fo,wr),Xo)}return No}function kh(wr){return function(Ar){return Pf(Ar,wr)}}function Dm(wr,Ar,Gr,oo){var wo=oo?zp:ym,No=-1,Fo=Ar.length,Xo=wr;for(wr===Ar&&(Ar=ch(Ar)),Gr&&(Xo=Fu(wr,Gu(Gr)));++No<Fo;)for(var tl=0,Sl=Ar[No],jl=Gr?Gr(Sl):Sl;(tl=wo(Xo,jl,tl,oo))>-1;)Xo!==wr&&Cf.call(Xo,tl,1),Cf.call(wr,tl,1);return wr}function cg(wr,Ar){for(var Gr=wr?Ar.length:0,oo=Gr-1;Gr--;){var wo=Ar[Gr];if(Gr==oo||wo!==No){var No=wo;ip(wo)?Cf.call(wr,wo,1):pg(wr,wo)}}return wr}function ug(wr,Ar){return wr+Yf(Ko()*(Ar-wr+1))}function wy(wr,Ar,Gr,oo){for(var wo=-1,No=ho(Uf((Ar-wr)/(Gr||1)),0),Fo=ul(No);No--;)Fo[oo?No:++wo]=wr,wr+=Gr;return Fo}function Jf(wr,Ar){var Gr="";if(!wr||Ar<1||Ar>po)return Gr;do Ar%2&&(Gr+=wr),Ar=Yf(Ar/2),Ar&&(wr+=wr);while(Ar);return Gr}function rc(wr,Ar){return Kg(xg(wr,Ar,yf),wr+"")}function gv(wr){return sg(ov(wr))}function xv(wr,Ar){var Gr=ov(wr);return $x(Gr,Kf(Ar,0,Gr.length))}function hg(wr,Ar,Gr,oo){if(!Do(wr))return wr;Ar=Yd(Ar,wr);for(var wo=-1,No=Ar.length,Fo=No-1,Xo=wr;Xo!=null&&++wo<No;){var tl=qd(Ar[wo]),Sl=Gr;if(tl==="__proto__"||tl==="constructor"||tl==="prototype")return wr;if(wo!=Fo){var jl=Xo[tl];Sl=oo?oo(jl,tl,Xo):er,Sl===er&&(Sl=Do(jl)?jl:ip(Ar[wo+1])?[]:{})}qf(Xo,tl,Sl),Xo=Xo[tl]}return wr}var Hg=fu?function(wr,Ar){return fu.set(wr,Ar),wr}:yf,dg=Vu?function(wr,Ar){return Vu(wr,"toString",{configurable:!0,enumerable:!1,value:cv(Ar),writable:!0})}:yf;function lb(wr){return $x(ov(wr))}function au(wr,Ar,Gr){var oo=-1,wo=wr.length;Ar<0&&(Ar=-Ar>wo?0:wo+Ar),Gr=Gr>wo?wo:Gr,Gr<0&&(Gr+=wo),wo=Ar>Gr?0:Gr-Ar>>>0,Ar>>>=0;for(var No=ul(wo);++oo<wo;)No[oo]=wr[oo+Ar];return No}function cb(wr,Ar){var Gr;return Tp(wr,function(oo,wo,No){return Gr=Ar(oo,wo,No),!Gr}),!!Gr}function fg(wr,Ar,Gr){var oo=0,wo=wr==null?oo:wr.length;if(typeof Ar=="number"&&Ar===Ar&&wo<=_o){for(;oo<wo;){var No=oo+wo>>>1,Fo=wr[No];Fo!==null&&!Bc(Fo)&&(Gr?Fo<=Ar:Fo<Ar)?oo=No+1:wo=No}return wo}return _x(wr,Ar,yf,Gr)}function _x(wr,Ar,Gr,oo){var wo=0,No=wr==null?0:wr.length;if(No===0)return 0;Ar=Gr(Ar);for(var Fo=Ar!==Ar,Xo=Ar===null,tl=Bc(Ar),Sl=Ar===er;wo<No;){var jl=Yf((wo+No)/2),Al=Gr(wr[jl]),Ul=Al!==er,lc=Al===null,Ac=Al===Al,uu=Bc(Al);if(Fo)var Tc=oo||Ac;else Sl?Tc=Ac&&(oo||Ul):Xo?Tc=Ac&&Ul&&(oo||!lc):tl?Tc=Ac&&Ul&&!lc&&(oo||!uu):lc||uu?Tc=!1:Tc=oo?Al<=Ar:Al<Ar;Tc?wo=jl+1:No=jl}return Eo(No,xo)}function yv(wr,Ar){for(var Gr=-1,oo=wr.length,wo=0,No=[];++Gr<oo;){var Fo=wr[Gr],Xo=Ar?Ar(Fo):Fo;if(!Gr||!pf(Xo,tl)){var tl=Xo;No[wo++]=Fo===0?0:Fo}}return No}function Ah(wr){return typeof wr=="number"?wr:Bc(wr)?lo:+wr}function Vd(wr){if(typeof wr=="string")return wr;if(Er(wr))return Fu(wr,Vd)+"";if(Bc(wr))return kf?kf.call(wr):"";var Ar=wr+"";return Ar=="0"&&1/wr==-no?"-0":Ar}function df(wr,Ar,Gr){var oo=-1,wo=Bp,No=wr.length,Fo=!0,Xo=[],tl=Xo;if(Gr)Fo=!1,wo=gm;else if(No>=ir){var Sl=Ar?null:mb(wr);if(Sl)return Fd(Sl);Fo=!1,wo=gp,tl=new Rm}else tl=Ar?[]:Xo;e:for(;++oo<No;){var jl=wr[oo],Al=Ar?Ar(jl):jl;if(jl=Gr||jl!==0?jl:0,Fo&&Al===Al){for(var Ul=tl.length;Ul--;)if(tl[Ul]===Al)continue e;Ar&&tl.push(Al),Xo.push(jl)}else wo(tl,Al,Gr)||(tl!==Xo&&tl.push(Al),Xo.push(jl))}return Xo}function pg(wr,Ar){return Ar=Yd(Ar,wr),wr=qg(wr,Ar),wr==null||delete wr[qd(dh(Ar))]}function ih(wr,Ar,Gr,oo){return hg(wr,Ar,Gr(Pf(wr,Ar)),oo)}function wx(wr,Ar,Gr,oo){for(var wo=wr.length,No=oo?wo:-1;(oo?No--:++No<wo)&&Ar(wr[No],No,wr););return Gr?au(wr,oo?0:No,oo?No+1:wo):au(wr,oo?No+1:0,oo?wo:No)}function Ey(wr,Ar){var Gr=wr;return Gr instanceof Cc&&(Gr=Gr.value()),Xm(Ar,function(oo,wo){return wo.func.apply(wo.thisArg,wf([oo],wo.args))},Gr)}function Ud(wr,Ar,Gr){var oo=wr.length;if(oo<2)return oo?df(wr[0]):[];for(var wo=-1,No=ul(oo);++wo<oo;)for(var Fo=wr[wo],Xo=-1;++Xo<oo;)Xo!=wo&&(No[wo]=Ih(No[wo]||Fo,wr[Xo],Ar,Gr));return df(Rh(No,1),Ar,Gr)}function gd(wr,Ar,Gr){for(var oo=-1,wo=wr.length,No=Ar.length,Fo={};++oo<wo;){var Xo=oo<No?Ar[oo]:er;Gr(Fo,wr[oo],Xo)}return Fo}function vv(wr){return Nr(wr)?wr:[]}function Sy(wr){return typeof wr=="function"?wr:yf}function Yd(wr,Ar){return Er(wr)?wr:im(wr,Ar)?[wr]:Cv(Yc(wr))}var ub=rc;function Mf(wr,Ar,Gr){var oo=wr.length;return Gr=Gr===er?oo:Gr,!Ar&&Gr>=oo?wr:au(wr,Ar,Gr)}var Ex=ju||function(wr){return gh.clearTimeout(wr)};function bv(wr,Ar){if(Ar)return wr.slice();var Gr=wr.length,oo=ig?ig(Gr):new wr.constructor(Gr);return wr.copy(oo),oo}function Mm(wr){var Ar=new wr.constructor(wr.byteLength);return new cf(Ar).set(new cf(wr)),Ar}function Jb(wr,Ar){var Gr=Ar?Mm(wr.buffer):wr.buffer;return new wr.constructor(Gr,wr.byteOffset,wr.byteLength)}function hb(wr){var Ar=new wr.constructor(wr.source,ac.exec(wr));return Ar.lastIndex=wr.lastIndex,Ar}function jy(wr){return Uu?Su(Uu.call(wr)):{}}function _v(wr,Ar){var Gr=Ar?Mm(wr.buffer):wr.buffer;return new wr.constructor(Gr,wr.byteOffset,wr.length)}function wv(wr,Ar){if(wr!==Ar){var Gr=wr!==er,oo=wr===null,wo=wr===wr,No=Bc(wr),Fo=Ar!==er,Xo=Ar===null,tl=Ar===Ar,Sl=Bc(Ar);if(!Xo&&!Sl&&!No&&wr>Ar||No&&Fo&&tl&&!Xo&&!Sl||oo&&Fo&&tl||!Gr&&tl||!wo)return 1;if(!oo&&!No&&!Sl&&wr<Ar||Sl&&Gr&&wo&&!oo&&!No||Xo&&Gr&&wo||!Fo&&wo||!tl)return-1}return 0}function Pp(wr,Ar,Gr){for(var oo=-1,wo=wr.criteria,No=Ar.criteria,Fo=wo.length,Xo=Gr.length;++oo<Fo;){var tl=wv(wo[oo],No[oo]);if(tl){if(oo>=Xo)return tl;var Sl=Gr[oo];return tl*(Sl=="desc"?-1:1)}}return wr.index-Ar.index}function Sx(wr,Ar,Gr,oo){for(var wo=-1,No=wr.length,Fo=Gr.length,Xo=-1,tl=Ar.length,Sl=ho(No-Fo,0),jl=ul(tl+Sl),Al=!oo;++Xo<tl;)jl[Xo]=Ar[Xo];for(;++wo<Fo;)(Al||wo<No)&&(jl[Gr[wo]]=wr[wo]);for(;Sl--;)jl[Xo++]=wr[wo++];return jl}function em(wr,Ar,Gr,oo){for(var wo=-1,No=wr.length,Fo=-1,Xo=Gr.length,tl=-1,Sl=Ar.length,jl=ho(No-Xo,0),Al=ul(jl+Sl),Ul=!oo;++wo<jl;)Al[wo]=wr[wo];for(var lc=wo;++tl<Sl;)Al[lc+tl]=Ar[tl];for(;++Fo<Xo;)(Ul||wo<No)&&(Al[lc+Gr[Fo]]=wr[wo++]);return Al}function ch(wr,Ar){var Gr=-1,oo=wr.length;for(Ar||(Ar=ul(oo));++Gr<oo;)Ar[Gr]=wr[Gr];return Ar}function Nf(wr,Ar,Gr,oo){var wo=!Gr;Gr||(Gr={});for(var No=-1,Fo=Ar.length;++No<Fo;){var Xo=Ar[No],tl=oo?oo(Gr[Xo],wr[Xo],Xo,Gr,wr):er;tl===er&&(tl=wr[Xo]),wo?Td(Gr,Xo,tl):qf(Gr,Xo,tl)}return Gr}function db(wr,Ar){return Nf(wr,Py(wr),Ar)}function fb(wr,Ar){return Nf(wr,Of(wr),Ar)}function Ry(wr,Ar){return function(Gr,oo){var wo=Er(Gr)?ry:ab,No=Ar?Ar():{};return wo(Gr,wr,fc(oo,2),No)}}function Dp(wr){return rc(function(Ar,Gr){var oo=-1,wo=Gr.length,No=wo>1?Gr[wo-1]:er,Fo=wo>2?Gr[2]:er;for(No=wr.length>3&&typeof No=="function"?(wo--,No):er,Fo&&rd(Gr[0],Gr[1],Fo)&&(No=wo<3?er:No,wo=1),Ar=Su(Ar);++oo<wo;){var Xo=Gr[oo];Xo&&wr(Ar,Xo,oo,No)}return Ar})}function Cy(wr,Ar){return function(Gr,oo){if(Gr==null)return Gr;if(!Pr(Gr))return wr(Gr,oo);for(var wo=Gr.length,No=Ar?wo:-1,Fo=Su(Gr);(Ar?No--:++No<wo)&&oo(Fo[No],No,Fo)!==!1;);return Gr}}function jx(wr){return function(Ar,Gr,oo){for(var wo=-1,No=Su(Ar),Fo=oo(Ar),Xo=Fo.length;Xo--;){var tl=Fo[wr?Xo:++wo];if(Gr(No[tl],tl,No)===!1)break}return Ar}}function Ev(wr,Ar,Gr){var oo=Ar&_r,wo=Cx(wr);function No(){var Fo=this&&this!==gh&&this instanceof No?wo:wr;return Fo.apply(oo?Gr:this,arguments)}return No}function Rx(wr){return function(Ar){Ar=Yc(Ar);var Gr=Wp(Ar)?zu(Ar):er,oo=Gr?Gr[0]:Ar.charAt(0),wo=Gr?Mf(Gr,1).join(""):Ar.slice(1);return oo[wr]()+wo}}function tm(wr){return function(Ar){return Xm(I0(lv(Ar).replace(Du,"")),wr,"")}}function Cx(wr){return function(){var Ar=arguments;switch(Ar.length){case 0:return new wr;case 1:return new wr(Ar[0]);case 2:return new wr(Ar[0],Ar[1]);case 3:return new wr(Ar[0],Ar[1],Ar[2]);case 4:return new wr(Ar[0],Ar[1],Ar[2],Ar[3]);case 5:return new wr(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4]);case 6:return new wr(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4],Ar[5]);case 7:return new wr(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4],Ar[5],Ar[6])}var Gr=jp(wr.prototype),oo=wr.apply(Gr,Ar);return Do(oo)?oo:Gr}}function pb(wr,Ar,Gr){var oo=Cx(wr);function wo(){for(var No=arguments.length,Fo=ul(No),Xo=No,tl=ou(wo);Xo--;)Fo[Xo]=arguments[Xo];var Sl=No<3&&Fo[0]!==tl&&Fo[No-1]!==tl?[]:of(Fo,tl);if(No-=Sl.length,No<Gr)return ep(wr,Ar,mg,wo.placeholder,er,Fo,Sl,er,er,Gr-No);var jl=this&&this!==gh&&this instanceof wo?oo:wr;return Wu(jl,this,Fo)}return wo}function nm(wr){return function(Ar,Gr,oo){var wo=Su(Ar);if(!Pr(Ar)){var No=fc(Gr,3);Ar=wd(Ar),Gr=function(Xo){return No(wo[Xo],Xo,wo)}}var Fo=wr(Ar,Gr,oo);return Fo>-1?wo[No?Ar[Fo]:Fo]:er}}function Mp(wr){return Nd(function(Ar){var Gr=Ar.length,oo=Gr,wo=$h.prototype.thru;for(wr&&Ar.reverse();oo--;){var No=Ar[oo];if(typeof No!="function")throw new Uh(sr);if(wo&&!Fo&&uh(No)=="wrapper")var Fo=new $h([],!0)}for(oo=Fo?oo:Gr;++oo<Gr;){No=Ar[oo];var Xo=uh(No),tl=Xo=="wrapper"?Xd(No):er;tl&&Ox(tl[0])&&tl[1]==(Lr|Dr|Mr|Fr)&&!tl[4].length&&tl[9]==1?Fo=Fo[uh(tl[0])].apply(Fo,tl[3]):Fo=No.length==1&&Ox(No)?Fo[Xo]():Fo.thru(No)}return function(){var Sl=arguments,jl=Sl[0];if(Fo&&Sl.length==1&&Er(jl))return Fo.plant(jl).value();for(var Al=0,Ul=Gr?Ar[Al].apply(this,Sl):jl;++Al<Gr;)Ul=Ar[Al].call(this,Ul);return Ul}})}function mg(wr,Ar,Gr,oo,wo,No,Fo,Xo,tl,Sl){var jl=Ar&Lr,Al=Ar&_r,Ul=Ar&Sr,lc=Ar&(Dr|Ir),Ac=Ar&Vr,uu=Ul?er:Cx(wr);function Tc(){for(var yu=arguments.length,Pu=ul(yu),lm=yu;lm--;)Pu[lm]=arguments[lm];if(lc)var dp=ou(Tc),cm=rf(Pu,dp);if(oo&&(Pu=Sx(Pu,oo,wo,lc)),No&&(Pu=em(Pu,No,Fo,lc)),yu-=cm,lc&&yu<Sl){var ld=of(Pu,dp);return ep(wr,Ar,mg,Tc.placeholder,Gr,Pu,ld,Xo,tl,Sl-yu)}var Rg=Al?Gr:this,ty=Ul?Rg[wr]:wr;return yu=Pu.length,Xo?Pu=Lx(Pu,Xo):Ac&&yu>1&&Pu.reverse(),jl&&tl<yu&&(Pu.length=tl),this&&this!==gh&&this instanceof Tc&&(ty=uu||Cx(ty)),ty.apply(Rg,Pu)}return Tc}function Ax(wr,Ar){return function(Gr,oo){return ob(Gr,wr,Ar(oo),{})}}function Wg(wr,Ar){return function(Gr,oo){var wo;if(Gr===er&&oo===er)return Ar;if(Gr!==er&&(wo=Gr),oo!==er){if(wo===er)return oo;typeof Gr=="string"||typeof oo=="string"?(Gr=Vd(Gr),oo=Vd(oo)):(Gr=Ah(Gr),oo=Ah(oo)),wo=wr(Gr,oo)}return wo}}function Gg(wr){return Nd(function(Ar){return Ar=Fu(Ar,Gu(fc())),rc(function(Gr){var oo=this;return wr(Ar,function(wo){return Wu(wo,oo,Gr)})})})}function Np(wr,Ar){Ar=Ar===er?" ":Vd(Ar);var Gr=Ar.length;if(Gr<2)return Gr?Jf(Ar,wr):Ar;var oo=Jf(Ar,Uf(wr/fd(Ar)));return Wp(Ar)?Mf(zu(oo),0,wr).join(""):oo.slice(0,wr)}function Sv(wr,Ar,Gr,oo){var wo=Ar&_r,No=Cx(wr);function Fo(){for(var Xo=-1,tl=arguments.length,Sl=-1,jl=oo.length,Al=ul(jl+tl),Ul=this&&this!==gh&&this instanceof Fo?No:wr;++Sl<jl;)Al[Sl]=oo[Sl];for(;tl--;)Al[Sl++]=arguments[++Xo];return Wu(Ul,wo?Gr:this,Al)}return Fo}function Vg(wr){return function(Ar,Gr,oo){return oo&&typeof oo!="number"&&rd(Ar,Gr,oo)&&(Gr=oo=er),Ar=cu(Ar),Gr===er?(Gr=Ar,Ar=0):Gr=cu(Gr),oo=oo===er?Ar<Gr?1:-1:cu(oo),wy(Ar,Gr,oo,wr)}}function Md(wr){return function(Ar,Gr){return typeof Ar=="string"&&typeof Gr=="string"||(Ar=qu(Ar),Gr=qu(Gr)),wr(Ar,Gr)}}function ep(wr,Ar,Gr,oo,wo,No,Fo,Xo,tl,Sl){var jl=Ar&Dr,Al=jl?Fo:er,Ul=jl?er:Fo,lc=jl?No:er,Ac=jl?er:No;Ar|=jl?Mr:Or,Ar&=~(jl?Or:Mr),Ar&jr||(Ar&=-4);var uu=[wr,Ar,wo,lc,Al,Ac,Ul,Xo,tl,Sl],Tc=Gr.apply(er,uu);return Ox(wr)&&Iy(Tc,uu),Tc.placeholder=oo,Zg(Tc,wr,Ar)}function Ug(wr){var Ar=Ju[wr];return function(Gr,oo){if(Gr=qu(Gr),oo=oo==null?0:Eo($l(oo),292),oo&&Rr(Gr)){var wo=(Yc(Gr)+"e").split("e"),No=Ar(wo[0]+"e"+(+wo[1]+oo));return wo=(Yc(No)+"e").split("e"),+(wo[0]+"e"+(+wo[1]-oo))}return Ar(Gr)}}var mb=lh&&1/Fd(new lh([,-0]))[1]==no?function(wr){return new lh(wr)}:br;function jv(wr){return function(Ar){var Gr=id(Ar);return Gr==fl?Dg(Ar):Gr==Vl?hv(Ar):fx(Ar,wr(Ar))}}function nd(wr,Ar,Gr,oo,wo,No,Fo,Xo){var tl=Ar&Sr;if(!tl&&typeof wr!="function")throw new Uh(sr);var Sl=oo?oo.length:0;if(Sl||(Ar&=-97,oo=wo=er),Fo=Fo===er?Fo:ho($l(Fo),0),Xo=Xo===er?Xo:$l(Xo),Sl-=wo?wo.length:0,Ar&Or){var jl=oo,Al=wo;oo=wo=er}var Ul=tl?er:Xd(wr),lc=[wr,Ar,Gr,oo,wo,jl,Al,No,Fo,Xo];if(Ul&&vb(lc,Ul),wr=lc[0],Ar=lc[1],Gr=lc[2],oo=lc[3],wo=lc[4],Xo=lc[9]=lc[9]===er?tl?0:wr.length:ho(lc[9]-Sl,0),!Xo&&Ar&(Dr|Ir)&&(Ar&=-25),!Ar||Ar==_r)var Ac=Ev(wr,Ar,Gr);else Ar==Dr||Ar==Ir?Ac=pb(wr,Ar,Xo):(Ar==Mr||Ar==(_r|Mr))&&!wo.length?Ac=Sv(wr,Ar,Gr,oo):Ac=mg.apply(er,lc);var uu=Ul?Hg:Iy;return Zg(uu(Ac,lc),wr,Ar)}function Op(wr,Ar,Gr,oo){return wr===er||pf(wr,bm[Gr])&&!su.call(oo,Gr)?Ar:wr}function Tx(wr,Ar,Gr,oo,wo,No){return Do(wr)&&Do(Ar)&&(No.set(Ar,wr),bx(wr,Ar,er,Tx,No),No.delete(Ar)),wr}function ru(wr){return Xl(wr)?er:wr}function Px(wr,Ar,Gr,oo,wo,No){var Fo=Gr&xr,Xo=wr.length,tl=Ar.length;if(Xo!=tl&&!(Fo&&tl>Xo))return!1;var Sl=No.get(wr),jl=No.get(Ar);if(Sl&&jl)return Sl==Ar&&jl==wr;var Al=-1,Ul=!0,lc=Gr&yr?new Rm:er;for(No.set(wr,Ar),No.set(Ar,wr);++Al<Xo;){var Ac=wr[Al],uu=Ar[Al];if(oo)var Tc=Fo?oo(uu,Ac,Al,Ar,wr,No):oo(Ac,uu,Al,wr,Ar,No);if(Tc!==er){if(Tc)continue;Ul=!1;break}if(lc){if(!xm(Ar,function(yu,Pu){if(!gp(lc,Pu)&&(Ac===yu||wo(Ac,yu,Gr,oo,No)))return lc.push(Pu)})){Ul=!1;break}}else if(!(Ac===uu||wo(Ac,uu,Gr,oo,No))){Ul=!1;break}}return No.delete(wr),No.delete(Ar),Ul}function Ay(wr,Ar,Gr,oo,wo,No,Fo){switch(Gr){case Oc:if(wr.byteLength!=Ar.byteLength||wr.byteOffset!=Ar.byteOffset)return!1;wr=wr.buffer,Ar=Ar.buffer;case Sc:return!(wr.byteLength!=Ar.byteLength||!No(new cf(wr),new cf(Ar)));case zo:case Ro:case Bl:return pf(+wr,+Ar);case Qo:return wr.name==Ar.name&&wr.message==Ar.message;case Hc:case Jc:return wr==Ar+"";case fl:var Xo=Dg;case Vl:var tl=oo&xr;if(Xo||(Xo=Fd),wr.size!=Ar.size&&!tl)return!1;var Sl=Fo.get(wr);if(Sl)return Sl==Ar;oo|=yr,Fo.set(wr,Ar);var jl=Px(Xo(wr),Xo(Ar),oo,wo,No,Fo);return Fo.delete(wr),jl;case Yl:if(Uu)return Uu.call(wr)==Uu.call(Ar)}return!1}function Rv(wr,Ar,Gr,oo,wo,No){var Fo=Gr&xr,Xo=Ty(wr),tl=Xo.length,Sl=Ty(Ar),jl=Sl.length;if(tl!=jl&&!Fo)return!1;for(var Al=tl;Al--;){var Ul=Xo[Al];if(!(Fo?Ul in Ar:su.call(Ar,Ul)))return!1}var lc=No.get(wr),Ac=No.get(Ar);if(lc&&Ac)return lc==Ar&&Ac==wr;var uu=!0;No.set(wr,Ar),No.set(Ar,wr);for(var Tc=Fo;++Al<tl;){Ul=Xo[Al];var yu=wr[Ul],Pu=Ar[Ul];if(oo)var lm=Fo?oo(Pu,yu,Ul,Ar,wr,No):oo(yu,Pu,Ul,wr,Ar,No);if(!(lm===er?yu===Pu||wo(yu,Pu,Gr,oo,No):lm)){uu=!1;break}Tc||(Tc=Ul=="constructor")}if(uu&&!Tc){var dp=wr.constructor,cm=Ar.constructor;dp!=cm&&"constructor"in wr&&"constructor"in Ar&&!(typeof dp=="function"&&dp instanceof dp&&typeof cm=="function"&&cm instanceof cm)&&(uu=!1)}return No.delete(wr),No.delete(Ar),uu}function Nd(wr){return Kg(xg(wr,er,hh),wr+"")}function Ty(wr){return my(wr,wd,Py)}function Yg(wr){return my(wr,Ff,Of)}var Xd=fu?function(wr){return fu.get(wr)}:br;function uh(wr){for(var Ar=wr.name+"",Gr=iu[Ar],oo=su.call(iu,Ar)?Gr.length:0;oo--;){var wo=Gr[oo],No=wo.func;if(No==null||No==wr)return wo.name}return Ar}function ou(wr){var Ar=su.call(Co,"placeholder")?Co:wr;return Ar.placeholder}function fc(){var wr=Co.iteratee||eb;return wr=wr===eb?lg:wr,arguments.length?wr(arguments[0],arguments[1]):wr}function Xg(wr,Ar){var Gr=wr.__data__;return Oy(Ar)?Gr[typeof Ar=="string"?"string":"hash"]:Gr.map}function Dx(wr){for(var Ar=wd(wr),Gr=Ar.length;Gr--;){var oo=Ar[Gr],wo=wr[oo];Ar[Gr]=[oo,wo,Lf(wo)]}return Ar}function tp(wr,Ar){var Gr=af(wr,Ar);return Pm(Gr)?Gr:er}function Mx(wr){var Ar=su.call(wr,Hd),Gr=wr[Hd];try{wr[Hd]=er;var oo=!0}catch{}var wo=Jh.call(wr);return oo&&(Ar?wr[Hd]=Gr:delete wr[Hd]),wo}var Py=Mu?function(wr){return wr==null?[]:(wr=Su(wr),jd(Mu(wr),function(Ar){return wm.call(wr,Ar)}))}:El,Of=Mu?function(wr){for(var Ar=[];wr;)wf(Ar,Py(wr)),wr=kd(wr);return Ar}:El,id=xh;(Nl&&id(new Nl(new ArrayBuffer(1)))!=Oc||tc&&id(new tc)!=fl||$c&&id($c.resolve())!=Pc||lh&&id(new lh)!=Vl||Tu&&id(new Tu)!=cc)&&(id=function(wr){var Ar=xh(wr),Gr=Ar==Tl?wr.constructor:er,oo=Gr?xd(Gr):"";if(oo)switch(oo){case Uc:return Oc;case Ep:return fl;case Ad:return Pc;case Og:return Vl;case Sp:return cc}return Ar});function e0(wr,Ar,Gr){for(var oo=-1,wo=Gr.length;++oo<wo;){var No=Gr[oo],Fo=No.size;switch(No.type){case"drop":wr+=Fo;break;case"dropRight":Ar-=Fo;break;case"take":Ar=Eo(Ar,wr+Fo);break;case"takeRight":wr=ho(wr,Ar-Fo);break}}return{start:wr,end:Ar}}function np(wr){var Ar=wr.match(bu);return Ar?Ar[1].split(oh):[]}function gg(wr,Ar,Gr){Ar=Yd(Ar,wr);for(var oo=-1,wo=Ar.length,No=!1;++oo<wo;){var Fo=qd(Ar[oo]);if(!(No=wr!=null&&Gr(wr,Fo)))break;wr=wr[Fo]}return No||++oo!=wo?No:(wo=wr==null?0:wr.length,!!wo&&To(wo)&&ip(Fo,wo)&&(Er(wr)||vr(wr)))}function Dy(wr){var Ar=wr.length,Gr=new wr.constructor(Ar);return Ar&&typeof wr[0]=="string"&&su.call(wr,"index")&&(Gr.index=wr.index,Gr.input=wr.input),Gr}function Nx(wr){return typeof wr.constructor=="function"&&!Nm(wr)?jp(kd(wr)):{}}function gb(wr,Ar,Gr){var oo=wr.constructor;switch(Ar){case Sc:return Mm(wr);case zo:case Ro:return new oo(+wr);case Oc:return Jb(wr,Gr);case gl:case Ql:case ql:case wc:case Il:case rl:case il:case hl:case Dl:return _v(wr,Gr);case fl:return new oo;case Bl:case Jc:return new oo(wr);case Hc:return hb(wr);case Vl:return new oo;case Yl:return jy(wr)}}function My(wr,Ar){var Gr=Ar.length;if(!Gr)return wr;var oo=Gr-1;return Ar[oo]=(Gr>1?"& ":"")+Ar[oo],Ar=Ar.join(Gr>2?", ":" "),wr.replace(kl,`{
/* [wrapped with `+Ar+`] */
`)}function Ny(wr){return Er(wr)||vr(wr)||!!(gx&&wr&&wr[gx])}function ip(wr,Ar){var Gr=typeof wr;return Ar=Ar??po,!!Ar&&(Gr=="number"||Gr!="symbol"&&qh.test(wr))&&wr>-1&&wr%1==0&&wr<Ar}function rd(wr,Ar,Gr){if(!Do(Gr))return!1;var oo=typeof Ar;return(oo=="number"?Pr(Gr)&&ip(Ar,Gr.length):oo=="string"&&Ar in Gr)?pf(Gr[Ar],wr):!1}function im(wr,Ar){if(Er(wr))return!1;var Gr=typeof wr;return Gr=="number"||Gr=="symbol"||Gr=="boolean"||wr==null||Bc(wr)?!0:Hl.test(wr)||!ec.test(wr)||Ar!=null&&wr in Su(Ar)}function Oy(wr){var Ar=typeof wr;return Ar=="string"||Ar=="number"||Ar=="symbol"||Ar=="boolean"?wr!=="__proto__":wr===null}function Ox(wr){var Ar=uh(wr),Gr=Co[Ar];if(typeof Gr!="function"||!(Ar in Cc.prototype))return!1;if(wr===Gr)return!0;var oo=Xd(Gr);return!!oo&&wr===oo[0]}function xb(wr){return!!Cd&&Cd in wr}var Ly=bp?vo:cl;function Nm(wr){var Ar=wr&&wr.constructor,Gr=typeof Ar=="function"&&Ar.prototype||bm;return wr===Gr}function Lf(wr){return wr===wr&&!Do(wr)}function Om(wr,Ar){return function(Gr){return Gr==null?!1:Gr[wr]===Ar&&(Ar!==er||wr in Su(Gr))}}function yb(wr){var Ar=ix(wr,function(oo){return Gr.size===lr&&Gr.clear(),oo}),Gr=Ar.cache;return Ar}function vb(wr,Ar){var Gr=wr[1],oo=Ar[1],wo=Gr|oo,No=wo<(_r|Sr|Lr),Fo=oo==Lr&&Gr==Dr||oo==Lr&&Gr==Fr&&wr[7].length<=Ar[8]||oo==(Lr|Fr)&&Ar[7].length<=Ar[8]&&Gr==Dr;if(!(No||Fo))return wr;oo&_r&&(wr[2]=Ar[2],wo|=Gr&_r?0:jr);var Xo=Ar[3];if(Xo){var tl=wr[3];wr[3]=tl?Sx(tl,Xo,Ar[4]):Xo,wr[4]=tl?of(wr[3],cr):Ar[4]}return Xo=Ar[5],Xo&&(tl=wr[5],wr[5]=tl?em(tl,Xo,Ar[6]):Xo,wr[6]=tl?of(wr[5],cr):Ar[6]),Xo=Ar[7],Xo&&(wr[7]=Xo),oo&Lr&&(wr[8]=wr[8]==null?Ar[8]:Eo(wr[8],Ar[8])),wr[9]==null&&(wr[9]=Ar[9]),wr[0]=Ar[0],wr[1]=wo,wr}function rm(wr){var Ar=[];if(wr!=null)for(var Gr in Su(wr))Ar.push(Gr);return Ar}function $y(wr){return Jh.call(wr)}function xg(wr,Ar,Gr){return Ar=ho(Ar===er?wr.length-1:Ar,0),function(){for(var oo=arguments,wo=-1,No=ho(oo.length-Ar,0),Fo=ul(No);++wo<No;)Fo[wo]=oo[Ar+wo];wo=-1;for(var Xo=ul(Ar+1);++wo<Ar;)Xo[wo]=oo[wo];return Xo[Ar]=Gr(Fo),Wu(wr,this,Xo)}}function qg(wr,Ar){return Ar.length<2?wr:Pf(wr,au(Ar,0,-1))}function Lx(wr,Ar){for(var Gr=wr.length,oo=Eo(Ar.length,Gr),wo=ch(wr);oo--;){var No=Ar[oo];wr[oo]=ip(No,Gr)?wo[No]:er}return wr}function Yu(wr,Ar){if(!(Ar==="constructor"&&typeof wr[Ar]=="function")&&Ar!="__proto__")return wr[Ar]}var Iy=sm(Hg),rp=wp||function(wr,Ar){return gh.setTimeout(wr,Ar)},Kg=sm(dg);function Zg(wr,Ar,Gr){var oo=Ar+"";return Kg(wr,My(oo,bb(np(oo),Gr)))}function sm(wr){var Ar=0,Gr=0;return function(){var oo=Io(),wo=eo-(oo-Gr);if(Gr=oo,wo>0){if(++Ar>=Yr)return arguments[0]}else Ar=0;return wr.apply(er,arguments)}}function $x(wr,Ar){var Gr=-1,oo=wr.length,wo=oo-1;for(Ar=Ar===er?oo:Ar;++Gr<Ar;){var No=ug(Gr,wo),Fo=wr[No];wr[No]=wr[Gr],wr[Gr]=Fo}return wr.length=Ar,wr}var Cv=yb(function(wr){var Ar=[];return wr.charCodeAt(0)===46&&Ar.push(""),wr.replace(ah,function(Gr,oo,wo,No){Ar.push(wo?No.replace(eu,"$1"):oo||Gr)}),Ar});function qd(wr){if(typeof wr=="string"||Bc(wr))return wr;var Ar=wr+"";return Ar=="0"&&1/wr==-no?"-0":Ar}function xd(wr){if(wr!=null){try{return _m.call(wr)}catch{}try{return wr+""}catch{}}return""}function bb(wr,Ar){return wh(Po,function(Gr){var oo="_."+Gr[0];Ar&Gr[1]&&!Bp(wr,oo)&&wr.push(oo)}),wr.sort()}function Fy(wr){if(wr instanceof Cc)return wr.clone();var Ar=new $h(wr.__wrapped__,wr.__chain__);return Ar.__actions__=ch(wr.__actions__),Ar.__index__=wr.__index__,Ar.__values__=wr.__values__,Ar}function _b(wr,Ar,Gr){(Gr?rd(wr,Ar,Gr):Ar===er)?Ar=1:Ar=ho($l(Ar),0);var oo=wr==null?0:wr.length;if(!oo||Ar<1)return[];for(var wo=0,No=0,Fo=ul(Uf(oo/Ar));wo<oo;)Fo[No++]=au(wr,wo,wo+=Ar);return Fo}function kv(wr){for(var Ar=-1,Gr=wr==null?0:wr.length,oo=0,wo=[];++Ar<Gr;){var No=wr[Ar];No&&(wo[oo++]=No)}return wo}function Av(){var wr=arguments.length;if(!wr)return[];for(var Ar=ul(wr-1),Gr=arguments[0],oo=wr;oo--;)Ar[oo-1]=arguments[oo];return wf(Er(Gr)?ch(Gr):[Gr],Rh(Ar,1))}var Ix=rc(function(wr,Ar){return Nr(wr)?Ih(wr,Rh(Ar,1,Nr,!0)):[]}),wb=rc(function(wr,Ar){var Gr=dh(Ar);return Nr(Gr)&&(Gr=er),Nr(wr)?Ih(wr,Rh(Ar,1,Nr,!0),fc(Gr,2)):[]}),Lp=rc(function(wr,Ar){var Gr=dh(Ar);return Nr(Gr)&&(Gr=er),Nr(wr)?Ih(wr,Rh(Ar,1,Nr,!0),er,Gr):[]});function jh(wr,Ar,Gr){var oo=wr==null?0:wr.length;return oo?(Ar=Gr||Ar===er?1:$l(Ar),au(wr,Ar<0?0:Ar,oo)):[]}function Tv(wr,Ar,Gr){var oo=wr==null?0:wr.length;return oo?(Ar=Gr||Ar===er?1:$l(Ar),Ar=oo-Ar,au(wr,0,Ar<0?0:Ar)):[]}function Eb(wr,Ar){return wr&&wr.length?wx(wr,fc(Ar,3),!0,!0):[]}function Xh(wr,Ar){return wr&&wr.length?wx(wr,fc(Ar,3),!0):[]}function By(wr,Ar,Gr,oo){var wo=wr==null?0:wr.length;return wo?(Gr&&typeof Gr!="number"&&rd(wr,Ar,Gr)&&(Gr=0,oo=wo),Tf(wr,Ar,Gr,oo)):[]}function Fx(wr,Ar,Gr){var oo=wr==null?0:wr.length;if(!oo)return-1;var wo=Gr==null?0:$l(Gr);return wo<0&&(wo=ho(oo+wo,0)),Ef(wr,fc(Ar,3),wo)}function zy(wr,Ar,Gr){var oo=wr==null?0:wr.length;if(!oo)return-1;var wo=oo-1;return Gr!==er&&(wo=$l(Gr),wo=Gr<0?ho(oo+wo,0):Eo(wo,oo-1)),Ef(wr,fc(Ar,3),wo,!0)}function hh(wr){var Ar=wr==null?0:wr.length;return Ar?Rh(wr,1):[]}function sd(wr){var Ar=wr==null?0:wr.length;return Ar?Rh(wr,no):[]}function sp(wr,Ar){var Gr=wr==null?0:wr.length;return Gr?(Ar=Ar===er?1:$l(Ar),Rh(wr,Ar)):[]}function Pv(wr){for(var Ar=-1,Gr=wr==null?0:wr.length,oo={};++Ar<Gr;){var wo=wr[Ar];oo[wo[0]]=wo[1]}return oo}function Dv(wr){return wr&&wr.length?wr[0]:er}function Hy(wr,Ar,Gr){var oo=wr==null?0:wr.length;if(!oo)return-1;var wo=Gr==null?0:$l(Gr);return wo<0&&(wo=ho(oo+wo,0)),ym(wr,Ar,wo)}function n0(wr){var Ar=wr==null?0:wr.length;return Ar?au(wr,0,-1):[]}var Wy=rc(function(wr){var Ar=Fu(wr,vv);return Ar.length&&Ar[0]===wr[0]?Wd(Ar):[]}),yd=rc(function(wr){var Ar=dh(wr),Gr=Fu(wr,vv);return Ar===dh(Gr)?Ar=er:Gr.pop(),Gr.length&&Gr[0]===wr[0]?Wd(Gr,fc(Ar,2)):[]}),ap=rc(function(wr){var Ar=dh(wr),Gr=Fu(wr,vv);return Ar=typeof Ar=="function"?Ar:er,Ar&&Gr.pop(),Gr.length&&Gr[0]===wr[0]?Wd(Gr,er,Ar):[]});function Sb(wr,Ar){return wr==null?"":Br.call(wr,Ar)}function dh(wr){var Ar=wr==null?0:wr.length;return Ar?wr[Ar-1]:er}function Bx(wr,Ar,Gr){var oo=wr==null?0:wr.length;if(!oo)return-1;var wo=oo;return Gr!==er&&(wo=$l(Gr),wo=wo<0?ho(oo+wo,0):Eo(wo,oo-1)),Ar===Ar?Mg(wr,Ar,wo):Ef(wr,Rd,wo,!0)}function $f(wr,Ar){return wr&&wr.length?by(wr,$l(Ar)):er}var Lm=rc(op);function op(wr,Ar){return wr&&wr.length&&Ar&&Ar.length?Dm(wr,Ar):wr}function Gy(wr,Ar,Gr){return wr&&wr.length&&Ar&&Ar.length?Dm(wr,Ar,fc(Gr,2)):wr}function Vy(wr,Ar,Gr){return wr&&wr.length&&Ar&&Ar.length?Dm(wr,Ar,er,Gr):wr}var Kd=Nd(function(wr,Ar){var Gr=wr==null?0:wr.length,oo=Fg(wr,Ar);return cg(wr,Fu(Ar,function(wo){return ip(wo,Gr)?+wo:wo}).sort(wv)),oo});function Uy(wr,Ar){var Gr=[];if(!(wr&&wr.length))return Gr;var oo=-1,wo=[],No=wr.length;for(Ar=fc(Ar,3);++oo<No;){var Fo=wr[oo];Ar(Fo,oo,wr)&&(Gr.push(Fo),wo.push(oo))}return cg(wr,wo),Gr}function If(wr){return wr==null?wr:_l.call(wr)}function zx(wr,Ar,Gr){var oo=wr==null?0:wr.length;return oo?(Gr&&typeof Gr!="number"&&rd(wr,Ar,Gr)?(Ar=0,Gr=oo):(Ar=Ar==null?0:$l(Ar),Gr=Gr===er?oo:$l(Gr)),au(wr,Ar,Gr)):[]}function $m(wr,Ar){return fg(wr,Ar)}function am(wr,Ar,Gr){return _x(wr,Ar,fc(Gr,2))}function jb(wr,Ar){var Gr=wr==null?0:wr.length;if(Gr){var oo=fg(wr,Ar);if(oo<Gr&&pf(wr[oo],Ar))return oo}return-1}function Rb(wr,Ar){return fg(wr,Ar,!0)}function lp(wr,Ar,Gr){return _x(wr,Ar,fc(Gr,2),!0)}function Mv(wr,Ar){var Gr=wr==null?0:wr.length;if(Gr){var oo=fg(wr,Ar,!0)-1;if(pf(wr[oo],Ar))return oo}return-1}function Qg(wr){return wr&&wr.length?yv(wr):[]}function Nv(wr,Ar){return wr&&wr.length?yv(wr,fc(Ar,2)):[]}function Im(wr){var Ar=wr==null?0:wr.length;return Ar?au(wr,1,Ar):[]}function Hx(wr,Ar,Gr){return wr&&wr.length?(Ar=Gr||Ar===er?1:$l(Ar),au(wr,0,Ar<0?0:Ar)):[]}function pu(wr,Ar,Gr){var oo=wr==null?0:wr.length;return oo?(Ar=Gr||Ar===er?1:$l(Ar),Ar=oo-Ar,au(wr,Ar<0?0:Ar,oo)):[]}function Xu(wr,Ar){return wr&&wr.length?wx(wr,fc(Ar,3),!1,!0):[]}function Vc(wr,Ar){return wr&&wr.length?wx(wr,fc(Ar,3)):[]}var lu=rc(function(wr){return df(Rh(wr,1,Nr,!0))}),Nu=rc(function(wr){var Ar=dh(wr);return Nr(Ar)&&(Ar=er),df(Rh(wr,1,Nr,!0),fc(Ar,2))}),vd=rc(function(wr){var Ar=dh(wr);return Ar=typeof Ar=="function"?Ar:er,df(Rh(wr,1,Nr,!0),er,Ar)});function Fm(wr){return wr&&wr.length?df(wr):[]}function yg(wr,Ar){return wr&&wr.length?df(wr,fc(Ar,2)):[]}function Ov(wr,Ar){return Ar=typeof Ar=="function"?Ar:er,wr&&wr.length?df(wr,er,Ar):[]}function cp(wr){if(!(wr&&wr.length))return[];var Ar=0;return wr=jd(wr,function(Gr){if(Nr(Gr))return Ar=ho(Gr.length,Ar),!0}),Pg(Ar,function(Gr){return Fu(wr,mp(Gr))})}function vh(wr,Ar){if(!(wr&&wr.length))return[];var Gr=cp(wr);return Ar==null?Gr:Fu(Gr,function(oo){return Wu(Ar,er,oo)})}var Bm=rc(function(wr,Ar){return Nr(wr)?Ih(wr,Ar):[]}),vg=rc(function(wr){return Ud(jd(wr,Nr))}),Wx=rc(function(wr){var Ar=dh(wr);return Nr(Ar)&&(Ar=er),Ud(jd(wr,Nr),fc(Ar,2))}),ff=rc(function(wr){var Ar=dh(wr);return Ar=typeof Ar=="function"?Ar:er,Ud(jd(wr,Nr),er,Ar)}),bg=rc(cp);function Gx(wr,Ar){return gd(wr||[],Ar||[],qf)}function Zd(wr,Ar){return gd(wr||[],Ar||[],hg)}var Lv=rc(function(wr){var Ar=wr.length,Gr=Ar>1?wr[Ar-1]:er;return Gr=typeof Gr=="function"?(wr.pop(),Gr):er,vh(wr,Gr)});function zm(wr){var Ar=Co(wr);return Ar.__chain__=!0,Ar}function $v(wr,Ar){return Ar(wr),wr}function _g(wr,Ar){return Ar(wr)}var Jg=Nd(function(wr){var Ar=wr.length,Gr=Ar?wr[0]:0,oo=this.__wrapped__,wo=function(No){return Fg(No,wr)};return Ar>1||this.__actions__.length||!(oo instanceof Cc)||!ip(Gr)?this.thru(wo):(oo=oo.slice(Gr,+Gr+(Ar?1:0)),oo.__actions__.push({func:_g,args:[wo],thisArg:er}),new $h(oo,this.__chain__).thru(function(No){return Ar&&!No.length&&No.push(er),No}))});function up(){return zm(this)}function Fh(){return new $h(this.value(),this.__chain__)}function om(){this.__values__===er&&(this.__values__=Bu(this.value()));var wr=this.__index__>=this.__values__.length,Ar=wr?er:this.__values__[this.__index__++];return{done:wr,value:Ar}}function ex(){return this}function $p(wr){for(var Ar,Gr=this;Gr instanceof Rp;){var oo=Fy(Gr);oo.__index__=0,oo.__values__=er,Ar?wo.__wrapped__=oo:Ar=oo;var wo=oo;Gr=Gr.__wrapped__}return wo.__wrapped__=wr,Ar}function Iv(){var wr=this.__wrapped__;if(wr instanceof Cc){var Ar=wr;return this.__actions__.length&&(Ar=new Cc(this)),Ar=Ar.reverse(),Ar.__actions__.push({func:_g,args:[If],thisArg:er}),new $h(Ar,this.__chain__)}return this.thru(If)}function Fv(){return Ey(this.__wrapped__,this.__actions__)}var Cb=Ry(function(wr,Ar,Gr){su.call(wr,Gr)?++wr[Gr]:Td(wr,Gr,1)});function Vx(wr,Ar,Gr){var oo=Er(wr)?hx:km;return Gr&&rd(wr,Ar,Gr)&&(Ar=er),oo(wr,fc(Ar,3))}function Bv(wr,Ar){var Gr=Er(wr)?jd:fy;return Gr(wr,fc(Ar,3))}var Qd=nm(Fx),kb=nm(zy);function Od(wr,Ar){return Rh(Yx(wr,Ar),1)}function Ab(wr,Ar){return Rh(Yx(wr,Ar),no)}function Tb(wr,Ar,Gr){return Gr=Gr===er?1:$l(Gr),Rh(Yx(wr,Ar),Gr)}function zv(wr,Ar){var Gr=Er(wr)?wh:Tp;return Gr(wr,fc(Ar,3))}function hp(wr,Ar){var Gr=Er(wr)?Gf:yx;return Gr(wr,fc(Ar,3))}var Yy=Ry(function(wr,Ar,Gr){su.call(wr,Gr)?wr[Gr].push(Ar):Td(wr,Gr,[Ar])});function Ux(wr,Ar,Gr,oo){wr=Pr(wr)?wr:ov(wr),Gr=Gr&&!oo?$l(Gr):0;var wo=wr.length;return Gr<0&&(Gr=ho(wo+Gr,0)),Kl(wr)?Gr<=wo&&wr.indexOf(Ar,Gr)>-1:!!wo&&ym(wr,Ar,Gr)>-1}var tx=rc(function(wr,Ar,Gr){var oo=-1,wo=typeof Ar=="function",No=Pr(wr)?ul(wr.length):[];return Tp(wr,function(Fo){No[++oo]=wo?Wu(Ar,Fo,Gr):hf(Fo,Ar,Gr)}),No}),Pb=Ry(function(wr,Ar,Gr){Td(wr,Gr,Ar)});function Yx(wr,Ar){var Gr=Er(wr)?Fu:xy;return Gr(wr,fc(Ar,3))}function Hv(wr,Ar,Gr,oo){return wr==null?[]:(Er(Ar)||(Ar=Ar==null?[]:[Ar]),Gr=oo?er:Gr,Er(Gr)||(Gr=Gr==null?[]:[Gr]),_y(wr,Ar,Gr))}var Db=Ry(function(wr,Ar,Gr){wr[Gr?0:1].push(Ar)},function(){return[[],[]]});function Xx(wr,Ar,Gr){var oo=Er(wr)?Xm:Sf,wo=arguments.length<3;return oo(wr,fc(Ar,4),Gr,wo,Tp)}function Xy(wr,Ar,Gr){var oo=Er(wr)?sy:Sf,wo=arguments.length<3;return oo(wr,fc(Ar,4),Gr,wo,yx)}function i0(wr,Ar){var Gr=Er(wr)?jd:fy;return Gr(wr,tv(fc(Ar,3)))}function r0(wr){var Ar=Er(wr)?sg:gv;return Ar(wr)}function s0(wr,Ar,Gr){(Gr?rd(wr,Ar,Gr):Ar===er)?Ar=1:Ar=$l(Ar);var oo=Er(wr)?xx:xv;return oo(wr,Ar)}function Wv(wr){var Ar=Er(wr)?sb:lb;return Ar(wr)}function Mb(wr){if(wr==null)return 0;if(Pr(wr))return Kl(wr)?fd(wr):wr.length;var Ar=id(wr);return Ar==fl||Ar==Vl?wr.size:Jp(wr).length}function nx(wr,Ar,Gr){var oo=Er(wr)?xm:cb;return Gr&&rd(wr,Ar,Gr)&&(Ar=er),oo(wr,fc(Ar,3))}var qy=rc(function(wr,Ar){if(wr==null)return[];var Gr=Ar.length;return Gr>1&&rd(wr,Ar[0],Ar[1])?Ar=[]:Gr>2&&rd(Ar[0],Ar[1],Ar[2])&&(Ar=[Ar[0]]),_y(wr,Rh(Ar,1),[])}),qx=rg||function(){return gh.Date.now()};function Gv(wr,Ar){if(typeof Ar!="function")throw new Uh(sr);return wr=$l(wr),function(){if(--wr<1)return Ar.apply(this,arguments)}}function Ky(wr,Ar,Gr){return Ar=Gr?er:Ar,Ar=wr&&Ar==null?wr.length:Ar,nd(wr,Lr,er,er,er,er,Ar)}function Vv(wr,Ar){var Gr;if(typeof Ar!="function")throw new Uh(sr);return wr=$l(wr),function(){return--wr>0&&(Gr=Ar.apply(this,arguments)),wr<=1&&(Ar=er),Gr}}var Zy=rc(function(wr,Ar,Gr){var oo=_r;if(Gr.length){var wo=of(Gr,ou(Zy));oo|=Mr}return nd(wr,oo,Ar,Gr,wo)}),Qy=rc(function(wr,Ar,Gr){var oo=_r|Sr;if(Gr.length){var wo=of(Gr,ou(Qy));oo|=Mr}return nd(Ar,oo,wr,Gr,wo)});function Kx(wr,Ar,Gr){Ar=Gr?er:Ar;var oo=nd(wr,Dr,er,er,er,er,er,Ar);return oo.placeholder=Kx.placeholder,oo}function Jy(wr,Ar,Gr){Ar=Gr?er:Ar;var oo=nd(wr,Ir,er,er,er,er,er,Ar);return oo.placeholder=Jy.placeholder,oo}function Uv(wr,Ar,Gr){var oo,wo,No,Fo,Xo,tl,Sl=0,jl=!1,Al=!1,Ul=!0;if(typeof wr!="function")throw new Uh(sr);Ar=qu(Ar)||0,Do(Gr)&&(jl=!!Gr.leading,Al="maxWait"in Gr,No=Al?ho(qu(Gr.maxWait)||0,Ar):No,Ul="trailing"in Gr?!!Gr.trailing:Ul);function lc(ld){var Rg=oo,ty=wo;return oo=wo=er,Sl=ld,Fo=wr.apply(ty,Rg),Fo}function Ac(ld){return Sl=ld,Xo=rp(yu,Ar),jl?lc(ld):Fo}function uu(ld){var Rg=ld-tl,ty=ld-Sl,o1=Ar-Rg;return Al?Eo(o1,No-ty):o1}function Tc(ld){var Rg=ld-tl,ty=ld-Sl;return tl===er||Rg>=Ar||Rg<0||Al&&ty>=No}function yu(){var ld=qx();if(Tc(ld))return Pu(ld);Xo=rp(yu,uu(ld))}function Pu(ld){return Xo=er,Ul&&oo?lc(ld):(oo=wo=er,Fo)}function lm(){Xo!==er&&Ex(Xo),Sl=0,oo=tl=wo=Xo=er}function dp(){return Xo===er?Fo:Pu(qx())}function cm(){var ld=qx(),Rg=Tc(ld);if(oo=arguments,wo=this,tl=ld,Rg){if(Xo===er)return Ac(tl);if(Al)return Ex(Xo),Xo=rp(yu,Ar),lc(tl)}return Xo===er&&(Xo=rp(yu,Ar)),Fo}return cm.cancel=lm,cm.flush=dp,cm}var Ou=rc(function(wr,Ar){return dy(wr,1,Ar)}),ev=rc(function(wr,Ar,Gr){return dy(wr,qu(Ar)||0,Gr)});function a0(wr){return nd(wr,Vr)}function ix(wr,Ar){if(typeof wr!="function"||Ar!=null&&typeof Ar!="function")throw new Uh(sr);var Gr=function(){var oo=arguments,wo=Ar?Ar.apply(this,oo):oo[0],No=Gr.cache;if(No.has(wo))return No.get(wo);var Fo=wr.apply(this,oo);return Gr.cache=No.set(wo,Fo)||No,Fo};return Gr.cache=new(ix.Cache||Xf),Gr}ix.Cache=Xf;function tv(wr){if(typeof wr!="function")throw new Uh(sr);return function(){var Ar=arguments;switch(Ar.length){case 0:return!wr.call(this);case 1:return!wr.call(this,Ar[0]);case 2:return!wr.call(this,Ar[0],Ar[1]);case 3:return!wr.call(this,Ar[0],Ar[1],Ar[2])}return!wr.apply(this,Ar)}}function Yv(wr){return Vv(2,wr)}var o0=ub(function(wr,Ar){Ar=Ar.length==1&&Er(Ar[0])?Fu(Ar[0],Gu(fc())):Fu(Rh(Ar,1),Gu(fc()));var Gr=Ar.length;return rc(function(oo){for(var wo=-1,No=Eo(oo.length,Gr);++wo<No;)oo[wo]=Ar[wo].call(this,oo[wo]);return Wu(wr,this,oo)})}),wg=rc(function(wr,Ar){var Gr=of(Ar,ou(wg));return nd(wr,Mr,er,Ar,Gr)}),Hm=rc(function(wr,Ar){var Gr=of(Ar,ou(Hm));return nd(wr,Or,er,Ar,Gr)}),Xv=Nd(function(wr,Ar){return nd(wr,Fr,er,er,er,Ar)});function nv(wr,Ar){if(typeof wr!="function")throw new Uh(sr);return Ar=Ar===er?Ar:$l(Ar),rc(wr,Ar)}function Zx(wr,Ar){if(typeof wr!="function")throw new Uh(sr);return Ar=Ar==null?0:ho($l(Ar),0),rc(function(Gr){var oo=Gr[Ar],wo=Mf(Gr,0,Ar);return oo&&wf(wo,oo),Wu(wr,this,wo)})}function Wm(wr,Ar,Gr){var oo=!0,wo=!0;if(typeof wr!="function")throw new Uh(sr);return Do(Gr)&&(oo="leading"in Gr?!!Gr.leading:oo,wo="trailing"in Gr?!!Gr.trailing:wo),Uv(wr,Ar,{leading:oo,maxWait:Ar,trailing:wo})}function Ip(wr){return Ky(wr,1)}function Qx(wr,Ar){return wg(Sy(Ar),wr)}function l0(){if(!arguments.length)return[];var wr=arguments[0];return Er(wr)?wr:[wr]}function Nb(wr){return Pd(wr,fr)}function Ob(wr,Ar){return Ar=typeof Ar=="function"?Ar:er,Pd(wr,fr,Ar)}function Jx(wr){return Pd(wr,ur|fr)}function Lb(wr,Ar){return Ar=typeof Ar=="function"?Ar:er,Pd(wr,ur|fr,Ar)}function c0(wr,Ar){return Ar==null||Zf(wr,Ar,wd(Ar))}function pf(wr,Ar){return wr===Ar||wr!==wr&&Ar!==Ar}var Ur=Md(Am),mr=Md(function(wr,Ar){return wr>=Ar}),vr=Ru((function(){return arguments})())?Ru:function(wr){return Lo(wr)&&su.call(wr,"callee")&&!wm.call(wr,"callee")},Er=ul.isArray,Tr=nf?Gu(nf):Sh;function Pr(wr){return wr!=null&&To(wr.length)&&!vo(wr)}function Nr(wr){return Lo(wr)&&Pr(wr)}function $r(wr){return wr===!0||wr===!1||Lo(wr)&&xh(wr)==zo}var zr=gr||cl,qr=kg?Gu(kg):gy;function Jr(wr){return Lo(wr)&&wr.nodeType===1&&!Xl(wr)}function Kr(wr){if(wr==null)return!0;if(Pr(wr)&&(Er(wr)||typeof wr=="string"||typeof wr.splice=="function"||zr(wr)||kc(wr)||vr(wr)))return!wr.length;var Ar=id(wr);if(Ar==fl||Ar==Vl)return!wr.size;if(Nm(wr))return!Jp(wr).length;for(var Gr in wr)if(su.call(wr,Gr))return!1;return!0}function ro(wr,Ar){return Gd(wr,Ar)}function fo(wr,Ar,Gr){Gr=typeof Gr=="function"?Gr:er;var oo=Gr?Gr(wr,Ar):er;return oo===er?Gd(wr,Ar,er,Gr):!!oo}function mo(wr){if(!Lo(wr))return!1;var Ar=xh(wr);return Ar==Qo||Ar==Go||typeof wr.message=="string"&&typeof wr.name=="string"&&!Xl(wr)}function bo(wr){return typeof wr=="number"&&Rr(wr)}function vo(wr){if(!Do(wr))return!1;var Ar=xh(wr);return Ar==Vo||Ar==nl||Ar==Ao||Ar==mc}function yo(wr){return typeof wr=="number"&&wr==$l(wr)}function To(wr){return typeof wr=="number"&&wr>-1&&wr%1==0&&wr<=po}function Do(wr){var Ar=typeof wr;return wr!=null&&(Ar=="object"||Ar=="function")}function Lo(wr){return wr!=null&&typeof wr=="object"}var Wo=Ag?Gu(Ag):Cu;function Uo(wr,Ar){return wr===Ar||eh(wr,Ar,Dx(Ar))}function Yo(wr,Ar,Gr){return Gr=typeof Gr=="function"?Gr:er,eh(wr,Ar,Dx(Ar),Gr)}function Bo(wr){return Ol(wr)&&wr!=+wr}function pl(wr){if(Ly(wr))throw new dc(rr);return Pm(wr)}function xl(wr){return wr===null}function ml(wr){return wr==null}function Ol(wr){return typeof wr=="number"||Lo(wr)&&xh(wr)==Bl}function Xl(wr){if(!Lo(wr)||xh(wr)!=Tl)return!1;var Ar=kd(wr);if(Ar===null)return!0;var Gr=su.call(Ar,"constructor")&&Ar.constructor;return typeof Gr=="function"&&Gr instanceof Gr&&_m.call(Gr)==_p}var Zl=ux?Gu(ux):zg;function Ml(wr){return yo(wr)&&wr>=-po&&wr<=po}var Fl=pp?Gu(pp):og;function Kl(wr){return typeof wr=="string"||!Er(wr)&&Lo(wr)&&xh(wr)==Jc}function Bc(wr){return typeof wr=="symbol"||Lo(wr)&&xh(wr)==Yl}var kc=iy?Gu(iy):vx;function ad(wr){return wr===er}function gc(wr){return Lo(wr)&&id(wr)==cc}function pc(wr){return Lo(wr)&&xh(wr)==Xc}var mu=Md(yh),zc=Md(function(wr,Ar){return wr<=Ar});function Bu(wr){if(!wr)return[];if(Pr(wr))return Kl(wr)?zu(wr):ch(wr);if(Ph&&wr[Ph])return Rf(wr[Ph]());var Ar=id(wr),Gr=Ar==fl?Dg:Ar==Vl?Fd:ov;return Gr(wr)}function cu(wr){if(!wr)return wr===0?wr:0;if(wr=qu(wr),wr===no||wr===-no){var Ar=wr<0?-1:1;return Ar*co}return wr===wr?wr:0}function $l(wr){var Ar=cu(wr),Gr=Ar%1;return Ar===Ar?Gr?Ar-Gr:Ar:0}function rh(wr){return wr?Kf($l(wr),0,ao):0}function qu(wr){if(typeof wr=="number")return wr;if(Bc(wr))return lo;if(Do(wr)){var Ar=typeof wr.valueOf=="function"?wr.valueOf():wr;wr=Do(Ar)?Ar+"":Ar}if(typeof wr!="string")return wr===0?wr:+wr;wr=Hp(wr);var Gr=du.test(wr);return Gr||Iu.test(wr)?pm(wr.slice(2),Gr?2:8):hu.test(wr)?lo:+wr}function od(wr){return Nf(wr,Ff(wr))}function Gm(wr){return wr?Kf($l(wr),-po,po):wr===0?wr:0}function Yc(wr){return wr==null?"":Vd(wr)}var bd=Dp(function(wr,Ar){if(Nm(Ar)||Pr(Ar)){Nf(Ar,wd(Ar),wr);return}for(var Gr in Ar)su.call(Ar,Gr)&&qf(wr,Gr,Ar[Gr])}),mf=Dp(function(wr,Ar){Nf(Ar,Ff(Ar),wr)}),gf=Dp(function(wr,Ar,Gr,oo){Nf(Ar,Ff(Ar),wr,oo)}),Eg=Dp(function(wr,Ar,Gr,oo){Nf(Ar,wd(Ar),wr,oo)}),_d=Nd(Fg);function xf(wr,Ar){var Gr=jp(wr);return Ar==null?Gr:pv(Gr,Ar)}var Sg=rc(function(wr,Ar){wr=Su(wr);var Gr=-1,oo=Ar.length,wo=oo>2?Ar[2]:er;for(wo&&rd(Ar[0],Ar[1],wo)&&(oo=1);++Gr<oo;)for(var No=Ar[Gr],Fo=Ff(No),Xo=-1,tl=Fo.length;++Xo<tl;){var Sl=Fo[Xo],jl=wr[Sl];(jl===er||pf(jl,bm[Sl])&&!su.call(wr,Sl))&&(wr[Sl]=No[Sl])}return wr}),qv=rc(function(wr){return wr.push(er,Tx),Wu(rv,er,wr)});function b0(wr,Ar){return qm(wr,fc(Ar,3),Eh)}function Kv(wr,Ar){return qm(wr,fc(Ar,3),py)}function Fp(wr,Ar){return wr==null?wr:ag(wr,fc(Ar,3),Ff)}function _0(wr,Ar){return wr==null?wr:Bg(wr,fc(Ar,3),Ff)}function $b(wr,Ar){return wr&&Eh(wr,fc(Ar,3))}function jg(wr,Ar){return wr&&py(wr,fc(Ar,3))}function W0(wr){return wr==null?[]:Qf(wr,wd(wr))}function G0(wr){return wr==null?[]:Qf(wr,Ff(wr))}function rx(wr,Ar,Gr){var oo=wr==null?er:Pf(wr,Ar);return oo===er?Gr:oo}function w0(wr,Ar){return wr!=null&&gg(wr,Ar,md)}function u0(wr,Ar){return wr!=null&&gg(wr,Ar,Df)}var V0=Ax(function(wr,Ar,Gr){Ar!=null&&typeof Ar.toString!="function"&&(Ar=Jh.call(Ar)),wr[Ar]=Gr},cv(yf)),U0=Ax(function(wr,Ar,Gr){Ar!=null&&typeof Ar.toString!="function"&&(Ar=Jh.call(Ar)),su.call(wr,Ar)?wr[Ar].push(Gr):wr[Ar]=[Gr]},fc),Y0=rc(hf);function wd(wr){return Pr(wr)?uy(wr):Jp(wr)}function Ff(wr){return Pr(wr)?uy(wr,!0):Qb(wr)}function X0(wr,Ar){var Gr={};return Ar=fc(Ar,3),Eh(wr,function(oo,wo,No){Td(Gr,Ar(oo,wo,No),oo)}),Gr}function E0(wr,Ar){var Gr={};return Ar=fc(Ar,3),Eh(wr,function(oo,wo,No){Td(Gr,wo,Ar(oo,wo,No))}),Gr}var iv=Dp(function(wr,Ar,Gr){bx(wr,Ar,Gr)}),rv=Dp(function(wr,Ar,Gr,oo){bx(wr,Ar,Gr,oo)}),S0=Nd(function(wr,Ar){var Gr={};if(wr==null)return Gr;var oo=!1;Ar=Fu(Ar,function(No){return No=Yd(No,wr),oo||(oo=No.length>1),No}),Nf(wr,Yg(wr),Gr),oo&&(Gr=Pd(Gr,ur|dr|fr,ru));for(var wo=Ar.length;wo--;)pg(Gr,Ar[wo]);return Gr});function q0(wr,Ar){return av(wr,tv(fc(Ar)))}var sv=Nd(function(wr,Ar){return wr==null?{}:mv(wr,Ar)});function av(wr,Ar){if(wr==null)return{};var Gr=Fu(Yg(wr),function(oo){return[oo]});return Ar=fc(Ar),Ch(wr,Gr,function(oo,wo){return Ar(oo,wo[0])})}function j0(wr,Ar,Gr){Ar=Yd(Ar,wr);var oo=-1,wo=Ar.length;for(wo||(wo=1,wr=er);++oo<wo;){var No=wr==null?er:wr[qd(Ar[oo])];No===er&&(oo=wo,No=Gr),wr=vo(No)?No.call(wr):No}return wr}function Ib(wr,Ar,Gr){return wr==null?wr:hg(wr,Ar,Gr)}function h0(wr,Ar,Gr,oo){return oo=typeof oo=="function"?oo:er,wr==null?wr:hg(wr,Ar,Gr,oo)}var Fb=jv(wd),Zv=jv(Ff);function R0(wr,Ar,Gr){var oo=Er(wr),wo=oo||zr(wr)||kc(wr);if(Ar=fc(Ar,4),Gr==null){var No=wr&&wr.constructor;wo?Gr=oo?new No:[]:Do(wr)?Gr=vo(No)?jp(kd(wr)):{}:Gr={}}return(wo?wh:Eh)(wr,function(Fo,Xo,tl){return Ar(Gr,Fo,Xo,tl)}),Gr}function C0(wr,Ar){return wr==null?!0:pg(wr,Ar)}function K0(wr,Ar,Gr){return wr==null?wr:ih(wr,Ar,Sy(Gr))}function k0(wr,Ar,Gr,oo){return oo=typeof oo=="function"?oo:er,wr==null?wr:ih(wr,Ar,Sy(Gr),oo)}function ov(wr){return wr==null?[]:jf(wr,wd(wr))}function d0(wr){return wr==null?[]:jf(wr,Ff(wr))}function Z0(wr,Ar,Gr){return Gr===er&&(Gr=Ar,Ar=er),Gr!==er&&(Gr=qu(Gr),Gr=Gr===Gr?Gr:0),Ar!==er&&(Ar=qu(Ar),Ar=Ar===Ar?Ar:0),Kf(qu(wr),Ar,Gr)}function Bb(wr,Ar,Gr){return Ar=cu(Ar),Gr===er?(Gr=Ar,Ar=0):Gr=cu(Gr),wr=qu(wr),Tm(wr,Ar,Gr)}function zb(wr,Ar,Gr){if(Gr&&typeof Gr!="boolean"&&rd(wr,Ar,Gr)&&(Ar=Gr=er),Gr===er&&(typeof Ar=="boolean"?(Gr=Ar,Ar=er):typeof wr=="boolean"&&(Gr=wr,wr=er)),wr===er&&Ar===er?(wr=0,Ar=1):(wr=cu(wr),Ar===er?(Ar=wr,wr=0):Ar=cu(Ar)),wr>Ar){var oo=wr;wr=Ar,Ar=oo}if(Gr||wr%1||Ar%1){var wo=Ko();return Eo(wr+wo*(Ar-wr+_f("1e-"+((wo+"").length-1))),Ar)}return ug(wr,Ar)}var Hb=tm(function(wr,Ar,Gr){return Ar=Ar.toLowerCase(),wr+(Gr?A0(Ar):Ar)});function A0(wr){return ey(Yc(wr).toLowerCase())}function lv(wr){return wr=Yc(wr),wr&&wr.replace(Bh,xp).replace(Um,"")}function Q0(wr,Ar,Gr){wr=Yc(wr),Ar=Vd(Ar);var oo=wr.length;Gr=Gr===er?oo:Kf($l(Gr),0,oo);var wo=Gr;return Gr-=Ar.length,Gr>=0&&wr.slice(Gr,wo)==Ar}function T0(wr){return wr=Yc(wr),wr&&vu.test(wr)?wr.replace(xc,sf):wr}function P0(wr){return wr=Yc(wr),wr&&yl.test(wr)?wr.replace(sl,"\\$&"):wr}var D0=tm(function(wr,Ar,Gr){return wr+(Gr?"-":"")+Ar.toLowerCase()}),M0=tm(function(wr,Ar,Gr){return wr+(Gr?" ":"")+Ar.toLowerCase()}),f0=Rx("toLowerCase");function N0(wr,Ar,Gr){wr=Yc(wr),Ar=$l(Ar);var oo=Ar?fd(wr):0;if(!Ar||oo>=Ar)return wr;var wo=(Ar-oo)/2;return Np(Yf(wo),Gr)+wr+Np(Uf(wo),Gr)}function O0(wr,Ar,Gr){wr=Yc(wr),Ar=$l(Ar);var oo=Ar?fd(wr):0;return Ar&&oo<Ar?wr+Np(Ar-oo,Gr):wr}function Wb(wr,Ar,Gr){wr=Yc(wr),Ar=$l(Ar);var oo=Ar?fd(wr):0;return Ar&&oo<Ar?Np(Ar-oo,Gr)+wr:wr}function J0(wr,Ar,Gr){return Gr||Ar==null?Ar=0:Ar&&(Ar=+Ar),Jo(Yc(wr).replace(Ll,""),Ar||0)}function e1(wr,Ar,Gr){return(Gr?rd(wr,Ar,Gr):Ar===er)?Ar=1:Ar=$l(Ar),Jf(Yc(wr),Ar)}function p0(){var wr=arguments,Ar=Yc(wr[0]);return wr.length<3?Ar:Ar.replace(wr[1],wr[2])}var m0=tm(function(wr,Ar,Gr){return wr+(Gr?"_":"")+Ar.toLowerCase()});function Gb(wr,Ar,Gr){return Gr&&typeof Gr!="number"&&rd(wr,Ar,Gr)&&(Ar=Gr=er),Gr=Gr===er?ao:Gr>>>0,Gr?(wr=Yc(wr),wr&&(typeof Ar=="string"||Ar!=null&&!Zl(Ar))&&(Ar=Vd(Ar),!Ar&&Wp(wr))?Mf(zu(wr),0,Gr):wr.split(Ar,Gr)):[]}var g0=tm(function(wr,Ar,Gr){return wr+(Gr?" ":"")+ey(Ar)});function L0(wr,Ar,Gr){return wr=Yc(wr),Gr=Gr==null?0:Kf($l(Gr),0,wr.length),Ar=Vd(Ar),wr.slice(Gr,Gr+Ar.length)==Ar}function x0(wr,Ar,Gr){var oo=Co.templateSettings;Gr&&rd(wr,Ar,Gr)&&(Ar=er),wr=Yc(wr),Ar=gf({},Ar,oo,Op);var wo=gf({},Ar.imports,oo.imports,Op),No=wd(wo),Fo=jf(wo,No),Xo,tl,Sl=0,jl=Ar.interpolate||zh,Al="__p += '",Ul=Ng((Ar.escape||zh).source+"|"+jl.source+"|"+(jl===Ic?Zc:zh).source+"|"+(Ar.evaluate||zh).source+"|$","g"),lc="//# sourceURL="+(su.call(Ar,"sourceURL")?(Ar.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tf+"]")+`
`;wr.replace(Ul,function(Tc,yu,Pu,lm,dp,cm){return Pu||(Pu=lm),Al+=wr.slice(Sl,cm).replace(Fc,Jm),yu&&(Xo=!0,Al+=`' +
__e(`+yu+`) +
'`),dp&&(tl=!0,Al+=`';
`+dp+`;
__p += '`),Pu&&(Al+=`' +
((__t = (`+Pu+`)) == null ? '' : __t) +
'`),Sl=cm+Tc.length,Tc}),Al+=`';
`;var Ac=su.call(Ar,"variable")&&Ar.variable;if(!Ac)Al=`with (obj) {
`+Al+`
}
`;else if(Dc.test(Ac))throw new dc(ar);Al=(tl?Al.replace(Pl,""):Al).replace(Jl,"$1").replace(oc,"$1;"),Al="function("+(Ac||"obj")+`) {
`+(Ac?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xo?", __e = _.escape":"")+(tl?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Al+`return __p
}`;var uu=y0(function(){return Rc(No,lc+"return "+Al).apply(er,Fo)});if(uu.source=Al,mo(uu))throw uu;return uu}function sx(wr){return Yc(wr).toLowerCase()}function ax(wr){return Yc(wr).toUpperCase()}function ox(wr,Ar,Gr){if(wr=Yc(wr),wr&&(Gr||Ar===er))return Hp(wr);if(!wr||!(Ar=Vd(Ar)))return wr;var oo=zu(wr),wo=zu(Ar),No=dd(oo,wo),Fo=px(oo,wo)+1;return Mf(oo,No,Fo).join("")}function Qv(wr,Ar,Gr){if(wr=Yc(wr),wr&&(Gr||Ar===er))return wr.slice(0,Vp(wr)+1);if(!wr||!(Ar=Vd(Ar)))return wr;var oo=zu(wr),wo=px(oo,zu(Ar))+1;return Mf(oo,0,wo).join("")}function Jv(wr,Ar,Gr){if(wr=Yc(wr),wr&&(Gr||Ar===er))return wr.replace(Ll,"");if(!wr||!(Ar=Vd(Ar)))return wr;var oo=zu(wr),wo=dd(oo,zu(Ar));return Mf(oo,wo).join("")}function lx(wr,Ar){var Gr=Zr,oo=Hr;if(Do(Ar)){var wo="separator"in Ar?Ar.separator:wo;Gr="length"in Ar?$l(Ar.length):Gr,oo="omission"in Ar?Vd(Ar.omission):oo}wr=Yc(wr);var No=wr.length;if(Wp(wr)){var Fo=zu(wr);No=Fo.length}if(Gr>=No)return wr;var Xo=Gr-fd(oo);if(Xo<1)return oo;var tl=Fo?Mf(Fo,0,Xo).join(""):wr.slice(0,Xo);if(wo===er)return tl+oo;if(Fo&&(Xo+=tl.length-Xo),Zl(wo)){if(wr.slice(Xo).search(wo)){var Sl,jl=tl;for(wo.global||(wo=Ng(wo.source,Yc(ac.exec(wo))+"g")),wo.lastIndex=0;Sl=wo.exec(jl);)var Al=Sl.index;tl=tl.slice(0,Al===er?Xo:Al)}}else if(wr.indexOf(Vd(wo),Xo)!=Xo){var Ul=tl.lastIndexOf(wo);Ul>-1&&(tl=tl.slice(0,Ul))}return tl+oo}function n1(wr){return wr=Yc(wr),wr&&jc.test(wr)?wr.replace(qc,lf):wr}var $0=tm(function(wr,Ar,Gr){return wr+(Gr?" ":"")+Ar.toUpperCase()}),ey=Rx("toUpperCase");function I0(wr,Ar,Gr){return wr=Yc(wr),Ar=Gr?er:Ar,Ar===er?Gh(wr)?ng(wr):oy(wr):wr.match(Ar)||[]}var y0=rc(function(wr,Ar){try{return Wu(wr,er,Ar)}catch(Gr){return mo(Gr)?Gr:new dc(Gr)}}),Vb=Nd(function(wr,Ar){return wh(Ar,function(Gr){Gr=qd(Gr),Td(wr,Gr,Zy(wr[Gr],wr))}),wr});function F0(wr){var Ar=wr==null?0:wr.length,Gr=fc();return wr=Ar?Fu(wr,function(oo){if(typeof oo[1]!="function")throw new Uh(sr);return[Gr(oo[0]),oo[1]]}):[],rc(function(oo){for(var wo=-1;++wo<Ar;){var No=wr[wo];if(Wu(No[0],this,oo))return Wu(No[1],this,oo)}})}function i1(wr){return Qp(Pd(wr,ur))}function cv(wr){return function(){return wr}}function Ub(wr,Ar){return wr==null||wr!==wr?Ar:wr}var B0=Mp(),uv=Mp(!0);function yf(wr){return wr}function eb(wr){return lg(typeof wr=="function"?wr:Pd(wr,ur))}function Yb(wr){return nh(Pd(wr,ur))}function z0(wr,Ar){return yy(wr,Pd(Ar,ur))}var r1=rc(function(wr,Ar){return function(Gr){return hf(Gr,wr,Ar)}}),Xb=rc(function(wr,Ar){return function(Gr){return hf(wr,Gr,Ar)}});function hr(wr,Ar,Gr){var oo=wd(Ar),wo=Qf(Ar,oo);Gr==null&&!(Do(Ar)&&(wo.length||!oo.length))&&(Gr=Ar,Ar=wr,wr=this,wo=Qf(Ar,wd(Ar)));var No=!(Do(Gr)&&"chain"in Gr)||!!Gr.chain,Fo=vo(wr);return wh(wo,function(Xo){var tl=Ar[Xo];wr[Xo]=tl,Fo&&(wr.prototype[Xo]=function(){var Sl=this.__chain__;if(No||Sl){var jl=wr(this.__wrapped__),Al=jl.__actions__=ch(this.__actions__);return Al.push({func:tl,args:arguments,thisArg:wr}),jl.__chain__=Sl,jl}return tl.apply(wr,wf([this.value()],arguments))})}),wr}function pr(){return gh._===this&&(gh._=zd),this}function br(){}function Cr(wr){return wr=$l(wr),rc(function(Ar){return by(Ar,wr)})}var Wr=Gg(Fu),Xr=Gg(hx),go=Gg(xm);function ko(wr){return im(wr)?mp(qd(wr)):kh(wr)}function Ho(wr){return function(Ar){return wr==null?er:Pf(wr,Ar)}}var ol=Vg(),bl=Vg(!0);function El(){return[]}function cl(){return!1}function dl(){return{}}function nc(){return""}function _c(){return!0}function sh(wr,Ar){if(wr=$l(wr),wr<1||wr>po)return[];var Gr=ao,oo=Eo(wr,ao);Ar=fc(Ar),wr-=ao;for(var wo=Pg(oo,Ar);++Gr<wr;)Ar(Gr);return wo}function el(wr){return Er(wr)?Fu(wr,qd):Bc(wr)?[wr]:ch(Cv(Yc(wr)))}function qo(wr){var Ar=++mx;return Yc(wr)+Ar}var al=Wg(function(wr,Ar){return wr+Ar},0),wl=Ug("ceil"),hc=Wg(function(wr,Ar){return wr/Ar},1),Lu=Ug("floor");function sc(wr){return wr&&wr.length?Dd(wr,yf,Am):er}function Qc(wr,Ar){return wr&&wr.length?Dd(wr,fc(Ar,2),Am):er}function xu(wr){return Km(wr,yf)}function $u(wr,Ar){return Km(wr,fc(Ar,2))}function cx(wr){return wr&&wr.length?Dd(wr,yf,yh):er}function s1(wr,Ar){return wr&&wr.length?Dd(wr,fc(Ar,2),yh):er}var f1=Wg(function(wr,Ar){return wr*Ar},1),p1=Ug("round"),m1=Wg(function(wr,Ar){return wr-Ar},0);function g1(wr){return wr&&wr.length?Qm(wr,yf):0}function x1(wr,Ar){return wr&&wr.length?Qm(wr,fc(Ar,2)):0}return Co.after=Gv,Co.ary=Ky,Co.assign=bd,Co.assignIn=mf,Co.assignInWith=gf,Co.assignWith=Eg,Co.at=_d,Co.before=Vv,Co.bind=Zy,Co.bindAll=Vb,Co.bindKey=Qy,Co.castArray=l0,Co.chain=zm,Co.chunk=_b,Co.compact=kv,Co.concat=Av,Co.cond=F0,Co.conforms=i1,Co.constant=cv,Co.countBy=Cb,Co.create=xf,Co.curry=Kx,Co.curryRight=Jy,Co.debounce=Uv,Co.defaults=Sg,Co.defaultsDeep=qv,Co.defer=Ou,Co.delay=ev,Co.difference=Ix,Co.differenceBy=wb,Co.differenceWith=Lp,Co.drop=jh,Co.dropRight=Tv,Co.dropRightWhile=Eb,Co.dropWhile=Xh,Co.fill=By,Co.filter=Bv,Co.flatMap=Od,Co.flatMapDeep=Ab,Co.flatMapDepth=Tb,Co.flatten=hh,Co.flattenDeep=sd,Co.flattenDepth=sp,Co.flip=a0,Co.flow=B0,Co.flowRight=uv,Co.fromPairs=Pv,Co.functions=W0,Co.functionsIn=G0,Co.groupBy=Yy,Co.initial=n0,Co.intersection=Wy,Co.intersectionBy=yd,Co.intersectionWith=ap,Co.invert=V0,Co.invertBy=U0,Co.invokeMap=tx,Co.iteratee=eb,Co.keyBy=Pb,Co.keys=wd,Co.keysIn=Ff,Co.map=Yx,Co.mapKeys=X0,Co.mapValues=E0,Co.matches=Yb,Co.matchesProperty=z0,Co.memoize=ix,Co.merge=iv,Co.mergeWith=rv,Co.method=r1,Co.methodOf=Xb,Co.mixin=hr,Co.negate=tv,Co.nthArg=Cr,Co.omit=S0,Co.omitBy=q0,Co.once=Yv,Co.orderBy=Hv,Co.over=Wr,Co.overArgs=o0,Co.overEvery=Xr,Co.overSome=go,Co.partial=wg,Co.partialRight=Hm,Co.partition=Db,Co.pick=sv,Co.pickBy=av,Co.property=ko,Co.propertyOf=Ho,Co.pull=Lm,Co.pullAll=op,Co.pullAllBy=Gy,Co.pullAllWith=Vy,Co.pullAt=Kd,Co.range=ol,Co.rangeRight=bl,Co.rearg=Xv,Co.reject=i0,Co.remove=Uy,Co.rest=nv,Co.reverse=If,Co.sampleSize=s0,Co.set=Ib,Co.setWith=h0,Co.shuffle=Wv,Co.slice=zx,Co.sortBy=qy,Co.sortedUniq=Qg,Co.sortedUniqBy=Nv,Co.split=Gb,Co.spread=Zx,Co.tail=Im,Co.take=Hx,Co.takeRight=pu,Co.takeRightWhile=Xu,Co.takeWhile=Vc,Co.tap=$v,Co.throttle=Wm,Co.thru=_g,Co.toArray=Bu,Co.toPairs=Fb,Co.toPairsIn=Zv,Co.toPath=el,Co.toPlainObject=od,Co.transform=R0,Co.unary=Ip,Co.union=lu,Co.unionBy=Nu,Co.unionWith=vd,Co.uniq=Fm,Co.uniqBy=yg,Co.uniqWith=Ov,Co.unset=C0,Co.unzip=cp,Co.unzipWith=vh,Co.update=K0,Co.updateWith=k0,Co.values=ov,Co.valuesIn=d0,Co.without=Bm,Co.words=I0,Co.wrap=Qx,Co.xor=vg,Co.xorBy=Wx,Co.xorWith=ff,Co.zip=bg,Co.zipObject=Gx,Co.zipObjectDeep=Zd,Co.zipWith=Lv,Co.entries=Fb,Co.entriesIn=Zv,Co.extend=mf,Co.extendWith=gf,hr(Co,Co),Co.add=al,Co.attempt=y0,Co.camelCase=Hb,Co.capitalize=A0,Co.ceil=wl,Co.clamp=Z0,Co.clone=Nb,Co.cloneDeep=Jx,Co.cloneDeepWith=Lb,Co.cloneWith=Ob,Co.conformsTo=c0,Co.deburr=lv,Co.defaultTo=Ub,Co.divide=hc,Co.endsWith=Q0,Co.eq=pf,Co.escape=T0,Co.escapeRegExp=P0,Co.every=Vx,Co.find=Qd,Co.findIndex=Fx,Co.findKey=b0,Co.findLast=kb,Co.findLastIndex=zy,Co.findLastKey=Kv,Co.floor=Lu,Co.forEach=zv,Co.forEachRight=hp,Co.forIn=Fp,Co.forInRight=_0,Co.forOwn=$b,Co.forOwnRight=jg,Co.get=rx,Co.gt=Ur,Co.gte=mr,Co.has=w0,Co.hasIn=u0,Co.head=Dv,Co.identity=yf,Co.includes=Ux,Co.indexOf=Hy,Co.inRange=Bb,Co.invoke=Y0,Co.isArguments=vr,Co.isArray=Er,Co.isArrayBuffer=Tr,Co.isArrayLike=Pr,Co.isArrayLikeObject=Nr,Co.isBoolean=$r,Co.isBuffer=zr,Co.isDate=qr,Co.isElement=Jr,Co.isEmpty=Kr,Co.isEqual=ro,Co.isEqualWith=fo,Co.isError=mo,Co.isFinite=bo,Co.isFunction=vo,Co.isInteger=yo,Co.isLength=To,Co.isMap=Wo,Co.isMatch=Uo,Co.isMatchWith=Yo,Co.isNaN=Bo,Co.isNative=pl,Co.isNil=ml,Co.isNull=xl,Co.isNumber=Ol,Co.isObject=Do,Co.isObjectLike=Lo,Co.isPlainObject=Xl,Co.isRegExp=Zl,Co.isSafeInteger=Ml,Co.isSet=Fl,Co.isString=Kl,Co.isSymbol=Bc,Co.isTypedArray=kc,Co.isUndefined=ad,Co.isWeakMap=gc,Co.isWeakSet=pc,Co.join=Sb,Co.kebabCase=D0,Co.last=dh,Co.lastIndexOf=Bx,Co.lowerCase=M0,Co.lowerFirst=f0,Co.lt=mu,Co.lte=zc,Co.max=sc,Co.maxBy=Qc,Co.mean=xu,Co.meanBy=$u,Co.min=cx,Co.minBy=s1,Co.stubArray=El,Co.stubFalse=cl,Co.stubObject=dl,Co.stubString=nc,Co.stubTrue=_c,Co.multiply=f1,Co.nth=$f,Co.noConflict=pr,Co.noop=br,Co.now=qx,Co.pad=N0,Co.padEnd=O0,Co.padStart=Wb,Co.parseInt=J0,Co.random=zb,Co.reduce=Xx,Co.reduceRight=Xy,Co.repeat=e1,Co.replace=p0,Co.result=j0,Co.round=p1,Co.runInContext=Zo,Co.sample=r0,Co.size=Mb,Co.snakeCase=m0,Co.some=nx,Co.sortedIndex=$m,Co.sortedIndexBy=am,Co.sortedIndexOf=jb,Co.sortedLastIndex=Rb,Co.sortedLastIndexBy=lp,Co.sortedLastIndexOf=Mv,Co.startCase=g0,Co.startsWith=L0,Co.subtract=m1,Co.sum=g1,Co.sumBy=x1,Co.template=x0,Co.times=sh,Co.toFinite=cu,Co.toInteger=$l,Co.toLength=rh,Co.toLower=sx,Co.toNumber=qu,Co.toSafeInteger=Gm,Co.toString=Yc,Co.toUpper=ax,Co.trim=ox,Co.trimEnd=Qv,Co.trimStart=Jv,Co.truncate=lx,Co.unescape=n1,Co.uniqueId=qo,Co.upperCase=$0,Co.upperFirst=ey,Co.each=zv,Co.eachRight=hp,Co.first=Dv,hr(Co,(function(){var wr={};return Eh(Co,function(Ar,Gr){su.call(Co.prototype,Gr)||(wr[Gr]=Ar)}),wr})(),{chain:!1}),Co.VERSION=nr,wh(["bind","bindKey","curry","curryRight","partial","partialRight"],function(wr){Co[wr].placeholder=Co}),wh(["drop","take"],function(wr,Ar){Cc.prototype[wr]=function(Gr){Gr=Gr===er?1:ho($l(Gr),0);var oo=this.__filtered__&&!Ar?new Cc(this):this.clone();return oo.__filtered__?oo.__takeCount__=Eo(Gr,oo.__takeCount__):oo.__views__.push({size:Eo(Gr,ao),type:wr+(oo.__dir__<0?"Right":"")}),oo},Cc.prototype[wr+"Right"]=function(Gr){return this.reverse()[wr](Gr).reverse()}}),wh(["filter","map","takeWhile"],function(wr,Ar){var Gr=Ar+1,oo=Gr==io||Gr==so;Cc.prototype[wr]=function(wo){var No=this.clone();return No.__iteratees__.push({iteratee:fc(wo,3),type:Gr}),No.__filtered__=No.__filtered__||oo,No}}),wh(["head","last"],function(wr,Ar){var Gr="take"+(Ar?"Right":"");Cc.prototype[wr]=function(){return this[Gr](1).value()[0]}}),wh(["initial","tail"],function(wr,Ar){var Gr="drop"+(Ar?"":"Right");Cc.prototype[wr]=function(){return this.__filtered__?new Cc(this):this[Gr](1)}}),Cc.prototype.compact=function(){return this.filter(yf)},Cc.prototype.find=function(wr){return this.filter(wr).head()},Cc.prototype.findLast=function(wr){return this.reverse().find(wr)},Cc.prototype.invokeMap=rc(function(wr,Ar){return typeof wr=="function"?new Cc(this):this.map(function(Gr){return hf(Gr,wr,Ar)})}),Cc.prototype.reject=function(wr){return this.filter(tv(fc(wr)))},Cc.prototype.slice=function(wr,Ar){wr=$l(wr);var Gr=this;return Gr.__filtered__&&(wr>0||Ar<0)?new Cc(Gr):(wr<0?Gr=Gr.takeRight(-wr):wr&&(Gr=Gr.drop(wr)),Ar!==er&&(Ar=$l(Ar),Gr=Ar<0?Gr.dropRight(-Ar):Gr.take(Ar-wr)),Gr)},Cc.prototype.takeRightWhile=function(wr){return this.reverse().takeWhile(wr).reverse()},Cc.prototype.toArray=function(){return this.take(ao)},Eh(Cc.prototype,function(wr,Ar){var Gr=/^(?:filter|find|map|reject)|While$/.test(Ar),oo=/^(?:head|last)$/.test(Ar),wo=Co[oo?"take"+(Ar=="last"?"Right":""):Ar],No=oo||/^find/.test(Ar);wo&&(Co.prototype[Ar]=function(){var Fo=this.__wrapped__,Xo=oo?[1]:arguments,tl=Fo instanceof Cc,Sl=Xo[0],jl=tl||Er(Fo),Al=function(yu){var Pu=wo.apply(Co,wf([yu],Xo));return oo&&Ul?Pu[0]:Pu};jl&&Gr&&typeof Sl=="function"&&Sl.length!=1&&(tl=jl=!1);var Ul=this.__chain__,lc=!!this.__actions__.length,Ac=No&&!Ul,uu=tl&&!lc;if(!No&&jl){Fo=uu?Fo:new Cc(this);var Tc=wr.apply(Fo,Xo);return Tc.__actions__.push({func:_g,args:[Al],thisArg:er}),new $h(Tc,Ul)}return Ac&&uu?wr.apply(this,Xo):(Tc=this.thru(Al),Ac?oo?Tc.value()[0]:Tc.value():Tc)})}),wh(["pop","push","shift","sort","splice","unshift"],function(wr){var Ar=vp[wr],Gr=/^(?:push|sort|unshift)$/.test(wr)?"tap":"thru",oo=/^(?:pop|shift)$/.test(wr);Co.prototype[wr]=function(){var wo=arguments;if(oo&&!this.__chain__){var No=this.value();return Ar.apply(Er(No)?No:[],wo)}return this[Gr](function(Fo){return Ar.apply(Er(Fo)?Fo:[],wo)})}}),Eh(Cc.prototype,function(wr,Ar){var Gr=Co[Ar];if(Gr){var oo=Gr.name+"";su.call(iu,oo)||(iu[oo]=[]),iu[oo].push({name:Ar,func:Gr})}}),iu[mg(er,Sr).name]=[{name:"wrapper",func:er}],Cc.prototype.clone=Dh,Cc.prototype.reverse=Sm,Cc.prototype.value=Yp,Co.prototype.at=Jg,Co.prototype.chain=up,Co.prototype.commit=Fh,Co.prototype.next=om,Co.prototype.plant=$p,Co.prototype.reverse=Iv,Co.prototype.toJSON=Co.prototype.valueOf=Co.prototype.value=Fv,Co.prototype.first=Co.prototype.head,Ph&&(Co.prototype[Ph]=ex),Co}),Bd=yp();Qh?((Qh.exports=Bd)._=Bd,Zh._=Bd):gh._=Bd}).call(lodash)})(lodash$1,lodash$1.exports)),lodash$1.exports}var lodashExports=requireLodash();const _$2=getDefaultExportFromCjs(lodashExports);Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const TIME_RANGES$1=[{label:"7 ngy",days:7,urlParam:"7"},{label:"30 ngy",days:30,urlParam:"30"},{label:"90 ngy",days:90,urlParam:"90"},{label:"1 nm",days:365,urlParam:"365"},{label:"Tt c",days:9999,urlParam:"all"}];function GoldChart({dataGoldTrust:tr,urlParams:Hn}){const er=useNavigate(),nr=useLocation(),rr=new URLSearchParams(nr.search).get("duration")||"7",sr=TIME_RANGES$1.find(Sr=>Sr.urlParam===rr)||TIME_RANGES$1[1],ar=Sr=>{const jr=new URLSearchParams(nr.search);jr.set("duration",Sr),er(`${nr.pathname}?${jr.toString()}`,{replace:!0})},{chartLabels:or,datasets:lr,rawFilteredData:cr}=reactExports.useMemo(()=>{if(!tr?.data?.dates)return{chartLabels:[],datasets:[],rawFilteredData:[]};let Sr=_$2.cloneDeep(tr.data.dates);Sr.sort((Vr,Zr)=>new Date(Vr.dt)-new Date(Zr.dt));const jr=Sr.map((Vr,Zr)=>{const Hr=Zr===0?Vr.amount:Sr[Zr-1].amount,Yr=Vr.change!==void 0?Vr.change:Vr.amount-Hr;return{...Vr,calculatedChange:Yr,displayHoldings:Vr.amount-Math.abs(Yr)*10}}),Dr=sr.days,Ir=Dr>=9999?jr:jr.slice(-Dr),Mr=Ir.map(Vr=>{const Zr=new Date(Vr.dt),Hr=String(Zr.getDate()).padStart(2,"0"),Yr=String(Zr.getMonth()+1).padStart(2,"0"),eo=Zr.getFullYear();return Dr<=30?`${Hr}/${Yr}`:`${Hr}/${Yr}/${eo}`}),Or=Ir.map(Vr=>Math.abs(Vr.calculatedChange)*10),Lr=Ir.map(Vr=>Vr.calculatedChange>=0?"#39CF96":"#E74C3C");Ir.map(Vr=>Vr.displayHoldings);const Fr=[{type:"line",label:"Mua / Bn (Line)",data:Ir.map(Vr=>Vr.calculatedChange),borderColor:"#39CF96",backgroundColor:"#39CF96",yAxisID:"y1",tension:.3,pointRadius:2},{type:"bar",label:"Thay i",data:Or,backgroundColor:Lr,yAxisID:"y2",stack:"stack1",barThickness:"flex",realValues:Ir.map(Vr=>Vr.calculatedChange)},{type:"bar",label:"SL nm gi",data:Ir.map(Vr=>Vr.amount-Math.abs(Vr.calculatedChange)*10),backgroundColor:"#FFF443",yAxisID:"y2",stack:"stack1",barThickness:"flex",realValues:Ir.map(Vr=>Vr.amount)}];return{chartLabels:Mr,datasets:Fr,rawFilteredData:Ir}},[tr,sr.days]),ur={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y1:{position:"left",title:{display:!0,text:"Mua / Bn (tn)",color:"white"},grid:{drawOnChartArea:!1}},y2:{position:"right",title:{display:!0,text:"Tng lng nm gi (tn)",color:"white"},grid:{drawOnChartArea:!1}}},plugins:{tooltip:{callbacks:{title:Sr=>{const jr=Sr[0].dataIndex,Dr=cr[jr]?.dt;return Dr?new Date(Dr).toLocaleDateString("vi-VN"):""},label:Sr=>{const jr=Sr.dataIndex,Dr=cr[jr],Ir=Sr.dataset.label;if(Ir==="SL nm gi"){const Mr=Dr.amount,Or=Dr.calculatedChange,Lr=Or>0?"+":"";return`SL nm gi: ${Mr} tn (${Lr}${Or.toFixed(2)})`}return Ir==="Thay i"?`Thay i: ${Math.abs(Dr.calculatedChange).toFixed(2)} tn`:Ir==="Mua / Bn (Line)"?`Mua bn: ${Dr.calculatedChange.toFixed(2)} tn`:`${Ir}: ${Sr.raw}`}}},zoom:{pan:{enabled:nr.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:nr.pathname.includes("quy-dau-tu")},pinch:{enabled:nr.pathname.includes("quy-dau-tu")},mode:"x"}}}};if(!tr)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti..."})]});const dr=(Sr,jr)=>jr==null||jr===0?null:(Sr-jr)/jr*100,fr=reactExports.useMemo(()=>{if(!cr||cr.length<2)return{};const Sr=Ir=>Ir?.amount??0,jr=Sr(cr[cr.length-1]),Dr=Ir=>{const Mr=cr.length-1-Ir;return Mr>=0?Sr(cr[Mr]):null};return{day1:dr(jr,Dr(1)),day2:dr(jr,Dr(2)),day3:dr(jr,Dr(3)),day4:dr(jr,Dr(4)),week1:dr(jr,Dr(7))}},[cr]),xr=reactExports.useMemo(()=>{if(!cr||cr.length===0)return null;const Sr=cr[cr.length-1];if(!Sr?.dt)return null;const jr=new Date(Sr.dt),Dr=String(jr.getDate()).padStart(2,"0"),Ir=String(jr.getMonth()+1).padStart(2,"0"),Mr=jr.getFullYear();return`${Dr}/${Ir}/${Mr}`},[cr]),yr=reactExports.useMemo(()=>!cr||cr.length===0?null:cr.reduce((jr,Dr)=>jr+(Dr?.amount??0),0)/cr.length,[cr]),_r=reactExports.useMemo(()=>{if(!cr||cr.length<2)return null;const Sr=cr[cr.length-1],jr=cr[cr.length-2];if(Sr?.amount==null||jr?.amount==null||Sr?.gold_price==null)return null;const Dr=Sr.amount-jr.amount,Ir=Math.abs(Dr)/31.1034768*1e6*Sr.gold_price;return{changeTon:Dr,isBuy:Dr>0,isZero:Dr===0,valueBillionUSD:Ir/1e9}},[cr]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{style:{fontSize:"1.8rem",fontWeight:700,color:"#ffd700",textAlign:"center",marginTop:"40px",cursor:"pointer"},onClick:()=>er(`/quy-dau-tu/${Hn.day}/${Hn.month}/${Hn.year}/${Hn.hour}/${Hn.minute}`),children:"Biu  SPDR Gold Trust"}),jsxRuntimeExports.jsx("div",{className:"gc-main-box",children:jsxRuntimeExports.jsxs("div",{className:"gc-split-layout",children:[jsxRuntimeExports.jsx("div",{className:"gc-left-panel",children:jsxRuntimeExports.jsxs("div",{className:"gc-toolbar",children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:"10px 0"},children:TIME_RANGES$1.map(Sr=>jsxRuntimeExports.jsx("button",{onClick:()=>ar(Sr.urlParam),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:sr.urlParam===Sr.urlParam?"#FFF443":"#494A50",color:sr.urlParam===Sr.urlParam?"#000":"#FFF",fontWeight:sr.urlParam===Sr.urlParam?"bold":"normal"},children:Sr.label},Sr.urlParam))}),jsxRuntimeExports.jsx("label",{className:"gc-label",children:"T l thay i:"}),Object.keys(fr).length>0&&jsxRuntimeExports.jsx("div",{className:"gc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"}].map(({key:Sr,label:jr})=>fr[Sr]!=null&&jsxRuntimeExports.jsxs("div",{className:`gc-percent-item ${fr[Sr]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",jr]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[fr[Sr]>=0?"+":"",fr[Sr].toFixed(2),"%"]})]},Sr))}),yr!=null&&jsxRuntimeExports.jsxs("div",{className:"gc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"gc-label2",children:"S lng nm gi trung bnh"}),jsxRuntimeExports.jsxs("div",{className:"gc-avg-value",children:[yr.toFixed(2)," ",jsxRuntimeExports.jsx("span",{children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"gc-avg-sub",children:["Trung bnh trong ",sr.label.toLowerCase()]})]}),xr&&jsxRuntimeExports.jsxs("div",{className:"gc-update-box",children:[jsxRuntimeExports.jsx("label",{className:"gc-label2",children:"D liu c cp nht ln cui:"}),jsxRuntimeExports.jsx("div",{className:"gc-update-item",children:xr})]}),_r&&jsxRuntimeExports.jsxs("div",{className:"gc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"gc-label2",children:_r.isBuy?"Mua rng trong 1 ngy":_r.isZero?"Khng c giao dch rng":"Bn rng trong 1 ngy"}),jsxRuntimeExports.jsx("div",{className:"gc-avg-value",style:{color:_r.isZero?"#B2B2B2":_r.isBuy?"#39CF96":"#E74C3C"},children:_r.isZero?"0 USD":`${_r.isBuy?"+":"-"}${_r.valueBillionUSD.toFixed(2)} T USD`}),jsxRuntimeExports.jsx("div",{className:"gc-avg-sub",children:"Tnh t thay i s lng & gi vng"})]})]})}),jsxRuntimeExports.jsx("div",{className:"gc-right-panel",children:jsxRuntimeExports.jsx("div",{style:{height:"520px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:{labels:or,datasets:lr},options:ur})})})]})})]})}function FaChartLine(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"},child:[]}]})(tr)}function FaRegComment(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"},child:[]}]})(tr)}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const TIME_RANGES=[{label:"7 ngy",days:7,urlParam:"7"},{label:"30 ngy",days:30,urlParam:"30"},{label:"90 ngy",days:90,urlParam:"90"},{label:"1 nm",days:365,urlParam:"365"},{label:"Tt c",days:9999,urlParam:"all"}],toMillion=(tr,Hn=2)=>tr==null||isNaN(tr)?0:(Number(tr)/1e6).toFixed(Hn),formatNumber=tr=>new Intl.NumberFormat("en-US").format(tr),btnStyle$3=tr=>({cursor:"pointer",padding:"8px",borderRadius:"6px",backgroundColor:"#f0f2f5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:`1px solid ${tr?"#007bff":"#ddd"}`,color:tr?"#007bff":"#666"});function SilverChart({dataSilverTrust:tr}){const Hn=useNavigate(),er=useLocation(),[nr,ir]=reactExports.useState("bar"),sr=new URLSearchParams(er.search).get("duration")||"7",ar=TIME_RANGES.find(Yr=>Yr.urlParam===sr)||TIME_RANGES[0],or=ar.days,{liveData:lr}=useRealTimeData(),cr=reactExports.useMemo(()=>{const Yr=getXagUsd(lr);return Yr?.sell??Yr?.buy??null},[lr]),{chartLabels:ur,chartDataValues:dr,chartColors:fr,rawDataFiltered:xr}=reactExports.useMemo(()=>{if(!tr?.data?.dates)return{chartLabels:[],chartDataValues:{},chartColors:[],rawDataFiltered:[]};let Yr=_$2.cloneDeep(tr.data.dates);Yr.sort((xo,_o)=>new Date(xo.dt)-new Date(_o.dt));const eo=or>=9999?Yr:Yr.slice(-or),io=[],uo=[],so=[],no=[],po=[],co=[],lo=[],ao=[];return eo.forEach((xo,_o)=>{const Po=new Date(xo.dt),Oo=String(Po.getDate()).padStart(2,"0"),So=String(Po.getMonth()+1).padStart(2,"0"),Ao=Po.getFullYear();io.push(or<=30?`${Oo}/${So}`:`${Oo}/${So}/${Ao}`);const zo=xo?.amount||0,Ro=xo?.change||0,Go=xo?.rsi||po[_o-1];uo.push(zo),so.push(Ro),po.push(Go),no.push(toMillion(xo?.total_value_usd)),lo.push(xo?.silver_price??lo[_o-1]??null),ao.push(xo?.chiso_sucmanh||ao[_o-1]),Ro>0?co.push("#32CD32"):Ro<0?co.push("#FF4444"):co.push("#B2B2B2")}),{chartLabels:io,chartDataValues:{holding:uo,changeVal:so,totalVal:no,rsiVal:po,priceSilver:lo,powerIndex:ao},chartColors:co,rawDataFiltered:eo}},[tr,or]),yr=Yr=>{const eo=new URLSearchParams(er.search);eo.set("duration",Yr),Hn(`${er.pathname}?${eo.toString()}`,{replace:!0})},_r={labels:ur,datasets:[{type:"line",label:"Thay i",data:dr.changeVal,borderColor:"#ef0808",backgroundColor:"#ef0808",yAxisID:"y2",tension:.3,pointRadius:2,order:1},{type:"bar",label:"SL nm gi",data:dr.holding,backgroundColor:"#B2B2B2",yAxisID:"y1",barThickness:"flex",order:3},{type:"line",label:"Gi bc",data:dr.priceSilver,borderColor:"#0c08ef",backgroundColor:"#0c08ef",yAxisID:"y2",tension:.3,pointRadius:2,order:2}]},Sr={labels:ur,datasets:[{type:"line",label:"Tng gi tr ($M)",data:dr.totalVal,borderColor:"#4A8BC2",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!0,backgroundColor:Yr=>{const io=Yr.chart.ctx.createLinearGradient(0,0,0,300);return io.addColorStop(0,"rgba(74, 139, 194, 0.3)"),io.addColorStop(1,"rgba(74, 139, 194, 0)"),io}}]},jr={labels:ur,datasets:[{type:"line",label:"Thay i (Tn)",data:dr.changeVal,borderColor:"#FF4444",backgroundColor:"#FF4444",yAxisID:"yRight",tension:.3,pointRadius:2,borderDash:[5,5]}]},Dr={labels:ur,datasets:[{type:"line",label:"S lng nm gi (tn)",data:dr.holding,borderColor:"#1ecdf4",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!0,backgroundColor:Yr=>{const io=Yr.chart.ctx.createLinearGradient(0,0,0,300);return io.addColorStop(0,"rgba(14, 209, 253, 0.3)"),io.addColorStop(1,"rgba(75, 135, 154, 0)"),io}}]},Ir={labels:ur,datasets:[{type:"line",label:"Ch s RSI",data:dr.rsiVal,borderColor:"#b80081",yAxisID:"yRight",tension:.3,pointRadius:2},{type:"line",label:"Ch s sc mnh",data:dr.powerIndex,borderColor:"#ef7605",yAxisID:"yLeft",tension:.3,pointRadius:2}]},Mr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"gray"},grid:{display:!1},stacked:!0},y1:{position:"left",title:{display:!0,text:"SL nm gi (tn)",color:"#fff"},grid:{drawOnChartArea:!1}},y2:{position:"right",title:{display:!0,text:"Thay i(tn) / Gi bc(USD)",color:"#fff"},grid:{color:"#333"}}},plugins:{legend:{labels:{color:"#fff"}},zoom:{pan:{enabled:er.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:er.pathname.includes("quy-dau-tu")},pinch:{enabled:er.pathname.includes("quy-dau-tu")},mode:"x"}}}},Or=(Yr,eo,io="left")=>({responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"gray"},grid:{display:!1}},[eo]:{position:io,title:{display:!0,text:Yr,color:"#fff"},grid:{color:"#333"}}},plugins:{legend:{labels:{color:"#fff"}},tooltip:{callbacks:{label:uo=>`${uo.dataset.label}: ${formatNumber(uo.parsed.y)}`}},zoom:{pan:{enabled:er.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:er.pathname.includes("quy-dau-tu")},pinch:{enabled:er.pathname.includes("quy-dau-tu")},mode:"x"}}}});if(!tr)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti..."})]});const Lr=(Yr,eo)=>eo==null||eo===0?null:(Yr-eo)/eo*100,Fr=reactExports.useMemo(()=>{if(!xr||xr.length<2)return{};const Yr=uo=>uo?.amount??0,eo=Yr(xr[xr.length-1]),io=uo=>{const so=xr.length-1-uo;return so>=0?Yr(xr[so]):null};return{day1:Lr(eo,io(1)),day2:Lr(eo,io(2)),day3:Lr(eo,io(3)),day4:Lr(eo,io(4)),week1:Lr(eo,io(7))}},[xr]),Vr=reactExports.useMemo(()=>{if(!xr||xr.length===0)return null;const Yr=xr[xr.length-1];if(!Yr?.dt)return null;const eo=new Date(Yr.dt),io=String(eo.getDate()).padStart(2,"0"),uo=String(eo.getMonth()+1).padStart(2,"0"),so=eo.getFullYear();return`${io}/${uo}/${so}`},[xr]),Zr=reactExports.useMemo(()=>!xr||xr.length===0?null:xr.reduce((eo,io)=>eo+(io?.amount??0),0)/xr.length,[xr]),Hr=reactExports.useMemo(()=>{if(!xr||xr.length===0||!cr)return null;const Yr=xr.length-1,eo=dr.changeVal[Yr];if(eo==null)return null;const io=Math.abs(eo)*1e6/31.1034768*cr;return{isBuy:eo>0,isZero:eo===0,valueBillionUSD:io/1e9}},[xr,dr,cr]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:{margin:"40px 0 10px",position:"relative"},children:[jsxRuntimeExports.jsx("h4",{style:{fontSize:"1.8rem",fontWeight:700,color:"#B2B2B2",textAlign:"center"},children:"Biu  iShares Silver Trust"}),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",right:"35px",top:"20%",display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("span",{style:btnStyle$3(nr==="bar"),onClick:()=>ir("bar"),children:jsxRuntimeExports.jsx(FaChartBar,{size:"1.25rem"})}),jsxRuntimeExports.jsx("span",{style:btnStyle$3(nr==="line"),onClick:()=>ir("line"),children:jsxRuntimeExports.jsx(FaChartLine,{size:"1.25rem"})}),jsxRuntimeExports.jsx("span",{style:btnStyle$3(nr==="table"),onClick:()=>ir("table"),children:jsxRuntimeExports.jsx(MdOutlineTableChart,{size:"1.25rem"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"sc-main-box",children:[jsxRuntimeExports.jsxs("div",{className:"sc-split-layout",children:[jsxRuntimeExports.jsx("div",{className:"sc-left-panel",children:jsxRuntimeExports.jsxs("div",{className:"sc-toolbar",children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:"10px 0"},children:TIME_RANGES.map(Yr=>jsxRuntimeExports.jsx("button",{onClick:()=>yr(Yr.urlParam),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:ar.urlParam===Yr.urlParam?"#FFF443":"#494A50",color:ar.urlParam===Yr.urlParam?"#000":"#FFF",fontWeight:ar.urlParam===Yr.urlParam?"bold":"normal"},children:Yr.label},Yr.urlParam))}),jsxRuntimeExports.jsx("label",{className:"sc-label",children:"T l thay i:"}),Object.keys(Fr).length>0&&jsxRuntimeExports.jsx("div",{className:"sc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"}].map(({key:Yr,label:eo})=>Fr[Yr]!=null&&jsxRuntimeExports.jsxs("div",{className:`sc-percent-item ${Fr[Yr]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",eo]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[Fr[Yr]>=0?"+":"",Fr[Yr].toFixed(2),"%"]})]},Yr))}),Zr!=null&&jsxRuntimeExports.jsxs("div",{className:"sc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"sc-label2",children:"S lng nm gi trung bnh"}),jsxRuntimeExports.jsxs("div",{className:"sc-avg-value",children:[formatNumber(Zr.toFixed(2))," ",jsxRuntimeExports.jsx("span",{children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"sc-avg-sub",children:["Trung bnh trong ",ar.label.toLowerCase()]})]}),Vr&&jsxRuntimeExports.jsxs("div",{className:"sc-update-box",children:[jsxRuntimeExports.jsx("label",{className:"sc-label2",children:"D liu c cp nht ln cui:"}),jsxRuntimeExports.jsx("div",{className:"sc-update-item",children:Vr})]}),Hr&&jsxRuntimeExports.jsxs("div",{className:"sc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"sc-label2",children:Hr.isZero?"Khng c giao dch rng":Hr.isBuy?"Mua rng trong 1 ngy":"Bn rng trong 1 ngy"}),jsxRuntimeExports.jsx("div",{className:"sc-avg-value",style:{color:Hr.isZero?"#B2B2B2":Hr.isBuy?"#32CD32":"#FF4444"},children:Hr.isZero?"0 USD":`${Hr.isBuy?"+":"-"}${Hr.valueBillionUSD.toFixed(2)} T USD`}),jsxRuntimeExports.jsx("div",{className:"sc-avg-sub",children:"Tnh theo thay i s lng & gi bc"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"sc-right-panel",children:[nr==="bar"&&jsxRuntimeExports.jsx("div",{style:{height:"500px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:_r,options:Mr})}),nr==="line"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:Dr,options:Or("S lng nm gi","yRight","right")})}),jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:Sr,options:Or("Tng gi tr ($M)","yRight","right")})}),jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:jr,options:Or("Thay i","yRight","right")})})]}),nr==="table"&&jsxRuntimeExports.jsx("div",{style:{height:"100%",overflowX:"auto",color:"#fff"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"right",minWidth:"500px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #555",color:"#ccc"},children:[jsxRuntimeExports.jsx("th",{style:{padding:"10px",textAlign:"left"},children:"Ngy"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px"},children:"S lng (Tn)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px"},children:"Thay i"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px"},children:"Gi tr ($M)"})]})}),jsxRuntimeExports.jsx("tbody",{children:[...xr].reverse().map((Yr,eo)=>{const io=xr.length-1-eo,uo=dr.changeVal[io],so=uo>0?"#32CD32":uo<0?"#FF4444":"#ccc";return jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #333",backgroundColor:eo%2===0?"transparent":"rgba(255,255,255,0.03)"},children:[jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"left"},children:ur[io]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px"},children:formatNumber(Yr.amount)}),jsxRuntimeExports.jsxs("td",{style:{padding:"10px",color:so},children:[uo>0?"+":"",formatNumber(uo)]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px"},children:dr.totalVal[io]})]},eo)})})]})})]})]}),jsxRuntimeExports.jsx("div",{style:{height:"300px",marginBottom:"30px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:Ir,options:Or("RSI","yRight","right")})})]})]})}const getProxyUrl=tr=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?tr.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):tr,API_ENDPOINT$1=getProxyUrl("https://api_gold.thinkdiff.us/phantich_fear"),fetchFearIndex=async()=>{try{const tr=await fetch(API_ENDPOINT$1);if(!tr.ok)throw new Error(`HTTP error! status: ${tr.status}`);const Hn=await tr.json();if(Hn.status==="success"&&Hn.chi_so_noi_so)return[...Hn.chi_so_noi_so].sort((nr,ir)=>new Date(nr.id_time)-new Date(ir.id_time));throw new Error("Invalid data structure")}catch(tr){throw console.error("Error fetching fear index:",tr),tr}},filterByDays=(tr,Hn)=>!tr||tr.length===0?[]:tr.slice(-Hn),min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=tr=>({x:tr,y:tr}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(tr,Hn,er){return max(tr,min(Hn,er))}function evaluate(tr,Hn){return typeof tr=="function"?tr(Hn):tr}function getSide(tr){return tr.split("-")[0]}function getAlignment(tr){return tr.split("-")[1]}function getOppositeAxis(tr){return tr==="x"?"y":"x"}function getAxisLength(tr){return tr==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(tr){return yAxisSides.has(getSide(tr))?"y":"x"}function getAlignmentAxis(tr){return getOppositeAxis(getSideAxis(tr))}function getAlignmentSides(tr,Hn,er){er===void 0&&(er=!1);const nr=getAlignment(tr),ir=getAlignmentAxis(tr),rr=getAxisLength(ir);let sr=ir==="x"?nr===(er?"end":"start")?"right":"left":nr==="start"?"bottom":"top";return Hn.reference[rr]>Hn.floating[rr]&&(sr=getOppositePlacement(sr)),[sr,getOppositePlacement(sr)]}function getExpandedPlacements(tr){const Hn=getOppositePlacement(tr);return[getOppositeAlignmentPlacement(tr),Hn,getOppositeAlignmentPlacement(Hn)]}function getOppositeAlignmentPlacement(tr){return tr.replace(/start|end/g,Hn=>oppositeAlignmentMap[Hn])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(tr,Hn,er){switch(tr){case"top":case"bottom":return er?Hn?rlPlacement:lrPlacement:Hn?lrPlacement:rlPlacement;case"left":case"right":return Hn?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(tr,Hn,er,nr){const ir=getAlignment(tr);let rr=getSideList(getSide(tr),er==="start",nr);return ir&&(rr=rr.map(sr=>sr+"-"+ir),Hn&&(rr=rr.concat(rr.map(getOppositeAlignmentPlacement)))),rr}function getOppositePlacement(tr){return tr.replace(/left|right|bottom|top/g,Hn=>oppositeSideMap[Hn])}function expandPaddingObject(tr){return{top:0,right:0,bottom:0,left:0,...tr}}function getPaddingObject(tr){return typeof tr!="number"?expandPaddingObject(tr):{top:tr,right:tr,bottom:tr,left:tr}}function rectToClientRect(tr){const{x:Hn,y:er,width:nr,height:ir}=tr;return{width:nr,height:ir,top:er,left:Hn,right:Hn+nr,bottom:er+ir,x:Hn,y:er}}function computeCoordsFromPlacement(tr,Hn,er){let{reference:nr,floating:ir}=tr;const rr=getSideAxis(Hn),sr=getAlignmentAxis(Hn),ar=getAxisLength(sr),or=getSide(Hn),lr=rr==="y",cr=nr.x+nr.width/2-ir.width/2,ur=nr.y+nr.height/2-ir.height/2,dr=nr[ar]/2-ir[ar]/2;let fr;switch(or){case"top":fr={x:cr,y:nr.y-ir.height};break;case"bottom":fr={x:cr,y:nr.y+nr.height};break;case"right":fr={x:nr.x+nr.width,y:ur};break;case"left":fr={x:nr.x-ir.width,y:ur};break;default:fr={x:nr.x,y:nr.y}}switch(getAlignment(Hn)){case"start":fr[sr]-=dr*(er&&lr?-1:1);break;case"end":fr[sr]+=dr*(er&&lr?-1:1);break}return fr}const computePosition$1=async(tr,Hn,er)=>{const{placement:nr="bottom",strategy:ir="absolute",middleware:rr=[],platform:sr}=er,ar=rr.filter(Boolean),or=await(sr.isRTL==null?void 0:sr.isRTL(Hn));let lr=await sr.getElementRects({reference:tr,floating:Hn,strategy:ir}),{x:cr,y:ur}=computeCoordsFromPlacement(lr,nr,or),dr=nr,fr={},xr=0;for(let yr=0;yr<ar.length;yr++){const{name:_r,fn:Sr}=ar[yr],{x:jr,y:Dr,data:Ir,reset:Mr}=await Sr({x:cr,y:ur,initialPlacement:nr,placement:dr,strategy:ir,middlewareData:fr,rects:lr,platform:sr,elements:{reference:tr,floating:Hn}});cr=jr??cr,ur=Dr??ur,fr={...fr,[_r]:{...fr[_r],...Ir}},Mr&&xr<=50&&(xr++,typeof Mr=="object"&&(Mr.placement&&(dr=Mr.placement),Mr.rects&&(lr=Mr.rects===!0?await sr.getElementRects({reference:tr,floating:Hn,strategy:ir}):Mr.rects),{x:cr,y:ur}=computeCoordsFromPlacement(lr,dr,or)),yr=-1)}return{x:cr,y:ur,placement:dr,strategy:ir,middlewareData:fr}};async function detectOverflow(tr,Hn){var er;Hn===void 0&&(Hn={});const{x:nr,y:ir,platform:rr,rects:sr,elements:ar,strategy:or}=tr,{boundary:lr="clippingAncestors",rootBoundary:cr="viewport",elementContext:ur="floating",altBoundary:dr=!1,padding:fr=0}=evaluate(Hn,tr),xr=getPaddingObject(fr),_r=ar[dr?ur==="floating"?"reference":"floating":ur],Sr=rectToClientRect(await rr.getClippingRect({element:(er=await(rr.isElement==null?void 0:rr.isElement(_r)))==null||er?_r:_r.contextElement||await(rr.getDocumentElement==null?void 0:rr.getDocumentElement(ar.floating)),boundary:lr,rootBoundary:cr,strategy:or})),jr=ur==="floating"?{x:nr,y:ir,width:sr.floating.width,height:sr.floating.height}:sr.reference,Dr=await(rr.getOffsetParent==null?void 0:rr.getOffsetParent(ar.floating)),Ir=await(rr.isElement==null?void 0:rr.isElement(Dr))?await(rr.getScale==null?void 0:rr.getScale(Dr))||{x:1,y:1}:{x:1,y:1},Mr=rectToClientRect(rr.convertOffsetParentRelativeRectToViewportRelativeRect?await rr.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ar,rect:jr,offsetParent:Dr,strategy:or}):jr);return{top:(Sr.top-Mr.top+xr.top)/Ir.y,bottom:(Mr.bottom-Sr.bottom+xr.bottom)/Ir.y,left:(Sr.left-Mr.left+xr.left)/Ir.x,right:(Mr.right-Sr.right+xr.right)/Ir.x}}const arrow$1=tr=>({name:"arrow",options:tr,async fn(Hn){const{x:er,y:nr,placement:ir,rects:rr,platform:sr,elements:ar,middlewareData:or}=Hn,{element:lr,padding:cr=0}=evaluate(tr,Hn)||{};if(lr==null)return{};const ur=getPaddingObject(cr),dr={x:er,y:nr},fr=getAlignmentAxis(ir),xr=getAxisLength(fr),yr=await sr.getDimensions(lr),_r=fr==="y",Sr=_r?"top":"left",jr=_r?"bottom":"right",Dr=_r?"clientHeight":"clientWidth",Ir=rr.reference[xr]+rr.reference[fr]-dr[fr]-rr.floating[xr],Mr=dr[fr]-rr.reference[fr],Or=await(sr.getOffsetParent==null?void 0:sr.getOffsetParent(lr));let Lr=Or?Or[Dr]:0;(!Lr||!await(sr.isElement==null?void 0:sr.isElement(Or)))&&(Lr=ar.floating[Dr]||rr.floating[xr]);const Fr=Ir/2-Mr/2,Vr=Lr/2-yr[xr]/2-1,Zr=min(ur[Sr],Vr),Hr=min(ur[jr],Vr),Yr=Zr,eo=Lr-yr[xr]-Hr,io=Lr/2-yr[xr]/2+Fr,uo=clamp$1(Yr,io,eo),so=!or.arrow&&getAlignment(ir)!=null&&io!==uo&&rr.reference[xr]/2-(io<Yr?Zr:Hr)-yr[xr]/2<0,no=so?io<Yr?io-Yr:io-eo:0;return{[fr]:dr[fr]+no,data:{[fr]:uo,centerOffset:io-uo-no,...so&&{alignmentOffset:no}},reset:so}}}),flip$1=function(tr){return tr===void 0&&(tr={}),{name:"flip",options:tr,async fn(Hn){var er,nr;const{placement:ir,middlewareData:rr,rects:sr,initialPlacement:ar,platform:or,elements:lr}=Hn,{mainAxis:cr=!0,crossAxis:ur=!0,fallbackPlacements:dr,fallbackStrategy:fr="bestFit",fallbackAxisSideDirection:xr="none",flipAlignment:yr=!0,..._r}=evaluate(tr,Hn);if((er=rr.arrow)!=null&&er.alignmentOffset)return{};const Sr=getSide(ir),jr=getSideAxis(ar),Dr=getSide(ar)===ar,Ir=await(or.isRTL==null?void 0:or.isRTL(lr.floating)),Mr=dr||(Dr||!yr?[getOppositePlacement(ar)]:getExpandedPlacements(ar)),Or=xr!=="none";!dr&&Or&&Mr.push(...getOppositeAxisPlacements(ar,yr,xr,Ir));const Lr=[ar,...Mr],Fr=await detectOverflow(Hn,_r),Vr=[];let Zr=((nr=rr.flip)==null?void 0:nr.overflows)||[];if(cr&&Vr.push(Fr[Sr]),ur){const io=getAlignmentSides(ir,sr,Ir);Vr.push(Fr[io[0]],Fr[io[1]])}if(Zr=[...Zr,{placement:ir,overflows:Vr}],!Vr.every(io=>io<=0)){var Hr,Yr;const io=(((Hr=rr.flip)==null?void 0:Hr.index)||0)+1,uo=Lr[io];if(uo&&(!(ur==="alignment"?jr!==getSideAxis(uo):!1)||Zr.every(po=>getSideAxis(po.placement)===jr?po.overflows[0]>0:!0)))return{data:{index:io,overflows:Zr},reset:{placement:uo}};let so=(Yr=Zr.filter(no=>no.overflows[0]<=0).sort((no,po)=>no.overflows[1]-po.overflows[1])[0])==null?void 0:Yr.placement;if(!so)switch(fr){case"bestFit":{var eo;const no=(eo=Zr.filter(po=>{if(Or){const co=getSideAxis(po.placement);return co===jr||co==="y"}return!0}).map(po=>[po.placement,po.overflows.filter(co=>co>0).reduce((co,lo)=>co+lo,0)]).sort((po,co)=>po[1]-co[1])[0])==null?void 0:eo[0];no&&(so=no);break}case"initialPlacement":so=ar;break}if(ir!==so)return{reset:{placement:so}}}return{}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(tr,Hn){const{placement:er,platform:nr,elements:ir}=tr,rr=await(nr.isRTL==null?void 0:nr.isRTL(ir.floating)),sr=getSide(er),ar=getAlignment(er),or=getSideAxis(er)==="y",lr=originSides.has(sr)?-1:1,cr=rr&&or?-1:1,ur=evaluate(Hn,tr);let{mainAxis:dr,crossAxis:fr,alignmentAxis:xr}=typeof ur=="number"?{mainAxis:ur,crossAxis:0,alignmentAxis:null}:{mainAxis:ur.mainAxis||0,crossAxis:ur.crossAxis||0,alignmentAxis:ur.alignmentAxis};return ar&&typeof xr=="number"&&(fr=ar==="end"?xr*-1:xr),or?{x:fr*cr,y:dr*lr}:{x:dr*lr,y:fr*cr}}const offset$1=function(tr){return tr===void 0&&(tr=0),{name:"offset",options:tr,async fn(Hn){var er,nr;const{x:ir,y:rr,placement:sr,middlewareData:ar}=Hn,or=await convertValueToCoords(Hn,tr);return sr===((er=ar.offset)==null?void 0:er.placement)&&(nr=ar.arrow)!=null&&nr.alignmentOffset?{}:{x:ir+or.x,y:rr+or.y,data:{...or,placement:sr}}}}},shift$1=function(tr){return tr===void 0&&(tr={}),{name:"shift",options:tr,async fn(Hn){const{x:er,y:nr,placement:ir}=Hn,{mainAxis:rr=!0,crossAxis:sr=!1,limiter:ar={fn:_r=>{let{x:Sr,y:jr}=_r;return{x:Sr,y:jr}}},...or}=evaluate(tr,Hn),lr={x:er,y:nr},cr=await detectOverflow(Hn,or),ur=getSideAxis(getSide(ir)),dr=getOppositeAxis(ur);let fr=lr[dr],xr=lr[ur];if(rr){const _r=dr==="y"?"top":"left",Sr=dr==="y"?"bottom":"right",jr=fr+cr[_r],Dr=fr-cr[Sr];fr=clamp$1(jr,fr,Dr)}if(sr){const _r=ur==="y"?"top":"left",Sr=ur==="y"?"bottom":"right",jr=xr+cr[_r],Dr=xr-cr[Sr];xr=clamp$1(jr,xr,Dr)}const yr=ar.fn({...Hn,[dr]:fr,[ur]:xr});return{...yr,data:{x:yr.x-er,y:yr.y-nr,enabled:{[dr]:rr,[ur]:sr}}}}}};function hasWindow(){return typeof window<"u"}function getNodeName(tr){return isNode(tr)?(tr.nodeName||"").toLowerCase():"#document"}function getWindow(tr){var Hn;return(tr==null||(Hn=tr.ownerDocument)==null?void 0:Hn.defaultView)||window}function getDocumentElement(tr){var Hn;return(Hn=(isNode(tr)?tr.ownerDocument:tr.document)||window.document)==null?void 0:Hn.documentElement}function isNode(tr){return hasWindow()?tr instanceof Node||tr instanceof getWindow(tr).Node:!1}function isElement(tr){return hasWindow()?tr instanceof Element||tr instanceof getWindow(tr).Element:!1}function isHTMLElement(tr){return hasWindow()?tr instanceof HTMLElement||tr instanceof getWindow(tr).HTMLElement:!1}function isShadowRoot(tr){return!hasWindow()||typeof ShadowRoot>"u"?!1:tr instanceof ShadowRoot||tr instanceof getWindow(tr).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(tr){const{overflow:Hn,overflowX:er,overflowY:nr,display:ir}=getComputedStyle$1(tr);return/auto|scroll|overlay|hidden|clip/.test(Hn+nr+er)&&!invalidOverflowDisplayValues.has(ir)}const tableElements=new Set(["table","td","th"]);function isTableElement(tr){return tableElements.has(getNodeName(tr))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(tr){return topLayerSelectors.some(Hn=>{try{return tr.matches(Hn)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(tr){const Hn=isWebKit(),er=isElement(tr)?getComputedStyle$1(tr):tr;return transformProperties.some(nr=>er[nr]?er[nr]!=="none":!1)||(er.containerType?er.containerType!=="normal":!1)||!Hn&&(er.backdropFilter?er.backdropFilter!=="none":!1)||!Hn&&(er.filter?er.filter!=="none":!1)||willChangeValues.some(nr=>(er.willChange||"").includes(nr))||containValues.some(nr=>(er.contain||"").includes(nr))}function getContainingBlock(tr){let Hn=getParentNode(tr);for(;isHTMLElement(Hn)&&!isLastTraversableNode(Hn);){if(isContainingBlock(Hn))return Hn;if(isTopLayer(Hn))return null;Hn=getParentNode(Hn)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(tr){return lastTraversableNodeNames.has(getNodeName(tr))}function getComputedStyle$1(tr){return getWindow(tr).getComputedStyle(tr)}function getNodeScroll(tr){return isElement(tr)?{scrollLeft:tr.scrollLeft,scrollTop:tr.scrollTop}:{scrollLeft:tr.scrollX,scrollTop:tr.scrollY}}function getParentNode(tr){if(getNodeName(tr)==="html")return tr;const Hn=tr.assignedSlot||tr.parentNode||isShadowRoot(tr)&&tr.host||getDocumentElement(tr);return isShadowRoot(Hn)?Hn.host:Hn}function getNearestOverflowAncestor(tr){const Hn=getParentNode(tr);return isLastTraversableNode(Hn)?tr.ownerDocument?tr.ownerDocument.body:tr.body:isHTMLElement(Hn)&&isOverflowElement(Hn)?Hn:getNearestOverflowAncestor(Hn)}function getOverflowAncestors(tr,Hn,er){var nr;Hn===void 0&&(Hn=[]),er===void 0&&(er=!0);const ir=getNearestOverflowAncestor(tr),rr=ir===((nr=tr.ownerDocument)==null?void 0:nr.body),sr=getWindow(ir);if(rr){const ar=getFrameElement(sr);return Hn.concat(sr,sr.visualViewport||[],isOverflowElement(ir)?ir:[],ar&&er?getOverflowAncestors(ar):[])}return Hn.concat(ir,getOverflowAncestors(ir,[],er))}function getFrameElement(tr){return tr.parent&&Object.getPrototypeOf(tr.parent)?tr.frameElement:null}function getCssDimensions(tr){const Hn=getComputedStyle$1(tr);let er=parseFloat(Hn.width)||0,nr=parseFloat(Hn.height)||0;const ir=isHTMLElement(tr),rr=ir?tr.offsetWidth:er,sr=ir?tr.offsetHeight:nr,ar=round(er)!==rr||round(nr)!==sr;return ar&&(er=rr,nr=sr),{width:er,height:nr,$:ar}}function unwrapElement(tr){return isElement(tr)?tr:tr.contextElement}function getScale(tr){const Hn=unwrapElement(tr);if(!isHTMLElement(Hn))return createCoords(1);const er=Hn.getBoundingClientRect(),{width:nr,height:ir,$:rr}=getCssDimensions(Hn);let sr=(rr?round(er.width):er.width)/nr,ar=(rr?round(er.height):er.height)/ir;return(!sr||!Number.isFinite(sr))&&(sr=1),(!ar||!Number.isFinite(ar))&&(ar=1),{x:sr,y:ar}}const noOffsets=createCoords(0);function getVisualOffsets(tr){const Hn=getWindow(tr);return!isWebKit()||!Hn.visualViewport?noOffsets:{x:Hn.visualViewport.offsetLeft,y:Hn.visualViewport.offsetTop}}function shouldAddVisualOffsets(tr,Hn,er){return Hn===void 0&&(Hn=!1),!er||Hn&&er!==getWindow(tr)?!1:Hn}function getBoundingClientRect(tr,Hn,er,nr){Hn===void 0&&(Hn=!1),er===void 0&&(er=!1);const ir=tr.getBoundingClientRect(),rr=unwrapElement(tr);let sr=createCoords(1);Hn&&(nr?isElement(nr)&&(sr=getScale(nr)):sr=getScale(tr));const ar=shouldAddVisualOffsets(rr,er,nr)?getVisualOffsets(rr):createCoords(0);let or=(ir.left+ar.x)/sr.x,lr=(ir.top+ar.y)/sr.y,cr=ir.width/sr.x,ur=ir.height/sr.y;if(rr){const dr=getWindow(rr),fr=nr&&isElement(nr)?getWindow(nr):nr;let xr=dr,yr=getFrameElement(xr);for(;yr&&nr&&fr!==xr;){const _r=getScale(yr),Sr=yr.getBoundingClientRect(),jr=getComputedStyle$1(yr),Dr=Sr.left+(yr.clientLeft+parseFloat(jr.paddingLeft))*_r.x,Ir=Sr.top+(yr.clientTop+parseFloat(jr.paddingTop))*_r.y;or*=_r.x,lr*=_r.y,cr*=_r.x,ur*=_r.y,or+=Dr,lr+=Ir,xr=getWindow(yr),yr=getFrameElement(xr)}}return rectToClientRect({width:cr,height:ur,x:or,y:lr})}function getWindowScrollBarX(tr,Hn){const er=getNodeScroll(tr).scrollLeft;return Hn?Hn.left+er:getBoundingClientRect(getDocumentElement(tr)).left+er}function getHTMLOffset(tr,Hn){const er=tr.getBoundingClientRect(),nr=er.left+Hn.scrollLeft-getWindowScrollBarX(tr,er),ir=er.top+Hn.scrollTop;return{x:nr,y:ir}}function convertOffsetParentRelativeRectToViewportRelativeRect(tr){let{elements:Hn,rect:er,offsetParent:nr,strategy:ir}=tr;const rr=ir==="fixed",sr=getDocumentElement(nr),ar=Hn?isTopLayer(Hn.floating):!1;if(nr===sr||ar&&rr)return er;let or={scrollLeft:0,scrollTop:0},lr=createCoords(1);const cr=createCoords(0),ur=isHTMLElement(nr);if((ur||!ur&&!rr)&&((getNodeName(nr)!=="body"||isOverflowElement(sr))&&(or=getNodeScroll(nr)),isHTMLElement(nr))){const fr=getBoundingClientRect(nr);lr=getScale(nr),cr.x=fr.x+nr.clientLeft,cr.y=fr.y+nr.clientTop}const dr=sr&&!ur&&!rr?getHTMLOffset(sr,or):createCoords(0);return{width:er.width*lr.x,height:er.height*lr.y,x:er.x*lr.x-or.scrollLeft*lr.x+cr.x+dr.x,y:er.y*lr.y-or.scrollTop*lr.y+cr.y+dr.y}}function getClientRects(tr){return Array.from(tr.getClientRects())}function getDocumentRect(tr){const Hn=getDocumentElement(tr),er=getNodeScroll(tr),nr=tr.ownerDocument.body,ir=max(Hn.scrollWidth,Hn.clientWidth,nr.scrollWidth,nr.clientWidth),rr=max(Hn.scrollHeight,Hn.clientHeight,nr.scrollHeight,nr.clientHeight);let sr=-er.scrollLeft+getWindowScrollBarX(tr);const ar=-er.scrollTop;return getComputedStyle$1(nr).direction==="rtl"&&(sr+=max(Hn.clientWidth,nr.clientWidth)-ir),{width:ir,height:rr,x:sr,y:ar}}const SCROLLBAR_MAX=25;function getViewportRect(tr,Hn){const er=getWindow(tr),nr=getDocumentElement(tr),ir=er.visualViewport;let rr=nr.clientWidth,sr=nr.clientHeight,ar=0,or=0;if(ir){rr=ir.width,sr=ir.height;const cr=isWebKit();(!cr||cr&&Hn==="fixed")&&(ar=ir.offsetLeft,or=ir.offsetTop)}const lr=getWindowScrollBarX(nr);if(lr<=0){const cr=nr.ownerDocument,ur=cr.body,dr=getComputedStyle(ur),fr=cr.compatMode==="CSS1Compat"&&parseFloat(dr.marginLeft)+parseFloat(dr.marginRight)||0,xr=Math.abs(nr.clientWidth-ur.clientWidth-fr);xr<=SCROLLBAR_MAX&&(rr-=xr)}else lr<=SCROLLBAR_MAX&&(rr+=lr);return{width:rr,height:sr,x:ar,y:or}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(tr,Hn){const er=getBoundingClientRect(tr,!0,Hn==="fixed"),nr=er.top+tr.clientTop,ir=er.left+tr.clientLeft,rr=isHTMLElement(tr)?getScale(tr):createCoords(1),sr=tr.clientWidth*rr.x,ar=tr.clientHeight*rr.y,or=ir*rr.x,lr=nr*rr.y;return{width:sr,height:ar,x:or,y:lr}}function getClientRectFromClippingAncestor(tr,Hn,er){let nr;if(Hn==="viewport")nr=getViewportRect(tr,er);else if(Hn==="document")nr=getDocumentRect(getDocumentElement(tr));else if(isElement(Hn))nr=getInnerBoundingClientRect(Hn,er);else{const ir=getVisualOffsets(tr);nr={x:Hn.x-ir.x,y:Hn.y-ir.y,width:Hn.width,height:Hn.height}}return rectToClientRect(nr)}function hasFixedPositionAncestor(tr,Hn){const er=getParentNode(tr);return er===Hn||!isElement(er)||isLastTraversableNode(er)?!1:getComputedStyle$1(er).position==="fixed"||hasFixedPositionAncestor(er,Hn)}function getClippingElementAncestors(tr,Hn){const er=Hn.get(tr);if(er)return er;let nr=getOverflowAncestors(tr,[],!1).filter(ar=>isElement(ar)&&getNodeName(ar)!=="body"),ir=null;const rr=getComputedStyle$1(tr).position==="fixed";let sr=rr?getParentNode(tr):tr;for(;isElement(sr)&&!isLastTraversableNode(sr);){const ar=getComputedStyle$1(sr),or=isContainingBlock(sr);!or&&ar.position==="fixed"&&(ir=null),(rr?!or&&!ir:!or&&ar.position==="static"&&!!ir&&absoluteOrFixed.has(ir.position)||isOverflowElement(sr)&&!or&&hasFixedPositionAncestor(tr,sr))?nr=nr.filter(cr=>cr!==sr):ir=ar,sr=getParentNode(sr)}return Hn.set(tr,nr),nr}function getClippingRect(tr){let{element:Hn,boundary:er,rootBoundary:nr,strategy:ir}=tr;const sr=[...er==="clippingAncestors"?isTopLayer(Hn)?[]:getClippingElementAncestors(Hn,this._c):[].concat(er),nr],ar=sr[0],or=sr.reduce((lr,cr)=>{const ur=getClientRectFromClippingAncestor(Hn,cr,ir);return lr.top=max(ur.top,lr.top),lr.right=min(ur.right,lr.right),lr.bottom=min(ur.bottom,lr.bottom),lr.left=max(ur.left,lr.left),lr},getClientRectFromClippingAncestor(Hn,ar,ir));return{width:or.right-or.left,height:or.bottom-or.top,x:or.left,y:or.top}}function getDimensions(tr){const{width:Hn,height:er}=getCssDimensions(tr);return{width:Hn,height:er}}function getRectRelativeToOffsetParent(tr,Hn,er){const nr=isHTMLElement(Hn),ir=getDocumentElement(Hn),rr=er==="fixed",sr=getBoundingClientRect(tr,!0,rr,Hn);let ar={scrollLeft:0,scrollTop:0};const or=createCoords(0);function lr(){or.x=getWindowScrollBarX(ir)}if(nr||!nr&&!rr)if((getNodeName(Hn)!=="body"||isOverflowElement(ir))&&(ar=getNodeScroll(Hn)),nr){const fr=getBoundingClientRect(Hn,!0,rr,Hn);or.x=fr.x+Hn.clientLeft,or.y=fr.y+Hn.clientTop}else ir&&lr();rr&&!nr&&ir&&lr();const cr=ir&&!nr&&!rr?getHTMLOffset(ir,ar):createCoords(0),ur=sr.left+ar.scrollLeft-or.x-cr.x,dr=sr.top+ar.scrollTop-or.y-cr.y;return{x:ur,y:dr,width:sr.width,height:sr.height}}function isStaticPositioned(tr){return getComputedStyle$1(tr).position==="static"}function getTrueOffsetParent(tr,Hn){if(!isHTMLElement(tr)||getComputedStyle$1(tr).position==="fixed")return null;if(Hn)return Hn(tr);let er=tr.offsetParent;return getDocumentElement(tr)===er&&(er=er.ownerDocument.body),er}function getOffsetParent(tr,Hn){const er=getWindow(tr);if(isTopLayer(tr))return er;if(!isHTMLElement(tr)){let ir=getParentNode(tr);for(;ir&&!isLastTraversableNode(ir);){if(isElement(ir)&&!isStaticPositioned(ir))return ir;ir=getParentNode(ir)}return er}let nr=getTrueOffsetParent(tr,Hn);for(;nr&&isTableElement(nr)&&isStaticPositioned(nr);)nr=getTrueOffsetParent(nr,Hn);return nr&&isLastTraversableNode(nr)&&isStaticPositioned(nr)&&!isContainingBlock(nr)?er:nr||getContainingBlock(tr)||er}const getElementRects=async function(tr){const Hn=this.getOffsetParent||getOffsetParent,er=this.getDimensions,nr=await er(tr.floating);return{reference:getRectRelativeToOffsetParent(tr.reference,await Hn(tr.floating),tr.strategy),floating:{x:0,y:0,width:nr.width,height:nr.height}}};function isRTL(tr){return getComputedStyle$1(tr).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(tr,Hn){return tr.x===Hn.x&&tr.y===Hn.y&&tr.width===Hn.width&&tr.height===Hn.height}function observeMove(tr,Hn){let er=null,nr;const ir=getDocumentElement(tr);function rr(){var ar;clearTimeout(nr),(ar=er)==null||ar.disconnect(),er=null}function sr(ar,or){ar===void 0&&(ar=!1),or===void 0&&(or=1),rr();const lr=tr.getBoundingClientRect(),{left:cr,top:ur,width:dr,height:fr}=lr;if(ar||Hn(),!dr||!fr)return;const xr=floor(ur),yr=floor(ir.clientWidth-(cr+dr)),_r=floor(ir.clientHeight-(ur+fr)),Sr=floor(cr),Dr={rootMargin:-xr+"px "+-yr+"px "+-_r+"px "+-Sr+"px",threshold:max(0,min(1,or))||1};let Ir=!0;function Mr(Or){const Lr=Or[0].intersectionRatio;if(Lr!==or){if(!Ir)return sr();Lr?sr(!1,Lr):nr=setTimeout(()=>{sr(!1,1e-7)},1e3)}Lr===1&&!rectsAreEqual(lr,tr.getBoundingClientRect())&&sr(),Ir=!1}try{er=new IntersectionObserver(Mr,{...Dr,root:ir.ownerDocument})}catch{er=new IntersectionObserver(Mr,Dr)}er.observe(tr)}return sr(!0),rr}function autoUpdate(tr,Hn,er,nr){nr===void 0&&(nr={});const{ancestorScroll:ir=!0,ancestorResize:rr=!0,elementResize:sr=typeof ResizeObserver=="function",layoutShift:ar=typeof IntersectionObserver=="function",animationFrame:or=!1}=nr,lr=unwrapElement(tr),cr=ir||rr?[...lr?getOverflowAncestors(lr):[],...getOverflowAncestors(Hn)]:[];cr.forEach(Sr=>{ir&&Sr.addEventListener("scroll",er,{passive:!0}),rr&&Sr.addEventListener("resize",er)});const ur=lr&&ar?observeMove(lr,er):null;let dr=-1,fr=null;sr&&(fr=new ResizeObserver(Sr=>{let[jr]=Sr;jr&&jr.target===lr&&fr&&(fr.unobserve(Hn),cancelAnimationFrame(dr),dr=requestAnimationFrame(()=>{var Dr;(Dr=fr)==null||Dr.observe(Hn)})),er()}),lr&&!or&&fr.observe(lr),fr.observe(Hn));let xr,yr=or?getBoundingClientRect(tr):null;or&&_r();function _r(){const Sr=getBoundingClientRect(tr);yr&&!rectsAreEqual(yr,Sr)&&er(),yr=Sr,xr=requestAnimationFrame(_r)}return er(),()=>{var Sr;cr.forEach(jr=>{ir&&jr.removeEventListener("scroll",er),rr&&jr.removeEventListener("resize",er)}),ur?.(),(Sr=fr)==null||Sr.disconnect(),fr=null,or&&cancelAnimationFrame(xr)}}const offset=offset$1,shift=shift$1,flip=flip$1,arrow=arrow$1,computePosition=(tr,Hn,er)=>{const nr=new Map,ir={platform,...er},rr={...ir.platform,_c:nr};return computePosition$1(tr,Hn,{...ir,platform:rr})};var classnames={exports:{}};var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(tr){(function(){var Hn={}.hasOwnProperty;function er(){for(var rr="",sr=0;sr<arguments.length;sr++){var ar=arguments[sr];ar&&(rr=ir(rr,nr(ar)))}return rr}function nr(rr){if(typeof rr=="string"||typeof rr=="number")return rr;if(typeof rr!="object")return"";if(Array.isArray(rr))return er.apply(null,rr);if(rr.toString!==Object.prototype.toString&&!rr.toString.toString().includes("[native code]"))return rr.toString();var sr="";for(var ar in rr)Hn.call(rr,ar)&&rr[ar]&&(sr=ir(sr,ar));return sr}function ir(rr,sr){return sr?rr?rr+" "+sr:rr+sr:rr}tr.exports?(er.default=er,tr.exports=er):window.classNames=er})()})(classnames)),classnames.exports}var classnamesExports=requireClassnames();const y$1=getDefaultExportFromCjs(classnamesExports);var define_process_env_default={};const h$1="react-tooltip-core-styles",w$1="react-tooltip-base-styles",b$1={core:!1,base:!1};function S$1({css:tr,id:Hn=w$1,type:er="base",ref:nr}){var ir,rr;if(!tr||typeof document>"u"||b$1[er]||er==="core"&&typeof process<"u"&&(!((ir=process==null?void 0:define_process_env_default)===null||ir===void 0)&&ir.REACT_TOOLTIP_DISABLE_CORE_STYLES)||er!=="base"&&typeof process<"u"&&(!((rr=process==null?void 0:define_process_env_default)===null||rr===void 0)&&rr.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;er==="core"&&(Hn=h$1),nr||(nr={});const{insertAt:sr}=nr;if(document.getElementById(Hn))return;const ar=document.head||document.getElementsByTagName("head")[0],or=document.createElement("style");or.id=Hn,or.type="text/css",sr==="top"&&ar.firstChild?ar.insertBefore(or,ar.firstChild):ar.appendChild(or),or.styleSheet?or.styleSheet.cssText=tr:or.appendChild(document.createTextNode(tr)),b$1[er]=!0}const E$1=async({elementReference:tr=null,tooltipReference:Hn=null,tooltipArrowReference:er=null,place:nr="top",offset:ir=10,strategy:rr="absolute",middlewares:sr=[offset(Number(ir)),flip({fallbackAxisSideDirection:"start"}),shift({padding:5})],border:ar,arrowSize:or=8})=>{if(!tr)return{tooltipStyles:{},tooltipArrowStyles:{},place:nr};if(Hn===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:nr};const lr=sr;return er?(lr.push(arrow({element:er,padding:5})),computePosition(tr,Hn,{placement:nr,strategy:rr,middleware:lr}).then((({x:cr,y:ur,placement:dr,middlewareData:fr})=>{var xr,yr;const _r={left:`${cr}px`,top:`${ur}px`,border:ar},{x:Sr,y:jr}=(xr=fr.arrow)!==null&&xr!==void 0?xr:{x:0,y:0},Dr=(yr={top:"bottom",right:"left",bottom:"top",left:"right"}[dr.split("-")[0]])!==null&&yr!==void 0?yr:"bottom",Ir=ar&&{borderBottom:ar,borderRight:ar};let Mr=0;if(ar){const Or=`${ar}`.match(/(\d+)px/);Mr=Or?.[1]?Number(Or[1]):1}return{tooltipStyles:_r,tooltipArrowStyles:{left:Sr!=null?`${Sr}px`:"",top:jr!=null?`${jr}px`:"",right:"",bottom:"",...Ir,[Dr]:`-${or/2+Mr}px`},place:dr}}))):computePosition(tr,Hn,{placement:"bottom",strategy:rr,middleware:lr}).then((({x:cr,y:ur,placement:dr})=>({tooltipStyles:{left:`${cr}px`,top:`${ur}px`},tooltipArrowStyles:{},place:dr})))},A$1=(tr,Hn)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(tr,Hn),_$1=(tr,Hn,er)=>{let nr=null;const ir=function(...rr){const sr=()=>{nr=null};!nr&&(tr.apply(this,rr),nr=setTimeout(sr,Hn))};return ir.cancel=()=>{nr&&(clearTimeout(nr),nr=null)},ir},O$1=tr=>tr!==null&&!Array.isArray(tr)&&typeof tr=="object",k$1=(tr,Hn)=>{if(tr===Hn)return!0;if(Array.isArray(tr)&&Array.isArray(Hn))return tr.length===Hn.length&&tr.every(((ir,rr)=>k$1(ir,Hn[rr])));if(Array.isArray(tr)!==Array.isArray(Hn))return!1;if(!O$1(tr)||!O$1(Hn))return tr===Hn;const er=Object.keys(tr),nr=Object.keys(Hn);return er.length===nr.length&&er.every((ir=>k$1(tr[ir],Hn[ir])))},T$1=tr=>{if(!(tr instanceof HTMLElement||tr instanceof SVGElement))return!1;const Hn=getComputedStyle(tr);return["overflow","overflow-x","overflow-y"].some((er=>{const nr=Hn.getPropertyValue(er);return nr==="auto"||nr==="scroll"}))},L$2=tr=>{if(!tr)return null;let Hn=tr.parentElement;for(;Hn;){if(T$1(Hn))return Hn;Hn=Hn.parentElement}return document.scrollingElement||document.documentElement},C$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,R$1=tr=>{tr.current&&(clearTimeout(tr.current),tr.current=null)},x$1="DEFAULT_TOOLTIP_ID",N$1={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$$1=reactExports.createContext({getTooltipData:()=>N$1});function I$1(tr=x$1){return reactExports.useContext($$1).getTooltipData(tr)}var B$1={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},D$1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const q$1=({forwardRef:tr,id:Hn,className:er,classNameArrow:nr,variant:ir="dark",anchorId:rr,anchorSelect:sr,place:ar="top",offset:or=10,events:lr=["hover"],openOnClick:cr=!1,positionStrategy:ur="absolute",middlewares:dr,wrapper:fr,delayShow:xr=0,delayHide:yr=0,float:_r=!1,hidden:Sr=!1,noArrow:jr=!1,clickable:Dr=!1,closeOnEsc:Ir=!1,closeOnScroll:Mr=!1,closeOnResize:Or=!1,openEvents:Lr,closeEvents:Fr,globalCloseEvents:Vr,imperativeModeOnly:Zr,style:Hr,position:Yr,afterShow:eo,afterHide:io,disableTooltip:uo,content:so,contentWrapperRef:no,isOpen:po,defaultIsOpen:co=!1,setIsOpen:lo,previousActiveAnchor:ao,activeAnchor:xo,setActiveAnchor:_o,border:Po,opacity:Oo,arrowColor:So,arrowSize:Ao=8,role:zo="tooltip"})=>{var Ro;const Go=reactExports.useRef(null),Qo=reactExports.useRef(null),Vo=reactExports.useRef(null),nl=reactExports.useRef(null),fl=reactExports.useRef(null),[Bl,Gl]=reactExports.useState({tooltipStyles:{},tooltipArrowStyles:{},place:ar}),[Tl,Pc]=reactExports.useState(!1),[mc,Hc]=reactExports.useState(!1),[Vl,Jc]=reactExports.useState(null),Yl=reactExports.useRef(!1),ic=reactExports.useRef(null),{anchorRefs:cc,setActiveAnchor:Xc}=I$1(Hn),Sc=reactExports.useRef(!1),[Oc,gl]=reactExports.useState([]),Ql=reactExports.useRef(!1),ql=cr||lr.includes("click"),wc=ql||Lr?.click||Lr?.dblclick||Lr?.mousedown,Il=Lr?{...Lr}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!Lr&&ql&&Object.assign(Il,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const rl=Fr?{...Fr}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!Fr&&ql&&Object.assign(rl,{mouseleave:!1,blur:!1,mouseout:!1});const il=Vr?{...Vr}:{escape:Ir||!1,scroll:Mr||!1,resize:Or||!1,clickOutsideAnchor:wc||!1};Zr&&(Object.assign(Il,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(rl,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(il,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),C$1((()=>(Ql.current=!0,()=>{Ql.current=!1})),[]);const hl=yl=>{Ql.current&&(yl&&Hc(!0),setTimeout((()=>{Ql.current&&(lo?.(yl),po===void 0&&Pc(yl))}),10))};reactExports.useEffect((()=>{if(Hn){if(Tl){Ll(ao);const Cl=yl(xo),kl=[...new Set([...Cl,Hn])].filter(Boolean).join(" ");xo?.setAttribute("aria-describedby",kl)}else Ll(xo);return()=>{Ll(xo),Ll(ao)}}function yl(Cl){var kl;return((kl=Cl?.getAttribute("aria-describedby"))===null||kl===void 0?void 0:kl.split(" "))||[]}function Ll(Cl){const kl=yl(Cl).filter((bu=>bu!==Hn));kl.length?Cl?.setAttribute("aria-describedby",kl.join(" ")):Cl?.removeAttribute("aria-describedby")}}),[xo,Tl,Hn,ao]),reactExports.useEffect((()=>{if(po===void 0)return()=>null;po&&Hc(!0);const yl=setTimeout((()=>{Pc(po)}),10);return()=>{clearTimeout(yl)}}),[po]),reactExports.useEffect((()=>{if(Tl!==Yl.current)if(R$1(fl),Yl.current=Tl,Tl)eo?.();else{const yl=(Ll=>{const Cl=Ll.match(/^([\d.]+)(ms|s)$/);if(!Cl)return 0;const[,kl,bu]=Cl;return Number(kl)*(bu==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));fl.current=setTimeout((()=>{Hc(!1),Jc(null),io?.()}),yl+25)}}),[Tl]);const Dl=yl=>{Gl((Ll=>k$1(Ll,yl)?Ll:yl))},Pl=(yl=xr)=>{R$1(Vo),mc?hl(!0):Vo.current=setTimeout((()=>{hl(!0)}),yl)},Jl=(yl=yr)=>{R$1(nl),nl.current=setTimeout((()=>{Sc.current||hl(!1)}),yl)},oc=yl=>{var Ll;if(!yl)return;const Cl=(Ll=yl.currentTarget)!==null&&Ll!==void 0?Ll:yl.target;if(!Cl?.isConnected)return _o(null),void Xc({current:null});xr?Pl():hl(!0),_o(Cl),Xc({current:Cl}),R$1(nl)},qc=()=>{Dr?Jl(yr||100):yr?Jl():hl(!1),R$1(Vo)},xc=({x:yl,y:Ll})=>{var Cl;const kl={getBoundingClientRect:()=>({x:yl,y:Ll,width:0,height:0,top:Ll,left:yl,right:yl,bottom:Ll})};E$1({place:(Cl=Vl?.place)!==null&&Cl!==void 0?Cl:ar,offset:or,elementReference:kl,tooltipReference:Go.current,tooltipArrowReference:Qo.current,strategy:ur,middlewares:dr,border:Po,arrowSize:Ao}).then((bu=>{Dl(bu)}))},jc=yl=>{if(!yl)return;const Ll=yl,Cl={x:Ll.clientX,y:Ll.clientY};xc(Cl),ic.current=Cl},vu=yl=>{var Ll;if(!Tl)return;const Cl=yl.target;Cl.isConnected&&(!((Ll=Go.current)===null||Ll===void 0)&&Ll.contains(Cl)||[document.querySelector(`[id='${rr}']`),...Oc].some((kl=>kl?.contains(Cl)))||(hl(!1),R$1(Vo)))},Kc=_$1(oc,50),uc=_$1(qc,50),Ic=yl=>{uc.cancel(),Kc(yl)},ec=()=>{Kc.cancel(),uc()},Hl=reactExports.useCallback((()=>{var yl,Ll;const Cl=(yl=Vl?.position)!==null&&yl!==void 0?yl:Yr;Cl?xc(Cl):_r?ic.current&&xc(ic.current):xo?.isConnected&&E$1({place:(Ll=Vl?.place)!==null&&Ll!==void 0?Ll:ar,offset:or,elementReference:xo,tooltipReference:Go.current,tooltipArrowReference:Qo.current,strategy:ur,middlewares:dr,border:Po,arrowSize:Ao}).then((kl=>{Ql.current&&Dl(kl)}))}),[Tl,xo,so,Hr,ar,Vl?.place,or,ur,Yr,Vl?.position,_r,Ao]);reactExports.useEffect((()=>{var yl,Ll;const Cl=new Set(cc);Oc.forEach((Fc=>{uo?.(Fc)||Cl.add({current:Fc})}));const kl=document.querySelector(`[id='${rr}']`);kl&&!uo?.(kl)&&Cl.add({current:kl});const bu=()=>{hl(!1)},oh=L$2(xo),ku=L$2(Go.current);il.scroll&&(window.addEventListener("scroll",bu),oh?.addEventListener("scroll",bu),ku?.addEventListener("scroll",bu));let Dc=null;il.resize?window.addEventListener("resize",bu):xo&&Go.current&&(Dc=autoUpdate(xo,Go.current,Hl,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const eu=Fc=>{Fc.key==="Escape"&&hl(!1)};il.escape&&window.addEventListener("keydown",eu),il.clickOutsideAnchor&&window.addEventListener("click",vu);const Zc=[],ac=Fc=>!!(Fc?.target&&xo?.contains(Fc.target)),hu=Fc=>{Tl&&ac(Fc)||oc(Fc)},du=Fc=>{Tl&&ac(Fc)&&qc()},Wc=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Iu=["click","dblclick","mousedown","mouseup"];Object.entries(Il).forEach((([Fc,Hu])=>{Hu&&(Wc.includes(Fc)?Zc.push({event:Fc,listener:Ic}):Iu.includes(Fc)&&Zc.push({event:Fc,listener:hu}))})),Object.entries(rl).forEach((([Fc,Hu])=>{Hu&&(Wc.includes(Fc)?Zc.push({event:Fc,listener:ec}):Iu.includes(Fc)&&Zc.push({event:Fc,listener:du}))})),_r&&Zc.push({event:"pointermove",listener:jc});const qh=()=>{Sc.current=!0},Bh=()=>{Sc.current=!1,qc()},zh=Dr&&(rl.mouseout||rl.mouseleave);return zh&&((yl=Go.current)===null||yl===void 0||yl.addEventListener("mouseover",qh),(Ll=Go.current)===null||Ll===void 0||Ll.addEventListener("mouseout",Bh)),Zc.forEach((({event:Fc,listener:Hu})=>{Cl.forEach((tu=>{var Hh;(Hh=tu.current)===null||Hh===void 0||Hh.addEventListener(Fc,Hu)}))})),()=>{var Fc,Hu;il.scroll&&(window.removeEventListener("scroll",bu),oh?.removeEventListener("scroll",bu),ku?.removeEventListener("scroll",bu)),il.resize?window.removeEventListener("resize",bu):Dc?.(),il.clickOutsideAnchor&&window.removeEventListener("click",vu),il.escape&&window.removeEventListener("keydown",eu),zh&&((Fc=Go.current)===null||Fc===void 0||Fc.removeEventListener("mouseover",qh),(Hu=Go.current)===null||Hu===void 0||Hu.removeEventListener("mouseout",Bh)),Zc.forEach((({event:tu,listener:Hh})=>{Cl.forEach((cd=>{var fh;(fh=cd.current)===null||fh===void 0||fh.removeEventListener(tu,Hh)}))}))}}),[xo,Hl,mc,cc,Oc,Lr,Fr,Vr,ql,xr,yr]),reactExports.useEffect((()=>{var yl,Ll;let Cl=(Ll=(yl=Vl?.anchorSelect)!==null&&yl!==void 0?yl:sr)!==null&&Ll!==void 0?Ll:"";!Cl&&Hn&&(Cl=`[data-tooltip-id='${Hn.replace(/'/g,"\\'")}']`);const kl=new MutationObserver((bu=>{const oh=[],ku=[];bu.forEach((Dc=>{if(Dc.type==="attributes"&&Dc.attributeName==="data-tooltip-id"&&(Dc.target.getAttribute("data-tooltip-id")===Hn?oh.push(Dc.target):Dc.oldValue===Hn&&ku.push(Dc.target)),Dc.type==="childList"){if(xo){const eu=[...Dc.removedNodes].filter((Zc=>Zc.nodeType===1));if(Cl)try{ku.push(...eu.filter((Zc=>Zc.matches(Cl)))),ku.push(...eu.flatMap((Zc=>[...Zc.querySelectorAll(Cl)])))}catch{}eu.some((Zc=>{var ac;return!!(!((ac=Zc?.contains)===null||ac===void 0)&&ac.call(Zc,xo))&&(Hc(!1),hl(!1),_o(null),R$1(Vo),R$1(nl),!0)}))}if(Cl)try{const eu=[...Dc.addedNodes].filter((Zc=>Zc.nodeType===1));oh.push(...eu.filter((Zc=>Zc.matches(Cl)))),oh.push(...eu.flatMap((Zc=>[...Zc.querySelectorAll(Cl)])))}catch{}}})),(oh.length||ku.length)&&gl((Dc=>[...Dc.filter((eu=>!ku.includes(eu))),...oh]))}));return kl.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{kl.disconnect()}}),[Hn,sr,Vl?.anchorSelect,xo]),reactExports.useEffect((()=>{Hl()}),[Hl]),reactExports.useEffect((()=>{if(!no?.current)return()=>null;const yl=new ResizeObserver((()=>{setTimeout((()=>Hl()))}));return yl.observe(no.current),()=>{yl.disconnect()}}),[so,no?.current]),reactExports.useEffect((()=>{var yl;const Ll=document.querySelector(`[id='${rr}']`),Cl=[...Oc,Ll];xo&&Cl.includes(xo)||_o((yl=Oc[0])!==null&&yl!==void 0?yl:Ll)}),[rr,Oc,xo]),reactExports.useEffect((()=>(co&&hl(!0),()=>{R$1(Vo),R$1(nl)})),[]),reactExports.useEffect((()=>{var yl;let Ll=(yl=Vl?.anchorSelect)!==null&&yl!==void 0?yl:sr;if(!Ll&&Hn&&(Ll=`[data-tooltip-id='${Hn.replace(/'/g,"\\'")}']`),Ll)try{const Cl=Array.from(document.querySelectorAll(Ll));gl(Cl)}catch{gl([])}}),[Hn,sr,Vl?.anchorSelect]),reactExports.useEffect((()=>{Vo.current&&(R$1(Vo),Pl(xr))}),[xr]);const ah=(Ro=Vl?.content)!==null&&Ro!==void 0?Ro:so,sl=Tl&&Object.keys(Bl.tooltipStyles).length>0;return reactExports.useImperativeHandle(tr,(()=>({open:yl=>{if(yl?.anchorSelect)try{document.querySelector(yl.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${yl.anchorSelect}" is not a valid CSS selector`)}Jc(yl??null),yl?.delay?Pl(yl.delay):hl(!0)},close:yl=>{yl?.delay?Jl(yl.delay):hl(!1)},activeAnchor:xo,place:Bl.place,isOpen:!!(mc&&!Sr&&ah&&sl)}))),mc&&!Sr&&ah?React.createElement(fr,{id:Hn,role:zo,className:y$1("react-tooltip",B$1.tooltip,D$1.tooltip,D$1[ir],er,`react-tooltip__place-${Bl.place}`,B$1[sl?"show":"closing"],sl?"react-tooltip__show":"react-tooltip__closing",ur==="fixed"&&B$1.fixed,Dr&&B$1.clickable),onTransitionEnd:yl=>{R$1(fl),Tl||yl.propertyName!=="opacity"||(Hc(!1),Jc(null),io?.())},style:{...Hr,...Bl.tooltipStyles,opacity:Oo!==void 0&&sl?Oo:void 0},ref:Go},ah,React.createElement(fr,{className:y$1("react-tooltip-arrow",B$1.arrow,D$1.arrow,nr,jr&&B$1.noArrow),style:{...Bl.tooltipArrowStyles,background:So?`linear-gradient(to right bottom, transparent 50%, ${So} 50%)`:void 0,"--rt-arrow-size":`${Ao}px`},ref:Qo})):null},H$1=({content:tr})=>React.createElement("span",{dangerouslySetInnerHTML:{__html:tr}}),M$1=React.forwardRef((({id:tr,anchorId:Hn,anchorSelect:er,content:nr,html:ir,render:rr,className:sr,classNameArrow:ar,variant:or="dark",place:lr="top",offset:cr=10,wrapper:ur="div",children:dr=null,events:fr=["hover"],openOnClick:xr=!1,positionStrategy:yr="absolute",middlewares:_r,delayShow:Sr=0,delayHide:jr=0,float:Dr=!1,hidden:Ir=!1,noArrow:Mr=!1,clickable:Or=!1,closeOnEsc:Lr=!1,closeOnScroll:Fr=!1,closeOnResize:Vr=!1,openEvents:Zr,closeEvents:Hr,globalCloseEvents:Yr,imperativeModeOnly:eo=!1,style:io,position:uo,isOpen:so,defaultIsOpen:no=!1,disableStyleInjection:po=!1,border:co,opacity:lo,arrowColor:ao,arrowSize:xo,setIsOpen:_o,afterShow:Po,afterHide:Oo,disableTooltip:So,role:Ao="tooltip"},zo)=>{const[Ro,Go]=reactExports.useState(nr),[Qo,Vo]=reactExports.useState(ir),[nl,fl]=reactExports.useState(lr),[Bl,Gl]=reactExports.useState(or),[Tl,Pc]=reactExports.useState(cr),[mc,Hc]=reactExports.useState(Sr),[Vl,Jc]=reactExports.useState(jr),[Yl,ic]=reactExports.useState(Dr),[cc,Xc]=reactExports.useState(Ir),[Sc,Oc]=reactExports.useState(ur),[gl,Ql]=reactExports.useState(fr),[ql,wc]=reactExports.useState(yr),[Il,rl]=reactExports.useState(null),[il,hl]=reactExports.useState(null),Dl=reactExports.useRef(null),Pl=reactExports.useRef(po),{anchorRefs:Jl,activeAnchor:oc}=I$1(tr),qc=uc=>uc?.getAttributeNames().reduce(((Ic,ec)=>{var Hl;return ec.startsWith("data-tooltip-")&&(Ic[ec.replace(/^data-tooltip-/,"")]=(Hl=uc?.getAttribute(ec))!==null&&Hl!==void 0?Hl:null),Ic}),{}),xc=uc=>{const Ic={place:ec=>{var Hl;fl((Hl=ec)!==null&&Hl!==void 0?Hl:lr)},content:ec=>{Go(ec??nr)},html:ec=>{Vo(ec??ir)},variant:ec=>{var Hl;Gl((Hl=ec)!==null&&Hl!==void 0?Hl:or)},offset:ec=>{Pc(ec===null?cr:Number(ec))},wrapper:ec=>{var Hl;Oc((Hl=ec)!==null&&Hl!==void 0?Hl:ur)},events:ec=>{const Hl=ec?.split(" ");Ql(Hl??fr)},"position-strategy":ec=>{var Hl;wc((Hl=ec)!==null&&Hl!==void 0?Hl:yr)},"delay-show":ec=>{Hc(ec===null?Sr:Number(ec))},"delay-hide":ec=>{Jc(ec===null?jr:Number(ec))},float:ec=>{ic(ec===null?Dr:ec==="true")},hidden:ec=>{Xc(ec===null?Ir:ec==="true")},"class-name":ec=>{rl(ec)}};Object.values(Ic).forEach((ec=>ec(null))),Object.entries(uc).forEach((([ec,Hl])=>{var ah;(ah=Ic[ec])===null||ah===void 0||ah.call(Ic,Hl)}))};reactExports.useEffect((()=>{Go(nr)}),[nr]),reactExports.useEffect((()=>{Vo(ir)}),[ir]),reactExports.useEffect((()=>{fl(lr)}),[lr]),reactExports.useEffect((()=>{Gl(or)}),[or]),reactExports.useEffect((()=>{Pc(cr)}),[cr]),reactExports.useEffect((()=>{Hc(Sr)}),[Sr]),reactExports.useEffect((()=>{Jc(jr)}),[jr]),reactExports.useEffect((()=>{ic(Dr)}),[Dr]),reactExports.useEffect((()=>{Xc(Ir)}),[Ir]),reactExports.useEffect((()=>{wc(yr)}),[yr]),reactExports.useEffect((()=>{Pl.current!==po&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[po]),reactExports.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:po==="core",disableBase:po}}))}),[]),reactExports.useEffect((()=>{var uc;const Ic=new Set(Jl);let ec=er;if(!ec&&tr&&(ec=`[data-tooltip-id='${tr.replace(/'/g,"\\'")}']`),ec)try{document.querySelectorAll(ec).forEach((Ll=>{Ic.add({current:Ll})}))}catch{console.warn(`[react-tooltip] "${ec}" is not a valid CSS selector`)}const Hl=document.querySelector(`[id='${Hn}']`);if(Hl&&Ic.add({current:Hl}),!Ic.size)return()=>null;const ah=(uc=il??Hl)!==null&&uc!==void 0?uc:oc.current,sl=new MutationObserver((Ll=>{Ll.forEach((Cl=>{var kl;if(!ah||Cl.type!=="attributes"||!(!((kl=Cl.attributeName)===null||kl===void 0)&&kl.startsWith("data-tooltip-")))return;const bu=qc(ah);xc(bu)}))})),yl={attributes:!0,childList:!1,subtree:!1};if(ah){const Ll=qc(ah);xc(Ll),sl.observe(ah,yl)}return()=>{sl.disconnect()}}),[Jl,oc,il,Hn,er]),reactExports.useEffect((()=>{io?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),co&&!A$1("border",`${co}`)&&console.warn(`[react-tooltip] "${co}" is not a valid \`border\`.`),io?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),lo&&!A$1("opacity",`${lo}`)&&console.warn(`[react-tooltip] "${lo}" is not a valid \`opacity\`.`)}),[]);let jc=dr;const vu=reactExports.useRef(null);if(rr){const uc=rr({content:il?.getAttribute("data-tooltip-content")||Ro||null,activeAnchor:il});jc=uc?React.createElement("div",{ref:vu,className:"react-tooltip-content-wrapper"},uc):null}else Ro&&(jc=Ro);Qo&&(jc=React.createElement(H$1,{content:Qo}));const Kc={forwardRef:zo,id:tr,anchorId:Hn,anchorSelect:er,className:y$1(sr,Il),classNameArrow:ar,content:jc,contentWrapperRef:vu,place:nl,variant:Bl,offset:Tl,wrapper:Sc,events:gl,openOnClick:xr,positionStrategy:ql,middlewares:_r,delayShow:mc,delayHide:Vl,float:Yl,hidden:cc,noArrow:Mr,clickable:Or,closeOnEsc:Lr,closeOnScroll:Fr,closeOnResize:Vr,openEvents:Zr,closeEvents:Hr,globalCloseEvents:Yr,imperativeModeOnly:eo,style:io,position:uo,isOpen:so,defaultIsOpen:no,border:co,opacity:lo,arrowColor:ao,arrowSize:xo,setIsOpen:_o,afterShow:Po,afterHide:Oo,disableTooltip:So,activeAnchor:il,previousActiveAnchor:Dl.current,setActiveAnchor:uc=>{hl((Ic=>(uc?.isSameNode(Ic)||(Dl.current=Ic),uc)))},role:Ao};return React.createElement(q$1,{...Kc})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(tr=>{tr.detail.disableCore||S$1({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),tr.detail.disableBase||S$1({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));const getTooltipText=tr=>{if(tr==null)return"Khng c d liu";const Hn=Number(tr);return Hn>=75?" Th trng ang hng phn. Cn nhc ri ro cht li.":Hn>=55?" Tm l lc quan ang chim u th.":Hn>=46?" Th trng ang lng l. Quan st thm.":Hn>=26?" Tm l bi quan ang xut hin.":" Th trng ang hong lon. C th l c hi cho nh u t di hn."},AnimatedGaugeChart=({value:tr,label:Hn=null,showLabel:er=!0})=>{const nr=tr??0,[ir,rr]=reactExports.useState(nr),[sr,ar]=reactExports.useState(!1),or=reactExports.useRef(null),lr=getFearLevel(ir);reactExports.useEffect(()=>{rr(nr)},[nr]);const cr=()=>{ar(!0),or.current&&cancelAnimationFrame(or.current),rr(0),setTimeout(()=>{const fr=performance.now(),xr=0,yr=nr,_r=Sr=>{const jr=Sr-fr,Dr=Math.min(jr/2e3,1),Ir=1-Math.pow(1-Dr,3),Mr=xr+(yr-xr)*Ir;rr(Math.round(Mr)),Dr<1&&(or.current=requestAnimationFrame(_r))};or.current=requestAnimationFrame(_r)},10)},ur=()=>{ar(!1),or.current&&cancelAnimationFrame(or.current),rr(nr)};return reactExports.useEffect(()=>()=>{or.current&&cancelAnimationFrame(or.current)},[]),jsxRuntimeExports.jsxs("div",{className:"gauge-container gauge-large",children:[jsxRuntimeExports.jsx("div",{className:"gauge-chart animated-gauge","data-tooltip-id":"fear-greed-tooltip","data-tooltip-content":getTooltipText(nr),onMouseEnter:cr,onMouseLeave:ur,children:jsxRuntimeExports.jsx(CircularProgressbar,{value:ir,text:`${nr}`,styles:buildStyles({textSize:"28px",textColor:lr.textColor,pathColor:lr.color,trailColor:"rgba(255, 255, 255, 0.1)",pathTransitionDuration:.05})})}),er&&jsxRuntimeExports.jsx("div",{className:"gauge-label",children:Hn||lr.label}),jsxRuntimeExports.jsx(M$1,{id:"fear-greed-tooltip",place:"top",style:{backgroundColor:"rgba(15, 23, 42, 0.95)",color:"#FACC15",fontSize:"0.875rem",fontWeight:"600",padding:"0.75rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)",maxWidth:"300px",zIndex:1e3}})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const FearGreedChart=({data:tr})=>{if(!tr||tr.length===0)return jsxRuntimeExports.jsx("div",{className:"chart-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu  hin th biu "})});const Hn=tr.map(rr=>formatDate$3(rr.id_time)),er=tr.map(rr=>rr.chiso),nr={labels:Hn,datasets:[{label:"Ch s Fear & Greed",data:er,borderColor:"#FACC15",backgroundColor:rr=>{const ar=rr.chart.ctx.createLinearGradient(0,0,0,300);return ar.addColorStop(0,"rgba(250, 204, 21, 0.3)"),ar.addColorStop(1,"rgba(250, 204, 21, 0)"),ar},borderWidth:3,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#FACC15",pointBorderColor:"#1E293B",pointBorderWidth:2}]},ir={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!1,callbacks:{title:rr=>`Ngy: ${tr[rr[0].dataIndex].id_time}`,label:rr=>`Ch s: ${rr.parsed.y}`}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{min:0,max:100,grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",stepSize:20}}},interaction:{intersect:!1,mode:"index"}};return jsxRuntimeExports.jsx("div",{className:"fear-greed-chart",children:jsxRuntimeExports.jsx(Line,{data:nr,options:ir})})},FearGreedIndex=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(30);reactExports.useEffect(()=>{(async()=>{try{nr(!0);const xr=await fetchFearIndex();Hn(xr),rr(null)}catch(xr){console.error("Error loading fear index:",xr),rr("Khng th ti d liu. Vui lng th li sau.")}finally{nr(!1)}})()},[]);const or=reactExports.useMemo(()=>filterByDays(tr,sr),[tr,sr]),lr=reactExports.useMemo(()=>tr.length===0?null:tr[tr.length-1],[tr]),cr=reactExports.useMemo(()=>tr.length<2?null:tr[tr.length-2],[tr]),ur=reactExports.useMemo(()=>tr.length<8?null:tr[tr.length-8],[tr]),dr=reactExports.useMemo(()=>tr.length<31?null:tr[tr.length-31],[tr]);return er?jsxRuntimeExports.jsx("div",{className:"fear-greed-section",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu phn tch..."})]})}):ir?jsxRuntimeExports.jsx("div",{className:"fear-greed-section",children:jsxRuntimeExports.jsx("div",{className:"error-container",children:jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",ir]})})}):lr?jsxRuntimeExports.jsxs("div",{className:"fear-greed-section",children:[jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",style:{color:"#2ECC71"},children:" jmbullion"}),jsxRuntimeExports.jsx("p",{className:"section-subtitle",children:"Ch s Fear & Greed - o lng tm l nh u t"})]}),jsxRuntimeExports.jsxs("div",{className:"fear-greed-content",children:[jsxRuntimeExports.jsxs("div",{className:"overview-section",children:[jsxRuntimeExports.jsxs("div",{className:"main-gauge",children:[jsxRuntimeExports.jsx("h3",{className:"gauge-title",children:"Ch s Hin ti"}),jsxRuntimeExports.jsx(AnimatedGaugeChart,{value:lr.chiso}),jsxRuntimeExports.jsxs("div",{className:"gauge-date",children:["Cp nht: ",lr.id_time]})]}),jsxRuntimeExports.jsxs("div",{className:"comparison-gauges",children:[jsxRuntimeExports.jsxs("div",{className:"gauge-item",children:[jsxRuntimeExports.jsx("h4",{children:"Hm qua"}),cr?jsxRuntimeExports.jsx(GaugeChart,{value:cr.chiso,size:"small",showLabel:!1}):jsxRuntimeExports.jsx("p",{className:"no-data-small",children:"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-item",children:[jsxRuntimeExports.jsx("h4",{children:"Tun trc"}),ur?jsxRuntimeExports.jsx(GaugeChart,{value:ur.chiso,size:"small",showLabel:!1}):jsxRuntimeExports.jsx("p",{className:"no-data-small",children:"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-item",children:[jsxRuntimeExports.jsx("h4",{children:"Thng trc"}),dr?jsxRuntimeExports.jsx(GaugeChart,{value:dr.chiso,size:"small",showLabel:!1}):jsxRuntimeExports.jsx("p",{className:"no-data-small",children:"N/A"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"history-section",children:[jsxRuntimeExports.jsxs("div",{className:"history-header",children:[jsxRuntimeExports.jsx("h3",{className:"history-title",children:"Lch s Bin ng"}),jsxRuntimeExports.jsxs("div",{className:"time-filter",children:[jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr===7?"active":""}`,onClick:()=>ar(7),children:"7 ngy"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr===30?"active":""}`,onClick:()=>ar(30),children:"30 ngy"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr===90?"active":""}`,onClick:()=>ar(90),children:"90 ngy"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr===365?"active":""}`,onClick:()=>ar(365),children:"1 nm"})]})]}),jsxRuntimeExports.jsx(FearGreedChart,{data:or})]})]})]}):jsxRuntimeExports.jsx("div",{className:"fear-greed-section",children:jsxRuntimeExports.jsx("div",{className:"no-data",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu  hin th"})})})},FearGreedIndex$1=React.memo(FearGreedIndex);Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_tooltip,index,plugin$1);function GlobalShark({data:tr=[],zoomable:Hn=!0,time:er}){const nr=reactExports.useRef(null),[ir,rr]=reactExports.useState(er),[sr,ar]=reactExports.useState({min:null,max:null}),or=reactExports.useMemo(()=>tr.filter(fr=>fr?.data&&Array.isArray(fr.data)).map(fr=>({name:fr.name,data:[...fr.data].sort((xr,yr)=>new Date(xr.x)-new Date(yr.x))})),[tr]),lr=reactExports.useMemo(()=>{const fr=or[0];return fr?.length?new Date(fr[fr.length-1].x):new Date},[or]);reactExports.useEffect(()=>{if(!or.length)return;const fr=lr;let xr;ir==="1M"?xr=subMonths(fr,1):ir==="3M"?xr=subMonths(fr,3):ir==="1Y"?xr=subYears(fr):ir==="YTD"?xr=startOfYear(fr):ir==="ALL"&&(xr=new Date("2016-07-01")),ar({min:xr.getTime(),max:fr.getTime()}),nr.current&&Hn&&nr.current.chartInstance?.zoomScale("x",{min:xr.getTime(),max:fr.getTime()})},[ir,or,lr,Hn]);const cr=reactExports.useMemo(()=>({datasets:or.map((fr,xr)=>({label:fr.name,data:fr.data,parsing:!1,borderColor:["#E63946","#F4A261","#E9C46A","#2A9D8F","#1D3557","#457B9D","#9D4EDD","#F72585","#6C757D"][xr%9],pointRadius:0,fill:!1,borderWidth:1.8,spanGaps:!0}))}),[or]),ur=reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,animation:!1,transitions:{zoom:{animation:!1},pan:{animation:!1}},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{displayColors:!0,callbacks:{label:fr=>`${fr.dataset.label}: ${fr.parsed.y}`,labelColor:fr=>({borderColor:fr.dataset.borderColor,backgroundColor:fr.dataset.borderColor})}},decimation:{enabled:!0,algorithm:"min-max",samples:500},zoom:Hn?{limits:{x:{min:new Date("2016-07-01").getTime()}},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}:void 0},scales:{x:{type:"time",min:sr.min,max:sr.max,ticks:{maxTicksLimit:10}},y:{ticks:{callback:fr=>`${fr}`}}}}),[sr,Hn]),dr=()=>nr.current?.resetZoom();return jsxRuntimeExports.jsxs("div",{style:{width:"100%",marginTop:20,display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{style:{height:480,width:"98%",marginBottom:"30px",cursor:"pointer "},children:jsxRuntimeExports.jsx(Line,{ref:nr,data:cr,options:ur})}),Hn&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:16,margin:"auto"},children:[["1M","3M","1Y","YTD","ALL"].map(fr=>jsxRuntimeExports.jsx("button",{style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",background:ir===fr?"#ff8800":"#eee"},onClick:()=>rr(fr),children:fr},fr)),jsxRuntimeExports.jsx("button",{onClick:dr,style:{padding:"6px 14px",borderRadius:6,background:"#444",color:"white",border:"1px solid #666"},children:"Reset Zoom"})]})]})}var highcharts$1={exports:{}},highcharts=highcharts$1.exports,hasRequiredHighcharts;function requireHighcharts(){return hasRequiredHighcharts||(hasRequiredHighcharts=1,(function(tr,Hn){(function(er,nr){er._Highcharts=nr(),tr.exports=er._Highcharts})(typeof window>"u"?highcharts:window,()=>(()=>{let er,nr;var ir,rr,sr,ar,or,lr,cr,ur,dr,fr,xr,yr,_r,Sr,jr,Dr,Ir,Mr,Or={};Or.d=(Ur,mr)=>{for(var vr in mr)Or.o(mr,vr)&&!Or.o(Ur,vr)&&Object.defineProperty(Ur,vr,{enumerable:!0,get:mr[vr]})},Or.o=(Ur,mr)=>Object.prototype.hasOwnProperty.call(Ur,mr);var Lr={};Or.d(Lr,{default:()=>pf}),(function(Ur){Ur.SVG_NS="http://www.w3.org/2000/svg",Ur.product="Highcharts",Ur.version="12.4.0",Ur.win=typeof window<"u"?window:{},Ur.doc=Ur.win.document,Ur.svg=!!Ur.doc?.createElementNS?.(Ur.SVG_NS,"svg")?.createSVGRect,Ur.pageLang=Ur.doc?.documentElement?.closest("[lang]")?.lang,Ur.userAgent=Ur.win.navigator?.userAgent||"",Ur.isChrome=Ur.win.chrome,Ur.isFirefox=Ur.userAgent.indexOf("Firefox")!==-1,Ur.isMS=/(edge|msie|trident)/i.test(Ur.userAgent)&&!Ur.win.opera,Ur.isSafari=!Ur.isChrome&&Ur.userAgent.indexOf("Safari")!==-1,Ur.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Ur.userAgent),Ur.isWebKit=Ur.userAgent.indexOf("AppleWebKit")!==-1,Ur.deg2rad=2*Math.PI/360,Ur.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],Ur.noop=function(){},Ur.supportsPassiveEvents=(function(){let mr=!1;if(!Ur.isMS){let vr=Object.defineProperty({},"passive",{get:function(){mr=!0}});Ur.win.addEventListener&&Ur.win.removeEventListener&&(Ur.win.addEventListener("testPassive",Ur.noop,vr),Ur.win.removeEventListener("testPassive",Ur.noop,vr))}return mr})(),Ur.charts=[],Ur.composed=[],Ur.dateFormats={},Ur.seriesTypes={},Ur.symbolSizes={},Ur.chartCount=0})(ir||(ir={}));let Fr=ir,{charts:Vr,doc:Zr,win:Hr}=Fr;function Yr(Ur,mr,vr,Er){let Tr=mr?"Highcharts error":"Highcharts warning";Ur===32&&(Ur=`${Tr}: Deprecated member`);let Pr=co(Ur),Nr=Pr?`${Tr} #${Ur}: www.highcharts.com/errors/${Ur}/`:Ur.toString();if(Er!==void 0){let $r="";Pr&&(Nr+="?"),Ro(Er,function(zr,qr){$r+=`
 - ${qr}: ${zr}`,Pr&&(Nr+=encodeURI(qr)+"="+encodeURI(zr))}),Nr+=$r}Qo(Fr,"displayError",{chart:vr,code:Ur,message:Nr,params:Er},function(){if(mr)throw Error(Nr);Hr.console&&Yr.messages.indexOf(Nr)===-1&&console.warn(Nr)}),Yr.messages.push(Nr)}function eo(Ur,mr){return parseInt(Ur,mr||10)}function io(Ur){return typeof Ur=="string"}function uo(Ur){let mr=Object.prototype.toString.call(Ur);return mr==="[object Array]"||mr==="[object Array Iterator]"}function so(Ur,mr){return!!Ur&&typeof Ur=="object"&&(!mr||!uo(Ur))}function no(Ur){return so(Ur)&&typeof Ur.nodeType=="number"}function po(Ur){let mr=Ur?.constructor;return!!(so(Ur,!0)&&!no(Ur)&&mr?.name&&mr.name!=="Object")}function co(Ur){return typeof Ur=="number"&&!isNaN(Ur)&&Ur<1/0&&Ur>-1/0}function lo(Ur){return Ur!=null}function ao(Ur,mr,vr){let Er,Tr=io(mr)&&!lo(vr),Pr=(Nr,$r)=>{lo(Nr)?Ur.setAttribute($r,Nr):Tr?(Er=Ur.getAttribute($r))||$r!=="class"||(Er=Ur.getAttribute($r+"Name")):Ur.removeAttribute($r)};return io(mr)?Pr(vr,mr):Ro(mr,Pr),Er}function xo(Ur){return uo(Ur)?Ur:[Ur]}function _o(Ur,mr){let vr;for(vr in Ur||(Ur={}),mr)Ur[vr]=mr[vr];return Ur}function Po(){let Ur=arguments,mr=Ur.length;for(let vr=0;vr<mr;vr++){let Er=Ur[vr];if(Er!=null)return Er}}function Oo(Ur,mr){_o(Ur.style,mr)}function So(Ur){return Math.pow(10,Math.floor(Math.log(Ur)/Math.LN10))}function Ao(Ur,mr){return Ur>1e14?Ur:parseFloat(Ur.toPrecision(mr||14))}(Yr||(Yr={})).messages=[],Math.easeInOutSine=function(Ur){return-.5*(Math.cos(Math.PI*Ur)-1)};let zo=Array.prototype.find?function(Ur,mr){return Ur.find(mr)}:function(Ur,mr){let vr,Er=Ur.length;for(vr=0;vr<Er;vr++)if(mr(Ur[vr],vr))return Ur[vr]};function Ro(Ur,mr,vr){for(let Er in Ur)Object.hasOwnProperty.call(Ur,Er)&&mr.call(vr||Ur[Er],Ur[Er],Er,Ur)}function Go(Ur,mr,vr){function Er(Nr,$r){let zr=Ur.removeEventListener;zr&&zr.call(Ur,Nr,$r,!1)}function Tr(Nr){let $r,zr;Ur.nodeName&&(mr?($r={})[mr]=!0:$r=Nr,Ro($r,function(qr,Jr){if(Nr[Jr])for(zr=Nr[Jr].length;zr--;)Er(Jr,Nr[Jr][zr].fn)}))}let Pr=typeof Ur=="function"&&Ur.prototype||Ur;if(Object.hasOwnProperty.call(Pr,"hcEvents")){let Nr=Pr.hcEvents;if(mr){let $r=Nr[mr]||[];vr?(Nr[mr]=$r.filter(function(zr){return vr!==zr.fn}),Er(mr,vr)):(Tr(Nr),Nr[mr]=[])}else Tr(Nr),delete Pr.hcEvents}}function Qo(Ur,mr,vr,Er){if(vr=vr||{},Zr?.createEvent&&(Ur.dispatchEvent||Ur.fireEvent&&Ur!==Fr)){let Tr=Zr.createEvent("Events");Tr.initEvent(mr,!0,!0),vr=_o(Tr,vr),Ur.dispatchEvent?Ur.dispatchEvent(vr):Ur.fireEvent(mr,vr)}else if(Ur.hcEvents){vr.target||_o(vr,{preventDefault:function(){vr.defaultPrevented=!0},target:Ur,type:mr});let Tr=[],Pr=Ur,Nr=!1;for(;Pr.hcEvents;)Object.hasOwnProperty.call(Pr,"hcEvents")&&Pr.hcEvents[mr]&&(Tr.length&&(Nr=!0),Tr.unshift.apply(Tr,Pr.hcEvents[mr])),Pr=Object.getPrototypeOf(Pr);Nr&&Tr.sort(($r,zr)=>$r.order-zr.order),Tr.forEach($r=>{$r.fn.call(Ur,vr)===!1&&vr.preventDefault()})}Er&&!vr.defaultPrevented&&Er.call(Ur,vr)}let Vo=(function(){let Ur=Math.random().toString(36).substring(2,9)+"-",mr=0;return function(){return"highcharts-"+(er?"":Ur)+mr++}})();Hr.jQuery&&(Hr.jQuery.fn.highcharts=function(){let Ur=[].slice.call(arguments);if(this[0])return Ur[0]?(new Fr[io(Ur[0])?Ur.shift():"Chart"](this[0],Ur[0],Ur[1]),this):Vr[ao(this[0],"data-highcharts-chart")]});let nl={addEvent:function(Ur,mr,vr,Er={}){let Tr=typeof Ur=="function"&&Ur.prototype||Ur;Object.hasOwnProperty.call(Tr,"hcEvents")||(Tr.hcEvents={});let Pr=Tr.hcEvents;Fr.Point&&Ur instanceof Fr.Point&&Ur.series&&Ur.series.chart&&(Ur.series.chart.runTrackerClick=!0);let Nr=Ur.addEventListener;Nr&&Nr.call(Ur,mr,vr,!!Fr.supportsPassiveEvents&&{passive:Er.passive===void 0?mr.indexOf("touch")!==-1:Er.passive,capture:!1}),Pr[mr]||(Pr[mr]=[]);let $r={fn:vr,order:typeof Er.order=="number"?Er.order:1/0};return Pr[mr].push($r),Pr[mr].sort((zr,qr)=>zr.order-qr.order),function(){Go(Ur,mr,vr)}},arrayMax:function(Ur){let mr=Ur.length,vr=Ur[0];for(;mr--;)Ur[mr]>vr&&(vr=Ur[mr]);return vr},arrayMin:function(Ur){let mr=Ur.length,vr=Ur[0];for(;mr--;)Ur[mr]<vr&&(vr=Ur[mr]);return vr},attr:ao,clamp:function(Ur,mr,vr){return Ur>mr?Ur<vr?Ur:vr:mr},clearTimeout:function(Ur){lo(Ur)&&clearTimeout(Ur)},correctFloat:Ao,createElement:function(Ur,mr,vr,Er,Tr){let Pr=Zr.createElement(Ur);return mr&&_o(Pr,mr),Tr&&Oo(Pr,{padding:"0",border:"none",margin:"0"}),vr&&Oo(Pr,vr),Er&&Er.appendChild(Pr),Pr},crisp:function(Ur,mr=0,vr){let Er=mr%2/2,Tr=vr?-1:1;return(Math.round(Ur*Tr-Er)+Er)*Tr},css:Oo,defined:lo,destroyObjectProperties:function(Ur,mr,vr){Ro(Ur,function(Er,Tr){Er!==mr&&Er?.destroy&&Er.destroy(),(Er?.destroy||!vr)&&delete Ur[Tr]})},diffObjects:function(Ur,mr,vr,Er){let Tr={};return(function Pr(Nr,$r,zr,qr){let Jr=vr?$r:Nr;Ro(Nr,function(Kr,ro){if(!qr&&Er&&Er.indexOf(ro)>-1&&$r[ro]){Kr=xo(Kr),zr[ro]=[];for(let fo=0;fo<Math.max(Kr.length,$r[ro].length);fo++)$r[ro][fo]&&(Kr[fo]===void 0?zr[ro][fo]=$r[ro][fo]:(zr[ro][fo]={},Pr(Kr[fo],$r[ro][fo],zr[ro][fo],qr+1)))}else so(Kr,!0)&&!Kr.nodeType?(zr[ro]=uo(Kr)?[]:{},Pr(Kr,$r[ro]||{},zr[ro],qr+1),Object.keys(zr[ro]).length===0&&(ro!=="colorAxis"||qr!==0)&&delete zr[ro]):(Nr[ro]!==$r[ro]||ro in Nr&&!(ro in $r))&&ro!=="__proto__"&&ro!=="constructor"&&(zr[ro]=Jr[ro])})})(Ur,mr,Tr,0),Tr},discardElement:function(Ur){Ur?.parentElement?.removeChild(Ur)},erase:function(Ur,mr){let vr=Ur.length;for(;vr--;)if(Ur[vr]===mr){Ur.splice(vr,1);break}},error:Yr,extend:_o,extendClass:function(Ur,mr){let vr=function(){};return vr.prototype=new Ur,_o(vr.prototype,mr),vr},find:zo,fireEvent:Qo,getAlignFactor:(Ur="")=>({center:.5,right:1,middle:.5,bottom:1})[Ur]||0,getClosestDistance:function(Ur,mr){let vr,Er,Tr,Pr=!mr;return Ur.forEach(Nr=>{if(Nr.length>1)for(Tr=Nr.length-1;Tr>0;Tr--)(Er=Nr[Tr]-Nr[Tr-1])<0&&!Pr?(mr?.(),mr=void 0):Er&&(vr===void 0||Er<vr)&&(vr=Er)}),vr},getMagnitude:So,getNestedProperty:function(Ur,mr){let vr=Ur.split(".");for(;vr.length&&lo(mr);){let Er=vr.shift();if(Er===void 0||Er==="__proto__")return;if(Er==="this"){let Pr;return so(mr)&&(Pr=mr["@this"]),Pr??mr}let Tr=mr[Er.replace(/[\\'"]/g,"")];if(!lo(Tr)||typeof Tr=="function"||typeof Tr.nodeType=="number"||Tr===Hr)return;mr=Tr}return mr},getStyle:function Ur(mr,vr,Er){let Tr;if(vr==="width"){let Nr=Math.min(mr.offsetWidth,mr.scrollWidth),$r=mr.getBoundingClientRect?.().width;return $r<Nr&&$r>=Nr-1&&(Nr=Math.floor($r)),Math.max(0,Nr-(Ur(mr,"padding-left",!0)||0)-(Ur(mr,"padding-right",!0)||0))}if(vr==="height")return Math.max(0,Math.min(mr.offsetHeight,mr.scrollHeight)-(Ur(mr,"padding-top",!0)||0)-(Ur(mr,"padding-bottom",!0)||0));let Pr=Hr.getComputedStyle(mr,void 0);return Pr&&(Tr=Pr.getPropertyValue(vr),Po(Er,vr!=="opacity")&&(Tr=eo(Tr))),Tr},insertItem:function(Ur,mr){let vr,Er=Ur.options.index,Tr=mr.length;for(vr=Ur.options.isInternal?Tr:0;vr<Tr+1;vr++)if(!mr[vr]||co(Er)&&Er<Po(mr[vr].options.index,mr[vr]._i)||mr[vr].options.isInternal){mr.splice(vr,0,Ur);break}return vr},isArray:uo,isClass:po,isDOMElement:no,isFunction:function(Ur){return typeof Ur=="function"},isNumber:co,isObject:so,isString:io,merge:function(Ur,...mr){let vr,Er=[Ur,...mr],Tr={},Pr=function($r,zr){return typeof $r!="object"&&($r={}),Ro(zr,function(qr,Jr){Jr!=="__proto__"&&Jr!=="constructor"&&(!so(qr,!0)||po(qr)||no(qr)?$r[Jr]=zr[Jr]:$r[Jr]=Pr($r[Jr]||{},qr))}),$r};Ur===!0&&(Tr=Er[1],Er=Array.prototype.slice.call(Er,2));let Nr=Er.length;for(vr=0;vr<Nr;vr++)Tr=Pr(Tr,Er[vr]);return Tr},normalizeTickInterval:function(Ur,mr,vr,Er,Tr){let Pr,Nr=Ur;vr=Po(vr,So(Ur));let $r=Ur/vr;for(!mr&&(mr=Tr?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],Er===!1&&(vr===1?mr=mr.filter(function(zr){return zr%1==0}):vr<=.1&&(mr=[1/vr]))),Pr=0;Pr<mr.length&&(Nr=mr[Pr],(!Tr||!(Nr*vr>=Ur))&&(Tr||!($r<=(mr[Pr]+(mr[Pr+1]||mr[Pr]))/2)));Pr++);return Ao(Nr*vr,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Ro,offset:function(Ur){let mr=Zr.documentElement,vr=Ur.parentElement||Ur.parentNode?Ur.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:vr.top+(Hr.pageYOffset||mr.scrollTop)-(mr.clientTop||0),left:vr.left+(Hr.pageXOffset||mr.scrollLeft)-(mr.clientLeft||0),width:vr.width,height:vr.height}},pad:function(Ur,mr,vr){return Array((mr||2)+1-String(Ur).replace("-","").length).join(vr||"0")+Ur},pick:Po,pInt:eo,pushUnique:function(Ur,mr){return 0>Ur.indexOf(mr)&&!!Ur.push(mr)},relativeLength:function(Ur,mr,vr){return/%$/.test(Ur)?mr*parseFloat(Ur)/100+(vr||0):parseFloat(Ur)},removeEvent:Go,replaceNested:function(Ur,...mr){let vr,Er;do for(Er of(vr=Ur,mr))Ur=Ur.replace(Er[0],Er[1]);while(Ur!==vr);return Ur},splat:xo,stableSort:function(Ur,mr){let vr,Er,Tr=Ur.length;for(Er=0;Er<Tr;Er++)Ur[Er].safeI=Er;for(Ur.sort(function(Pr,Nr){return(vr=mr(Pr,Nr))===0?Pr.safeI-Nr.safeI:vr}),Er=0;Er<Tr;Er++)delete Ur[Er].safeI},syncTimeout:function(Ur,mr,vr){return mr>0?setTimeout(Ur,mr,vr):(Ur.call(0,vr),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(Ur){return io(Ur)?Ur.substring(0,1).toUpperCase()+Ur.substring(1):String(Ur)},uniqueKey:Vo,useSerialIds:function(Ur){return er=Po(Ur,er)},wrap:function(Ur,mr,vr){let Er=Ur[mr];Ur[mr]=function(){let Tr=arguments,Pr=this;return vr.apply(this,[function(){return Er.apply(Pr,arguments.length?arguments:Tr)}].concat([].slice.call(arguments)))}}},{pageLang:fl,win:Bl}=Fr,{defined:Gl,error:Tl,extend:Pc,isNumber:mc,isObject:Hc,isString:Vl,merge:Jc,objectEach:Yl,pad:ic,splat:cc,timeUnits:Xc,ucfirst:Sc}=nl,Oc=Fr.isSafari&&Bl.Intl&&!Bl.Intl.DateTimeFormat.prototype.formatRange,gl=Ur=>Ur.main===void 0,Ql=class{constructor(Ur,mr){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Bl.Date,this.update(Ur),this.lang=mr}update(Ur={}){this.dTLCache={},this.options=Ur=Jc(!0,this.options,Ur);let{timezoneOffset:mr,useUTC:vr,locale:Er}=Ur;this.Date=Ur.Date||Bl.Date||Date;let Tr=Ur.timezone;Gl(vr)&&(Tr=vr?"UTC":void 0),mr&&mr%60==0&&(Tr="Etc/GMT"+(mr>0?"+":"")+mr/60),this.variableTimezone=Tr!=="UTC"&&Tr?.indexOf("Etc/GMT")!==0,this.timezone=Tr,this.lang&&Er&&(this.lang.locale=Er),["months","shortMonths","weekdays","shortWeekdays"].forEach(Pr=>{let Nr=/months/i.test(Pr),$r=/short/.test(Pr),zr={timeZone:"UTC"};zr[Nr?"month":"weekday"]=$r?"short":"long",this[Pr]=(Nr?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(qr=>this.dateFormat(zr,(Nr?31:1)*24*36e5*qr))})}toParts(Ur){let[mr,vr,Er,Tr,Pr,Nr,$r]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Ur,"es").split(/(?:, | |\/|:)/g);return[Tr,Er-1,vr,Pr,Nr,$r,Math.floor(Number(Ur)||0)%1e3,"DLMXJVS".indexOf(mr)].map(Number)}dateTimeFormat(Ur,mr,vr=this.options.locale||fl){let Er=JSON.stringify(Ur)+vr;Vl(Ur)&&(Ur=this.str2dtf(Ur));let Tr=this.dTLCache[Er];if(!Tr){Ur.timeZone??(Ur.timeZone=this.timezone);try{Tr=new Intl.DateTimeFormat(vr,Ur)}catch(Pr){/Invalid time zone/i.test(Pr.message)?(Tl(34),Ur.timeZone="UTC",Tr=new Intl.DateTimeFormat(vr,Ur)):Tl(Pr.message,!1)}}return this.dTLCache[Er]=Tr,Tr?.format(mr)||""}str2dtf(Ur,mr={}){let vr={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(vr).forEach(Er=>{Ur.indexOf(Er)!==-1&&Pc(mr,vr[Er])}),mr}makeTime(Ur,mr,vr=1,Er=0,Tr,Pr,Nr){let $r=this.Date.UTC(Ur,mr,vr,Er,Tr||0,Pr||0,Nr||0);if(this.timezone!=="UTC"){let zr=this.getTimezoneOffset($r);if($r+=zr,[2,3,8,9,10,11].indexOf(mr)!==-1&&(Er<5||Er>20)){let qr=this.getTimezoneOffset($r);zr!==qr?$r+=qr-zr:zr-36e5!==this.getTimezoneOffset($r-36e5)||Oc||($r-=36e5)}}return $r}parse(Ur){if(!Vl(Ur))return Ur??void 0;let mr=(Ur=Ur.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(Ur),vr=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(Ur);mr||vr||(Ur+="Z");let Er=Date.parse(Ur);if(mc(Er))return Er+(!mr||vr?this.getTimezoneOffset(Er):0)}getTimezoneOffset(Ur){if(this.timezone!=="UTC"){let[mr,vr,Er,Tr,Pr=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},Ur,"en").split(/(GMT|:)/).map(Number),Nr=-(60*(Er+Pr/60)*6e4);if(mc(Nr))return Nr}return 0}dateFormat(Ur,mr,vr){let Er=this.lang;if(!Gl(mr)||isNaN(mr))return Er?.invalidDate||"";if(Vl(Ur=Ur??"%Y-%m-%d %H:%M:%S")){let Tr,Pr=/%\[([a-zA-Z]+)\]/g;for(;Tr=Pr.exec(Ur);)Ur=Ur.replace(Tr[0],this.dateTimeFormat(Tr[1],mr,Er?.locale))}if(Vl(Ur)&&Ur.indexOf("%")!==-1){let Tr=this,[Pr,Nr,$r,zr,qr,Jr,Kr,ro]=this.toParts(mr),fo=Er?.weekdays||this.weekdays,mo=Er?.shortWeekdays||this.shortWeekdays,bo=Er?.months||this.months,vo=Er?.shortMonths||this.shortMonths;Yl(Pc({a:mo?mo[ro]:fo[ro].substr(0,3),A:fo[ro],d:ic($r),e:ic($r,2," "),w:ro,v:Er?.weekFrom??"",b:vo[Nr],B:bo[Nr],m:ic(Nr+1),o:Nr+1,y:Pr.toString().substr(2,2),Y:Pr,H:ic(zr),k:zr,I:ic(zr%12||12),l:zr%12||12,M:ic(qr),p:zr<12?"AM":"PM",P:zr<12?"am":"pm",S:ic(Jr),L:ic(Kr,3)},Fr.dateFormats),function(yo,To){if(Vl(Ur))for(;Ur.indexOf("%"+To)!==-1;)Ur=Ur.replace("%"+To,typeof yo=="function"?yo.call(Tr,mr):yo)})}else if(Hc(Ur)){let Tr=(this.getTimezoneOffset(mr)||0)/36e5,Pr=this.timezone||"Etc/GMT"+(Tr>=0?"+":"")+Tr,{prefix:Nr="",suffix:$r=""}=Ur;Ur=Nr+this.dateTimeFormat(Pc({timeZone:Pr},Ur),mr)+$r}return vr?Sc(Ur):Ur}resolveDTLFormat(Ur){return Hc(Ur,!0)?Hc(Ur,!0)&&gl(Ur)?{main:Ur}:Ur:{main:(Ur=cc(Ur))[0],from:Ur[1],to:Ur[2]}}getDateFormat(Ur,mr,vr,Er){let Tr=this.dateFormat("%m-%d %H:%M:%S.%L",mr),Pr="01-01 00:00:00.000",Nr={millisecond:15,second:12,minute:9,hour:6,day:3},$r="millisecond",zr=$r;for($r in Xc){if(Ur&&Ur===Xc.week&&+this.dateFormat("%w",mr)===vr&&Tr.substr(6)===Pr.substr(6)){$r="week";break}if(Ur&&Xc[$r]>Ur){$r=zr;break}if(Nr[$r]&&Tr.substr(Nr[$r])!==Pr.substr(Nr[$r]))break;$r!=="week"&&(zr=$r)}return this.resolveDTLFormat(Er[$r]).main}},{defined:ql,extend:wc,timeUnits:Il}=nl,rl=class extends Ql{getTimeTicks(Ur,mr,vr,Er){let Tr=this,Pr=[],Nr={},{count:$r=1,unitRange:zr}=Ur,[qr,Jr,Kr,ro,fo,mo]=Tr.toParts(mr),bo=(mr||0)%1e3,vo;if(Er??(Er=1),ql(mr)){if(bo=zr>=Il.second?0:$r*Math.floor(bo/$r),zr>=Il.second&&(mo=zr>=Il.minute?0:$r*Math.floor(mo/$r)),zr>=Il.minute&&(fo=zr>=Il.hour?0:$r*Math.floor(fo/$r)),zr>=Il.hour&&(ro=zr>=Il.day?0:$r*Math.floor(ro/$r)),zr>=Il.day&&(Kr=zr>=Il.month?1:Math.max(1,$r*Math.floor(Kr/$r))),zr>=Il.month&&(Jr=zr>=Il.year?0:$r*Math.floor(Jr/$r)),zr>=Il.year&&(qr-=qr%$r),zr===Il.week){$r&&(mr=Tr.makeTime(qr,Jr,Kr,ro,fo,mo,bo));let Do=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},mr,"es"),Lo="DLMXJVS".indexOf(Do);Kr+=-Lo+Er+(Lo<Er?-7:0)}mr=Tr.makeTime(qr,Jr,Kr,ro,fo,mo,bo),Tr.variableTimezone&&ql(vr)&&(vo=vr-mr>4*Il.month||Tr.getTimezoneOffset(mr)!==Tr.getTimezoneOffset(vr));let yo=mr,To=1;for(;yo<vr;)Pr.push(yo),zr===Il.year?yo=Tr.makeTime(qr+To*$r,0):zr===Il.month?yo=Tr.makeTime(qr,Jr+To*$r):vo&&(zr===Il.day||zr===Il.week)?yo=Tr.makeTime(qr,Jr,Kr+To*$r*(zr===Il.day?1:7)):vo&&zr===Il.hour&&$r>1?yo=Tr.makeTime(qr,Jr,Kr,ro+To*$r):yo+=zr*$r,To++;Pr.push(yo),zr<=Il.hour&&Pr.length<1e4&&Pr.forEach(Do=>{Do%18e5==0&&Tr.dateFormat("%H%M%S%L",Do)==="000000000"&&(Nr[Do]="day")})}return Pr.info=wc(Ur,{higherRanks:Nr,totalRange:zr*$r}),Pr}},{isTouchDevice:il}=Fr,{fireEvent:hl,merge:Dl}=nl,Pl={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:Ur=>Math.sqrt(1-Math.pow(Ur-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:il?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Jl=new rl(Pl.time,Pl.lang),oc={defaultOptions:Pl,defaultTime:Jl,getOptions:function(){return Pl},setOptions:function(Ur){return hl(Fr,"setOptions",{options:Ur}),Dl(!0,Pl,Ur),Ur.time&&Jl.update(Pl.time),Ur.lang&&"locale"in Ur.lang&&Jl.update({locale:Ur.lang.locale}),Ur.lang?.chartTitle&&(Pl.title={...Pl.title,text:Ur.lang.chartTitle}),Pl}},{win:qc}=Fr,{isNumber:xc,isString:jc,merge:vu,pInt:Kc,defined:uc}=nl,Ic=(Ur,mr,vr)=>`color-mix(in srgb,${Ur},${mr} ${100*vr}%)`,ec=Ur=>jc(Ur)&&!!Ur&&Ur!=="none";class Hl{static parse(mr){return mr?new Hl(mr):Hl.None}constructor(mr){let vr,Er,Tr,Pr;this.rgba=[NaN,NaN,NaN,NaN],this.input=mr;let Nr=Fr.Color;if(Nr&&Nr!==Hl)return new Nr(mr);if(typeof mr=="object"&&mr.stops!==void 0)this.stops=mr.stops.map($r=>new Hl($r[1]));else if(typeof mr=="string")for(this.input=mr=Hl.names[mr.toLowerCase()]||mr,Tr=Hl.parsers.length;Tr--&&!Er;)(vr=(Pr=Hl.parsers[Tr]).regex.exec(mr))&&(Er=Pr.parse(vr));Er&&(this.rgba=Er)}get(mr){let vr=this.input,Er=this.rgba;if(this.output)return this.output;if(typeof vr=="object"&&this.stops!==void 0){let Tr=vu(vr);return Tr.stops=[].slice.call(Tr.stops),this.stops.forEach((Pr,Nr)=>{Tr.stops[Nr]=[Tr.stops[Nr][0],Pr.get(mr)]}),Tr}return Er&&xc(Er[0])?mr!=="rgb"&&(mr||Er[3]!==1)?mr==="a"?`${Er[3]}`:"rgba("+Er.join(",")+")":"rgb("+Er[0]+","+Er[1]+","+Er[2]+")":vr}brighten(mr){let vr=this.rgba;if(this.stops)this.stops.forEach(function(Er){Er.brighten(mr)});else if(xc(mr)&&mr!==0)if(xc(vr[0]))for(let Er=0;Er<3;Er++)vr[Er]+=Kc(255*mr),vr[Er]<0&&(vr[Er]=0),vr[Er]>255&&(vr[Er]=255);else Hl.useColorMix&&ec(this.input)&&(this.output=Ic(this.input,mr>0?"white":"black",Math.abs(mr)));return this}setOpacity(mr){return this.rgba[3]=mr,this}tweenTo(mr,vr){let Er=this.rgba,Tr=mr.rgba;if(!xc(Er[0])||!xc(Tr[0]))return Hl.useColorMix&&ec(this.input)&&ec(mr.input)&&vr<.99?Ic(this.input,mr.input,vr):mr.input||"none";let Pr=Tr[3]!==1||Er[3]!==1,Nr=(zr,qr)=>zr+(Er[qr]-zr)*(1-vr),$r=Tr.slice(0,3).map(Nr).map(Math.round);return Pr&&$r.push(Nr(Tr[3],3)),(Pr?"rgba(":"rgb(")+$r.join(",")+")"}}Hl.names={white:"#ffffff",black:"#000000"},Hl.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(Ur){return[Kc(Ur[1]),Kc(Ur[2]),Kc(Ur[3]),parseFloat(Ur[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(Ur){return[Kc(Ur[1]),Kc(Ur[2]),Kc(Ur[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(Ur){return[Kc(Ur[1]+Ur[1],16),Kc(Ur[2]+Ur[2],16),Kc(Ur[3]+Ur[3],16),uc(Ur[4])?Kc(Ur[4]+Ur[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(Ur){return[Kc(Ur[1],16),Kc(Ur[2],16),Kc(Ur[3],16),uc(Ur[4])?Kc(Ur[4],16)/255:1]}}],Hl.useColorMix=qc.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),Hl.None=new Hl("");let{parse:ah}=Hl,{win:sl}=Fr,{isNumber:yl,objectEach:Ll}=nl;class Cl{constructor(mr,vr,Er){this.pos=NaN,this.options=vr,this.elem=mr,this.prop=Er}dSetter(){let mr=this.paths,vr=mr?.[0],Er=mr?.[1],Tr=this.now||0,Pr=[];if(Tr!==1&&vr&&Er)if(vr.length===Er.length&&Tr<1)for(let Nr=0;Nr<Er.length;Nr++){let $r=vr[Nr],zr=Er[Nr],qr=[];for(let Jr=0;Jr<zr.length;Jr++){let Kr=$r[Jr],ro=zr[Jr];yl(Kr)&&yl(ro)&&(zr[0]!=="A"||Jr!==4&&Jr!==5)?qr[Jr]=Kr+Tr*(ro-Kr):qr[Jr]=ro}Pr.push(qr)}else Pr=Er;else Pr=this.toD||[];this.elem.attr("d",Pr,void 0,!0)}update(){let mr=this.elem,vr=this.prop,Er=this.now,Tr=this.options.step;this[vr+"Setter"]?this[vr+"Setter"]():mr.attr?mr.element&&mr.attr(vr,Er,null,!0):mr.style[vr]=Er+this.unit,Tr&&Tr.call(mr,Er,this)}run(mr,vr,Er){let Tr=this,Pr=Tr.options,Nr=function(qr){return!Nr.stopped&&Tr.step(qr)},$r=sl.requestAnimationFrame||function(qr){setTimeout(qr,13)},zr=function(){for(let qr=0;qr<Cl.timers.length;qr++)Cl.timers[qr]()||Cl.timers.splice(qr--,1);Cl.timers.length&&$r(zr)};mr!==vr||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=mr,this.end=vr,this.unit=Er,this.now=this.start,this.pos=0,Nr.elem=this.elem,Nr.prop=this.prop,Nr()&&Cl.timers.push(Nr)===1&&$r(zr)):(delete Pr.curAnim[this.prop],Pr.complete&&Object.keys(Pr.curAnim).length===0&&Pr.complete.call(this.elem))}step(mr){let vr,Er,Tr=+new Date,Pr=this.options,Nr=this.elem,$r=Pr.complete,zr=Pr.duration,qr=Pr.curAnim;return Nr.attr&&!Nr.element?vr=!1:mr||Tr>=zr+this.startTime?(this.now=this.end,this.pos=1,this.update(),qr[this.prop]=!0,Er=!0,Ll(qr,function(Jr){Jr!==!0&&(Er=!1)}),Er&&$r&&$r.call(Nr),vr=!1):(this.pos=Pr.easing((Tr-this.startTime)/zr),this.now=this.start+(this.end-this.start)*this.pos,this.update(),vr=!0),vr}initPath(mr,vr,Er){let Tr=mr.startX,Pr=mr.endX,Nr=Er.slice(),$r=mr.isArea,zr=$r?2:1,qr=vr&&Er.length>vr.length&&Er.hasStackedCliffs,Jr,Kr,ro,fo,mo=vr?.slice();if(!mo||qr)return[Nr,Nr];function bo(yo,To){for(;yo.length<Kr;){let Do=yo[0],Lo=To[Kr-yo.length];if(Lo&&Do[0]==="M"&&(Lo[0]==="C"?yo[0]=["C",Do[1],Do[2],Do[1],Do[2],Do[1],Do[2]]:yo[0]=["L",Do[1],Do[2]]),yo.unshift(Do),$r){let Wo=yo.pop();yo.push(yo[yo.length-1],Wo)}}}function vo(yo){for(;yo.length<Kr;){let To=yo[Math.floor(yo.length/zr)-1].slice();if(To[0]==="C"&&(To[1]=To[5],To[2]=To[6]),$r){let Do=yo[Math.floor(yo.length/zr)].slice();yo.splice(yo.length/2,0,To,Do)}else yo.push(To)}}if(Tr&&Pr&&Pr.length){for(ro=0;ro<Tr.length;ro++)if(Tr[ro]===Pr[0]){Jr=ro;break}else if(Tr[0]===Pr[Pr.length-Tr.length+ro]){Jr=ro,fo=!0;break}else if(Tr[Tr.length-1]===Pr[Pr.length-Tr.length+ro]){Jr=Tr.length-ro;break}Jr===void 0&&(mo=[])}return mo.length&&yl(Jr)&&(Kr=Nr.length+Jr*zr,fo?(bo(mo,Nr),vo(Nr)):(bo(Nr,mo),vo(mo))),[mo,Nr]}fillSetter(){Cl.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ah(this.start).tweenTo(ah(this.end),this.pos),void 0,!0)}}Cl.timers=[];let{defined:kl,getStyle:bu,isArray:oh,isNumber:ku,isObject:Dc,merge:eu,objectEach:Zc,pick:ac}=nl;function hu(Ur){return Dc(Ur)?eu({duration:500,defer:0},Ur):{duration:500*!!Ur,defer:0}}function du(Ur,mr){let vr=Cl.timers.length;for(;vr--;)Cl.timers[vr].elem!==Ur||mr&&mr!==Cl.timers[vr].prop||(Cl.timers[vr].stopped=!0)}let Wc={animate:function(Ur,mr,vr){let Er,Tr="",Pr,Nr,$r;Dc(vr)||($r=arguments,vr={duration:$r[2],easing:$r[3],complete:$r[4]}),ku(vr.duration)||(vr.duration=400),vr.easing=typeof vr.easing=="function"?vr.easing:Math[vr.easing]||Math.easeInOutSine,vr.curAnim=eu(mr),Zc(mr,function(zr,qr){du(Ur,qr),Nr=new Cl(Ur,vr,qr),Pr=void 0,qr==="d"&&oh(mr.d)?(Nr.paths=Nr.initPath(Ur,Ur.pathArray,mr.d),Nr.toD=mr.d,Er=0,Pr=1):Ur.attr?Er=Ur.attr(qr):(Er=parseFloat(bu(Ur,qr))||0,qr!=="opacity"&&(Tr="px")),Pr||(Pr=zr),typeof Pr=="string"&&Pr.match("px")&&(Pr=Pr.replace(/px/g,"")),Nr.run(Er,Pr,Tr)})},animObject:hu,getDeferredAnimation:function(Ur,mr,vr){let Er=hu(mr),Tr=vr?[vr]:Ur.series,Pr=0,Nr=0;return Tr.forEach($r=>{let zr=hu($r.options.animation);Pr=Dc(mr)&&kl(mr.defer)?Er.defer:Math.max(Pr,zr.duration+zr.defer),Nr=Math.min(Er.duration,zr.duration)}),Ur.renderer.forExport&&(Pr=0),{defer:Math.max(0,Pr-Nr),duration:Math.min(Pr,Nr)}},setAnimation:function(Ur,mr){mr.renderer.globalAnimation=ac(Ur,mr.options.chart.animation,!0)},stop:du},{SVG_NS:Iu,win:qh}=Fr,{attr:Bh,createElement:zh,css:Fc,error:Hu,isFunction:tu,isString:Hh,objectEach:cd,splat:fh}=nl,{trustedTypes:Nh}=qh,bh=Nh&&tu(Nh.createPolicy)&&Nh.createPolicy("highcharts",{createHTML:Ur=>Ur}),Ed=bh?bh.createHTML(""):"";class _u{static filterUserAttributes(mr){return cd(mr,(vr,Er)=>{let Tr=!0;_u.allowedAttributes.indexOf(Er)===-1&&(Tr=!1),["background","dynsrc","href","lowsrc","src"].indexOf(Er)!==-1&&(Tr=Hh(vr)&&_u.allowedReferences.some(Pr=>vr.indexOf(Pr)===0)),Tr||(Hu(33,!1,void 0,{"Invalid attribute in config":`${Er}`}),delete mr[Er]),Hh(vr)&&mr[Er]&&(mr[Er]=vr.replace(/</g,"&lt;"))}),mr}static parseStyle(mr){return mr.split(";").reduce((vr,Er)=>{let Tr=Er.split(":").map(Nr=>Nr.trim()),Pr=Tr.shift();return Pr&&Tr.length&&(vr[Pr.replace(/-([a-z])/g,Nr=>Nr[1].toUpperCase())]=Tr.join(":")),vr},{})}static setElementHTML(mr,vr){mr.innerHTML=_u.emptyHTML,vr&&new _u(vr).addToDOM(mr)}constructor(mr){this.nodes=typeof mr=="string"?this.parseMarkup(mr):mr}addToDOM(mr){return(function vr(Er,Tr){let Pr;return fh(Er).forEach(function(Nr){let $r,zr=Nr.tagName,qr=Nr.textContent?Fr.doc.createTextNode(Nr.textContent):void 0,Jr=_u.bypassHTMLFiltering;if(zr)if(zr==="#text")$r=qr;else if(_u.allowedTags.indexOf(zr)!==-1||Jr){let Kr=zr==="svg"?Iu:Tr.namespaceURI||Iu,ro=Fr.doc.createElementNS(Kr,zr),fo=Nr.attributes||{};cd(Nr,function(mo,bo){bo!=="tagName"&&bo!=="attributes"&&bo!=="children"&&bo!=="style"&&bo!=="textContent"&&(fo[bo]=mo)}),Bh(ro,Jr?fo:_u.filterUserAttributes(fo)),Nr.style&&Fc(ro,Nr.style),qr&&ro.appendChild(qr),vr(Nr.children||[],ro),$r=ro}else Hu(33,!1,void 0,{"Invalid tagName in config":zr});$r&&Tr.appendChild($r),Pr=$r}),Pr})(this.nodes,mr)}parseMarkup(mr){let vr,Er=[];mr=mr.trim().replace(/ style=(["'])/g," data-style=$1");try{vr=new DOMParser().parseFromString(bh?bh.createHTML(mr):mr,"text/html")}catch{}if(!vr){let Pr=zh("div");Pr.innerHTML=mr,vr={body:Pr}}let Tr=(Pr,Nr)=>{let $r=Pr.nodeName.toLowerCase(),zr={tagName:$r};$r==="#text"&&(zr.textContent=Pr.textContent||"");let qr=Pr.attributes;if(qr){let Jr={};[].forEach.call(qr,Kr=>{Kr.name==="data-style"?zr.style=_u.parseStyle(Kr.value):Jr[Kr.name]=Kr.value}),zr.attributes=Jr}if(Pr.childNodes.length){let Jr=[];[].forEach.call(Pr.childNodes,Kr=>{Tr(Kr,Jr)}),Jr.length&&(zr.children=Jr)}Nr.push(zr)};return[].forEach.call(vr.body.childNodes,Pr=>Tr(Pr,Er)),Er}}_u.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],_u.allowedReferences=["https://","http://","mailto:","/","../","./","#"],_u.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],_u.emptyHTML=Ed,_u.bypassHTMLFiltering=!1;let{defaultOptions:Bf,defaultTime:Lc}=oc,{pageLang:Gc}=Fr,{extend:Th,getNestedProperty:ph,isArray:Sd,isNumber:fp,isObject:yc,isString:wu,pick:Wh,ucfirst:um}=nl,Eu={add:(Ur,mr)=>Ur+mr,divide:(Ur,mr)=>mr!==0?Ur/mr:"",eq:(Ur,mr)=>Ur==mr,each:function(Ur){let mr=arguments[arguments.length-1];return!!Sd(Ur)&&Ur.map((vr,Er)=>ud(mr.body,Th(yc(vr)?vr:{"@this":vr},{"@index":Er,"@first":Er===0,"@last":Er===Ur.length-1}))).join("")},ge:(Ur,mr)=>Ur>=mr,gt:(Ur,mr)=>Ur>mr,if:Ur=>!!Ur,le:(Ur,mr)=>Ur<=mr,lt:(Ur,mr)=>Ur<mr,multiply:(Ur,mr)=>Ur*mr,ne:(Ur,mr)=>Ur!=mr,subtract:(Ur,mr)=>Ur-mr,ucfirst:um,unless:Ur=>!Ur},zf={},Jd=Ur=>/^["'].+["']$/.test(Ur);function ud(Ur="",mr,vr){let Er=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,Tr=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,Pr=[],Nr=/f$/,$r=/\.(\d)/,zr=vr?.options?.lang||Bf.lang,qr=vr?.time||Lc,Jr=vr?.numberFormatter||Au.bind(vr),Kr=(vo="")=>{let yo;return vo==="true"||vo!=="false"&&((yo=Number(vo)).toString()===vo?yo:Jd(vo)?vo.slice(1,-1):ph(vo,mr))},ro,fo,mo=0,bo;for(;(ro=Er.exec(Ur))!==null;){let vo=ro,yo=Tr.exec(ro[1]);yo&&(ro=yo,bo=!0),fo?.isBlock||(fo={ctx:mr,expression:ro[1],find:ro[0],isBlock:ro[1].charAt(0)==="#",start:ro.index,startInner:ro.index+ro[0].length,length:ro[0].length});let To=(fo.isBlock?vo:ro)[1].split(" ")[0].replace("#","");Eu[To]&&(fo.isBlock&&To===fo.fn&&mo++,fo.fn||(fo.fn=To));let Do=ro[1]==="else";if(fo.isBlock&&fo.fn&&(ro[1]===`/${fo.fn}`||Do))if(mo)!Do&&mo--;else{let Lo=fo.startInner,Wo=Ur.substr(Lo,ro.index-Lo);fo.body===void 0?(fo.body=Wo,fo.startInner=ro.index+ro[0].length):fo.elseBody=Wo,fo.find+=Wo+ro[0],Do||(Pr.push(fo),fo=void 0)}else fo.isBlock||Pr.push(fo);if(yo&&!fo?.isBlock)break}return Pr.forEach(vo=>{let yo,To,{body:Do,elseBody:Lo,expression:Wo,fn:Uo}=vo;if(Uo){let Yo=[vo],Bo=[],pl=Wo.length,xl=0,ml;for(To=0;To<=pl;To++){let Ol=Wo.charAt(To);ml||Ol!=='"'&&Ol!=="'"?ml===Ol&&(ml=""):ml=Ol,ml||Ol!==" "&&To!==pl||(Bo.push(Wo.substr(xl,To-xl)),xl=To+1)}for(To=Eu[Uo].length;To--;)Yo.unshift(Kr(Bo[To+1]));yo=Eu[Uo].apply(mr,Yo),vo.isBlock&&typeof yo=="boolean"&&(yo=ud(yo?Do:Lo,mr,vr))}else{let Yo=Jd(Wo)?[Wo]:Wo.split(":"),Bo=(yo=Kr(Yo.shift()||""))%1!=0;if(typeof yo=="number"&&(Yo.length||Bo)){let pl=Yo.join(":");if(Nr.test(pl)||Bo){let xl=parseInt((pl.match($r)||["","-1"])[1],10);yo!==null&&(yo=Jr(yo,xl,zr.decimalPoint,pl.indexOf(",")>-1?zr.thousandsSep:""))}else yo=qr.dateFormat(pl,yo)}Tr.lastIndex=0,Tr.test(vo.find)&&wu(yo)&&(yo=`"${yo}"`)}Ur=Ur.replace(vo.find,Wh(yo,""))}),bo?ud(Ur,mr,vr):Ur}function Au(Ur,mr,vr,Er){mr*=1;let Tr,Pr,[Nr,$r]=(Ur=+Ur||0).toString().split("e").map(Number),zr=this?.options?.lang||Bf.lang,qr=(Ur.toString().split(".")[1]||"").split("e")[0].length,Jr=mr,Kr={};vr??(vr=zr.decimalPoint),Er??(Er=zr.thousandsSep),mr===-1?mr=Math.min(qr,20):fp(mr)?mr&&$r<0&&((Pr=mr+$r)>=0?(Nr=+Nr.toExponential(Pr).split("e")[0],mr=Pr):(Nr=Math.floor(Nr),Ur=mr<20?+(Nr*Math.pow(10,$r)).toFixed(mr):0,$r=0)):mr=2,$r&&(mr??(mr=2),Ur=Nr),fp(mr)&&mr>=0&&(Kr.minimumFractionDigits=mr,Kr.maximumFractionDigits=mr),Er===""&&(Kr.useGrouping=!1);let ro=Er||vr,fo=ro?"en":this?.locale||zr.locale||Gc,mo=JSON.stringify(Kr)+fo;return Tr=(zf[mo]??(zf[mo]=new Intl.NumberFormat(fo,Kr))).format(Ur),ro&&(Tr=Tr.replace(/([,\.])/g,"_$1").replace(/_\,/g,Er??",").replace("_.",vr??".")),(mr||+Tr!=0)&&(!($r<0)||Jr)||(Tr="0"),$r&&+Tr!=0&&(Tr+="e"+($r<0?"":"+")+$r),Tr}let jo={dateFormat:function(Ur,mr,vr){return Lc.dateFormat(Ur,mr,vr)},format:ud,helpers:Eu,numberFormat:Au};(function(Ur){let mr;Ur.rendererTypes={},Ur.getRendererType=function(vr=mr){return Ur.rendererTypes[vr]||Ur.rendererTypes[mr]},Ur.registerRendererType=function(vr,Er,Tr){Ur.rendererTypes[vr]=Er,(!mr||Tr)&&(mr=vr,Fr.Renderer=Er)}})(rr||(rr={}));let Mo=rr,{clamp:$o,pick:ll,pushUnique:Rl,stableSort:zl}=nl;(sr||(sr={})).distribute=function Ur(mr,vr,Er){let Tr=mr,Pr=Tr.reducedLen||vr,Nr=(Do,Lo)=>Do.target-Lo.target,$r=[],zr=mr.length,qr=[],Jr=$r.push,Kr,ro,fo,mo=!0,bo,vo,yo=0,To;for(Kr=zr;Kr--;)yo+=mr[Kr].size;if(yo>Pr){for(zl(mr,(Do,Lo)=>(Lo.rank||0)-(Do.rank||0)),fo=(To=mr[0].rank===mr[mr.length-1].rank)?zr/2:-1,ro=To?fo:zr-1;fo&&yo>Pr;)bo=mr[Kr=Math.floor(ro)],Rl(qr,Kr)&&(yo-=bo.size),ro+=fo,To&&ro>=mr.length&&(fo/=2,ro=fo);qr.sort((Do,Lo)=>Lo-Do).forEach(Do=>Jr.apply($r,mr.splice(Do,1)))}for(zl(mr,Nr),mr=mr.map(Do=>({size:Do.size,targets:[Do.target],align:ll(Do.align,.5)}));mo;){for(Kr=mr.length;Kr--;)bo=mr[Kr],vo=(Math.min.apply(0,bo.targets)+Math.max.apply(0,bo.targets))/2,bo.pos=$o(vo-bo.size*bo.align,0,vr-bo.size);for(Kr=mr.length,mo=!1;Kr--;)Kr>0&&mr[Kr-1].pos+mr[Kr-1].size>mr[Kr].pos&&(mr[Kr-1].size+=mr[Kr].size,mr[Kr-1].targets=mr[Kr-1].targets.concat(mr[Kr].targets),mr[Kr-1].align=.5,mr[Kr-1].pos+mr[Kr-1].size>vr&&(mr[Kr-1].pos=vr-mr[Kr-1].size),mr.splice(Kr,1),mo=!0)}return Jr.apply(Tr,$r),Kr=0,mr.some(Do=>{let Lo=0;return(Do.targets||[]).some(()=>(Tr[Kr].pos=Do.pos+Lo,Er!==void 0&&Math.abs(Tr[Kr].pos-Tr[Kr].target)>Er?(Tr.slice(0,Kr+1).forEach(Wo=>delete Wo.pos),Tr.reducedLen=(Tr.reducedLen||vr)-.1*vr,Tr.reducedLen>.1*vr&&Ur(Tr,vr,Er),!0):(Lo+=Tr[Kr].size,Kr++,!1)))}),zl(Tr,Nr),Tr};let vc=sr,{animate:Ku,animObject:mh,stop:Zu}=Wc,{deg2rad:Qu,doc:Hf,svg:Vm,SVG_NS:vf,win:bc,isFirefox:ef}=Fr,{addEvent:Du,attr:Um,createElement:Wf,crisp:hd,css:hm,defined:_h,erase:bf,extend:tf,fireEvent:Ec,getAlignFactor:nu,isArray:dm,isFunction:fm,isNumber:ny,isObject:Kh,isString:_f,merge:pm,objectEach:Id,pick:Mc,pInt:gh,pushUnique:Zh,replaceNested:Qh,syncTimeout:mm,uniqueKey:Ym}=nl;class gu{_defaultGetter(mr){let vr=Mc(this[mr+"Value"],this[mr],this.element?this.element.getAttribute(mr):null,0);return/^-?[\d\.]+$/.test(vr)&&(vr=parseFloat(vr)),vr}_defaultSetter(mr,vr,Er){Er.setAttribute(vr,mr)}add(mr){let vr,Er=this.renderer,Tr=this.element;return mr&&(this.parentGroup=mr),this.textStr!==void 0&&this.element.nodeName==="text"&&Er.buildText(this),this.added=!0,(!mr||mr.handleZ||this.zIndex)&&(vr=this.zIndexSetter()),vr||(mr?mr.element:Er.box).appendChild(Tr),this.onAdd&&this.onAdd(),this}addClass(mr,vr){let Er=vr?"":this.attr("class")||"";return(mr=(mr||"").split(/ /g).reduce(function(Tr,Pr){return Er.indexOf(Pr)===-1&&Tr.push(Pr),Tr},Er?[Er]:[]).join(" "))!==Er&&this.attr("class",mr),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(mr,vr,Er,Tr=!0){let Pr=this.renderer,Nr=Pr.alignedObjects,$r=!!mr;mr?(this.alignOptions=mr,this.alignByTranslate=vr,this.alignTo=Er):(mr=this.alignOptions||{},vr=this.alignByTranslate,Er=this.alignTo);let zr=!Er||_f(Er)?Er||"renderer":void 0;zr&&($r&&Zh(Nr,this),Er=void 0);let qr=Mc(Er,Pr[zr],Pr),Jr=(qr.x||0)+(mr.x||0)+((qr.width||0)-(mr.width||0))*nu(mr.align),Kr=(qr.y||0)+(mr.y||0)+((qr.height||0)-(mr.height||0))*nu(mr.verticalAlign),ro={"text-align":mr?.align};return ro[vr?"translateX":"x"]=Math.round(Jr),ro[vr?"translateY":"y"]=Math.round(Kr),Tr&&(this[this.placed?"animate":"attr"](ro),this.placed=!0),this.alignAttr=ro,this}alignSetter(mr){let vr={left:"start",center:"middle",right:"end"};vr[mr]&&(this.alignValue=mr,this.element.setAttribute("text-anchor",vr[mr]))}animate(mr,vr,Er){let Tr=mh(Mc(vr,this.renderer.globalAnimation,!0)),Pr=Tr.defer;return Hf.hidden&&(Tr.duration=0),Tr.duration!==0?(Er&&(Tr.complete=Er),mm(()=>{this.element&&Ku(this,mr,Tr)},Pr)):(this.attr(mr,void 0,Er||Tr.complete),Id(mr,function(Nr,$r){Tr.step&&Tr.step.call(this,Nr,{prop:$r,pos:1,elem:this})},this)),this}applyTextOutline(mr){let vr=this.element;mr.indexOf("contrast")!==-1&&(mr=mr.replace(/contrast/g,this.renderer.getContrast(vr.style.fill)));let Er=mr.indexOf(" "),Tr=mr.substring(Er+1),Pr=mr.substring(0,Er);if(Pr&&Pr!=="none"&&Fr.svg){this.fakeTS=!0,Pr=Pr.replace(/(^[\d\.]+)(.*?)$/g,function(Jr,Kr,ro){return 2*Number(Kr)+ro}),this.removeTextOutline();let Nr=Hf.createElementNS(vf,"tspan");Um(Nr,{class:"highcharts-text-outline",fill:Tr,stroke:Tr,"stroke-width":Pr,"stroke-linejoin":"round"});let $r=vr.querySelector("textPath")||vr;[].forEach.call($r.childNodes,Jr=>{let Kr=Jr.cloneNode(!0);Kr.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ro=>Kr.removeAttribute(ro)),Nr.appendChild(Kr)});let zr=0;[].forEach.call($r.querySelectorAll("text tspan"),Jr=>{zr+=Number(Jr.getAttribute("dy"))});let qr=Hf.createElementNS(vf,"tspan");qr.textContent="",Um(qr,{x:Number(vr.getAttribute("x")),dy:-zr}),Nr.appendChild(qr),$r.insertBefore(Nr,$r.firstChild)}}attr(mr,vr,Er,Tr){let{element:Pr}=this,Nr=gu.symbolCustomAttribs,$r,zr,qr=this,Jr;return typeof mr=="string"&&vr!==void 0&&($r=mr,(mr={})[$r]=vr),typeof mr=="string"?qr=(this[mr+"Getter"]||this._defaultGetter).call(this,mr,Pr):(Id(mr,function(Kr,ro){Jr=!1,Tr||Zu(this,ro),this.symbolName&&Nr.indexOf(ro)!==-1&&(zr||(this.symbolAttr(mr),zr=!0),Jr=!0),this.rotation&&(ro==="x"||ro==="y")&&(this.doTransform=!0),Jr||(this[ro+"Setter"]||this._defaultSetter).call(this,Kr,ro,Pr)},this),this.afterSetters()),Er&&Er.call(this),qr}clip(mr){if(mr&&!mr.clipPath){let vr=Ym()+"-",Er=this.renderer.createElement("clipPath").attr({id:vr}).add(this.renderer.defs);tf(mr,{clipPath:Er,id:vr,count:0}),mr.add(Er)}return this.attr("clip-path",mr?`url(${this.renderer.url}#${mr.id})`:"none")}crisp(mr,vr){vr=Math.round(vr||mr.strokeWidth||0);let Er=mr.x||this.x||0,Tr=mr.y||this.y||0,Pr=(mr.width||this.width||0)+Er,Nr=(mr.height||this.height||0)+Tr,$r=hd(Er,vr),zr=hd(Tr,vr);return tf(mr,{x:$r,y:zr,width:hd(Pr,vr)-$r,height:hd(Nr,vr)-zr}),_h(mr.strokeWidth)&&(mr.strokeWidth=vr),mr}complexColor(mr,vr,Er){let Tr=this.renderer,Pr,Nr,$r,zr,qr,Jr,Kr,ro,fo,mo,bo=[],vo;Ec(this.renderer,"complexColor",{args:arguments},function(){if(mr.radialGradient?Nr="radialGradient":mr.linearGradient&&(Nr="linearGradient"),Nr){if($r=mr[Nr],qr=Tr.gradients,Jr=mr.stops,fo=Er.radialReference,dm($r)&&(mr[Nr]=$r={x1:$r[0],y1:$r[1],x2:$r[2],y2:$r[3],gradientUnits:"userSpaceOnUse"}),Nr==="radialGradient"&&fo&&!_h($r.gradientUnits)&&(zr=$r,$r=pm($r,Tr.getRadialAttr(fo,zr),{gradientUnits:"userSpaceOnUse"})),Id($r,function(yo,To){To!=="id"&&bo.push(To,yo)}),Id(Jr,function(yo){bo.push(yo)}),qr[bo=bo.join(",")])mo=qr[bo].attr("id");else{$r.id=mo=Ym();let yo=qr[bo]=Tr.createElement(Nr).attr($r).add(Tr.defs);yo.radAttr=zr,yo.stops=[],Jr.forEach(function(To){To[1].indexOf("rgba")===0?(Kr=(Pr=Hl.parse(To[1])).get("rgb"),ro=Pr.get("a")):(Kr=To[1],ro=1);let Do=Tr.createElement("stop").attr({offset:To[0],"stop-color":Kr,"stop-opacity":ro}).add(yo);yo.stops.push(Do)})}vo="url("+Tr.url+"#"+mo+")",Er.setAttribute(vr,vo),Er.gradient=bo,mr.toString=function(){return vo}}})}css(mr){let vr=this.styles,Er={},Tr=this.element,Pr,Nr=!vr;if(vr&&Id(mr,function($r,zr){vr&&vr[zr]!==$r&&(Er[zr]=$r,Nr=!0)}),Nr){vr&&(mr=tf(vr,Er)),mr.width===null||mr.width==="auto"?delete this.textWidth:Tr.nodeName.toLowerCase()==="text"&&mr.width&&(Pr=this.textWidth=gh(mr.width)),tf(this.styles,mr),Pr&&!Vm&&this.renderer.forExport&&delete mr.width;let $r=ef&&mr.fontSize||null;$r&&(ny($r)||/^\d+$/.test($r))&&(mr.fontSize+="px");let zr=pm(mr);Tr.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(qr=>zr&&delete zr[qr]),zr.color&&(zr.fill=zr.color,delete zr.color)),hm(Tr,zr)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),mr.textOutline&&this.applyTextOutline(mr.textOutline)),this}dashstyleSetter(mr){let vr,Er=this["stroke-width"];if(Er==="inherit"&&(Er=1),mr){let Tr=(mr=mr.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(vr=Tr.length;vr--;)Tr[vr]=""+gh(Tr[vr])*Mc(Er,NaN);mr=Tr.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",mr)}}destroy(){let mr=this,vr=mr.element||{},Er=mr.renderer,Tr=vr.ownerSVGElement,Pr=vr.nodeName==="SPAN"&&mr.parentGroup||void 0,Nr,$r;if(vr.onclick=vr.onmouseout=vr.onmouseover=vr.onmousemove=vr.point=null,Zu(mr),mr.clipPath&&Tr){let zr=mr.clipPath;[].forEach.call(Tr.querySelectorAll("[clip-path],[CLIP-PATH]"),function(qr){qr.getAttribute("clip-path").indexOf(zr.element.id)>-1&&qr.removeAttribute("clip-path")}),mr.clipPath=zr.destroy()}if(mr.stops){for($r=0;$r<mr.stops.length;$r++)mr.stops[$r].destroy();mr.stops.length=0,mr.stops=void 0}for(mr.safeRemoveChild(vr);Pr?.div&&Pr.div.childNodes.length===0;)Nr=Pr.parentGroup,mr.safeRemoveChild(Pr.div),delete Pr.div,Pr=Nr;mr.alignOptions&&bf(Er.alignedObjects,mr),Id(mr,(zr,qr)=>{(mr[qr]?.parentGroup===mr||["connector","foreignObject"].indexOf(qr)!==-1)&&mr[qr]?.destroy?.(),delete mr[qr]})}dSetter(mr,vr,Er){dm(mr)&&(typeof mr[0]=="string"&&(mr=this.renderer.pathToSegments(mr)),this.pathArray=mr,mr=mr.reduce((Tr,Pr,Nr)=>Pr?.join?(Nr?Tr+" ":"")+Pr.join(" "):(Pr||"").toString(),"")),/(NaN| {2}|^$)/.test(mr)&&(mr="M 0 0"),this[vr]!==mr&&(Er.setAttribute(vr,mr),this[vr]=mr)}fillSetter(mr,vr,Er){typeof mr=="string"?Er.setAttribute(vr,mr):mr&&this.complexColor(mr,vr,Er)}hrefSetter(mr,vr,Er){Er.setAttributeNS("http://www.w3.org/1999/xlink",vr,mr)}getBBox(mr,vr){let Er,Tr,Pr,Nr,{alignValue:$r,element:zr,renderer:qr,styles:Jr,textStr:Kr}=this,{cache:ro,cacheKeys:fo}=qr,mo=zr.namespaceURI===this.SVG_NS,bo=Mc(vr,this.rotation,0),vo=qr.styledMode?zr&&gu.prototype.getStyle.call(zr,"font-size"):Jr.fontSize;if(_h(Kr)&&((Nr=Kr.toString()).indexOf("<")===-1&&(Nr=Nr.replace(/\d/g,"0")),Nr+=["",qr.rootFontSize,vo,bo,this.textWidth,$r,Jr.lineClamp,Jr.textOverflow,Jr.fontWeight].join(",")),Nr&&!mr&&(Er=ro[Nr]),!Er||Er.polygon){if(mo||qr.forExport){try{Pr=this.fakeTS&&function(To){let Do=zr.querySelector(".highcharts-text-outline");Do&&hm(Do,{display:To})},fm(Pr)&&Pr("none"),Er=zr.getBBox?tf({},zr.getBBox()):{width:zr.offsetWidth,height:zr.offsetHeight,x:0,y:0},fm(Pr)&&Pr("")}catch{}(!Er||Er.width<0)&&(Er={x:0,y:0,width:0,height:0})}else Er=this.htmlGetBBox();Tr=Er.height,mo&&(Er.height=Tr={"11px,17":14,"13px,20":16}[`${vo||""},${Math.round(Tr)}`]||Tr),bo&&(Er=this.getRotatedBox(Er,bo));let yo={bBox:Er};Ec(this,"afterGetBBox",yo),Er=yo.bBox}if(Nr&&(Kr===""||Er.height>0)){for(;fo.length>250;)delete ro[fo.shift()];ro[Nr]||fo.push(Nr),ro[Nr]=Er}return Er}getRotatedBox(mr,vr){let{x:Er,y:Tr,width:Pr,height:Nr}=mr,{alignValue:$r,translateY:zr,rotationOriginX:qr=0,rotationOriginY:Jr=0}=this,Kr=nu($r),ro=Number(this.element.getAttribute("y")||0)-(zr?0:Tr),fo=vr*Qu,mo=(vr-90)*Qu,bo=Math.cos(fo),vo=Math.sin(fo),yo=Pr*bo,To=Pr*vo,Do=Math.cos(mo),Lo=Math.sin(mo),[[Wo,Uo],[Yo,Bo]]=[qr,Jr].map(gc=>[gc-gc*bo,gc*vo]),pl=Er+Kr*(Pr-yo)+Wo+Bo+ro*Do,xl=pl+yo,ml=xl-Nr*Do,Ol=ml-yo,Xl=Tr+ro-Kr*To-Uo+Yo+ro*Lo,Zl=Xl+To,Ml=Zl-Nr*Lo,Fl=Ml-To,Kl=Math.min(pl,xl,ml,Ol),Bc=Math.min(Xl,Zl,Ml,Fl),kc=Math.max(pl,xl,ml,Ol)-Kl,ad=Math.max(Xl,Zl,Ml,Fl)-Bc;return{x:Kl,y:Bc,width:kc,height:ad,polygon:[[pl,Xl],[xl,Zl],[ml,Ml],[Ol,Fl]]}}getStyle(mr){return bc.getComputedStyle(this.element||this,"").getPropertyValue(mr)}hasClass(mr){return(""+this.attr("class")).split(" ").indexOf(mr)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(mr,vr){this.onEvents={},this.opacity=1,this.SVG_NS=vf,this.element=vr==="span"||vr==="body"?Wf(vr):Hf.createElementNS(this.SVG_NS,vr),this.renderer=mr,this.styles={},Ec(this,"afterInit")}on(mr,vr){let{onEvents:Er}=this;return Er[mr]&&Er[mr](),Er[mr]=Du(this.element,mr,vr),this}opacitySetter(mr,vr,Er){let Tr=Number(Number(mr).toFixed(3));this.opacity=Tr,Er.setAttribute(vr,Tr)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(mr){return this.attr("class",(""+this.attr("class")).replace(_f(mr)?RegExp(`(^| )${mr}( |$)`):mr," ").replace(/ +/g," ").trim())}removeTextOutline(){let mr=this.element.querySelector("tspan.highcharts-text-outline");mr&&this.safeRemoveChild(mr)}safeRemoveChild(mr){let vr=mr.parentNode;vr&&vr.removeChild(mr)}setRadialReference(mr){let vr=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=mr,vr?.radAttr&&vr.animate(this.renderer.getRadialAttr(mr,vr.radAttr)),this}shadow(mr){let{renderer:vr}=this,Er=pm(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},Kh(mr)?mr:{}),Tr=vr.shadowDefinition(Er);return this.attr({filter:mr?`url(${vr.url}#${Tr})`:"none"})}show(mr=!0){return this.attr({visibility:mr?"inherit":"visible"})}"stroke-widthSetter"(mr,vr,Er){this[vr]=mr,Er.setAttribute(vr,mr)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let mr=this.getStyle("stroke-width"),vr=0,Er;return/px$/.test(mr)?vr=gh(mr):mr!==""&&(Um(Er=Hf.createElementNS(vf,"rect"),{width:mr,"stroke-width":0}),this.element.parentNode.appendChild(Er),vr=Er.getBBox().width,Er.parentNode.removeChild(Er)),vr}symbolAttr(mr){let vr=this;gu.symbolCustomAttribs.forEach(function(Er){vr[Er]=Mc(mr[Er],vr[Er])}),vr.attr({d:vr.renderer.symbols[vr.symbolName](vr.x,vr.y,vr.width,vr.height,vr)})}textSetter(mr){mr!==this.textStr&&(delete this.textPxLength,this.textStr=mr,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(mr){let vr=this.element,Er=vr.getElementsByTagName("title")[0]||Hf.createElementNS(this.SVG_NS,"title");vr.insertBefore?vr.insertBefore(Er,vr.firstChild):vr.appendChild(Er),Er.textContent=Qh(Mc(mr,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let mr=this.element;return mr.parentNode.appendChild(mr),this}translate(mr,vr){return this.attr({translateX:mr,translateY:vr})}updateTransform(mr="transform"){let{element:vr,foreignObject:Er,matrix:Tr,padding:Pr,rotation:Nr=0,rotationOriginX:$r,rotationOriginY:zr,scaleX:qr,scaleY:Jr,text:Kr,translateX:ro=0,translateY:fo=0}=this,mo=["translate("+ro+","+fo+")"];_h(Tr)&&mo.push("matrix("+Tr.join(",")+")"),Nr&&(mo.push("rotate("+Nr+" "+($r??vr.getAttribute("x")??this.x??0)+" "+(zr??vr.getAttribute("y")??this.y??0)+")"),Kr?.element.tagName!=="SPAN"||Kr?.foreignObject||Kr.attr({rotation:Nr,rotationOriginX:($r||0)-Pr,rotationOriginY:(zr||0)-Pr})),(_h(qr)||_h(Jr))&&mo.push("scale("+Mc(qr,1)+" "+Mc(Jr,1)+")"),mo.length&&!(Kr||this).textPath&&(Er?.element||vr).setAttribute(mr,mo.join(" "))}visibilitySetter(mr,vr,Er){mr==="inherit"?Er.removeAttribute(vr):this[vr]!==mr&&Er.setAttribute(vr,mr),this[vr]=mr}xGetter(mr){return this.element.nodeName==="circle"&&(mr==="x"?mr="cx":mr==="y"&&(mr="cy")),this._defaultGetter(mr)}zIndexSetter(mr,vr){let Er=this.renderer,Tr=this.parentGroup,Pr=(Tr||Er).element||Er.box,Nr=this.element,$r=Pr===Er.box,zr,qr,Jr,Kr=!1,ro,fo=this.added,mo;if(_h(mr)?(Nr.setAttribute("data-z-index",mr),mr*=1,this[vr]===mr&&(fo=!1)):_h(this[vr])&&Nr.removeAttribute("data-z-index"),this[vr]=mr,fo){for((mr=this.zIndex)&&Tr&&(Tr.handleZ=!0),mo=(zr=Pr.childNodes).length-1;mo>=0&&!Kr;mo--)ro=!_h(Jr=(qr=zr[mo]).getAttribute("data-z-index")),qr!==Nr&&(mr<0&&ro&&!$r&&!mo?(Pr.insertBefore(Nr,zr[mo]),Kr=!0):(gh(Jr)<=mr||ro&&(!_h(mr)||mr>=0))&&(Pr.insertBefore(Nr,zr[mo+1]),Kr=!0));Kr||(Pr.insertBefore(Nr,zr[3*!!$r]),Kr=!0)}return Kr}}gu.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],gu.prototype.strokeSetter=gu.prototype.fillSetter,gu.prototype.yGetter=gu.prototype.xGetter,gu.prototype.matrixSetter=gu.prototype.rotationOriginXSetter=gu.prototype.rotationOriginYSetter=gu.prototype.rotationSetter=gu.prototype.scaleXSetter=gu.prototype.scaleYSetter=gu.prototype.translateXSetter=gu.prototype.translateYSetter=gu.prototype.verticalAlignSetter=function(Ur,mr){this[mr]=Ur,this.doTransform=!0};let nf=gu,{defined:kg,extend:Ag,getAlignFactor:ux,isNumber:pp,merge:iy,pick:Wu,removeEvent:ry}=nl;class wh extends nf{constructor(mr,vr,Er,Tr,Pr,Nr,$r,zr,qr,Jr){let Kr;super(mr,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=vr,this.x=Er,this.y=Tr,this.anchorX=Nr,this.anchorY=$r,this.baseline=qr,this.className=Jr,this.addClass(Jr==="button"?"highcharts-no-tooltip":"highcharts-label"),Jr&&this.addClass("highcharts-"+Jr),this.text=mr.text(void 0,0,0,zr).attr({zIndex:1}),typeof Pr=="string"&&((Kr=/^url\((.*?)\)$/.test(Pr))||this.renderer.symbols[Pr])&&(this.symbolKey=Pr),this.bBox=wh.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=mr.styledMode||Kr,this.deferredAttr={},this.alignFactor=0}alignSetter(mr){let vr=ux(mr);this.textAlign=mr,vr!==this.alignFactor&&(this.alignFactor=vr,this.bBox&&pp(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(mr,vr){this.anchorX=mr,this.boxAttr(vr,Math.round(mr)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(mr,vr){this.anchorY=mr,this.boxAttr(vr,mr-this.ySetting)}boxAttr(mr,vr){this.box?this.box.attr(mr,vr):this.deferredAttr[mr]=vr}css(mr){if(mr){let vr={};mr=iy(mr),wh.textProps.forEach(Er=>{mr[Er]!==void 0&&(vr[Er]=mr[Er],delete mr[Er])}),this.text.css(vr),"fontSize"in vr||"fontWeight"in vr?this.updateTextPadding():("width"in vr||"textOverflow"in vr)&&this.updateBoxSize()}return nf.prototype.css.call(this,mr)}destroy(){ry(this.element,"mouseenter"),ry(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),nf.prototype.destroy.call(this)}fillSetter(mr,vr){mr&&(this.needsBox=!0),this.fill=mr,this.boxAttr(vr,mr)}getBBox(mr,vr){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:Er,height:Tr=0,translateX:Pr=0,translateY:Nr=0,width:$r=0}=this,zr=Wu(this.paddingLeft,Er),qr=vr??(this.rotation||0),Jr={width:$r,height:Tr,x:Pr+this.bBox.x-zr,y:Nr+this.bBox.y-Er+this.baselineOffset};return qr&&(Jr=this.getRotatedBox(Jr,qr)),Jr}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(mr){this.heightSetting=mr,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Wu(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&kg(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(mr,vr){pp(mr)?mr!==this[vr]&&(this[vr]=mr,this.updateTextPadding()):this[vr]=void 0}rSetter(mr,vr){this.boxAttr(vr,mr)}strokeSetter(mr,vr){this.stroke=mr,this.boxAttr(vr,mr)}"stroke-widthSetter"(mr,vr){mr&&(this.needsBox=!0),this["stroke-width"]=mr,this.boxAttr(vr,mr)}"text-alignSetter"(mr){this.textAlign=this["text-align"]=mr,this.updateTextPadding()}textSetter(mr){mr!==void 0&&this.text.attr({text:mr}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let mr,vr=this.text,Er={},Tr=this.padding,Pr=this.bBox=(!pp(this.widthSetting)||!pp(this.heightSetting)||this.textAlign)&&kg(vr.textStr)?vr.getBBox(void 0,0):wh.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||Pr.height||0)+2*Tr;let Nr=this.renderer.fontMetrics(vr);if(this.baselineOffset=Tr+Math.min((this.text.firstLineMetrics||Nr).b,Pr.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-Nr.h)/2),this.needsBox&&!vr.textPath){if(!this.box){let $r=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();$r.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),$r.add(this)}Er.x=mr=this.getCrispAdjust(),Er.y=(this.baseline?-this.baselineOffset:0)+mr,Er.width=Math.round(this.width),Er.height=Math.round(this.height),this.box.attr(Ag(Er,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let mr=this.text,vr=mr.styles.textAlign||this.textAlign;if(!mr.textPath){this.updateBoxSize();let Er=this.baseline?0:this.baselineOffset,Tr=(this.paddingLeft??this.padding)+ux(vr)*(this.widthSetting??this.bBox.width);(Tr!==mr.x||Er!==mr.y)&&(mr.attr({align:vr,x:Tr}),Er!==void 0&&mr.attr("y",Er)),mr.x=Tr,mr.y=Er}}widthSetter(mr){this.widthSetting=pp(mr)?mr:void 0,this.doUpdate=!0}getPaddedWidth(){let mr=this.padding,vr=Wu(this.paddingLeft,mr),Er=Wu(this.paddingRight,mr);return(this.widthSetting||this.bBox.width||0)+vr+Er}xSetter(mr){this.x=mr,this.alignFactor&&(mr-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(mr),this.attr("translateX",this.xSetting)}ySetter(mr){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(mr),this.attr("translateY",this.ySetting)}}wh.emptyBBox={width:0,height:0,x:0,y:0},wh.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Gf,isNumber:hx,pick:jd}=nl;function Bp(Ur,mr,vr,Er,Tr){let Pr=[];if(Tr){let Nr=Tr.start||0,$r=Tr.end||0,zr=jd(Tr.r,vr),qr=jd(Tr.r,Er||vr),Jr=2e-4/(Tr.borderRadius?1:Math.max(zr,1)),Kr=Math.abs($r-Nr-2*Math.PI)<Jr;Kr&&(Nr=Math.PI/2,$r=2.5*Math.PI-Jr);let ro=Tr.innerR,fo=jd(Tr.open,Kr),mo=Math.cos(Nr),bo=Math.sin(Nr),vo=Math.cos($r),yo=Math.sin($r),To=jd(Tr.longArc,$r-Nr-Math.PI<Jr?0:1),Do=["A",zr,qr,0,To,jd(Tr.clockwise,1),Ur+zr*vo,mr+qr*yo];Do.params={start:Nr,end:$r,cx:Ur,cy:mr},Pr.push(["M",Ur+zr*mo,mr+qr*bo],Do),Gf(ro)&&((Do=["A",ro,ro,0,To,Gf(Tr.clockwise)?1-Tr.clockwise:0,Ur+ro*mo,mr+ro*bo]).params={start:$r,end:Nr,cx:Ur,cy:mr},Pr.push(fo?["M",Ur+ro*vo,mr+ro*yo]:["L",Ur+ro*vo,mr+ro*yo],Do)),fo||Pr.push(["Z"])}return Pr}function gm(Ur,mr,vr,Er,Tr){return Tr?.r?Fu(Ur,mr,vr,Er,Tr):[["M",Ur,mr],["L",Ur+vr,mr],["L",Ur+vr,mr+Er],["L",Ur,mr+Er],["Z"]]}function Fu(Ur,mr,vr,Er,Tr){let Pr=Tr?.r||0;return[["M",Ur+Pr,mr],["L",Ur+vr-Pr,mr],["A",Pr,Pr,0,0,1,Ur+vr,mr+Pr],["L",Ur+vr,mr+Er-Pr],["A",Pr,Pr,0,0,1,Ur+vr-Pr,mr+Er],["L",Ur+Pr,mr+Er],["A",Pr,Pr,0,0,1,Ur,mr+Er-Pr],["L",Ur,mr+Pr],["A",Pr,Pr,0,0,1,Ur+Pr,mr],["Z"]]}let wf={arc:Bp,callout:function(Ur,mr,vr,Er,Tr){let Pr=Math.min(Tr?.r||0,vr,Er),Nr=Pr+6,$r=Tr?.anchorX,zr=Tr?.anchorY||0,qr=Fu(Ur,mr,vr,Er,{r:Pr});if(!hx($r)||$r<vr&&$r>0&&zr<Er&&zr>0)return qr;if(Ur+$r>vr-Nr)if(zr>mr+Nr&&zr<mr+Er-Nr)qr.splice(3,1,["L",Ur+vr,zr-6],["L",Ur+vr+6,zr],["L",Ur+vr,zr+6],["L",Ur+vr,mr+Er-Pr]);else if($r<vr){let Jr=zr<mr+Nr,Kr=Jr?mr:mr+Er;qr.splice(Jr?2:5,0,["L",$r,zr],["L",Ur+vr-Pr,Kr])}else qr.splice(3,1,["L",Ur+vr,Er/2],["L",$r,zr],["L",Ur+vr,Er/2],["L",Ur+vr,mr+Er-Pr]);else if(Ur+$r<Nr)if(zr>mr+Nr&&zr<mr+Er-Nr)qr.splice(7,1,["L",Ur,zr+6],["L",Ur-6,zr],["L",Ur,zr-6],["L",Ur,mr+Pr]);else if($r>0){let Jr=zr<mr+Nr,Kr=Jr?mr:mr+Er;qr.splice(Jr?1:6,0,["L",$r,zr],["L",Ur+Pr,Kr])}else qr.splice(7,1,["L",Ur,Er/2],["L",$r,zr],["L",Ur,Er/2],["L",Ur,mr+Pr]);else zr>Er&&$r<vr-Nr?qr.splice(5,1,["L",$r+6,mr+Er],["L",$r,mr+Er+6],["L",$r-6,mr+Er],["L",Ur+Pr,mr+Er]):zr<0&&$r>Nr&&qr.splice(1,1,["L",$r-6,mr],["L",$r,mr-6],["L",$r+6,mr],["L",vr-Pr,mr]);return qr},circle:function(Ur,mr,vr,Er){return Bp(Ur+vr/2,mr+Er/2,vr/2,Er/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Ur,mr,vr,Er){return[["M",Ur+vr/2,mr],["L",Ur+vr,mr+Er/2],["L",Ur+vr/2,mr+Er],["L",Ur,mr+Er/2],["Z"]]},rect:gm,roundedRect:Fu,square:gm,triangle:function(Ur,mr,vr,Er){return[["M",Ur+vr/2,mr],["L",Ur+vr,mr+Er],["L",Ur,mr+Er],["Z"]]},"triangle-down":function(Ur,mr,vr,Er){return[["M",Ur,mr],["L",Ur+vr,mr],["L",Ur+vr/2,mr+Er],["Z"]]}},{doc:Xm,SVG_NS:sy,win:xm}=Fr,{attr:dx,extend:ay,fireEvent:oy,isString:qm,objectEach:Ef,pick:ym}=nl,zp=(Ur,mr)=>Ur.substring(0,mr)+"",Rd=class{constructor(Ur){let mr=Ur.styles;this.renderer=Ur.renderer,this.svgElement=Ur,this.width=Ur.textWidth,this.textLineHeight=mr?.lineHeight,this.textOutline=mr?.textOutline,this.ellipsis=mr?.textOverflow==="ellipsis",this.lineClamp=mr?.lineClamp,this.noWrap=mr?.whiteSpace==="nowrap"}buildSVG(){let Ur=this.svgElement,mr=Ur.element,vr=Ur.renderer,Er=ym(Ur.textStr,"").toString(),Tr=Er.indexOf("<")!==-1,Pr=mr.childNodes,Nr=!Ur.added&&vr.box,$r=[Er,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,Ur.getStyle("font-size"),Ur.styles.lineClamp,this.width].join(",");if($r!==Ur.textCache){Ur.textCache=$r,delete Ur.actualWidth;for(let zr=Pr.length;zr--;)mr.removeChild(Pr[zr]);if(Tr||this.ellipsis||this.width||Ur.textPath||Er.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(Er))){if(Er!==""){Nr&&Nr.appendChild(mr);let zr=new _u(Er);this.modifyTree(zr.nodes),zr.addToDOM(mr),this.modifyDOM(),this.ellipsis&&(mr.textContent||"").indexOf("")!==-1&&Ur.attr("title",this.unescapeEntities(Ur.textStr||"",["&lt;","&gt;"])),Nr&&Nr.removeChild(mr)}}else mr.appendChild(Xm.createTextNode(this.unescapeEntities(Er)));qm(this.textOutline)&&Ur.applyTextOutline&&Ur.applyTextOutline(this.textOutline)}}modifyDOM(){let Ur,mr=this.svgElement,vr=dx(mr.element,"x");for(mr.firstLineMetrics=void 0;(Ur=mr.element.firstChild)&&/^[\s\u200B]*$/.test(Ur.textContent||" ");)mr.element.removeChild(Ur);[].forEach.call(mr.element.querySelectorAll("tspan.highcharts-br"),(Nr,$r)=>{Nr.nextSibling&&Nr.previousSibling&&($r===0&&Nr.previousSibling.nodeType===1&&(mr.firstLineMetrics=mr.renderer.fontMetrics(Nr.previousSibling)),dx(Nr,{dy:this.getLineHeight(Nr.nextSibling),x:vr}))});let Er=this.width||0;if(!Er)return;let Tr=(Nr,$r)=>{let zr=Nr.textContent||"",qr=zr.replace(/([^\^])-/g,"$1- ").split(" "),Jr=!this.noWrap&&(qr.length>1||mr.element.childNodes.length>1),Kr=this.getLineHeight($r),ro=Math.max(0,Er-.8*Kr),fo=0,mo=mr.actualWidth;if(Jr){let bo=[],vo=[];for(;$r.firstChild&&$r.firstChild!==Nr;)vo.push($r.firstChild),$r.removeChild($r.firstChild);for(;qr.length;)if(qr.length&&!this.noWrap&&fo>0&&(bo.push(Nr.textContent||""),Nr.textContent=qr.join(" ").replace(/- /g,"-")),this.truncate(Nr,void 0,qr,fo===0&&mo||0,Er,ro,(yo,To)=>qr.slice(0,To).join(" ").replace(/- /g,"-")),mo=mr.actualWidth,fo++,this.lineClamp&&fo>=this.lineClamp){qr.length&&(this.truncate(Nr,Nr.textContent||"",void 0,0,Er,ro,zp),Nr.textContent=Nr.textContent?.replace("","")+"");break}vo.forEach(yo=>{$r.insertBefore(yo,Nr)}),bo.forEach(yo=>{$r.insertBefore(Xm.createTextNode(yo),Nr);let To=Xm.createElementNS(sy,"tspan");To.textContent="",dx(To,{dy:Kr,x:vr}),$r.insertBefore(To,Nr)})}else this.ellipsis&&zr&&this.truncate(Nr,zr,void 0,0,Er,ro,zp)},Pr=Nr=>{[].slice.call(Nr.childNodes).forEach($r=>{$r.nodeType===xm.Node.TEXT_NODE?Tr($r,Nr):($r.className.baseVal.indexOf("highcharts-br")!==-1&&(mr.actualWidth=0),Pr($r))})};Pr(mr.element)}getLineHeight(Ur){let mr=Ur.nodeType===xm.Node.TEXT_NODE?Ur.parentElement:Ur;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(mr||this.svgElement.element).h}modifyTree(Ur){let mr=(vr,Er)=>{let{attributes:Tr={},children:Pr,style:Nr={},tagName:$r}=vr,zr=this.renderer.styledMode;if($r==="b"||$r==="strong"?zr?Tr.class="highcharts-strong":Nr.fontWeight="bold":($r==="i"||$r==="em")&&(zr?Tr.class="highcharts-emphasized":Nr.fontStyle="italic"),Nr?.color&&(Nr.fill=Nr.color),$r==="br"){Tr.class="highcharts-br",vr.textContent="";let qr=Ur[Er+1];qr?.textContent&&(qr.textContent=qr.textContent.replace(/^ +/gm,""))}else $r==="a"&&Pr&&Pr.some(qr=>qr.tagName==="#text")&&(vr.children=[{children:Pr,tagName:"tspan"}]);$r!=="#text"&&$r!=="a"&&(vr.tagName="tspan"),ay(vr,{attributes:Tr,style:Nr}),Pr&&Pr.filter(qr=>qr.tagName!=="#text").forEach(mr)};Ur.forEach(mr),oy(this.svgElement,"afterModifyTree",{nodes:Ur})}truncate(Ur,mr,vr,Er,Tr,Pr,Nr){let $r,zr,qr=this.svgElement,{rotation:Jr}=qr,Kr=[],ro=vr&&!Er?1:0,fo=(mr||vr||"").length,mo=fo;vr||(Tr=Pr);let bo=function(vo,yo){let To=yo||vo,Do=Ur.parentNode;if(Do&&Kr[To]===void 0&&Do.getSubStringLength)try{Kr[To]=Er+Do.getSubStringLength(0,vr?To+1:To)}catch{}return Kr[To]};if(qr.rotation=0,Er+(zr=bo(Ur.textContent.length))>Tr){for(;ro<=fo;)mo=Math.ceil((ro+fo)/2),vr&&($r=Nr(vr,mo)),zr=bo(mo,$r&&$r.length-1),ro===fo?ro=fo+1:zr>Tr?fo=mo-1:ro=mo;fo===0?Ur.textContent="":mr&&fo===mr.length-1||(Ur.textContent=$r||Nr(mr||vr,mo)),this.ellipsis&&zr>Tr&&this.truncate(Ur,Ur.textContent||"",void 0,0,Tr,Pr,zp)}vr&&vr.splice(0,mo),qr.actualWidth=zr,qr.rotation=Jr}unescapeEntities(Ur,mr){return Ef(this.renderer.escapes,function(vr,Er){mr&&mr.indexOf(vr)!==-1||(Ur=Ur.toString().replace(RegExp(vr,"g"),Er))}),Ur}},{defaultOptions:Km}=oc,{charts:mp,deg2rad:Tg,doc:Sf,isFirefox:Zm,isMS:Qm,isWebKit:Pg,noop:fx,SVG_NS:Hp,symbolSizes:Gu,win:jf}=Fr,{addEvent:gp,attr:dd,createElement:px,crisp:rf,css:xp,defined:sf,destroyObjectProperties:Jm,extend:af,isArray:Wp,isNumber:Gh,isObject:Rf,isString:Dg,merge:Gp,pick:of,pInt:Fd,replaceNested:hv,uniqueKey:vm}=nl;class Mg{constructor(mr,vr,Er,Tr,Pr,Nr,$r){let zr,qr;this.x=0,this.y=0;let Jr=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Kr=Jr.element;$r||Jr.css(this.getStyle(Tr||{})),mr.appendChild(Kr),dd(mr,"dir","ltr"),mr.innerHTML.indexOf("xmlns")===-1&&dd(Kr,"xmlns",this.SVG_NS),this.box=Kr,this.boxWrapper=Jr,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Sf.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=Nr,this.forExport=Pr,this.styledMode=$r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=Jr.getStyle("font-size"),this.setSize(vr,Er,!1),Zm&&mr.getBoundingClientRect&&((zr=function(){xp(mr,{left:0,top:0}),qr=mr.getBoundingClientRect(),xp(mr,{left:Math.ceil(qr.left)-qr.left+"px",top:Math.ceil(qr.top)-qr.top+"px"})})(),this.unSubPixelFix=gp(jf,"resize",zr))}definition(mr){return new _u([mr]).addToDOM(this.defs.element)}getReferenceURL(){if((Zm||Pg)&&Sf.getElementsByTagName("base").length){if(!sf(nr)){let mr=vm(),vr=new _u([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:mr},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${mr})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Sf.body);xp(vr,{position:"fixed",top:0,left:0,zIndex:9e5}),nr=Sf.elementFromPoint(6,6)?.id==="hitme",Sf.body.removeChild(vr)}if(nr)return hv(jf.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(mr){return this.style=af({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},mr),this.style}setStyle(mr){this.boxWrapper.css(this.getStyle(mr))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let mr=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Jm(this.gradients||{}),this.gradients=null,this.defs=mr.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(mr){return new this.Element(this,mr)}getRadialAttr(mr,vr){return{cx:mr[0]-mr[2]/2+(vr.cx||0)*mr[2],cy:mr[1]-mr[2]/2+(vr.cy||0)*mr[2],r:(vr.r||0)*mr[2]}}shadowDefinition(mr){let vr=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(mr).map(Tr=>`${Tr}-${mr[Tr]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),Er=Gp({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},mr);return this.defs.element.querySelector(`#${vr}`)||this.definition({tagName:"filter",attributes:{id:vr,filterUnits:Er.filterUnits},children:this.getShadowFilterContent(Er)}),vr}getShadowFilterContent(mr){return[{tagName:"feDropShadow",attributes:{dx:mr.offsetX,dy:mr.offsetY,"flood-color":mr.color,"flood-opacity":Math.min(5*mr.opacity,1),stdDeviation:mr.width/2}}]}buildText(mr){new Rd(mr).buildSVG()}getContrast(mr){if(mr==="transparent")return"#000000";let vr=Hl.parse(mr).rgba,Er=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Gh(vr[0])||!Hl.useColorMix){let Tr=vr.map(Nr=>{let $r=Nr/255;return $r<=.04?$r/12.92:Math.pow(($r+.055)/1.055,2.4)}),Pr=.2126*Tr[0]+.7152*Tr[1]+.0722*Tr[2];return 1.05/(Pr+.05)>(Pr+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+mr+" srgb"+Er+Er+Er+")"}button(mr,vr,Er,Tr,Pr={},Nr,$r,zr,qr,Jr){let Kr=this.label(mr,vr,Er,qr,void 0,void 0,Jr,void 0,"button"),ro=this.styledMode,fo=arguments,mo=0;Pr=Gp(Km.global.buttonTheme,Pr),ro&&(delete Pr.fill,delete Pr.stroke,delete Pr["stroke-width"]);let bo=Pr.states||{},vo=Pr.style||{};delete Pr.states,delete Pr.style;let yo=[_u.filterUserAttributes(Pr)],To=[vo];return ro||["hover","select","disabled"].forEach((Do,Lo)=>{yo.push(Gp(yo[0],_u.filterUserAttributes(fo[Lo+5]||bo[Do]||{}))),To.push(yo[Lo+1].style),delete yo[Lo+1].style}),gp(Kr.element,Qm?"mouseover":"mouseenter",function(){mo!==3&&Kr.setState(1)}),gp(Kr.element,Qm?"mouseout":"mouseleave",function(){mo!==3&&Kr.setState(mo)}),Kr.setState=(Do=0)=>{if(Do!==1&&(Kr.state=mo=Do),Kr.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Do]),!ro){Kr.attr(yo[Do]);let Lo=To[Do];Rf(Lo)&&Kr.css(Lo)}},Kr.attr(yo[0]),!ro&&(Kr.css(af({cursor:"default"},vo)),Jr&&Kr.text.css({pointerEvents:"none"})),Kr.on("touchstart",Do=>Do.stopPropagation()).on("click",function(Do){mo!==3&&Tr?.call(Kr,Do)})}crispLine(mr,vr){let[Er,Tr]=mr;return sf(Er[1])&&Er[1]===Tr[1]&&(Er[1]=Tr[1]=rf(Er[1],vr)),sf(Er[2])&&Er[2]===Tr[2]&&(Er[2]=Tr[2]=rf(Er[2],vr)),mr}path(mr){let vr=this.styledMode?{}:{fill:"none"};return Wp(mr)?vr.d=mr:Rf(mr)&&af(vr,mr),this.createElement("path").attr(vr)}circle(mr,vr,Er){let Tr=Rf(mr)?mr:mr===void 0?{}:{x:mr,y:vr,r:Er},Pr=this.createElement("circle");return Pr.xSetter=Pr.ySetter=function(Nr,$r,zr){zr.setAttribute("c"+$r,Nr)},Pr.attr(Tr)}arc(mr,vr,Er,Tr,Pr,Nr){let $r;Rf(mr)?(vr=($r=mr).y,Er=$r.r,Tr=$r.innerR,Pr=$r.start,Nr=$r.end,mr=$r.x):$r={innerR:Tr,start:Pr,end:Nr};let zr=this.symbol("arc",mr,vr,Er,Er,$r);return zr.r=Er,zr}rect(mr,vr,Er,Tr,Pr,Nr){let $r=Rf(mr)?mr:mr===void 0?{}:{x:mr,y:vr,r:Pr,width:Math.max(Er||0,0),height:Math.max(Tr||0,0)},zr=this.createElement("rect");return this.styledMode||(Nr!==void 0&&($r["stroke-width"]=Nr,af($r,zr.crisp($r))),$r.fill="none"),zr.rSetter=function(qr,Jr,Kr){zr.r=qr,dd(Kr,{rx:qr,ry:qr})},zr.rGetter=function(){return zr.r||0},zr.attr($r)}roundedRect(mr){return this.symbol("roundedRect").attr(mr)}setSize(mr,vr,Er){this.width=mr,this.height=vr,this.boxWrapper.animate({width:mr,height:vr},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:of(Er,!0)?void 0:0}),this.alignElements()}g(mr){let vr=this.createElement("g");return mr?vr.attr({class:"highcharts-"+mr}):vr}image(mr,vr,Er,Tr,Pr,Nr){let $r={preserveAspectRatio:"none"};Gh(vr)&&($r.x=vr),Gh(Er)&&($r.y=Er),Gh(Tr)&&($r.width=Tr),Gh(Pr)&&($r.height=Pr);let zr=this.createElement("image").attr($r),qr=function(Jr){zr.attr({href:mr}),Nr.call(zr,Jr)};if(Nr){zr.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let Jr=new jf.Image;gp(Jr,"load",qr),Jr.src=mr,Jr.complete&&qr({})}else zr.attr({href:mr});return zr}symbol(mr,vr,Er,Tr,Pr,Nr){let $r,zr,qr,Jr,Kr=this,ro=/^url\((.*?)\)$/,fo=ro.test(mr),mo=!fo&&(this.symbols[mr]?mr:"circle"),bo=mo&&this.symbols[mo];if(bo)typeof vr=="number"&&(zr=bo.call(this.symbols,vr||0,Er||0,Tr||0,Pr||0,Nr)),$r=this.path(zr),Kr.styledMode||$r.attr("fill","none"),af($r,{symbolName:mo||void 0,x:vr,y:Er,width:Tr,height:Pr}),Nr&&af($r,Nr);else if(fo){qr=mr.match(ro)[1];let vo=$r=this.image(qr);vo.imgwidth=of(Nr?.width,Gu[qr]?.width),vo.imgheight=of(Nr?.height,Gu[qr]?.height),Jr=yo=>yo.attr({width:yo.width,height:yo.height}),["width","height"].forEach(yo=>{vo[`${yo}Setter`]=function(To,Do){this[Do]=To;let{alignByTranslate:Lo,element:Wo,width:Uo,height:Yo,imgwidth:Bo,imgheight:pl}=this,xl=Do==="width"?Bo:pl,ml=1;Nr&&Nr.backgroundSize==="within"&&Uo&&Yo&&Bo&&pl?(ml=Math.min(Uo/Bo,Yo/pl),dd(Wo,{width:Math.round(Bo*ml),height:Math.round(pl*ml)})):Wo&&xl&&Wo.setAttribute(Do,xl),!Lo&&Bo&&pl&&this.translate(((Uo||0)-Bo*ml)/2,((Yo||0)-pl*ml)/2)}}),sf(vr)&&vo.attr({x:vr,y:Er}),vo.isImg=!0,vo.symbolUrl=mr,sf(vo.imgwidth)&&sf(vo.imgheight)?Jr(vo):(vo.attr({width:0,height:0}),px("img",{onload:function(){let yo=mp[Kr.chartIndex];this.width===0&&(xp(this,{position:"absolute",top:"-999em"}),Sf.body.appendChild(this)),Gu[qr]={width:this.width,height:this.height},vo.imgwidth=this.width,vo.imgheight=this.height,vo.element&&Jr(vo),this.parentNode&&this.parentNode.removeChild(this),Kr.imgCount--,Kr.imgCount||!yo||yo.hasLoaded||yo.onload()},src:qr}),this.imgCount++)}return $r}clipRect(mr,vr,Er,Tr){return this.rect(mr,vr,Er,Tr,0)}text(mr,vr,Er,Tr){let Pr={};if(Tr&&(this.allowHTML||!this.forExport))return this.html(mr,vr,Er);Pr.x=Math.round(vr||0),Er&&(Pr.y=Math.round(Er)),sf(mr)&&(Pr.text=mr);let Nr=this.createElement("text").attr(Pr);return Tr&&(!this.forExport||this.allowHTML)||(Nr.xSetter=function($r,zr,qr){let Jr=qr.getElementsByTagName("tspan"),Kr=qr.getAttribute(zr);for(let ro=0,fo;ro<Jr.length;ro++)(fo=Jr[ro]).getAttribute(zr)===Kr&&fo.setAttribute(zr,$r);qr.setAttribute(zr,$r)}),Nr}fontMetrics(mr){let vr=Gh(mr)?mr:Fd(nf.prototype.getStyle.call(mr,"font-size")||0),Er=vr<24?vr+3:Math.round(1.2*vr),Tr=Math.round(.8*Er);return{h:Er,b:Tr,f:vr}}rotCorr(mr,vr,Er){let Tr=mr;return vr&&Er&&(Tr=Math.max(Tr*Math.cos(vr*Tg),4)),{x:-mr/3*Math.sin(vr*Tg),y:Tr}}pathToSegments(mr){let vr=[],Er=[],Tr={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let Pr=0;Pr<mr.length;Pr++)Dg(Er[0])&&Gh(mr[Pr])&&Er.length===Tr[Er[0].toUpperCase()]&&mr.splice(Pr,0,Er[0].replace("M","L").replace("m","l")),typeof mr[Pr]=="string"&&(Er.length&&vr.push(Er.slice(0)),Er.length=0),Er.push(mr[Pr]);return vr.push(Er.slice(0)),vr}label(mr,vr,Er,Tr,Pr,Nr,$r,zr,qr){return new wh(this,mr,vr,Er,Tr,Pr,Nr,$r,zr,qr)}alignElements(){this.alignedObjects.forEach(mr=>mr.align())}}af(Mg.prototype,{Element:nf,SVG_NS:Hp,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:wf,draw:fx}),Mo.registerRendererType("svg",Mg,!0);let{composed:fd,isFirefox:zu}=Fr,{attr:Vp,css:lf,createElement:eg,defined:tg,extend:ng,getAlignFactor:yp,isNumber:Bd,pInt:Zo,pushUnique:vl}=nl;function ul(Ur,mr,vr){let Er=this.div?.style;nf.prototype[`${mr}Setter`].call(this,Ur,mr,vr),Er&&(vr.style[mr]=Er[mr]=Ur)}let Wl=(Ur,mr)=>{if(!Ur.div){let vr=Vp(Ur.element,"class"),Er=Ur.css,Tr=eg("div",vr?{className:vr}:void 0,{position:"absolute",left:`${Ur.translateX||0}px`,top:`${Ur.translateY||0}px`,...Ur.styles,display:Ur.display,opacity:Ur.opacity,visibility:Ur.visibility},Ur.parentGroup?.div||mr);Ur.classSetter=(Pr,Nr,$r)=>{$r.setAttribute("class",Pr),Tr.className=Pr},Ur.translateXSetter=Ur.translateYSetter=(Pr,Nr)=>{Ur[Nr]=Pr,Tr.style[Nr==="translateX"?"left":"top"]=`${Pr}px`,Ur.doTransform=!0},Ur.scaleXSetter=Ur.scaleYSetter=(Pr,Nr)=>{Ur[Nr]=Pr,Ur.doTransform=!0},Ur.opacitySetter=Ur.visibilitySetter=ul,Ur.css=Pr=>(Er.call(Ur,Pr),Pr.cursor&&(Tr.style.cursor=Pr.cursor),Pr.pointerEvents&&(Tr.style.pointerEvents=Pr.pointerEvents),Ur),Ur.on=function(){return nf.prototype.on.apply({element:Tr,onEvents:Ur.onEvents},arguments),Ur},Ur.div=Tr}return Ur.div};class dc extends nf{static compose(mr){vl(fd,this.compose)&&(mr.prototype.html=function(vr,Er,Tr){return new dc(this,"span").attr({text:vr,x:Math.round(Er),y:Math.round(Tr)})})}constructor(mr,vr){super(mr,vr),dc.useForeignObject?this.foreignObject=mr.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...mr.styledMode?{}:{fontFamily:mr.style.fontFamily,fontSize:mr.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(mr,vr,Er){this.xCorr=-mr*Er,this.yCorr=-vr}css(mr){let vr,{element:Er}=this,Tr=Er.tagName==="SPAN"&&mr&&"width"in mr,Pr=Tr&&mr.width;return Tr&&(delete mr.width,this.textWidth=Zo(Pr)||void 0,vr=!0),mr?.textOverflow==="ellipsis"&&(mr.overflow="hidden",mr.whiteSpace="nowrap"),mr?.lineClamp&&(mr.display="-webkit-box",mr.WebkitLineClamp=mr.lineClamp,mr.WebkitBoxOrient="vertical",mr.overflow="hidden"),Bd(Number(mr?.fontSize))&&(mr.fontSize+="px"),ng(this.styles,mr),lf(Er,mr),vr&&this.updateTransform(),this}htmlGetBBox(){let{element:mr}=this;return{x:mr.offsetLeft,y:mr.offsetTop,width:mr.offsetWidth,height:mr.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:mr,foreignObject:vr,oldTextWidth:Er,renderer:Tr,rotation:Pr,rotationOriginX:Nr,rotationOriginY:$r,scaleX:zr,scaleY:qr,styles:{display:Jr="inline-block",whiteSpace:Kr},textAlign:ro="left",textWidth:fo,translateX:mo=0,translateY:bo=0,x:vo=0,y:yo=0}=this;if(vr||lf(mr,{marginLeft:`${mo}px`,marginTop:`${bo}px`}),mr.tagName==="SPAN"){let To,Do=[Pr,ro,mr.innerHTML,fo,this.textAlign].join(","),Lo=-(this.parentGroup?.padding*1)||0;if(fo!==Er){let Bo=this.textPxLength?this.textPxLength:(lf(mr,{width:"",whiteSpace:Kr||"nowrap"}),mr.offsetWidth),pl=fo||0,xl=!Tr.styledMode&&mr.style.textOverflow===""&&mr.style.webkitLineClamp;(pl>Er||Bo>pl||xl)&&(/[\-\s\u00AD]/.test(mr.textContent||mr.innerText)||mr.style.textOverflow==="ellipsis")&&(lf(mr,{width:(Pr||zr||Bo>pl||xl)&&Bd(fo)?fo+"px":"auto",display:Jr,whiteSpace:Kr||"normal"}),this.oldTextWidth=fo)}vr&&(lf(mr,{display:"inline-block",verticalAlign:"top"}),vr.attr({width:Tr.width,height:Tr.height})),Do!==this.cTT&&(To=Tr.fontMetrics(mr).b,tg(Pr)&&!vr&&(Pr!==(this.oldRotation||0)||ro!==this.oldAlign)&&lf(mr,{transform:`rotate(${Pr}deg)`,transformOrigin:`${Lo}% ${Lo}px`}),this.getSpanCorrection(!tg(Pr)&&!this.textWidth&&this.textPxLength||mr.offsetWidth,To,yp(ro)));let{xCorr:Wo=0,yCorr:Uo=0}=this,Yo={left:`${vo+Wo}px`,top:`${yo+Uo}px`,textAlign:ro,transformOrigin:`${(Nr??vo)-Wo-vo-Lo}px ${($r??yo)-Uo-yo-Lo}px`};(zr||qr)&&(Yo.transform=`scale(${zr??1},${qr??1})`),vr?(super.updateTransform(),Bd(vo)&&Bd(yo)?(vr.attr({x:vo+Wo,y:yo+Uo,width:mr.offsetWidth+3,height:mr.offsetHeight,"transform-origin":mr.getAttribute("transform-origin")||"0 0"}),lf(mr,{display:Jr,textAlign:ro})):zu&&vr.attr({width:0,height:0})):lf(mr,Yo),this.cTT=Do,this.oldRotation=Pr,this.oldAlign=ro}}add(mr){let{foreignObject:vr,renderer:Er}=this,Tr=Er.box.parentNode,Pr=[];if(vr)vr.add(mr),super.add(Er.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(vr));else{let Nr;if(this.parentGroup=mr,mr&&!(Nr=mr.div)){let $r=mr;for(;$r;)Pr.push($r),$r=$r.parentGroup;for(let zr of Pr.reverse())Nr=Wl(zr,Tr)}(Nr||Tr).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(mr){mr!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,_u.setElementHTML(this.element,mr??""),this.textStr=mr,this.doTransform=!0)}alignSetter(mr){this.alignValue=this.textAlign=mr,this.doTransform=!0}xSetter(mr,vr){this[vr]=mr,this.doTransform=!0}}let Rc=dc.prototype;Rc.visibilitySetter=Rc.opacitySetter=ul,Rc.ySetter=Rc.rotationSetter=Rc.rotationOriginXSetter=Rc.rotationOriginYSetter=Rc.xSetter,(function(Ur){Ur.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},Ur.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:mr}=this.axis.chart;return mr(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(ar||(ar={}));let Ju=ar,{addEvent:Su,isFunction:Ng,objectEach:Vh,removeEvent:Uh}=nl;(or||(or={})).registerEventOptions=function(Ur,mr){Ur.eventOptions=Ur.eventOptions||{},Vh(mr.events,function(vr,Er){Ur.eventOptions[Er]!==vr&&(Ur.eventOptions[Er]&&(Uh(Ur,Er,Ur.eventOptions[Er]),delete Ur.eventOptions[Er]),Ng(vr)&&(Ur.eventOptions[Er]=vr,Su(Ur,Er,vr,{order:0})))})};let vp=or,{deg2rad:Up}=Fr,{clamp:bm,correctFloat:bp,defined:_m,destroyObjectProperties:su,extend:mx,fireEvent:Cd,getAlignFactor:Jh,isNumber:_p,merge:zd,objectEach:pd,pick:Yh}=nl,Oh=class{constructor(Ur,mr,vr,Er,Tr){this.isNew=!0,this.isNewLabel=!0,this.axis=Ur,this.pos=mr,this.type=vr||"",this.parameters=Tr||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Cd(this,"init"),vr||Er||this.addLabel()}addLabel(){let Ur=this,mr=Ur.axis,vr=mr.options,Er=mr.chart,Tr=mr.categories,Pr=mr.logarithmic,Nr=mr.names,$r=Ur.pos,zr=Yh(Ur.options?.labels,vr.labels),qr=mr.tickPositions,Jr=$r===qr[0],Kr=$r===qr[qr.length-1],ro=(!zr.step||zr.step===1)&&mr.tickInterval===1,fo=qr.info,mo=Ur.label,bo,vo,yo,To=this.parameters.category||(Tr?Yh(Tr[$r],Nr[$r],$r):$r);Pr&&_p(To)&&(To=bp(Pr.lin2log(To))),mr.dateTime&&(fo?bo=(vo=Er.time.resolveDTLFormat(vr.dateTimeLabelFormats[!vr.grid?.enabled&&fo.higherRanks[$r]||fo.unitName])).main:_p(To)&&(bo=mr.dateTime.getXDateFormat(To,vr.dateTimeLabelFormats||{}))),Ur.isFirst=Jr,Ur.isLast=Kr;let Do={axis:mr,chart:Er,dateTimeLabelFormat:bo,isFirst:Jr,isLast:Kr,pos:$r,tick:Ur,tickPositionInfo:fo,value:To};Cd(this,"labelFormat",Do);let Lo=Yo=>zr.formatter?zr.formatter.call(Yo,Yo):zr.format?(Yo.text=mr.defaultLabelFormatter.call(Yo),jo.format(zr.format,Yo,Er)):mr.defaultLabelFormatter.call(Yo),Wo=Lo.call(Do,Do),Uo=vo?.list;Uo?Ur.shortenLabel=function(){for(yo=0;yo<Uo.length;yo++)if(mx(Do,{dateTimeLabelFormat:Uo[yo]}),mo.attr({text:Lo.call(Do,Do)}),mo.getBBox().width<mr.getSlotWidth(Ur)-2*(zr.padding||0))return;mo.attr({text:""})}:Ur.shortenLabel=void 0,ro&&mr._addedPlotLB&&Ur.moveLabel(Wo,zr),_m(mo)||Ur.movedLabel?mo&&mo.textStr!==Wo&&!ro&&(!mo.textWidth||zr.style.width||mo.styles.width||mo.css({width:null}),mo.attr({text:Wo}),mo.textPxLength=mo.getBBox().width):(Ur.label=mo=Ur.createLabel(Wo,zr),Ur.rotation=0)}createLabel(Ur,mr,vr){let Er=this.axis,{renderer:Tr,styledMode:Pr}=Er.chart,Nr=mr.style.whiteSpace,$r=_m(Ur)&&mr.enabled?Tr.text(Ur,vr?.x,vr?.y,mr.useHTML).add(Er.labelGroup):void 0;return $r&&(Pr||$r.css(zd(mr.style)),$r.textPxLength=$r.getBBox().width,!Pr&&Nr&&$r.css({whiteSpace:Nr})),$r}destroy(){su(this,this.axis)}getPosition(Ur,mr,vr,Er){let Tr=this.axis,Pr=Tr.chart,Nr=Er&&Pr.oldChartHeight||Pr.chartHeight,$r={x:Ur?bp(Tr.translate(mr+vr,void 0,void 0,Er)+Tr.transB):Tr.left+Tr.offset+(Tr.opposite?(Er&&Pr.oldChartWidth||Pr.chartWidth)-Tr.right-Tr.left:0),y:Ur?Nr-Tr.bottom+Tr.offset-(Tr.opposite?Tr.height:0):bp(Nr-Tr.translate(mr+vr,void 0,void 0,Er)-Tr.transB)};return $r.y=bm($r.y,-1e9,1e9),Cd(this,"afterGetPosition",{pos:$r}),$r}getLabelPosition(Ur,mr,vr,Er,Tr,Pr,Nr,$r){let zr,qr,Jr=this.axis,Kr=Jr.transA,ro=Jr.isLinked&&Jr.linkedParent?Jr.linkedParent.reversed:Jr.reversed,fo=Jr.staggerLines,mo=Jr.tickRotCorr||{x:0,y:0},bo=Er||Jr.reserveSpaceDefault?0:-Jr.labelOffset*(Jr.labelAlign==="center"?.5:1),vo=Tr.distance,yo={};return zr=Jr.side===0?vr.rotation?-vo:-vr.getBBox().height:Jr.side===2?mo.y+vo:Math.cos(vr.rotation*Up)*(mo.y-vr.getBBox(!1,0).height/2),_m(Tr.y)&&(zr=Jr.side===0&&Jr.horiz?Tr.y+zr:Tr.y),Ur=Ur+Yh(Tr.x,[0,1,0,-1][Jr.side]*vo)+bo+mo.x-(Pr&&Er?Pr*Kr*(ro?-1:1):0),mr=mr+zr-(Pr&&!Er?Pr*Kr*(ro?1:-1):0),fo&&(qr=Nr/($r||1)%fo,Jr.opposite&&(qr=fo-qr-1),mr+=qr*(Jr.labelOffset/fo)),yo.x=Ur,yo.y=Math.round(mr),Cd(this,"afterGetLabelPosition",{pos:yo,tickmarkOffset:Pr,index:Nr}),yo}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(Ur,mr,vr,Er,Tr=!1,Pr){return Pr.crispLine([["M",Ur,mr],["L",Ur+(Tr?0:-vr),mr+(Tr?vr:0)]],Er)}handleOverflow(Ur){let mr=this.axis,vr=mr.options.labels,Er=Ur.x,Tr=mr.chart.chartWidth,Pr=mr.chart.spacing,Nr=Yh(mr.labelLeft,Math.min(mr.pos,Pr[3])),$r=Yh(mr.labelRight,Math.max(mr.isRadial?0:mr.pos+mr.len,Tr-Pr[1])),zr=this.label,qr=this.rotation,Jr=Jh(mr.labelAlign||zr.attr("align")),Kr=zr.getBBox().width,ro=mr.getSlotWidth(this),fo=ro,mo=1,bo;qr||vr.overflow!=="justify"?qr<0&&Er-Jr*Kr<Nr?bo=Math.round(Er/Math.cos(qr*Up)-Nr):qr>0&&Er+Jr*Kr>$r&&(bo=Math.round((Tr-Er)/Math.cos(qr*Up))):(Er-Jr*Kr<Nr?fo=Ur.x+fo*(1-Jr)-Nr:Er+(1-Jr)*Kr>$r&&(fo=$r-Ur.x+fo*Jr,mo=-1),(fo=Math.min(ro,fo))<ro&&mr.labelAlign==="center"&&(Ur.x+=mo*(ro-fo-Jr*(ro-Math.min(Kr,fo)))),(Kr>fo||mr.autoRotation&&zr?.styles?.width)&&(bo=fo)),bo&&zr&&(this.shortenLabel?this.shortenLabel():zr.css(mx({},{width:Math.floor(bo)+"px",lineClamp:+!mr.isRadial})))}moveLabel(Ur,mr){let vr=this,Er=vr.label,Tr=vr.axis,Pr=!1,Nr;Er&&Er.textStr===Ur?(vr.movedLabel=Er,Pr=!0,delete vr.label):pd(Tr.ticks,function($r){Pr||$r.isNew||$r===vr||!$r.label||$r.label.textStr!==Ur||(vr.movedLabel=$r.label,Pr=!0,$r.labelPos=vr.movedLabel.xy,delete $r.label)}),!Pr&&(vr.labelPos||Er)&&(Nr=vr.labelPos||Er.xy,vr.movedLabel=vr.createLabel(Ur,mr,Nr),vr.movedLabel&&vr.movedLabel.attr({opacity:0}))}render(Ur,mr,vr){let Er=this.axis,Tr=Er.horiz,Pr=this.pos,Nr=Yh(this.tickmarkOffset,Er.tickmarkOffset),$r=this.getPosition(Tr,Pr,Nr,mr),zr=$r.x,qr=$r.y,Jr=Er.pos,Kr=Jr+Er.len,ro=Tr?zr:qr,fo=Yh(vr,this.label?.newOpacity,1);!Er.chart.polar&&(bp(ro)<Jr||ro>Kr)&&(vr=0),vr??(vr=1),this.isActive=!0,this.renderGridLine(mr,vr),this.renderMark($r,vr),this.renderLabel($r,mr,fo,Ur),this.isNew=!1,Cd(this,"afterRender")}renderGridLine(Ur,mr){let vr=this.axis,Er=vr.options,Tr={},Pr=this.pos,Nr=this.type,$r=Yh(this.tickmarkOffset,vr.tickmarkOffset),zr=vr.chart.renderer,qr=this.gridLine,Jr,Kr=Er.gridLineWidth,ro=Er.gridLineColor,fo=Er.gridLineDashStyle;this.type==="minor"&&(Kr=Er.minorGridLineWidth,ro=Er.minorGridLineColor,fo=Er.minorGridLineDashStyle),qr||(vr.chart.styledMode||(Tr.stroke=ro,Tr["stroke-width"]=Kr||0,Tr.dashstyle=fo),Nr||(Tr.zIndex=1),Ur&&(mr=0),this.gridLine=qr=zr.path().attr(Tr).addClass("highcharts-"+(Nr?Nr+"-":"")+"grid-line").add(vr.gridGroup)),qr&&(Jr=vr.getPlotLinePath({value:Pr+$r,lineWidth:qr.strokeWidth(),force:"pass",old:Ur,acrossPanes:!1}))&&qr[Ur||this.isNew?"attr":"animate"]({d:Jr,opacity:mr})}renderMark(Ur,mr){let vr=this.axis,Er=vr.options,Tr=vr.chart.renderer,Pr=this.type,Nr=vr.tickSize(Pr?Pr+"Tick":"tick"),$r=Ur.x,zr=Ur.y,qr=Yh(Er[Pr!=="minor"?"tickWidth":"minorTickWidth"],!Pr&&vr.isXAxis?1:0),Jr=Er[Pr!=="minor"?"tickColor":"minorTickColor"],Kr=this.mark,ro=!Kr;Nr&&(vr.opposite&&(Nr[0]=-Nr[0]),!Kr&&(this.mark=Kr=Tr.path().addClass("highcharts-"+(Pr?Pr+"-":"")+"tick").add(vr.axisGroup),vr.chart.styledMode||Kr.attr({stroke:Jr,"stroke-width":qr})),Kr[ro?"attr":"animate"]({d:this.getMarkPath($r,zr,Nr[0],Kr.strokeWidth(),vr.horiz,Tr),opacity:mr}))}renderLabel(Ur,mr,vr,Er){let Tr=this.axis,Pr=Tr.horiz,Nr=Tr.options,$r=this.label,zr=Nr.labels,qr=zr.step,Jr=Yh(this.tickmarkOffset,Tr.tickmarkOffset),Kr=Ur.x,ro=Ur.y,fo=!0;$r&&_p(Kr)&&($r.xy=Ur=this.getLabelPosition(Kr,ro,$r,Pr,zr,Jr,Er,qr),(!this.isFirst||this.isLast||Nr.showFirstLabel)&&(!this.isLast||this.isFirst||Nr.showLastLabel)?!Pr||zr.step||zr.rotation||mr||vr===0||this.handleOverflow(Ur):fo=!1,qr&&Er%qr&&(fo=!1),fo&&_p(Ur.y)?(Ur.opacity=vr,$r[this.isNewLabel?"attr":"animate"](Ur).show(!0),this.isNewLabel=!1):($r.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let Ur=this.label,mr=this.axis;Ur&&!this.isNew&&(Ur.animate({opacity:0},void 0,Ur.destroy),delete this.label),mr.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:cf}=Wc,{xAxis:ig,yAxis:kd}=Ju,{defaultOptions:Vf}=oc,{registerEventOptions:wm}=vp,{deg2rad:Cf}=Fr,{arrayMax:gx,arrayMin:Ph,clamp:Hd,correctFloat:Vu,defined:ju,destroyObjectProperties:rg,erase:wp,error:Uf,extend:Yf,fireEvent:Mu,getClosestDistance:gr,insertItem:Rr,isArray:Br,isNumber:Qr,isString:ho,merge:Eo,normalizeTickInterval:Io,objectEach:Jo,pick:Ko,relativeLength:_l,removeEvent:Nl,splat:tc,syncTimeout:$c}=nl,lh=(Ur,mr)=>Io(mr,void 0,void 0,Ko(Ur.options.allowDecimals,mr<.5||Ur.tickAmount!==void 0),!!Ur.tickAmount);Yf(Vf,{xAxis:ig,yAxis:Eo(ig,kd)});class Tu{constructor(mr,vr,Er){this.init(mr,vr,Er)}init(mr,vr,Er=this.coll){let Tr=Er==="xAxis",Pr=this.isZAxis||(mr.inverted?!Tr:Tr);this.chart=mr,this.horiz=Pr,this.isXAxis=Tr,this.coll=Er,Mu(this,"init",{userOptions:vr}),this.opposite=Ko(vr.opposite,this.opposite),this.side=Ko(vr.side,this.side,Pr?2*!this.opposite:this.opposite?1:3),this.setOptions(vr);let Nr=this.options,$r=Nr.labels;this.type??(this.type=Nr.type||"linear"),this.uniqueNames??(this.uniqueNames=Nr.uniqueNames??!0),Mu(this,"afterSetType"),this.userOptions=vr,this.minPixelPadding=0,this.reversed=Ko(Nr.reversed,this.reversed),this.visible=Nr.visible,this.zoomEnabled=Nr.zoomEnabled,this.hasNames=this.type==="category"||Nr.categories===!0,this.categories=Br(Nr.categories)&&Nr.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=ju(Nr.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=Nr.minRange||Nr.maxZoom,this.range=Nr.range,this.offset=Nr.offset||0,this.max=void 0,this.min=void 0;let zr=Ko(Nr.crosshair,tc(mr.options.tooltip.crosshairs)[+!Tr]);this.crosshair=zr===!0?{}:zr,mr.axes.indexOf(this)===-1&&(Tr?mr.axes.splice(mr.xAxis.length,0,this):mr.axes.push(this),Rr(this,mr[this.coll])),mr.orderItems(this.coll),this.series=this.series||[],mr.inverted&&!this.isZAxis&&Tr&&!ju(this.reversed)&&(this.reversed=!0),this.labelRotation=Qr($r.rotation)?$r.rotation:void 0,wm(this,Nr),Mu(this,"afterInit")}setOptions(mr){let vr=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Eo(vr,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Vf[this.coll],mr),Mu(this,"afterSetOptions",{userOptions:mr})}defaultLabelFormatter(){let mr=this.axis,{numberFormatter:vr}=this.chart,Er=Qr(this.value)?this.value:NaN,Tr=mr.chart.time,Pr=mr.categories,Nr=this.dateTimeLabelFormat,$r=Vf.lang,zr=$r.numericSymbols,qr=$r.numericSymbolMagnitude||1e3,Jr=mr.logarithmic?Math.abs(Er):mr.tickInterval,Kr=zr?.length,ro,fo;if(Pr)fo=`${this.value}`;else if(Nr)fo=Tr.dateFormat(Nr,Er,!0);else if(Kr&&zr&&Jr>=1e3)for(;Kr--&&fo===void 0;)Jr>=(ro=Math.pow(qr,Kr+1))&&10*Er%ro==0&&zr[Kr]!==null&&Er!==0&&(fo=vr(Er/ro,-1)+zr[Kr]);return fo===void 0&&(fo=Math.abs(Er)>=1e4?vr(Er,-1):vr(Er,-1,void 0,"")),fo}getSeriesExtremes(){let mr,vr=this;Mu(this,"getSeriesExtremes",null,function(){vr.hasVisibleSeries=!1,vr.dataMin=vr.dataMax=vr.threshold=void 0,vr.softThreshold=!vr.isXAxis,vr.series.forEach(Er=>{if(Er.reserveSpace()){let Tr=Er.options,Pr,Nr=Tr.threshold,$r,zr;if(vr.hasVisibleSeries=!0,vr.positiveValuesOnly&&0>=(Nr||0)&&(Nr=void 0),vr.isXAxis)(Pr=Er.getColumn("x")).length&&(Pr=vr.logarithmic?Pr.filter(qr=>qr>0):Pr,$r=(mr=Er.getXExtremes(Pr)).min,zr=mr.max,Qr($r)||$r instanceof Date||(Pr=Pr.filter(Qr),$r=(mr=Er.getXExtremes(Pr)).min,zr=mr.max),Pr.length&&(vr.dataMin=Math.min(Ko(vr.dataMin,$r),$r),vr.dataMax=Math.max(Ko(vr.dataMax,zr),zr)));else{let qr=Er.applyExtremes();Qr(qr.dataMin)&&($r=qr.dataMin,vr.dataMin=Math.min(Ko(vr.dataMin,$r),$r)),Qr(qr.dataMax)&&(zr=qr.dataMax,vr.dataMax=Math.max(Ko(vr.dataMax,zr),zr)),ju(Nr)&&(vr.threshold=Nr),(!Tr.softThreshold||vr.positiveValuesOnly)&&(vr.softThreshold=!1)}}})}),Mu(this,"afterGetSeriesExtremes")}translate(mr,vr,Er,Tr,Pr,Nr){let $r=this.linkedParent||this,zr=Tr&&$r.old?$r.old.min:$r.min;if(!Qr(zr))return NaN;let qr=$r.minPixelPadding,Jr=($r.isOrdinal||$r.brokenAxis?.hasBreaks||$r.logarithmic&&Pr)&&!!$r.lin2val,Kr=1,ro=0,fo=Tr&&$r.old?$r.old.transA:$r.transA,mo=0;return fo||(fo=$r.transA),Er&&(Kr*=-1,ro=$r.len),$r.reversed&&(Kr*=-1,ro-=Kr*($r.sector||$r.len)),vr?(mo=(mr=mr*Kr+ro-qr)/fo+zr,Jr&&(mo=$r.lin2val(mo))):(Jr&&(mr=$r.val2lin(mr)),mo=Kr*(mr-zr)*fo+ro+Kr*qr+(Qr(Nr)?fo*Nr:0),$r.isRadial||(mo=Vu(mo))),mo}toPixels(mr,vr){return this.translate(this.chart?.time.parse(mr)??NaN,!1,!this.horiz,void 0,!0)+(vr?0:this.pos)}toValue(mr,vr){return this.translate(mr-(vr?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(mr){let vr=this,Er=vr.chart,Tr=vr.left,Pr=vr.top,Nr=mr.old,$r=mr.value,zr=mr.lineWidth,qr=Nr&&Er.oldChartHeight||Er.chartHeight,Jr=Nr&&Er.oldChartWidth||Er.chartWidth,Kr=vr.transB,ro=mr.translatedValue,fo=mr.force,mo,bo,vo,yo,To;function Do(Wo,Uo,Yo){return fo!=="pass"&&(Wo<Uo||Wo>Yo)&&(fo?Wo=Hd(Wo,Uo,Yo):To=!0),Wo}let Lo={value:$r,lineWidth:zr,old:Nr,force:fo,acrossPanes:mr.acrossPanes,translatedValue:ro};return Mu(this,"getPlotLinePath",Lo,function(Wo){mo=vo=(ro=Hd(ro=Ko(ro,vr.translate($r,void 0,void 0,Nr)),-1e9,1e9))+Kr,bo=yo=qr-ro-Kr,Qr(ro)?vr.horiz?(bo=Pr,yo=qr-vr.bottom+(vr.options.isInternal?0:Er.scrollablePixelsY||0),mo=vo=Do(mo,Tr,Tr+vr.width)):(mo=Tr,vo=Jr-vr.right+(Er.scrollablePixelsX||0),bo=yo=Do(bo,Pr,Pr+vr.height)):(To=!0,fo=!1),Wo.path=To&&!fo?void 0:Er.renderer.crispLine([["M",mo,bo],["L",vo,yo]],zr||1)}),Lo.path}getLinearTickPositions(mr,vr,Er){let Tr,Pr,Nr,$r=Vu(Math.floor(vr/mr)*mr),zr=Vu(Math.ceil(Er/mr)*mr),qr=[];if(Vu($r+mr)===$r&&(Nr=20),this.single)return[vr];for(Tr=$r;Tr<=zr&&(qr.push(Tr),(Tr=Vu(Tr+mr,Nr))!==Pr);)Pr=Tr;return qr}getMinorTickInterval(){let{minorTicks:mr,minorTickInterval:vr}=this.options;return mr===!0?Ko(vr,"auto"):mr!==!1?vr:void 0}getMinorTickPositions(){let mr=this.options,vr=this.tickPositions,Er=this.minorTickInterval,Tr=this.pointRangePadding||0,Pr=(this.min||0)-Tr,Nr=(this.max||0)+Tr,$r=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:Nr-Pr,zr=[],qr;if($r&&$r/Er<this.len/3){let Jr=this.logarithmic;if(Jr)this.paddedTicks.forEach(function(Kr,ro,fo){ro&&zr.push.apply(zr,Jr.getLogTickPositions(Er,fo[ro-1],fo[ro],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")zr=zr.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(Er),Pr,Nr,mr.startOfWeek));else for(qr=Pr+(vr[0]-Pr)%Er;qr<=Nr&&qr!==zr[0];qr+=Er)zr.push(qr)}return zr.length!==0&&this.trimTicks(zr),zr}adjustForMinRange(){let mr=this.options,vr=this.logarithmic,Er=this.chart.time,{max:Tr,min:Pr,minRange:Nr}=this,$r,zr,qr,Jr;this.isXAxis&&Nr===void 0&&!vr&&(Nr=ju(mr.min)||ju(mr.max)||ju(mr.floor)||ju(mr.ceiling)?null:Math.min(5*(gr(this.series.map(Kr=>{let ro=Kr.getColumn("x");return Kr.xIncrement?ro.slice(0,2):ro}))||0),this.dataMax-this.dataMin)),Qr(Tr)&&Qr(Pr)&&Qr(Nr)&&Tr-Pr<Nr&&(zr=this.dataMax-this.dataMin>=Nr,$r=(Nr-Tr+Pr)/2,qr=[Pr-$r,Er.parse(mr.min)??Pr-$r],zr&&(qr[2]=vr?vr.log2lin(this.dataMin):this.dataMin),Jr=[(Pr=gx(qr))+Nr,Er.parse(mr.max)??Pr+Nr],zr&&(Jr[2]=vr?vr.log2lin(this.dataMax):this.dataMax),(Tr=Ph(Jr))-Pr<Nr&&(qr[0]=Tr-Nr,qr[1]=Er.parse(mr.min)??Tr-Nr,Pr=gx(qr))),this.minRange=Nr,this.min=Pr,this.max=Tr}getClosest(){let mr,vr;if(this.categories)vr=1;else{let Er=[];this.series.forEach(function(Tr){let Pr=Tr.closestPointRange,Nr=Tr.getColumn("x");Nr.length===1?Er.push(Nr[0]):Tr.sorted&&ju(Pr)&&Tr.reserveSpace()&&(vr=ju(vr)?Math.min(vr,Pr):Pr)}),Er.length&&(Er.sort((Tr,Pr)=>Tr-Pr),mr=gr([Er]))}return mr&&vr?Math.min(mr,vr):mr||vr}nameToX(mr){let vr=Br(this.options.categories),Er=vr?this.categories:this.names,Tr=mr.options.x,Pr;return mr.series.requireSorting=!1,ju(Tr)||(Tr=this.uniqueNames&&Er?vr?Er.indexOf(mr.name):Ko(Er.keys[mr.name],-1):mr.series.autoIncrement()),Tr===-1?!vr&&Er&&(Pr=Er.length):Qr(Tr)&&(Pr=Tr),Pr!==void 0?(this.names[Pr]=mr.name,this.names.keys[mr.name]=Pr):mr.x&&(Pr=mr.x),Pr}updateNames(){let mr=this,vr=this.names;vr.length>0&&(Object.keys(vr.keys).forEach(function(Er){delete vr.keys[Er]}),vr.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(Er=>{Er.xIncrement=null,(!Er.points||Er.isDirtyData)&&(mr.max=Math.max(mr.max||0,Er.dataTable.rowCount-1),Er.processData(),Er.generatePoints());let Tr=Er.getColumn("x").slice();Er.data.forEach((Pr,Nr)=>{let $r=Tr[Nr];Pr?.options&&Pr.name!==void 0&&($r=mr.nameToX(Pr))!==void 0&&$r!==Pr.x&&(Tr[Nr]=Pr.x=$r)}),Er.dataTable.setColumn("x",Tr)}))}setAxisTranslation(){let mr=this,vr=mr.max-mr.min,Er=mr.linkedParent,Tr=!!mr.categories,Pr=mr.isXAxis,Nr=mr.axisPointRange||0,$r,zr=0,qr=0,Jr,Kr=mr.transA;(Pr||Tr||Nr)&&($r=mr.getClosest(),Er?(zr=Er.minPointOffset,qr=Er.pointRangePadding):mr.series.forEach(function(ro){let fo=Tr?1:Pr?Ko(ro.options.pointRange,$r,0):mr.axisPointRange||0,mo=ro.options.pointPlacement;if(Nr=Math.max(Nr,fo),!mr.single||Tr){let bo=ro.is("xrange")?!Pr:Pr;zr=Math.max(zr,bo&&ho(mo)?0:fo/2),qr=Math.max(qr,bo&&mo==="on"?0:fo)}}),Jr=mr.ordinal?.slope&&$r?mr.ordinal.slope/$r:1,mr.minPointOffset=zr*=Jr,mr.pointRangePadding=qr*=Jr,mr.pointRange=Math.min(Nr,mr.single&&Tr?1:vr),Pr&&(mr.closestPointRange=$r)),mr.translationSlope=mr.transA=Kr=mr.staticScale||mr.len/(vr+qr||1),mr.transB=mr.horiz?mr.left:mr.bottom,mr.minPixelPadding=Kr*zr,Mu(this,"afterSetAxisTranslation")}minFromRange(){let{max:mr,min:vr}=this;return Qr(mr)&&Qr(vr)&&mr-vr||void 0}setTickInterval(mr){let{categories:vr,chart:Er,dataMax:Tr,dataMin:Pr,dateTime:Nr,isXAxis:$r,logarithmic:zr,options:qr,softThreshold:Jr}=this,Kr=Er.time,ro=Qr(this.threshold)?this.threshold:void 0,fo=this.minRange||0,{ceiling:mo,floor:bo,linkedTo:vo,softMax:yo,softMin:To}=qr,Do=Qr(vo)&&Er[this.coll]?.[vo],Lo=qr.tickPixelInterval,Wo=qr.maxPadding,Uo=qr.minPadding,Yo=0,Bo,pl=Qr(qr.tickInterval)&&qr.tickInterval>=0?qr.tickInterval:void 0,xl,ml,Ol,Xl;if(Nr||vr||Do||this.getTickAmount(),Ol=Ko(this.userMin,Kr.parse(qr.min)),Xl=Ko(this.userMax,Kr.parse(qr.max)),Do?(this.linkedParent=Do,Bo=Do.getExtremes(),this.min=Ko(Bo.min,Bo.dataMin),this.max=Ko(Bo.max,Bo.dataMax),this.type!==Do.type&&Uf(11,!0,Er)):(Jr&&ju(ro)&&Qr(Tr)&&Qr(Pr)&&(Pr>=ro?(xl=ro,Uo=0):Tr<=ro&&(ml=ro,Wo=0)),this.min=Ko(Ol,xl,Pr),this.max=Ko(Xl,ml,Tr)),Qr(this.max)&&Qr(this.min)&&(zr&&(this.positiveValuesOnly&&!mr&&0>=Math.min(this.min,Ko(Pr,this.min))&&Uf(10,!0,Er),this.min=Vu(zr.log2lin(this.min),16),this.max=Vu(zr.log2lin(this.max),16)),this.range&&Qr(Pr)&&(this.userMin=this.min=Ol=Math.max(Pr,this.minFromRange()||0),this.userMax=Xl=this.max,this.range=void 0)),Mu(this,"foundExtremes"),this.adjustForMinRange(),Qr(this.min)&&Qr(this.max)){if(!Qr(this.userMin)&&Qr(To)&&To<this.min&&(this.min=Ol=To),!Qr(this.userMax)&&Qr(yo)&&yo>this.max&&(this.max=Xl=yo),vr||this.axisPointRange||this.stacking?.usePercentage||Do||(Yo=this.max-this.min)&&(!ju(Ol)&&Uo&&(this.min-=Yo*Uo),!ju(Xl)&&Wo&&(this.max+=Yo*Wo)),!Qr(this.userMin)&&Qr(bo)&&(this.min=Math.max(this.min,bo)),!Qr(this.userMax)&&Qr(mo)&&(this.max=Math.min(this.max,mo)),Jr&&Qr(Pr)&&Qr(Tr)){let Ml=ro||0;!ju(Ol)&&this.min<Ml&&Pr>=Ml?this.min=qr.minRange?Math.min(Ml,this.max-fo):Ml:!ju(Xl)&&this.max>Ml&&Tr<=Ml&&(this.max=qr.minRange?Math.max(Ml,this.min+fo):Ml)}!Er.polar&&this.min>this.max&&(ju(qr.min)?this.max=this.min:ju(qr.max)&&(this.min=this.max)),Yo=this.max-this.min}if(this.min!==this.max&&Qr(this.min)&&Qr(this.max)?Do&&!pl&&Lo===Do.options.tickPixelInterval?this.tickInterval=pl=Do.tickInterval:this.tickInterval=Ko(pl,this.tickAmount?Yo/Math.max(this.tickAmount-1,1):void 0,vr?1:Yo*Lo/Math.max(this.len,Lo)):this.tickInterval=1,$r&&!mr){let Ml=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Fl){Fl.forceCrop=Fl.forceCropping?.(),Fl.processData(Ml)}),Mu(this,"postProcessData",{hasExtremesChanged:Ml})}this.setAxisTranslation(),Mu(this,"initialAxisTranslation"),this.pointRange&&!pl&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Zl=Ko(qr.minTickInterval,Nr&&!this.series.some(Ml=>!Ml.sorted)?this.closestPointRange:0);!pl&&Zl&&this.tickInterval<Zl&&(this.tickInterval=Zl),Nr||zr||pl||(this.tickInterval=lh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let mr=this.options,vr=mr.tickPositions,Er=mr.tickPositioner,Tr=this.getMinorTickInterval(),Pr=!this.isPanning,Nr=Pr&&mr.startOnTick,$r=Pr&&mr.endOnTick,zr=[],qr;if(this.tickmarkOffset=this.categories&&mr.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&ju(this.min)&&!this.tickAmount&&(this.min%1==0||mr.allowDecimals!==!1),vr)zr=vr.slice();else if(Qr(this.min)&&Qr(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))zr=[this.min,this.max],Uf(19,!1,this.chart);else if(this.dateTime)zr=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,mr.units),this.min,this.max,mr.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)zr=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let Jr=this.tickInterval,Kr=Jr;for(;Kr<=2*Jr&&(zr=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&zr.length>this.tickAmount);)this.tickInterval=lh(this,Kr*=1.1)}zr.length>this.len&&(zr=[zr[0],zr[zr.length-1]])[0]===zr[1]&&(zr.length=1),Er&&(this.tickPositions=zr,(qr=Er.apply(this,[this.min,this.max]))&&(zr=qr))}this.tickPositions=zr,this.minorTickInterval=Tr==="auto"&&this.tickInterval?this.tickInterval/mr.minorTicksPerMajor:Tr,this.paddedTicks=zr.slice(0),this.trimTicks(zr,Nr,$r),!this.isLinked&&Qr(this.min)&&Qr(this.max)&&(this.single&&zr.length<2&&!this.categories&&!this.series.some(Jr=>Jr.is("heatmap")&&Jr.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),vr||qr||this.adjustTickAmount()),Mu(this,"afterSetTickPositions")}trimTicks(mr,vr,Er){let Tr=mr[0],Pr=mr[mr.length-1],Nr=!this.isOrdinal&&this.minPointOffset||0;if(Mu(this,"trimTicks"),!this.isLinked||!this.grid){if(vr&&Tr!==-1/0)this.min=Tr;else for(;this.min-Nr>mr[0];)mr.shift();if(Er)this.max=Pr;else for(;this.max+Nr<mr[mr.length-1];)mr.pop();mr.length===0&&ju(Tr)&&!this.options.tickPositions&&mr.push((Pr+Tr)/2)}}alignToOthers(){let mr,vr=this,Er=vr.chart,Tr=[this],Pr=vr.options,Nr=Er.options.chart,$r=this.coll==="yAxis"&&Nr.alignThresholds,zr=[];if(vr.thresholdAlignment=void 0,(Nr.alignTicks!==!1&&Pr.alignTicks||$r)&&Pr.startOnTick!==!1&&Pr.endOnTick!==!1&&!vr.logarithmic){let qr=Kr=>{let{horiz:ro,options:fo}=Kr;return[ro?fo.left:fo.top,fo.width,fo.height,fo.pane].join(",")},Jr=qr(this);Er[this.coll].forEach(function(Kr){let{series:ro}=Kr;ro.length&&ro.some(fo=>fo.visible)&&Kr!==vr&&qr(Kr)===Jr&&(mr=!0,Tr.push(Kr))})}if(mr&&$r){Tr.forEach(Jr=>{let Kr=Jr.getThresholdAlignment(vr);Qr(Kr)&&zr.push(Kr)});let qr=zr.length>1?zr.reduce((Jr,Kr)=>Jr+=Kr,0)/zr.length:void 0;Tr.forEach(Jr=>{Jr.thresholdAlignment=qr})}return mr}getThresholdAlignment(mr){if((!Qr(this.dataMin)||this!==mr&&this.series.some(vr=>vr.isDirty||vr.isDirtyData))&&this.getSeriesExtremes(),Qr(this.threshold)){let vr=Hd((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(vr=1-vr),vr}}getTickAmount(){let mr=this.options,vr=mr.tickPixelInterval,Er=mr.tickAmount;ju(mr.tickInterval)||Er||!(this.len<vr)||this.isRadial||this.logarithmic||!mr.startOnTick||!mr.endOnTick||(Er=2),!Er&&this.alignToOthers()&&(Er=Math.ceil(this.len/vr)+1),Er<4&&(this.finalTickAmt=Er,Er=5),this.tickAmount=Er}adjustTickAmount(){let mr=this,{finalTickAmt:vr,max:Er,min:Tr,options:Pr,tickPositions:Nr,tickAmount:$r,thresholdAlignment:zr}=mr,qr=Nr?.length,Jr=Ko(mr.threshold,mr.softThreshold?0:null),Kr,ro,fo=mr.tickInterval,mo,bo=()=>Nr.push(Vu(Nr[Nr.length-1]+fo)),vo=()=>Nr.unshift(Vu(Nr[0]-fo));if(Qr(zr)&&(mo=zr<.5?Math.ceil(zr*($r-1)):Math.floor(zr*($r-1)),Pr.reversed&&(mo=$r-1-mo)),mr.hasData()&&Qr(Tr)&&Qr(Er)){let yo=()=>{mr.transA*=(qr-1)/($r-1),mr.min=Pr.startOnTick?Nr[0]:Math.min(Tr,Nr[0]),mr.max=Pr.endOnTick?Nr[Nr.length-1]:Math.max(Er,Nr[Nr.length-1])};if(Qr(mo)&&Qr(mr.threshold)){for(;Nr[mo]!==Jr||Nr.length!==$r||Nr[0]>Tr||Nr[Nr.length-1]<Er;){for(Nr.length=0,Nr.push(mr.threshold);Nr.length<$r;)Nr[mo]===void 0||Nr[mo]>mr.threshold?vo():bo();if(fo>8*mr.tickInterval)break;fo*=2}yo()}else if(qr<$r){for(;Nr.length<$r;)Nr.length%2||Tr===Jr?bo():vo();yo()}if(ju(vr)){for(ro=Kr=Nr.length;ro--;)(vr===3&&ro%2==1||vr<=2&&ro>0&&ro<Kr-1)&&Nr.splice(ro,1);mr.finalTickAmt=void 0}}}setScale(){let{coll:mr,stacking:vr}=this,Er=!1,Tr=!1;this.series.forEach(Nr=>{Er=Er||Nr.isDirtyData||Nr.isDirty,Tr=Tr||Nr.xAxis?.isDirty||!1}),this.setAxisSize();let Pr=this.len!==this.old?.len;Pr||Er||Tr||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(vr&&mr==="yAxis"&&vr.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),vr&&mr==="xAxis"&&vr.buildStacks(),this.isDirty||(this.isDirty=Pr||this.min!==this.old?.min||this.max!==this.old?.max)):vr&&vr.cleanStacks(),Er&&delete this.allExtremes,Mu(this,"afterSetScale")}setExtremes(mr,vr,Er=!0,Tr,Pr){let Nr=this.chart;this.series.forEach($r=>{delete $r.kdTree}),mr=Nr.time.parse(mr),vr=Nr.time.parse(vr),Mu(this,"setExtremes",Pr=Yf(Pr,{min:mr,max:vr}),$r=>{this.userMin=$r.min,this.userMax=$r.max,this.eventArgs=$r,Er&&Nr.redraw(Tr)})}setAxisSize(){let mr=this.chart,vr=this.options,Er=vr.offsets||[0,0,0,0],Tr=this.horiz,Pr=this.width=Math.round(_l(Ko(vr.width,mr.plotWidth-Er[3]+Er[1]),mr.plotWidth)),Nr=this.height=Math.round(_l(Ko(vr.height,mr.plotHeight-Er[0]+Er[2]),mr.plotHeight)),$r=this.top=Math.round(_l(Ko(vr.top,mr.plotTop+Er[0]),mr.plotHeight,mr.plotTop)),zr=this.left=Math.round(_l(Ko(vr.left,mr.plotLeft+Er[3]),mr.plotWidth,mr.plotLeft));this.bottom=mr.chartHeight-Nr-$r,this.right=mr.chartWidth-Pr-zr,this.len=Math.max(Tr?Pr:Nr,0),this.pos=Tr?zr:$r}getExtremes(){let mr=this.logarithmic;return{min:mr?Vu(mr.lin2log(this.min)):this.min,max:mr?Vu(mr.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(mr){let vr=this.logarithmic,Er=vr?vr.lin2log(this.min):this.min,Tr=vr?vr.lin2log(this.max):this.max;return mr===null||mr===-1/0?mr=Er:mr===1/0?mr=Tr:Er>mr?mr=Er:Tr<mr&&(mr=Tr),this.translate(mr,0,1,0,1)}autoLabelAlign(mr){let vr=(Ko(mr,0)-90*this.side+720)%360,Er={align:"center"};return Mu(this,"autoLabelAlign",Er,function(Tr){vr>15&&vr<165?Tr.align="right":vr>195&&vr<345&&(Tr.align="left")}),Er.align}tickSize(mr){let vr=this.options,Er=Ko(vr[mr==="tick"?"tickWidth":"minorTickWidth"],mr==="tick"&&this.isXAxis&&!this.categories?1:0),Tr=vr[mr==="tick"?"tickLength":"minorTickLength"],Pr;Er&&Tr&&(vr[mr+"Position"]==="inside"&&(Tr=-Tr),Pr=[Tr,Er]);let Nr={tickSize:Pr};return Mu(this,"afterTickSize",Nr),Nr.tickSize}labelMetrics(){let mr=this.chart.renderer,vr=this.ticks,Er=vr[Object.keys(vr)[0]]||{};return this.chart.renderer.fontMetrics(Er.label||Er.movedLabel||mr.box)}unsquish(){let mr=this.options.labels,vr=mr.padding||0,Er=this.horiz,Tr=this.tickInterval,Pr=this.len/((+!!this.categories+this.max-this.min)/Tr),Nr=mr.rotation,$r=Vu(.8*this.labelMetrics().h),zr=Math.max(this.max-this.min,0),qr=function(mo){let bo=(mo+2*vr)/(Pr||1);return(bo=bo>1?Math.ceil(bo):1)*Tr>zr&&mo!==1/0&&Pr!==1/0&&zr&&(bo=Math.ceil(zr/Tr)),Vu(bo*Tr)},Jr=Tr,Kr,ro=Number.MAX_VALUE,fo;if(Er){if(!mr.staggerLines&&(Qr(Nr)?fo=[Nr]:Pr<mr.autoRotationLimit&&(fo=mr.autoRotation)),fo){let mo,bo;for(let vo of fo)(vo===Nr||vo&&vo>=-90&&vo<=90)&&(bo=(mo=qr(Math.abs($r/Math.sin(Cf*vo))))+Math.abs(vo/360))<ro&&(ro=bo,Kr=vo,Jr=mo)}}else Jr=qr(.75*$r);return this.autoRotation=fo,this.labelRotation=Ko(Kr,Qr(Nr)?Nr:0),mr.step?Tr:Jr}getSlotWidth(mr){let vr=this.chart,Er=this.horiz,Tr=this.options.labels,Pr=Math.max(this.tickPositions.length-!this.categories,1),Nr=vr.margin[3];if(mr&&Qr(mr.slotWidth))return mr.slotWidth;if(Er&&Tr.step<2&&!this.isRadial)return Tr.rotation?0:(this.staggerLines||1)*this.len/Pr;if(!Er){let $r=Tr.style.width;if($r!==void 0)return parseInt(String($r),10);if(!this.opposite&&Nr)return Nr-vr.spacing[3]}return .33*vr.chartWidth}renderUnsquish(){let mr=this.chart,vr=mr.renderer,Er=this.tickPositions,Tr=this.ticks,Pr=this.options.labels,Nr=Pr.style,$r=this.horiz,zr=this.getSlotWidth(),qr=Math.max(1,Math.round(zr-($r?2*(Pr.padding||0):Pr.distance||0))),Jr={},Kr=this.labelMetrics(),ro=Nr.lineClamp,fo,mo=ro??(Math.floor(this.len/(Er.length*Kr.h))||1),bo=0;ho(Pr.rotation)||(Jr.rotation=Pr.rotation||0),Er.forEach(function(vo){let yo=Tr[vo];yo.movedLabel&&yo.replaceMovedLabel();let To=yo.label?.textPxLength||0;To>bo&&(bo=To)}),this.maxLabelLength=bo,this.autoRotation?bo>qr&&bo>Kr.h?Jr.rotation=this.labelRotation:this.labelRotation=0:zr&&(fo=qr),Jr.rotation&&(fo=bo>.5*mr.chartHeight?.33*mr.chartHeight:bo,ro||(mo=1)),this.labelAlign=Pr.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(Jr.align=this.labelAlign),Er.forEach(function(vo){let yo=Tr[vo],To=yo?.label,Do=Nr.width,Lo={};To&&(To.attr(Jr),yo.shortenLabel?yo.shortenLabel():fo&&!Do&&Nr.whiteSpace!=="nowrap"&&(fo<(To.textPxLength||0)||To.element.tagName==="SPAN")?To.css(Yf(Lo,{width:`${fo}px`,lineClamp:mo})):!To.styles.width||Lo.width||Do||To.css({width:"auto"}),yo.rotation=Jr.rotation)},this),this.tickRotCorr=vr.rotCorr(Kr.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(mr){return mr.hasData()})||this.options.showEmpty&&ju(this.min)&&ju(this.max)}addTitle(mr){let vr,Er=this.chart.renderer,Tr=this.horiz,Pr=this.opposite,Nr=this.options.title,$r=this.chart.styledMode;this.axisTitle||((vr=Nr.textAlign)||(vr=(Tr?{low:"left",middle:"center",high:"right"}:{low:Pr?"right":"left",middle:"center",high:Pr?"left":"right"})[Nr.align]),this.axisTitle=Er.text(Nr.text||"",0,0,Nr.useHTML).attr({zIndex:7,rotation:Nr.rotation||0,align:vr}).addClass("highcharts-axis-title"),$r||this.axisTitle.css(Eo(Nr.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),$r||Nr.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[mr?"show":"hide"](mr)}generateTick(mr){let vr=this.ticks;vr[mr]?vr[mr].addLabel():vr[mr]=new Oh(this,mr)}createGroups(){let{axisParent:mr,chart:vr,coll:Er,options:Tr}=this,Pr=vr.renderer,Nr=($r,zr,qr)=>Pr.g($r).attr({zIndex:qr}).addClass(`highcharts-${Er.toLowerCase()}${zr} `+(this.isRadial?`highcharts-radial-axis${zr} `:"")+(Tr.className||"")).add(mr);this.axisGroup||(this.gridGroup=Nr("grid","-grid",Tr.gridZIndex),this.axisGroup=Nr("axis","",Tr.zIndex),this.labelGroup=Nr("axis-labels","-labels",Tr.labels.zIndex))}getOffset(){let mr=this,{chart:vr,horiz:Er,options:Tr,side:Pr,ticks:Nr,tickPositions:$r,coll:zr}=mr,qr=vr.inverted&&!mr.isZAxis?[1,0,3,2][Pr]:Pr,Jr=mr.hasData(),Kr=Tr.title,ro=Tr.labels,fo=Qr(Tr.crossing),mo=vr.axisOffset,bo=vr.clipOffset,vo=[-1,1,1,-1][Pr],yo,To=0,Do,Lo=0,Wo=0,Uo,Yo;if(mr.showAxis=yo=Jr||Tr.showEmpty,mr.staggerLines=mr.horiz&&ro.staggerLines||void 0,mr.createGroups(),Jr||mr.isLinked?($r.forEach(function(Bo){mr.generateTick(Bo)}),mr.renderUnsquish(),mr.reserveSpaceDefault=Pr===0||Pr===2||{1:"left",3:"right"}[Pr]===mr.labelAlign,Ko(ro.reserveSpace,!fo&&null,mr.labelAlign==="center"||null,mr.reserveSpaceDefault)&&$r.forEach(function(Bo){Wo=Math.max(Nr[Bo].getLabelSize(),Wo)}),mr.staggerLines&&(Wo*=mr.staggerLines),mr.labelOffset=Wo*(mr.opposite?-1:1)):Jo(Nr,function(Bo,pl){Bo.destroy(),delete Nr[pl]}),Kr?.text&&Kr.enabled!==!1&&(mr.addTitle(yo),yo&&!fo&&Kr.reserveSpace!==!1&&(mr.titleOffset=To=mr.axisTitle.getBBox()[Er?"height":"width"],Lo=ju(Do=Kr.offset)?0:Ko(Kr.margin,Er?5:10))),mr.renderLine(),mr.offset=vo*Ko(Tr.offset,mo[Pr]?mo[Pr]+(Tr.margin||0):0),mr.tickRotCorr=mr.tickRotCorr||{x:0,y:0},Yo=Pr===0?-mr.labelMetrics().h:Pr===2?mr.tickRotCorr.y:0,Uo=Math.abs(Wo)+Lo,Wo&&(Uo-=Yo,Uo+=vo*(Er?Ko(ro.y,mr.tickRotCorr.y+vo*ro.distance):Ko(ro.x,vo*ro.distance))),mr.axisTitleMargin=Ko(Do,Uo),mr.getMaxLabelDimensions&&(mr.maxLabelDimensions=mr.getMaxLabelDimensions(Nr,$r)),zr!=="colorAxis"&&bo){let Bo=this.tickSize("tick");mo[Pr]=Math.max(mo[Pr],(mr.axisTitleMargin||0)+To+vo*mr.offset,Uo,$r?.length&&Bo?Bo[0]+vo*mr.offset:0);let pl=!mr.axisLine||Tr.offset?0:mr.axisLine.strokeWidth()/2;bo[qr]=Math.max(bo[qr],pl)}Mu(this,"afterGetOffset")}getLinePath(mr){let vr=this.chart,Er=this.opposite,Tr=this.offset,Pr=this.horiz,Nr=this.left+(Er?this.width:0)+Tr,$r=vr.chartHeight-this.bottom-(Er?this.height:0)+Tr;return Er&&(mr*=-1),vr.renderer.crispLine([["M",Pr?this.left:Nr,Pr?$r:this.top],["L",Pr?vr.chartWidth-this.right:Nr,Pr?$r:vr.chartHeight-this.bottom]],mr)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(mr){let vr=this.horiz,Er=this.left,Tr=this.top,Pr=this.len,Nr=this.options.title,$r=vr?Er:Tr,zr=this.opposite,qr=this.offset,Jr=Nr.x,Kr=Nr.y,ro=this.chart.renderer.fontMetrics(mr),fo=mr?Math.max(mr.getBBox(!1,0).height-ro.h-1,0):0,mo={low:$r+(vr?0:Pr),middle:$r+Pr/2,high:$r+(vr?Pr:0)}[Nr.align],bo=(vr?Tr+this.height:Er)+(vr?1:-1)*(zr?-1:1)*(this.axisTitleMargin||0)+[-fo,fo,ro.f,-fo][this.side],vo={x:vr?mo+Jr:bo+(zr?this.width:0)+qr+Jr,y:vr?bo+Kr-(zr?this.height:0)+qr:mo+Kr};return Mu(this,"afterGetTitlePosition",{titlePosition:vo}),vo}renderMinorTick(mr,vr){let Er=this.minorTicks;Er[mr]||(Er[mr]=new Oh(this,mr,"minor")),vr&&Er[mr].isNew&&Er[mr].render(null,!0),Er[mr].render(null,!1,1)}renderTick(mr,vr,Er){let Tr=this.isLinked,Pr=this.ticks;(!Tr||mr>=this.min&&mr<=this.max||this.grid?.isColumn)&&(Pr[mr]||(Pr[mr]=new Oh(this,mr)),Er&&Pr[mr].isNew&&Pr[mr].render(vr,!0,-1),Pr[mr].render(vr))}render(){let mr,vr,Er=this,Tr=Er.chart,Pr=Er.logarithmic,Nr=Tr.renderer,$r=Er.options,zr=Er.isLinked,qr=Er.tickPositions,Jr=Er.axisTitle,Kr=Er.ticks,ro=Er.minorTicks,fo=Er.alternateBands,mo=$r.stackLabels,bo=$r.alternateGridColor,vo=$r.crossing,yo=Er.tickmarkOffset,To=Er.axisLine,Do=Er.showAxis,Lo=cf(Nr.globalAnimation);if(Er.labelEdge.length=0,Er.overlap=!1,[Kr,ro,fo].forEach(function(Wo){Jo(Wo,function(Uo){Uo.isActive=!1})}),Qr(vo)){let Wo=this.isXAxis?Tr.yAxis[0]:Tr.xAxis[0],Uo=[1,-1,-1,1][this.side];if(Wo){let Yo=Wo.toPixels(vo,!0);Er.horiz&&(Yo=Wo.len-Yo),Er.offset=Uo*Yo}}if(Er.hasData()||zr){let Wo=Er.chart.hasRendered&&Er.old&&Qr(Er.old.min);Er.minorTickInterval&&!Er.categories&&Er.getMinorTickPositions().forEach(function(Uo){Er.renderMinorTick(Uo,Wo)}),qr.length&&(qr.forEach(function(Uo,Yo){Er.renderTick(Uo,Yo,Wo)}),yo&&(Er.min===0||Er.single)&&(Kr[-1]||(Kr[-1]=new Oh(Er,-1,null,!0)),Kr[-1].render(-1))),bo&&qr.forEach(function(Uo,Yo){vr=qr[Yo+1]!==void 0?qr[Yo+1]+yo:Er.max-yo,Yo%2==0&&Uo<Er.max&&vr<=Er.max+(Tr.polar?-yo:yo)&&(fo[Uo]||(fo[Uo]=new Fr.PlotLineOrBand(Er,{})),mr=Uo+yo,fo[Uo].options={from:Pr?Pr.lin2log(mr):mr,to:Pr?Pr.lin2log(vr):vr,color:bo,className:"highcharts-alternate-grid"},fo[Uo].render(),fo[Uo].isActive=!0)}),Er._addedPlotLB||(Er._addedPlotLB=!0,($r.plotLines||[]).concat($r.plotBands||[]).forEach(function(Uo){Er.addPlotBandOrLine(Uo)}))}[Kr,ro,fo].forEach(function(Wo){let Uo=[],Yo=Lo.duration;Jo(Wo,function(Bo,pl){Bo.isActive||(Bo.render(pl,!1,0),Bo.isActive=!1,Uo.push(pl))}),$c(function(){let Bo=Uo.length;for(;Bo--;)Wo[Uo[Bo]]&&!Wo[Uo[Bo]].isActive&&(Wo[Uo[Bo]].destroy(),delete Wo[Uo[Bo]])},Wo!==fo&&Tr.hasRendered&&Yo?Yo:0)}),To&&(To[To.isPlaced?"animate":"attr"]({d:this.getLinePath(To.strokeWidth())}),To.isPlaced=!0,To[Do?"show":"hide"](Do)),Jr&&Do&&(Jr[Jr.isNew?"attr":"animate"](Er.getTitlePosition(Jr)),Jr.isNew=!1),mo?.enabled&&Er.stacking&&Er.stacking.renderStackTotals(),Er.old={len:Er.len,max:Er.max,min:Er.min,transA:Er.transA,userMax:Er.userMax,userMin:Er.userMin},Er.isDirty=!1,Mu(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(mr){mr.render()})),this.series.forEach(function(mr){mr.isDirty=!0})}getKeepProps(){return this.keepProps||Tu.keepProps}destroy(mr){let vr=this,Er=vr.plotLinesAndBands,Tr=this.eventOptions;if(Mu(this,"destroy",{keepEvents:mr}),mr||Nl(vr),[vr.ticks,vr.minorTicks,vr.alternateBands].forEach(function(Pr){rg(Pr)}),Er){let Pr=Er.length;for(;Pr--;)Er[Pr].destroy()}for(let Pr in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(Nr){vr[Nr]&&(vr[Nr]=vr[Nr].destroy())}),vr.plotLinesAndBandsGroups)vr.plotLinesAndBandsGroups[Pr]=vr.plotLinesAndBandsGroups[Pr].destroy();Jo(vr,function(Pr,Nr){vr.getKeepProps().indexOf(Nr)===-1&&delete vr[Nr]}),this.eventOptions=Tr}drawCrosshair(mr,vr){let Er=this.crosshair,Tr=Er?.snap??!0,Pr=this.chart,Nr,$r,zr,qr=this.cross,Jr;if(Mu(this,"drawCrosshair",{e:mr,point:vr}),mr||(mr=this.cross?.e),Er&&(ju(vr)||!Tr)!==!1){if(Tr?ju(vr)&&($r=Ko(this.coll!=="colorAxis"?vr.crosshairPos:null,this.isXAxis?vr.plotX:this.len-vr.plotY)):$r=mr&&(this.horiz?mr.chartX-this.pos:this.len-mr.chartY+this.pos),ju($r)&&(Jr={value:vr&&(this.isXAxis?vr.x:Ko(vr.stackY,vr.y)),translatedValue:$r},Pr.polar&&Yf(Jr,{isCrosshair:!0,chartX:mr?.chartX,chartY:mr?.chartY,point:vr}),Nr=this.getPlotLinePath(Jr)||null),!ju(Nr))return void this.hideCrosshair();zr=this.categories&&!this.isRadial,qr||(this.cross=qr=Pr.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(zr?"category ":"thin ")+(Er.className||"")).attr({zIndex:Ko(Er.zIndex,2)}).add(),!Pr.styledMode&&(qr.attr({stroke:Er.color||(zr?Hl.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Ko(Er.width,1)}).css({"pointer-events":"none"}),Er.dashStyle&&qr.attr({dashstyle:Er.dashStyle}))),qr.show().attr({d:Nr}),zr&&!Er.width&&qr.attr({"stroke-width":this.transA}),this.cross.e=mr}else this.hideCrosshair();Mu(this,"afterDrawCrosshair",{e:mr,point:vr})}hideCrosshair(){this.cross&&this.cross.hide(),Mu(this,"afterHideCrosshair")}update(mr,vr){let Er=this.chart;mr=Eo(this.userOptions,mr),this.destroy(!0),this.init(Er,mr),Er.isDirtyBox=!0,Ko(vr,!0)&&Er.redraw()}remove(mr){let vr=this.chart,Er=this.coll,Tr=this.series,Pr=Tr.length;for(;Pr--;)Tr[Pr]&&Tr[Pr].remove(!1);wp(vr.axes,this),wp(vr[Er]||[],this),vr.orderItems(Er),this.destroy(),vr.isDirtyBox=!0,Ko(mr,!0)&&vr.redraw()}setTitle(mr,vr){this.update({title:mr},vr)}setCategories(mr,vr){this.update({categories:mr},vr)}}Tu.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Lh,getMagnitude:fu,normalizeTickInterval:iu,timeUnits:Uc}=nl;(function(Ur){function mr(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function vr(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new Er(this))}Ur.compose=function(Tr){return Tr.keepProps.includes("dateTime")||(Tr.keepProps.push("dateTime"),Tr.prototype.getTimeTicks=mr,Lh(Tr,"afterSetType",vr)),Tr};class Er{constructor(Pr){this.axis=Pr}normalizeTimeTickInterval(Pr,Nr){let $r=Nr||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],zr=$r[$r.length-1],qr=Uc[zr[0]],Jr=zr[1],Kr;for(Kr=0;Kr<$r.length&&(qr=Uc[(zr=$r[Kr])[0]],Jr=zr[1],!$r[Kr+1]||!(Pr<=(qr*Jr[Jr.length-1]+Uc[$r[Kr+1][0]])/2));Kr++);qr===Uc.year&&Pr<5*qr&&(Jr=[1,2,5]);let ro=iu(Pr/qr,Jr,zr[0]==="year"?Math.max(fu(Pr/qr),1):1);return{unitRange:qr,count:ro,unitName:zr[0]}}getXDateFormat(Pr,Nr){let{axis:$r}=this,zr=$r.chart.time;return $r.closestPointRange?zr.getDateFormat($r.closestPointRange,Pr,$r.options.startOfWeek,Nr)||zr.resolveDTLFormat(Nr.year).main:zr.resolveDTLFormat(Nr.day).main}}Ur.Additions=Er})(lr||(lr={}));let Ep=lr,{addEvent:Ad,normalizeTickInterval:Og,pick:Sp}=nl;(function(Ur){function mr(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new Er(this))}function vr(){let Tr=this.logarithmic;Tr&&(this.lin2val=function(Pr){return Tr.lin2log(Pr)},this.val2lin=function(Pr){return Tr.log2lin(Pr)})}Ur.compose=function(Tr){return Tr.keepProps.includes("logarithmic")||(Tr.keepProps.push("logarithmic"),Ad(Tr,"afterSetType",mr),Ad(Tr,"afterInit",vr)),Tr};class Er{constructor(Pr){this.axis=Pr}getLogTickPositions(Pr,Nr,$r,zr){let qr=this.axis,Jr=qr.len,Kr=qr.options,ro=[];if(zr||(this.minorAutoInterval=void 0),Pr>=.5)Pr=Math.round(Pr),ro=qr.getLinearTickPositions(Pr,Nr,$r);else if(Pr>=.08){let fo,mo,bo,vo,yo,To,Do,Lo=Math.floor(Nr);for(fo=Pr>.3?[1,2,4]:Pr>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],mo=Lo;mo<$r+1&&!Do;mo++)for(bo=0,vo=fo.length;bo<vo&&!Do;bo++)(yo=this.log2lin(this.lin2log(mo)*fo[bo]))>Nr&&(!zr||To<=$r)&&To!==void 0&&ro.push(To),To>$r&&(Do=!0),To=yo}else{let fo=this.lin2log(Nr),mo=this.lin2log($r),bo=zr?qr.getMinorTickInterval():Kr.tickInterval,vo=Kr.tickPixelInterval/(zr?5:1),yo=zr?Jr/qr.tickPositions.length:Jr;Pr=Og(Pr=Sp(bo==="auto"?null:bo,this.minorAutoInterval,(mo-fo)*vo/(yo||1))),ro=qr.getLinearTickPositions(Pr,fo,mo).map(this.log2lin),zr||(this.minorAutoInterval=Pr/5)}return zr||(qr.tickInterval=Pr),ro}lin2log(Pr){return Math.pow(10,Pr)}log2lin(Pr){return Math.log(Pr)/Math.LN10}}Ur.Additions=Er})(cr||(cr={}));let Em=cr,{erase:Uu,extend:kf,isNumber:Co}=nl;(function(Ur){let mr;function vr(qr){return this.addPlotBandOrLine(qr,"plotBands")}function Er(qr,Jr){let Kr=this.userOptions,ro=new mr(this,qr);if(this.visible&&(ro=ro.render()),ro){if(this._addedPlotLB||(this._addedPlotLB=!0,(Kr.plotLines||[]).concat(Kr.plotBands||[]).forEach(fo=>{this.addPlotBandOrLine(fo)})),Jr){let fo=Kr[Jr]||[];fo.push(qr),Kr[Jr]=fo}this.plotLinesAndBands.push(ro)}return ro}function Tr(qr){return this.addPlotBandOrLine(qr,"plotLines")}function Pr(qr,Jr,Kr){Kr=Kr||this.options;let ro=this.getPlotLinePath({value:Jr,force:!0,acrossPanes:Kr.acrossPanes}),fo=[],mo=this.horiz,bo=!Co(this.min)||!Co(this.max)||qr<this.min&&Jr<this.min||qr>this.max&&Jr>this.max,vo=this.getPlotLinePath({value:qr,force:!0,acrossPanes:Kr.acrossPanes}),yo,To=1,Do;if(vo&&ro)for(bo&&(Do=vo.toString()===ro.toString(),To=0),yo=0;yo<vo.length;yo+=2){let Lo=vo[yo],Wo=vo[yo+1],Uo=ro[yo],Yo=ro[yo+1];(Lo[0]==="M"||Lo[0]==="L")&&(Wo[0]==="M"||Wo[0]==="L")&&(Uo[0]==="M"||Uo[0]==="L")&&(Yo[0]==="M"||Yo[0]==="L")&&(mo&&Uo[1]===Lo[1]?(Uo[1]+=To,Yo[1]+=To):mo||Uo[2]!==Lo[2]||(Uo[2]+=To,Yo[2]+=To),fo.push(["M",Lo[1],Lo[2]],["L",Wo[1],Wo[2]],["L",Yo[1],Yo[2]],["L",Uo[1],Uo[2]],["Z"])),fo.isFlat=Do}return fo}function Nr(qr){this.removePlotBandOrLine(qr)}function $r(qr){let Jr=this.plotLinesAndBands,Kr=this.options,ro=this.userOptions;if(Jr){let fo=Jr.length;for(;fo--;)Jr[fo].id===qr&&Jr[fo].destroy();[Kr.plotLines||[],ro.plotLines||[],Kr.plotBands||[],ro.plotBands||[]].forEach(function(mo){for(fo=mo.length;fo--;)mo[fo]?.id===qr&&Uu(mo,mo[fo])})}}function zr(qr){this.removePlotBandOrLine(qr)}Ur.compose=function(qr,Jr){let Kr=Jr.prototype;return Kr.addPlotBand||(mr=qr,kf(Kr,{addPlotBand:vr,addPlotLine:Tr,addPlotBandOrLine:Er,getPlotBandPath:Pr,removePlotBand:Nr,removePlotLine:zr,removePlotBandOrLine:$r})),Jr}})(ur||(ur={}));let jp=ur,{addEvent:Rp,arrayMax:$h,arrayMin:Cc,defined:Dh,destroyObjectProperties:Sm,erase:Yp,fireEvent:Xp,merge:ly,objectEach:Lg,pick:cy}=nl;class Cp{static compose(mr,vr){return Rp(mr,"afterInit",function(){this.labelCollectors.push(()=>{let Er=[];for(let Tr of this.axes)for(let{label:Pr,options:Nr}of Tr.plotLinesAndBands)Pr&&!Nr?.label?.allowOverlap&&Er.push(Pr);return Er})}),jp.compose(Cp,vr)}constructor(mr,vr){this.axis=mr,this.options=vr,this.id=vr.id}render(){Xp(this,"render");let{axis:mr,options:vr}=this,{horiz:Er,logarithmic:Tr}=mr,{color:Pr,events:Nr,zIndex:$r=0}=vr,{renderer:zr,time:qr}=mr.chart,Jr={},Kr=qr.parse(vr.to),ro=qr.parse(vr.from),fo=qr.parse(vr.value),mo=vr.borderWidth,bo=vr.label,{label:vo,svgElem:yo}=this,To=[],Do,Lo=Dh(ro)&&Dh(Kr),Wo=Dh(fo),Uo=!yo,Yo={class:"highcharts-plot-"+(Lo?"band ":"line ")+(vr.className||"")},Bo=Lo?"bands":"lines";if(!mr.chart.styledMode&&(Wo?(Yo.stroke=Pr||"#999999",Yo["stroke-width"]=cy(vr.width,1),vr.dashStyle&&(Yo.dashstyle=vr.dashStyle)):Lo&&(Yo.fill=Pr||"#e6e9ff",mo&&(Yo.stroke=vr.borderColor,Yo["stroke-width"]=mo))),Jr.zIndex=$r,Bo+="-"+$r,(Do=mr.plotLinesAndBandsGroups[Bo])||(mr.plotLinesAndBandsGroups[Bo]=Do=zr.g("plot-"+Bo).attr(Jr).add()),yo||(this.svgElem=yo=zr.path().attr(Yo).add(Do)),Dh(fo))To=mr.getPlotLinePath({value:Tr?.log2lin(fo)??fo,lineWidth:yo.strokeWidth(),acrossPanes:vr.acrossPanes});else{if(!(Dh(ro)&&Dh(Kr)))return;To=mr.getPlotBandPath(Tr?.log2lin(ro)??ro,Tr?.log2lin(Kr)??Kr,vr)}return!this.eventsAdded&&Nr&&(Lg(Nr,(pl,xl)=>{yo?.on(xl,ml=>{Nr[xl].apply(this,[ml])})}),this.eventsAdded=!0),(Uo||!yo.d)&&To?.length?yo.attr({d:To}):yo&&(To?(yo.show(),yo.animate({d:To})):yo.d&&(yo.hide(),vo&&(this.label=vo=vo.destroy()))),bo&&(Dh(bo.text)||Dh(bo.formatter))&&To?.length&&mr.width>0&&mr.height>0&&!To.isFlat?(bo=ly({align:Er&&Lo?"center":void 0,x:Er?!Lo&&4:10,verticalAlign:!Er&&Lo?"middle":void 0,y:Er?Lo?16:10:Lo?6:-4,rotation:Er&&!Lo?90:0,...Lo?{inside:!0}:{}},bo),this.renderLabel(bo,To,Lo,$r)):vo&&vo.hide(),this}renderLabel(mr,vr,Er,Tr){let Pr=this.axis,Nr=Pr.chart.renderer,$r=mr.inside,zr=this.label;zr||(this.label=zr=Nr.text(this.getLabelText(mr),0,0,mr.useHTML).attr({align:mr.textAlign||mr.align,rotation:mr.rotation,class:"highcharts-plot-"+(Er?"band":"line")+"-label "+(mr.className||""),zIndex:Tr}),Pr.chart.styledMode||zr.css(ly({color:Pr.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:Er&&!$r?"":"ellipsis"},mr.style)),zr.add());let qr=vr.xBounds||[vr[0][1],vr[1][1],Er?vr[2][1]:vr[0][1]],Jr=vr.yBounds||[vr[0][2],vr[1][2],Er?vr[2][2]:vr[0][2]],Kr=Cc(qr),ro=Cc(Jr),fo=$h(qr)-Kr;zr.align(mr,!1,{x:Kr,y:ro,width:fo,height:$h(Jr)-ro}),zr.alignAttr.y-=Nr.fontMetrics(zr).b,(!zr.alignValue||zr.alignValue==="left"||Dh($r))&&zr.css({width:(mr.style?.width||(Er&&$r?fo:zr.rotation===90?Pr.height-(zr.alignAttr.y-Pr.top):(mr.clip?Pr.width:Pr.chart.chartWidth)-(zr.alignAttr.x-Pr.left)))+"px"}),zr.show(!0)}getLabelText(mr){return Dh(mr.formatter)?mr.formatter.call(this):mr.text}destroy(){Yp(this.axis.plotLinesAndBands,this),delete this.axis,Sm(this)}}let{animObject:ed}=Wc,{format:uf}=jo,{composed:tb,dateFormats:qb,doc:nb,isSafari:Kb}=Fr,{distribute:Mh}=vc,{addEvent:Xf,clamp:kp,css:$g,discardElement:dv,extend:Ig,fireEvent:jm,getAlignFactor:Rm,isArray:ib,isNumber:Zb,isObject:Af,isString:qp,merge:fv,pick:Kp,pushUnique:rb,splat:Cm,syncTimeout:uy}=nl;class sg{constructor(mr,vr,Er){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=mr,this.init(mr,vr),this.pointer=Er}bodyFormatter(mr){return mr.map(vr=>{let Er=vr.series.tooltipOptions,Tr=vr.formatPrefix||"point";return(Er[Tr+"Formatter"]||vr.tooltipFormatter).call(vr,Er[Tr+"Format"]||"")})}cleanSplit(mr){this.chart.series.forEach(function(vr){let Er=vr?.tt;Er&&(!Er.isActive||mr?vr.tt=Er.destroy():Er.isActive=!1)})}defaultFormatter(mr){let vr,Er=this.points||Cm(this);return(vr=(vr=[mr.headerFooterFormatter(Er[0])]).concat(mr.bodyFormatter(Er))).push(mr.headerFooterFormatter(Er[0],!0)),vr}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),dv(this.container)),nl.clearTimeout(this.hideTimer)}getAnchor(mr,vr){let Er,{chart:Tr,pointer:Pr}=this,Nr=Tr.inverted,$r=Tr.plotTop,zr=Tr.plotLeft;if(mr=Cm(mr),mr[0].series?.yAxis&&!mr[0].series.yAxis.options.reversedStacks&&(mr=mr.slice().reverse()),this.followPointer&&vr)vr.chartX===void 0&&(vr=Pr.normalize(vr)),Er=[vr.chartX-zr,vr.chartY-$r];else if(mr[0].tooltipPos)Er=mr[0].tooltipPos;else{let Jr=0,Kr=0;mr.forEach(function(ro){let fo=ro.pos(!0);fo&&(Jr+=fo[0],Kr+=fo[1])}),Jr/=mr.length,Kr/=mr.length,this.shared&&mr.length>1&&vr&&(Nr?Jr=vr.chartX:Kr=vr.chartY),Er=[Jr-zr,Kr-$r]}let qr={point:mr[0],ret:Er};return jm(this,"getAnchor",qr),qr.ret.map(Math.round)}getClassName(mr,vr,Er){let Tr=this.options,Pr=mr.series,Nr=Pr.options;return[Tr.className,"highcharts-label",Er&&"highcharts-tooltip-header",vr?"highcharts-tooltip-box":"highcharts-tooltip",!Er&&"highcharts-color-"+Kp(mr.colorIndex,Pr.colorIndex),Nr?.className].filter(qp).join(" ")}getLabel({anchorX:mr,anchorY:vr}={anchorX:0,anchorY:0}){let Er=this,Tr=this.chart.styledMode,Pr=this.options,Nr=this.split&&this.allowShared,$r=this.container,zr=this.chart.renderer;if(this.label){let qr=!this.label.hasClass("highcharts-label");(!Nr&&qr||Nr&&!qr)&&this.destroy()}if(!this.label){if(this.outside){let qr=this.chart,Jr=qr.options.chart.style,Kr=Mo.getRendererType();this.container=$r=Fr.doc.createElement("div"),$r.className="highcharts-tooltip-container "+(qr.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),$g($r,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(Jr?.zIndex||0)+3)}),this.renderer=zr=new Kr($r,0,0,Jr,void 0,void 0,zr.styledMode)}if(Nr?this.label=zr.g("tooltip"):(this.label=zr.label("",mr,vr,Pr.shape||"callout",void 0,void 0,Pr.useHTML,void 0,"tooltip").attr({padding:Pr.padding,r:Pr.borderRadius}),Tr||this.label.attr({fill:Pr.backgroundColor,"stroke-width":Pr.borderWidth||0}).css(Pr.style).css({pointerEvents:Pr.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),Er.outside){let qr=this.label;[qr.xSetter,qr.ySetter].forEach((Jr,Kr)=>{qr[Kr?"ySetter":"xSetter"]=ro=>{Jr.call(qr,Er.distance),qr[Kr?"y":"x"]=ro,$r&&($r.style[Kr?"top":"left"]=`${ro}px`)}})}this.label.attr({zIndex:8}).shadow(Pr.shadow??!Pr.fixed).add()}return $r&&!$r.parentElement&&Fr.doc.body.appendChild($r),this.label}getPlayingField(){let{body:mr,documentElement:vr}=nb,{chart:Er,distance:Tr,outside:Pr}=this;return{width:Pr?Math.max(mr.scrollWidth,vr.scrollWidth,mr.offsetWidth,vr.offsetWidth,vr.clientWidth)-2*Tr-2:Er.chartWidth,height:Pr?Math.max(mr.scrollHeight,vr.scrollHeight,mr.offsetHeight,vr.offsetHeight,vr.clientHeight):Er.chartHeight}}getPosition(mr,vr,Er){let{distance:Tr,chart:Pr,outside:Nr,pointer:$r}=this,{inverted:zr,plotLeft:qr,plotTop:Jr,polar:Kr}=Pr,{plotX:ro=0,plotY:fo=0}=Er,mo={},bo=zr&&Er.h||0,{height:vo,width:yo}=this.getPlayingField(),To=$r.getChartPosition(),Do=Ml=>Ml*To.scaleX,Lo=Ml=>Ml*To.scaleY,Wo=Ml=>{let Fl=Ml==="x";return[Ml,Fl?yo:vo,Fl?mr:vr].concat(Nr?[Fl?Do(mr):Lo(vr),Fl?To.left-Tr+Do(ro+qr):To.top-Tr+Lo(fo+Jr),0,Fl?yo:vo]:[Fl?mr:vr,Fl?ro+qr:fo+Jr,Fl?qr:Jr,Fl?qr+Pr.plotWidth:Jr+Pr.plotHeight])},Uo=Wo("y"),Yo=Wo("x"),Bo,pl=!!Er.negative;!Kr&&Pr.hoverSeries?.yAxis?.reversed&&(pl=!pl);let xl=!this.followPointer&&Kp(Er.ttBelow,!Kr&&!zr===pl),ml=function(Ml,Fl,Kl,Bc,kc,ad,gc){let pc=Nr?Ml==="y"?Lo(Tr):Do(Tr):Tr,mu=(Kl-Bc)/2,zc=Bc<kc-Tr,Bu=kc+Tr+Bc<Fl,cu=kc-pc-Kl+mu,$l=kc+pc-mu;if(xl&&Bu)mo[Ml]=$l;else if(!xl&&zc)mo[Ml]=cu;else if(zc)mo[Ml]=Math.min(gc-Bc,cu-bo<0?cu:cu-bo);else{if(!Bu)return mo[Ml]=0,!1;mo[Ml]=Math.max(ad,$l+bo+Kl>Fl?$l:$l+bo)}},Ol=function(Ml,Fl,Kl,Bc,kc){if(kc<Tr||kc>Fl-Tr)return!1;kc<Kl/2?mo[Ml]=1:kc>Fl-Bc/2?mo[Ml]=Fl-Bc-2:mo[Ml]=kc-Kl/2},Xl=function(Ml){[Uo,Yo]=[Yo,Uo],Bo=Ml},Zl=()=>{ml.apply(0,Uo)!==!1?Ol.apply(0,Yo)!==!1||Bo||(Xl(!0),Zl()):Bo?mo.x=mo.y=0:(Xl(!0),Zl())};return(zr&&!Kr||this.len>1)&&Xl(),Zl(),mo}getFixedPosition(mr,vr,Er){let Tr=Er.series,{chart:Pr,options:Nr,split:$r}=this,zr=Nr.position,qr=zr.relativeTo,Jr=Nr.shared||Tr?.yAxis?.isRadial&&(qr==="pane"||!qr)?"plotBox":qr,Kr=Jr==="chart"?Pr.renderer:Pr[Jr]||Pr.getClipBox(Tr,!0);return{x:Kr.x+(Kr.width-mr)*Rm(zr.align)+zr.x,y:Kr.y+(Kr.height-vr)*Rm(zr.verticalAlign)+(!$r&&zr.y||0)}}hide(mr){let vr=this;nl.clearTimeout(this.hideTimer),mr=Kp(mr,this.options.hideDelay),this.isHidden||(this.hideTimer=uy(function(){let Er=vr.getLabel();vr.getLabel().animate({opacity:0},{duration:mr&&150,complete:()=>{Er.hide(),vr.container&&vr.container.remove()}}),vr.isHidden=!0},mr))}init(mr,vr){this.chart=mr,this.options=vr,this.crosshairs=[],this.isHidden=!0,this.split=vr.split&&!mr.inverted&&!mr.polar,this.shared=vr.shared||this.split,this.outside=Kp(vr.outside,!!(mr.scrollablePixelsX||mr.scrollablePixelsY))}shouldStickOnContact(mr){return!!(!this.followPointer&&this.options.stickOnContact&&(!mr||this.pointer.inClass(mr.target,"highcharts-tooltip")))}move(mr,vr,Er,Tr){let{followPointer:Pr,options:Nr}=this,$r=ed(!Pr&&!this.isHidden&&!Nr.fixed&&Nr.animation),zr=Pr||(this.len||0)>1,qr={x:mr,y:vr};zr?qr.anchorX=qr.anchorY=NaN:(qr.anchorX=Er,qr.anchorY=Tr),$r.step=()=>this.drawTracker(),this.getLabel().animate(qr,$r)}refresh(mr,vr){let{chart:Er,options:Tr,pointer:Pr,shared:Nr}=this,$r=Cm(mr),zr=$r[0],qr=Tr.format,Jr=Tr.formatter||this.defaultFormatter,Kr=Er.styledMode,ro=this.allowShared;if(!Tr.enabled||!zr.series)return;nl.clearTimeout(this.hideTimer),this.allowShared=!(!ib(mr)&&mr.series&&mr.series.noSharedTooltip),ro=ro&&!this.allowShared,this.followPointer=!this.split&&zr.series.tooltipOptions.followPointer;let fo=this.getAnchor(mr,vr),mo=fo[0],bo=fo[1];Nr&&this.allowShared&&(Pr.applyInactiveState($r),$r.forEach(To=>To.setState("hover")),zr.points=$r),this.len=$r.length;let vo=qp(qr)?uf(qr,zr,Er):Jr.call(zr,this);zr.points=void 0;let yo=zr.series;if(this.distance=Kp(yo.tooltipOptions.distance,16),vo===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(vo,$r);else{let To=mo,Do=bo;if(vr&&Pr.isDirectTouch&&(To=vr.chartX-Er.plotLeft,Do=vr.chartY-Er.plotTop),!(Er.polar||yo.options.clip===!1||$r.some(Lo=>Pr.isDirectTouch||Lo.series.shouldShowTooltip(To,Do))))return void this.hide();{let Lo=this.getLabel(ro&&this.tt||{});(!Tr.style.width||Kr)&&Lo.css({width:(this.outside?this.getPlayingField():Er.spacingBox).width+"px"}),Lo.attr({class:this.getClassName(zr),text:vo&&vo.join?vo.join(""):vo}),this.outside&&Lo.attr({x:kp(Lo.x||0,0,this.getPlayingField().width-(Lo.width||0)-1)}),Kr||Lo.attr({stroke:Tr.borderColor||zr.color||yo.color||"#666666"}),this.updatePosition({plotX:mo,plotY:bo,negative:zr.negative,ttBelow:zr.ttBelow,series:yo,h:fo[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}jm(this,"refresh")}renderSplit(mr,vr){let Er=this,{chart:Tr,chart:{chartWidth:Pr,chartHeight:Nr,plotHeight:$r,plotLeft:zr,plotTop:qr,scrollablePixelsY:Jr=0,scrollablePixelsX:Kr,styledMode:ro},distance:fo,options:mo,options:{fixed:bo,position:vo,positioner:yo},pointer:To}=Er,{scrollLeft:Do=0,scrollTop:Lo=0}=Tr.scrollablePlotArea?.scrollingContainer||{},Wo=Er.outside&&typeof Kr!="number"?nb.documentElement.getBoundingClientRect():{left:Do,right:Do+Pr},Uo=Er.getLabel(),Yo=this.renderer||Tr.renderer,Bo=!!Tr.xAxis[0]?.opposite,{left:pl,top:xl}=To.getChartPosition(),ml=yo||bo,Ol=qr+Lo,Xl=0,Zl=$r-Jr,Ml=function(gc,pc,mu,zc=[0,0],Bu=!0){let cu,$l;if(mu.isHeader)$l=Bo?0:Zl,cu=kp(zc[0]-gc/2,Wo.left,Wo.right-gc-(Er.outside?pl:0));else if(bo&&mu){let rh=Er.getFixedPosition(gc,pc,mu);cu=rh.x,$l=rh.y-Ol}else $l=zc[1]-Ol,cu=kp(cu=Bu?zc[0]-gc-fo:zc[0]+fo,Bu?cu:Wo.left,Wo.right);return{x:cu,y:$l}};qp(mr)&&(mr=[!1,mr]);let Fl=mr.slice(0,vr.length+1).reduce(function(gc,pc,mu){if(pc!==!1&&pc!==""){let zc=vr[mu-1]||{isHeader:!0,plotX:vr[0].plotX,plotY:$r,series:{}},Bu=zc.isHeader,cu=Bu?Er:zc.series,$l=cu.tt=(function(Yc,bd,mf){let gf=Yc,{isHeader:Eg,series:_d}=bd,xf=_d.tooltipOptions||mo;if(!gf){let Sg={padding:xf.padding,r:xf.borderRadius};ro||(Sg.fill=xf.backgroundColor,Sg["stroke-width"]=xf.borderWidth??(bo&&!Eg?0:1)),gf=Yo.label("",0,0,xf[Eg?"headerShape":"shape"]||(bo&&!Eg?"rect":"callout"),void 0,void 0,xf.useHTML).addClass(Er.getClassName(bd,!0,Eg)).attr(Sg).add(Uo)}return gf.isActive=!0,gf.attr({text:mf}),ro||gf.css(xf.style).attr({stroke:xf.borderColor||bd.color||_d.color||"#333333"}),gf})(cu.tt,zc,pc.toString()),rh=$l.getBBox(),qu=rh.width+$l.strokeWidth();Bu&&(Xl=rh.height,Zl+=Xl,Bo&&(Ol-=Xl));let{anchorX:od,anchorY:Gm}=(function(Yc){let bd,mf,{isHeader:gf,plotX:Eg=0,plotY:_d=0,series:xf}=Yc;if(gf)bd=Math.max(zr+Eg,zr),mf=qr+$r/2;else{let{xAxis:Sg,yAxis:qv}=xf;bd=Sg.pos+kp(Eg,-fo,Sg.len+fo),xf.shouldShowTooltip(0,qv.pos-qr+_d,{ignoreX:!0})&&(mf=qv.pos+_d)}return{anchorX:bd=kp(bd,Wo.left-fo,Wo.right+fo),anchorY:mf}})(zc);if(typeof Gm=="number"){let Yc=rh.height+1,bd=(yo||Ml).call(Er,qu,Yc,zc,[od,Gm]);gc.push({align:ml?0:void 0,anchorX:od,anchorY:Gm,boxWidth:qu,point:zc,rank:Kp(bd.rank,+!!Bu),size:Yc,target:bd.y,tt:$l,x:bd.x})}else $l.isActive=!1}return gc},[]);!ml&&Fl.some(gc=>{let{outside:pc}=Er,mu=(pc?pl:0)+gc.anchorX;return mu<Wo.left&&mu+gc.boxWidth<Wo.right||mu<pl-Wo.left+gc.boxWidth&&Wo.right-mu>mu})&&(Fl=Fl.map(gc=>{let{x:pc,y:mu}=Ml.call(this,gc.boxWidth,gc.size,gc.point,[gc.anchorX,gc.anchorY],!1);return Ig(gc,{target:mu,x:pc})})),Er.cleanSplit(),Mh(Fl,Zl);let Kl={left:pl,right:pl};Fl.forEach(function(gc){let{x:pc,boxWidth:mu,isHeader:zc}=gc;!zc&&(Er.outside&&pl+pc<Kl.left&&(Kl.left=pl+pc),!zc&&Er.outside&&Kl.left+mu>Kl.right&&(Kl.right=pl+pc))}),Fl.forEach(function(gc){let{x:pc,anchorX:mu,anchorY:zc,pos:Bu,point:{isHeader:cu}}=gc,$l={visibility:Bu===void 0?"hidden":"inherit",x:pc,y:(Bu||0)+Ol+(bo&&vo.y||0),anchorX:mu,anchorY:zc};if(Er.outside&&pc<mu){let rh=pl-Kl.left;rh>0&&(cu||($l.x=pc+rh,$l.anchorX=mu+rh),cu&&($l.x=(Kl.right-Kl.left)/2,$l.anchorX=mu+rh))}gc.tt.attr($l)});let{container:Bc,outside:kc,renderer:ad}=Er;if(kc&&Bc&&ad){let{width:gc,height:pc,x:mu,y:zc}=Uo.getBBox();ad.setSize(gc+mu,pc+zc,!1),Bc.style.left=Kl.left+"px",Bc.style.top=xl+"px"}Kb&&Uo.attr({opacity:Uo.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let mr=this.chart,vr=this.label,Er=this.shared?mr.hoverPoints:mr.hoverPoint;if(!vr||!Er)return;let Tr={x:0,y:0,width:0,height:0},Pr=this.getAnchor(Er),Nr=vr.getBBox();Pr[0]+=mr.plotLeft-(vr.translateX||0),Pr[1]+=mr.plotTop-(vr.translateY||0),Tr.x=Math.min(0,Pr[0]),Tr.y=Math.min(0,Pr[1]),Tr.width=Pr[0]<0?Math.max(Math.abs(Pr[0]),Nr.width-Pr[0]):Math.max(Math.abs(Pr[0]),Nr.width),Tr.height=Pr[1]<0?Math.max(Math.abs(Pr[1]),Nr.height-Math.abs(Pr[1])):Math.max(Math.abs(Pr[1]),Nr.height),this.tracker?this.tracker.attr(Tr):(this.tracker=vr.renderer.rect(Tr).addClass("highcharts-tracker").add(vr),mr.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(mr){return mr.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(mr,vr){let Er=mr.series,Tr=Er.tooltipOptions,Pr=Er.xAxis,Nr=Pr?.dateTime,$r={isFooter:vr,point:mr},zr=Tr.xDateFormat||"",qr=Tr[vr?"footerFormat":"headerFormat"];return jm(this,"headerFormatter",$r,function(Jr){if(Nr&&!zr&&Zb(mr.key)&&(zr=Nr.getXDateFormat(mr.key,Tr.dateTimeLabelFormats)),Nr&&zr){if(Af(zr)){let Kr=zr;qb[0]=ro=>Er.chart.time.dateFormat(Kr,ro),zr="%0"}(mr.tooltipDateKeys||["key"]).forEach(Kr=>{qr=qr.replace(RegExp("point\\."+Kr+"([ \\)}])"),`(point.${Kr}:${zr})$1`)})}Er.chart.styledMode&&(qr=this.styledModeFormat(qr)),Jr.text=uf(qr,mr,this.chart)}),$r.text||""}update(mr){this.destroy(),this.init(this.chart,fv(!0,this.options,mr))}updatePosition(mr){let{chart:vr,container:Er,distance:Tr,options:Pr,pointer:Nr,renderer:$r}=this,{height:zr=0,width:qr=0}=this.getLabel(),{fixed:Jr,positioner:Kr}=Pr,{left:ro,top:fo,scaleX:mo,scaleY:bo}=Nr.getChartPosition(),vo=(Kr||Jr&&this.getFixedPosition||this.getPosition).call(this,qr,zr,mr),yo=Fr.doc,To=(mr.plotX||0)+vr.plotLeft,Do=(mr.plotY||0)+vr.plotTop,Lo;if($r&&Er){if(Kr||Jr){let{scrollLeft:Wo=0,scrollTop:Uo=0}=vr.scrollablePlotArea?.scrollingContainer||{};vo.x+=Wo+ro-Tr,vo.y+=Uo+fo-Tr}Lo=(Pr.borderWidth||0)+2*Tr+2,$r.setSize(kp(qr+Lo,0,yo.documentElement.clientWidth)-1,zr+Lo,!1),(mo!==1||bo!==1)&&($g(Er,{transform:`scale(${mo}, ${bo})`}),To*=mo,Do*=bo),To+=ro-vo.x,Do+=fo-vo.y}this.move(Math.round(vo.x),Math.round(vo.y||0),To,Do)}}(function(Ur){Ur.compose=function(mr){rb(tb,"Core.Tooltip")&&Xf(mr,"afterInit",function(){let vr=this.chart;vr.options.tooltip&&(vr.tooltip=new Ur(vr,vr.options.tooltip,this))})}})(sg||(sg={}));let xx=sg,{animObject:sb}=Wc,{defaultOptions:hy}=oc,{format:qf}=jo,{addEvent:Ap,crisp:ab,erase:pv,extend:Zp,fireEvent:Td,getNestedProperty:Fg,isArray:Kf,isFunction:Pd,isNumber:Qp,isObject:Zf,merge:dy,pick:Ih,syncTimeout:Tp,removeEvent:yx,uniqueKey:km}=nl;class Dd{animateBeforeDestroy(){let mr=this,vr={x:mr.startXPos,opacity:0},Er=mr.getGraphicalProps();Er.singular.forEach(function(Tr){mr[Tr]=mr[Tr].animate(Tr==="dataLabel"?{x:mr[Tr].startXPos,y:mr[Tr].startYPos,opacity:0}:vr)}),Er.plural.forEach(function(Tr){mr[Tr].forEach(function(Pr){Pr.element&&Pr.animate(Zp({x:mr.startXPos},Pr.startYPos?{x:Pr.startXPos,y:Pr.startYPos}:{}))})})}applyOptions(mr,vr){let Er=this.series,Tr=Er.options.pointValKey||Er.pointValKey;return Zp(this,mr=Dd.prototype.optionsToObject.call(this,mr)),this.options=this.options?Zp(this.options,mr):mr,mr.group&&delete this.group,mr.dataLabels&&delete this.dataLabels,Tr&&(this.y=Dd.prototype.getNestedProperty.call(this,Tr)),this.selected&&(this.state="select"),"name"in this&&vr===void 0&&Er.xAxis&&Er.xAxis.hasNames&&(this.x=Er.xAxis.nameToX(this)),this.x===void 0&&Er?this.x=vr??Er.autoIncrement():Qp(mr.x)&&Er.options.relativeXValue?this.x=Er.autoIncrement(mr.x):typeof this.x=="string"&&(vr??(vr=Er.chart.time.parse(this.x)),Qp(vr)&&(this.x=vr)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let mr=this,vr=mr.series,Er=vr.chart,Tr=vr.options.dataSorting,Pr=Er.hoverPoints,Nr=sb(mr.series.chart.renderer.globalAnimation),$r=()=>{for(let zr in(mr.graphic||mr.graphics||mr.dataLabel||mr.dataLabels)&&(yx(mr),mr.destroyElements()),mr)delete mr[zr]};mr.legendItem&&Er.legend.destroyItem(mr),Pr&&(mr.setState(),pv(Pr,mr),Pr.length||(Er.hoverPoints=null)),mr===Er.hoverPoint&&mr.onMouseOut(),Tr?.enabled?(this.animateBeforeDestroy(),Tp($r,Nr.duration)):$r(),Er.pointCount--}this.destroyed=!0}destroyElements(mr){let vr=this,Er=vr.getGraphicalProps(mr);Er.singular.forEach(function(Tr){vr[Tr]=vr[Tr].destroy()}),Er.plural.forEach(function(Tr){vr[Tr].forEach(function(Pr){Pr?.element&&Pr.destroy()}),delete vr[Tr]})}firePointEvent(mr,vr,Er){let Tr=this,Pr=this.series.options;Tr.manageEvent(mr),mr==="click"&&Pr.allowPointSelect&&(Er=function(Nr){!Tr.destroyed&&Tr.select&&Tr.select(null,Nr.ctrlKey||Nr.metaKey||Nr.shiftKey)}),Td(Tr,mr,vr,Er)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(mr){let vr,Er,Tr=this,Pr=[],Nr={singular:[],plural:[]};for((mr=mr||{graphic:1,dataLabel:1}).graphic&&Pr.push("graphic","connector"),mr.dataLabel&&Pr.push("dataLabel","dataLabelPath","dataLabelUpper"),Er=Pr.length;Er--;)Tr[vr=Pr[Er]]&&Nr.singular.push(vr);return["graphic","dataLabel"].forEach(function($r){let zr=$r+"s";mr[$r]&&Tr[zr]&&Nr.plural.push(zr)}),Nr}getNestedProperty(mr){if(mr)return mr.indexOf("custom.")===0?Fg(mr,this.options):this[mr]}getZone(){let mr=this.series,vr=mr.zones,Er=mr.zoneAxis||"y",Tr,Pr=0;for(Tr=vr[0];this[Er]>=Tr.value;)Tr=vr[++Pr];return this.nonZonedColor||(this.nonZonedColor=this.color),Tr?.color&&!this.options.color?this.color=Tr.color:this.color=this.nonZonedColor,Tr}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(mr,vr,Er){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=mr,this.applyOptions(vr,Er),this.id??(this.id=km()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=mr.options.nullInteraction),mr.chart.pointCount++,Td(this,"afterInit")}isValid(){return(Qp(this.x)||this.x instanceof Date)&&Qp(this.y)}optionsToObject(mr){let vr=this.series,Er=vr.options.keys,Tr=Er||vr.pointArrayMap||["y"],Pr=Tr.length,Nr={},$r,zr=0,qr=0;if(Qp(mr)||mr===null)Nr[Tr[0]]=mr;else if(Kf(mr))for(!Er&&mr.length>Pr&&(($r=typeof mr[0])=="string"?vr.xAxis?.dateTime?Nr.x=vr.chart.time.parse(mr[0]):Nr.name=mr[0]:$r==="number"&&(Nr.x=mr[0]),zr++);qr<Pr;)Er&&mr[zr]===void 0||(Tr[qr].indexOf(".")>0?Dd.prototype.setNestedProperty(Nr,mr[zr],Tr[qr]):Nr[Tr[qr]]=mr[zr]),zr++,qr++;else typeof mr=="object"&&(Nr=mr,mr.dataLabels&&(vr.hasDataLabels=()=>!0),mr.marker&&(vr._hasPointMarkers=!0));return Nr}pos(mr,vr=this.plotY){if(!this.destroyed){let{plotX:Er,series:Tr}=this,{chart:Pr,xAxis:Nr,yAxis:$r}=Tr,zr=0,qr=0;if(Qp(Er)&&Qp(vr))return mr&&(zr=Nr?Nr.pos:Pr.plotLeft,qr=$r?$r.pos:Pr.plotTop),Pr.inverted&&Nr&&$r?[$r.len-vr+qr,Nr.len-Er+zr]:[Er+zr,vr+qr]}}resolveColor(){let mr=this.series,vr=mr.chart.options.chart,Er=mr.chart.styledMode,Tr,Pr,Nr=vr.colorCount,$r;delete this.nonZonedColor,mr.options.colorByPoint?(Er||(Tr=(Pr=mr.options.colors||mr.chart.options.colors)[mr.colorCounter],Nr=Pr.length),$r=mr.colorCounter,mr.colorCounter++,mr.colorCounter===Nr&&(mr.colorCounter=0)):(Er||(Tr=mr.color),$r=mr.colorIndex),this.colorIndex=Ih(this.options.colorIndex,$r),this.color=Ih(this.options.color,Tr)}setNestedProperty(mr,vr,Er){return Er.split(".").reduce(function(Tr,Pr,Nr,$r){let zr=$r.length-1===Nr;return Tr[Pr]=zr?vr:Zf(Tr[Pr],!0)?Tr[Pr]:{},Tr[Pr]},mr),mr}shouldDraw(){return!this.isNull}tooltipFormatter(mr){let{chart:vr,pointArrayMap:Er=["y"],tooltipOptions:Tr}=this.series,{valueDecimals:Pr="",valuePrefix:Nr="",valueSuffix:$r=""}=Tr;return vr.styledMode&&(mr=vr.tooltip?.styledModeFormat(mr)||mr),Er.forEach(zr=>{zr="{point."+zr,(Nr||$r)&&(mr=mr.replace(RegExp(zr+"}","g"),Nr+zr+"}"+$r)),mr=mr.replace(RegExp(zr+"}","g"),zr+":,."+Pr+"f}")}),qf(mr,this,vr)}update(mr,vr,Er,Tr){let Pr,Nr=this,$r=Nr.series,zr=Nr.graphic,qr=$r.chart,Jr=$r.options;function Kr(){Nr.applyOptions(mr);let ro=zr&&Nr.hasMockGraphic,fo=Nr.y===null?!ro:ro;zr&&fo&&(Nr.graphic=zr.destroy(),delete Nr.hasMockGraphic),Zf(mr,!0)&&(zr?.element&&mr&&mr.marker&&mr.marker.symbol!==void 0&&(Nr.graphic=zr.destroy()),mr?.dataLabels&&Nr.dataLabel&&(Nr.dataLabel=Nr.dataLabel.destroy())),Pr=Nr.index;let mo={};for(let bo of $r.dataColumnKeys())mo[bo]=Nr[bo];$r.dataTable.setRow(mo,Pr),Jr.data[Pr]=Zf(Jr.data[Pr],!0)||Zf(mr,!0)?Nr.options:Ih(mr,Jr.data[Pr]),$r.isDirty=$r.isDirtyData=!0,!$r.fixedBox&&$r.hasCartesianSeries&&(qr.isDirtyBox=!0),Jr.legendType==="point"&&(qr.isDirtyLegend=!0),vr&&qr.redraw(Er)}vr=Ih(vr,!0),Tr===!1?Kr():Nr.firePointEvent("update",{options:mr},Kr)}remove(mr,vr){this.series.removePoint(this.series.data.indexOf(this),mr,vr)}select(mr,vr){let Er=this,Tr=Er.series,Pr=Tr.chart;mr=Ih(mr,!Er.selected),this.selectedStaging=mr,Er.firePointEvent(mr?"select":"unselect",{accumulate:vr},function(){Er.selected=Er.options.selected=mr,Tr.options.data[Tr.data.indexOf(Er)]=Er.options,Er.setState(mr&&"select"),vr||Pr.getSelectedPoints().forEach(function(Nr){let $r=Nr.series;Nr.selected&&Nr!==Er&&(Nr.selected=Nr.options.selected=!1,$r.options.data[$r.data.indexOf(Nr)]=Nr.options,Nr.setState(Pr.hoverPoints&&$r.options.inactiveOtherPoints?"inactive":""),Nr.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(mr){let{inverted:vr,pointer:Er}=this.series.chart;Er&&(mr=mr?Er.normalize(mr):Er.getChartCoordinatesFromPoint(this,vr),Er.runPointActions(mr,this))}onMouseOut(){let mr=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(mr.hoverPoints||[]).forEach(function(vr){vr.setState()}),mr.hoverPoints=mr.hoverPoint=null}manageEvent(mr){let vr=dy(this.series.options.point,this.options),Er=vr.events?.[mr];Pd(Er)&&(!this.hcEvents?.[mr]||this.hcEvents?.[mr]?.map(Tr=>Tr.fn).indexOf(Er)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=Ap(this,mr,Er),this.hcEvents&&(this.hcEvents[mr].userEvent=!0)):this.importedUserEvent&&!Er&&this.hcEvents?.[mr]&&this.hcEvents?.[mr].userEvent&&(yx(this,mr),delete this.hcEvents[mr],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(mr,vr){let Er=this.series,Tr=this.state,Pr=Er.options.states[mr||"normal"]||{},Nr=hy.plotOptions[Er.type].marker&&Er.options.marker,$r=Nr&&Nr.enabled===!1,zr=Nr?.states?.[mr||"normal"]||{},qr=zr.enabled===!1,Jr=this.marker||{},Kr=Er.chart,ro=Nr&&Er.markerAttribs,fo=Er.halo,mo,bo,vo,yo=Er.stateMarkerGraphic,To;if((mr=mr||"")===this.state&&!vr||this.selected&&mr!=="select"||Pr.enabled===!1||mr&&(qr||$r&&zr.enabled===!1)||mr&&Jr.states&&Jr.states[mr]&&Jr.states[mr].enabled===!1)return;if(this.state=mr,ro&&(mo=Er.markerAttribs(this,mr)),this.graphic&&!this.hasMockGraphic){if(Tr&&this.graphic.removeClass("highcharts-point-"+Tr),mr&&this.graphic.addClass("highcharts-point-"+mr),!Kr.styledMode){bo=Er.pointAttribs(this,mr),vo=Ih(Kr.options.chart.animation,Pr.animation);let Uo=bo.opacity;Er.options.inactiveOtherPoints&&Qp(Uo)&&(this.dataLabels||[]).forEach(function(Yo){Yo&&!Yo.hasClass("highcharts-data-label-hidden")&&(Yo.animate({opacity:Uo},vo),Yo.connector&&Yo.connector.animate({opacity:Uo},vo))}),this.graphic.animate(bo,vo)}mo&&this.graphic.animate(mo,Ih(Kr.options.chart.animation,zr.animation,Nr.animation)),yo&&yo.hide()}else mr&&zr&&(To=Jr.symbol||Er.symbol,yo&&yo.currentSymbol!==To&&(yo=yo.destroy()),mo&&(yo?yo[vr?"animate":"attr"]({x:mo.x,y:mo.y}):To&&(Er.stateMarkerGraphic=yo=Kr.renderer.symbol(To,mo.x,mo.y,mo.width,mo.height,dy(Nr,zr)).add(Er.markerGroup),yo.currentSymbol=To)),!Kr.styledMode&&yo&&this.state!=="inactive"&&yo.attr(Er.pointAttribs(this,mr))),yo&&(yo[mr&&this.isInside?"show":"hide"](),yo.element.point=this,yo.addClass(this.getClassName(),!0));let Do=Pr.halo,Lo=this.graphic||yo,Wo=Lo?.visibility||"inherit";Do?.size&&Lo&&Wo!=="hidden"&&!this.isCluster?(fo||(Er.halo=fo=Kr.renderer.path().add(Lo.parentGroup)),fo.show()[vr?"animate":"attr"]({d:this.haloPath(Do.size)}),fo.attr({class:"highcharts-halo highcharts-color-"+Ih(this.colorIndex,Er.colorIndex)+(this.className?" "+this.className:""),visibility:Wo,zIndex:-1}),fo.point=this,Kr.styledMode||fo.attr(Zp({fill:this.color||Er.color,"fill-opacity":Do.opacity},_u.filterUserAttributes(Do.attributes||{})))):fo?.point?.haloPath&&!fo.point.destroyed&&fo.animate({d:fo.point.haloPath(0)},null,fo.hide),Td(this,"afterSetState",{state:mr})}haloPath(mr){let vr=this.pos();return vr?this.series.chart.renderer.symbols.circle(ab(vr[0],1)-mr,vr[1]-mr,2*mr,2*mr):[]}}let Tf=Dd,{parse:fy}=Hl,{charts:Rh,composed:ag,isTouchDevice:Bg}=Fr,{addEvent:Eh,attr:py,css:Qf,extend:Pf,find:my,fireEvent:xh,isNumber:Am,isObject:md,objectEach:Df,offset:Tm,pick:Wd,pushUnique:ob,splat:hf}=nl;class Ru{applyInactiveState(mr=[]){let vr=[];for(let Er of(mr.forEach(Tr=>{let Pr=Tr.series;vr.push(Pr),Pr.linkedParent&&vr.push(Pr.linkedParent),Pr.linkedSeries&&vr.push.apply(vr,Pr.linkedSeries),Pr.navigatorSeries&&vr.push(Pr.navigatorSeries),Pr.boosted&&Pr.markerGroup&&vr.push.apply(vr,this.chart.series.filter(Nr=>Nr.markerGroup===Pr.markerGroup))}),this.chart.series)){let Tr=Er.options;Tr.states?.inactive?.enabled!==!1&&(vr.indexOf(Er)===-1?Er.setState("inactive",!0):Tr.inactiveOtherPoints&&Er.setAllPointsToState("inactive"))}}destroy(){let mr=this;this.eventsToUnbind.forEach(vr=>vr()),this.eventsToUnbind=[],!Fr.chartCount&&(Ru.unbindDocumentMouseUp.forEach(vr=>vr.unbind()),Ru.unbindDocumentMouseUp.length=0,Ru.unbindDocumentTouchEnd&&(Ru.unbindDocumentTouchEnd=Ru.unbindDocumentTouchEnd())),clearInterval(mr.tooltipTimeout),Df(mr,function(vr,Er){mr[Er]=void 0})}getSelectionMarkerAttrs(mr,vr){let Er={args:{chartX:mr,chartY:vr},attrs:{},shapeType:"rect"};return xh(this,"getSelectionMarkerAttrs",Er,Tr=>{let Pr,{chart:Nr,zoomHor:$r,zoomVert:zr}=this,{mouseDownX:qr=0,mouseDownY:Jr=0}=Nr,Kr=Tr.attrs;Kr.x=Nr.plotLeft,Kr.y=Nr.plotTop,Kr.width=$r?1:Nr.plotWidth,Kr.height=zr?1:Nr.plotHeight,$r&&(Kr.width=Math.max(1,Math.abs(Pr=mr-qr)),Kr.x=(Pr>0?0:Pr)+qr),zr&&(Kr.height=Math.max(1,Math.abs(Pr=vr-Jr)),Kr.y=(Pr>0?0:Pr)+Jr)}),Er}drag(mr){let{chart:vr}=this,{mouseDownX:Er=0,mouseDownY:Tr=0}=vr,{panning:Pr,panKey:Nr,selectionMarkerFill:$r}=vr.options.chart,zr=vr.plotLeft,qr=vr.plotTop,Jr=vr.plotWidth,Kr=vr.plotHeight,ro=md(Pr)?Pr.enabled:Pr,fo=Nr&&mr[`${Nr}Key`],mo=mr.chartX,bo=mr.chartY,vo,yo=this.selectionMarker;if((!yo||!yo.touch)&&(mo<zr?mo=zr:mo>zr+Jr&&(mo=zr+Jr),bo<qr?bo=qr:bo>qr+Kr&&(bo=qr+Kr),this.hasDragged=Math.sqrt(Math.pow(Er-mo,2)+Math.pow(Tr-bo,2)),this.hasDragged>10)){vo=vr.isInsidePlot(Er-zr,Tr-qr,{visiblePlotOnly:!0});let{shapeType:To,attrs:Do}=this.getSelectionMarkerAttrs(mo,bo);this.hasZoom&&vo&&!fo&&!yo&&(this.selectionMarker=yo=vr.renderer[To](),yo.attr({class:"highcharts-selection-marker",zIndex:7}).add(),vr.styledMode||yo.attr({fill:$r||fy("#334eff").setOpacity(.25).get()})),yo&&yo.attr(Do),vo&&!yo&&ro&&vr.pan(mr,Pr)}}dragStart(mr){let vr=this.chart;vr.mouseIsDown=mr.type,vr.cancelClick=!1,vr.mouseDownX=mr.chartX,vr.mouseDownY=mr.chartY}getSelectionBox(mr){let vr={args:{marker:mr},result:mr.getBBox()};return xh(this,"getSelectionBox",vr),vr.result}drop(mr){let vr,{chart:Er,selectionMarker:Tr}=this;for(let Pr of Er.axes)Pr.isPanning&&(Pr.isPanning=!1,(Pr.options.startOnTick||Pr.options.endOnTick||Pr.series.some(Nr=>Nr.boosted))&&(Pr.forceRedraw=!0,Pr.setExtremes(Pr.userMin,Pr.userMax,!1),vr=!0));if(vr&&Er.redraw(),Tr&&mr){if(this.hasDragged){let Pr=this.getSelectionBox(Tr);Er.transform({axes:Er.axes.filter(Nr=>Nr.zoomEnabled&&(Nr.coll==="xAxis"&&this.zoomX||Nr.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:mr,xAxis:[],yAxis:[],...Pr},from:Pr})}Am(Er.index)&&(this.selectionMarker=Tr.destroy())}Er&&Am(Er.index)&&(Qf(Er.container,{cursor:Er._cursor}),Er.cancelClick=this.hasDragged>10,Er.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(mr,vr,Er){let Tr;return mr.forEach(function(Pr){let Nr=!(Pr.noSharedTooltip&&vr)&&0>Pr.options.findNearestPointBy.indexOf("y"),$r=Pr.searchPoint(Er,Nr);md($r,!0)&&$r.series&&(!md(Tr,!0)||(function(zr,qr){let Jr=zr.distX-qr.distX,Kr=zr.dist-qr.dist,ro=qr.series.group?.zIndex-zr.series.group?.zIndex;return Jr!==0&&vr?Jr:Kr!==0?Kr:ro!==0?ro:zr.series.index>qr.series.index?-1:1})(Tr,$r)>0)&&(Tr=$r)}),Tr}getChartCoordinatesFromPoint(mr,vr){let{xAxis:Er,yAxis:Tr}=mr.series,Pr=mr.shapeArgs;if(Er&&Tr){let Nr=mr.clientX??mr.plotX??0,$r=mr.plotY||0;return mr.isNode&&Pr&&Am(Pr.x)&&Am(Pr.y)&&(Nr=Pr.x,$r=Pr.y),vr?{chartX:Tr.len+Tr.pos-$r,chartY:Er.len+Er.pos-Nr}:{chartX:Nr+Er.pos,chartY:$r+Tr.pos}}if(Pr?.x&&Pr.y)return{chartX:Pr.x,chartY:Pr.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:mr}=this.chart,vr=Tm(mr);this.chartPosition={left:vr.left,top:vr.top,scaleX:1,scaleY:1};let{offsetHeight:Er,offsetWidth:Tr}=mr;return Tr>2&&Er>2&&(this.chartPosition.scaleX=vr.width/Tr,this.chartPosition.scaleY=vr.height/Er),this.chartPosition}getCoordinates(mr){let vr={xAxis:[],yAxis:[]};for(let Er of this.chart.axes)vr[Er.isXAxis?"xAxis":"yAxis"].push({axis:Er,value:Er.toValue(mr[Er.horiz?"chartX":"chartY"])});return vr}getHoverData(mr,vr,Er,Tr,Pr,Nr){let $r=[],zr=function(fo){return fo.visible&&!(!Pr&&fo.directTouch)&&Wd(fo.options.enableMouseTracking,!0)},qr=vr,Jr,Kr={chartX:Nr?Nr.chartX:void 0,chartY:Nr?Nr.chartY:void 0,shared:Pr};xh(this,"beforeGetHoverData",Kr),Jr=qr&&!qr.stickyTracking?[qr]:Er.filter(fo=>fo.stickyTracking&&(Kr.filter||zr)(fo));let ro=Tr&&mr||!Nr?mr:this.findNearestKDPoint(Jr,Pr,Nr);return qr=ro?.series,ro&&(Pr&&!qr.noSharedTooltip?(Jr=Er.filter(function(fo){return Kr.filter?Kr.filter(fo):zr(fo)&&!fo.noSharedTooltip})).forEach(function(fo){let mo=fo.options?.nullInteraction,bo=my(fo.points,function(vo){return vo.x===ro.x&&(!vo.isNull||!!mo)});md(bo)&&(fo.boosted&&fo.boost&&(bo=fo.boost.getPoint(bo)),$r.push(bo))}):$r.push(ro)),xh(this,"afterGetHoverData",Kr={hoverPoint:ro}),{hoverPoint:Kr.hoverPoint,hoverSeries:qr,hoverPoints:$r}}getPointFromEvent(mr){let vr=mr.target,Er;for(;vr&&!Er;)Er=vr.point,vr=vr.parentNode;return Er}onTrackerMouseOut(mr){let vr=this.chart,Er=mr.relatedTarget,Tr=vr.hoverSeries;this.isDirectTouch=!1,!Tr||!Er||Tr.stickyTracking||this.inClass(Er,"highcharts-tooltip")||this.inClass(Er,"highcharts-series-"+Tr.index)&&this.inClass(Er,"highcharts-tracker")||Tr.onMouseOut()}inClass(mr,vr){let Er=mr,Tr;for(;Er;){if(Tr=py(Er,"class")){if(Tr.indexOf(vr)!==-1)return!0;if(Tr.indexOf("highcharts-container")!==-1)return!1}Er=Er.parentElement}}constructor(mr,vr){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=vr,this.chart=mr,this.runChartClick=!!vr.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),xh(this,"afterInit")}normalize(mr,vr){let Er=mr.touches,Tr=Er?Er.length?Er.item(0):Wd(Er.changedTouches,mr.changedTouches)[0]:mr;vr||(vr=this.getChartPosition());let Pr=Tr.pageX-vr.left,Nr=Tr.pageY-vr.top;return Pf(mr,{chartX:Math.round(Pr/=vr.scaleX),chartY:Math.round(Nr/=vr.scaleY)})}onContainerClick(mr){let vr=this.chart,Er=vr.hoverPoint,Tr=this.normalize(mr),Pr=vr.plotLeft,Nr=vr.plotTop;!vr.cancelClick&&(Er&&this.inClass(Tr.target,"highcharts-tracker")?(xh(Er.series,"click",Pf(Tr,{point:Er})),vr.hoverPoint&&Er.firePointEvent("click",Tr)):(Pf(Tr,this.getCoordinates(Tr)),vr.isInsidePlot(Tr.chartX-Pr,Tr.chartY-Nr,{visiblePlotOnly:!0})&&xh(vr,"click",Tr)))}onContainerMouseDown(mr){let vr=(1&(mr.buttons||mr.button))==1;mr=this.normalize(mr),Fr.isFirefox&&mr.button!==0&&this.onContainerMouseMove(mr),(mr.button===void 0||vr)&&(this.zoomOption(mr),vr&&mr.preventDefault?.(),this.dragStart(mr))}onContainerMouseLeave(mr){let{pointer:vr}=Rh[Wd(Ru.hoverChartIndex,-1)]||{};mr=this.normalize(mr),this.onContainerMouseMove(mr),vr&&!this.inClass(mr.relatedTarget,"highcharts-tooltip")&&(vr.reset(),vr.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(mr){let vr=this.chart,Er=vr.tooltip,Tr=this.normalize(mr);this.setHoverChartIndex(mr),(vr.mouseIsDown==="mousedown"||this.touchSelect(Tr))&&this.drag(Tr),!vr.exporting?.openMenu&&(this.inClass(Tr.target,"highcharts-tracker")||vr.isInsidePlot(Tr.chartX-vr.plotLeft,Tr.chartY-vr.plotTop,{visiblePlotOnly:!0}))&&!Er?.shouldStickOnContact(Tr)&&(this.inClass(Tr.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(Tr))}onDocumentTouchEnd(mr){this.onDocumentMouseUp(mr)}onContainerTouchMove(mr){this.touchSelect(mr)?this.onContainerMouseMove(mr):this.touch(mr)}onContainerTouchStart(mr){this.touchSelect(mr)?this.onContainerMouseDown(mr):(this.zoomOption(mr),this.touch(mr,!0))}onDocumentMouseMove(mr){let vr=this.chart,Er=vr.tooltip,Tr=this.chartPosition,Pr=this.normalize(mr,Tr);!Tr||vr.isInsidePlot(Pr.chartX-vr.plotLeft,Pr.chartY-vr.plotTop,{visiblePlotOnly:!0})||Er?.shouldStickOnContact(Pr)||Pr.target!==vr.container.ownerDocument&&this.inClass(Pr.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(mr){mr?.touches&&this.hasPinchMoved&&mr?.preventDefault?.(),Rh[Wd(Ru.hoverChartIndex,-1)]?.pointer?.drop(mr)}pinch(mr){let vr=this,{chart:Er,hasZoom:Tr,lastTouches:Pr}=vr,Nr=[].map.call(mr.touches||[],Kr=>vr.normalize(Kr)),$r=Nr.length,zr=$r===1&&(vr.inClass(mr.target,"highcharts-tracker")&&Er.runTrackerClick||vr.runChartClick),qr=Er.tooltip,Jr=$r===1&&Wd(qr?.options.followTouchMove,!0);$r>1?vr.initiated=!0:Jr&&(vr.initiated=!1),Tr&&vr.initiated&&!zr&&mr.cancelable!==!1&&mr.preventDefault(),mr.type==="touchstart"?(vr.pinchDown=Nr,vr.res=!0,Er.mouseDownX=mr.chartX):Jr?this.runPointActions(vr.normalize(mr)):Pr&&(xh(Er,"touchpan",{originalEvent:mr,touches:Nr},()=>{let Kr=ro=>{let fo=ro[0],mo=ro[1]||fo;return{x:fo.chartX,y:fo.chartY,width:mo.chartX-fo.chartX,height:mo.chartY-fo.chartY}};Er.transform({axes:Er.axes.filter(ro=>ro.zoomEnabled&&(this.zoomHor&&ro.horiz||this.zoomVert&&!ro.horiz)),to:Kr(Nr),from:Kr(Pr),trigger:mr.type})}),vr.res&&(vr.res=!1,this.reset(!1,0))),vr.lastTouches=Nr}reset(mr,vr){let Er=this.chart,Tr=Er.hoverSeries,Pr=Er.hoverPoint,Nr=Er.hoverPoints,$r=Er.tooltip,zr=$r?.shared?Nr:Pr;mr&&zr&&hf(zr).forEach(function(qr){qr.series.isCartesian&&qr.plotX===void 0&&(mr=!1)}),mr?$r&&zr&&hf(zr).length&&($r.refresh(zr),$r.shared&&Nr?Nr.forEach(function(qr){qr.setState(qr.state,!0),qr.series.isCartesian&&(qr.series.xAxis.crosshair&&qr.series.xAxis.drawCrosshair(null,qr),qr.series.yAxis.crosshair&&qr.series.yAxis.drawCrosshair(null,qr))}):Pr&&(Pr.setState(Pr.state,!0),Er.axes.forEach(function(qr){qr.crosshair&&Pr.series[qr.coll]===qr&&qr.drawCrosshair(null,Pr)}))):(Pr&&Pr.onMouseOut(),Nr&&Nr.forEach(function(qr){qr.setState()}),Tr&&Tr.onMouseOut(),$r&&$r.hide(vr),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),Er.axes.forEach(function(qr){qr.hideCrosshair()}),Er.hoverPoints=Er.hoverPoint=void 0)}runPointActions(mr,vr,Er){let Tr=this.chart,Pr=Tr.series,Nr=Tr.tooltip?.options.enabled?Tr.tooltip:void 0,$r=!!Nr&&Nr.shared,zr=vr||Tr.hoverPoint,qr=zr?.series||Tr.hoverSeries,Jr=(!mr||mr.type!=="touchmove")&&(!!vr||qr?.directTouch&&this.isDirectTouch),Kr=this.getHoverData(zr,qr,Pr,Jr,$r,mr);zr=Kr.hoverPoint,qr=Kr.hoverSeries;let ro=Kr.hoverPoints,fo=qr?.tooltipOptions.followPointer&&!qr.tooltipOptions.split,mo=$r&&qr&&!qr.noSharedTooltip;if(zr&&(Er||zr!==Tr.hoverPoint||Nr?.isHidden)){if((Tr.hoverPoints||[]).forEach(function(bo){ro.indexOf(bo)===-1&&bo.setState()}),Tr.hoverSeries!==qr&&qr.onMouseOver(),this.applyInactiveState(ro),(ro||[]).forEach(function(bo){bo.setState("hover")}),Tr.hoverPoint&&Tr.hoverPoint.firePointEvent("mouseOut"),!zr.series)return;Tr.hoverPoints=ro,Tr.hoverPoint=zr,zr.firePointEvent("mouseOver",void 0,()=>{Nr&&zr&&Nr.refresh(mo?ro:zr,mr)})}else if(fo&&Nr&&!Nr.isHidden){let bo=Nr.getAnchor([{}],mr);Tr.isInsidePlot(bo[0],bo[1],{visiblePlotOnly:!0})&&Nr.updatePosition({plotX:bo[0],plotY:bo[1]})}this.unDocMouseMove||(this.unDocMouseMove=Eh(Tr.container.ownerDocument,"mousemove",bo=>Rh[Ru.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(bo)),this.eventsToUnbind.push(this.unDocMouseMove)),Tr.axes.forEach(function(bo){let vo,yo=bo.crosshair?.snap??!0;yo&&((vo=Tr.hoverPoint)&&vo.series[bo.coll]===bo||(vo=my(ro,To=>To.series?.[bo.coll]===bo))),vo||!yo?bo.drawCrosshair(mr,vo):bo.hideCrosshair()})}setDOMEvents(){let mr=this.chart.container,vr=mr.ownerDocument;mr.onmousedown=this.onContainerMouseDown.bind(this),mr.onmousemove=this.onContainerMouseMove.bind(this),mr.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Eh(mr,"mouseenter",this.onContainerMouseEnter.bind(this)),Eh(mr,"mouseleave",this.onContainerMouseLeave.bind(this))),Ru.unbindDocumentMouseUp.some(Tr=>Tr.doc===vr)||Ru.unbindDocumentMouseUp.push({doc:vr,unbind:Eh(vr,"mouseup",this.onDocumentMouseUp.bind(this))});let Er=this.chart.renderTo.parentElement;for(;Er&&Er.tagName!=="BODY";)this.eventsToUnbind.push(Eh(Er,"scroll",()=>{delete this.chartPosition})),Er=Er.parentElement;this.eventsToUnbind.push(Eh(mr,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Eh(mr,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Ru.unbindDocumentTouchEnd||(Ru.unbindDocumentTouchEnd=Eh(vr,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Eh(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Bg)return;let mr=this.pointerCaptureEventsToUnbind,vr=this.chart,Er=vr.container,Tr=Wd(vr.options.tooltip?.followTouchMove,!0)&&vr.series.some(Pr=>Pr.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&Tr?(mr.push(Eh(Er,"pointerdown",Pr=>{Pr.target?.hasPointerCapture(Pr.pointerId)&&Pr.target?.releasePointerCapture(Pr.pointerId)}),Eh(Er,"pointermove",Pr=>{vr.pointer?.getPointFromEvent(Pr)?.onMouseOver(Pr)})),vr.styledMode||Qf(Er,{"touch-action":"none"}),Er.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!Tr&&(mr.forEach(Pr=>Pr()),mr.length=0,vr.styledMode||Qf(Er,{"touch-action":Wd(vr.options.chart.style?.["touch-action"],"manipulation")}),Er.className=Er.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(mr){let vr=this.chart,Er=Fr.charts[Wd(Ru.hoverChartIndex,-1)];if(Er&&Er!==vr){let Tr={relatedTarget:vr.container};mr&&!mr?.relatedTarget&&Object.assign({},mr,Tr),Er.pointer?.onContainerMouseLeave(mr||Tr)}Er?.mouseIsDown||(Ru.hoverChartIndex=vr.index)}touch(mr,vr){let Er,{chart:Tr,pinchDown:Pr=[]}=this;this.setHoverChartIndex(),(mr=this.normalize(mr)).touches.length===1?Tr.isInsidePlot(mr.chartX-Tr.plotLeft,mr.chartY-Tr.plotTop,{visiblePlotOnly:!0})&&!Tr.exporting?.openMenu?(vr&&this.runPointActions(mr),mr.type==="touchmove"&&(this.hasPinchMoved=Er=!!Pr[0]&&Math.pow(Pr[0].chartX-mr.chartX,2)+Math.pow(Pr[0].chartY-mr.chartY,2)>=16),Wd(Er,!0)&&this.pinch(mr)):vr&&this.reset():mr.touches.length===2&&this.pinch(mr)}touchSelect(mr){return!!(this.chart.zooming.singleTouch&&mr.touches&&mr.touches.length===1)}zoomOption(mr){let vr=this.chart,Er=vr.inverted,Tr=vr.zooming.type||"",Pr,Nr;/touch/.test(mr.type)&&(Tr=Wd(vr.zooming.pinchType,Tr)),this.zoomX=Pr=/x/.test(Tr),this.zoomY=Nr=/y/.test(Tr),this.zoomHor=Pr&&!Er||Nr&&Er,this.zoomVert=Nr&&!Er||Pr&&Er,this.hasZoom=Pr||Nr}}Ru.unbindDocumentMouseUp=[],(function(Ur){Ur.compose=function(mr){ob(ag,"Core.Pointer")&&Eh(mr,"beforeRender",function(){this.pointer=new Ur(this,this.options)})}})(Ru||(Ru={}));let Sh=Ru;(function(Ur){Ur.setLength=function(mr,vr,Er){return Array.isArray(mr)?(mr.length=vr,mr):mr[Er?"subarray":"slice"](0,vr)},Ur.splice=function(mr,vr,Er,Tr,Pr=[]){if(Array.isArray(mr))return Array.isArray(Pr)||(Pr=Array.from(Pr)),{removed:mr.splice(vr,Er,...Pr),array:mr};let Nr=Object.getPrototypeOf(mr).constructor,$r=mr[Tr?"subarray":"slice"](vr,vr+Er),zr=new Nr(mr.length-Er+Pr.length);return zr.set(mr.subarray(0,vr),0),zr.set(Pr,vr),zr.set(mr.subarray(vr+Er),vr+Pr.length),{removed:$r,array:zr}}})(dr||(dr={}));let{setLength:gy,splice:Gd}=dr,{fireEvent:Nc,objectEach:Cu,uniqueKey:eh}=nl,Pm=class{constructor(Ur={}){this.autoId=!Ur.id,this.columns={},this.id=Ur.id||eh(),this.modified=this,this.rowCount=0,this.versionTag=eh();let mr=0;Cu(Ur.columns||{},(vr,Er)=>{this.columns[Er]=vr.slice(),mr=Math.max(mr,vr.length)}),this.applyRowCount(mr)}applyRowCount(Ur){this.rowCount=Ur,Cu(this.columns,(mr,vr)=>{mr.length!==Ur&&(this.columns[vr]=gy(mr,Ur))})}deleteRows(Ur,mr=1){if(mr>0&&Ur<this.rowCount){let vr=0;Cu(this.columns,(Er,Tr)=>{this.columns[Tr]=Gd(Er,Ur,mr).array,vr=Er.length}),this.rowCount=vr}Nc(this,"afterDeleteRows",{rowIndex:Ur,rowCount:mr}),this.versionTag=eh()}getColumn(Ur,mr){return this.columns[Ur]}getColumns(Ur,mr){return(Ur||Object.keys(this.columns)).reduce((vr,Er)=>(vr[Er]=this.columns[Er],vr),{})}getRow(Ur,mr){return(mr||Object.keys(this.columns)).map(vr=>this.columns[vr]?.[Ur])}setColumn(Ur,mr=[],vr=0,Er){this.setColumns({[Ur]:mr},vr,Er)}setColumns(Ur,mr,vr){let Er=this.rowCount;Cu(Ur,(Tr,Pr)=>{this.columns[Pr]=Tr.slice(),Er=Tr.length}),this.applyRowCount(Er),vr?.silent||(Nc(this,"afterSetColumns"),this.versionTag=eh())}setRow(Ur,mr=this.rowCount,vr,Er){let{columns:Tr}=this,Pr=vr?this.rowCount+1:mr+1;Cu(Ur,(Nr,$r)=>{let zr=Tr[$r]||Er?.addColumns!==!1&&Array(Pr);zr&&(vr?zr=Gd(zr,mr,0,!0,[Nr]).array:zr[mr]=Nr,Tr[$r]=zr)}),Pr>this.rowCount&&this.applyRowCount(Pr),Er?.silent||(Nc(this,"afterSetRows"),this.versionTag=eh())}},{extend:zg,merge:og,pick:vx}=nl;(function(Ur){function mr(vr,Er,Tr){let Pr=this.legendItem=this.legendItem||{},{chart:Nr,options:$r}=this,{baseline:zr=0,symbolWidth:qr,symbolHeight:Jr}=vr,Kr=this.symbol||"circle",ro=Jr/2,fo=Nr.renderer,mo=Pr.group,bo=zr-Math.round((vr.fontMetrics?.b||Jr)*(Tr?.4:.3)),vo={},yo,To=$r.marker,Do=0;if(Nr.styledMode||(vo["stroke-width"]=Math.min($r.lineWidth||0,24),$r.dashStyle?vo.dashstyle=$r.dashStyle:$r.linecap!=="square"&&(vo["stroke-linecap"]="round")),Pr.line=fo.path().addClass("highcharts-graph").attr(vo).add(mo),Tr&&(Pr.area=fo.path().addClass("highcharts-area").add(mo)),vo["stroke-linecap"]&&(Do=Math.min(Pr.line.strokeWidth(),qr)/2),qr){let Lo=[["M",Do,bo],["L",qr-Do,bo]];Pr.line.attr({d:Lo}),Pr.area?.attr({d:[...Lo,["L",qr-Do,zr],["L",Do,zr]]})}if(To&&To.enabled!==!1&&qr){let Lo=Math.min(vx(To.radius,ro),ro);Kr.indexOf("url")===0&&(To=og(To,{width:Jr,height:Jr}),Lo=0),Pr.symbol=yo=fo.symbol(Kr,qr/2-Lo,bo-Lo,2*Lo,2*Lo,zg({context:"legend"},To)).addClass("highcharts-point").add(mo),yo.isMarker=!0}}Ur.areaMarker=function(vr,Er){mr.call(this,vr,Er,!0)},Ur.lineMarker=mr,Ur.rectangle=function(vr,Er){let Tr=Er.legendItem||{},Pr=vr.options,Nr=vr.symbolHeight,$r=Pr.squareSymbol,zr=$r?Nr:vr.symbolWidth;Tr.symbol=this.chart.renderer.rect($r?(vr.symbolWidth-Nr)/2:0,vr.baseline-Nr+1,zr,Nr,vx(vr.options.symbolRadius,Nr/2)).addClass("highcharts-point").attr({zIndex:3}).add(Tr.group)}})(fr||(fr={}));let lg=fr,{defaultOptions:Jp}=oc,{extend:Qb,extendClass:yh,merge:xy}=nl;(function(Ur){function mr(vr,Er){let Tr=Jp.plotOptions||{},Pr=Er.defaultOptions,Nr=Er.prototype;return Nr.type=vr,Nr.pointClass||(Nr.pointClass=Tf),!Ur.seriesTypes[vr]&&(Pr&&(Tr[vr]=Pr),Ur.seriesTypes[vr]=Er,!0)}Ur.seriesTypes=Fr.seriesTypes,Ur.registerSeriesType=mr,Ur.seriesType=function(vr,Er,Tr,Pr,Nr){let $r=Jp.plotOptions||{};if(Er=Er||"",$r[vr]=xy($r[Er],Tr),delete Ur.seriesTypes[vr],mr(vr,yh(Ur.seriesTypes[Er]||gd,Pr)),Ur.seriesTypes[vr].prototype.type=vr,Nr){class zr extends Tf{}Qb(zr.prototype,Nr),Ur.seriesTypes[vr].prototype.pointClass=zr}return Ur.seriesTypes[vr]}})(xr||(xr={}));let nh=xr,{animObject:yy,setAnimation:bx}=Wc,{defaultOptions:vy}=oc,{registerEventOptions:by}=vp,{svg:_y,win:mv}=Fr,{seriesTypes:Ch}=nh,{format:kh}=jo,{arrayMax:Dm,arrayMin:cg,clamp:ug,correctFloat:wy,crisp:Jf,defined:rc,destroyObjectProperties:gv,diffObjects:xv,erase:hg,error:Hg,extend:dg,find:lb,fireEvent:au,getClosestDistance:cb,getNestedProperty:fg,insertItem:_x,isArray:yv,isNumber:Ah,isString:Vd,merge:df,objectEach:pg,pick:ih,removeEvent:wx,syncTimeout:Ey}=nl;class Ud{constructor(){this.zoneAxis="y"}init(mr,vr){let Er;au(this,"init",{options:vr}),this.dataTable??(this.dataTable=new Pm);let Tr=mr.series;this.eventsToUnbind=[],this.chart=mr,this.options=this.setOptions(vr);let Pr=this.options,Nr=Pr.visible!==!1;this.linkedSeries=[],this.bindAxes(),dg(this,{name:Pr.name,state:"",visible:Nr,selected:Pr.selected===!0}),by(this,Pr),(Pr.events?.click||Pr.point?.events?.click||Pr.allowPointSelect)&&(mr.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(mr.hasCartesianSeries=!0),Tr.length&&(Er=Tr[Tr.length-1]),this._i=ih(Er?._i,-1)+1,this.opacity=this.options.opacity,mr.orderItems("series",_x(this,Tr)),Pr.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(Pr.data,!1),au(this,"afterInit")}is(mr){return Ch[mr]&&this instanceof Ch[mr]}bindAxes(){let mr,vr=this,Er=vr.options,Tr=vr.chart;au(this,"bindAxes",null,function(){(vr.axisTypes||[]).forEach(function(Pr){(Tr[Pr]||[]).forEach(function(Nr){mr=Nr.options,(ih(Er[Pr],0)===Nr.index||Er[Pr]!==void 0&&Er[Pr]===mr.id)&&(_x(vr,Nr.series),vr[Pr]=Nr,Nr.isDirty=!0)}),vr[Pr]||vr.optionalAxis===Pr||Hg(18,!0,Tr)})}),au(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(mr,vr){let Er=mr.marker,Tr=vr.marker||{};return Er&&(Tr.enabled&&!Er.enabled||Tr.symbol!==Er.symbol||Tr.height!==Er.height||Tr.width!==Er.width)}autoIncrement(mr){let vr,Er=this.options,{pointIntervalUnit:Tr,relativeXValue:Pr}=this.options,Nr=this.chart.time,$r=this.xIncrement??Nr.parse(Er.pointStart)??0;if(this.pointInterval=vr=ih(this.pointInterval,Er.pointInterval,1),Pr&&Ah(mr)&&(vr*=mr),Tr){let zr=Nr.toParts($r);Tr==="day"?zr[2]+=vr:Tr==="month"?zr[1]+=vr:Tr==="year"&&(zr[0]+=vr),vr=Nr.makeTime.apply(Nr,zr)-$r}return Pr&&Ah(mr)?$r+vr:(this.xIncrement=$r+vr,$r)}setDataSortingOptions(){let mr=this.options;dg(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),rc(mr.pointRange)||(mr.pointRange=1)}setOptions(mr){let vr,Er=this.chart,Tr=Er.options.plotOptions,Pr=Er.userOptions||{},Nr=df(mr),$r=Er.styledMode,zr={plotOptions:Tr,userOptions:Nr};au(this,"setOptions",zr);let qr=zr.plotOptions[this.type],Jr=Pr.plotOptions||{},Kr=Jr.series||{},ro=vy.plotOptions[this.type]||{},fo=Jr[this.type]||{};qr.dataLabels=this.mergeArrays(ro.dataLabels,qr.dataLabels),this.userOptions=zr.userOptions;let mo=df(qr,Tr.series,fo,Nr);this.tooltipOptions=df(vy.tooltip,vy.plotOptions.series?.tooltip,ro?.tooltip,Er.userOptions.tooltip,Jr.series?.tooltip,fo.tooltip,Nr.tooltip),this.stickyTracking=ih(Nr.stickyTracking,fo.stickyTracking,Kr.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||mo.stickyTracking),qr.marker===null&&delete mo.marker,this.zoneAxis=mo.zoneAxis||"y";let bo=this.zones=(mo.zones||[]).map(vo=>({...vo}));return(mo.negativeColor||mo.negativeFillColor)&&!mo.zones&&(vr={value:mo[this.zoneAxis+"Threshold"]||mo.threshold||0,className:"highcharts-negative"},$r||(vr.color=mo.negativeColor,vr.fillColor=mo.negativeFillColor),bo.push(vr)),bo.length&&rc(bo[bo.length-1].value)&&bo.push($r?{}:{color:this.color,fillColor:this.fillColor}),au(this,"afterSetOptions",{options:mo}),mo}getName(){return this.options.name??kh(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(mr,vr,Er){let Tr,Pr,Nr=this.chart,$r=`${mr}Index`,zr=`${mr}Counter`,qr=Er?.length||Nr.options.chart.colorCount;!vr&&(rc(Pr=ih(mr==="color"?this.options.colorIndex:void 0,this[$r]))?Tr=Pr:(Nr.series.length||(Nr[zr]=0),Tr=Nr[zr]%qr,Nr[zr]+=1),Er&&(vr=Er[Tr])),Tr!==void 0&&(this[$r]=Tr),this[mr]=vr}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||vy.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let mr=this.options.marker;this.getCyclic("symbol",mr.symbol,this.chart.options.symbols)}getColumn(mr,vr){return(vr?this.dataTable.modified:this.dataTable).getColumn(mr,!0)||[]}findPointIndex(mr,vr){let Er,Tr,Pr,{id:Nr,x:$r}=mr,zr=this.points,qr=this.options.dataSorting,Jr=this.cropStart||0;if(Nr){let Kr=this.chart.get(Nr);Kr instanceof Tf&&(Er=Kr)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let Kr=ro=>!ro.touched&&ro.index===mr.index;if(qr?.matchByName?Kr=ro=>!ro.touched&&ro.name===mr.name:this.options.relativeXValue&&(Kr=ro=>!ro.touched&&ro.options.x===mr.x),!(Er=lb(zr,Kr)))return}return Er&&(Pr=Er?.index)!==void 0&&(Tr=!0),Pr===void 0&&Ah($r)&&(Pr=this.getColumn("x").indexOf($r,vr)),Pr!==-1&&Pr!==void 0&&this.cropped&&(Pr=Pr>=Jr?Pr-Jr:Pr),!Tr&&Ah(Pr)&&zr[Pr]?.touched&&(Pr=void 0),Pr}updateData(mr,vr){let{options:Er,requireSorting:Tr}=this,Pr=Er.dataSorting,Nr=this.points,$r=[],zr=mr.length===Nr.length,qr,Jr,Kr,ro,fo=!0;if(this.xIncrement=null,mr.forEach((bo,vo)=>{let yo,To=rc(bo)&&this.pointClass.prototype.optionsToObject.call({series:this},bo)||{},{id:Do,x:Lo}=To;Do||Ah(Lo)?((yo=this.findPointIndex(To,ro))===-1||yo===void 0?$r.push(bo):Nr[yo]&&bo!==Er.data?.[yo]?(Nr[yo].update(bo,!1,void 0,!1),Nr[yo].touched=!0,Tr&&(ro=yo+1)):Nr[yo]&&(Nr[yo].touched=!0),(!zr||vo!==yo||Pr?.enabled||this.hasDerivedData)&&(qr=!0)):$r.push(bo)},this),qr)for(Jr=Nr.length;Jr--;)(Kr=Nr[Jr])&&!Kr.touched&&Kr.remove?.(!1,vr);else zr&&!Pr?.enabled?(mr.forEach((bo,vo)=>{bo===Nr[vo].y||Nr[vo].destroyed||Nr[vo].update(bo,!1,void 0,!1)}),$r.length=0):fo=!1;if(Nr.forEach(bo=>{bo&&(bo.touched=!1)}),!fo)return!1;$r.forEach(bo=>{this.addPoint(bo,!1,void 0,void 0,!1)},this);let mo=this.getColumn("x");return this.xIncrement===null&&mo.length&&(this.xIncrement=Dm(mo),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(mr,vr=!0,Er,Tr){let Pr=this.points,Nr=Pr?.length||0,$r=this.options,zr=this.chart,qr=$r.dataSorting,Jr=this.xAxis,Kr=$r.turboThreshold,ro=this.dataTable,fo=this.dataColumnKeys(),mo=this.pointValKey||"y",bo=(this.pointArrayMap||[]).length,vo=$r.keys,yo,To,Do=0,Lo=1,Wo;zr.options.chart.allowMutatingData||($r.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Wo=df(!0,mr));let Uo=(mr=Wo||mr||[]).length;if(qr?.enabled&&(mr=this.sortData(mr)),zr.options.chart.allowMutatingData&&Tr!==!1&&Uo&&Nr&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(To=this.updateData(mr,Er)),!To){this.xIncrement=null,this.colorCounter=0;let Yo=Kr&&!$r.relativeXValue&&Uo>Kr;if(Yo){let Bo=this.getFirstValidPoint(mr),pl=this.getFirstValidPoint(mr,Uo-1,-1),xl=ml=>!!(yv(ml)&&(vo||Ah(ml[0])));if(Ah(Bo)&&Ah(pl)){let ml=[],Ol=[];for(let Xl of mr)ml.push(this.autoIncrement()),Ol.push(Xl);ro.setColumns({x:ml,[mo]:Ol})}else if(xl(Bo)&&xl(pl))if(bo){let ml=+(Bo.length===bo),Ol=Array(fo.length).fill(0).map(()=>[]);for(let Xl of mr){ml&&Ol[0].push(this.autoIncrement());for(let Zl=ml;Zl<=bo;Zl++)Ol[Zl]?.push(Xl[Zl-ml])}ro.setColumns(fo.reduce((Xl,Zl,Ml)=>(Xl[Zl]=Ol[Ml],Xl),{}))}else{vo&&(Do=vo.indexOf("x"),Lo=vo.indexOf("y"),Do=Do>=0?Do:0,Lo=Lo>=0?Lo:1),Bo.length===1&&(Lo=0);let ml=[],Ol=[];if(Do===Lo)for(let Xl of mr)ml.push(this.autoIncrement()),Ol.push(Xl[Lo]);else for(let Xl of mr)ml.push(Xl[Do]),Ol.push(Xl[Lo]);ro.setColumns({x:ml,[mo]:Ol})}else Yo=!1}if(!Yo){let Bo=fo.reduce((pl,xl)=>(pl[xl]=[],pl),{});for(yo=0;yo<Uo;yo++){let pl=this.pointClass.prototype.applyOptions.apply({series:this},[mr[yo]]);for(let xl of fo)Bo[xl][yo]=pl[xl]}ro.setColumns(Bo)}for(Vd(this.getColumn("y")[0])&&Hg(14,!0,zr),this.data=[],this.options.data=this.userOptions.data=mr,yo=Nr;yo--;)Pr[yo]?.destroy();Jr&&(Jr.minRange=Jr.userMinRange),this.isDirty=zr.isDirtyBox=!0,this.isDirtyData=!!Pr,Er=!1}$r.legendType==="point"&&(this.processData(),this.generatePoints()),vr&&zr.redraw(Er)}sortData(mr){let vr=this,Er=vr.options.dataSorting.sortKey||"y",Tr=function(Pr,Nr){return rc(Nr)&&Pr.pointClass.prototype.optionsToObject.call({series:Pr},Nr)||{}};return mr.forEach(function(Pr,Nr){mr[Nr]=Tr(vr,Pr),mr[Nr].index=Nr},this),mr.concat().sort((Pr,Nr)=>{let $r=fg(Er,Pr),zr=fg(Er,Nr);return zr<$r?-1:+(zr>$r)}).forEach(function(Pr,Nr){Pr.x=Nr},this),vr.linkedSeries&&vr.linkedSeries.forEach(function(Pr){let Nr=Pr.options,$r=Nr.data;!Nr.dataSorting?.enabled&&$r&&($r.forEach(function(zr,qr){$r[qr]=Tr(Pr,zr),mr[qr]&&($r[qr].x=mr[qr].x,$r[qr].index=qr)}),Pr.setData($r,!1))}),mr}getProcessedData(mr){let vr=this,{dataTable:Er,isCartesian:Tr,options:Pr,xAxis:Nr}=vr,$r=Pr.cropThreshold,zr=mr||vr.getExtremesFromAll,qr=Nr?.logarithmic,Jr=Er.rowCount,Kr,ro,fo=0,mo,bo,vo,yo=vr.getColumn("x"),To=Er,Do=!1;return Nr&&(bo=(mo=Nr.getExtremes()).min,vo=mo.max,Do=!!(Nr.categories&&!Nr.names.length),Tr&&vr.sorted&&!zr&&(!$r||Jr>$r||vr.forceCrop)&&(yo[Jr-1]<bo||yo[0]>vo?To=new Pm:vr.getColumn(vr.pointValKey||"y").length&&(yo[0]<bo||yo[Jr-1]>vo)&&(To=(Kr=this.cropData(Er,bo,vo)).modified,fo=Kr.start,ro=!0))),yo=To.getColumn("x")||[],{modified:To,cropped:ro,cropStart:fo,closestPointRange:cb([qr?yo.map(qr.log2lin):yo],()=>vr.requireSorting&&!Do&&Hg(15,!1,vr.chart))}}processData(mr){let vr=this.xAxis,Er=this.dataTable;if(this.isCartesian&&!this.isDirty&&!vr.isDirty&&!this.yAxis.isDirty&&!mr)return!1;let Tr=this.getProcessedData();Er.modified=Tr.modified,this.cropped=Tr.cropped,this.cropStart=Tr.cropStart,this.closestPointRange=this.basePointRange=Tr.closestPointRange,au(this,"afterProcessData")}cropData(mr,vr,Er){let Tr=mr.getColumn("x",!0)||[],Pr=Tr.length,Nr={},$r,zr,qr=0,Jr=Pr;for($r=0;$r<Pr;$r++)if(Tr[$r]>=vr){qr=Math.max(0,$r-1);break}for(zr=$r;zr<Pr;zr++)if(Tr[zr]>Er){Jr=zr+1;break}for(let Kr of this.dataColumnKeys()){let ro=mr.getColumn(Kr,!0);ro&&(Nr[Kr]=ro.slice(qr,Jr))}return{modified:new Pm({columns:Nr}),start:qr,end:Jr}}generatePoints(){let mr=this.options,vr=this.processedData||mr.data,Er=this.dataTable.modified,Tr=this.getColumn("x",!0),Pr=this.pointClass,Nr=Er.rowCount,$r=this.cropStart||0,zr=this.hasGroupedData,qr=mr.keys,Jr=[],Kr=mr.dataGrouping?.groupAll?$r:0,ro=this.xAxis?.categories,fo=this.pointArrayMap||["y"],mo=this.dataColumnKeys(),bo,vo,yo,To,Do=this.data,Lo;if(!Do&&!zr){let Wo=[];Wo.length=vr?.length||0,Do=this.data=Wo}for(qr&&zr&&(this.options.keys=!1),To=0;To<Nr;To++)vo=$r+To,zr?((yo=new Pr(this,Er.getRow(To,mo)||[])).dataGroup=this.groupMap[Kr+To],yo.dataGroup?.options&&(yo.options=yo.dataGroup.options,dg(yo,yo.dataGroup.options),delete yo.dataLabels)):(yo=Do[vo],Lo=vr?vr[vo]:Er.getRow(To,fo),yo||Lo===void 0||(Do[vo]=yo=new Pr(this,Lo,Tr[To]))),yo&&(yo.index=zr?Kr+To:vo,Jr[To]=yo,yo.category=ro?.[yo.x]??yo.x,yo.key=yo.name??yo.category);if(this.options.keys=qr,Do&&(Nr!==(bo=Do.length)||zr))for(To=0;To<bo;To++)To!==$r||zr||(To+=Nr),Do[To]&&(Do[To].destroyElements(),Do[To].plotX=void 0);this.data=Do,this.points=Jr,au(this,"afterGeneratePoints")}getXExtremes(mr){return{min:cg(mr),max:Dm(mr)}}getExtremes(mr,vr){let{xAxis:Er,yAxis:Tr}=this,Pr=vr||this.getExtremesFromAll||this.options.getExtremesFromAll,Nr=Pr&&this.cropped?this.dataTable:this.dataTable.modified,$r=Nr.rowCount,zr=mr||this.stackedYData,qr=zr?[zr]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(Wo=>Nr.getColumn(Wo,!0)||[])||[],Jr=this.getColumn("x",!0),Kr=[],ro=this.requireSorting&&!this.is("column")?1:0,fo=!!Tr&&Tr.positiveValuesOnly,mo=Pr||this.cropped||!Er,bo,vo,yo,To=0,Do=0;for(Er&&(To=(bo=Er.getExtremes()).min,Do=bo.max),yo=0;yo<$r;yo++)if(vo=Jr[yo],mo||(Jr[yo+ro]||vo)>=To&&(Jr[yo-ro]||vo)<=Do)for(let Wo of qr){let Uo=Wo[yo];Ah(Uo)&&(Uo>0||!fo)&&Kr.push(Uo)}let Lo={activeYData:Kr,dataMin:cg(Kr),dataMax:Dm(Kr)};return au(this,"afterGetExtremes",{dataExtremes:Lo}),Lo}applyExtremes(){let mr=this.getExtremes();return this.dataMin=mr.dataMin,this.dataMax=mr.dataMax,mr}getFirstValidPoint(mr,vr=0,Er=1){let Tr=mr.length,Pr=vr;for(;Pr>=0&&Pr<Tr;){if(rc(mr[Pr]))return mr[Pr];Pr+=Er}}translate(){this.generatePoints();let mr=this.options,vr=mr.stacking,Er=this.xAxis,Tr=this.enabledDataSorting,Pr=this.yAxis,Nr=this.points,$r=Nr.length,zr=this.pointPlacementToXValue(),qr=!!zr,Jr=mr.threshold,Kr=mr.startFromThreshold?Jr:0,ro=mr?.nullInteraction&&Pr.len,fo,mo,bo,vo,yo=Number.MAX_VALUE;function To(Do){return ug(Do,-1e9,1e9)}for(fo=0;fo<$r;fo++){let Do,Lo=Nr[fo],Wo=Lo.x,Uo,Yo,Bo=Lo.y,pl=Lo.low,xl=vr&&Pr.stacking?.stacks[(this.negStacks&&Bo<(Kr?0:Jr)?"-":"")+this.stackKey];Lo.plotX=Ah(mo=Er.translate(Wo,!1,!1,!1,!0,zr))?wy(To(mo)):void 0,vr&&this.visible&&xl&&xl[Wo]&&(vo=this.getStackIndicator(vo,Wo,this.index),!Lo.isNull&&vo.key&&(Yo=(Uo=xl[Wo]).points[vo.key]),Uo&&yv(Yo)&&(pl=Yo[0],Bo=Yo[1],pl===Kr&&vo.key===xl[Wo].base&&(pl=ih(Ah(Jr)?Jr:Pr.min)),Pr.positiveValuesOnly&&rc(pl)&&pl<=0&&(pl=void 0),Lo.total=Lo.stackTotal=ih(Uo.total),Lo.percentage=rc(Lo.y)&&Uo.total?Lo.y/Uo.total*100:void 0,Lo.stackY=Bo,this.irregularWidths||Uo.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Lo.yBottom=rc(pl)?To(Pr.translate(pl,!1,!0,!1,!0)):void 0,this.dataModify&&(Bo=this.dataModify.modifyValue(Bo,fo)),Ah(Bo)&&Lo.plotX!==void 0?Do=Ah(Do=Pr.translate(Bo,!1,!0,!1,!0))?To(Do):void 0:!Ah(Bo)&&ro&&(Do=ro),Lo.plotY=Do,Lo.isInside=this.isPointInside(Lo),Lo.clientX=qr?wy(Er.translate(Wo,!1,!1,!1,!0,zr)):mo,Lo.negative=(Lo.y||0)<(Jr||0),Lo.isNull||Lo.visible===!1||(bo!==void 0&&(yo=Math.min(yo,Math.abs(mo-bo))),bo=mo),Lo.zone=this.zones.length?Lo.getZone():void 0,!Lo.graphic&&this.group&&Tr&&(Lo.isNew=!0)}this.closestPointRangePx=yo,au(this,"afterTranslate")}getValidPoints(mr,vr,Er){let Tr=this.chart;return(mr||this.points||[]).filter(function(Pr){let{plotX:Nr,plotY:$r}=Pr;return(!!Er||!Pr.isNull&&!!Ah($r))&&(!vr||!!Tr.isInsidePlot(Nr,$r,{inverted:Tr.inverted}))&&Pr.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:mr,group:vr,markerGroup:Er}=this,Tr=mr.sharedClips,Pr=mr.renderer,Nr=mr.getClipBox(this),$r=this.getSharedClipKey(),zr=Tr[$r];zr?zr.animate(Nr):Tr[$r]=zr=Pr.clipRect(Nr),vr&&vr.clip(this.options.clip===!1?void 0:zr),Er&&Er.clip()}animate(mr){let{chart:vr,group:Er,markerGroup:Tr}=this,Pr=vr.inverted,Nr=yy(this.options.animation),$r=[this.getSharedClipKey(),Nr.duration,Nr.easing,Nr.defer].join(","),zr=vr.sharedClips[$r],qr=vr.sharedClips[$r+"m"];if(mr&&Er){let Jr=vr.getClipBox(this);if(zr)zr.attr("height",Jr.height);else{Jr.width=0,Pr&&(Jr.x=vr.plotHeight),zr=vr.renderer.clipRect(Jr),vr.sharedClips[$r]=zr;let Kr={x:-99,y:-99,width:Pr?vr.plotWidth+199:99,height:Pr?99:vr.plotHeight+199};qr=vr.renderer.clipRect(Kr),vr.sharedClips[$r+"m"]=qr}Er.clip(zr),Tr?.clip(qr)}else if(zr&&!zr.hasClass("highcharts-animating")){let Jr=vr.getClipBox(this),Kr=Nr.step;(Tr?.element.childNodes.length||vr.series.length>1)&&(Nr.step=function(ro,fo){Kr&&Kr.apply(fo,arguments),fo.prop==="width"&&qr?.element&&qr.attr(Pr?"height":"width",ro+99)}),zr.addClass("highcharts-animating").animate(Jr,Nr)}}afterAnimate(){this.setClip(),pg(this.chart.sharedClips,(mr,vr,Er)=>{mr&&!this.chart.container.querySelector(`[clip-path="url(#${mr.id})"]`)&&(mr.destroy(),delete Er[vr])}),this.finishedAnimating=!0,au(this,"afterAnimate")}drawPoints(mr=this.points){let vr,Er,Tr,Pr,Nr,$r,zr,qr=this.chart,Jr=qr.styledMode,{colorAxis:Kr,options:ro}=this,fo=ro.marker,mo=ro.nullInteraction,bo=this[this.specialGroup||"markerGroup"],vo=this.xAxis,yo=ih(fo.enabled,!vo||!!vo.isRadial||null,this.closestPointRangePx>=fo.enabledThreshold*fo.radius);if(fo.enabled!==!1||this._hasPointMarkers)for(vr=0;vr<mr.length;vr++){Pr=(Tr=(Er=mr[vr]).graphic)?"animate":"attr",Nr=Er.marker||{},$r=!!Er.marker;let To=Er.isNull;if((yo&&!rc(Nr.enabled)||Nr.enabled)&&(!To||mo)&&Er.visible!==!1){let Do=ih(Nr.symbol,this.symbol,"rect");zr=this.markerAttribs(Er,Er.selected&&"select"),this.enabledDataSorting&&(Er.startXPos=vo.reversed?-(zr.width||0):vo.width);let Lo=Er.isInside!==!1;if(!Tr&&Lo&&((zr.width||0)>0||Er.hasImage)&&(Er.graphic=Tr=qr.renderer.symbol(Do,zr.x,zr.y,zr.width,zr.height,$r?Nr:fo).add(bo),this.enabledDataSorting&&qr.hasRendered&&(Tr.attr({x:Er.startXPos}),Pr="animate")),Tr&&Pr==="animate"&&Tr[Lo?"show":"hide"](Lo).animate(zr),Tr){let Wo=this.pointAttribs(Er,Jr||!Er.selected?void 0:"select");Jr?Kr&&Tr.css({fill:Wo.fill}):Tr[Pr](Wo)}Tr&&Tr.addClass(Er.getClassName(),!0)}else Tr&&(Er.graphic=Tr.destroy())}}markerAttribs(mr,vr){let Er=this.options,Tr=Er.marker,Pr=mr.marker||{},Nr=Pr.symbol||Tr.symbol,$r={},zr,qr,Jr=ih(Pr.radius,Tr?.radius);vr&&(zr=Tr.states[vr],qr=Pr.states&&Pr.states[vr],Jr=ih(qr?.radius,zr?.radius,Jr&&Jr+(zr?.radiusPlus||0))),mr.hasImage=Nr&&Nr.indexOf("url")===0,mr.hasImage&&(Jr=0);let Kr=mr.pos();return Ah(Jr)&&Kr&&(Er.crisp&&(Kr[0]=Jf(Kr[0],mr.hasImage?0:Nr==="rect"?Tr?.lineWidth||0:1)),$r.x=Kr[0]-Jr,$r.y=Kr[1]-Jr),Jr&&($r.width=$r.height=2*Jr),$r}pointAttribs(mr,vr){let Er=this.options,Tr=Er.marker,Pr=mr?.options,Nr=Pr?.marker||{},$r=Pr?.color,zr=mr?.color,qr=mr?.zone?.color,Jr,Kr,ro=this.color,fo,mo,bo=ih(Nr.lineWidth,Tr.lineWidth),vo=mr?.isNull&&Er.nullInteraction?0:1;return ro=$r||qr||zr||ro,fo=Nr.fillColor||Tr.fillColor||ro,mo=Nr.lineColor||Tr.lineColor||ro,vr=vr||"normal",Jr=Tr.states[vr]||{},bo=ih((Kr=Nr.states&&Nr.states[vr]||{}).lineWidth,Jr.lineWidth,bo+ih(Kr.lineWidthPlus,Jr.lineWidthPlus,0)),fo=Kr.fillColor||Jr.fillColor||fo,mo=Kr.lineColor||Jr.lineColor||mo,{stroke:mo,"stroke-width":bo,fill:fo,opacity:vo=ih(Kr.opacity,Jr.opacity,vo)}}destroy(mr){let vr,Er,Tr=this,Pr=Tr.chart,Nr=/AppleWebKit\/533/.test(mv.navigator.userAgent),$r=Tr.data||[];for(au(Tr,"destroy",{keepEventsForUpdate:mr}),this.removeEvents(mr),(Tr.axisTypes||[]).forEach(function(zr){Er=Tr[zr],Er?.series&&(hg(Er.series,Tr),Er.isDirty=Er.forceRedraw=!0)}),Tr.legendItem&&Tr.chart.legend.destroyItem(Tr),vr=$r.length;vr--;)$r[vr]?.destroy?.();for(let zr of Tr.zones)gv(zr,void 0,!0);nl.clearTimeout(Tr.animationTimeout),pg(Tr,function(zr,qr){zr instanceof nf&&!zr.survive&&zr[Nr&&qr==="group"?"hide":"destroy"]()}),Pr.hoverSeries===Tr&&(Pr.hoverSeries=void 0),hg(Pr.series,Tr),Pr.orderItems("series"),pg(Tr,function(zr,qr){mr&&qr==="hcEvents"||delete Tr[qr]})}applyZones(){let{area:mr,chart:vr,graph:Er,zones:Tr,points:Pr,xAxis:Nr,yAxis:$r,zoneAxis:zr}=this,{inverted:qr,renderer:Jr}=vr,Kr=this[`${zr}Axis`],{isXAxis:ro,len:fo=0,minPointOffset:mo=0}=Kr||{},bo=(Er?.strokeWidth()||0)/2+1,vo=(yo,To=0,Do=0)=>{qr&&(Do=fo-Do);let{translated:Lo=0,lineClip:Wo}=yo,Uo=Do-Lo;Wo?.push(["L",To,Math.abs(Uo)<bo?Do-bo*(Uo<=0?-1:1):Lo])};if(Tr.length&&(Er||mr)&&Kr&&Ah(Kr.min)){let yo=Kr.getExtremes().max+mo,To=Wo=>{Wo.forEach((Uo,Yo)=>{(Uo[0]==="M"||Uo[0]==="L")&&(Wo[Yo]=[Uo[0],ro?fo-Uo[1]:Uo[1],ro?Uo[2]:fo-Uo[2]])})};if(Tr.forEach(Wo=>{Wo.lineClip=[],Wo.translated=ug(Kr.toPixels(ih(Wo.value,yo),!0)||0,0,fo)}),Er&&!this.showLine&&Er.hide(),mr&&mr.hide(),zr==="y"&&Pr.length<Nr.len)for(let Wo of Pr){let{plotX:Uo,plotY:Yo,zone:Bo}=Wo,pl=Bo&&Tr[Tr.indexOf(Bo)-1];Bo&&vo(Bo,Uo,Yo),pl&&vo(pl,Uo,Yo)}let Do=[],Lo=Kr.toPixels(Kr.getExtremes().min-mo,!0);Tr.forEach(Wo=>{let Uo=Wo.lineClip||[],Yo=Math.round(Wo.translated||0);Nr.reversed&&Uo.reverse();let{clip:Bo,simpleClip:pl}=Wo,xl=0,ml=0,Ol=Nr.len,Xl=$r.len;ro?(xl=Yo,Ol=Lo):(ml=Yo,Xl=Lo);let Zl=[["M",xl,ml],["L",Ol,ml],["L",Ol,Xl],["L",xl,Xl],["Z"]],Ml=[Zl[0],...Uo,Zl[1],Zl[2],...Do,Zl[3],Zl[4]];Do=Uo.reverse(),Lo=Yo,qr&&(To(Ml),mr&&To(Zl)),Bo?(Bo.animate({d:Ml}),pl?.animate({d:Zl})):(Bo=Wo.clip=Jr.path(Ml),mr&&(pl=Wo.simpleClip=Jr.path(Zl))),Er&&Wo.graph?.clip(Bo),mr&&Wo.area?.clip(pl)})}else this.visible&&(Er&&Er.show(),mr&&mr.show())}plotGroup(mr,vr,Er,Tr,Pr){let Nr=this[mr],$r=!Nr,zr={visibility:Er,zIndex:Tr||.1};return rc(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(zr.opacity=this.opacity),Nr||(this[mr]=Nr=this.chart.renderer.g().add(Pr)),Nr.addClass("highcharts-"+vr+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(rc(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Nr.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Nr.attr(zr)[$r?"attr":"animate"](this.getPlotBox(vr)),Nr}getPlotBox(mr){let vr=this.xAxis,Er=this.yAxis,Tr=this.chart,Pr=Tr.inverted&&!Tr.polar&&vr&&this.invertible&&mr==="series";Tr.inverted&&(vr=Er,Er=this.xAxis);let Nr={scale:1,translateX:vr?vr.left:Tr.plotLeft,translateY:Er?Er.top:Tr.plotTop,name:mr};au(this,"getPlotBox",Nr);let{scale:$r,translateX:zr,translateY:qr}=Nr;return{translateX:zr,translateY:qr,rotation:90*!!Pr,rotationOriginX:Pr?$r*(vr.len-Er.len)/2:0,rotationOriginY:Pr?$r*(vr.len+Er.len)/2:0,scaleX:Pr?-$r:$r,scaleY:$r}}removeEvents(mr){let{eventsToUnbind:vr}=this;mr||wx(this),vr.length&&(vr.forEach(Er=>{Er()}),vr.length=0)}render(){let mr=this,{chart:vr,options:Er,hasRendered:Tr}=mr,Pr=yy(Er.animation),Nr=mr.visible?"inherit":"hidden",$r=Er.zIndex,zr=vr.seriesGroup,qr=mr.finishedAnimating?0:Pr.duration;au(this,"render"),mr.plotGroup("group","series",Nr,$r,zr),mr.markerGroup=mr.plotGroup("markerGroup","markers",Nr,$r,zr),Er.clip!==!1&&mr.setClip(),qr&&mr.animate?.(!0),mr.drawGraph&&(mr.drawGraph(),mr.applyZones()),mr.visible&&mr.drawPoints(),mr.drawDataLabels?.(),mr.redrawPoints?.(),Er.enableMouseTracking&&mr.drawTracker?.(),qr&&mr.animate?.(),Tr||(qr&&Pr.defer&&(qr+=Pr.defer),mr.animationTimeout=Ey(()=>{mr.afterAnimate()},qr||0)),mr.isDirty=!1,mr.hasRendered=!0,au(mr,"afterRender")}redraw(){let mr=this.isDirty||this.isDirtyData;this.translate(),this.render(),mr&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(mr,vr){let{xAxis:Er,yAxis:Tr}=this,Pr=this.chart.inverted;return this.searchKDTree({clientX:Pr?Er.len-mr.chartY+Er.pos:mr.chartX-Er.pos,plotY:Pr?Tr.len-mr.chartX+Tr.pos:mr.chartY-Tr.pos},vr,mr)}buildKDTree(mr){this.buildingKdTree=!0;let vr=this,Er=vr.options,Tr=Er.findNearestPointBy.indexOf("y")>-1?2:1;delete vr.kdTree,Ey(function(){vr.kdTree=(function Pr(Nr,$r,zr){let qr,Jr,Kr=Nr?.length;if(Kr)return qr=vr.kdAxisArray[$r%zr],Nr.sort((ro,fo)=>(ro[qr]||0)-(fo[qr]||0)),{point:Nr[Jr=Math.floor(Kr/2)],left:Pr(Nr.slice(0,Jr),$r+1,zr),right:Pr(Nr.slice(Jr+1),$r+1,zr)}})(vr.getValidPoints(void 0,!vr.directTouch,Er?.nullInteraction),Tr,Tr),vr.buildingKdTree=!1},Er.kdNow||mr?.type==="touchstart"?0:1)}searchKDTree(mr,vr,Er,Tr,Pr){let Nr=this,[$r,zr]=this.kdAxisArray,qr=vr?"distX":"dist",Jr=(Nr.options.findNearestPointBy||"").indexOf("y")>-1?2:1,Kr=!!Nr.isBubble,ro=Tr||((mo,bo,vo)=>{let yo=mo[vo]||0,To=bo[vo]||0;return[yo===To&&mo.index>bo.index||yo<To?mo:bo,!1]}),fo=Pr||((mo,bo)=>mo<bo);if(this.kdTree||this.buildingKdTree||this.buildKDTree(Er),this.kdTree)return(function mo(bo,vo,yo,To){let Do=vo.point,Lo=Nr.kdAxisArray[yo%To],Wo=Do,Uo=!1;(function(xl,ml){let Ol=xl[$r],Xl=ml[$r],Zl=rc(Ol)&&rc(Xl)?Ol-Xl:null,Ml=xl[zr],Fl=ml[zr],Kl=rc(Ml)&&rc(Fl)?Ml-Fl:0,Bc=Kr&&ml.marker?.radius||0;ml.dist=Math.sqrt((Zl&&Zl*Zl||0)+Kl*Kl)-Bc,ml.distX=rc(Zl)?Math.abs(Zl)-Bc:Number.MAX_VALUE})(bo,Do);let Yo=(bo[Lo]||0)-(Do[Lo]||0)+(Kr&&Do.marker?.radius||0),Bo=Yo<0?"left":"right",pl=Yo<0?"right":"left";return vo[Bo]&&([Wo,Uo]=ro(Do,mo(bo,vo[Bo],yo+1,To),qr)),vo[pl]&&fo(Math.sqrt(Yo*Yo),Wo[qr],Uo)&&(Wo=ro(Wo,mo(bo,vo[pl],yo+1,To),qr)[0]),Wo})(mr,this.kdTree,Jr,Jr)}pointPlacementToXValue(){let{options:mr,xAxis:vr}=this,Er=mr.pointPlacement;return Er==="between"&&(Er=vr.reversed?-.5:.5),Ah(Er)?Er*(mr.pointRange||vr.pointRange):0}isPointInside(mr){let{chart:vr,xAxis:Er,yAxis:Tr}=this,{plotX:Pr=-1,plotY:Nr=-1}=mr;return Nr>=0&&Nr<=(Tr?Tr.len:vr.plotHeight)&&Pr>=0&&Pr<=(Er?Er.len:vr.plotWidth)}drawTracker(){let mr=this,vr=mr.options,Er=vr.trackByArea,Tr=[].concat((Er?mr.areaPath:mr.graphPath)||[]),Pr=mr.chart,Nr=Pr.pointer,$r=Pr.renderer,zr=Pr.options.tooltip?.snap||0,qr=()=>{vr.enableMouseTracking&&Pr.hoverSeries!==mr&&mr.onMouseOver()},Jr="rgba(192,192,192,"+(_y?1e-4:.002)+")",Kr=mr.tracker;Kr?Kr.attr({d:Tr}):mr.graph&&(mr.tracker=Kr=$r.path(Tr).attr({visibility:mr.visible?"inherit":"hidden",zIndex:2}).addClass(Er?"highcharts-tracker-area":"highcharts-tracker-line").add(mr.group),Pr.styledMode||Kr.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Jr,fill:Er?Jr:"none","stroke-width":mr.graph.strokeWidth()+(Er?0:2*zr)}),[mr.tracker,mr.markerGroup,mr.dataLabelsGroup].forEach(ro=>{ro&&(ro.addClass("highcharts-tracker").on("mouseover",qr).on("mouseout",fo=>{Nr?.onTrackerMouseOut(fo)}),vr.cursor&&!Pr.styledMode&&ro.css({cursor:vr.cursor}),ro.on("touchstart",qr))})),au(this,"afterDrawTracker")}addPoint(mr,vr,Er,Tr,Pr){let Nr,$r,zr=this.options,{chart:qr,data:Jr,dataTable:Kr,xAxis:ro}=this,fo=ro?.hasNames&&ro.names,mo=zr.data,bo=this.getColumn("x");vr=ih(vr,!0);let vo={series:this};this.pointClass.prototype.applyOptions.apply(vo,[mr]);let yo=vo.x;if($r=bo.length,this.requireSorting&&yo<bo[$r-1])for(Nr=!0;$r&&bo[$r-1]>yo;)$r--;Kr.setRow(vo,$r,!0,{addColumns:!1}),fo&&vo.name&&(fo[yo]=vo.name),mo?.splice($r,0,mr),(Nr||this.processedData)&&(this.data.splice($r,0,null),this.processData()),zr.legendType==="point"&&this.generatePoints(),Er&&(Jr[0]&&Jr[0].remove?Jr[0].remove(!1):([Jr,mo].filter(rc).forEach(To=>{To.shift()}),Kr.deleteRows(0))),Pr!==!1&&au(this,"addPoint",{point:vo}),this.isDirty=!0,this.isDirtyData=!0,vr&&qr.redraw(Tr)}removePoint(mr,vr,Er){let Tr=this,{chart:Pr,data:Nr,points:$r,dataTable:zr}=Tr,qr=Nr[mr],Jr=function(){[$r?.length===Nr.length?$r:void 0,Nr,Tr.options.data].filter(rc).forEach(Kr=>{Kr.splice(mr,1)}),zr.deleteRows(mr),qr?.destroy(),Tr.isDirty=!0,Tr.isDirtyData=!0,vr&&Pr.redraw()};bx(Er,Pr),vr=ih(vr,!0),qr?qr.firePointEvent("remove",null,Jr):Jr()}remove(mr,vr,Er,Tr){let Pr=this,Nr=Pr.chart;function $r(){Pr.destroy(Tr),Nr.isDirtyLegend=Nr.isDirtyBox=!0,Nr.linkSeries(Tr),ih(mr,!0)&&Nr.redraw(vr)}Er!==!1?au(Pr,"remove",null,$r):$r()}update(mr,vr){au(this,"update",{options:mr=xv(mr,this.userOptions)});let Er=this,Tr=Er.chart,Pr=Er.userOptions,Nr=Er.initialType||Er.type,$r=Tr.options.plotOptions,zr=Ch[Nr].prototype,qr=Er.finishedAnimating&&{animation:!1},Jr={},Kr,ro,fo=Ud.keepProps.slice(),mo=mr.type||Pr.type||Tr.options.chart.type,bo=!(this.hasDerivedData||mo&&mo!==this.type||mr.keys!==void 0||mr.pointStart!==void 0||mr.pointInterval!==void 0||mr.relativeXValue!==void 0||mr.joinBy||mr.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(yo=>Er.hasOptionChanged(yo)));mo=mo||Nr,bo?(fo.push.apply(fo,Ud.keepPropsForPoints),mr.visible!==!1&&fo.push("area","graph"),Er.parallelArrays.forEach(function(yo){fo.push(yo+"Data")}),mr.data&&(mr.dataSorting&&dg(Er.options.dataSorting,mr.dataSorting),this.setData(mr.data,!1))):this.dataTable.modified=this.dataTable,mr=df(Pr,{index:Pr.index===void 0?Er.index:Pr.index,pointStart:$r?.series?.pointStart??Pr.pointStart??Er.getColumn("x")[0]},!bo&&{data:Er.options.data},mr,qr),bo&&mr.data&&(mr.data=Er.options.data),(fo=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(fo)).forEach(function(yo){fo[yo]=Er[yo],delete Er[yo]});let vo=!1;if(Ch[mo]){if(vo=mo!==Er.type,Er.remove(!1,!1,!1,!0),vo)if(Tr.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(Er,Ch[mo].prototype);else{let yo=Object.hasOwnProperty.call(Er,"hcEvents")&&Er.hcEvents;for(ro in zr)Er[ro]=void 0;dg(Er,Ch[mo].prototype),yo?Er.hcEvents=yo:delete Er.hcEvents}}else Hg(17,!0,Tr,{missingModuleFor:mo});if(fo.forEach(function(yo){Er[yo]=fo[yo]}),Er.init(Tr,mr),bo&&this.points)for(let yo of((Kr=Er.options).visible===!1?(Jr.graphic=1,Jr.dataLabel=1):(this.hasMarkerChanged(Kr,Pr)&&(Jr.graphic=1),Er.hasDataLabels?.()||(Jr.dataLabel=1)),this.points))yo?.series&&(yo.resolveColor(),Object.keys(Jr).length&&yo.destroyElements(Jr),Kr.showInLegend===!1&&yo.legendItem&&Tr.legend.destroyItem(yo));Er.initialType=Nr,Tr.linkSeries(),Tr.setSortedData(),vo&&Er.linkedSeries.length&&(Er.isDirtyData=!0),au(this,"afterUpdate"),ih(vr,!0)&&Tr.redraw(!!bo&&void 0)}setName(mr){this.name=this.options.name=this.userOptions.name=mr,this.chart.isDirtyLegend=!0}hasOptionChanged(mr){let vr=this.chart,Er=this.options[mr],Tr=vr.options.plotOptions,Pr=this.userOptions[mr],Nr=ih(Tr?.[this.type]?.[mr],Tr?.series?.[mr]);return Pr&&!rc(Nr)?Er!==Pr:Er!==ih(Nr,Er)}onMouseOver(){let mr=this.chart,vr=mr.hoverSeries;mr.pointer?.setHoverChartIndex(),vr&&vr!==this&&vr.onMouseOut(),this.options.events.mouseOver&&au(this,"mouseOver"),this.setState("hover"),mr.hoverSeries=this}onMouseOut(){let mr=this.options,vr=this.chart,Er=vr.tooltip,Tr=vr.hoverPoint;vr.hoverSeries=null,Tr&&Tr.onMouseOut(),this&&mr.events.mouseOut&&au(this,"mouseOut"),Er&&!this.stickyTracking&&(!Er.shared||this.noSharedTooltip)&&Er.hide(),vr.series.forEach(function(Pr){Pr.setState("",!0)})}setState(mr,vr){let Er=this,Tr=Er.options,Pr=Er.graph,Nr=Tr.inactiveOtherPoints,$r=Tr.states,zr=ih($r[mr||"normal"]&&$r[mr||"normal"].animation,Er.chart.options.chart.animation),qr=Tr.lineWidth,Jr=Tr.opacity;if(mr=mr||"",Er.state!==mr&&([Er.group,Er.markerGroup,Er.dataLabelsGroup].forEach(function(Kr){Kr&&(Er.state&&Kr.removeClass("highcharts-series-"+Er.state),mr&&Kr.addClass("highcharts-series-"+mr))}),Er.state=mr,!Er.chart.styledMode)){if($r[mr]&&$r[mr].enabled===!1)return;if(mr&&(qr=$r[mr].lineWidth||qr+($r[mr].lineWidthPlus||0),Jr=ih($r[mr].opacity,Jr)),Pr&&!Pr.dashstyle&&Ah(qr))for(let Kr of[Pr,...this.zones.map(ro=>ro.graph)])Kr?.animate({"stroke-width":qr},zr);Nr||[Er.group,Er.markerGroup,Er.dataLabelsGroup,Er.labelBySeries].forEach(function(Kr){Kr&&Kr.animate({opacity:Jr},zr)})}vr&&Nr&&Er.points&&Er.setAllPointsToState(mr||void 0)}setAllPointsToState(mr){this.points.forEach(function(vr){vr.setState&&vr.setState(mr)})}setVisible(mr,vr){let Er=this,Tr=Er.chart,Pr=Tr.options.chart.ignoreHiddenSeries,Nr=Er.visible;Er.visible=mr=Er.options.visible=Er.userOptions.visible=mr===void 0?!Nr:mr;let $r=mr?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(zr=>{Er[zr]?.[$r]()}),(Tr.hoverSeries===Er||Tr.hoverPoint?.series===Er)&&Er.onMouseOut(),Er.legendItem&&Tr.legend.colorizeItem(Er,mr),Er.isDirty=!0,Er.options.stacking&&Tr.series.forEach(zr=>{zr.options.stacking&&zr.visible&&(zr.isDirty=!0)}),Er.linkedSeries.forEach(zr=>{zr.setVisible(mr,!1)}),Pr&&(Tr.isDirtyBox=!0),au(Er,$r),vr!==!1&&Tr.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(mr){this.selected=mr=this.options.selected=mr===void 0?!this.selected:mr,this.checkbox&&(this.checkbox.checked=mr),au(this,mr?"select":"unselect")}shouldShowTooltip(mr,vr,Er={}){return Er.series=this,Er.visiblePlotOnly=!0,this.chart.isInsidePlot(mr,vr,Er)}drawLegendSymbol(mr,vr){lg[this.options.legendSymbol||"rectangle"]?.call(this,mr,vr)}}Ud.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Ur}=this.series.chart;return typeof this.y!="number"?"":Ur(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ud.types=nh.seriesTypes,Ud.registerType=nh.registerSeriesType,Ud.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ud.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],dg(Ud.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Tf,requireSorting:!0,sorted:!0}),nh.series=Ud;let gd=Ud,{animObject:vv,setAnimation:Sy}=Wc,{registerEventOptions:Yd}=vp,{composed:ub,marginNames:Mf}=Fr,{distribute:Ex}=vc,{format:bv}=jo,{addEvent:Mm,createElement:Jb,css:hb,defined:jy,discardElement:_v,find:wv,fireEvent:Pp,isNumber:Sx,merge:em,pick:ch,pushUnique:Nf,relativeLength:db,stableSort:fb,syncTimeout:Ry}=nl;class Dp{constructor(mr,vr){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=mr,this.setOptions(vr),vr.enabled&&(this.render(),Yd(this,vr),Mm(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Mm(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(mr){let vr=ch(mr.padding,8);this.options=mr,this.chart.styledMode||(this.itemStyle=mr.itemStyle,this.itemHiddenStyle=em(this.itemStyle,mr.itemHiddenStyle)),this.itemMarginTop=mr.itemMarginTop,this.itemMarginBottom=mr.itemMarginBottom,this.padding=vr,this.initialItemY=vr-5,this.symbolWidth=ch(mr.symbolWidth,16),this.pages=[],this.proximate=mr.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(mr,vr){let Er=this.chart;this.setOptions(em(!0,this.options,mr)),"events"in this.options&&Yd(this,this.options),this.destroy(),Er.isDirtyLegend=Er.isDirtyBox=!0,ch(vr,!0)&&Er.redraw(),Pp(this,"afterUpdate",{redraw:vr})}colorizeItem(mr,vr){let Er=mr.color,{area:Tr,group:Pr,label:Nr,line:$r,symbol:zr}=mr.legendItem||{};if((mr instanceof gd||mr instanceof Tf)&&(mr.color=mr.options?.legendSymbolColor||Er),Pr?.[vr?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:qr={}}=this,Jr=qr.color,{fillColor:Kr,fillOpacity:ro,lineColor:fo,marker:mo}=mr.options,bo=vo=>(!vr&&(vo.fill&&(vo.fill=Jr),vo.stroke&&(vo.stroke=Jr)),vo);Nr?.css(em(vr?this.itemStyle:qr)),$r?.attr(bo({stroke:fo||mr.color})),zr&&zr.attr(bo(mo&&zr.isMarker?mr.pointAttribs():{fill:mr.color})),Tr?.attr(bo({fill:Kr||mr.color,"fill-opacity":Kr?1:ro??.75}))}mr.color=Er,Pp(this,"afterColorizeItem",{item:mr,visible:vr})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(mr){let{group:vr,x:Er=0,y:Tr=0}=mr.legendItem||{},Pr=this.options,Nr=Pr.symbolPadding,$r=!Pr.rtl,zr=mr.checkbox;if(vr?.element){let qr={translateX:$r?Er:this.legendWidth-Er-2*Nr-4,translateY:Tr};vr[jy(vr.translateY)?"animate":"attr"](qr,void 0,()=>{Pp(this,"afterPositionItem",{item:mr})})}zr&&(zr.x=Er,zr.y=Tr)}destroyItem(mr){let vr=mr.legendItem||{};for(let Er of["group","label","line","symbol"])vr[Er]&&(vr[Er]=vr[Er].destroy());mr.checkbox=_v(mr.checkbox),mr.legendItem=void 0}destroy(){for(let mr of this.getAllItems())this.destroyItem(mr);for(let mr of["clipRect","up","down","pager","nav","box","title","group"])this[mr]&&(this[mr]=this[mr].destroy());this.display=null}positionCheckboxes(){let mr,vr=this.group?.alignAttr,Er=this.clipHeight||this.legendHeight,Tr=this.titleHeight;vr&&(mr=vr.translateY,this.allItems.forEach(function(Pr){let Nr,$r=Pr.checkbox;$r&&(Nr=mr+Tr+$r.y+(this.scrollOffset||0)+3,hb($r,{left:vr.translateX+Pr.checkboxOffset+$r.x-20+"px",top:Nr+"px",display:this.proximate||Nr>mr-6&&Nr<mr+Er-6?"":"none"}))},this))}renderTitle(){let mr=this.options,vr=this.padding,Er=mr.title,Tr,Pr=0;Er.text&&(this.title||(this.title=this.chart.renderer.label(Er.text,vr-3,vr-4,void 0,void 0,void 0,mr.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(Er.style),this.title.add(this.group)),Er.width||this.title.css({width:this.maxLegendWidth+"px"}),Pr=(Tr=this.title.getBBox()).height,this.offsetWidth=Tr.width,this.contentGroup.attr({translateY:Pr})),this.titleHeight=Pr}setText(mr){let vr=this.options;mr.legendItem.label.attr({text:vr.labelFormat?bv(vr.labelFormat,mr,this.chart):vr.labelFormatter.call(mr)})}renderItem(mr){let vr=mr.legendItem=mr.legendItem||{},Er=this.chart,Tr=Er.renderer,Pr=this.options,Nr=Pr.layout==="horizontal",$r=this.symbolWidth,zr=Pr.symbolPadding||0,qr=this.itemStyle,Jr=this.itemHiddenStyle,Kr=Nr?ch(Pr.itemDistance,20):0,ro=!Pr.rtl,fo=!mr.series,mo=!fo&&mr.series.drawLegendSymbol?mr.series:mr,bo=mo.options,vo=!!this.createCheckboxForItem&&bo&&bo.showCheckbox,yo=Pr.useHTML,To=mr.options.className,Do=vr.label,Lo=$r+zr+Kr+20*!!vo;!Do&&(vr.group=Tr.g("legend-item").addClass("highcharts-"+mo.type+"-series highcharts-color-"+mr.colorIndex+(To?" "+To:"")+(fo?" highcharts-series-"+mr.index:"")).attr({zIndex:1}).add(this.scrollGroup),vr.label=Do=Tr.text("",ro?$r+zr:-zr,this.baseline||0,yo),Er.styledMode||Do.css(em(mr.visible?qr:Jr)),Do.attr({align:ro?"left":"right",zIndex:2}).add(vr.group),!this.baseline&&(this.fontMetrics=Tr.fontMetrics(Do),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Do.attr("y",this.baseline),this.symbolHeight=ch(Pr.symbolHeight,this.fontMetrics.f),Pr.squareSymbol&&(this.symbolWidth=ch(Pr.symbolWidth,Math.max(this.symbolHeight,16)),Lo=this.symbolWidth+zr+Kr+20*!!vo,ro&&Do.attr("x",this.symbolWidth+zr))),mo.drawLegendSymbol(this,mr),this.setItemEvents&&this.setItemEvents(mr,Do,yo)),vo&&!mr.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(mr),this.colorizeItem(mr,mr.visible),(Er.styledMode||!qr.width)&&Do.css({width:(Pr.itemWidth||this.widthOption||Er.spacingBox.width)-Lo+"px"}),this.setText(mr);let Wo=Do.getBBox(),Uo=this.fontMetrics?.h||0;mr.itemWidth=mr.checkboxOffset=Pr.itemWidth||vr.labelWidth||Wo.width+Lo,this.maxItemWidth=Math.max(this.maxItemWidth,mr.itemWidth),this.totalItemWidth+=mr.itemWidth,this.itemHeight=mr.itemHeight=Math.round(vr.labelHeight||(Wo.height>1.5*Uo?Wo.height:Uo))}layoutItem(mr){let vr=this.options,Er=this.padding,Tr=vr.layout==="horizontal",Pr=mr.itemHeight,Nr=this.itemMarginBottom,$r=this.itemMarginTop,zr=Tr?ch(vr.itemDistance,20):0,qr=this.maxLegendWidth,Jr=vr.alignColumns&&this.totalItemWidth>qr?this.maxItemWidth:mr.itemWidth,Kr=mr.legendItem||{};Tr&&this.itemX-Er+Jr>qr&&(this.itemX=Er,this.lastLineHeight&&(this.itemY+=$r+this.lastLineHeight+Nr),this.lastLineHeight=0),this.lastItemY=$r+this.itemY+Nr,this.lastLineHeight=Math.max(Pr,this.lastLineHeight),Kr.x=this.itemX,Kr.y=this.itemY,Tr?this.itemX+=Jr:(this.itemY+=$r+Pr+Nr,this.lastLineHeight=Pr),this.offsetWidth=this.widthOption||Math.max((Tr?this.itemX-Er-(mr.checkbox?0:zr):Jr)+Er,this.offsetWidth)}getAllItems(){let mr=[];return this.chart.series.forEach(function(vr){let Er=vr?.options;vr&&ch(Er.showInLegend,!jy(Er.linkedTo)&&void 0,!0)&&(mr=mr.concat(vr.legendItem?.labels||(Er.legendType==="point"?vr.data:vr)))}),Pp(this,"afterGetAllItems",{allItems:mr}),mr}getAlignment(){let mr=this.options;return this.proximate?mr.align.charAt(0)+"tv":mr.floating?"":mr.align.charAt(0)+mr.verticalAlign.charAt(0)+mr.layout.charAt(0)}adjustMargins(mr,vr){let Er=this.chart,Tr=this.options,Pr=this.getAlignment();Pr&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((Nr,$r)=>{Nr.test(Pr)&&!jy(mr[$r])&&(Er[Mf[$r]]=Math.max(Er[Mf[$r]],Er.legend[($r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][$r]*Tr[$r%2?"x":"y"]+(Tr.margin??12)+vr[$r]+(Er.titleOffset[$r]||0)))})}proximatePositions(){let mr,vr=this.chart,Er=[],Tr=this.options.align==="left";for(let Pr of(this.allItems.forEach(function(Nr){let $r,zr,qr=Tr,Jr,Kr;Nr.yAxis&&(Nr.xAxis.options.reversed&&(qr=!qr),Nr.points&&($r=wv(qr?Nr.points:Nr.points.slice(0).reverse(),function(ro){return Sx(ro.plotY)})),zr=this.itemMarginTop+Nr.legendItem.label.getBBox().height+this.itemMarginBottom,Kr=Nr.yAxis.top-vr.plotTop,Jr=Nr.visible?($r?$r.plotY:Nr.yAxis.height)+(Kr-.3*zr):Kr+Nr.yAxis.height,Er.push({target:Jr,size:zr,item:Nr}))},this),Ex(Er,vr.plotHeight)))mr=Pr.item.legendItem||{},Sx(Pr.pos)&&(mr.y=vr.plotTop-vr.spacing[0]+Pr.pos)}render(){let mr=this.chart,vr=mr.renderer,Er=this.options,Tr=this.padding,Pr=this.getAllItems(),Nr,$r,zr,qr=this.group,Jr,Kr=this.box;this.itemX=Tr,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=db(Er.width,mr.spacingBox.width-Tr),Jr=mr.spacingBox.width-2*Tr-Er.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(Jr/=2),this.maxLegendWidth=this.widthOption||Jr,qr||(this.group=qr=vr.g("legend").addClass(Er.className||"").attr({zIndex:7}).add(),this.contentGroup=vr.g().attr({zIndex:1}).add(qr),this.scrollGroup=vr.g().add(this.contentGroup)),this.renderTitle(),fb(Pr,(ro,fo)=>(ro.options?.legendIndex||0)-(fo.options?.legendIndex||0)),Er.reversed&&Pr.reverse(),this.allItems=Pr,this.display=Nr=!!Pr.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,Pr.forEach(this.renderItem,this),Pr.forEach(this.layoutItem,this),$r=(this.widthOption||this.offsetWidth)+Tr,zr=this.lastItemY+this.lastLineHeight+this.titleHeight,zr=this.handleOverflow(zr)+Tr,Kr||(this.box=Kr=vr.rect().addClass("highcharts-legend-box").attr({r:Er.borderRadius}).add(qr)),mr.styledMode||Kr.attr({stroke:Er.borderColor,"stroke-width":Er.borderWidth||0,fill:Er.backgroundColor||"none"}).shadow(Er.shadow),$r>0&&zr>0&&Kr[Kr.placed?"animate":"attr"](Kr.crisp.call({},{x:0,y:0,width:$r,height:zr},Kr.strokeWidth())),qr[Nr?"show":"hide"](),mr.styledMode&&qr.getStyle("display")==="none"&&($r=zr=0),this.legendWidth=$r,this.legendHeight=zr,Nr&&this.align(),this.proximate||this.positionItems(),Pp(this,"afterRender")}align(mr=this.chart.spacingBox){let vr=this.chart,Er=this.options,Tr=mr.y;/(lth|ct|rth)/.test(this.getAlignment())&&vr.titleOffset[0]>0?Tr+=vr.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&vr.titleOffset[2]>0&&(Tr-=vr.titleOffset[2]),Tr!==mr.y&&(mr=em(mr,{y:Tr})),vr.hasRendered||(this.group.placed=!1),this.group.align(em(Er,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":Er.verticalAlign}),!0,mr)}handleOverflow(mr){let vr=this,Er=this.chart,Tr=Er.renderer,Pr=this.options,Nr=Pr.y,$r=Pr.verticalAlign==="top",zr=this.padding,qr=Pr.maxHeight,Jr=Pr.navigation,Kr=ch(Jr.animation,!0),ro=Jr.arrowSize||12,fo=this.pages,mo=this.allItems,bo=function(Bo){typeof Bo=="number"?Yo.attr({height:Bo}):Yo&&(vr.clipRect=Yo.destroy(),vr.contentGroup.clip()),vr.contentGroup.div&&(vr.contentGroup.div.style.clip=Bo?"rect("+zr+"px,9999px,"+(zr+Bo)+"px,0)":"auto")},vo=function(Bo){return vr[Bo]=Tr.circle(0,0,1.3*ro).translate(ro/2,ro/2).add(Uo),Er.styledMode||vr[Bo].attr("fill","rgba(0,0,0,0.0001)"),vr[Bo]},yo,To,Do,Lo,Wo=Er.spacingBox.height+($r?-Nr:Nr)-zr,Uo=this.nav,Yo=this.clipRect;return Pr.layout!=="horizontal"||Pr.verticalAlign==="middle"||Pr.floating||(Wo/=2),qr&&(Wo=Math.min(Wo,qr)),fo.length=0,mr&&Wo>0&&mr>Wo&&Jr.enabled!==!1?(this.clipHeight=yo=Math.max(Wo-20-this.titleHeight-zr,0),this.currentPage=ch(this.currentPage,1),this.fullHeight=mr,mo.forEach((Bo,pl)=>{let xl=(Do=Bo.legendItem||{}).y||0,ml=Math.round(Do.label.getBBox().height),Ol=fo.length;(!Ol||xl-fo[Ol-1]>yo&&(To||xl)!==fo[Ol-1])&&(fo.push(To||xl),Ol++),Do.pageIx=Ol-1,To&&Lo&&(Lo.pageIx=Ol-1),pl===mo.length-1&&xl+ml-fo[Ol-1]>yo&&xl>fo[Ol-1]&&(fo.push(xl),Do.pageIx=Ol),xl!==To&&(To=xl),Lo=Do}),Yo||(Yo=vr.clipRect=Tr.clipRect(0,zr-2,9999,0),vr.contentGroup.clip(Yo)),bo(yo),Uo||(this.nav=Uo=Tr.g().attr({zIndex:1}).add(this.group),this.up=Tr.symbol("triangle",0,0,ro,ro).add(Uo),vo("upTracker").on("click",function(){vr.scroll(-1,Kr)}),this.pager=Tr.text("",15,10).addClass("highcharts-legend-navigation"),!Er.styledMode&&Jr.style&&this.pager.css(Jr.style),this.pager.add(Uo),this.down=Tr.symbol("triangle-down",0,0,ro,ro).add(Uo),vo("downTracker").on("click",function(){vr.scroll(1,Kr)})),vr.scroll(0),mr=Wo):Uo&&(bo(),this.nav=Uo.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),mr}scroll(mr,vr){let Er=this.chart,Tr=this.pages,Pr=Tr.length,Nr=this.clipHeight,$r=this.options.navigation,zr=this.pager,qr=this.padding,Jr=this.currentPage+mr;Jr>Pr&&(Jr=Pr),Jr>0&&(vr!==void 0&&Sy(vr,Er),this.nav.attr({translateX:qr,translateY:Nr+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(Kr){Kr.attr({class:Jr===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),zr.attr({text:Jr+"/"+Pr}),[this.down,this.downTracker].forEach(function(Kr){Kr.attr({x:18+this.pager.getBBox().width,class:Jr===Pr?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),Er.styledMode||(this.up.attr({fill:Jr===1?$r.inactiveColor:$r.activeColor}),this.upTracker.css({cursor:Jr===1?"default":"pointer"}),this.down.attr({fill:Jr===Pr?$r.inactiveColor:$r.activeColor}),this.downTracker.css({cursor:Jr===Pr?"default":"pointer"})),this.scrollOffset=-Tr[Jr-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Jr,this.positionCheckboxes(),Ry(()=>{Pp(this,"afterScroll",{currentPage:Jr})},vv(ch(vr,Er.renderer.globalAnimation,!0)).duration))}setItemEvents(mr,vr,Er){let Tr=this,Pr=mr.legendItem||{},Nr=Tr.chart.renderer.boxWrapper,$r=mr instanceof Tf,zr=mr instanceof gd,qr="highcharts-legend-"+($r?"point":"series")+"-active",Jr=Tr.chart.styledMode,Kr=Er?[vr,Pr.symbol]:[Pr.group],ro=fo=>{Tr.allItems.forEach(mo=>{mr!==mo&&[mo].concat(mo.linkedSeries||[]).forEach(bo=>{bo.setState(fo,!$r)})})};for(let fo of Kr)fo&&fo.on("mouseover",function(){mr.visible&&ro("inactive"),mr.setState("hover"),mr.visible&&Nr.addClass(qr),Jr||vr.css(Tr.options.itemHoverStyle)}).on("mouseout",function(){Tr.chart.styledMode||vr.css(em(mr.visible?Tr.itemStyle:Tr.itemHiddenStyle)),ro(""),Nr.removeClass(qr),mr.setState()}).on("click",function(mo){let bo=function(){mr.setVisible&&mr.setVisible(),ro(mr.visible?"inactive":"")};Nr.removeClass(qr),Pp(Tr,"itemClick",{browserEvent:mo,legendItem:mr},bo),$r?mr.firePointEvent("legendItemClick",{browserEvent:mo}):zr&&Pp(mr,"legendItemClick",{browserEvent:mo})})}createCheckboxForItem(mr){mr.checkbox=Jb("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:mr.selected,defaultChecked:mr.selected},this.options.itemCheckboxStyle,this.chart.container),Mm(mr.checkbox,"click",function(vr){let Er=vr.target;Pp(mr.series||mr,"checkboxClick",{checked:Er.checked,item:mr},function(){mr.select()})})}}(function(Ur){Ur.compose=function(mr){Nf(ub,"Core.Legend")&&Mm(mr,"beforeMargins",function(){this.legend=new Ur(this,this.options.legend)})}})(Dp||(Dp={}));let Cy=Dp,{animate:jx,animObject:Ev,setAnimation:Rx}=Wc,{defaultOptions:tm}=oc,{numberFormat:Cx}=jo,{registerEventOptions:pb}=vp,{charts:nm,doc:Mp,marginNames:mg,svg:Ax,win:Wg}=Fr,{seriesTypes:Gg}=nh,{addEvent:Np,attr:Sv,createElement:Vg,css:Md,defined:ep,diffObjects:Ug,discardElement:mb,erase:jv,error:nd,extend:Op,find:Tx,fireEvent:ru,getAlignFactor:Px,getStyle:Ay,isArray:Rv,isNumber:Nd,isObject:Ty,isString:Yg,merge:Xd,objectEach:uh,pick:ou,pInt:fc,relativeLength:Xg,removeEvent:Dx,splat:tp,syncTimeout:Mx,uniqueKey:Py}=nl;class Of{static chart(mr,vr,Er){return new Of(mr,vr,Er)}constructor(mr,vr,Er){this.sharedClips={};let Tr=[...arguments];(Yg(mr)||mr.nodeName)&&(this.renderTo=Tr.shift()),this.init(Tr[0],Tr[1])}setZoomOptions(){let mr=this.options.chart,vr=mr.zooming;this.zooming={...vr,type:ou(mr.zoomType,vr.type),key:ou(mr.zoomKey,vr.key),pinchType:ou(mr.pinchType,vr.pinchType),singleTouch:ou(mr.zoomBySingleTouch,vr.singleTouch,!1),resetButton:Xd(vr.resetButton,mr.resetZoomButton)}}init(mr,vr){ru(this,"init",{args:arguments},function(){let Er=Xd(tm,mr),Tr=Er.chart,Pr=this.renderTo||Tr.renderTo;this.userOptions=Op({},mr),(this.renderTo=Yg(Pr)?Mp.getElementById(Pr):Pr)||nd(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=vr,this.isResizing=0,this.options=Er,this.axes=[],this.series=[],this.locale=Er.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new rl(Op(Er.time||{},{locale:this.locale}),Er.lang),Er.time=this.time.options,this.numberFormatter=(Tr.numberFormatter||Cx).bind(this),this.styledMode=Tr.styledMode,this.hasCartesianSeries=Tr.showAxes,this.index=nm.length,nm.push(this),Fr.chartCount++,pb(this,Tr),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ru(this,"afterInit"),this.firstRender()})}initSeries(mr){let vr=this.options.chart,Er=mr.type||vr.type,Tr=Gg[Er];Tr||nd(17,!0,this,{missingModuleFor:Er});let Pr=new Tr;return typeof Pr.init=="function"&&Pr.init(this,mr),Pr}setSortedData(){this.getSeriesOrderByLinks().forEach(function(mr){mr.points||mr.data||!mr.enabledDataSorting||mr.setData(mr.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(mr,vr){return mr.linkedSeries.length||vr.linkedSeries.length?vr.linkedSeries.length-mr.linkedSeries.length:0})}orderItems(mr,vr=0){let Er=this[mr],Tr=this.options[mr]=tp(this.options[mr]).slice(),Pr=this.userOptions[mr]=this.userOptions[mr]?tp(this.userOptions[mr]).slice():[];if(this.hasRendered&&(Tr.splice(vr),Pr.splice(vr)),Er)for(let Nr=vr,$r=Er.length;Nr<$r;++Nr){let zr=Er[Nr];zr&&(zr.index=Nr,zr instanceof gd&&(zr.name=zr.getName()),zr.options.isInternal||(Tr[Nr]=zr.options,Pr[Nr]=zr.userOptions))}}getClipBox(mr,vr){let Er=this.inverted,{xAxis:Tr,yAxis:Pr}=mr||{},{x:Nr,y:$r,width:zr,height:qr}=Xd(this.clipBox);return mr&&(Tr&&Tr.len!==this.plotSizeX&&(zr=Tr.len),Pr&&Pr.len!==this.plotSizeY&&(qr=Pr.len),Er&&!mr.invertible&&([zr,qr]=[qr,zr])),vr&&(Nr+=(Er?Pr:Tr)?.pos??this.plotLeft,$r+=(Er?Tr:Pr)?.pos??this.plotTop),{x:Nr,y:$r,width:zr,height:qr}}isInsidePlot(mr,vr,Er={}){let{inverted:Tr,plotBox:Pr,plotLeft:Nr,plotTop:$r,scrollablePlotBox:zr}=this,{scrollLeft:qr=0,scrollTop:Jr=0}=Er.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},Kr=Er.series,ro=Er.visiblePlotOnly&&zr||Pr,fo=Er.inverted?vr:mr,mo=Er.inverted?mr:vr,bo={x:fo,y:mo,isInsidePlot:!0,options:Er};if(!Er.ignoreX){let vo=Kr&&(Tr&&!this.polar?Kr.yAxis:Kr.xAxis)||{pos:Nr,len:1/0},yo=Er.paneCoordinates?vo.pos+fo:Nr+fo;yo>=Math.max(qr+Nr,vo.pos)&&yo<=Math.min(qr+Nr+ro.width,vo.pos+vo.len)||(bo.isInsidePlot=!1)}if(!Er.ignoreY&&bo.isInsidePlot){let vo=!Tr&&Er.axis&&!Er.axis.isXAxis&&Er.axis||Kr&&(Tr?Kr.xAxis:Kr.yAxis)||{pos:$r,len:1/0},yo=Er.paneCoordinates?vo.pos+mo:$r+mo;yo>=Math.max(Jr+$r,vo.pos)&&yo<=Math.min(Jr+$r+ro.height,vo.pos+vo.len)||(bo.isInsidePlot=!1)}return ru(this,"afterIsInsidePlot",bo),bo.isInsidePlot}redraw(mr){ru(this,"beforeRedraw");let vr=this.hasCartesianSeries?this.axes:this.colorAxis||[],Er=this.series,Tr=this.pointer,Pr=this.legend,Nr=this.userOptions.legend,$r=this.renderer,zr=$r.isHidden(),qr=[],Jr,Kr,ro,fo=this.isDirtyBox,mo=this.isDirtyLegend,bo;for($r.rootFontSize=$r.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Rx(!!this.hasRendered&&mr,this),zr&&this.temporaryDisplay(),this.layOutTitles(!1),ro=Er.length;ro--;)if(((bo=Er[ro]).options.stacking||bo.options.centerInCategory)&&(Kr=!0,bo.isDirty)){Jr=!0;break}if(Jr)for(ro=Er.length;ro--;)(bo=Er[ro]).options.stacking&&(bo.isDirty=!0);Er.forEach(function(vo){vo.isDirty&&(vo.options.legendType==="point"?(typeof vo.updateTotals=="function"&&vo.updateTotals(),mo=!0):Nr&&(Nr.labelFormatter||Nr.labelFormat)&&(mo=!0)),vo.isDirtyData&&ru(vo,"updatedData")}),mo&&Pr&&Pr.options.enabled&&(Pr.render(),this.isDirtyLegend=!1),Kr&&this.getStacks(),vr.forEach(function(vo){vo.updateNames(),vo.setScale()}),this.getMargins(),vr.forEach(function(vo){vo.isDirty&&(fo=!0)}),vr.forEach(function(vo){let yo=vo.min+","+vo.max;vo.extKey!==yo&&(vo.extKey=yo,qr.push(function(){ru(vo,"afterSetExtremes",Op(vo.eventArgs,vo.getExtremes())),delete vo.eventArgs})),(fo||Kr)&&vo.redraw()}),fo&&this.drawChartBox(),ru(this,"predraw"),Er.forEach(function(vo){(fo||vo.isDirty)&&vo.visible&&vo.redraw(),vo.isDirtyData=!1}),Tr&&Tr.reset(!0),$r.draw(),ru(this,"redraw"),ru(this,"render"),zr&&this.temporaryDisplay(!0),qr.forEach(function(vo){vo.call()})}get(mr){let vr=this.series;function Er(Pr){return Pr.id===mr||Pr.options&&Pr.options.id===mr}let Tr=Tx(this.axes,Er)||Tx(this.series,Er);for(let Pr=0;!Tr&&Pr<vr.length;Pr++)Tr=Tx(vr[Pr].points||[],Er);return Tr}createAxes(){let mr=this.userOptions;for(let vr of(ru(this,"createAxes"),["xAxis","yAxis"]))for(let Er of mr[vr]=tp(mr[vr]||{}))new Tu(this,Er,vr);ru(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((mr,vr)=>(vr.getPointsCollection().forEach(Er=>{ou(Er.selectedStaging,Er.selected)&&mr.push(Er)}),mr),[])}getSelectedSeries(){return this.series.filter(mr=>mr.selected)}setTitle(mr,vr,Er){this.applyDescription("title",mr),this.applyDescription("subtitle",vr),this.applyDescription("caption",void 0),this.layOutTitles(Er)}applyDescription(mr,vr){let Er=this,Tr=this.options[mr]=Xd(this.options[mr],vr),Pr=this[mr];Pr&&vr&&(this[mr]=Pr=Pr.destroy()),Tr&&!Pr&&((Pr=this.renderer.text(Tr.text,0,0,Tr.useHTML).attr({align:Tr.align,class:"highcharts-"+mr,zIndex:Tr.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(Nr,$r){Er.applyDescription(mr,Nr),Er.layOutTitles($r)},this.styledMode||Pr.css(Op(mr==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},Tr.style)),Pr.textPxLength=Pr.getBBox().width,Pr.css({whiteSpace:Tr.style?.whiteSpace}),this[mr]=Pr)}layOutTitles(mr=!0){let vr=[0,0,0],{options:Er,renderer:Tr,spacingBox:Pr}=this;["title","subtitle","caption"].forEach($r=>{let zr=this[$r],qr=this.options[$r],Jr=Xd(Pr),Kr=zr?.textPxLength||0;if(zr&&qr){ru(this,"layOutTitle",{alignTo:Jr,key:$r,textPxLength:Kr});let ro=Tr.fontMetrics(zr),fo=ro.b,mo=ro.h,bo=qr.verticalAlign||"top",vo=bo==="top",yo=vo&&qr.minScale||1,To=$r==="title"?vo?-3:0:vo?vr[0]+2:0,Do=Math.min(Jr.width/Kr,1),Lo=Math.max(yo,Do),Wo=Xd({y:bo==="bottom"?fo:To+fo},{align:$r==="title"?Do<yo?"left":"center":this.title?.alignValue},qr),Uo=(qr.width||(Do>yo?this.chartWidth:Jr.width)/Lo)+"px";zr.alignValue!==Wo.align&&(zr.placed=!1);let Yo=Math.round(zr.css({width:Uo}).getBBox(qr.useHTML).height);if(Wo.height=Yo,zr.align(Wo,!1,Jr).attr({align:Wo.align,scaleX:Lo,scaleY:Lo,"transform-origin":`${Jr.x+Kr*Lo*Px(Wo.align)} ${mo}`}),!qr.floating){let Bo=Yo*(Yo<1.2*mo?1:Lo);bo==="top"?vr[0]=Math.ceil(vr[0]+Bo):bo==="bottom"&&(vr[2]=Math.ceil(vr[2]+Bo))}}},this),vr[0]&&(Er.title?.verticalAlign||"top")==="top"&&(vr[0]+=Er.title?.margin||0),vr[2]&&Er.caption?.verticalAlign==="bottom"&&(vr[2]+=Er.caption?.margin||0);let Nr=!this.titleOffset||this.titleOffset.join(",")!==vr.join(",");this.titleOffset=vr,ru(this,"afterLayOutTitles"),!this.isDirtyBox&&Nr&&(this.isDirtyBox=this.isDirtyLegend=Nr,this.hasRendered&&mr&&this.isDirtyBox&&this.redraw())}getContainerBox(){let mr=[].map.call(this.renderTo.children,Er=>{if(Er!==this.container){let Tr=Er.style.display;return Er.style.display="none",[Er,Tr]}}),vr={width:Ay(this.renderTo,"width",!0)||0,height:Ay(this.renderTo,"height",!0)||0};return mr.filter(Boolean).forEach(([Er,Tr])=>{Er.style.display=Tr}),vr}getChartSize(){let mr=this.options.chart,vr=mr.width,Er=mr.height,Tr=this.getContainerBox(),Pr=Tr.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,vr||Tr.width||600),this.chartHeight=Math.max(0,Xg(Er,this.chartWidth)||(Pr?400:Tr.height)),this.containerBox=Tr}temporaryDisplay(mr){let vr=this.renderTo,Er;if(mr)for(;vr?.style;)vr.hcOrigStyle&&(Md(vr,vr.hcOrigStyle),delete vr.hcOrigStyle),vr.hcOrigDetached&&(Mp.body.removeChild(vr),vr.hcOrigDetached=!1),vr=vr.parentNode;else for(;vr?.style&&(Mp.body.contains(vr)||vr.parentNode||(vr.hcOrigDetached=!0,Mp.body.appendChild(vr)),(Ay(vr,"display",!1)==="none"||vr.hcOricDetached)&&(vr.hcOrigStyle={display:vr.style.display,height:vr.style.height,overflow:vr.style.overflow},Er={display:"block",overflow:"hidden"},vr!==this.renderTo&&(Er.height=0),Md(vr,Er),vr.offsetWidth||vr.style.setProperty("display","block","important")),(vr=vr.parentNode)!==Mp.body););}setClassName(mr){this.container.className="highcharts-container "+(mr||"")}getContainer(){let mr,vr=this.options,Er=vr.chart,Tr="data-highcharts-chart",Pr=Py(),Nr=this.renderTo,$r=fc(Sv(Nr,Tr));Nd($r)&&nm[$r]&&nm[$r].hasRendered&&nm[$r].destroy(),Sv(Nr,Tr,this.index),Nr.innerHTML=_u.emptyHTML,Er.skipClone||Nr.offsetWidth||this.temporaryDisplay(),this.getChartSize();let zr=this.chartHeight,qr=this.chartWidth;Md(Nr,{overflow:"hidden"}),this.styledMode||(mr=Op({position:"relative",overflow:"hidden",width:qr+"px",height:zr+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},Er.style||{}));let Jr=Vg("div",{id:Pr},mr,Nr);this.container=Jr,this.getChartSize(),qr!==this.chartWidth&&(qr=this.chartWidth,this.styledMode||Md(Jr,{width:ou(Er.style?.width,qr+"px")})),this.containerBox=this.getContainerBox(),this._cursor=Jr.style.cursor;let Kr=Er.renderer||!Ax?Mo.getRendererType(Er.renderer):Mg;if(this.renderer=new Kr(Jr,qr,zr,void 0,Er.forExport,vr.exporting?.allowHTML,this.styledMode),Rx(void 0,this),this.setClassName(Er.className),this.styledMode)for(let ro in vr.defs)this.renderer.definition(vr.defs[ro]);else this.renderer.setStyle(Er.style);this.renderer.chartIndex=this.index,ru(this,"afterGetContainer")}getMargins(mr){let{spacing:vr,margin:Er,titleOffset:Tr}=this;this.resetMargins(),Tr[0]&&!ep(Er[0])&&(this.plotTop=Math.max(this.plotTop,Tr[0]+vr[0])),Tr[2]&&!ep(Er[2])&&(this.marginBottom=Math.max(this.marginBottom,Tr[2]+vr[2])),this.legend?.display&&this.legend.adjustMargins(Er,vr),ru(this,"getMargins"),mr||this.getAxisMargins()}getAxisMargins(){let mr=this,vr=mr.axisOffset=[0,0,0,0],Er=mr.colorAxis,Tr=mr.margin,Pr=Nr=>{Nr.forEach($r=>{$r.visible&&$r.getOffset()})};mr.hasCartesianSeries?Pr(mr.axes):Er?.length&&Pr(Er),mg.forEach((Nr,$r)=>{ep(Tr[$r])||(mr[Nr]+=vr[$r])}),mr.setChartSize()}getOptions(){return Ug(this.userOptions,tm)}reflow(mr){let vr=this,Er=vr.containerBox,Tr=vr.getContainerBox();delete vr.pointer?.chartPosition,!vr.exporting?.isPrinting&&!vr.isResizing&&Er&&Tr.width&&((Tr.width!==Er.width||Tr.height!==Er.height)&&(nl.clearTimeout(vr.reflowTimeout),vr.reflowTimeout=Mx(function(){vr.container&&vr.setSize(void 0,void 0,!1)},100*!!mr)),vr.containerBox=Tr)}setReflow(){let mr=this,vr=Er=>{mr.options?.chart.reflow&&mr.hasLoaded&&mr.reflow(Er)};if(typeof ResizeObserver=="function")new ResizeObserver(vr).observe(mr.renderTo);else{let Er=Np(Wg,"resize",vr);Np(this,"destroy",Er)}}setSize(mr,vr,Er){let Tr=this,Pr=Tr.renderer;Tr.isResizing+=1,Rx(Er,Tr);let Nr=Pr.globalAnimation;Tr.oldChartHeight=Tr.chartHeight,Tr.oldChartWidth=Tr.chartWidth,mr!==void 0&&(Tr.options.chart.width=mr),vr!==void 0&&(Tr.options.chart.height=vr),Tr.getChartSize();let{chartWidth:$r,chartHeight:zr,scrollablePixelsX:qr=0,scrollablePixelsY:Jr=0}=Tr;(Tr.isDirtyBox||$r!==Tr.oldChartWidth||zr!==Tr.oldChartHeight)&&(Tr.styledMode||(Nr?jx:Md)(Tr.container,{width:`${$r+qr}px`,height:`${zr+Jr}px`},Nr),Tr.setChartSize(!0),Pr.setSize($r,zr,Nr),Tr.axes.forEach(function(Kr){Kr.isDirty=!0,Kr.setScale()}),Tr.isDirtyLegend=!0,Tr.isDirtyBox=!0,Tr.layOutTitles(),Tr.getMargins(),Tr.redraw(Nr),Tr.oldChartHeight=void 0,ru(Tr,"resize"),setTimeout(()=>{Tr&&ru(Tr,"endResize")},Ev(Nr).duration)),Tr.isResizing-=1}setChartSize(mr){let vr,Er,Tr,Pr,{chartHeight:Nr,chartWidth:$r,inverted:zr,spacing:qr,renderer:Jr}=this,Kr=this.clipOffset,ro=Math[zr?"floor":"round"];this.plotLeft=vr=Math.round(this.plotLeft),this.plotTop=Er=Math.round(this.plotTop),this.plotWidth=Tr=Math.max(0,Math.round($r-vr-(this.marginRight??0))),this.plotHeight=Pr=Math.max(0,Math.round(Nr-Er-(this.marginBottom??0))),this.plotSizeX=zr?Pr:Tr,this.plotSizeY=zr?Tr:Pr,this.spacingBox=Jr.spacingBox={x:qr[3],y:qr[0],width:$r-qr[3]-qr[1],height:Nr-qr[0]-qr[2]},this.plotBox=Jr.plotBox={x:vr,y:Er,width:Tr,height:Pr},Kr&&(this.clipBox={x:ro(Kr[3]),y:ro(Kr[0]),width:ro(this.plotSizeX-Kr[1]-Kr[3]),height:ro(this.plotSizeY-Kr[0]-Kr[2])}),mr||(this.axes.forEach(function(fo){fo.setAxisSize(),fo.setAxisTranslation()}),Jr.alignElements()),ru(this,"afterSetChartSize",{skipAxes:mr})}resetMargins(){ru(this,"resetMargins");let mr=this,vr=mr.options.chart,Er=vr.plotBorderWidth||0,Tr=Math.round(Er)/2;["margin","spacing"].forEach(Pr=>{let Nr=vr[Pr],$r=Ty(Nr)?Nr:[Nr,Nr,Nr,Nr];["Top","Right","Bottom","Left"].forEach((zr,qr)=>{mr[Pr][qr]=vr[`${Pr}${zr}`]??$r[qr]})}),mg.forEach((Pr,Nr)=>{mr[Pr]=mr.margin[Nr]??mr.spacing[Nr]}),mr.axisOffset=[0,0,0,0],mr.clipOffset=[Tr,Tr,Tr,Tr],mr.plotBorderWidth=Er}drawChartBox(){let mr=this.options.chart,vr=this.renderer,Er=this.chartWidth,Tr=this.chartHeight,Pr=this.styledMode,Nr=this.plotBGImage,$r=mr.backgroundColor,zr=mr.plotBackgroundColor,qr=mr.plotBackgroundImage,Jr=this.plotLeft,Kr=this.plotTop,ro=this.plotWidth,fo=this.plotHeight,mo=this.plotBox,bo=this.clipRect,vo=this.clipBox,yo=this.chartBackground,To=this.plotBackground,Do=this.plotBorder,Lo,Wo,Uo,Yo="animate";yo||(this.chartBackground=yo=vr.rect().addClass("highcharts-background").add(),Yo="attr"),Pr?Lo=Wo=yo.strokeWidth():(Wo=(Lo=mr.borderWidth||0)+8*!!mr.shadow,Uo={fill:$r||"none"},(Lo||yo["stroke-width"])&&(Uo.stroke=mr.borderColor,Uo["stroke-width"]=Lo),yo.attr(Uo).shadow(mr.shadow)),yo[Yo]({x:Wo/2,y:Wo/2,width:Er-Wo-Lo%2,height:Tr-Wo-Lo%2,r:mr.borderRadius}),Yo="animate",To||(Yo="attr",this.plotBackground=To=vr.rect().addClass("highcharts-plot-background").add()),To[Yo](mo),!Pr&&(To.attr({fill:zr||"none"}).shadow(mr.plotShadow),qr&&(Nr?(qr!==Nr.attr("href")&&Nr.attr("href",qr),Nr.animate(mo)):this.plotBGImage=vr.image(qr,Jr,Kr,ro,fo).add())),bo?bo.animate({width:vo.width,height:vo.height}):this.clipRect=vr.clipRect(vo),Yo="animate",Do||(Yo="attr",this.plotBorder=Do=vr.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Pr||Do.attr({stroke:mr.plotBorderColor,"stroke-width":mr.plotBorderWidth||0,fill:"none"}),Do[Yo](Do.crisp(mo,-Do.strokeWidth())),this.isDirtyBox=!1,ru(this,"afterDrawChartBox")}propFromSeries(){let mr,vr,Er,Tr=this,Pr=Tr.options.chart,Nr=Tr.options.series;["inverted","angular","polar"].forEach(function($r){for(vr=Gg[Pr.type],Er=Pr[$r]||vr&&vr.prototype[$r],mr=Nr?.length;!Er&&mr--;)(vr=Gg[Nr[mr].type])&&vr.prototype[$r]&&(Er=!0);Tr[$r]=Er})}linkSeries(mr){let vr=this,Er=vr.series;Er.forEach(function(Tr){Tr.linkedSeries.length=0}),Er.forEach(function(Tr){let{linkedTo:Pr}=Tr.options;if(Yg(Pr)){let Nr;(Nr=Pr===":previous"?vr.series[Tr.index-1]:vr.get(Pr))&&Nr.linkedParent!==Tr&&(Nr.linkedSeries.push(Tr),Tr.linkedParent=Nr,Nr.enabledDataSorting&&Tr.setDataSortingOptions(),Tr.visible=ou(Tr.options.visible,Nr.options.visible,Tr.visible))}}),ru(this,"afterLinkSeries",{isUpdating:mr})}renderSeries(){this.series.forEach(function(mr){mr.translate(),mr.render()})}render(){let mr=this.axes,vr=this.colorAxis,Er=this.renderer,Tr=this.options.chart.axisLayoutRuns||2,Pr=Jr=>{Jr.forEach(Kr=>{Kr.visible&&Kr.render()})},Nr=0,$r=!0,zr,qr=0;for(let Jr of(this.setTitle(),ru(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),mr)){let{options:Kr}=Jr,{labels:ro}=Kr;if(this.hasCartesianSeries&&Jr.horiz&&Jr.visible&&ro.enabled&&Jr.series.length&&Jr.coll!=="colorAxis"&&!this.polar){Nr=Kr.tickLength,Jr.createGroups();let fo=new Oh(Jr,0,"",!0),mo=fo.createLabel("x",ro);if(fo.destroy(),mo&&ou(ro.reserveSpace,!Nd(Kr.crossing))&&(Nr=mo.getBBox().height+ro.distance+Math.max(Kr.offset||0,0)),Nr){mo?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-Nr,0);($r||zr||Tr>1)&&qr<Tr;){let Jr=this.plotWidth,Kr=this.plotHeight;for(let ro of mr)qr===0?ro.setScale():(ro.horiz&&$r||!ro.horiz&&zr)&&ro.setTickInterval(!0);qr===0?this.getAxisMargins():this.getMargins(),$r=Jr/this.plotWidth>(qr?1:1.1),zr=Kr/this.plotHeight>(qr?1:1.05),qr++}this.drawChartBox(),this.hasCartesianSeries?Pr(mr):vr?.length&&Pr(vr),this.seriesGroup||(this.seriesGroup=Er.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=Er.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(mr){let vr=this,Er=Xd(!0,this.options.credits,mr);Er.enabled&&!this.credits&&(this.credits=this.renderer.text(Er.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Er.href&&(Wg.location.href=Er.href)}).attr({align:Er.position.align,zIndex:8}),vr.styledMode||this.credits.css(Er.style),this.credits.add().align(Er.position),this.credits.update=function(Tr){vr.credits=vr.credits.destroy(),vr.addCredits(Tr)})}destroy(){let mr,vr=this,Er=vr.axes,Tr=vr.series,Pr=vr.container,Nr=Pr?.parentNode;for(ru(vr,"destroy"),vr.renderer.forExport?jv(nm,vr):nm[vr.index]=void 0,Fr.chartCount--,vr.renderTo.removeAttribute("data-highcharts-chart"),Dx(vr),mr=Er.length;mr--;)Er[mr]=Er[mr].destroy();for(this.scroller?.destroy?.(),mr=Tr.length;mr--;)Tr[mr]=Tr[mr].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach($r=>{vr[$r]=vr[$r]?.destroy?.()}),Pr&&(Pr.innerHTML=_u.emptyHTML,Dx(Pr),Nr&&mb(Pr)),uh(vr,function($r,zr){delete vr[zr]})}firstRender(){let mr=this,vr=mr.options;mr.getContainer(),mr.resetMargins(),mr.setChartSize(),mr.propFromSeries(),mr.createAxes();let Er=Rv(vr.series)?vr.series:[];vr.series=[],Er.forEach(function(Tr){mr.initSeries(Tr)}),mr.linkSeries(),mr.setSortedData(),ru(mr,"beforeRender"),mr.render(),mr.pointer?.getChartPosition(),mr.renderer.imgCount||mr.hasLoaded||mr.onload(),mr.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(mr){mr&&this.index!==void 0&&mr.apply(this,[this])},this),ru(this,"load"),ru(this,"render"),ep(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:mr,title:vr}=this;mr&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(vr?.element.textContent||"").replace(/</g,"&lt;")}),mr.accessibility&&mr.accessibility.enabled===!1||nd('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(mr,vr,Er){let Tr,Pr=this;return mr&&(vr=ou(vr,!0),ru(Pr,"addSeries",{options:mr},function(){Tr=Pr.initSeries(mr),Pr.isDirtyLegend=!0,Pr.linkSeries(),Tr.enabledDataSorting&&Tr.setData(mr.data,!1),ru(Pr,"afterAddSeries",{series:Tr}),vr&&Pr.redraw(Er)})),Tr}addAxis(mr,vr,Er,Tr){return this.createAxis(vr?"xAxis":"yAxis",{axis:mr,redraw:Er,animation:Tr})}addColorAxis(mr,vr,Er){return this.createAxis("colorAxis",{axis:mr,redraw:vr,animation:Er})}createAxis(mr,vr){let Er=new Tu(this,vr.axis,mr);return ou(vr.redraw,!0)&&this.redraw(vr.animation),Er}showLoading(mr){let vr=this,Er=vr.options,Tr=Er.loading,Pr=function(){Nr&&Md(Nr,{left:vr.plotLeft+"px",top:vr.plotTop+"px",width:vr.plotWidth+"px",height:vr.plotHeight+"px"})},Nr=vr.loadingDiv,$r=vr.loadingSpan;Nr||(vr.loadingDiv=Nr=Vg("div",{className:"highcharts-loading highcharts-loading-hidden"},null,vr.container)),$r||(vr.loadingSpan=$r=Vg("span",{className:"highcharts-loading-inner"},null,Nr),Np(vr,"redraw",Pr)),Nr.className="highcharts-loading",_u.setElementHTML($r,ou(mr,Er.lang.loading,"")),!vr.styledMode&&(Md(Nr,Op(Tr.style,{zIndex:10})),Md($r,Tr.labelStyle),vr.loadingShown||(Md(Nr,{opacity:0,display:""}),jx(Nr,{opacity:Tr.style.opacity||.5},{duration:Tr.showDuration||0}))),vr.loadingShown=!0,Pr()}hideLoading(){let mr=this.options,vr=this.loadingDiv;vr&&(vr.className="highcharts-loading highcharts-loading-hidden",this.styledMode||jx(vr,{opacity:0},{duration:mr.loading.hideDuration||100,complete:function(){Md(vr,{display:"none"})}})),this.loadingShown=!1}update(mr,vr,Er,Tr){let Pr,Nr,$r,zr=this,qr={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Jr=mr.isResponsiveOptions,Kr=[];ru(zr,"update",{options:mr}),Jr||zr.setResponsive(!1,!0),mr=Ug(mr,zr.options),zr.userOptions=Xd(zr.userOptions,mr);let ro=mr.chart;ro&&(Xd(!0,zr.options.chart,ro),this.setZoomOptions(),"className"in ro&&zr.setClassName(ro.className),("inverted"in ro||"polar"in ro||"type"in ro)&&(zr.propFromSeries(),Pr=!0),"alignTicks"in ro&&(Pr=!0),"events"in ro&&pb(this,ro),uh(ro,function(bo,vo){zr.propsRequireUpdateSeries.indexOf("chart."+vo)!==-1&&(Nr=!0),zr.propsRequireDirtyBox.indexOf(vo)!==-1&&(zr.isDirtyBox=!0),zr.propsRequireReflow.indexOf(vo)!==-1&&(zr.isDirtyBox=!0,Jr||($r=!0))}),!zr.styledMode&&ro.style&&zr.renderer.setStyle(zr.options.chart.style||{})),!zr.styledMode&&mr.colors&&(this.options.colors=mr.colors),uh(mr,function(bo,vo){zr[vo]&&typeof zr[vo].update=="function"?zr[vo].update(bo,!1):typeof zr[qr[vo]]=="function"?zr[qr[vo]](bo):vo!=="colors"&&zr.collectionsWithUpdate.indexOf(vo)===-1&&Xd(!0,zr.options[vo],mr[vo]),vo!=="chart"&&zr.propsRequireUpdateSeries.indexOf(vo)!==-1&&(Nr=!0)}),this.collectionsWithUpdate.forEach(function(bo){mr[bo]&&(tp(mr[bo]).forEach(function(vo,yo){let To,Do=ep(vo.id);Do&&(To=zr.get(vo.id)),!To&&zr[bo]&&(To=zr[bo][ou(vo.index,yo)])&&(Do&&ep(To.options.id)||To.options.isInternal)&&(To=void 0),To&&To.coll===bo&&(To.update(vo,!1),Er&&(To.touched=!0)),!To&&Er&&zr.collectionsWithInit[bo]&&(zr.collectionsWithInit[bo][0].apply(zr,[vo].concat(zr.collectionsWithInit[bo][1]||[]).concat([!1])).touched=!0)}),Er&&zr[bo].forEach(function(vo){vo.touched||vo.options.isInternal?delete vo.touched:Kr.push(vo)}))}),Kr.forEach(function(bo){bo.chart&&bo.remove&&bo.remove(!1)}),Pr&&zr.axes.forEach(function(bo){bo.update({},!1)}),Nr&&zr.getSeriesOrderByLinks().forEach(function(bo){bo.chart&&bo.update({},!1)},this);let fo=ro?.width,mo=ro&&(Yg(ro.height)?Xg(ro.height,fo||zr.chartWidth):ro.height);$r||Nd(fo)&&fo!==zr.chartWidth||Nd(mo)&&mo!==zr.chartHeight?zr.setSize(fo,mo,Tr):ou(vr,!0)&&zr.redraw(Tr),ru(zr,"afterUpdate",{options:mr,redraw:vr,animation:Tr})}setSubtitle(mr,vr){this.applyDescription("subtitle",mr),this.layOutTitles(vr)}setCaption(mr,vr){this.applyDescription("caption",mr),this.layOutTitles(vr)}showResetZoom(){let mr=this,vr=tm.lang,Er=mr.zooming.resetButton,Tr=Er.theme,Pr=Er.relativeTo==="chart"||Er.relativeTo==="spacingBox"?null:"plotBox";function Nr(){mr.zoomOut()}ru(this,"beforeShowResetZoom",null,function(){mr.resetZoomButton=mr.renderer.button(vr.resetZoom,null,null,Nr,Tr).attr({align:Er.position.align,title:vr.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Er.position,!1,Pr)}),ru(this,"afterShowResetZoom")}zoomOut(){ru(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(mr,vr){let Er=this,Tr=typeof vr=="object"?vr:{enabled:vr,type:"x"},Pr=Tr.type,Nr=Pr&&Er[{x:"xAxis",xy:"axes",y:"yAxis"}[Pr]].filter(zr=>zr.options.panningEnabled&&!zr.options.isInternal),$r=Er.options.chart;$r?.panning&&($r.panning=Tr),ru(this,"pan",{originalEvent:mr},()=>{Er.transform({axes:Nr,event:mr,to:{x:mr.chartX-(Er.mouseDownX||0),y:mr.chartY-(Er.mouseDownY||0)},trigger:"pan"}),Md(Er.container,{cursor:"move"})})}transform(mr){let{axes:vr=this.axes,event:Er,from:Tr={},reset:Pr,selection:Nr,to:$r={},trigger:zr}=mr,{inverted:qr,time:Jr}=this;this.hoverPoints?.forEach(mo=>mo.setState()),ru(this,"transform",mr);let Kr=mr.hasZoomed||!1,ro,fo;for(let mo of vr){let{horiz:bo,len:vo,minPointOffset:yo=0,options:To,reversed:Do}=mo,Lo=bo?"width":"height",Wo=bo?"x":"y",Uo=ou($r[Lo],mo.len),Yo=ou(Tr[Lo],mo.len),Bo=10>Math.abs(Uo)?1:Uo/Yo,pl=(Tr[Wo]||0)+Yo/2-mo.pos,xl=pl-(($r[Wo]??mo.pos)+Uo/2-mo.pos)/Bo,ml=Do&&!qr||!Do&&qr?-1:1;if(!Pr&&(pl<0||pl>mo.len))continue;let Ol=mo.chart.polar||mo.isOrdinal?0:yo*ml||0,Xl=mo.toValue(xl,!0),Zl=mo.toValue(xl+vo/Bo,!0),Ml=Xl+Ol,Fl=Zl-Ol,Kl=mo.allExtremes;if(Nr&&Nr[mo.coll].push({axis:mo,min:Math.min(Xl,Zl),max:Math.max(Xl,Zl)}),Ml>Fl&&([Ml,Fl]=[Fl,Ml]),Bo===1&&!Pr&&mo.coll==="yAxis"&&!Kl){for(let bd of mo.series){let mf=bd.getExtremes(bd.getProcessedData(!0).modified.getColumn("y")||[],!0);Kl??(Kl={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Nd(mf.dataMin)&&Nd(mf.dataMax)&&(Kl.dataMin=Math.min(mf.dataMin,Kl.dataMin),Kl.dataMax=Math.max(mf.dataMax,Kl.dataMax))}mo.allExtremes=Kl}let{dataMin:Bc,dataMax:kc,min:ad,max:gc}=Op(mo.getExtremes(),Kl||{}),pc=Jr.parse(To.min),mu=Jr.parse(To.max),zc=Bc??pc,Bu=kc??mu,cu=Fl-Ml,$l=mo.categories?0:Math.min(cu,Bu-zc),rh=zc-$l*(ep(pc)?0:To.minPadding),qu=Bu+$l*(ep(mu)?0:To.maxPadding),od=mo.allowZoomOutside||Bo===1||zr!=="zoom"&&Bo>1,Gm=Math.min(pc??rh,rh,od?ad:rh),Yc=Math.max(mu??qu,qu,od?gc:qu);(!mo.isOrdinal||Bo!==1||Pr)&&(Ml<Gm&&(Ml=Gm,Bo>=1&&(Fl=Ml+cu)),Fl>Yc&&(Fl=Yc,Bo>=1&&(Ml=Fl-cu)),(Pr||mo.series.length&&(Ml!==ad||Fl!==gc)&&Ml>=Gm&&Fl<=Yc)&&(Nr?Nr[mo.coll].push({axis:mo,min:Ml,max:Fl}):(mo.isPanning=zr!=="zoom",mo.isPanning&&(fo=!0),mo.setExtremes(Pr?void 0:Ml,Pr?void 0:Fl,!1,!1,{move:xl,trigger:zr,scale:Bo}),!Pr&&(Ml>Gm||Fl<Yc)&&zr!=="mousewheel"&&(ro=!0)),Kr=!0),this.hasCartesianSeries||Pr||zr==="mousewheel"||(ro=!0),Er&&(this[bo?"mouseDownX":"mouseDownY"]=Er[bo?"chartX":"chartY"]))}return Kr&&(Nr?ru(this,"selection",Nr,()=>{delete mr.selection,mr.trigger="zoom",this.transform(mr)}):(!ro||fo||this.resetZoomButton?!ro&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(zr==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),Kr}}Op(Of.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Of.prototype.addAxis,[!0]],yAxis:[Of.prototype.addAxis,[!1]],series:[Of.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:id}=Wc,{composed:e0}=Fr,{addEvent:np,createElement:gg,css:Dy,defined:Nx,erase:gb,merge:My,pushUnique:Ny}=nl;function ip(){let Ur=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!Ur&&(this.scrollablePlotArea=Ur=new im(this)),Ur?.applyFixed()}function rd(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class im{static compose(mr,vr,Er){Ny(e0,this.compose)&&(np(mr,"afterInit",rd),np(vr,"afterSetChartSize",Tr=>this.afterSetSize(Tr.target,Tr)),np(vr,"render",ip),np(Er,"show",rd))}static afterSetSize(mr,vr){let Er,Tr,Pr,{minWidth:Nr,minHeight:$r}=mr.options.chart.scrollablePlotArea||{},{clipBox:zr,plotBox:qr,inverted:Jr,renderer:Kr}=mr;if(!Kr.forExport)if(Nr?(mr.scrollablePixelsX=Er=Math.max(0,Nr-mr.chartWidth),Er&&(mr.scrollablePlotBox=My(mr.plotBox),qr.width=mr.plotWidth+=Er,zr[Jr?"height":"width"]+=Er,Pr=!0)):$r&&(mr.scrollablePixelsY=Tr=Math.max(0,$r-mr.chartHeight),Nx(Tr)&&(mr.scrollablePlotBox=My(mr.plotBox),qr.height=mr.plotHeight+=Tr,zr[Jr?"width":"height"]+=Tr,Pr=!1)),Nx(Pr)){if(!vr.skipAxes)for(let ro of mr.axes)(ro.horiz===Pr||mr.hasParallelCoordinates&&ro.coll==="yAxis")&&(ro.setAxisSize(),ro.setAxisTranslation())}else delete mr.scrollablePlotBox}constructor(mr){let vr,Er=mr.options.chart,Tr=Mo.getRendererType(),Pr=Er.scrollablePlotArea||{},Nr=this.moveFixedElements.bind(this),$r={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};mr.scrollablePixelsX&&($r.overflowX="auto"),mr.scrollablePixelsY&&($r.overflowY="auto"),this.chart=mr;let zr=this.parentDiv=gg("div",{className:"highcharts-scrolling-parent"},{position:"relative"},mr.renderTo),qr=this.scrollingContainer=gg("div",{className:"highcharts-scrolling"},$r,zr),Jr=this.innerContainer=gg("div",{className:"highcharts-inner-container"},void 0,qr),Kr=this.fixedDiv=gg("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(Er.style?.zIndex||0)+2,top:0},void 0,!0),ro=this.fixedRenderer=new Tr(Kr,mr.chartWidth,mr.chartHeight,Er.style);this.mask=ro.path().attr({fill:Er.backgroundColor||"#fff","fill-opacity":Pr.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),qr.parentNode.insertBefore(Kr,qr),Dy(mr.renderTo,{overflow:"visible"}),np(mr,"afterShowResetZoom",Nr),np(mr,"afterApplyDrilldown",Nr),np(mr,"afterLayOutTitles",Nr),np(qr,"scroll",()=>{let{pointer:fo,hoverPoint:mo}=mr;fo&&(delete fo.chartPosition,mo&&(vr=mo),fo.runPointActions(void 0,vr,!0))}),Jr.appendChild(mr.container)}applyFixed(){let{chart:mr,fixedRenderer:vr,isDirty:Er,scrollingContainer:Tr}=this,{axisOffset:Pr,chartWidth:Nr,chartHeight:$r,container:zr,plotHeight:qr,plotLeft:Jr,plotTop:Kr,plotWidth:ro,scrollablePixelsX:fo=0,scrollablePixelsY:mo=0}=mr,{scrollPositionX:bo=0,scrollPositionY:vo=0}=mr.options.chart.scrollablePlotArea||{},yo=Nr+fo,To=$r+mo;vr.setSize(Nr,$r),(Er??!0)&&(this.isDirty=!1,this.moveFixedElements()),id(mr.container),Dy(zr,{width:`${yo}px`,height:`${To}px`}),mr.renderer.boxWrapper.attr({width:yo,height:To,viewBox:[0,0,yo,To].join(" ")}),mr.chartBackground?.attr({width:yo,height:To}),Dy(Tr,{width:`${Nr}px`,height:`${$r}px`}),Nx(Er)||(Tr.scrollLeft=fo*bo,Tr.scrollTop=mo*vo);let Do=Kr-Pr[0]-1,Lo=Jr-Pr[3]-1,Wo=Kr+qr+Pr[2]+1,Uo=Jr+ro+Pr[1]+1,Yo=Jr+ro-fo,Bo=Kr+qr-mo,pl=[["M",0,0]];fo?pl=[["M",0,Do],["L",Jr-1,Do],["L",Jr-1,Wo],["L",0,Wo],["Z"],["M",Yo,Do],["L",Nr,Do],["L",Nr,Wo],["L",Yo,Wo],["Z"]]:mo&&(pl=[["M",Lo,0],["L",Lo,Kr-1],["L",Uo,Kr-1],["L",Uo,0],["Z"],["M",Lo,Bo],["L",Lo,$r],["L",Uo,$r],["L",Uo,Bo],["Z"]]),mr.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:pl})}moveFixedElements(){let mr,{container:vr,inverted:Er,scrollablePixelsX:Tr,scrollablePixelsY:Pr}=this.chart,Nr=this.fixedRenderer,$r=im.fixedSelectors;if(Tr&&!Er?mr=".highcharts-yaxis":Tr&&Er||Pr&&!Er?mr=".highcharts-xaxis":Pr&&Er&&(mr=".highcharts-yaxis"),mr&&!(this.chart.hasParallelCoordinates&&mr===".highcharts-yaxis"))for(let zr of[`${mr}:not(.highcharts-radial-axis)`,`${mr}-labels:not(.highcharts-radial-axis-labels)`])Ny($r,zr);else for(let zr of[".highcharts-xaxis",".highcharts-yaxis"])for(let qr of[`${zr}:not(.highcharts-radial-axis)`,`${zr}-labels:not(.highcharts-radial-axis-labels)`])gb($r,qr);for(let zr of $r)[].forEach.call(vr.querySelectorAll(zr),qr=>{(qr.namespaceURI===Nr.SVG_NS?Nr.box:Nr.box.parentNode).appendChild(qr),qr.style.pointerEvents="auto"})}}im.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Oy}=jo,{series:Ox}=nh,{destroyObjectProperties:xb,fireEvent:Ly,getAlignFactor:Nm,isNumber:Lf,pick:Om}=nl,yb=class{constructor(Ur,mr,vr,Er,Tr){let Pr=Ur.chart.inverted,Nr=Ur.reversed;this.axis=Ur;let $r=this.isNegative=!!vr!=!!Nr;this.options=mr=mr||{},this.x=Er,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=Tr,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:mr.align||(Pr?$r?"left":"right":"center"),verticalAlign:mr.verticalAlign||(Pr?"middle":$r?"bottom":"top"),y:mr.y,x:mr.x},this.textAlign=mr.textAlign||(Pr?$r?"right":"left":"center")}destroy(){xb(this,this.axis)}render(Ur){let mr=this.axis.chart,vr=this.options,Er=vr.format,Tr=Er?Oy(Er,this,mr):vr.formatter.call(this);if(this.label)this.label.attr({text:Tr,visibility:"hidden"});else{this.label=mr.renderer.label(Tr,null,void 0,vr.shape,void 0,void 0,vr.useHTML,!1,"stack-labels");let Pr={r:vr.borderRadius||0,text:Tr,padding:Om(vr.padding,5),visibility:"hidden"};mr.styledMode||(Pr.fill=vr.backgroundColor,Pr.stroke=vr.borderColor,Pr["stroke-width"]=vr.borderWidth,this.label.css(vr.style||{})),this.label.attr(Pr),this.label.added||this.label.add(Ur)}this.label.labelrank=mr.plotSizeY,Ly(this,"afterRender")}setOffset(Ur,mr,vr,Er,Tr,Pr){let{alignOptions:Nr,axis:$r,label:zr,options:qr,textAlign:Jr}=this,Kr=$r.chart,ro=this.getStackBox({xOffset:Ur,width:mr,boxBottom:vr,boxTop:Er,defaultX:Tr,xAxis:Pr}),{verticalAlign:fo}=Nr;if(zr&&ro){let mo=zr.getBBox(void 0,0),bo=zr.padding,vo=Om(qr.overflow,"justify")==="justify",yo;Nr.x=qr.x||0,Nr.y=qr.y||0;let{x:To,y:Do}=this.adjustStackPosition({labelBox:mo,verticalAlign:fo,textAlign:Jr});ro.x-=To,ro.y-=Do,zr.align(Nr,!1,ro),(yo=Kr.isInsidePlot(zr.alignAttr.x+Nr.x+To,zr.alignAttr.y+Nr.y+Do))||(vo=!1),vo&&Ox.prototype.justifyDataLabel.call($r,zr,Nr,zr.alignAttr,mo,ro),zr.attr({x:zr.alignAttr.x,y:zr.alignAttr.y,rotation:qr.rotation,rotationOriginX:mo.width*Nm(qr.textAlign||"center"),rotationOriginY:mo.height/2}),Om(!vo&&qr.crop,!0)&&(yo=Lf(zr.x)&&Lf(zr.y)&&Kr.isInsidePlot(zr.x-bo+(zr.width||0),zr.y)&&Kr.isInsidePlot(zr.x+bo,zr.y)),zr[yo?"show":"hide"]()}Ly(this,"afterSetOffset",{xOffset:Ur,width:mr})}adjustStackPosition({labelBox:Ur,verticalAlign:mr,textAlign:vr}){return{x:Ur.width/2+Ur.width/2*(2*Nm(vr)-1),y:Ur.height/2*2*(1-Nm(mr))}}getStackBox(Ur){let mr=this.axis,vr=mr.chart,{boxTop:Er,defaultX:Tr,xOffset:Pr,width:Nr,boxBottom:$r}=Ur,zr=mr.stacking.usePercentage?100:Om(Er,this.total,0),qr=mr.toPixels(zr),Jr=Ur.xAxis||vr.xAxis[0],Kr=Om(Tr,Jr.translate(this.x))+Pr,ro=Math.abs(qr-mr.toPixels($r||Lf(mr.min)&&mr.logarithmic&&mr.logarithmic.lin2log(mr.min)||0)),fo=vr.inverted,mo=this.isNegative;return fo?{x:(mo?qr:qr-ro)-vr.plotLeft,y:Jr.height-Kr-Nr+Jr.top-vr.plotTop,width:ro,height:Nr}:{x:Kr+Jr.transB-vr.plotLeft,y:(mo?qr-ro:qr)-vr.plotTop,width:Nr,height:ro}}},{getDeferredAnimation:vb}=Wc,{series:{prototype:rm}}=nh,{addEvent:$y,correctFloat:xg,defined:qg,destroyObjectProperties:Lx,fireEvent:Yu,isNumber:Iy,objectEach:rp,pick:Kg}=nl;function Zg(){let Ur=this.inverted;this.axes.forEach(mr=>{mr.stacking?.stacks&&mr.hasVisibleSeries&&(mr.stacking.oldStacks=mr.stacking.stacks)}),this.series.forEach(mr=>{let vr=mr.xAxis?.options||{};mr.options.stacking&&mr.reserveSpace()&&(mr.stackKey=[mr.type,Kg(mr.options.stack,""),Ur?vr.top:vr.left,Ur?vr.height:vr.width].join(","))})}function sm(){let Ur=this.stacking;if(Ur){let mr=Ur.stacks;rp(mr,(vr,Er)=>{Lx(vr),delete mr[Er]}),Ur.stackTotalGroup?.destroy()}}function $x(){this.stacking||(this.stacking=new _b(this))}function Cv(Ur,mr,vr,Er){return!qg(Ur)||Ur.x!==mr||Er&&Ur.stackKey!==Er?Ur={x:mr,index:0,key:Er,stackKey:Er}:Ur.index++,Ur.key=[vr,mr,Ur.index].join(","),Ur}function qd(){let Ur,mr=this,vr=mr.yAxis,Er=mr.stackKey||"",Tr=vr.stacking.stacks,Pr=mr.getColumn("x",!0),Nr=mr.options.stacking,$r=mr[Nr+"Stacker"];$r&&[Er,"-"+Er].forEach(zr=>{let qr=Pr.length,Jr,Kr,ro;for(;qr--;)Jr=Pr[qr],Ur=mr.getStackIndicator(Ur,Jr,mr.index,zr),Kr=Tr[zr]?.[Jr],(ro=Kr?.points[Ur.key||""])&&$r.call(mr,ro,Kr,qr)})}function xd(Ur,mr,vr){let Er=mr.total?100/mr.total:0;Ur[0]=xg(Ur[0]*Er),Ur[1]=xg(Ur[1]*Er),this.stackedYData[vr]=Ur[1]}function bb(Ur){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?rm.setStackedPoints.call(this,Ur,"group"):Ur.stacking.resetStacks())}function Fy(Ur,mr){let vr,Er,Tr,Pr,Nr,$r,zr,qr=mr||this.options.stacking;if(!qr||!this.reserveSpace()||({group:"xAxis"}[qr]||"yAxis")!==Ur.coll)return;let Jr=this.getColumn("x",!0),Kr=this.getColumn(this.pointValKey||"y",!0),ro=[],fo=Kr.length,mo=this.options,bo=mo.threshold||0,vo=mo.startFromThreshold?bo:0,yo=mo.stack,To=mr?`${this.type},${qr}`:this.stackKey||"",Do="-"+To,Lo=this.negStacks,Wo=Ur.stacking,Uo=Wo.stacks,Yo=Wo.oldStacks;for(Wo.stacksTouched+=1,zr=0;zr<fo;zr++){let Bo=Jr[zr]||0,pl=Kr[zr],xl=Iy(pl)&&pl||0;$r=(vr=this.getStackIndicator(vr,Bo,this.index)).key||"",Uo[Nr=(Er=Lo&&xl<(vo?0:bo))?Do:To]||(Uo[Nr]={}),Uo[Nr][Bo]||(Yo[Nr]?.[Bo]?(Uo[Nr][Bo]=Yo[Nr][Bo],Uo[Nr][Bo].total=null):Uo[Nr][Bo]=new yb(Ur,Ur.options.stackLabels,!!Er,Bo,yo)),Tr=Uo[Nr][Bo],pl!==null?(Tr.points[$r]=Tr.points[this.index]=[Kg(Tr.cumulative,vo)],qg(Tr.cumulative)||(Tr.base=$r),Tr.touched=Wo.stacksTouched,vr.index>0&&this.singleStacks===!1&&(Tr.points[$r][0]=Tr.points[this.index+","+Bo+",0"][0])):(delete Tr.points[$r],delete Tr.points[this.index]);let ml=Tr.total||0;qr==="percent"?(Pr=Er?To:Do,ml=Lo&&Uo[Pr]?.[Bo]?(Pr=Uo[Pr][Bo]).total=Math.max(Pr.total||0,ml)+Math.abs(xl):xg(ml+Math.abs(xl))):qr==="group"?Iy(pl)&&ml++:ml=xg(ml+xl),qr==="group"?Tr.cumulative=(ml||1)-1:Tr.cumulative=xg(Kg(Tr.cumulative,vo)+xl),Tr.total=ml,pl!==null&&(Tr.points[$r].push(Tr.cumulative),ro[zr]=Tr.cumulative,Tr.hasValidPoints=!0)}qr==="percent"&&(Wo.usePercentage=!0),qr!=="group"&&(this.stackedYData=ro),Wo.oldStacks={}}class _b{constructor(mr){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=mr}buildStacks(){let mr,vr,Er=this.axis,Tr=Er.series,Pr=Er.coll==="xAxis",Nr=Er.options.reversedStacks,$r=Tr.length;for(this.resetStacks(),this.usePercentage=!1,vr=$r;vr--;)mr=Tr[Nr?vr:$r-vr-1],Pr&&mr.setGroupedPoints(Er),mr.setStackedPoints(Er);if(!Pr)for(vr=0;vr<$r;vr++)Tr[vr].modifyStacks();Yu(Er,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,rp(this.stacks,mr=>{rp(mr,vr=>{vr.cumulative=vr.total})}))}resetStacks(){rp(this.stacks,mr=>{rp(mr,(vr,Er)=>{Iy(vr.touched)&&vr.touched<this.stacksTouched?(vr.destroy(),delete mr[Er]):(vr.total=null,vr.cumulative=null)})})}renderStackTotals(){let mr=this.axis,vr=mr.chart,Er=vr.renderer,Tr=this.stacks,Pr=vb(vr,mr.options.stackLabels?.animation||!1),Nr=this.stackTotalGroup=this.stackTotalGroup||Er.g("stack-labels").attr({zIndex:6,opacity:0}).add();Nr.translate(vr.plotLeft,vr.plotTop),rp(Tr,$r=>{rp($r,zr=>{zr.render(Nr)})}),Nr.animate({opacity:1},Pr)}}(yr||(yr={})).compose=function(Ur,mr,vr){let Er=mr.prototype,Tr=vr.prototype;Er.getStacks||($y(Ur,"init",$x),$y(Ur,"destroy",sm),Er.getStacks=Zg,Tr.getStackIndicator=Cv,Tr.modifyStacks=qd,Tr.percentStacker=xd,Tr.setGroupedPoints=bb,Tr.setStackedPoints=Fy)};let kv=yr,{defined:Av,merge:Ix,isObject:wb}=nl;class Lp extends gd{drawGraph(){let mr=this.options,vr=(this.gappedPath||this.getGraphPath).call(this),Er=this.chart.styledMode;[this,...this.zones].forEach((Tr,Pr)=>{let Nr,$r=Tr.graph,zr=$r?"animate":"attr",qr=Tr.dashStyle||mr.dashStyle;$r?($r.endX=this.preventGraphAnimation?null:vr.xMap,$r.animate({d:vr})):vr.length&&(Tr.graph=$r=this.chart.renderer.path(vr).addClass("highcharts-graph"+(Pr?` highcharts-zone-graph-${Pr-1} `:" ")+(Pr&&Tr.className||"")).attr({zIndex:1}).add(this.group)),$r&&!Er&&(Nr={stroke:!Pr&&mr.lineColor||Tr.color||this.color||"#cccccc","stroke-width":mr.lineWidth||0,fill:this.fillGraph&&this.color||"none"},qr?Nr.dashstyle=qr:mr.linecap!=="square"&&(Nr["stroke-linecap"]=Nr["stroke-linejoin"]="round"),$r[zr](Nr).shadow(mr.shadow&&Ix({filterUnits:"userSpaceOnUse"},wb(mr.shadow)?mr.shadow:{}))),$r&&($r.startX=vr.xMap,$r.isArea=vr.isArea)})}getGraphPath(mr,vr,Er){let Tr=this,Pr=Tr.options,Nr=[],$r=[],zr,qr=Pr.step,Jr=(mr=mr||Tr.points).reversed;return Jr&&mr.reverse(),(qr={right:1,center:2}[qr]||qr&&3)&&Jr&&(qr=4-qr),(mr=this.getValidPoints(mr,!1,Pr.nullInteraction||!(Pr.connectNulls&&!vr&&!Er))).forEach(function(Kr,ro){let fo,mo=Kr.plotX,bo=Kr.plotY,vo=mr[ro-1],yo=Kr.isNull||typeof bo!="number";(Kr.leftCliff||vo?.rightCliff)&&!Er&&(zr=!0),yo&&!Av(vr)&&ro>0?zr=!Pr.connectNulls:yo&&!vr?zr=!0:(ro===0||zr?fo=[["M",Kr.plotX,Kr.plotY]]:Tr.getPointSpline?fo=[Tr.getPointSpline(mr,Kr,ro)]:qr?(fo=qr===1?[["L",vo.plotX,bo]]:qr===2?[["L",(vo.plotX+mo)/2,vo.plotY],["L",(vo.plotX+mo)/2,bo]]:[["L",mo,vo.plotY]]).push(["L",mo,bo]):fo=[["L",mo,bo]],$r.push(Kr.x),qr&&($r.push(Kr.x),qr===2&&$r.push(Kr.x)),Nr.push.apply(Nr,fo),zr=!1)}),Nr.xMap=$r,Tr.graphPath=Nr,Nr}}Lp.defaultOptions=Ix(gd.defaultOptions,{legendSymbol:"lineMarker"}),nh.registerSeriesType("line",Lp);let{seriesTypes:{line:jh}}=nh,{extend:Tv,merge:Eb,objectEach:Xh,pick:By}=nl;class Fx extends jh{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:mr,options:vr}=this;[this,...this.zones].forEach((Er,Tr)=>{let Pr={},Nr=Er.fillColor||vr.fillColor,$r=Er.area,zr=$r?"animate":"attr";$r?($r.endX=this.preventGraphAnimation?null:mr.xMap,$r.animate({d:mr})):(Pr.zIndex=0,($r=Er.area=this.chart.renderer.path(mr).addClass("highcharts-area"+(Tr?` highcharts-zone-area-${Tr-1} `:" ")+(Tr&&Er.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(Pr.fill=Nr||Er.color||this.color,Pr["fill-opacity"]=Nr?1:vr.fillOpacity??.75,$r.css({pointerEvents:this.stickyTracking?"none":"auto"})),$r[zr](Pr),$r.startX=mr.xMap,$r.shiftUnit=vr.step?2:1})}getGraphPath(mr){let vr,Er,Tr,Pr=jh.prototype.getGraphPath,Nr=this.options,$r=Nr.stacking,zr=this.yAxis,qr=[],Jr=[],Kr=this.index,ro=zr.stacking.stacks[this.stackKey],fo=Nr.threshold,mo=Math.round(zr.getThreshold(Nr.threshold)),bo=By(Nr.connectNulls,$r==="percent"),vo=function(Uo,Yo,Bo){let pl=mr[Uo],xl=$r&&ro[pl.x].points[Kr],ml=pl[Bo+"Null"]||0,Ol=pl[Bo+"Cliff"]||0,Xl,Zl,Ml=!0;Ol||ml?(Xl=(ml?xl[0]:xl[1])+Ol,Zl=xl[0]+Ol,Ml=!!ml):!$r&&mr[Yo]&&mr[Yo].isNull&&(Xl=Zl=fo),Xl!==void 0&&(Jr.push({plotX:vr,plotY:Xl===null?mo:zr.getThreshold(Xl),isNull:Ml,isCliff:!0}),qr.push({plotX:vr,plotY:Zl===null?mo:zr.getThreshold(Zl),doCurve:!1}))};mr=mr||this.points,$r&&(mr=this.getStackPoints(mr));for(let Uo=0,Yo=mr.length;Uo<Yo;++Uo)$r||(mr[Uo].leftCliff=mr[Uo].rightCliff=mr[Uo].leftNull=mr[Uo].rightNull=void 0),Er=mr[Uo].isNull,vr=By(mr[Uo].rectPlotX,mr[Uo].plotX),Tr=$r?By(mr[Uo].yBottom,mo):mo,(!Er||bo)&&(bo||vo(Uo,Uo-1,"left"),Er&&!$r&&bo||(Jr.push(mr[Uo]),qr.push({x:Uo,plotX:vr,plotY:Tr})),bo||vo(Uo,Uo+1,"right"));let yo=Pr.call(this,Jr,!0,!0);qr.reversed=!0;let To=Pr.call(this,qr,!0,!0),Do=To[0];Do&&Do[0]==="M"&&(To[0]=["L",Do[1],Do[2]]);let Lo=yo.concat(To);Lo.length&&Lo.push(["Z"]);let Wo=Pr.call(this,Jr,!1,bo);return this.chart.series.length>1&&$r&&Jr.some(Uo=>Uo.isCliff)&&(Lo.hasStackedCliffs=Wo.hasStackedCliffs=!0),Lo.xMap=yo.xMap,this.areaPath=Lo,Wo}getStackPoints(mr){let vr=this,Er=[],Tr=[],Pr=this.xAxis,Nr=this.yAxis,$r=Nr.stacking.stacks[this.stackKey],zr={},qr=Nr.series,Jr=qr.length,Kr=Nr.options.reversedStacks?1:-1,ro=qr.indexOf(vr);if(mr=mr||this.points,this.options.stacking){for(let mo=0;mo<mr.length;mo++)mr[mo].leftNull=mr[mo].rightNull=void 0,zr[mr[mo].x]=mr[mo];Xh($r,function(mo,bo){mo.total!==null&&Tr.push(bo)}),Tr.sort(function(mo,bo){return mo-bo});let fo=qr.map(mo=>mo.visible);Tr.forEach(function(mo,bo){let vo=0,yo,To;if(zr[mo]&&!zr[mo].isNull)Er.push(zr[mo]),[-1,1].forEach(function(Do){let Lo=Do===1?"rightNull":"leftNull",Wo=$r[Tr[bo+Do]],Uo=0;if(Wo){let Yo=ro;for(;Yo>=0&&Yo<Jr;){let Bo=qr[Yo].index;!(yo=Wo.points[Bo])&&(Bo===vr.index?zr[mo][Lo]=!0:fo[Yo]&&(To=$r[mo].points[Bo])&&(Uo-=To[1]-To[0])),Yo+=Kr}}zr[mo][Do===1?"rightCliff":"leftCliff"]=Uo});else{let Do=ro;for(;Do>=0&&Do<Jr;){let Lo=qr[Do].index;if(yo=$r[mo].points[Lo]){vo=yo[1];break}Do+=Kr}vo=By(vo,0),vo=Nr.translate(vo,0,1,0,1),Er.push({isNull:!0,plotX:Pr.translate(mo,0,0,0,1),x:mo,plotY:vo,yBottom:vo})}})}return Er}}Fx.defaultOptions=Eb(jh.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Tv(Fx.prototype,{singleStacks:!1}),nh.registerSeriesType("area",Fx);let{line:zy}=nh.seriesTypes,{merge:hh,pick:sd}=nl;class sp extends zy{getPointSpline(mr,vr,Er){let Tr,Pr,Nr,$r,zr=vr.plotX||0,qr=vr.plotY||0,Jr=mr[Er-1],Kr=mr[Er+1];function ro(mo){return mo&&!mo.isNull&&mo.doCurve!==!1&&!vr.isCliff}if(ro(Jr)&&ro(Kr)){let mo=Jr.plotX||0,bo=Jr.plotY||0,vo=Kr.plotX||0,yo=Kr.plotY||0,To=0;Tr=(1.5*zr+mo)/2.5,Pr=(1.5*qr+bo)/2.5,Nr=(1.5*zr+vo)/2.5,$r=(1.5*qr+yo)/2.5,Nr!==Tr&&(To=($r-Pr)*(Nr-zr)/(Nr-Tr)+qr-$r),Pr+=To,$r+=To,Pr>bo&&Pr>qr?(Pr=Math.max(bo,qr),$r=2*qr-Pr):Pr<bo&&Pr<qr&&(Pr=Math.min(bo,qr),$r=2*qr-Pr),$r>yo&&$r>qr?($r=Math.max(yo,qr),Pr=2*qr-$r):$r<yo&&$r<qr&&($r=Math.min(yo,qr),Pr=2*qr-$r),vr.rightContX=Nr,vr.rightContY=$r,vr.controlPoints={low:[Tr,Pr],high:[Nr,$r]}}let fo=["C",sd(Jr.rightContX,Jr.plotX,0),sd(Jr.rightContY,Jr.plotY,0),sd(Tr,zr,0),sd(Pr,qr,0),zr,qr];return Jr.rightContX=Jr.rightContY=void 0,fo}}sp.defaultOptions=hh(zy.defaultOptions),nh.registerSeriesType("spline",sp);let Pv=sp,{area:Dv,area:{prototype:Hy}}=nh.seriesTypes,{extend:n0,merge:Wy}=nl;class yd extends Pv{}yd.defaultOptions=Wy(Pv.defaultOptions,Dv.defaultOptions),n0(yd.prototype,{getGraphPath:Hy.getGraphPath,getStackPoints:Hy.getStackPoints,drawGraph:Hy.drawGraph}),nh.registerSeriesType("areaspline",yd);let{animObject:ap}=Wc,{parse:Sb}=Hl,{noop:dh}=Fr,{clamp:Bx,crisp:$f,defined:Lm,extend:op,fireEvent:Gy,isArray:Vy,isNumber:Kd,merge:Uy,pick:If,objectEach:zx}=nl;class $m extends gd{animate(mr){let vr,Er,Tr=this,Pr=this.yAxis,Nr=Pr.pos,$r=Pr.reversed,zr=Tr.options,{clipOffset:qr,inverted:Jr}=this.chart,Kr={},ro=Jr?"translateX":"translateY";mr&&qr?(Kr.scaleY=.001,Er=Bx(Pr.toPixels(zr.threshold||0),Nr,Nr+Pr.len),Jr?Kr.translateX=(Er+=$r?-Math.floor(qr[0]):Math.ceil(qr[2]))-Pr.len:Kr.translateY=Er+=$r?Math.ceil(qr[0]):-Math.floor(qr[2]),Tr.clipBox&&Tr.setClip(),Tr.group.attr(Kr)):(vr=Number(Tr.group.attr(ro)),Tr.group.animate({scaleY:1},op(ap(Tr.options.animation),{step:function(fo,mo){Tr.group&&(Kr[ro]=vr+mo.pos*(Nr-vr),Tr.group.attr(Kr))}})))}init(mr,vr){super.init.apply(this,arguments);let Er=this;(mr=Er.chart).hasRendered&&mr.series.forEach(function(Tr){Tr.type===Er.type&&(Tr.isDirty=!0)})}getColumnMetrics(){let mr=this,vr=mr.options,Er=mr.xAxis,Tr=mr.yAxis,Pr=Er.options.reversedStacks,Nr=Er.reversed&&!Pr||!Er.reversed&&Pr,$r={},zr,qr=0;vr.grouping===!1?qr=1:mr.chart.series.forEach(function(bo){let vo,yo=bo.yAxis,To=bo.options;bo.type===mr.type&&bo.reserveSpace()&&Tr.len===yo.len&&Tr.pos===yo.pos&&(To.stacking&&To.stacking!=="group"?($r[zr=bo.stackKey]===void 0&&($r[zr]=qr++),vo=$r[zr]):To.grouping!==!1&&(vo=qr++),bo.columnIndex=vo)});let Jr=Math.min(Math.abs(Er.transA)*(!Er.brokenAxis?.hasBreaks&&Er.ordinal?.slope||vr.pointRange||Er.closestPointRange||Er.tickInterval||1),Er.len),Kr=Jr*vr.groupPadding,ro=(Jr-2*Kr)/(qr||1),fo=Math.min(vr.maxPointWidth||Er.len,If(vr.pointWidth,ro*(1-2*vr.pointPadding))),mo=(mr.columnIndex||0)+ +!!Nr;return mr.columnMetrics={width:fo,offset:(ro-fo)/2+(Kr+mo*ro-Jr/2)*(Nr?-1:1),paddedWidth:ro,columnCount:qr},mr.columnMetrics}crispCol(mr,vr,Er,Tr){let Pr=this.borderWidth,Nr=this.chart.inverted;return Tr=$f(vr+Tr,Pr,Nr)-(vr=$f(vr,Pr,Nr)),this.options.crisp&&(Er=$f(mr+Er,Pr)-(mr=$f(mr,Pr))),{x:mr,y:vr,width:Er,height:Tr}}adjustForMissingColumns(mr,vr,Er,Tr){if(!Er.isNull&&Tr.columnCount>1){let Pr=this.xAxis.series.filter(qr=>qr.visible).map(qr=>qr.index),Nr=0,$r=0;zx(this.xAxis.stacking?.stacks,qr=>{let Jr=typeof Er.x=="number"?qr[Er.x.toString()]?.points:void 0,Kr=Jr?.[this.index],ro={};if(Jr&&Vy(Kr)){let fo=this.index,mo=Object.keys(Jr).filter(bo=>!bo.match(",")&&Jr[bo]&&Jr[bo].length>1).map(parseFloat).filter(bo=>Pr.indexOf(bo)!==-1).filter(bo=>{let vo=this.chart.series[bo].options,yo=vo.stacking&&vo.stack;if(Lm(yo)){if(Kd(ro[yo]))return fo===bo&&(fo=ro[yo]),!1;ro[yo]=bo}return!0}).sort((bo,vo)=>vo-bo);Nr=mo.indexOf(fo),$r=mo.length}}),Nr=this.xAxis.reversed?$r-1-Nr:Nr;let zr=($r-1)*Tr.paddedWidth+vr;mr=(Er.plotX||0)+zr/2-vr-Nr*Tr.paddedWidth}return mr}translate(){let mr=this,vr=mr.chart,Er=mr.options,Tr=mr.dense=mr.closestPointRange*mr.xAxis.transA<2,Pr=mr.borderWidth=If(Er.borderWidth,+!Tr),Nr=mr.xAxis,$r=mr.yAxis,zr=Er.threshold,qr=If(Er.minPointLength,5),Jr=mr.getColumnMetrics(),Kr=Jr.width,ro=mr.pointXOffset=Jr.offset,fo=mr.dataMin,mo=mr.dataMax,bo=mr.translatedThreshold=$r.getThreshold(zr),vo=mr.barW=Math.max(Kr,1+2*Pr);Er.pointPadding&&Er.crisp&&(vo=Math.ceil(vo)),gd.prototype.translate.apply(mr),mr.points.forEach(function(yo){let To=If(yo.yBottom,bo),Do=999+Math.abs(To),Lo=yo.plotX||0,Wo=Bx(yo.plotY,-Do,$r.len+Do),Uo,Yo=Math.min(Wo,To),Bo=Math.max(Wo,To)-Yo,pl=Kr,xl=Lo+ro,ml=vo;qr&&Math.abs(Bo)<qr&&(Bo=qr,Uo=!$r.reversed&&!yo.negative||$r.reversed&&yo.negative,Kd(zr)&&Kd(mo)&&yo.y===zr&&mo<=zr&&($r.min||0)<zr&&(fo!==mo||($r.max||0)<=zr)&&(Uo=!Uo,yo.negative=!yo.negative),Yo=Math.abs(Yo-bo)>qr?To-qr:bo-(Uo?qr:0)),Lm(yo.options.pointWidth)&&(xl-=Math.round(((pl=ml=Math.ceil(yo.options.pointWidth))-Kr)/2)),Er.centerInCategory&&(xl=mr.adjustForMissingColumns(xl,pl,yo,Jr)),yo.barX=xl,yo.pointWidth=pl,yo.tooltipPos=vr.inverted?[Bx($r.len+$r.pos-vr.plotLeft-Wo,$r.pos-vr.plotLeft,$r.len+$r.pos-vr.plotLeft),Nr.len+Nr.pos-vr.plotTop-xl-ml/2,Bo]:[Nr.left-vr.plotLeft+xl+ml/2,Bx(Wo+$r.pos-vr.plotTop,$r.pos-vr.plotTop,$r.len+$r.pos-vr.plotTop),Bo],yo.shapeType=mr.pointClass.prototype.shapeType||"roundedRect",yo.shapeArgs=mr.crispCol(xl,Yo,ml,yo.isNull?0:Bo)}),Gy(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(mr,vr){let Er=this.options,Tr=this.pointAttrToOptions||{},Pr=Tr.stroke||"borderColor",Nr=Tr["stroke-width"]||"borderWidth",$r,zr,qr,Jr=mr&&mr.color||this.color,Kr=mr&&mr[Pr]||Er[Pr]||Jr,ro=mr&&mr.options.dashStyle||Er.dashStyle,fo=mr&&mr[Nr]||Er[Nr]||this[Nr]||0,mo=mr?.isNull&&Er.nullInteraction?0:mr?.opacity??Er.opacity??1;mr&&this.zones.length&&(zr=mr.getZone(),Jr=mr.options.color||zr&&(zr.color||mr.nonZonedColor)||this.color,zr&&(Kr=zr.borderColor||Kr,ro=zr.dashStyle||ro,fo=zr.borderWidth||fo)),vr&&mr&&(qr=($r=Uy(Er.states[vr],mr.options.states&&mr.options.states[vr]||{})).brightness,Jr=$r.color||qr!==void 0&&Sb(Jr).brighten($r.brightness).get()||Jr,Kr=$r[Pr]||Kr,fo=$r[Nr]||fo,ro=$r.dashStyle||ro,mo=If($r.opacity,mo));let bo={fill:Jr,stroke:Kr,"stroke-width":fo,opacity:mo};return ro&&(bo.dashstyle=ro),bo}drawPoints(mr=this.points){let vr,Er=this,Tr=this.chart,Pr=Er.options,Nr=Pr.nullInteraction,$r=Tr.renderer,zr=Pr.animationLimit||250;mr.forEach(function(qr){let Jr=qr.plotY,Kr=qr.graphic,ro=!!Kr,fo=Kr&&Tr.pointCount<zr?"animate":"attr";Kd(Jr)&&(qr.y!==null||Nr)?(vr=qr.shapeArgs,Kr&&qr.hasNewShapeType()&&(Kr=Kr.destroy()),Er.enabledDataSorting&&(qr.startXPos=Er.xAxis.reversed?-(vr&&vr.width||0):Er.xAxis.width),!Kr&&(qr.graphic=Kr=$r[qr.shapeType](vr).add(qr.group||Er.group),Kr&&Er.enabledDataSorting&&Tr.hasRendered&&Tr.pointCount<zr&&(Kr.attr({x:qr.startXPos}),ro=!0,fo="animate")),Kr&&ro&&Kr[fo](Uy(vr)),Tr.styledMode||Kr[fo](Er.pointAttribs(qr,qr.selected&&"select")).shadow(qr.allowShadow!==!1&&Pr.shadow),Kr&&(Kr.addClass(qr.getClassName(),!0),Kr.attr({visibility:qr.visible?"inherit":"hidden"}))):Kr&&(qr.graphic=Kr.destroy())})}drawTracker(mr=this.points){let vr,Er=this,Tr=Er.chart,Pr=Tr.pointer,Nr=function($r){Pr?.normalize($r);let zr=Pr?.getPointFromEvent($r);Pr&&zr&&Er.options.enableMouseTracking&&(Tr.isInsidePlot($r.chartX-Tr.plotLeft,$r.chartY-Tr.plotTop,{visiblePlotOnly:!0})||Pr?.inClass($r.target,"highcharts-data-label"))&&(Pr.isDirectTouch=!0,zr.onMouseOver($r))};mr.forEach(function($r){vr=Vy($r.dataLabels)?$r.dataLabels:$r.dataLabel?[$r.dataLabel]:[],$r.graphic&&($r.graphic.element.point=$r),vr.forEach(function(zr){(zr.div||zr.element).point=$r})}),Er._hasTracking||(Er.trackerGroups.forEach(function($r){Er[$r]&&(Er[$r].addClass("highcharts-tracker").on("mouseover",Nr).on("mouseout",function(zr){Pr?.onTrackerMouseOut(zr)}).on("touchstart",Nr),!Tr.styledMode&&Er.options.cursor&&Er[$r].css({cursor:Er.options.cursor}))}),Er._hasTracking=!0),Gy(this,"afterDrawTracker")}remove(){let mr=this,vr=mr.chart;vr.hasRendered&&vr.series.forEach(function(Er){Er.type===mr.type&&(Er.isDirty=!0)}),gd.prototype.remove.apply(mr,arguments)}}$m.defaultOptions=Uy(gd.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),op($m.prototype,{directTouch:!0,getSymbol:dh,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),nh.registerSeriesType("column",$m);let am=$m,{getDeferredAnimation:jb}=Wc,{format:Rb}=jo,{defined:lp,extend:Mv,fireEvent:Qg,getAlignFactor:Nv,isArray:Im,isString:Hx,merge:pu,objectEach:Xu,pick:Vc,pInt:lu,splat:Nu}=nl;(function(Ur){function mr(){return zr(this).some(Jr=>Jr?.enabled)}function vr(Jr,Kr,ro,fo,mo){let{chart:bo,enabledDataSorting:vo}=this,yo=this.isCartesian&&bo.inverted,To=Jr.plotX,Do=Jr.plotY,Lo=ro.rotation||0,Wo=lp(To)&&lp(Do)&&bo.isInsidePlot(To,Math.round(Do),{inverted:yo,paneCoordinates:!0,series:this}),Uo=Lo===0&&Vc(ro.overflow,vo?"none":"justify")==="justify",Yo=this.visible&&Jr.visible!==!1&&lp(To)&&(Jr.series.forceDL||vo&&!Uo||Wo||Vc(ro.inside,!!this.options.stacking)&&fo&&bo.isInsidePlot(To,yo?fo.x+1:fo.y+fo.height-1,{inverted:yo,paneCoordinates:!0,series:this})),Bo=Jr.pos();if(Yo&&Bo){var pl;let xl=Kr.getBBox(),ml=Kr.getBBox(void 0,0);if(fo=Mv({x:Bo[0],y:Math.round(Bo[1]),width:0,height:0},fo||{}),ro.alignTo==="plotEdges"&&this.isCartesian&&(fo[yo?"x":"y"]=0,fo[yo?"width":"height"]=this.yAxis?.len||0),Mv(ro,{width:xl.width,height:xl.height}),pl=fo,vo&&this.xAxis&&!Uo&&this.setDataLabelStartPos(Jr,Kr,mo,Wo,pl),Kr.align(pu(ro,{width:ml.width,height:ml.height}),!1,fo,!1),Kr.alignAttr.x+=Nv(ro.align)*(ml.width-xl.width),Kr.alignAttr.y+=Nv(ro.verticalAlign)*(ml.height-xl.height),Kr[Kr.placed?"animate":"attr"]({"text-align":Kr.alignAttr["text-align"]||"center",x:Kr.alignAttr.x+(xl.width-ml.width)/2,y:Kr.alignAttr.y+(xl.height-ml.height)/2,rotationOriginX:(Kr.width||0)/2,rotationOriginY:(Kr.height||0)/2}),Uo&&fo.height>=0)this.justifyDataLabel(Kr,ro,Kr.alignAttr,xl,fo,mo);else if(Vc(ro.crop,!0)){let{x:Ol,y:Xl}=Kr.alignAttr;Yo=bo.isInsidePlot(Ol,Xl,{paneCoordinates:!0,series:this})&&bo.isInsidePlot(Ol+xl.width-1,Xl+xl.height-1,{paneCoordinates:!0,series:this})}ro.shape&&!Lo&&Kr[mo?"attr":"animate"]({anchorX:Bo[0],anchorY:Bo[1]})}mo&&vo&&(Kr.placed=!1),Yo||vo&&!Uo?(Kr.show(),Kr.placed=!0):(Kr.hide(),Kr.placed=!1)}function Er(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function Tr(Jr){let Kr=this.hasRendered||0,ro=this.initDataLabelsGroup().attr({opacity:+Kr});return!Kr&&ro&&(this.visible&&ro.show(),this.options.animation?ro.animate({opacity:1},Jr):ro.attr({opacity:1})),ro}function Pr(Jr){let Kr;Jr=Jr||this.points;let ro=this,fo=ro.chart,mo=ro.options,bo=fo.renderer,{backgroundColor:vo,plotBackgroundColor:yo}=fo.options.chart,To=bo.getContrast(Hx(yo)&&yo||Hx(vo)&&vo||"#000000"),Do=zr(ro),{animation:Lo,defer:Wo}=Do[0],Uo=Wo?jb(fo,Lo,ro):{defer:0,duration:0};Qg(this,"drawDataLabels"),ro.hasDataLabels?.()&&(Kr=this.initDataLabels(Uo),Jr.forEach(Yo=>{let Bo=Yo.dataLabels||[],pl=Yo.color||ro.color;Nu($r(Do,Yo.dlOptions||Yo.options?.dataLabels)).forEach((ml,Ol)=>{let Xl=ml.enabled&&(Yo.visible||Yo.dataLabelOnHidden)&&(!Yo.isNull||Yo.dataLabelOnNull)&&(function(Bu,cu){let $l=cu.filter;if($l){let rh=$l.operator,qu=Bu[$l.property],od=$l.value;return rh===">"&&qu>od||rh==="<"&&qu<od||rh===">="&&qu>=od||rh==="<="&&qu<=od||rh==="=="&&qu==od||rh==="==="&&qu===od||rh==="!="&&qu!=od||rh==="!=="&&qu!==od||!1}return!0})(Yo,ml),{backgroundColor:Zl,borderColor:Ml,distance:Fl,style:Kl={}}=ml,Bc,kc,ad,gc={},pc=Bo[Ol],mu=!pc,zc;Xl&&(kc=lp(Bc=Vc(ml[Yo.formatPrefix+"Format"],ml.format))?Rb(Bc,Yo,fo):(ml[Yo.formatPrefix+"Formatter"]||ml.formatter).call(Yo,ml),ad=ml.rotation,!fo.styledMode&&(Kl.color=Vc(ml.color,Kl.color,Hx(ro.color)?ro.color:void 0,"#000000"),Kl.color==="contrast"?(Zl!=="none"&&(zc=Zl),Yo.contrastColor=bo.getContrast(zc!=="auto"&&Hx(zc)&&zc||(Hx(pl)?pl:"")),Kl.color=zc||!lp(Fl)&&ml.inside||0>lu(Fl||0)||mo.stacking?Yo.contrastColor:To):delete Yo.contrastColor,mo.cursor&&(Kl.cursor=mo.cursor)),gc={r:ml.borderRadius||0,rotation:ad,padding:ml.padding,zIndex:1},fo.styledMode||(gc.fill=Zl==="auto"?Yo.color:Zl,gc.stroke=Ml==="auto"?Yo.color:Ml,gc["stroke-width"]=ml.borderWidth),Xu(gc,(Bu,cu)=>{Bu===void 0&&delete gc[cu]})),!pc||Xl&&lp(kc)&&!!(pc.div||pc.text?.foreignObject)==!!ml.useHTML&&(pc.rotation&&ml.rotation||pc.rotation===ml.rotation)||(pc=void 0,mu=!0),Xl&&lp(kc)&&kc!==""&&(pc?gc.text=kc:(pc=bo.label(kc,0,0,ml.shape,void 0,void 0,ml.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Yo.colorIndex+" "+(ml.className||"")+(ml.useHTML?" highcharts-tracker":"")),pc&&(pc.options=ml,pc.attr(gc),fo.styledMode?Kl.width&&pc.css({width:Kl.width,textOverflow:Kl.textOverflow,whiteSpace:Kl.whiteSpace}):pc.css(Kl).shadow(ml.shadow),Qg(pc,"beforeAddingDataLabel",{labelOptions:ml,point:Yo}),pc.added||pc.add(Kr),ro.alignDataLabel(Yo,pc,ml,void 0,mu),pc.isActive=!0,Bo[Ol]&&Bo[Ol]!==pc&&Bo[Ol].destroy(),Bo[Ol]=pc))});let xl=Bo.length;for(;xl--;)Bo[xl]?.isActive?Bo[xl].isActive=!1:(Bo[xl]?.destroy(),Bo.splice(xl,1));Yo.dataLabel=Bo[0],Yo.dataLabels=Bo})),Qg(this,"afterDrawDataLabels")}function Nr(Jr,Kr,ro,fo,mo,bo){let vo=this.chart,yo=Kr.align,To=Kr.verticalAlign,Do=Jr.box?0:Jr.padding||0,Lo=vo.inverted?this.yAxis:this.xAxis,Wo=Lo?Lo.left-vo.plotLeft:0,Uo=vo.inverted?this.xAxis:this.yAxis,Yo=Uo?Uo.top-vo.plotTop:0,{x:Bo=0,y:pl=0}=Kr,xl,ml;return(xl=(ro.x||0)+Do+Wo)<0&&(yo==="right"&&Bo>=0?(Kr.align="left",Kr.inside=!0):Bo-=xl,ml=!0),(xl=(ro.x||0)+fo.width-Do+Wo)>vo.plotWidth&&(yo==="left"&&Bo<=0?(Kr.align="right",Kr.inside=!0):Bo+=vo.plotWidth-xl,ml=!0),(xl=ro.y+Do+Yo)<0&&(To==="bottom"&&pl>=0?(Kr.verticalAlign="top",Kr.inside=!0):pl-=xl,ml=!0),(xl=(ro.y||0)+fo.height-Do+Yo)>vo.plotHeight&&(To==="top"&&pl<=0?(Kr.verticalAlign="bottom",Kr.inside=!0):pl+=vo.plotHeight-xl,ml=!0),ml&&(Kr.x=Bo,Kr.y=pl,Jr.placed=!bo,Jr.align(Kr,void 0,mo)),ml}function $r(Jr,Kr){let ro=[],fo;if(Im(Jr)&&!Im(Kr))ro=Jr.map(function(mo){return pu(mo,Kr)});else if(Im(Kr)&&!Im(Jr))ro=Kr.map(function(mo){return pu(Jr,mo)});else if(Im(Jr)||Im(Kr)){if(Im(Jr)&&Im(Kr))for(fo=Math.max(Jr.length,Kr.length);fo--;)ro[fo]=pu(Jr[fo],Kr[fo])}else ro=pu(Jr,Kr);return ro}function zr(Jr){let Kr=Jr.chart.options.plotOptions;return Nu($r($r(Kr?.series?.dataLabels,Kr?.[Jr.type]?.dataLabels),Jr.options.dataLabels))}function qr(Jr,Kr,ro,fo,mo){let bo=this.chart,vo=bo.inverted,yo=this.xAxis,To=yo.reversed,Do=((vo?Kr.height:Kr.width)||0)/2,Lo=Jr.pointWidth,Wo=Lo?Lo/2:0;Kr.startXPos=vo?mo.x:To?-Do-Wo:yo.width-Do+Wo,Kr.startYPos=vo?To?this.yAxis.height-Do+Wo:-Do-Wo:mo.y,fo?Kr.visibility==="hidden"&&(Kr.show(),Kr.attr({opacity:0}).animate({opacity:1})):Kr.attr({opacity:1}).animate({opacity:0},void 0,Kr.hide),bo.hasRendered&&(ro&&Kr.attr({x:Kr.startXPos,y:Kr.startYPos}),Kr.placed=!0)}Ur.compose=function(Jr){let Kr=Jr.prototype;Kr.initDataLabels||(Kr.initDataLabels=Tr,Kr.initDataLabelsGroup=Er,Kr.alignDataLabel=vr,Kr.drawDataLabels=Pr,Kr.justifyDataLabel=Nr,Kr.mergeArrays=$r,Kr.setDataLabelStartPos=qr,Kr.hasDataLabels=mr)}})(_r||(_r={}));let vd=_r,{composed:Fm}=Fr,{series:yg}=nh,{merge:Ov,pushUnique:cp}=nl;(function(Ur){function mr(vr,Er,Tr,Pr,Nr){let{chart:$r,options:zr}=this,qr=$r.inverted,Jr=this.xAxis?.len||$r.plotSizeX||0,Kr=this.yAxis?.len||$r.plotSizeY||0,ro=vr.dlBox||vr.shapeArgs,fo=vr.below??(vr.plotY||0)>(this.translatedThreshold??Kr),mo=Tr.inside??!!zr.stacking;if(ro){if(Pr=Ov(ro),Tr.overflow!=="allow"||Tr.crop!==!1||zr.clip!==!1){Pr.y<0&&(Pr.height+=Pr.y,Pr.y=0);let bo=Pr.y+Pr.height-Kr;bo>0&&bo<Pr.height-1&&(Pr.height-=bo)}qr&&(Pr={x:Kr-Pr.y-Pr.height,y:Jr-Pr.x-Pr.width,width:Pr.height,height:Pr.width}),mo||(qr?(Pr.x+=fo?0:Pr.width,Pr.width=0):(Pr.y+=fo?Pr.height:0,Pr.height=0))}Tr.align??(Tr.align=!qr||mo?"center":fo?"right":"left"),Tr.verticalAlign??(Tr.verticalAlign=qr||mo?"middle":fo?"top":"bottom"),yg.prototype.alignDataLabel.call(this,vr,Er,Tr,Pr,Nr),Tr.inside&&vr.contrastColor&&Er.css({color:vr.contrastColor})}Ur.compose=function(vr){vd.compose(yg),cp(Fm,"ColumnDataLabel")&&(vr.prototype.alignDataLabel=mr)}})(Sr||(Sr={}));let vh=Sr,{extend:Bm,merge:vg}=nl;class Wx extends am{}Wx.defaultOptions=vg(am.defaultOptions,{}),Bm(Wx.prototype,{inverted:!0}),nh.registerSeriesType("bar",Wx);let{column:ff,line:bg}=nh.seriesTypes,{addEvent:Gx,extend:Zd,merge:Lv}=nl;class zm extends bg{applyJitter(){let mr=this,vr=this.options.jitter,Er=this.points.length;vr&&this.points.forEach(function(Tr,Pr){["x","y"].forEach(function(Nr,$r){if(vr[Nr]&&!Tr.isNull){let zr=`plot${Nr.toUpperCase()}`,qr=mr[`${Nr}Axis`],Jr=vr[Nr]*qr.transA;if(qr&&!qr.logarithmic){let Kr=Math.max(0,(Tr[zr]||0)-Jr),ro=Math.min(qr.len,(Tr[zr]||0)+Jr);Tr[zr]=Kr+(ro-Kr)*(function(fo){let mo=1e4*Math.sin(fo);return mo-Math.floor(mo)})(Pr+$r*Er),Nr==="x"&&(Tr.clientX=Tr.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}zm.defaultOptions=Lv(bg.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Zd(zm.prototype,{drawTracker:ff.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Gx(zm,"afterTranslate",function(){this.applyJitter()}),nh.registerSeriesType("scatter",zm);let{deg2rad:$v}=Fr,{fireEvent:_g,isNumber:Jg,pick:up,relativeLength:Fh}=nl;(function(Ur){Ur.getCenter=function(){let mr=this.options,vr=this.chart,Er=2*(mr.slicedOffset||0),Tr=vr.plotWidth-2*Er,Pr=vr.plotHeight-2*Er,Nr=mr.center,$r=Math.min(Tr,Pr),zr=mr.thickness,qr,Jr=mr.size,Kr=mr.innerSize||0,ro,fo;typeof Jr=="string"&&(Jr=parseFloat(Jr)),typeof Kr=="string"&&(Kr=parseFloat(Kr));let mo=[up(Nr?.[0],"50%"),up(Nr?.[1],"50%"),up(Jr&&Jr<0?void 0:mr.size,"100%"),up(Kr&&Kr<0?void 0:mr.innerSize||0,"0%")];for(!vr.angular||this instanceof gd||(mo[3]=0),ro=0;ro<4;++ro)fo=mo[ro],qr=ro<2||ro===2&&/%$/.test(fo),mo[ro]=Fh(fo,[Tr,Pr,$r,mo[2]][ro])+(qr?Er:0);return mo[3]>mo[2]&&(mo[3]=mo[2]),Jg(zr)&&2*zr<mo[2]&&zr>0&&(mo[3]=mo[2]-2*zr),_g(this,"afterGetCenter",{positions:mo}),mo},Ur.getStartAndEndRadians=function(mr,vr){let Er=Jg(mr)?mr:0,Tr=Jg(vr)&&vr>Er&&vr-Er<360?vr:Er+360;return{start:$v*(Er+-90),end:$v*(Tr+-90)}}})(jr||(jr={}));let om=jr,{setAnimation:ex}=Wc,{addEvent:$p,defined:Iv,extend:Fv,isNumber:Cb,pick:Vx,relativeLength:Bv}=nl;class Qd extends Tf{getConnectorPath(mr){let vr=mr.dataLabelPosition,Er=mr.options||{},Tr=Er.connectorShape,Pr=this.connectorShapes[Tr]||Tr;return vr&&Pr.call(this,{...vr.computed,alignment:vr.alignment},vr.connectorPosition,Er)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(mr){let vr=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(vr.x,vr.y,vr.r+mr,vr.r+mr,{innerR:vr.r-1,start:vr.start,end:vr.end,borderRadius:vr.borderRadius})}constructor(mr,vr,Er){super(mr,vr,Er),this.half=0,this.name??(this.name=mr.chart.options.lang.pieSliceName);let Tr=Pr=>{this.slice(Pr.type==="select")};$p(this,"select",Tr),$p(this,"unselect",Tr)}isValid(){return Cb(this.y)&&this.y>=0}setVisible(mr,vr=!0){mr!==this.visible&&this.update({visible:mr??!this.visible},vr,void 0,!1)}slice(mr,vr,Er){let Tr=this.series;ex(Er,Tr.chart),vr=Vx(vr,!0),this.sliced=this.options.sliced=mr=Iv(mr)?mr:!this.sliced,Tr.options.data[Tr.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Fv(Qd.prototype,{connectorShapes:{fixedOffset:function(Ur,mr,vr){let Er=mr.breakAt,Tr=mr.touchingSliceAt,Pr=vr.softConnector?["C",Ur.x+(Ur.alignment==="left"?-5:5),Ur.y,2*Er.x-Tr.x,2*Er.y-Tr.y,Er.x,Er.y]:["L",Er.x,Er.y];return[["M",Ur.x,Ur.y],Pr,["L",Tr.x,Tr.y]]},straight:function(Ur,mr){let vr=mr.touchingSliceAt;return[["M",Ur.x,Ur.y],["L",vr.x,vr.y]]},crookedLine:function(Ur,mr,vr){let{angle:Er=this.angle||0,breakAt:Tr,touchingSliceAt:Pr}=mr,{series:Nr}=this,[$r,zr,qr]=Nr.center,Jr=qr/2,{plotLeft:Kr,plotWidth:ro}=Nr.chart,fo=Ur.alignment==="left",{x:mo,y:bo}=Ur,vo=Tr.x;if(vr.crookDistance){let To=Bv(vr.crookDistance,1);vo=fo?$r+Jr+(ro+Kr-$r-Jr)*(1-To):Kr+($r-Jr)*To}else vo=$r+(zr-bo)*Math.tan(Er-Math.PI/2);let yo=[["M",mo,bo]];return(fo?vo<=mo&&vo>=Tr.x:vo>=mo&&vo<=Tr.x)&&yo.push(["L",vo,bo]),yo.push(["L",Tr.x,Tr.y],["L",Pr.x,Pr.y]),yo}}});let{getStartAndEndRadians:kb}=om,{noop:Od}=Fr,{clamp:Ab,extend:Tb,fireEvent:zv,merge:hp,pick:Yy}=nl;class Ux extends gd{animate(mr){let vr=this,Er=vr.points,Tr=vr.startAngleRad;mr||Er.forEach(function(Pr){let Nr=Pr.graphic,$r=Pr.shapeArgs;Nr&&$r&&(Nr.attr({r:Yy(Pr.startR,vr.center&&vr.center[3]/2),start:Tr,end:Tr}),Nr.animate({r:$r.r,start:$r.start,end:$r.end},vr.options.animation))})}drawEmpty(){let mr,vr,Er=this.startAngleRad,Tr=this.endAngleRad,Pr=this.options;this.total===0&&this.center?(mr=this.center[0],vr=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(mr,vr,this.center[1]/2,0,Er,Tr).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:wf.arc(mr,vr,this.center[2]/2,0,{start:Er,end:Tr,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Pr.borderWidth,fill:Pr.fillColor||"none",stroke:Pr.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let mr=this.chart.renderer;this.points.forEach(function(vr){vr.graphic&&vr.hasNewShapeType()&&(vr.graphic=vr.graphic.destroy()),vr.graphic||(vr.graphic=mr[vr.shapeType](vr.shapeArgs).add(vr.series.group),vr.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(mr,vr,Er,Tr){let Pr=this.center,Nr=this.radii?this.radii[Er.index]||0:Pr[2]/2,$r=Tr.dataLabelPosition,zr=$r?.distance||0,qr=Math.asin(Ab((mr-Pr[1])/(Nr+zr),-1,1));return Pr[0]+Math.cos(qr)*(Nr+zr)*(vr?-1:1)+(zr>0?(vr?-1:1)*(Tr.padding||0):0)}hasData(){return this.points.some(mr=>mr.visible)}redrawPoints(){let mr,vr,Er,Tr,Pr=this,Nr=Pr.chart;this.drawEmpty(),Pr.group&&!Nr.styledMode&&Pr.group.shadow(Pr.options.shadow),Pr.points.forEach(function($r){let zr={};vr=$r.graphic,!$r.isNull&&vr?(Tr=$r.shapeArgs,mr=$r.getTranslate(),Nr.styledMode||(Er=Pr.pointAttribs($r,$r.selected&&"select")),$r.delayedRendering?(vr.setRadialReference(Pr.center).attr(Tr).attr(mr),Nr.styledMode||vr.attr(Er).attr({"stroke-linejoin":"round"}),$r.delayedRendering=!1):(vr.setRadialReference(Pr.center),Nr.styledMode||hp(!0,zr,Er),hp(!0,zr,Tr,mr),vr.animate(zr)),vr.attr({visibility:$r.visible?"inherit":"hidden"}),vr.addClass($r.getClassName(),!0)):vr&&($r.graphic=vr.destroy())})}sortByAngle(mr,vr){mr.sort(function(Er,Tr){return Er.angle!==void 0&&(Tr.angle-Er.angle)*vr})}translate(mr){zv(this,"translate"),this.generatePoints();let vr=this.options,Er=vr.slicedOffset,Tr=kb(vr.startAngle,vr.endAngle),Pr=this.startAngleRad=Tr.start,Nr=(this.endAngleRad=Tr.end)-Pr,$r=this.points,zr=vr.ignoreHiddenPoint,qr=$r.length,Jr,Kr,ro,fo,mo,bo,vo,yo=0;for(mr||(this.center=mr=this.getCenter()),bo=0;bo<qr;bo++){vo=$r[bo],Jr=Pr+yo*Nr,vo.isValid()&&(!zr||vo.visible)&&(yo+=vo.percentage/100),Kr=Pr+yo*Nr;let To={x:mr[0],y:mr[1],r:mr[2]/2,innerR:mr[3]/2,start:Math.round(1e3*Jr)/1e3,end:Math.round(1e3*Kr)/1e3};vo.shapeType="arc",vo.shapeArgs=To,(ro=(Kr+Jr)/2)>1.5*Math.PI?ro-=2*Math.PI:ro<-Math.PI/2&&(ro+=2*Math.PI),vo.slicedTranslation={translateX:Math.round(Math.cos(ro)*Er),translateY:Math.round(Math.sin(ro)*Er)},fo=Math.cos(ro)*mr[2]/2,mo=Math.sin(ro)*mr[2]/2,vo.tooltipPos=[mr[0]+.7*fo,mr[1]+.7*mo],vo.half=+(ro<-Math.PI/2||ro>Math.PI/2),vo.angle=ro}zv(this,"afterTranslate")}updateTotals(){let mr=this.points,vr=mr.length,Er=this.options.ignoreHiddenPoint,Tr,Pr,Nr=0;for(Tr=0;Tr<vr;Tr++)(Pr=mr[Tr]).isValid()&&(!Er||Pr.visible)&&(Nr+=Pr.y);for(Tr=0,this.total=Nr;Tr<vr;Tr++)(Pr=mr[Tr]).percentage=Nr>0&&(Pr.visible||!Er)?Pr.y/Nr*100:0,Pr.total=Nr}}Ux.defaultOptions=hp(gd.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Tb(Ux.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:am.prototype.drawTracker,getCenter:om.getCenter,getSymbol:Od,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:am.prototype.pointAttribs,pointClass:Qd,requireSorting:!1,searchPoint:Od,trackerGroups:["group","dataLabelsGroup"]}),nh.registerSeriesType("pie",Ux);let{composed:tx,noop:Pb}=Fr,{distribute:Yx}=vc,{series:Hv}=nh,{arrayMax:Db,clamp:Xx,defined:Xy,isNumber:i0,pick:r0,pushUnique:s0,relativeLength:Wv}=nl;(function(Ur){let mr={radialDistributionY:function(Nr,$r){return($r.dataLabelPosition?.top||0)+Nr.distributeBox.pos},radialDistributionX:function(Nr,$r,zr,qr,Jr){let Kr=Jr.dataLabelPosition;return Nr.getX(zr<(Kr?.top||0)+2||zr>(Kr?.bottom||0)-2?qr:zr,$r.half,$r,Jr)},justify:function(Nr,$r,zr,qr){return qr[0]+(Nr.half?-1:1)*(zr+($r.dataLabelPosition?.distance||0))},alignToPlotEdges:function(Nr,$r,zr,qr){let Jr=Nr.getBBox().width;return $r?Jr+qr:zr-Jr-qr},alignToConnectors:function(Nr,$r,zr,qr){let Jr=0,Kr;return Nr.forEach(function(ro){(Kr=ro.dataLabel.getBBox().width)>Jr&&(Jr=Kr)}),$r?Jr+qr:zr-Jr-qr}};function vr(Nr,$r){let zr=Math.PI/2,{start:qr=0,end:Jr=0}=Nr.shapeArgs||{},Kr=Nr.angle||0;$r>0&&qr<zr&&Jr>zr&&Kr>zr/2&&Kr<1.5*zr&&(Kr=Kr<=zr?Math.max(zr/2,(qr+zr)/2):Math.min(1.5*zr,(zr+Jr)/2));let{center:ro,options:fo}=this,mo=ro[2]/2,bo=Math.cos(Kr),vo=Math.sin(Kr),yo=ro[0]+bo*mo,To=ro[1]+vo*mo,Do=Math.min((fo.slicedOffset||0)+(fo.borderWidth||0),$r/5);return{natural:{x:yo+bo*$r,y:To+vo*$r},computed:{},alignment:$r<0?"center":Nr.half?"right":"left",connectorPosition:{angle:Kr,breakAt:{x:yo+bo*Do,y:To+vo*Do},touchingSliceAt:{x:yo,y:To}},distance:$r}}function Er(){let Nr=this,$r=Nr.points,zr=Nr.chart,qr=zr.plotWidth,Jr=zr.plotHeight,Kr=zr.plotLeft,ro=Math.round(zr.chartWidth/3),fo=Nr.center,mo=fo[2]/2,bo=fo[1],vo=[[],[]],yo=[0,0,0,0],To=Nr.dataLabelPositioners,Do,Lo,Wo,Uo=0;Nr.visible&&Nr.hasDataLabels?.()&&($r.forEach(Yo=>{(Yo.dataLabels||[]).forEach(Bo=>{Bo.shortened&&(Bo.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Bo.shortened=!1)})}),Hv.prototype.drawDataLabels.apply(Nr),$r.forEach(Yo=>{(Yo.dataLabels||[]).forEach((Bo,pl)=>{let xl=fo[2]/2,ml=Bo.options,Ol=Wv(ml?.distance||0,xl);pl===0&&vo[Yo.half].push(Yo),!Xy(ml?.style?.width)&&Bo.getBBox().width>ro&&(Bo.css({width:Math.round(.7*ro)+"px"}),Bo.shortened=!0),Bo.dataLabelPosition=this.getDataLabelPosition(Yo,Ol),Uo=Math.max(Uo,Ol)})}),vo.forEach((Yo,Bo)=>{let pl=Yo.length,xl=[],ml,Ol,Xl=0,Zl;pl&&(Nr.sortByAngle(Yo,Bo-.5),Uo>0&&(ml=Math.max(0,bo-mo-Uo),Ol=Math.min(bo+mo+Uo,zr.plotHeight),Yo.forEach(Ml=>{(Ml.dataLabels||[]).forEach(Fl=>{let Kl=Fl.dataLabelPosition;Kl&&Kl.distance>0&&(Kl.top=Math.max(0,bo-mo-Kl.distance),Kl.bottom=Math.min(bo+mo+Kl.distance,zr.plotHeight),Xl=Fl.getBBox().height||21,Fl.lineHeight=zr.renderer.fontMetrics(Fl.text||Fl).h+2*Fl.padding,Ml.distributeBox={target:(Fl.dataLabelPosition?.natural.y||0)-Kl.top+Fl.lineHeight/2,size:Xl,rank:Ml.y},xl.push(Ml.distributeBox))})}),Yx(xl,Zl=Ol+Xl-ml,Zl/5)),Yo.forEach(Ml=>{(Ml.dataLabels||[]).forEach(Fl=>{let Kl=Fl.options||{},Bc=Ml.distributeBox,kc=Fl.dataLabelPosition,ad=kc?.natural.y||0,gc=Kl.connectorPadding||0,pc=Fl.lineHeight||21,mu=(pc-Fl.getBBox().height)/2,zc=0,Bu=ad,cu="inherit";if(kc){if(xl&&Xy(Bc)&&kc.distance>0&&(Bc.pos===void 0?cu="hidden":(Wo=Bc.size,Bu=To.radialDistributionY(Ml,Fl))),Kl.justify)zc=To.justify(Ml,Fl,mo,fo);else switch(Kl.alignTo){case"connectors":zc=To.alignToConnectors(Yo,Bo,qr,Kr);break;case"plotEdges":zc=To.alignToPlotEdges(Fl,Bo,qr,Kr);break;default:zc=To.radialDistributionX(Nr,Ml,Bu-mu,ad,Fl)}if(kc.attribs={visibility:cu,align:kc.alignment},kc.posAttribs={x:zc+(Kl.x||0)+({left:gc,right:-gc}[kc.alignment]||0),y:Bu+(Kl.y||0)-pc/2},kc.computed.x=zc,kc.computed.y=Bu-mu,r0(Kl.crop,!0)){let $l;zc-(Lo=Fl.getBBox().width)<gc&&Bo===1?($l=Math.round(Lo-zc+gc),yo[3]=Math.max($l,yo[3])):zc+Lo>qr-gc&&Bo===0&&($l=Math.round(zc+Lo-qr+gc),yo[1]=Math.max($l,yo[1])),Bu-Wo/2<0?yo[0]=Math.max(Math.round(-Bu+Wo/2),yo[0]):Bu+Wo/2>Jr&&(yo[2]=Math.max(Math.round(Bu+Wo/2-Jr),yo[2])),kc.sideOverflow=$l}}})}))}),(Db(yo)===0||this.verifyDataLabelOverflow(yo))&&(this.placeDataLabels(),this.points.forEach(Yo=>{(Yo.dataLabels||[]).forEach(Bo=>{let{connectorColor:pl,connectorWidth:xl=1}=Bo.options||{},ml=Bo.dataLabelPosition;if(i0(xl)){let Ol;Do=Bo.connector,ml&&ml.distance>0?(Ol=!Do,Do||(Bo.connector=Do=zr.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Yo.colorIndex+(Yo.className?" "+Yo.className:"")).add(Nr.dataLabelsGroup)),zr.styledMode||Do.attr({"stroke-width":xl,stroke:pl||Yo.color||"#666666"}),Do[Ol?"attr":"animate"]({d:Yo.getConnectorPath(Bo)}),Do.attr({visibility:ml.attribs?.visibility})):Do&&(Bo.connector=Do.destroy())}})})))}function Tr(){this.points.forEach(Nr=>{(Nr.dataLabels||[]).forEach($r=>{let zr=$r.dataLabelPosition;zr?(zr.sideOverflow&&($r.css({width:Math.max($r.getBBox().width-zr.sideOverflow,0)+"px",textOverflow:$r.options?.style?.textOverflow||"ellipsis"}),$r.shortened=!0),$r.attr(zr.attribs),$r[$r.moved?"animate":"attr"](zr.posAttribs),$r.moved=!0):$r&&$r.attr({y:-9999})}),delete Nr.distributeBox},this)}function Pr(Nr){let $r=this.center,zr=this.options,qr=zr.center,Jr=zr.minSize||80,Kr=Jr,ro=zr.size!==null;return!ro&&(qr[0]!==null?Kr=Math.max($r[2]-Math.max(Nr[1],Nr[3]),Jr):(Kr=Math.max($r[2]-Nr[1]-Nr[3],Jr),$r[0]+=(Nr[3]-Nr[1])/2),qr[1]!==null?Kr=Xx(Kr,Jr,$r[2]-Math.max(Nr[0],Nr[2])):(Kr=Xx(Kr,Jr,$r[2]-Nr[0]-Nr[2]),$r[1]+=(Nr[0]-Nr[2])/2),Kr<$r[2]?($r[2]=Kr,$r[3]=Math.min(zr.thickness?Math.max(0,Kr-2*zr.thickness):Math.max(0,Wv(zr.innerSize||0,Kr)),Kr),this.translate($r),this.drawDataLabels&&this.drawDataLabels()):ro=!0),ro}Ur.compose=function(Nr){if(vd.compose(Hv),s0(tx,"PieDataLabel")){let $r=Nr.prototype;$r.dataLabelPositioners=mr,$r.alignDataLabel=Pb,$r.drawDataLabels=Er,$r.getDataLabelPosition=vr,$r.placeDataLabels=Tr,$r.verifyDataLabelOverflow=Pr}}})(Dr||(Dr={}));let Mb=Dr;(function(Ur){Ur.getCenterOfPoints=function(mr){let vr=mr.reduce((Er,Tr)=>(Er.x+=Tr.x,Er.y+=Tr.y,Er),{x:0,y:0});return{x:vr.x/mr.length,y:vr.y/mr.length}},Ur.getDistanceBetweenPoints=function(mr,vr){return Math.sqrt(Math.pow(vr.x-mr.x,2)+Math.pow(vr.y-mr.y,2))},Ur.getAngleBetweenPoints=function(mr,vr){return Math.atan2(vr.x-mr.x,vr.y-mr.y)},Ur.pointInPolygon=function({x:mr,y:vr},Er){let Tr=Er.length,Pr,Nr,$r=!1;for(Pr=0,Nr=Tr-1;Pr<Tr;Nr=Pr++){let[zr,qr]=Er[Pr],[Jr,Kr]=Er[Nr];qr>vr!=Kr>vr&&mr<(Jr-zr)*(vr-qr)/(Kr-qr)+zr&&($r=!$r)}return $r}})(Ir||(Ir={}));let{pointInPolygon:nx}=Ir,{addEvent:qy,getAlignFactor:qx,fireEvent:Gv,objectEach:Ky,pick:Vv}=nl;function Zy(Ur){let mr=Ur.length,vr=(Jr,Kr)=>!(Kr.x>=Jr.x+Jr.width||Kr.x+Kr.width<=Jr.x||Kr.y>=Jr.y+Jr.height||Kr.y+Kr.height<=Jr.y),Er=(Jr,Kr)=>{for(let ro of Jr)if(nx({x:ro[0],y:ro[1]},Kr))return!0;return!1},Tr,Pr,Nr,$r,zr,qr=!1;for(let Jr=0;Jr<mr;Jr++)(Tr=Ur[Jr])&&(Tr.oldOpacity=Tr.opacity,Tr.newOpacity=1,Tr.absoluteBox=(function(Kr){if(Kr&&(!Kr.alignAttr||Kr.placed)){let ro=Kr.box?0:Kr.padding||0,fo=Kr.alignAttr||{x:Kr.attr("x"),y:Kr.attr("y")},{height:mo,polygon:bo,width:vo}=Kr.getBBox(),yo=qx(Kr.alignValue)*vo;return Kr.width=vo,Kr.height=mo,{x:fo.x+(Kr.parentGroup?.translateX||0)+ro-yo,y:fo.y+(Kr.parentGroup?.translateY||0)+ro,width:vo-2*ro,height:mo-2*ro,polygon:bo}}})(Tr));Ur.sort((Jr,Kr)=>(Kr.labelrank||0)-(Jr.labelrank||0));for(let Jr=0;Jr<mr;++Jr){$r=(Pr=Ur[Jr])&&Pr.absoluteBox;let Kr=$r?.polygon;for(let ro=Jr+1;ro<mr;++ro){zr=(Nr=Ur[ro])&&Nr.absoluteBox;let fo=!1;if($r&&zr&&Pr!==Nr&&Pr.newOpacity!==0&&Nr.newOpacity!==0&&Pr.visibility!=="hidden"&&Nr.visibility!=="hidden"){let mo=zr.polygon;if(Kr&&mo&&Kr!==mo?Er(Kr,mo)&&(fo=!0):vr($r,zr)&&(fo=!0),fo){let bo=Pr.labelrank<Nr.labelrank?Pr:Nr,vo=bo.text;bo.newOpacity=0,vo?.element.querySelector("textPath")&&vo.hide()}}}}for(let Jr of Ur)Qy(Jr,this)&&(qr=!0);qr&&Gv(this,"afterHideAllOverlappingLabels")}function Qy(Ur,mr){let vr,Er=!1;return Ur&&(vr=Ur.newOpacity,Ur.oldOpacity!==vr&&(Ur.hasClass("highcharts-data-label")?(Ur[vr?"removeClass":"addClass"]("highcharts-data-label-hidden"),Er=!0,Ur[Ur.isOld?"animate":"attr"]({opacity:vr},void 0,function(){mr.styledMode||Ur.css({pointerEvents:vr?"auto":"none"})}),Gv(mr,"afterHideOverlappingLabel")):Ur.attr({opacity:vr})),Ur.isOld=!0),Er}function Kx(){let Ur=this,mr=[];for(let vr of Ur.labelCollectors||[])mr=mr.concat(vr());for(let vr of Ur.yAxis||[])vr.stacking&&vr.options.stackLabels&&!vr.options.stackLabels.allowOverlap&&Ky(vr.stacking.stacks,Er=>{Ky(Er,Tr=>{Tr.label&&mr.push(Tr.label)})});for(let vr of Ur.series||[])if(vr.visible&&vr.hasDataLabels?.()){let Er=Tr=>{for(let Pr of Tr)Pr.visible&&(Pr.dataLabels||[]).forEach(Nr=>{let $r=Nr.options||{};Nr.labelrank=Vv($r.labelrank,Pr.labelrank,Pr.shapeArgs?.height),$r.allowOverlap??Number($r.distance)>0?(Nr.oldOpacity=Nr.opacity,Nr.newOpacity=1,Qy(Nr,Ur)):mr.push(Nr)})};Er(vr.nodes||[]),Er(vr.points)}this.hideOverlappingLabels(mr)}let Jy={compose:function(Ur){let mr=Ur.prototype;mr.hideOverlappingLabels||(mr.hideOverlappingLabels=Zy,qy(Ur,"render",Kx))}},{defaultOptions:Uv}=oc,{noop:Ou}=Fr,{addEvent:ev,extend:a0,isObject:ix,merge:tv,relativeLength:Yv}=nl,o0={radius:0,scope:"stack",where:void 0},wg=Ou,Hm=Ou;function Xv(Ur,mr,vr,Er,Tr={}){let Pr=wg(Ur,mr,vr,Er,Tr),{brStart:Nr=!0,brEnd:$r=!0,innerR:zr=0,r:qr=vr,start:Jr=0,end:Kr=0}=Tr;if(Tr.open||!Tr.borderRadius)return Pr;let ro=Kr-Jr,fo=Math.sin(ro/2),mo=Math.max(Math.min(Yv(Tr.borderRadius||0,qr-zr),(qr-zr)/2,qr*fo/(1+fo)),0),bo=Math.min(mo,ro/Math.PI*2*zr),vo=Pr.length-1;for(;vo--;)(Nr||vo!==0&&vo!==3)&&($r||vo!==1&&vo!==2)&&(function(yo,To,Do){let Lo,Wo,Uo,Yo=yo[To],Bo=yo[To+1];if(Bo[0]==="Z"&&(Bo=yo[0]),(Yo[0]==="M"||Yo[0]==="L")&&Bo[0]==="A"?(Lo=Yo,Wo=Bo,Uo=!0):Yo[0]==="A"&&(Bo[0]==="M"||Bo[0]==="L")&&(Lo=Bo,Wo=Yo),Lo&&Wo&&Wo.params){let pl=Wo[1],xl=Wo[5],ml=Wo.params,{start:Ol,end:Xl,cx:Zl,cy:Ml}=ml,Fl=xl?pl-Do:pl+Do,Kl=Fl?Math.asin(Do/Fl):0,Bc=xl?Kl:-Kl,kc=Math.cos(Kl)*Fl;Uo?(ml.start=Ol+Bc,Lo[1]=Zl+kc*Math.cos(Ol),Lo[2]=Ml+kc*Math.sin(Ol),yo.splice(To+1,0,["A",Do,Do,0,0,1,Zl+pl*Math.cos(ml.start),Ml+pl*Math.sin(ml.start)])):(ml.end=Xl-Bc,Wo[6]=Zl+pl*Math.cos(ml.end),Wo[7]=Ml+pl*Math.sin(ml.end),yo.splice(To+1,0,["A",Do,Do,0,0,1,Zl+kc*Math.cos(Xl),Ml+kc*Math.sin(Xl)])),Wo[4]=Math.abs(ml.end-ml.start)<Math.PI?0:1}})(Pr,vo,vo>1?bo:mo);return Pr}function nv(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:Ur,yAxis:mr}=this,vr=Ur.stacking==="percent",Er=Uv.plotOptions?.[this.type]?.borderRadius,Tr=Zx(Ur.borderRadius,ix(Er)?Er:{}),Pr=mr.options.reversed;for(let Nr of this.points){let{shapeArgs:$r}=Nr;if(Nr.shapeType==="roundedRect"&&$r){let{width:zr=0,height:qr=0,y:Jr=0}=$r,Kr=Jr,ro=qr;if(Tr.scope==="stack"&&Nr.stackTotal){let vo=mr.translate(vr?100:Nr.stackTotal,!1,!0,!1,!0),yo=mr.translate(Ur.threshold||0,!1,!0,!1,!0),To=this.crispCol(0,Math.min(vo,yo),0,Math.abs(vo-yo));Kr=To.y,ro=To.height}let fo=(Nr.negative?-1:1)*(Pr?-1:1)==-1,mo=Tr.where;!mo&&this.is("waterfall")&&Math.abs((Nr.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(mo="all"),mo||(mo="end");let bo=Math.min(Yv(Tr.radius,zr),zr/2,mo==="all"?qr/2:1/0)||0;mo==="end"&&(fo&&(Kr-=bo),ro+=bo),a0($r,{brBoxHeight:ro,brBoxY:Kr,r:bo})}}}}function Zx(Ur,mr){return ix(Ur)||(Ur={radius:Ur||0}),tv(o0,mr,Ur)}function Wm(){let Ur=Zx(this.options.borderRadius);for(let mr of this.points){let vr=mr.shapeArgs;vr&&(vr.borderRadius=Yv(Ur.radius,(vr.r||0)-(vr.innerR||0)))}}function Ip(Ur,mr,vr,Er,Tr={}){let Pr=Hm(Ur,mr,vr,Er,Tr),{r:Nr=0,brBoxHeight:$r=Er,brBoxY:zr=mr}=Tr,qr=mr-zr,Jr=zr+$r-(mr+Er),Kr=qr-Nr>-.1?0:Nr,ro=Jr-Nr>-.1?0:Nr,fo=Math.max(Kr&&qr,0),mo=Math.max(ro&&Jr,0),bo=[Ur+Kr,mr],vo=[Ur+vr-Kr,mr],yo=[Ur+vr,mr+Kr],To=[Ur+vr,mr+Er-ro],Do=[Ur+vr-ro,mr+Er],Lo=[Ur+ro,mr+Er],Wo=[Ur,mr+Er-ro],Uo=[Ur,mr+Kr],Yo=(Bo,pl)=>Math.sqrt(Math.pow(Bo,2)-Math.pow(pl,2));if(fo){let Bo=Yo(Kr,Kr-fo);bo[0]-=Bo,vo[0]+=Bo,yo[1]=Uo[1]=mr+Kr-fo}if(Er<Kr-fo){let Bo=Yo(Kr,Kr-fo-Er);yo[0]=To[0]=Ur+vr-Kr+Bo,Do[0]=Math.min(yo[0],Do[0]),Lo[0]=Math.max(To[0],Lo[0]),Wo[0]=Uo[0]=Ur+Kr-Bo,yo[1]=Uo[1]=mr+Er}if(mo){let Bo=Yo(ro,ro-mo);Do[0]+=Bo,Lo[0]-=Bo,To[1]=Wo[1]=mr+Er-ro+mo}if(Er<ro-mo){let Bo=Yo(ro,ro-mo-Er);yo[0]=To[0]=Ur+vr-ro+Bo,vo[0]=Math.min(yo[0],vo[0]),bo[0]=Math.max(To[0],bo[0]),Wo[0]=Uo[0]=Ur+ro-Bo,To[1]=Wo[1]=mr}return Pr.length=0,Pr.push(["M",...bo],["L",...vo],["A",Kr,Kr,0,0,1,...yo],["L",...To],["A",ro,ro,0,0,1,...Do],["L",...Lo],["A",ro,ro,0,0,1,...Wo],["L",...Uo],["A",Kr,Kr,0,0,1,...bo],["Z"]),Pr}let{diffObjects:Qx,extend:l0,find:Nb,merge:Ob,pick:Jx,uniqueKey:Lb}=nl;(function(Ur){function mr(Er,Tr){let Pr=Er.condition;(Pr.callback||function(){return this.chartWidth<=Jx(Pr.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Jx(Pr.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Jx(Pr.minWidth,0)&&this.chartHeight>=Jx(Pr.minHeight,0)}).call(this)&&Tr.push(Er._id)}function vr(Er,Tr){let Pr=this.options.responsive,Nr=this.currentResponsive,$r=[],zr;!Tr&&Pr&&Pr.rules&&Pr.rules.forEach(Kr=>{Kr._id===void 0&&(Kr._id=Lb()),this.matchResponsiveRule(Kr,$r)},this);let qr=Ob(...$r.map(Kr=>Nb(Pr?.rules||[],ro=>ro._id===Kr)).map(Kr=>Kr?.chartOptions));qr.isResponsiveOptions=!0,$r=$r.toString()||void 0;let Jr=Nr?.ruleIds;$r!==Jr&&(Nr&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(Nr.undoOptions,Er,!0),this.updatingResponsive=!1),$r?((zr=Qx(qr,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:$r,mergedOptions:qr,undoOptions:zr},this.updatingResponsive||this.update(qr,Er,!0)):this.currentResponsive=void 0)}Ur.compose=function(Er){let Tr=Er.prototype;return Tr.matchResponsiveRule||l0(Tr,{matchResponsiveRule:mr,setResponsive:vr}),Er}})(Mr||(Mr={}));let c0=Mr;Fr.AST=_u,Fr.Axis=Tu,Fr.Chart=Of,Fr.Color=Hl,Fr.DataLabel=vd,Fr.DataTableCore=Pm,Fr.Fx=Cl,Fr.HTMLElement=dc,Fr.Legend=Cy,Fr.LegendSymbol=lg,Fr.OverlappingDataLabels=Fr.OverlappingDataLabels||Jy,Fr.PlotLineOrBand=Cp,Fr.Point=Tf,Fr.Pointer=Sh,Fr.RendererRegistry=Mo,Fr.Series=gd,Fr.SeriesRegistry=nh,Fr.StackItem=yb,Fr.SVGElement=nf,Fr.SVGRenderer=Mg,Fr.Templating=jo,Fr.Tick=Oh,Fr.Time=rl,Fr.Tooltip=xx,Fr.animate=Wc.animate,Fr.animObject=Wc.animObject,Fr.chart=Of.chart,Fr.color=Hl.parse,Fr.dateFormat=jo.dateFormat,Fr.defaultOptions=oc.defaultOptions,Fr.distribute=vc.distribute,Fr.format=jo.format,Fr.getDeferredAnimation=Wc.getDeferredAnimation,Fr.getOptions=oc.getOptions,Fr.numberFormat=jo.numberFormat,Fr.seriesType=nh.seriesType,Fr.setAnimation=Wc.setAnimation,Fr.setOptions=oc.setOptions,Fr.stop=Wc.stop,Fr.time=oc.defaultTime,Fr.timers=Cl.timers,{compose:function(Ur,mr,vr){let Er=Ur.types.pie;if(!mr.symbolCustomAttribs.includes("borderRadius")){let Tr=vr.prototype.symbols;ev(Ur,"afterColumnTranslate",nv,{order:9}),ev(Er,"afterTranslate",Wm),mr.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),wg=Tr.arc,Hm=Tr.roundedRect,Tr.arc=Xv,Tr.roundedRect=Ip}},optionsToObject:Zx}.compose(Fr.Series,Fr.SVGElement,Fr.SVGRenderer),vh.compose(Fr.Series.types.column),vd.compose(Fr.Series),Ep.compose(Fr.Axis),dc.compose(Fr.SVGRenderer),Cy.compose(Fr.Chart),Em.compose(Fr.Axis),Jy.compose(Fr.Chart),Mb.compose(Fr.Series.types.pie),Cp.compose(Fr.Chart,Fr.Axis),Sh.compose(Fr.Chart),c0.compose(Fr.Chart),im.compose(Fr.Axis,Fr.Chart,Fr.Series),kv.compose(Fr.Axis,Fr.Chart,Fr.Series),xx.compose(Fr.Pointer),nl.extend(Fr,nl);let pf=Fr;return Lr.default})())})(highcharts$1)),highcharts$1.exports}var highchartsExports=requireHighcharts();const Highcharts=getDefaultExportFromCjs(highchartsExports);var highchartsReact_min$1={exports:{}},highchartsReact_min=highchartsReact_min$1.exports,hasRequiredHighchartsReact_min;function requireHighchartsReact_min(){return hasRequiredHighchartsReact_min||(hasRequiredHighchartsReact_min=1,(function(tr,Hn){(function(er,nr){tr.exports=nr(requireReact())})(typeof self<"u"?self:highchartsReact_min,function(er){return(function(nr){function ir(sr){if(rr[sr])return rr[sr].exports;var ar=rr[sr]={i:sr,l:!1,exports:{}};return nr[sr].call(ar.exports,ar,ar.exports,ir),ar.l=!0,ar.exports}var rr={};return ir.m=nr,ir.c=rr,ir.d=function(sr,ar,or){ir.o(sr,ar)||Object.defineProperty(sr,ar,{configurable:!1,enumerable:!0,get:or})},ir.n=function(sr){var ar=sr&&sr.__esModule?function(){return sr.default}:function(){return sr};return ir.d(ar,"a",ar),ar},ir.o=function(sr,ar){return Object.prototype.hasOwnProperty.call(sr,ar)},ir.p="",ir(ir.s=0)})([function(nr,ir,rr){function sr(){return sr=Object.assign?Object.assign.bind():function(jr){for(var Dr=1;Dr<arguments.length;Dr++){var Ir=arguments[Dr];for(var Mr in Ir)Object.prototype.hasOwnProperty.call(Ir,Mr)&&(jr[Mr]=Ir[Mr])}return jr},sr.apply(this,arguments)}function ar(jr){return ur(jr)||cr(jr)||lr(jr)||or()}function or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(jr,Dr){if(jr){if(typeof jr=="string")return dr(jr,Dr);var Ir=Object.prototype.toString.call(jr).slice(8,-1);return Ir==="Object"&&jr.constructor&&(Ir=jr.constructor.name),Ir==="Map"||Ir==="Set"?Array.from(jr):Ir==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ir)?dr(jr,Dr):void 0}}function cr(jr){if(typeof Symbol<"u"&&jr[Symbol.iterator]!=null||jr["@@iterator"]!=null)return Array.from(jr)}function ur(jr){if(Array.isArray(jr))return dr(jr)}function dr(jr,Dr){(Dr==null||Dr>jr.length)&&(Dr=jr.length);for(var Ir=0,Mr=new Array(Dr);Ir<Dr;Ir++)Mr[Ir]=jr[Ir];return Mr}function fr(jr){"@babel/helpers - typeof";return(fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Dr){return typeof Dr}:function(Dr){return Dr&&typeof Symbol=="function"&&Dr.constructor===Symbol&&Dr!==Symbol.prototype?"symbol":typeof Dr})(jr)}Object.defineProperty(ir,"__esModule",{value:!0}),rr.d(ir,"HighchartsReact",function(){return Sr});var xr=rr(1),yr=rr.n(xr),_r=typeof window<"u"?xr.useLayoutEffect:xr.useEffect,Sr=Object(xr.memo)(Object(xr.forwardRef)(function(jr,Dr){var Ir=Object(xr.useRef)(),Mr=Object(xr.useRef)(),Or=Object(xr.useRef)(jr.constructorType),Lr=Object(xr.useRef)(jr.highcharts);return _r(function(){function Fr(){var Zr=jr.highcharts||(typeof window>"u"?"undefined":fr(window))==="object"&&window.Highcharts,Hr=jr.constructorType||"chart";Zr?Zr[Hr]?jr.options?Mr.current=Zr[Hr](Ir.current,jr.options,jr.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(Mr.current){if(jr.allowChartUpdate!==!1)if(jr.constructorType!==Or.current||jr.highcharts!==Lr.current)Or.current=jr.constructorType,Lr.current=jr.highcharts,Fr();else if(!jr.immutable&&Mr.current){var Vr;(Vr=Mr.current).update.apply(Vr,[jr.options].concat(ar(jr.updateArgs||[!0,!0])))}else Fr()}else Fr()},[jr.options,jr.allowChartUpdate,jr.updateArgs,jr.containerProps,jr.highcharts,jr.constructorType]),_r(function(){return function(){Mr.current&&(Mr.current.destroy(),Mr.current=null)}},[]),Object(xr.useImperativeHandle)(Dr,function(){return{get chart(){return Mr.current},container:Ir}},[]),yr.a.createElement("div",sr({},jr.containerProps,{ref:Ir}))}));ir.default=Sr},function(nr,ir){nr.exports=er}])})})(highchartsReact_min$1)),highchartsReact_min$1.exports}var highchartsReact_minExports=requireHighchartsReact_min();const HighchartsReact=getDefaultExportFromCjs(highchartsReact_minExports);function GlobalShark1DayChart({rawData:tr,isMini:Hn=!0}){const er=reactExports.useMemo(()=>{if(!tr||tr.length===0)return{};const nr=tr.map(sr=>({x:new Date(sr.x).getTime(),y:sr.y})),rr=nr[0].y;return{chart:{type:"area",width:Hn?170:null,height:Hn?120:null,backgroundColor:Hn?"transparent":"#FFFFFF",margin:Hn?[0,0,0,0]:void 0,spacing:Hn?[0,0,0,0]:[10,10,15,10]},title:{text:""},credits:{enabled:!1},legend:{enabled:!1},xAxis:{visible:!Hn,type:"datetime",labels:{format:"{value:%H:%M}",style:{color:"#999"}},lineWidth:0,tickWidth:0},yAxis:{visible:!Hn,title:{text:null},gridLineColor:"#eee",gridLineDashStyle:"Dashed",softMin:rr-.5,softMax:rr+.5,plotLines:[{value:rr,color:"#666",width:1,dashStyle:"ShortDot",zIndex:5,label:{text:`Ref: ${rr}`,align:"right",style:{color:"#666",fontSize:"10px"}}}]},tooltip:{enabled:!Hn},plotOptions:{area:{marker:{enabled:!1},lineWidth:2,states:{hover:{enabled:!0}}}},series:[{name:"Gi",data:nr,threshold:rr,color:"rgba(34, 197, 94, 0.7)",lineColor:"#16a34a",negativeColor:"rgba(239, 68, 68, 0.7)",negativeFillColor:"rgba(239, 68, 68, 0.7)"}]}},[tr]);return jsxRuntimeExports.jsx("div",{style:{border:Hn?"1px solid #e5e7eb":"",borderRadius:Hn?"12px":"0px",width:Hn?"170px":"100%",height:Hn?"120px":"100%",overflow:Hn?"hidden":"none"},children:jsxRuntimeExports.jsx(HighchartsReact,{highcharts:Highcharts,options:er})})}function ModalFullChartShark1Day({setIsShowFullChart:tr,chartSelect:Hn,navigate:er,setChartSelect:nr}){const ir=useLocation();return jsxRuntimeExports.jsxs("div",{className:"modal-overlay",onClick:rr=>{rr.target===rr.currentTarget&&(tr(!1),nr(null),er(ir.pathname))},children:[jsxRuntimeExports.jsx("div",{className:"modal-close",onClick:()=>{tr(!1),nr(null),er(ir.pathname)},children:"X"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"80vh"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:"40px"},children:Hn?.name}),jsxRuntimeExports.jsx(GlobalShark1DayChart,{rawData:Hn?.data,isMini:!1})]})]})}function GlobalShark1Day({data:tr=[],zoomable:Hn=!1}){const[er]=useSearchParams(),nr=er.get("name"),[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState(null),or=useNavigate(),lr=useLocation();reactExports.useEffect(()=>{if(nr&&tr.length>0){const ur=tr.find(dr=>dr.name===nr);ur&&(ar(ur),rr(!0))}},[nr,tr]);const cr=ur=>(ur?new Date(ur):new Date).toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",hour:"2-digit",minute:"2-digit",second:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"});return jsxRuntimeExports.jsxs("div",{style:{width:"100%",minHeight:"100vh",marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#08F405",fontWeight:600,marginBottom:20,textAlign:"center"},children:"Theo di ETF mi nht trong ngy"}),jsxRuntimeExports.jsx("div",{style:{minHeight:480,width:"100%",display:"flex",gap:20,flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:tr.length>0?tr.map((ur,dr)=>{const fr=Array.isArray(ur?.data)?ur.data:[];return jsxRuntimeExports.jsxs("div",{style:{width:"calc(50% - 20px)",marginBottom:30,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{Hn&&(rr(!0),or({pathname:lr.pathname,search:`?name=${ur?.name}`}))},children:[jsxRuntimeExports.jsx("p",{style:{fontSize:12,color:"#fff",marginBottom:8},children:ur?.name}),jsxRuntimeExports.jsx(GlobalShark1DayChart,{rawData:fr}),jsxRuntimeExports.jsx("div",{style:{fontSize:11,color:"#08F405",marginTop:10,fontWeight:"bold",border:"1px solid rgba(8, 244, 5, 0.4)",padding:"4px 10px",borderRadius:"4px",display:"inline-block"},children:cr(ur?.date)})]},dr)}):jsxRuntimeExports.jsx("div",{style:{color:"#fff",textAlign:"center"},children:"ang ti d liu..."})}),ir&&sr&&jsxRuntimeExports.jsx(ModalFullChartShark1Day,{setIsShowFullChart:rr,chartSelect:sr,setChartSelect:ar,navigate:or})]})}function createJustETFSocket(tr,Hn,er){const nr=`wss://api.mobile.stock-data-subscriptions.justetf.com/?subscription=trend&parameters=isins:${tr}/currency:EUR/language:en`;let ir=new WebSocket(nr);return er&&er("Connecting..."),ir.onopen=()=>{er&&er("Connected")},ir.onmessage=rr=>{try{const sr=JSON.parse(rr.data);Hn&&Hn(sr)}catch{Hn&&Hn(rr.data)}},ir.onerror=rr=>{console.error("WebSocket error:",rr),er&&er("Error")},ir.onclose=()=>{er&&er("Closed")},()=>{ir.close()}}const DEFAULT_HEADERS={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0"};async function fetchPerformanceChart(tr){const Hn=`https://www.justetf.com/api/etfs/${tr}/performance-chart?locale=en&currency=EUR&valuesType=MARKET_VALUE&reduceData=false&includeDividends=false&features=DIVIDENDS&period=D1`;try{console.log("[fetchPerformanceChart] Requesting URL:",Hn);const er=await fetch(Hn,{method:"GET",headers:DEFAULT_HEADERS});if(console.log("[fetchPerformanceChart] Response status:",er.status,er.statusText),!er.ok){const ir=await er.text().catch(()=>"");throw console.error("[fetchPerformanceChart] Server error:",er.status,ir.substring(0,200)),new Error("HTTP "+er.status)}const nr=await er.json();return console.log("[fetchPerformanceChart] Success, data received:",nr?"yes":"no"),nr}catch(er){return console.error("[fetchPerformanceChart] Error:",er.message),null}}const getChangeColor=tr=>{const er=Math.min(Math.abs(tr)/2,1);return tr<0?`rgb(${180+er*75}, ${80-er*80}, ${80-er*80})`:`rgb(${80-er*80}, ${180+er*75}, ${80-er*80})`},ETFSingleRow=({slug:tr,name:Hn,nameColorClass:er,price:nr,changeAbsolute:ir,changePercent:rr})=>jsxRuntimeExports.jsxs("div",{className:"etf-row",children:[jsxRuntimeExports.jsx(Link,{to:`/EtfSharkDetail/${tr}`,className:`etf-name ${er}`,children:Hn}),jsxRuntimeExports.jsxs("div",{className:"etf-data",children:[jsxRuntimeExports.jsxs("div",{className:"data-box price-box",children:["EUR ",nr]}),jsxRuntimeExports.jsxs("div",{className:"data-box change-box",style:{backgroundColor:getChangeColor(ir)},children:[ir," | ",rr]})]})]}),DataEUR=()=>{const[tr,Hn]=reactExports.useState(""),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(!0),dr=["IE000UL6CLP7","IE00B6R52036","IE00B3CNHG25","IE00B7KMNP07","IE00BQQP9F84","IE00BNTVVR89","LU0259322260","IE00BQQP9G91","IE00BDFBTQ78"],fr=["Global X Silver Miners UCITS ETF","IShares Gold Producers UCITS ETF","L&G Gold Mining UCITS ETF","UBS Solactive Global Pure Gold Miners UCITS ETF USD","VanEck Gold Miners UCITS ETF","HANetf AuAg ESG Gold Mining UCITS ETF","Market Access NYSE Arca Gold Bugs UCITS ETF","VanEck Junior Gold Miners UCITS","VanEck S&P Global Mining UCITS ETF A"];return reactExports.useEffect(()=>{const xr=dr.map((yr,_r)=>createJustETFSocket(yr,Sr=>nr(jr=>({...jr,[fr[_r]]:{prc:Sr.dtdPrc.raw,amt:Sr.dtdAmt.raw,ask:Sr?.ask?.raw}})),Sr=>Hn(Sr)));return()=>{xr.forEach(yr=>yr())}},[]),reactExports.useEffect(()=>{(async()=>{const yr=[];for(let _r=0;_r<dr.length;_r++)try{const Sr=await fetchPerformanceChart(dr[_r]);yr.push(Sr.latestQuote.localized)}catch(Sr){console.error("Error fetching chart for",dr[_r],Sr),yr.push("46.13")}ar(yr),ur(!1)})()},[]),reactExports.useEffect(()=>{(()=>{console.log("chart",sr)})()},[sr]),reactExports.useEffect(()=>{const xr=Object.entries(er).map(([yr,_r])=>({name:yr,nameColorClass:"",price:_r.ask,changeAbsolute:_r.amt,changePercent:_r.prc}));rr(xr)},[er]),jsxRuntimeExports.jsxs("div",{className:"dark-background",children:[ir.length===0&&jsxRuntimeExports.jsx("div",{children:"Loading..."}),ir.map((xr,yr)=>jsxRuntimeExports.jsx(ETFSingleRow,{name:xr.name,nameColorClass:xr.nameColorClass,price:xr?.price,changeAbsolute:xr.changeAbsolute,changePercent:xr.changePercent,slug:formatSlug(xr.name)},yr))]})};function formatSlug(tr){return tr.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/&/g,"and").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}function OpinionComponent(){const{day:tr,month:Hn,year:er}=useParams(),[nr,ir]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{let or=new Date,lr=null,cr=0;for(;!lr&&cr<7;){const Sr=String(or.getDate()).padStart(2,"0"),jr=String(or.getMonth()+1).padStart(2,"0"),Dr=or.getFullYear(),Ir=`${Sr}_${jr}_${Dr}`;try{const Or=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Ir}`)).json();Or?.data&&Or.data.length>0?lr=Or.data:or.setDate(or.getDate()-1)}catch{or.setDate(or.getDate()-1)}cr++}if(!lr)return;const fr=lr.reduce((Sr,jr)=>{const Dr=Ir=>{const[Mr,Or]=Ir.split(" "),[Lr,Fr,Vr]=Mr.split("/");return new Date(`${Vr}-${Fr}-${Lr}T${Or||"00:00"}`)};return Dr(jr.modified_time)>Dr(Sr.modified_time)?jr:Sr}).link.split("/").pop().replace(".json","").split("_"),xr=getVang247FileUrl(parseInt(fr[0]),parseInt(fr[1]),parseInt(fr[2]),parseInt(fr[3]||0),parseInt(fr[4]||0)),_r=(await fetchVang247SingleFile(xr))?.data?.phan_tich?.chiso_barchart;_r&&ir(_r)}catch(or){console.error("Li tng th:",or)}})()},[tr,Hn,er]);const rr=nr?.averages?.filter(ar=>ar).map(ar=>{const or=ar.split("Volume:")[0].trim(),lr=ar.split("Volume:")[1]||"",cr=lr.split("Average:")[0]?.trim(),ur=lr.split("Average:")[1]?.trim();return{name:or,volume:cr,signal:ur}}),sr=({value:ar,label:or})=>{const lr=ar&&!isNaN(ar)?ar:0,dr=(180-lr/100*180)*(Math.PI/180),fr=80,xr=100,yr=100,_r=xr+fr*Math.cos(dr),Sr=yr-fr*Math.sin(dr);return jsxRuntimeExports.jsxs("div",{className:"arc-wrapper",style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("svg",{width:"180",height:"110",viewBox:"0 0 200 120",children:[jsxRuntimeExports.jsx("path",{d:"M20 100 A80 80 0 0 1 180 100",stroke:"#383838",strokeWidth:"20",fill:"none",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:`M20 100 A80 80 0 0 1 ${_r} ${Sr}`,stroke:"#0f9d58",strokeWidth:"20",fill:"none",strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("h2",{style:{color:"#eab308",fontSize:"28px",margin:"10px 0 5px 0",fontWeight:"bold"},children:lr}),jsxRuntimeExports.jsx("p",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:0,letterSpacing:"1px"},children:or.toUpperCase()})]})};return jsxRuntimeExports.jsxs("div",{className:"barchart-container",children:[jsxRuntimeExports.jsx("h2",{className:"title",style:{color:"#eab308"},children:"Overall Average:"}),jsxRuntimeExports.jsxs("div",{className:"contain-below",children:[jsxRuntimeExports.jsxs("div",{className:"gauge-grid",style:{display:"flex",gap:"30px",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("div",{className:"gauge-block",children:[jsxRuntimeExports.jsx("p",{className:"gauge-title",style:{color:"#fff",marginBottom:"15px"},children:"Current Strength"}),jsxRuntimeExports.jsx(sr,{value:nr?.gia_tri_current_strength,label:"STRENGTH"})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-block",children:[jsxRuntimeExports.jsx("p",{className:"gauge-title",style:{color:"#fff",marginBottom:"15px"},children:"Current Direction"}),jsxRuntimeExports.jsx(sr,{value:nr?.gia_tri_current_direction,label:"DIRECTION"})]})]}),jsxRuntimeExports.jsxs("div",{className:"opinion-card",children:[jsxRuntimeExports.jsx("div",{className:"opinion-header",children:"Barchart Opinion"}),jsxRuntimeExports.jsxs("table",{className:"opinion-table",style:{width:"100%"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{style:{textAlign:"left"},children:"INDICATOR"}),jsxRuntimeExports.jsx("th",{style:{textAlign:"center"},children:"Opinion"}),jsxRuntimeExports.jsx("th",{style:{textAlign:"right"},children:"Volume"})]})}),jsxRuntimeExports.jsx("tbody",{children:rr?.map((ar,or)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{textAlign:"left"},children:ar.name}),jsxRuntimeExports.jsx("td",{style:{textAlign:"center"},children:ar.signal}),jsxRuntimeExports.jsx("td",{style:{textAlign:"right"},children:ar.volume})]},or))})]}),jsxRuntimeExports.jsxs("div",{className:"opinion-footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px"},children:[jsxRuntimeExports.jsxs("h4",{style:{margin:0},children:["20-Day Average Volume: ",jsxRuntimeExports.jsx("span",{style:{color:"#eab308"},children:nr?.gia_tri_20_day_average_volume?.toLocaleString("en-US")})]}),jsxRuntimeExports.jsxs("p",{style:{margin:0,color:"#10b981",fontWeight:"bold",fontSize:"16px"},children:["Average: ",nr?.overall?.percent," ",nr?.overall?.signal]})]})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const SGEChart=()=>{const[tr,Hn]=reactExports.useState(()=>{const lo=new Date;return{year:lo.getFullYear(),month:lo.getMonth()+1}}),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(null),[xr,yr]=reactExports.useState("CNY"),[_r,Sr]=reactExports.useState(0),[jr,Dr]=reactExports.useState(!0),[Ir,Mr]=reactExports.useState(!1),[Or,Lr]=reactExports.useState({gold:null,silver:null,date:null}),[Fr,Vr]=reactExports.useState({gold:null,silver:null}),Zr=reactExports.useRef(),Hr=31.1034768,Yr=(lo,ao)=>{if(!lo||lo.length===0)return 0;let xo=0,_o=0;return lo.forEach(Po=>{const Oo=Number(Po.close_price)||Number(Po.open_price);Oo>0&&(xo+=Oo,_o++)}),_o>0?xo/_o:0};reactExports.useEffect(()=>{fetch(`https://api_gold.thinkdiff.us/shanghai_gold_exchange/${tr.year}/${tr.month}`).then(lo=>lo.json()).then(lo=>{if(lo.status==="success"&&Array.isArray(lo.tong_toanbo)){rr(lo.tong_toanbo),lr(null);const ao=lo.tong_toanbo.filter(xo=>Number(xo.tong_vang)>0||Number(xo.tong_bac)>0||Number(xo.tongkhac)>0);if(ao.length>0){const xo=ao[ao.length-1],_o=Yr(xo.vang),Po=Yr(xo.bac);Lr({gold:_o,silver:Po,date:xo.ngay})}else Lr({gold:null,silver:null,date:null});nr({labels:ao.map(xo=>{const _o=xo.ngay.split("-");return`${_o[2]}/${_o[1]}`}),datasets:[{label:"Vng (CNY)",data:ao.map(xo=>Number(xo.tong_vang)||0),backgroundColor:"#f1c40f",yAxisID:"y"},{label:"Bc (CNY)",data:ao.map(xo=>Number(xo.tong_bac)||0),backgroundColor:"#bdc3c7",yAxisID:"y"},{label:"Khc (CNY)",data:ao.map(xo=>Number(xo.tongkhac)||0),backgroundColor:"#2ecc71",yAxisID:"y1"}]})}})},[tr]);const eo=async()=>{const lo=await fetchBlackMarketExchangeRates();if(!lo)return;const ao=lo.find(_o=>_o.code==="CNY"),xo=lo.find(_o=>_o.code==="USD");ao&&ur(ao.sell),xo&&fr(xo.sell)};reactExports.useEffect(()=>{eo()},[]);const io=lo=>{const{current:ao}=Zr;if(!ao)return;const xo=getElementAtEvent(ao,lo);if(xo.length>0){const{index:_o,datasetIndex:Po}=xo[0],Oo=ao.data.labels[_o],So=ir.find(Ao=>{const zo=Ao.ngay.split("-");return`${zo[2]}/${zo[1]}`===Oo});if(So){let Ao=[];Po===0?Ao=So.vang||[]:Po===1?Ao=So.bac||[]:Po===2&&(Ao=So.kim_loai_khac||[]),lr({date:So.ngay,contracts:Ao}),Sr(Po)}}},uo=lo=>{if(!lo)return 0;if(xr==="CNY")return lo;if(xr==="VND"){if(!cr)return 0;let ao=lo*cr;return _r===0&&(ao*=37.5),ao}return xr==="USD"?!cr||!dr?0:lo*cr/dr:0},so=(lo,ao,xo)=>ao===0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[lo," ",jsxRuntimeExports.jsx("br",{})," ",xo?"(Ounce)":"(Gi / Lng)"]}):ao===1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[lo," ",jsxRuntimeExports.jsx("br",{})," ",xo?"(Ounce)":"(Gi / Kg)"]}):lo,no=(lo,ao)=>{if(!lo)return 0;let xo=lo;return ao===0?xo=lo*Hr:ao===1&&(xo=lo*Hr/1e3),jr?cr&&dr?xo*cr/dr:0:xr==="CNY"?xo:xr==="VND"?cr?xo*cr:0:xr==="USD"?cr&&dr?xo*cr/dr:0:xo},po={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff"}}},scales:{x:{ticks:{color:"#94a3b8"}},y:{position:"left",ticks:{color:"#f1c40f"}},y1:{position:"right",ticks:{color:"#2ecc71"},grid:{display:!1}}}},co=(lo,ao)=>{if(!lo||!cr||!dr)return 0;const _o=lo*cr/dr;return ao==="gold"?_o*Hr:_o/1e3*Hr};return jsxRuntimeExports.jsxs("div",{style:{background:"#05111d",color:"#fff",padding:"20px",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Hn(lo=>lo.month===1?{year:lo.year-1,month:12}:{year:lo.year,month:lo.month-1}),style:btnStyle$2,children:" Trc"}),jsxRuntimeExports.jsxs("h2",{style:{color:"#f1c40f"},children:["LNG GIAO DCH VNG-BC SN SHANGHAI GOLD EXCHANGE ",tr.month,"/",tr.year]}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn(lo=>lo.month===12?{year:lo.year+1,month:1}:{year:lo.year,month:lo.month+1}),style:btnStyle$2,children:"Sau "})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",padding:"10px"},children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{fontSize:"24px",color:"#94a3b8",marginBottom:"5px"},children:["Gi ng ca trung bnh ngy ",jsxRuntimeExports.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:Or.date?Or.date.split("-").reverse().join("/"):"..."})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",textAlign:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("span",{style:{color:"#f1c40f",fontWeight:"bold",fontSize:"20px"},children:["Vng: ",co(Or.gold,"gold").toLocaleString(void 0,{maximumFractionDigits:2})," ",jsxRuntimeExports.jsx("span",{style:{fontSize:"14px"},children:"$/Ounce"})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("span",{style:{color:"#bdc3c7",fontWeight:"bold",fontSize:"20px"},children:["Bc: ",co(Or.silver,"silver").toLocaleString(void 0,{maximumFractionDigits:2})," ",jsxRuntimeExports.jsx("span",{style:{fontSize:"14px"},children:"$/Ounce"})]})})]})]})]}),jsxRuntimeExports.jsx("div",{style:{height:"400px",background:"#101929",padding:"20px",borderRadius:"8px",marginBottom:"30px",position:"relative"},children:er&&jsxRuntimeExports.jsx(Bar$1,{ref:Zr,data:er,options:po,onClick:io})}),or&&jsxRuntimeExports.jsxs("div",{style:{background:"#101929",padding:"20px",borderRadius:"8px",border:"1px solid #1e293b"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#3498db"},children:["Chi tit ngy:"," ",jsxRuntimeExports.jsx("span",{style:{color:"red"},children:or.date.split("-").reverse().join("/")})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginBottom:"10px"},children:[jr?jsxRuntimeExports.jsx("button",{onClick:()=>yr("USD"),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:xr==="USD"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer"},children:"USD"},"USD"):["CNY","VND","USD"].map(lo=>jsxRuntimeExports.jsx("button",{onClick:()=>yr(lo),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:xr===lo?"#3498db":"#1e293b",color:"#fff",cursor:"pointer"},children:lo},lo)),jsxRuntimeExports.jsx("button",{onClick:()=>{Dr(!jr),jr||yr("USD")},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:jr?"#10b981":"#1e293b",color:"#fff",cursor:"pointer"},children:jr?"1 Ounce":"Gc"})]}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#172a45",color:"#94a3b8"},children:[jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"Hp ng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"Hng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"Khi lng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:so("Gi m ca",_r,jr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:so("Gi ng ca",_r,jr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:so("Gi chnh lch",_r,jr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"T l phn trm"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:so("Gi cao nht",_r,jr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:so("Gi thp nht",_r,jr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"S lng hp ng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:so("Gi TB",_r,jr)}),jsxRuntimeExports.jsxs("th",{style:thStyle$1,children:["Thnh tin",jsxRuntimeExports.jsx("button",{onClick:()=>Mr(!Ir),style:{marginLeft:8,padding:"2px 6px",fontSize:12,cursor:"pointer"},children:Ir?"USD":"T USD"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:or.contracts.map((lo,ao)=>jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[jsxRuntimeExports.jsx("td",{style:{...tdStyle$1,color:"#fff"},children:lo.Contract}),jsxRuntimeExports.jsx("td",{style:{...tdStyle$1,color:(lo.Direction||"")==="Long to Short"?"#e74c3c":(lo.Direction||"")==="Short to Long"?"#2ecc71":"#94a3b8"},children:lo.Direction===""?"":lo.Direction}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:Number(lo.volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.open_price?(jr?no(Number(lo.open_price),_r):uo(Number(lo.open_price))).toLocaleString(void 0,{maximumFractionDigits:xr==="USD"?2:0})+` ${jr?"USD":xr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.close_price?(jr?no(Number(lo.close_price),_r):uo(Number(lo.close_price))).toLocaleString(void 0,{maximumFractionDigits:xr==="USD"?2:0})+` ${jr?"USD":xr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.change_price?(jr?no(Number(lo.change_price),_r):uo(Number(lo.change_price))).toLocaleString(void 0,{maximumFractionDigits:xr==="USD"?2:0})+` ${jr?"USD":xr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.change_pct?`${Number(lo.change_pct).toFixed(2)}%`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.high_price?(jr?no(Number(lo.high_price),_r):uo(Number(lo.high_price))).toLocaleString(void 0,{maximumFractionDigits:xr==="USD"?2:0})+` ${jr?"USD":xr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.low_price?(jr?no(Number(lo.low_price),_r):uo(Number(lo.low_price))).toLocaleString(void 0,{maximumFractionDigits:xr==="USD"?2:0})+` ${jr?"USD":xr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:Number(lo.open_interest||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:lo.high_price&&lo.low_price?(()=>{const xo=(Number(lo.high_price)+Number(lo.low_price))/2;return(jr?no(xo,_r):uo(xo)).toLocaleString(void 0,{maximumFractionDigits:xr==="USD"?2:0})+` ${jr?"USD":xr}`})():""}),jsxRuntimeExports.jsx("td",{style:{...tdStyle$1,color:"#f1c40f",fontWeight:"bold"},children:lo.tong_tien_cny?(()=>{const xo=jr?no(Number(lo.tong_tien_cny),_r):uo(Number(lo.tong_tien_cny));return!Ir||xo<555675726e-2?xo.toLocaleString(void 0,{maximumFractionDigits:2})+` ${jr?"USD":xr}`:(xo/1e9).toLocaleString(void 0,{minimumFractionDigits:xo>=1e9?2:4,maximumFractionDigits:xo>=1e9?2:4})+` T ${jr?"USD":xr}`})():""})]},ao))})]})})]})]})},btnStyle$2={padding:"8px 16px",background:"#172a45",color:"#fff",border:"1px solid #3498db",borderRadius:"4px",cursor:"pointer"},thStyle$1={padding:"12px",textAlign:"left",borderBottom:"1px solid #1e293b"},tdStyle$1={padding:"10px",borderBottom:"1px solid #1e293b"},API_DATA_GLOBAL_SHARK=["https://api_gold.thinkdiff.us/global_x_silver_miners","https://api_gold.thinkdiff.us/UBS_Solactive_Global_Pure_Gold_Miners","https://api_gold.thinkdiff.us/VanEck_Gold_Miners_UCITS_ETF","https://api_gold.thinkdiff.us/VanEck_Junior_Gold_Miners_UCITS","https://api_gold.thinkdiff.us/LG_Gold_Mining_UCITS_ETF","https://api_gold.thinkdiff.us/iShares_Gold_Producers_UCITS","https://api_gold.thinkdiff.us/global_x_silver_miners_etf","https://api_gold.thinkdiff.us/HANetf_AuAg_ESG_Gold_Mining_UCITS","https://api_gold.thinkdiff.us/Market_Access_NYSE_Arca_Gold_Bugs_UCITS","https://api_gold.thinkdiff.us/VanEck_SP_Global_Mining_UCITS_ETF_A"],API_DATA_GLOBAL_SHARK_1DAY=["https://api_gold.thinkdiff.us/global_x_silver_miners_1day","https://api_gold.thinkdiff.us/VanEck_SP_Global_Mining_UCITS_ETF_A_1day","https://api_gold.thinkdiff.us/UBS_Solactive_Global_Pure_Gold_Miners_1day","https://api_gold.thinkdiff.us/VanEck_Gold_Miners_UCITS_ETF_1day","https://api_gold.thinkdiff.us/VanEck_Junior_Gold_Miners_UCITS_1day","https://api_gold.thinkdiff.us/LG_Gold_Mining_UCITS_ETF_1day","https://api_gold.thinkdiff.us/iShares_Gold_Producers_UCITS_1day","https://api_gold.thinkdiff.us/HANetf_AuAg_ESG_Gold_Mining_UCITS_1day","https://api_gold.thinkdiff.us/Market_Access_NYSE_Arca_Gold_Bugs_UCITS_1day"],extractNameFromURL=tr=>{const Hn=tr.split("/");return Hn[Hn.length-1]};async function fetchSharkData(tr){let Hn=null;return tr==="DAY"&&(Hn=(await Promise.all(API_DATA_GLOBAL_SHARK_1DAY.map(ir=>fetch(ir).then(rr=>{if(!rr.ok)throw new Error(`HTTP Error ${rr.status}`);return rr.json()}).catch(rr=>(console.warn(`Li khi gi link: ${ir}`,rr),null))))).filter(ir=>ir!==null)),tr==="ALL"&&(Hn=await Promise.all(API_DATA_GLOBAL_SHARK.map(nr=>fetch(nr).then(ir=>ir.json())))),Hn.map((nr,ir)=>{const sr=[...nr?.data?.series||[]].sort((or,lr)=>new Date(or.date)-new Date(lr.date)),ar=sr.at(-1)?.date;return{name:extractNameFromURL(API_DATA_GLOBAL_SHARK[ir]),data:sr.map(or=>({x:new Date(or.date).getTime()+420*60*1e3,y:Number(or.value.raw)})),date:ar}})}const GlobalComparisonPage=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState("VNG"),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(""),or=dr=>({USA:"us",VIETNAM:"vn",ENGLAND:"gb",RUSSIAN:"ru","SOUTH KOREA":"kr",UAE:"ae",TRUNGQUOC:"cn",INDIA:"in",JAPAN:"jp"})[dr.toUpperCase()]||"un",lr=async()=>{rr(!0);try{const dr=await axios.get("https://api_gold.thinkdiff.us/all_day_save_price");if(!dr.data?.data?.length)throw new Error("No day data");const fr=dr.data.data[dr.data.data.length-1].dirname,xr=await axios.get(`https://api_gold.thinkdiff.us/all_json_1_day/${fr}`);if(!xr.data?.data?.length)throw new Error("No file data");const _r=xr.data.data[xr.data.data.length-1].link.split("/vang247_xyz/")[1],jr=(await axios.get(`https://api_gold.thinkdiff.us/view_full_data_json/${_r}`)).data?.data||{},Dr=jr.list_server||[];if(Dr.length>0){let Fr=Dr[0]?.data?.data?.fetched_at||Dr[0]?.items?.[0]?.fetched_at||"";if(Fr){const Vr=Fr.includes("T")?Fr.split("T")[0]:Fr.split(" ")[0];if(Vr.includes("-")&&Vr.indexOf("-")===4){const[Zr,Hr,Yr]=Vr.split("-");ar(`${Yr}-${Hr}-${Zr}`)}else ar(Vr.replace(/\//g,"-"))}}let Ir=26447;const Or=(jr.chogia_vn?.data||[]).find(Fr=>Fr.code==="USD");Or&&(Ir=Or.sell);let Lr=[];Array.isArray(Dr)&&Dr.forEach(Fr=>{const Vr=Fr.quoc_gia||"",Zr=Fr.items||Fr.data?.data?.items;Array.isArray(Zr)&&Zr.forEach(Hr=>{const Yr=(Hr.name||Fr.name||"").toUpperCase(),eo=(Hr.purity||"").toLowerCase(),io=Hr.TYPE==="VANG",uo=Hr.TYPE==="BAC";let so=!1;if(io&&(eo==="9999"||eo==="24k")&&(so=!0),uo&&eo==="1kg_bac_999"&&(so=!0),!!so){if(Vr.toLowerCase()==="vietnam"||Yr.includes("PH QU")||Yr.includes("BTMC")){if(io&&Yr.includes("BTMC")||uo&&Yr.includes("PH QU")){const no=cr(Vr,Yr,io?"VNG":"BC",Hr,Fr,Ir);no&&Lr.push(no)}}else if(Vr!==""){const no=cr(Vr,Yr,io?"VNG":"BC",Hr,Fr,Ir);no&&Lr.push(no)}}})}),Hn(Lr),rr(!1)}catch(dr){console.error("Li ti API:",dr),rr(!1)}},cr=(dr,fr,xr,yr,_r,Sr)=>{const jr=yr.sell?Number(yr.sell):0,Dr=Sr||26447;if(!jr)return null;let Ir=37.5;xr==="BC"&&(Ir=1e3);const Mr=jr/Ir*31.1034768/Dr;return{country:dr.toUpperCase(),name:yr.product||fr,type:xr,price:Mr}};reactExports.useEffect(()=>{lr()},[]);const ur=reactExports.useMemo(()=>tr.filter(dr=>dr&&dr.type===er).sort((dr,fr)=>fr.price-dr.price),[tr,er]);return jsxRuntimeExports.jsxs("div",{style:containerStyle$1,children:[jsxRuntimeExports.jsx("h2",{style:titleStyle,children:"Bo Co Gi Vng Bc ca cc Quc Gia"}),jsxRuntimeExports.jsxs("div",{style:timeBox,children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#f1c40f"},children:sr||"---"})]}),jsxRuntimeExports.jsxs("div",{style:tabContainer,children:[jsxRuntimeExports.jsx("button",{style:er==="VNG"?activeGoldTab:inactiveTab,onClick:()=>nr("VNG"),children:" VNG"}),jsxRuntimeExports.jsx("button",{style:er==="BC"?activeSilverTab:inactiveTab,onClick:()=>nr("BC"),children:" BC"})]}),ir?jsxRuntimeExports.jsx("div",{style:msgStyle,children:"ang ti d liu an ton..."}):jsxRuntimeExports.jsx("div",{style:gridStyle,children:ur.map((dr,fr)=>jsxRuntimeExports.jsxs("div",{style:cardStyle$1(dr.type),children:[jsxRuntimeExports.jsxs("div",{style:headerRow,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("img",{src:`https://flagcdn.com/w40/${or(dr.country)}.png`,style:flagStyle,alt:"flag"}),jsxRuntimeExports.jsx("span",{style:countryNameStyle,children:dr.country})]}),jsxRuntimeExports.jsx("div",{style:typeTag(dr.type),children:dr.type})]}),jsxRuntimeExports.jsx("div",{style:brandStyle,children:dr.name}),jsxRuntimeExports.jsxs("div",{style:priceRow,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Quy i:"}),jsxRuntimeExports.jsx("span",{style:priceValue(dr.type),children:dr.price>0?dr.price.toLocaleString(void 0,{maximumFractionDigits:2}):"---"}),jsxRuntimeExports.jsx("span",{style:unitStyle,children:"USD/oz"})]})]},fr))})]})},containerStyle$1={backgroundColor:"#0a0a0a",minHeight:"100vh",padding:"20px"},titleStyle={color:"#f1c40f",textAlign:"center",marginBottom:"5px",fontSize:"22px",fontWeight:"bold"},timeBox={color:"#888",textAlign:"center",marginBottom:"30px",fontSize:"14px"},tabContainer={display:"flex",justifyContent:"center",gap:"15px",marginBottom:"40px"},inactiveTab={backgroundColor:"#1a1a1a",color:"#666",border:"1px solid #333",padding:"10px 30px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},activeGoldTab={...inactiveTab,backgroundColor:"#f1c40f",color:"#000",border:"1px solid #f1c40f"},activeSilverTab={...inactiveTab,backgroundColor:"#bdc3c7",color:"#000",border:"1px solid #bdc3c7"},gridStyle={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",maxWidth:"1200px",margin:"0 auto"},cardStyle$1=tr=>({backgroundColor:"#161616",border:"1px solid #333",borderRadius:"12px",padding:"20px",borderTop:`4px solid ${tr==="VNG"?"#f1c40f":"#bdc3c7"}`}),headerRow={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},flagStyle={width:"22px"},countryNameStyle={color:"#888",fontSize:"11px",fontWeight:"bold"},typeTag=tr=>({color:tr==="VNG"?"#f1c40f":"#bdc3c7",fontSize:"10px",fontWeight:"bold"}),brandStyle={color:"#efefef",fontSize:"12px",marginBottom:"20px",minHeight:"35px"},priceRow={borderTop:"1px solid #222",paddingTop:"15px",display:"flex",alignItems:"baseline",gap:"8px"},labelStyle={color:"#666",fontSize:"12px"},priceValue=tr=>({color:tr==="VNG"?"#f1c40f":"#bdc3c7",fontSize:"24px",fontWeight:"bold"}),unitStyle={color:"#444",fontSize:"11px"},msgStyle={color:"white",textAlign:"center",marginTop:"50px"},SLVStats=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0);if(reactExports.useEffect(()=>{let rr=!0;return(async()=>{try{const ar=await fetch("https://api_gold.thinkdiff.us/SLV_von_vao");if(!ar.ok)throw new Error(ar.status);const or=await ar.json(),lr=or?.slv_chartexchange_info_cophieu?.[0]||or?.slv_stats?.[0]||or?.slv_overview?.[0]||null;rr&&Hn(lr)}catch(ar){console.error("SLV Stats fetch error:",ar)}finally{rr&&nr(!1)}})(),()=>rr=!1},[]),er)return jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"Loading SLV stats"});if(!tr)return null;const ir=rr=>rr?.toLocaleString(void 0,{maximumFractionDigits:2});return jsxRuntimeExports.jsxs("div",{className:"slv-stats-card",children:[jsxRuntimeExports.jsxs("div",{className:"slv-stats-header",children:["SLV Stats",jsxRuntimeExports.jsxs("div",{className:"slv-stats-timestamp",children:["Cp nht mi nht: ",tr.time_insert]})]}),jsxRuntimeExports.jsxs("div",{className:"slv-stats-grid",children:[jsxRuntimeExports.jsx(Stat,{label:"Market Cap",value:`${ir(tr.market_cap)}`}),jsxRuntimeExports.jsx(Stat,{label:"Shares Out",value:ir(tr.shares_out)}),jsxRuntimeExports.jsx(Stat,{label:"On / Off Exchange",value:`${tr.On_Off_Exchange}% / ${100-tr.On_Off_Exchange}%`}),jsxRuntimeExports.jsx(Stat,{label:"Avg Vol (10 Day)",value:ir(tr.avg_vol_10_day)}),jsxRuntimeExports.jsx(Stat,{label:"Avg Vol (30 Day)",value:ir(tr.avg_vol_30_day)}),jsxRuntimeExports.jsx(Stat,{label:"6 Month Beta",value:tr["6_Month_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"1 Year Beta",value:tr["1_Year_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"2 Year Beta",value:tr["2_Year_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"3 Year Beta",value:tr["3_Year_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"52 Week Low",value:tr["52_Week_Low"]}),jsxRuntimeExports.jsx(Stat,{label:"52 Week High",value:tr["52_Week_High"]}),jsxRuntimeExports.jsx(Stat,{label:"SMA50",value:tr.SMA50}),jsxRuntimeExports.jsx(Stat,{label:"SMA200",value:tr.SMA200})]}),jsxRuntimeExports.jsxs("div",{className:"slv-returns",children:[jsxRuntimeExports.jsx(Return,{label:"1 Week",value:tr["1_Week"]}),jsxRuntimeExports.jsx(Return,{label:"1 Month",value:tr["1_Month"]}),jsxRuntimeExports.jsx(Return,{label:"3 Month",value:tr["3_Month"]}),jsxRuntimeExports.jsx(Return,{label:"6 Month",value:tr["6_Month"]}),jsxRuntimeExports.jsx(Return,{label:"1 Year",value:tr["1Year"]}),jsxRuntimeExports.jsx(Return,{label:"2 Year",value:tr["2Year"]}),jsxRuntimeExports.jsx(Return,{label:"5 Year",value:tr["5Year"]})]})]})},Stat=({label:tr,value:Hn})=>jsxRuntimeExports.jsxs("div",{className:"slv-stat",children:[jsxRuntimeExports.jsx("span",{children:tr}),jsxRuntimeExports.jsx("strong",{children:Hn})]}),Return=({label:tr,value:Hn})=>{const er=Hn>=0;return jsxRuntimeExports.jsxs("div",{className:`slv-return ${er?"up":"down"}`,children:[jsxRuntimeExports.jsx("span",{children:tr}),jsxRuntimeExports.jsxs("strong",{children:[er?"+":"",Hn,"%"]})]})},SLVDarkPoolTable=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(1),sr=10,[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState("");reactExports.useEffect(()=>{let fr=!0;return(async()=>{try{const yr=await fetch("https://api_gold.thinkdiff.us/SLV_von_vao");if(!yr.ok)throw new Error(yr.status);const Sr=(await yr.json())?.slv_dark_pool_levels||[];if(!fr)return;Hn(Sr),Sr.length>0&&cr(Sr[0].created_at)}catch(yr){console.error("SLV Dark Pool fetch error:",yr)}finally{fr&&nr(!1)}})(),()=>fr=!1},[]);const ur=Math.ceil(tr.length/sr),dr=tr.slice((ir-1)*sr,ir*sr);return er?jsxRuntimeExports.jsx("div",{className:"dp-loading",children:"Loading Dark Pool"}):tr.length?jsxRuntimeExports.jsxs("div",{className:"darkpool-card",children:[jsxRuntimeExports.jsx("div",{className:"darkpool-header",children:jsxRuntimeExports.jsx("div",{className:"darkpool-title",children:"SLV Dark Pool Levels"})}),jsxRuntimeExports.jsxs("table",{className:"darkpool-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Level"}),jsxRuntimeExports.jsx("th",{children:"Traders"}),jsxRuntimeExports.jsx("th",{children:"Volume"}),jsxRuntimeExports.jsx("th",{children:"Premium"})]})}),jsxRuntimeExports.jsx("tbody",{children:dr.map((fr,xr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"dp-level-cell",children:[jsxRuntimeExports.jsx("div",{className:"dp-price",children:fr.price_level?.toFixed(2)}),jsxRuntimeExports.jsx("div",{className:"dp-time",children:fr.created_at})]}),jsxRuntimeExports.jsx("td",{children:fr.trade_count?.toLocaleString()}),jsxRuntimeExports.jsx("td",{children:fr.volume?.toLocaleString()}),jsxRuntimeExports.jsxs("td",{children:["$",fr.premium?.toLocaleString(void 0,{maximumFractionDigits:0})]})]},xr))})]}),jsxRuntimeExports.jsxs("div",{className:"dp-pagination",children:[jsxRuntimeExports.jsx("button",{disabled:ir===1,onClick:()=>{const fr=ir-1;rr(fr),or(fr)},children:""}),jsxRuntimeExports.jsx("input",{type:"number",min:1,max:ur,value:ar,onChange:fr=>or(fr.target.value),onKeyDown:fr=>{if(fr.key==="Enter"){let xr=Number(ar);xr<1&&(xr=1),xr>ur&&(xr=ur),rr(xr),or(xr)}},className:"dp-page-input"}),jsxRuntimeExports.jsxs("span",{children:["/ ",ur]}),jsxRuntimeExports.jsx("button",{disabled:ir===ur,onClick:()=>{const fr=ir+1;rr(fr),or(fr)},children:""})]})]}):null};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const btnStyle$1={padding:"8px 16px",background:"#172a45",color:"#fff",border:"1px solid #3498db",borderRadius:"4px",cursor:"pointer"},thStyle={padding:"12px",textAlign:"left",borderBottom:"1px solid #1e293b"},tdStyle={padding:"10px",borderBottom:"1px solid #1e293b"};function ReportComexChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState("USD"),[dr,fr]=reactExports.useState(0),[xr,yr]=reactExports.useState(!0),[_r,Sr]=reactExports.useState(!1),[jr,Dr]=reactExports.useState("all"),[Ir,Mr]=reactExports.useState(!1),Or=reactExports.useRef(),[Lr,Fr]=reactExports.useState(()=>{const no=new Date;return{month:no.getMonth()+1,year:no.getFullYear()}}),Vr=no=>{Hn(null),rr(null),Fr(po=>{let co=po.month+no,lo=po.year;return co>12?(co=1,lo+=1):co<1&&(co=12,lo-=1),{month:co,year:lo}})},Zr=async()=>{const no=await fetchBlackMarketExchangeRates();if(!no)return;const po=no.find(lo=>lo.code==="CNY"),co=no.find(lo=>lo.code==="USD");po&&ar(po.sell),co&&lr(co.sell)};reactExports.useEffect(()=>{ir&&Zr()},[ir]),reactExports.useEffect(()=>{Mr(!0),fetch(`https://api_gold.thinkdiff.us/cme_report_theo_thang/${Lr.month}/${Lr.year}`).then(no=>no.json()).then(no=>{no.status==="success"?(Hn(no.ketqua),nr(no.ketqua)):(Hn([]),nr([]))}).catch(no=>{console.error("Li:",no),Hn([]),nr([])}).finally(()=>Mr(!1))},[Lr.month,Lr.year]);const Hr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff"}},title:{display:!1,text:"Bo Co Lng Mua Bn Sn Comex"}},scales:{x:{stacked:!0,ticks:{color:"#94a3b8"}},y:{stacked:!0,ticks:{color:"#f1c40f"}}}},Yr=no=>{const{current:po}=Or;if(!po)return;const co=getElementAtEvent(po,no);if(co.length>0){const{index:lo,datasetIndex:ao}=co[0],xo=po.data.labels[lo],_o=er.find(Po=>{if(!Po?.day)return!1;const[,Oo,So]=Po.day.split("-");return`${So}/${Oo}`===xo});if(_o){let Po=[];jr==="hop_dong_tuong_lai"?ao===0?(Po=_o.vang||[],fr(0)):ao===1?(Po=_o.bac||[],fr(1)):ao===2?(Po=_o.bach_kim||[],fr(2)):ao===3?(Po=_o.dong||[],fr(3)):(Po=_o.palladium||[],fr(4)):ao<=1?(Po=_o.vang||[],fr(0)):ao<=3?(Po=_o.bac||[],fr(1)):ao<=5?(Po=_o.bach_kim||[],fr(2)):ao<=7?(Po=_o.dong||[],fr(3)):(Po=_o.palladium||[],fr(4)),rr({date:_o.day,contracts:Po})}}},eo=no=>({0:"VNG",1:"BC",2:"BCH KIM",3:"NG",4:"PALLADIUM"})[no]||"KIM LOI",io=(no,po,co)=>{if(!no||!Array.isArray(no))return 0;let lo=no;co==="hop_dong_tuong_lai"&&(lo=no.filter(xo=>xo.contract_type_vi==="hop_dong_tuong_lai"));const ao=lo.find(xo=>xo.contract_type_vi===po);return ao&&Number(ao.total_volume)||0},so={labels:tr?.map(no=>{if(!no?.day)return"";const[,po,co]=no.day.split("-");return`${co}/${po}`}),datasets:jr==="hop_dong_tuong_lai"?[{label:"Vng",data:tr?.map(no=>io(no?.vang,"hop_dong_tuong_lai",jr)),backgroundColor:"#FCB100",stack:"Stack 0"},{label:"Bc",data:tr?.map(no=>io(no?.bac,"hop_dong_tuong_lai",jr)),backgroundColor:"#9CA3AF",stack:"Stack 1"},{label:"Bch kim",data:tr?.map(no=>io(no?.bach_kim,"hop_dong_tuong_lai",jr)),backgroundColor:"#1c89f6ff",stack:"Stack 2"},{label:"ng",data:tr?.map(no=>io(no?.dong,"hop_dong_tuong_lai",jr)),backgroundColor:"#FC7A00",stack:"Stack 3"},{label:"Palladium",data:tr?.map(no=>io(no?.palladium,"hop_dong_tuong_lai",jr)),backgroundColor:"#7C8792",stack:"Stack 4"}]:[{label:"Vng mua",data:tr?.map(no=>io(no?.vang,"tang_gia",jr)),backgroundColor:"#FCB100",stack:"Stack 0"},{label:"Vng bn",data:tr?.map(no=>io(no?.vang,"giam_gia",jr)),backgroundColor:"#F0C256",stack:"Stack 0"},{label:"Bc mua",data:tr?.map(no=>io(no?.bac,"tang_gia",jr)),backgroundColor:"#9CA3AF",stack:"Stack 1"},{label:"Bc bn",data:tr?.map(no=>io(no?.bac,"giam_gia",jr)),backgroundColor:"#E5E7EB",stack:"Stack 1"},{label:"Bch kim mua",data:tr?.map(no=>io(no?.bach_kim,"tang_gia",jr)),backgroundColor:"#1c89f6ff",stack:"Stack 2"},{label:"Bch kim bn",data:tr?.map(no=>io(no?.bach_kim,"giam_gia",jr)),backgroundColor:"#7cbbfaff",stack:"Stack 2"},{label:"ng mua",data:tr?.map(no=>io(no?.dong,"tang_gia",jr)),backgroundColor:"#FC7A00",stack:"Stack 3"},{label:"ng bn",data:tr?.map(no=>io(no?.dong,"giam_gia",jr)),backgroundColor:"#F5AB67",stack:"Stack 3"},{label:"Palladium mua",data:tr?.map(no=>io(no?.palladium,"tang_gia",jr)),backgroundColor:"#7C8792",stack:"Stack 4"},{label:"Palladium bn",data:tr?.map(no=>io(no?.palladium,"giam_gia",jr)),backgroundColor:"#E6EBEF",stack:"Stack 4"}]};return jsxRuntimeExports.jsxs("div",{style:{background:"#05111d",color:"#fff",padding:"20px",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Vr(-1),style:btnStyle$1,children:" Trc"}),jsxRuntimeExports.jsxs("h2",{style:{color:"#f1c40f"},children:["BO CO LNG MUA BN SN COMEX - THNG ",Lr.month,"/",Lr.year]}),jsxRuntimeExports.jsx("button",{onClick:()=>Vr(1),style:btnStyle$1,children:"Sau "})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Dr("all"),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #334155",background:jr==="all"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer",fontSize:"14px"},children:"Tt c"}),jsxRuntimeExports.jsx("button",{onClick:()=>Dr("hop_dong_tuong_lai"),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #334155",background:jr==="hop_dong_tuong_lai"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer",fontSize:"14px"},children:"Hp ng tng lai"})]}),jsxRuntimeExports.jsx("div",{style:{height:"400px",background:"#101929",padding:"20px",borderRadius:"8px",marginBottom:"30px"},children:Ir?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#fff"},children:"ang ti d liu..."}):!tr||tr.length===0?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#fff"},children:"Khng c d liu cho thng ny"}):jsxRuntimeExports.jsx(Bar$1,{ref:Or,data:so,options:Hr,onClick:Yr})}),ir&&jsxRuntimeExports.jsxs("div",{style:{background:"#101929",padding:"20px",borderRadius:"8px",border:"1px solid #1e293b"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#3498db",margin:0},children:["Chi tit ngy:"," ",jsxRuntimeExports.jsx("span",{style:{color:"red"},children:ir.date.split("-").reverse().join("/")})]}),jsxRuntimeExports.jsx("div",{style:{background:dr===0?"#f1c40f":dr===1?"#bdc3c7":dr===2?"#3498db":dr===3?"#e67e22":"#9b59b6",color:"#000",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold"},children:eo(dr)})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px"},children:jsxRuntimeExports.jsx("p",{style:{color:"#94a3b8",margin:0,fontSize:"14px"},children:"D liu bo co khi lng giao dch t sn COMEX"})}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#172a45",color:"#94a3b8"},children:[jsxRuntimeExports.jsx("th",{style:thStyle,children:"Loi hp ng"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Khi lng in t"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Khi lng sn"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Khi lng ngoi sn"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Tng khi lng"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Li sut m"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Thay i OI"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Ngy bo co"})]})}),jsxRuntimeExports.jsx("tbody",{children:ir.contracts.map((no,po)=>jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[jsxRuntimeExports.jsx("td",{style:{...tdStyle,color:"#fff"},children:no.contract_type_vi==="hop_dong_tuong_lai"?"Hp ng tng lai":no.contract_type_vi==="quyen_chon"?"Quyn chn":no.contract_type_vi==="tang_gia"?"Tng gi (Call)":no.contract_type_vi==="giam_gia"?"Gim gi (Put)":no.contract_type_vi||""}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(no.electronic_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(no.floor_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(no.off_floor_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{...tdStyle,color:"#f1c40f",fontWeight:"bold"},children:Number(no.total_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(no.open_interest||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{...tdStyle,color:(no.oi_change||0)>0?"#2ecc71":(no.oi_change||0)<0?"#e74c3c":"#94a3b8"},children:no.oi_change?(no.oi_change>0?"+":"")+Number(no.oi_change).toLocaleString():"0"}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:no.report_date?new Date(no.report_date).toLocaleDateString("vi-VN"):""})]},po))})]})})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const API={gold:"https://api_gold.thinkdiff.us/lbma_gold_price",silver:"https://api_gold.thinkdiff.us/lbma_silver_price"},LBMAPrice=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState("all"),[ir,rr]=reactExports.useState("month"),[sr,ar]=reactExports.useState("silver");reactExports.useEffect(()=>{(async()=>{const Lr=(await(await fetch(API[sr])).json()).data||[];Lr.sort((Fr,Vr)=>new Date(Fr.date)-new Date(Vr.date)),Hn(Lr)})()},[sr]);const or=(Ir,Mr)=>Mr===0||Mr==null?null:(Ir-Mr)/Mr*100,lr=React.useMemo(()=>{if(!tr||tr.length<2)return{};const Ir=[...tr].sort((Fr,Vr)=>Number(Fr.time)-Number(Vr.time)),Mr=Ir.length-1,Or=Ir[Mr].value,Lr=Fr=>{const Vr=Mr-Fr;if(Vr<0)return null;const Zr=Ir[Vr].value;return or(Or,Zr)};return{day5:Lr(5),month1:Lr(30),month6:Lr(180)}},[tr]),cr=React.useMemo(()=>{if(!tr||tr.length===0)return null;const Ir=tr[tr.length-1].time,Mr=new Date(Ir),Or=String(Mr.getDate()).padStart(2,"0"),Lr=String(Mr.getMonth()+1).padStart(2,"0"),Fr=Mr.getFullYear(),Vr=String(Mr.getHours()).padStart(2,"0"),Zr=String(Mr.getMinutes()).padStart(2,"0"),Hr=String(Mr.getSeconds()).padStart(2,"0");return`${Or}/${Lr}/${Fr} ${Vr}:${Zr}:${Hr}`},[tr]),ur=Ir=>{const Mr=new Date(Ir),Or=String(Mr.getDate()).padStart(2,"0"),Lr=String(Mr.getMonth()+1).padStart(2,"0"),Fr=String(Mr.getFullYear()).padStart(2,"0"),Vr=String(Mr.getHours()).padStart(2,"0"),Zr=String(Mr.getMinutes()).padStart(2,"0");return`${Or}/${Lr}/${Fr} ${Vr}:${Zr}`},dr=Ir=>new Date(Number(Ir)).getFullYear(),fr=reactExports.useMemo(()=>{if(!tr.length)return["all"];const Ir=[...new Set(tr.map(Mr=>dr(Mr.time)))];return Ir.sort((Mr,Or)=>Or-Mr),["all",...Ir]},[tr]),xr=Ir=>Ir.length?Math.max(...Ir.map(Mr=>Number(Mr.time))):null,yr=reactExports.useMemo(()=>{if(!tr.length)return[];const Ir=xr(tr);if(!Ir)return tr;const Mr=new Date(Ir);if(ir==="week"){const Or=new Date(Mr);return Or.setDate(Or.getDate()-7),tr.filter(Lr=>Number(Lr.time)>=Or.getTime())}if(ir==="month"){const Or=new Date(Mr);return Or.setMonth(Or.getMonth()-1),tr.filter(Lr=>Number(Lr.time)>=Or.getTime())}if(ir==="year_rolling"){const Or=xr(tr);if(!Or)return tr;const Lr=new Date(Or),Fr=new Date(Lr);return Fr.setFullYear(Fr.getFullYear()-1),tr.filter(Vr=>Number(Vr.time)>=Fr.getTime()&&Number(Vr.time)<=Lr.getTime())}return ir==="year_fixed"&&er!=="all"?tr.filter(Or=>dr(Or.time)===Number(er)):tr},[tr,er,ir]);reactExports.useEffect(()=>{ir==="year_fixed"&&fr.length>1&&er==="all"&&nr(String(fr[1]))},[fr,ir]);const _r=reactExports.useMemo(()=>{if(!yr.length)return{};const Ir=yr.map(Mr=>Mr.value);return{max:Math.max(...Ir),min:Math.min(...Ir),current:Ir[Ir.length-1]}},[yr]),Sr=sr==="gold",jr={labels:yr.map(Ir=>ur(Ir.time)),datasets:[{label:Sr?"Gold Price (USD)":"Silver Price (USD)",data:yr.map(Ir=>Ir.value),borderColor:Sr?"rgba(212,175,55,1)":"rgba(192,192,192,1)",backgroundColor:Sr?"rgba(212,175,55,0.7)":"rgba(192,192,192,0.7)",pointBackgroundColor:Sr?"rgba(212,175,55,1)":"rgba(192,192,192,1)",pointRadius:2,pointHoverRadius:5,tension:.3,fill:!0}]},Dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"}},scales:{y:{title:{display:!0,text:"USD"},beginAtZero:!0,min:0}}};return jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsxs("div",{className:"comex-inventory-header header-row",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsx("h2",{children:"LBMA Gold & Silver Prices"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Biu  gi Vng & Bc LBMA London (USD)"})]}),cr&&jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsx("label",{className:"last-updated-label",children:" D liu cp nht ln cui: "}),jsxRuntimeExports.jsx("span",{className:"last-updated",children:cr})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="gold"?"active":""}`,onClick:()=>ar("gold"),children:"LBMA Gold"}),jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="silver"?"active":""}`,onClick:()=>ar("silver"),children:"LBMA Silver"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"Tng quan"}),jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi cao nht"}),jsxRuntimeExports.jsxs("span",{className:"percentage-value3",children:[_r.max?.toLocaleString()," USD"]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi thp nht"}),jsxRuntimeExports.jsxs("span",{className:"percentage-value3",children:[_r.min?.toLocaleString()," USD"]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi hin ti"}),jsxRuntimeExports.jsxs("span",{className:"percentage-value3",style:{color:"#1bb553"},children:[_r.current?.toLocaleString()," USD"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:[["Trong 5 ngy",lr.day5],["Trong 1 thng",lr.month1],["Trong 6 thng",lr.month6]].map(([Ir,Mr])=>typeof Mr=="number"&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Ir}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Mr>=0?"positive":"negative"}`,children:[Mr>=0?"+":"",Mr.toFixed(2),"%"]})]},Ir))})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Khong thi gian"}),jsxRuntimeExports.jsxs("div",{className:"time-filter-buttons",children:[jsxRuntimeExports.jsx("button",{className:ir==="all"?"active":"",onClick:()=>rr("all"),children:"Tt c"}),jsxRuntimeExports.jsx("button",{className:ir==="week"?"active":"",onClick:()=>rr("week"),children:"7 ngy"}),jsxRuntimeExports.jsx("button",{className:ir==="month"?"active":"",onClick:()=>rr("month"),children:"1 thng"}),jsxRuntimeExports.jsx("button",{className:ir==="year_rolling"?"active":"",onClick:()=>{rr("year_rolling"),nr("all")},children:"1 nm"}),jsxRuntimeExports.jsx("button",{className:ir==="year_fixed"?"active":"",onClick:()=>{rr("year_fixed"),fr.length>1&&nr(String(fr[1]))},children:"Chn nm"})]}),ir==="year_fixed"&&jsxRuntimeExports.jsx("select",{value:er,onChange:Ir=>nr(Ir.target.value),className:"lbma-year-select",children:fr.filter(Ir=>Ir!=="all").map(Ir=>jsxRuntimeExports.jsx("option",{value:Ir,children:Ir},Ir))})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-right-column",children:jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:jsxRuntimeExports.jsx(Line,{data:jr,options:Dr})})})]})]})},API_COMEX_GOLD="https://api_gold.thinkdiff.us/comex_gold_data",API_COMEX_SILVER="https://api_gold.thinkdiff.us/comex_silver_data",getApiUrl=tr=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?tr.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):tr,fetchComexGoldData=async()=>{try{const tr=getApiUrl(API_COMEX_GOLD),Hn=await fetch(tr);if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);return await Hn.json()}catch(tr){throw console.error("Error fetching COMEX Gold data:",tr),tr}},fetchComexSilverData=async()=>{try{const tr=getApiUrl(API_COMEX_SILVER),Hn=await fetch(tr);if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);return await Hn.json()}catch(tr){throw console.error("Error fetching COMEX Silver data:",tr),tr}},fetchComexInventoryData=async()=>{try{const[tr,Hn]=await Promise.all([fetchComexGoldData(),fetchComexSilverData()]);return{goldData:tr,silverData:Hn}}catch(tr){throw console.error("Error fetching COMEX Inventory data:",tr),tr}};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index,LogarithmicScale);function ComexInventoryChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("silver"),[cr,ur]=reactExports.useState("30"),[dr,fr]=reactExports.useState("line"),[xr,yr]=reactExports.useState(!1),[_r,Sr]=reactExports.useState("oz"),jr=(Hr,Yr)=>!Yr||Yr===0?null:(Hr-Yr)/Yr*100,Dr=(Hr,Yr)=>{if(Yr==null)return null;const eo=Hr-Yr;return Ir(eo)},Ir=Hr=>_r==="oz"?Hr:_r==="moz"?Hr/1e6:_r==="ton"?Hr/32150.75:Hr,Mr=Hr=>{const Yr=Ir(Hr);return _r==="moz"?Yr.toFixed(2)+" Triu OZ":_r==="oz"?Yr.toLocaleString()+" OZ":_r==="ton"?Yr.toFixed(2)+" Tn":Yr.toLocaleString()};reactExports.useEffect(()=>{(async()=>{try{rr(!0),ar(null);const Yr=await fetchComexInventoryData(),eo=Yr.goldData?.data||Yr.goldData,io=Yr.silverData?.data||Yr.silverData;eo&&Array.isArray(eo)&&Hn(eo),io&&Array.isArray(io)&&nr(io),!eo&&!io&&ar("Khng c d liu COMEX Inventory t API")}catch(Yr){console.error("Error in fetchData:",Yr),ar("Li khi ti d liu: "+Yr.message)}finally{rr(!1)}})()},[]);const Or=reactExports.useMemo(()=>{const Hr=or==="gold"?tr:er;if(!Hr||!Array.isArray(Hr)||Hr.length===0)return{labels:[],datasets:[],percentageChanges:{}};const Yr=[...Hr].sort((ao,xo)=>{const _o=new Date(ao.date||ao.dt),Po=new Date(xo.date||xo.dt);return _o-Po});let eo=Yr;if(cr!=="all"){const ao=parseInt(cr);if(Yr.length>0){const xo=Math.min(ao,Yr.length);eo=Yr.slice(-xo)}}const io={};if(Yr.length>0){const ao=Yr[Yr.length-1]?.value||Yr[Yr.length-1]?.amount||0;if(Yr.length>=2){const xo=Yr[Yr.length-2]?.value||Yr[Yr.length-2]?.amount||0;io.day1=_r==="ton"?Dr(ao,xo):jr(ao,xo)}if(Yr.length>=3){const xo=Yr[Yr.length-3]?.value||Yr[Yr.length-3]?.amount||0;io.day2=_r==="ton"?Dr(ao,xo):jr(ao,xo)}if(Yr.length>=4){const xo=Yr[Yr.length-4]?.value||Yr[Yr.length-4]?.amount||0;io.day3=_r==="ton"?Dr(ao,xo):jr(ao,xo)}if(Yr.length>=8){const xo=Yr[Yr.length-8]?.value||Yr[Yr.length-8]?.amount||0;io.week1=_r==="ton"?Dr(ao,xo):jr(ao,xo)}if(Yr.length>=31){const xo=Yr[Yr.length-31]?.value||Yr[Yr.length-31]?.amount||0;io.month1=_r==="ton"?Dr(ao,xo):jr(ao,xo)}if(Yr.length>=181){const xo=Yr[Yr.length-181]?.value||Yr[Yr.length-181]?.amount||0;io.month6=_r==="ton"?Dr(ao,xo):jr(ao,xo)}}const uo=eo.map((ao,xo)=>{const _o=new Date(ao.date||ao.dt),Po=String(_o.getDate()).padStart(2,"0"),Oo=String(_o.getMonth()+1).padStart(2,"0"),So=_o.getFullYear();return cr==="all"?xo%2===0?`${So}`:"":cr==="365"?xo%4===0?`${Oo}/${So}`:"":`${Po}/${Oo}`}),so=eo.map(ao=>{const xo=ao.value||ao.amount||ao.inventory||0;return typeof xo=="number"?xo:parseFloat(xo)||0}),no=Math.max(...so),po=Math.min(...so);let co=[];dr==="line"?co=[{type:"line",label:or==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:so,borderColor:"#2563eb",backgroundColor:"tranparent",fill:!1,tension:0,pointRadius:0,pointBackgroundColor:or==="gold"?"#FDB913":"#9CA3AF",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:6,borderWidth:2}]:dr==="column"?co=[{type:"bar",label:or==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:so,backgroundColor:or==="gold"?"#FDB913":"#9CA3AF",borderColor:"#fff",borderWidth:0,barThickness:"flex"}]:dr==="stackedBar"?co=[{type:"bar",label:"Inventory",data:so,backgroundColor:or==="gold"?"#FDB913":"#9CA3AF",borderColor:or==="gold"?"#FDB913":"#9CA3AF",borderWidth:0,barThickness:"flex",stack:"stack1"}]:dr==="scatter"&&(co=[{type:"scatter",label:or==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:eo.map((ao,xo)=>({x:xo,y:so[xo]})),backgroundColor:or==="gold"?"#FDB913":"#9CA3AF",pointRadius:5,pointHoverRadius:7,showLine:!1}]);let lo=null;if(Yr.length>0){const ao=Yr[Yr.length-1];lo=new Date(ao.date||ao.dt)}return{labels:uo,datasets:co,filteredData:eo,minValue:po,maxValue:no,percentageChanges:io,latestUpdateDate:lo}},[tr,er,or,cr,dr,_r]),Lr={responsive:!0,maintainAspectRatio:!1,indexAxis:void 0,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#9CA3AF",font:{size:12,weight:"500"},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#fff",bodyColor:"#E0E7FF",borderColor:"#3B82F6",borderWidth:1,padding:12,titleFont:{size:14,weight:"600"},bodyFont:{size:13},callbacks:{title:Hr=>{const Yr=Hr[0].dataIndex;if(Or.filteredData&&Or.filteredData[Yr]){const eo=Or.filteredData[Yr],io=new Date(eo.date||eo.dt),uo=String(io.getDate()).padStart(2,"0"),so=String(io.getMonth()+1).padStart(2,"0"),no=io.getFullYear();return`${uo}/${so}/${no}`}return""},label:Hr=>{const Yr=Hr.parsed.y;return`${or==="gold"?"Gold":"Silver"} Inventory: ${Yr.toLocaleString()} OZ`},afterLabel:Hr=>{let io=`value: ${(Hr.parsed.y/32150.75).toFixed(2)} Tn`;const uo=Hr.dataIndex;if(Or.filteredData&&Or.filteredData[uo]){const so=Or.filteredData[uo],no=Object.entries(so).filter(([po])=>po!=="date"&&po!=="dt"&&po!=="value"&&po!=="amount").map(([po,co])=>`${po}: ${co}`).join(`
`);no&&(io+=`
`+no)}return io}}}},scales:{y:{type:"logarithmic",stacked:dr==="stackedBar",beginAtZero:!1,grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#9CA3AF",font:{size:11},callback:Hr=>Hr>=1e6?(Hr/1e6).toFixed(0)+"M":Hr.toLocaleString()},title:{display:!0,text:"OZ",color:"#9CA3AF",font:{size:12}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#9CA3AF",font:{size:11},maxRotation:45,minRotation:0}}}},Fr=Hr=>{ur(Hr)},Vr=Hr=>{lr(Hr)},Zr=Hr=>{fr(Hr)};return ir?jsxRuntimeExports.jsx("div",{className:"comex-inventory-container",children:jsxRuntimeExports.jsx("div",{className:"loading-spinner",children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu COMEX Inventory..."})})}):sr?jsxRuntimeExports.jsx("div",{className:"comex-inventory-container",children:jsxRuntimeExports.jsx("div",{className:"error-message",children:jsxRuntimeExports.jsx("p",{children:sr})})}):jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsx("div",{className:"comex-inventory-header",children:jsxRuntimeExports.jsxs(Link,{to:"/comex-inventory",className:"comex-header-link",children:[jsxRuntimeExports.jsx("h2",{children:"COMEX Gold & Silver Inventory"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Theo di lng d tr vng v bc trn sn COMEX"})]})}),jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${or==="gold"?"active":""}`,onClick:()=>Vr("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon gold-icon",children:""}),"COMEX Gold"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${or==="silver"?"active":""}`,onClick:()=>Vr("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon silver-icon",children:""}),"COMEX Silver"]}),Or.latestUpdateDate&&jsxRuntimeExports.jsxs("div",{className:"latest-update-date",children:["Cp nht mi nht: ",Or.latestUpdateDate.getDate(),"/",Or.latestUpdateDate.getMonth()+1,"/",Or.latestUpdateDate.getFullYear()]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-unit-converter",children:[jsxRuntimeExports.jsx("span",{className:"unit-label",children:"n v:"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${_r==="oz"?"active":""}`,onClick:()=>Sr("oz"),children:"OZ"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${_r==="moz"?"active":""}`,onClick:()=>Sr("moz"),children:"MOZ"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${_r==="ton"?"active":""}`,onClick:()=>Sr("ton"),children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[Or.filteredData&&Or.filteredData.length>0&&jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi tr cao nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Mr(Or.maxValue)})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi tr thp nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Mr(Or.minValue)})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi tr hin ti:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Mr(Or.filteredData[Or.filteredData.length-1]?.value||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[Or.percentageChanges.day1!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 1 Ngy"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or.percentageChanges.day1>=0?"positive":"negative"}`,children:[Or.percentageChanges.day1>=0?"+":"",_r==="ton"?`${Or.percentageChanges.day1.toFixed(2)} Tn`:`${Or.percentageChanges.day1.toFixed(2)}%`]})]}),Or.percentageChanges.day2!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 2 Ngy"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or.percentageChanges.day2>=0?"positive":"negative"}`,children:[Or.percentageChanges.day2>=0?"+":"",_r==="ton"?`${Or.percentageChanges.day2.toFixed(2)} Tn`:`${Or.percentageChanges.day2.toFixed(2)}%`]})]}),Or.percentageChanges.day3!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 3 Ngy"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or.percentageChanges.day3>=0?"positive":"negative"}`,children:[Or.percentageChanges.day3>=0?"+":"",_r==="ton"?`${Or.percentageChanges.day3.toFixed(2)} Tn`:`${Or.percentageChanges.day3.toFixed(2)}%`]})]}),Or.percentageChanges.week1!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 1 Tun"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or.percentageChanges.week1>=0?"positive":"negative"}`,children:[Or.percentageChanges.week1>=0?"+":"",_r==="ton"?`${Or.percentageChanges.week1.toFixed(2)} Tn`:`${Or.percentageChanges.week1.toFixed(2)}%`]})]}),Or.percentageChanges.month1!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 1 Thng"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or.percentageChanges.month1>=0?"positive":"negative"}`,children:[Or.percentageChanges.month1>=0?"+":"",_r==="ton"?`${Or.percentageChanges.month1.toFixed(2)} Tn`:`${Or.percentageChanges.month1.toFixed(2)}%`]})]}),Or.percentageChanges.month6!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 6 Thng"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or.percentageChanges.month6>=0?"positive":"negative"}`,children:[Or.percentageChanges.month6>=0?"+":"",_r==="ton"?`${Or.percentageChanges.month6.toFixed(2)} Tn`:`${Or.percentageChanges.month6.toFixed(2)}%`]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-right-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-time-range",children:[["7","30","90","365","all"].map(Hr=>jsxRuntimeExports.jsxs("button",{className:`time-range-btn ${cr===Hr?"active":""}`,onClick:()=>Fr(Hr),children:[Hr==="7"&&"7 ngy",Hr==="30"&&"30 ngy",Hr==="90"&&"90 ngy",Hr==="365"&&"1 nm",Hr==="all"&&"Tt c"]},Hr)),jsxRuntimeExports.jsxs("div",{className:"comex-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>yr(!xr),children:[jsxRuntimeExports.jsxs("span",{className:"chart-type-icon",children:[dr==="line"&&"",dr==="column"&&"",dr==="stackedBar"&&"",dr==="scatter"&&""]}),jsxRuntimeExports.jsxs("span",{className:"chart-type-label",children:[dr==="line"&&"Line Chart",dr==="column"&&"Column",dr==="stackedBar"&&"Stacked Bar",dr==="scatter"&&"Scatter"]}),jsxRuntimeExports.jsx("span",{className:"dropdown-arrow",children:""})]}),xr&&jsxRuntimeExports.jsxs("div",{className:"chart-type-menu",children:[jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="line"?"active":""}`,onClick:()=>{Zr("line"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Line Chart"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="column"?"active":""}`,onClick:()=>{Zr("column"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Column"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="stackedBar"?"active":""}`,onClick:()=>{Zr("stackedBar"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Stacked Bar"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="scatter"?"active":""}`,onClick:()=>{Zr("scatter"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Scatter"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:Or.datasets.length>0?jsxRuntimeExports.jsx(Chart,{type:"line",data:Or,options:Lr}):jsxRuntimeExports.jsx("div",{className:"no-data",children:jsxRuntimeExports.jsxs("p",{children:["Khng c d liu cho ",or==="gold"?"vng":"bc"]})})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_title,plugin_tooltip,plugin_legend,index);const containerStyle={background:"#0f172a",color:"#333",padding:"20px",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",minHeight:"100vh"},cardStyle={background:"rgba(30, 41, 59, 0.23)",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0)",marginBottom:"24px",color:"#f9fbfc"},tableHeaderStyle={padding:"16px",textAlign:"left",borderBottom:"1px solid #343638",color:"#ffffff",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},tableCellStyle={padding:"16px",borderBottom:"1px solid #606775",fontSize:"14px",fontWeight:"500",color:"#ffffff"},btnStyle={padding:"8px 16px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",transition:"background 0.2s"};function CFTC_Chart(){const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(!1),sr=reactExports.useRef(),[ar,or]=reactExports.useState(()=>{const yr=new Date;return{month:yr.getMonth()+1,year:yr.getFullYear()}});reactExports.useEffect(()=>{rr(!0);const yr=[];for(let Sr=0;Sr<1;Sr++){let jr=ar.month-Sr,Dr=ar.year;jr<=0&&(jr+=12,Dr-=1),yr.push({month:jr,year:Dr})}const _r=yr.map(Sr=>`https://api_gold.thinkdiff.us/cftc_tuonglai_thang/${Sr.month}/${Sr.year}`);console.log(`[Fetch] ang gi API cho thng ${ar.month}/${ar.year}`),Promise.all(_r.map(Sr=>fetch(Sr).then(jr=>jr.json()))).then(Sr=>{let jr=[];Sr.forEach(Ir=>{Ir.status==="success"&&Array.isArray(Ir.ketqua)&&(jr=jr.concat(Ir.ketqua))});const Dr=jr.sort((Ir,Mr)=>new Date(Ir.day)-new Date(Mr.day));Hn(Dr),nr(null)}).catch(Sr=>console.error("Error:",Sr)).finally(()=>rr(!1))},[ar.month,ar.year]);const lr=yr=>{or(_r=>{let Sr=_r.month+yr,jr=_r.year;return Sr>12?(Sr=1,jr+=1):Sr<1&&(Sr=12,jr-=1),{month:Sr,year:jr}})},cr=(yr,_r)=>{const Sr=yr?.find(jr=>jr.position_type===_r);return Sr?Sr.positions:0},ur=yr=>{const{current:_r}=sr;if(!_r)return;const Sr=getElementAtEvent(_r,yr);if(Sr.length>0){const{index:jr}=Sr[0],Dr=tr[jr];if(Dr){const Ir=[...(Dr.vang||[]).map(Fr=>({...Fr,commodity:"Vng"})),...(Dr.bac||[]).map(Fr=>({...Fr,commodity:"Bc"}))],Mr=["Vng","Bc"],Or=[cr(Dr.vang,"Long"),cr(Dr.bac,"Long")],Lr=[cr(Dr.vang,"Short"),cr(Dr.bac,"Short")];nr({date:Dr.day,tableData:Ir,chartData:{labels:Mr,long:Or,short:Lr}})}}},fr={labels:tr.map(yr=>{const _r=new Date(yr.day);return`${_r.getDate()}/${_r.getMonth()+1}`}),datasets:[{label:"Tng Hp ng Vng",data:tr.map(yr=>cr(yr.vang,"Long")+cr(yr.vang,"Short")),backgroundColor:"#fbbf24",borderRadius:4},{label:"Tng Hp ng Bc",data:tr.map(yr=>cr(yr.bac,"Long")+cr(yr.bac,"Short")),backgroundColor:"#94a3b8",borderRadius:4}]},xr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,padding:10,displayColors:!1,callbacks:{label:yr=>`${yr.parsed.y.toLocaleString()} Hp ng`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f3f4f6",borderDash:[5,5]},ticks:{color:"#9ca3af"}},x:{grid:{display:!1},ticks:{color:"#4b5563",font:{weight:"bold"}}}},elements:{line:{tension:.4},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#fff"}}};return jsxRuntimeExports.jsxs("div",{style:containerStyle,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>lr(-1),style:btnStyle,children:" Thng trc"}),jsxRuntimeExports.jsxs("h2",{style:{margin:0,color:"#fcfdfd"},children:["LNG LU TR CA CFTC VNG BC - Thng ",ar.month,"/",ar.year]}),jsxRuntimeExports.jsx("button",{onClick:()=>lr(1),style:btnStyle,children:"Thng sau "})]}),jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h3",{style:{margin:"0 0 16px 0",color:"#f5f5f5"},children:"Lch s giao dch"}),jsxRuntimeExports.jsx("div",{style:{height:"300px"},children:jsxRuntimeExports.jsx(Bar$1,{ref:sr,data:fr,options:{maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},onClick:ur})})]}),er&&jsxRuntimeExports.jsxs("div",{className:"detail-section",children:[jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:jsxRuntimeExports.jsxs("span",{style:{background:"#dbeafe",color:"#1e40af",padding:"6px 16px",borderRadius:"20px",fontWeight:"bold",fontSize:"14px"},children:["D liu ngy: ",er.date]})}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h4",{style:{margin:"0 0 12px 0",color:"#3b82f6",fontSize:"16px"},children:"V th Mua (Long)"}),jsxRuntimeExports.jsx("div",{style:{height:"250px"},children:jsxRuntimeExports.jsx(Line,{data:{labels:er.chartData.labels,datasets:[{data:er.chartData.long,borderColor:"#3b82f6",backgroundColor:yr=>{const Sr=yr.chart.ctx.createLinearGradient(0,0,0,250);return Sr.addColorStop(0,"rgba(59, 130, 246, 0.4)"),Sr.addColorStop(1,"rgba(59, 130, 246, 0.0)"),Sr},fill:!0,pointBorderColor:"#3b82f6"}]},options:xr})})]}),jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h4",{style:{margin:"0 0 12px 0",color:"#6366f1",fontSize:"16px"},children:"V th Bn (Short)"}),jsxRuntimeExports.jsx("div",{style:{height:"250px"},children:jsxRuntimeExports.jsx(Line,{data:{labels:er.chartData.labels,datasets:[{data:er.chartData.short,borderColor:"#6366f1",backgroundColor:yr=>{const Sr=yr.chart.ctx.createLinearGradient(0,0,0,250);return Sr.addColorStop(0,"rgba(99, 102, 241, 0.4)"),Sr.addColorStop(1,"rgba(99, 102, 241, 0.0)"),Sr},fill:!0,pointBorderColor:"#6366f1"}]},options:xr})})]})]}),jsxRuntimeExports.jsxs("div",{style:{...cardStyle,padding:"0",overflow:"hidden"},children:[jsxRuntimeExports.jsx("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",background:"#1c1f22"},children:jsxRuntimeExports.jsx("h4",{style:{margin:0,color:"#dadde3"},children:"Bng chi tit s liu"})}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#1a1b1d"},children:[jsxRuntimeExports.jsx("th",{style:tableHeaderStyle,children:"Hng ha"}),jsxRuntimeExports.jsx("th",{style:tableHeaderStyle,children:"Loi V th"}),jsxRuntimeExports.jsx("th",{style:{...tableHeaderStyle,textAlign:"right"},children:"S lng"}),jsxRuntimeExports.jsx("th",{style:{...tableHeaderStyle,textAlign:"right"},children:"Thay i"}),jsxRuntimeExports.jsx("th",{style:{...tableHeaderStyle,textAlign:"right"},children:"K trc"})]})}),jsxRuntimeExports.jsx("tbody",{children:er.tableData.map((yr,_r)=>jsxRuntimeExports.jsxs("tr",{style:{":hover":{background:"#f9fafb"}},children:[jsxRuntimeExports.jsx("td",{style:{...tableCellStyle,color:yr.commodity==="Vng"?"#e3a155":"#c6d0de",fontWeight:"bold"},children:yr.commodity}),jsxRuntimeExports.jsx("td",{style:tableCellStyle,children:yr.position_type==="Long"?jsxRuntimeExports.jsx("span",{style:{color:"#2563eb",background:"#dbeafe",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"MUA"}):yr.position_type==="Short"?jsxRuntimeExports.jsx("span",{style:{color:"#dc2626",background:"#fee2e2",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"BN"}):"RNG"}),jsxRuntimeExports.jsx("td",{style:{...tableCellStyle,textAlign:"right",fontWeight:"bold"},children:Number(yr.positions).toLocaleString()}),jsxRuntimeExports.jsxs("td",{style:{...tableCellStyle,textAlign:"right",color:yr.change_val>0?"#16a34a":yr.change_val<0?"#dc2626":"#9ca3af"},children:[yr.change_val>0?"+":"",Number(yr.change_val).toLocaleString()]}),jsxRuntimeExports.jsx("td",{style:{...tableCellStyle,textAlign:"right",color:"#6b7280"},children:Number(yr.positions_prev).toLocaleString()})]},_r))})]})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_tooltip,plugin_legend,index);const SHFEChart=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState(null),[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState("1M"),ur=(Lr,Fr)=>{const Vr=new Date(Lr);return Fr==="1W"||Fr==="1M"?`${Vr.getDate()}/${Vr.getMonth()+1}`:Fr==="1Y"?`${Vr.getMonth()+1}/${Vr.getFullYear()}`:typeof Fr=="number"?`Thg ${Vr.getMonth()+1}`:Vr.getFullYear().toString()},dr=Lr=>{if(!rr.length)return;const Fr=[...rr].sort((Hr,Yr)=>Hr.time-Yr.time),Vr=new Date(Fr[Fr.length-1].time);let Zr=[];if(Lr==="ALL")Zr=Fr;else if(Lr==="1W"){const Hr=new Date(Vr);Hr.setDate(Hr.getDate()-7),Zr=Fr.filter(Yr=>new Date(Yr.time)>=Hr)}else if(Lr==="1M"){const Hr=new Date(Vr);Hr.setMonth(Hr.getMonth()-1),Zr=Fr.filter(Yr=>new Date(Yr.time)>=Hr)}else if(Lr==="1Y"){const Hr=new Date(Vr);Hr.setFullYear(Hr.getFullYear()-1),Zr=Fr.filter(Yr=>new Date(Yr.time)>=Hr)}else typeof Lr=="number"&&(Zr=Fr.filter(Hr=>new Date(Hr.time).getFullYear()===Lr));cr(Lr),or(Zr)};reactExports.useEffect(()=>{(async()=>{er(!0),ir(null);try{let Fr=new Date,Vr=null,Zr=0;const Hr=7;for(;!Vr&&Zr<Hr;){const xo=String(Fr.getDate()).padStart(2,"0"),_o=String(Fr.getMonth()+1).padStart(2,"0"),Po=Fr.getFullYear(),Oo=`${xo}_${_o}_${Po}`;try{const So=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Oo}`);if(So.ok){const Ao=await So.json();if(Ao&&Array.isArray(Ao.data)&&Ao.data.length>0){Vr=Ao;break}}}catch{console.warn(`Ngy ${Oo} khng c d liu hoc li kt ni.`)}Fr.setDate(Fr.getDate()-1),Zr++}if(!Vr)throw new Error("Khng tm thy d liu trong 7 ngy gn nht.");const eo=Vr.data.reduce((xo,_o)=>{const Po=new Date(xo.modified_time.split("/").reverse().join("-"));return new Date(_o.modified_time.split("/").reverse().join("-"))>Po?_o:xo}).link.split("/").pop().replace(".json",""),[io,uo,so,no,po]=eo.split("_").map(xo=>parseInt(xo,10)),co=getVang247FileUrl(io,uo,so,no,po);if(!co)throw new Error("URL file khng hp l");const ao=(await fetchVang247SingleFile(co)).data?.bieudo?.[4]?.data;if(!ao||!ao.length)throw new Error("File SHFE khng c d liu biu ");sr(ao)}catch(Fr){ir(Fr.message||"Li khi ti d liu")}finally{er(!1)}})()},[]),reactExports.useEffect(()=>{rr.length&&dr("1M")},[rr]);const fr=reactExports.useMemo(()=>{const Lr=rr.map(Fr=>new Date(Fr.time).getFullYear());return[...new Set(Lr)].sort((Fr,Vr)=>Fr-Vr)},[rr]),xr=reactExports.useMemo(()=>ar.length?{labels:ar.map(Lr=>ur(Lr.time,lr)),datasets:[{label:"SHFE",data:ar.map(Lr=>Lr.usd),borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",fill:!0,tension:.4,pointRadius:0}]}:null,[ar,lr]),yr=Lr=>{if(!Lr||!Lr.length)return null;const Fr=Lr[Lr.length-1];return{usd:Fr.usd,time:Fr.time}},_r=reactExports.useMemo(()=>yr(ar),[ar]);function Sr(){const Lr=new Date;return new Date(Lr.getFullYear(),Lr.getMonth()+1,0).getDate()}const jr=Sr(),Dr=[{label:"1 ngy",days:1},{label:"2 ngy",days:2},{label:"3 ngy",days:3},{label:"1 tun",days:7},{label:"1 thng",days:jr},{label:"6 thng",days:jr*6}],Ir=(Lr,Fr)=>{if(!Lr||!Lr.length)return null;const Vr=new Date(Fr);Vr.setHours(0,0,0,0);const Zr=Lr.filter(Hr=>{const Yr=new Date(Hr.time);return Yr.setHours(0,0,0,0),Yr.getTime()===Vr.getTime()});return Zr.length?Zr[Zr.length-1]:null},Mr=reactExports.useMemo(()=>{if(!rr.length)return[];const Lr=[...rr].sort((Hr,Yr)=>Hr.time-Yr.time),Fr=Lr[Lr.length-1],Vr=new Date(Fr.time),Zr=Ir(Lr,Vr);return Zr?Dr.map(Hr=>{const Yr=new Date(Vr);Yr.setDate(Yr.getDate()-Hr.days);const eo=Ir(Lr,Yr);if(!eo)return null;const io=Zr.usd-eo.usd,uo=io/eo.usd*100;return{label:Hr.label,diff:io,percent:uo,fromUsd:eo.usd,toUsd:Zr.usd}}).filter(Boolean):[]},[rr]),Or={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{title:Lr=>{const Fr=ar[Lr[0].dataIndex];return new Date(Fr.time).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})},label:Lr=>{const Fr=ar[Lr.dataIndex],Vr=Fr.value;return[`Gi: ${Fr.usd.toFixed(2)} USD`,`Value: ${Vr}`]}}}},scales:{y:{ticks:{callback:Lr=>`$${Lr}`,color:"#f59e0b"},title:{display:!0,text:"USD",color:"#f59e0b"},beginAtZero:!0,min:0},x:{ticks:{color:"#fff"}}}};return Hn?jsxRuntimeExports.jsx("div",{children:"ang ti SHFE..."}):nr?jsxRuntimeExports.jsxs("div",{children:["Li: ",nr]}):xr?jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:16,boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:30,cursor:"pointer"},onClick:()=>tr("/chart/XOJ26"),children:"SHFE Silver Apr '26 (XOJ26) - Giao Dch Bc Tng Lai 26-Thng 4-2026"}),jsxRuntimeExports.jsx("div",{style:{background:"rgba(15, 23, 42, 0.55)",borderRadius:18,padding:24,border:"1px solid rgba(245, 158, 11, 0.15)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.35)"},children:jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:28,marginTop:20,position:"relative"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:"50%",width:1,background:"linear-gradient(to bottom, transparent, rgba(245, 158, 11, 0.25), transparent)",transform:"translateX(-50%)",pointerEvents:"none"}}),jsxRuntimeExports.jsx("div",{style:{background:"transparent"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[_r&&jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:16,background:"linear-gradient(135deg, rgba(45, 45, 10, 0.55), rgba(15, 23, 42, 0.55))",border:"1px solid rgba(245, 158, 11, 0.35)",borderRadius:14,marginBottom:16,display:"flex",flexDirection:"column",alignItems:"center",gap:6,boxShadow:"inset 0 0 0 1px rgba(255, 255, 255, 0.03)"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:15,fontWeight:500,color:"#9ca3af",textAlign:"center"},children:"Gi USD cui ngy"}),jsxRuntimeExports.jsxs("div",{style:{fontSize:26,fontWeight:800,color:"#f59e0b",letterSpacing:"0.5px",textShadow:"0 0 14px rgba(245, 158, 11, 0.45)"},children:[_r.usd.toFixed(2)," ",jsxRuntimeExports.jsx("span",{style:{fontSize:16,fontWeight:500,color:"#9ca3af",marginLeft:4},children:"USD"})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:15,color:"#9ca3af",opacity:.9,textAlign:"center"},children:new Date(_r.time).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})})]}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#fff3b0",fontSize:18,fontWeight:600,margin:"14px 0",display:"block",textAlign:"center"},children:"T l thay i"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:14,width:"100%",padding:18,background:"rgba(30, 41, 59, 0.45)",border:"1px solid rgba(245, 158, 11, 0.25)",borderRadius:14},children:Mr.map(Lr=>{const Fr=Lr.percent>=0;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"14px 12px",background:"rgba(15, 23, 42, 0.45)",borderRadius:12,border:"1px solid rgba(245, 158, 11, 0.25)",transition:"all 0.25s ease",cursor:"pointer"},onMouseEnter:Vr=>{Vr.currentTarget.style.transform="translateY(-2px)",Vr.currentTarget.style.borderColor="rgba(245, 158, 11, 0.6)"},onMouseLeave:Vr=>{Vr.currentTarget.style.transform="translateY(0)",Vr.currentTarget.style.borderColor="rgba(245, 158, 11, 0.25)"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:6},children:Lr.label}),jsxRuntimeExports.jsxs("div",{style:{fontSize:18,fontWeight:700,color:Fr?"#22c55e":"#ef4444"},children:[Lr.percent.toFixed(2)," %"]})]},Lr.label)})})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:8,marginTop:20,marginBottom:12,flexWrap:"wrap",justifyContent:"center",width:"100%"},children:["1W","1M","1Y","ALL"].map(Lr=>jsxRuntimeExports.jsx("button",{onClick:()=>dr(Lr),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:lr===Lr?"#f59e0b":"#494A50",color:lr===Lr?"#000":"#FFF",fontWeight:lr===Lr?"bold":"normal",transition:"all 0.3s ease"},children:Lr},Lr))}),fr.length>0&&jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:"0 12px",textAlign:"center",marginTop:12},children:[jsxRuntimeExports.jsx("input",{type:"range",min:Math.min(...fr),max:Math.max(...fr),value:typeof lr=="number"?lr:fr[0],onChange:Lr=>dr(Number(Lr.target.value)),style:{width:"100%"}}),jsxRuntimeExports.jsxs("div",{style:{marginTop:8,fontWeight:"bold",color:"#f59e0b"},children:["Nm: ",lr]})]})]})}),jsxRuntimeExports.jsx("div",{style:{background:"transparent"},children:jsxRuntimeExports.jsx("div",{style:{height:520,width:"100%",padding:20},children:jsxRuntimeExports.jsx(Line,{data:xr,options:Or})})})]})})]}):jsxRuntimeExports.jsx("div",{children:"Khng c d liu"})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_tooltip,plugin_legend,TimeScale);const timeRange=["7 ngy","30 ngy","90 ngy","1 nm"];function ReservesComexChart({type:tr="gold",title:Hn="Biu  d tr vng ca Comex"}){const[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("7 ngy");reactExports.useEffect(()=>{const lr=async cr=>{try{const dr=await(await fetch(cr)).json();dr&&dr?.status==="success"&&nr(dr?.data)}catch(ur){console.error(ur)}};tr==="gold"&&lr("https://api_gold.thinkdiff.us/comex_gold_data"),tr==="silver"&&lr("https://api_gold.thinkdiff.us/comex_silver_data")},[]);const sr=reactExports.useMemo(()=>{let lr=[];return ir==="7 ngy"?lr=er?.slice(-7):ir==="30 ngy"?lr=er?.slice(-30):ir==="90 ngy"?lr=er?.slice(-90):ir==="1 nm"?lr=er?.slice(-365):lr=_$2.cloneDeep(er),lr},[ir,er]),ar={labels:sr?.map(lr=>lr?.date),datasets:[{type:"line",label:"D tr(tn)",data:sr?.map(lr=>lr?.value),borderColor:tr==="gold"?"#FDE047":"#c9c3c3",backgroundColor:tr==="gold"?"#FDE047":"#c9c3c3",tension:.3,pointRadius:2}]},or={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{x:{border:{color:"#c9c3c3"},grid:{color:"rgba(255,255,255,0.05)"},ticks:{callback:function(lr,cr){const ur=this.getLabelForValue(lr),[,dr,fr]=ur.split("-");return`${fr}/${dr}`}}},y:{beginAtZero:!1,border:{color:"#c9c3c3"},grid:{color:"rgba(255,255,255,0.05)"},ticks:{callback:function(lr){return lr>=1e6?(lr/1e6).toFixed(1)+"M":lr}}}}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",color:tr==="gold"?"#FDE047":"#c9c3c3"},children:Hn}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"10px",padding:"20px"},children:timeRange.map(lr=>{const cr=ir===lr;return jsxRuntimeExports.jsx("button",{onClick:()=>rr(lr),style:{backgroundColor:cr?"#FDE047":"#4B5563",color:cr?"#000000":"#E5E7EB",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:cr?"bold":"normal",cursor:"pointer",transition:"all 0.2s",outline:"none"},children:lr},lr)})})}),jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",margin:"0 auto",position:"relative",padding:"0 20px"},children:er.length>0?jsxRuntimeExports.jsx(Chart,{type:"line",data:ar,options:or}):jsxRuntimeExports.jsx("p",{style:{textAlign:"center",marginTop:"50px",color:"#9CA3AF"},children:"ang ti d liu..."})})]})}const interaction={modes:{point(tr,Hn){return filterElements(tr,Hn,{intersect:!0})},nearest(tr,Hn,er){return getNearestItem(tr,Hn,er)},x(tr,Hn,er){return filterElements(tr,Hn,{intersect:er.intersect,axis:"x"})},y(tr,Hn,er){return filterElements(tr,Hn,{intersect:er.intersect,axis:"y"})}}};function getElements(tr,Hn,er){return(interaction.modes[er.mode]||interaction.modes.nearest)(tr,Hn,er)}function inRangeByAxis(tr,Hn,er){return er!=="x"&&er!=="y"?tr.inRange(Hn.x,Hn.y,"x",!0)||tr.inRange(Hn.x,Hn.y,"y",!0):tr.inRange(Hn.x,Hn.y,er,!0)}function getPointByAxis(tr,Hn,er){return er==="x"?{x:tr.x,y:Hn.y}:er==="y"?{x:Hn.x,y:tr.y}:Hn}function filterElements(tr,Hn,er){return tr.filter(nr=>er.intersect?nr.inRange(Hn.x,Hn.y):inRangeByAxis(nr,Hn,er.axis))}function getNearestItem(tr,Hn,er){let nr=Number.POSITIVE_INFINITY;return filterElements(tr,Hn,er).reduce((ir,rr)=>{const sr=rr.getCenterPoint(),ar=getPointByAxis(Hn,sr,er.axis),or=distanceBetweenPoints$1(Hn,ar);return or<nr?(ir=[rr],nr=or):or===nr&&ir.push(rr),ir},[]).sort((ir,rr)=>ir._index-rr._index).slice(0,1)}function rotated(tr,Hn,er){const nr=Math.cos(er),ir=Math.sin(er),rr=Hn.x,sr=Hn.y;return{x:rr+nr*(tr.x-rr)-ir*(tr.y-sr),y:sr+ir*(tr.x-rr)+nr*(tr.y-sr)}}const isOlderPart=(tr,Hn)=>Hn>tr||tr.length>Hn.length&&tr.slice(0,Hn.length)===Hn,EPSILON=.001,clamp=(tr,Hn,er)=>Math.min(er,Math.max(Hn,tr)),inLimit=(tr,Hn)=>tr.value>=tr.start-Hn&&tr.value<=tr.end+Hn;function clampAll(tr,Hn,er){for(const nr of Object.keys(tr))tr[nr]=clamp(tr[nr],Hn,er);return tr}function inPointRange(tr,Hn,er,nr){return!tr||!Hn||er<=0?!1:Math.pow(tr.x-Hn.x,2)+Math.pow(tr.y-Hn.y,2)<=Math.pow(er+nr,2)}function inBoxRange(tr,{x:Hn,y:er,x2:nr,y2:ir},rr,{borderWidth:sr,hitTolerance:ar}){const or=(sr+ar)/2,lr=tr.x>=Hn-or-EPSILON&&tr.x<=nr+or+EPSILON,cr=tr.y>=er-or-EPSILON&&tr.y<=ir+or+EPSILON;return rr==="x"?lr:(rr==="y"||lr)&&cr}function inLabelRange(tr,{rect:Hn,center:er},nr,{rotation:ir,borderWidth:rr,hitTolerance:sr}){const ar=rotated(tr,er,toRadians(-ir));return inBoxRange(ar,Hn,nr,{borderWidth:rr,hitTolerance:sr})}function getElementCenterPoint(tr,Hn){const{centerX:er,centerY:nr}=tr.getProps(["centerX","centerY"],Hn);return{x:er,y:nr}}function requireVersion(tr,Hn,er,nr=!0){const ir=er.split(".");let rr=0;for(const sr of Hn.split(".")){const ar=ir[rr++];if(parseInt(sr,10)<parseInt(ar,10))break;if(isOlderPart(ar,sr)){if(nr)throw new Error(`${tr} v${er} is not supported. v${Hn} or newer is required.`);return!1}}return!0}const isPercentString=tr=>typeof tr=="string"&&tr.endsWith("%"),toPercent$1=tr=>parseFloat(tr)/100,toPositivePercent=tr=>clamp(toPercent$1(tr),0,1),boxAppering=(tr,Hn)=>({x:tr,y:Hn,x2:tr,y2:Hn,width:0,height:0}),defaultInitAnimation={box:tr=>boxAppering(tr.centerX,tr.centerY),doughnutLabel:tr=>boxAppering(tr.centerX,tr.centerY),ellipse:tr=>({centerX:tr.centerX,centerY:tr.centerX,radius:0,width:0,height:0}),label:tr=>boxAppering(tr.centerX,tr.centerY),line:tr=>boxAppering(tr.x,tr.y),point:tr=>({centerX:tr.centerX,centerY:tr.centerY,radius:0,width:0,height:0}),polygon:tr=>boxAppering(tr.centerX,tr.centerY)};function getRelativePosition(tr,Hn){return Hn==="start"?0:Hn==="end"?tr:isPercentString(Hn)?toPositivePercent(Hn)*tr:tr/2}function getSize(tr,Hn,er=!0){return typeof Hn=="number"?Hn:isPercentString(Hn)?(er?toPositivePercent(Hn):toPercent$1(Hn))*tr:tr}function calculateTextAlignment(tr,Hn){const{x:er,width:nr}=tr,ir=Hn.textAlign;return ir==="center"?er+nr/2:ir==="end"||ir==="right"?er+nr:er}function measureLabelRectangle(tr,Hn,{borderWidth:er,position:nr,xAdjust:ir,yAdjust:rr},sr){const ar=isObject$2(sr),or=Hn.width+(ar?sr.width:0)+er,lr=Hn.height+(ar?sr.height:0)+er,cr=toPosition(nr),ur=calculateLabelPosition$1(tr.x,or,ir,cr.x),dr=calculateLabelPosition$1(tr.y,lr,rr,cr.y);return{x:ur,y:dr,x2:ur+or,y2:dr+lr,width:or,height:lr,centerX:ur+or/2,centerY:dr+lr/2}}function toPosition(tr,Hn="center"){return isObject$2(tr)?{x:valueOrDefault(tr.x,Hn),y:valueOrDefault(tr.y,Hn)}:(tr=valueOrDefault(tr,Hn),{x:tr,y:tr})}const shouldFit=(tr,Hn)=>tr&&tr.autoFit&&Hn<1;function toFonts(tr,Hn){const er=tr.font,nr=isArray$1(er)?er:[er];return shouldFit(tr,Hn)?nr.map(function(ir){const rr=toFont(ir);return rr.size=Math.floor(ir.size*Hn),rr.lineHeight=ir.lineHeight,toFont(rr)}):nr.map(ir=>toFont(ir))}function isBoundToPoint(tr){return tr&&(defined$1(tr.xValue)||defined$1(tr.yValue))}function calculateLabelPosition$1(tr,Hn,er=0,nr){return tr-getRelativePosition(Hn,nr)+er}function initAnimationProperties(tr,Hn,er){const nr=er.init;if(nr){if(nr===!0)return applyDefault(Hn,er)}else return;return execCallback(tr,Hn,er)}function loadHooks(tr,Hn,er){let nr=!1;return Hn.forEach(ir=>{isFunction$2(tr[ir])?(nr=!0,er[ir]=tr[ir]):defined$1(er[ir])&&delete er[ir]}),nr}function applyDefault(tr,Hn){const er=Hn.type||"line";return defaultInitAnimation[er](tr)}function execCallback(tr,Hn,er){const nr=callback(er.init,[{chart:tr,properties:Hn,options:er}]);if(nr===!0)return applyDefault(Hn,er);if(isObject$2(nr))return nr}const widthCache=new Map,notRadius=tr=>isNaN(tr)||tr<=0,fontsKey=tr=>tr.reduce(function(Hn,er){return Hn+=er.string,Hn},"");function isImageOrCanvas(tr){if(tr&&typeof tr=="object"){const Hn=tr.toString();return Hn==="[object HTMLImageElement]"||Hn==="[object HTMLCanvasElement]"}}function translate(tr,{x:Hn,y:er},nr){nr&&(tr.translate(Hn,er),tr.rotate(toRadians(nr)),tr.translate(-Hn,-er))}function setBorderStyle(tr,Hn){if(Hn&&Hn.borderWidth)return tr.lineCap=Hn.borderCapStyle||"butt",tr.setLineDash(Hn.borderDash),tr.lineDashOffset=Hn.borderDashOffset,tr.lineJoin=Hn.borderJoinStyle||"miter",tr.lineWidth=Hn.borderWidth,tr.strokeStyle=Hn.borderColor,!0}function setShadowStyle(tr,Hn){tr.shadowColor=Hn.backgroundShadowColor,tr.shadowBlur=Hn.shadowBlur,tr.shadowOffsetX=Hn.shadowOffsetX,tr.shadowOffsetY=Hn.shadowOffsetY}function measureLabelSize(tr,Hn){const er=Hn.content;if(isImageOrCanvas(er))return{width:getSize(er.width,Hn.width),height:getSize(er.height,Hn.height)};const nr=toFonts(Hn),ir=Hn.textStrokeWidth,rr=isArray$1(er)?er:[er],sr=rr.join()+fontsKey(nr)+ir+(tr._measureText?"-spriting":"");return widthCache.has(sr)||widthCache.set(sr,calculateLabelSize(tr,rr,nr,ir)),widthCache.get(sr)}function drawBox(tr,Hn,er){const{x:nr,y:ir,width:rr,height:sr}=Hn;tr.save(),setShadowStyle(tr,er);const ar=setBorderStyle(tr,er);tr.fillStyle=er.backgroundColor,tr.beginPath(),addRoundedRectPath(tr,{x:nr,y:ir,w:rr,h:sr,radius:clampAll(toTRBLCorners(er.borderRadius),0,Math.min(rr,sr)/2)}),tr.closePath(),tr.fill(),ar&&(tr.shadowColor=er.borderShadowColor,tr.stroke()),tr.restore()}function drawLabel(tr,Hn,er,nr){const ir=er.content;if(isImageOrCanvas(ir)){tr.save(),tr.globalAlpha=getOpacity(er.opacity,ir.style.opacity),tr.drawImage(ir,Hn.x,Hn.y,Hn.width,Hn.height),tr.restore();return}const rr=isArray$1(ir)?ir:[ir],sr=toFonts(er,nr),ar=er.color,or=isArray$1(ar)?ar:[ar],lr=calculateTextAlignment(Hn,er),cr=Hn.y+er.textStrokeWidth/2;tr.save(),tr.textBaseline="middle",tr.textAlign=er.textAlign,setTextStrokeStyle(tr,er)&&applyLabelDecoration(tr,{x:lr,y:cr},rr,sr),applyLabelContent(tr,{x:lr,y:cr},rr,{fonts:sr,colors:or}),tr.restore()}function setTextStrokeStyle(tr,Hn){if(Hn.textStrokeWidth>0)return tr.lineJoin="round",tr.miterLimit=2,tr.lineWidth=Hn.textStrokeWidth,tr.strokeStyle=Hn.textStrokeColor,!0}function drawPoint(tr,Hn,er,nr){const{radius:ir,options:rr}=Hn,sr=rr.pointStyle,ar=rr.rotation;let or=(ar||0)*RAD_PER_DEG;if(isImageOrCanvas(sr)){tr.save(),tr.translate(er,nr),tr.rotate(or),tr.drawImage(sr,-sr.width/2,-sr.height/2,sr.width,sr.height),tr.restore();return}notRadius(ir)||drawPointStyle(tr,{x:er,y:nr,radius:ir,rotation:ar,style:sr,rad:or})}function drawPointStyle(tr,{x:Hn,y:er,radius:nr,rotation:ir,style:rr,rad:sr}){let ar,or,lr,cr;switch(tr.beginPath(),rr){default:tr.arc(Hn,er,nr,0,TAU),tr.closePath();break;case"triangle":tr.moveTo(Hn+Math.sin(sr)*nr,er-Math.cos(sr)*nr),sr+=TWO_THIRDS_PI,tr.lineTo(Hn+Math.sin(sr)*nr,er-Math.cos(sr)*nr),sr+=TWO_THIRDS_PI,tr.lineTo(Hn+Math.sin(sr)*nr,er-Math.cos(sr)*nr),tr.closePath();break;case"rectRounded":cr=nr*.516,lr=nr-cr,ar=Math.cos(sr+QUARTER_PI)*lr,or=Math.sin(sr+QUARTER_PI)*lr,tr.arc(Hn-ar,er-or,cr,sr-PI,sr-HALF_PI),tr.arc(Hn+or,er-ar,cr,sr-HALF_PI,sr),tr.arc(Hn+ar,er+or,cr,sr,sr+HALF_PI),tr.arc(Hn-or,er+ar,cr,sr+HALF_PI,sr+PI),tr.closePath();break;case"rect":if(!ir){lr=Math.SQRT1_2*nr,tr.rect(Hn-lr,er-lr,2*lr,2*lr);break}sr+=QUARTER_PI;case"rectRot":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+or,er-ar),tr.lineTo(Hn+ar,er+or),tr.lineTo(Hn-or,er+ar),tr.closePath();break;case"crossRot":sr+=QUARTER_PI;case"cross":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or),tr.moveTo(Hn+or,er-ar),tr.lineTo(Hn-or,er+ar);break;case"star":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or),tr.moveTo(Hn+or,er-ar),tr.lineTo(Hn-or,er+ar),sr+=QUARTER_PI,ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or),tr.moveTo(Hn+or,er-ar),tr.lineTo(Hn-or,er+ar);break;case"line":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or);break;case"dash":tr.moveTo(Hn,er),tr.lineTo(Hn+Math.cos(sr)*nr,er+Math.sin(sr)*nr);break}tr.fill()}function calculateLabelSize(tr,Hn,er,nr){tr.save();const ir=Hn.length;let rr=0,sr=nr;for(let ar=0;ar<ir;ar++){const or=er[Math.min(ar,er.length-1)];tr.font=or.string;const lr=Hn[ar];rr=Math.max(rr,tr.measureText(lr).width+nr),sr+=or.lineHeight}return tr.restore(),{width:rr,height:sr}}function applyLabelDecoration(tr,{x:Hn,y:er},nr,ir){tr.beginPath();let rr=0;nr.forEach(function(sr,ar){const or=ir[Math.min(ar,ir.length-1)],lr=or.lineHeight;tr.font=or.string,tr.strokeText(sr,Hn,er+lr/2+rr),rr+=lr}),tr.stroke()}function applyLabelContent(tr,{x:Hn,y:er},nr,{fonts:ir,colors:rr}){let sr=0;nr.forEach(function(ar,or){const lr=rr[Math.min(or,rr.length-1)],cr=ir[Math.min(or,ir.length-1)],ur=cr.lineHeight;tr.beginPath(),tr.font=cr.string,tr.fillStyle=lr,tr.fillText(ar,Hn,er+ur/2+sr),sr+=ur,tr.fill()})}function getOpacity(tr,Hn){const er=isNumber$2(tr)?tr:Hn;return isNumber$2(er)?clamp(er,0,1):1}const positions=["left","bottom","top","right"];function drawCallout(tr,Hn){const{pointX:er,pointY:nr,options:ir}=Hn,rr=ir.callout,sr=rr&&rr.display&&resolveCalloutPosition(Hn,rr);if(!sr||isPointInRange(Hn,rr,sr))return;if(tr.save(),tr.beginPath(),!setBorderStyle(tr,rr))return tr.restore();const{separatorStart:or,separatorEnd:lr}=getCalloutSeparatorCoord(Hn,sr),{sideStart:cr,sideEnd:ur}=getCalloutSideCoord(Hn,sr,or);(rr.margin>0||ir.borderWidth===0)&&(tr.moveTo(or.x,or.y),tr.lineTo(lr.x,lr.y)),tr.moveTo(cr.x,cr.y),tr.lineTo(ur.x,ur.y);const dr=rotated({x:er,y:nr},Hn.getCenterPoint(),toRadians(-Hn.rotation));tr.lineTo(dr.x,dr.y),tr.stroke(),tr.restore()}function getCalloutSeparatorCoord(tr,Hn){const{x:er,y:nr,x2:ir,y2:rr}=tr,sr=getCalloutSeparatorAdjust(tr,Hn);let ar,or;return Hn==="left"||Hn==="right"?(ar={x:er+sr,y:nr},or={x:ar.x,y:rr}):(ar={x:er,y:nr+sr},or={x:ir,y:ar.y}),{separatorStart:ar,separatorEnd:or}}function getCalloutSeparatorAdjust(tr,Hn){const{width:er,height:nr,options:ir}=tr,rr=ir.callout.margin+ir.borderWidth/2;return Hn==="right"?er+rr:Hn==="bottom"?nr+rr:-rr}function getCalloutSideCoord(tr,Hn,er){const{y:nr,width:ir,height:rr,options:sr}=tr,ar=sr.callout.start,or=getCalloutSideAdjust(Hn,sr.callout);let lr,cr;return Hn==="left"||Hn==="right"?(lr={x:er.x,y:nr+getSize(rr,ar)},cr={x:lr.x+or,y:lr.y}):(lr={x:er.x+getSize(ir,ar),y:er.y},cr={x:lr.x,y:lr.y+or}),{sideStart:lr,sideEnd:cr}}function getCalloutSideAdjust(tr,Hn){const er=Hn.side;return tr==="left"||tr==="top"?-er:er}function resolveCalloutPosition(tr,Hn){const er=Hn.position;return positions.includes(er)?er:resolveCalloutAutoPosition(tr,Hn)}function resolveCalloutAutoPosition(tr,Hn){const{x:er,y:nr,x2:ir,y2:rr,width:sr,height:ar,pointX:or,pointY:lr,centerX:cr,centerY:ur,rotation:dr}=tr,fr={x:cr,y:ur},xr=Hn.start,yr=getSize(sr,xr),_r=getSize(ar,xr),Sr=[er,er+yr,er+yr,ir],jr=[nr+_r,rr,nr,rr],Dr=[];for(let Ir=0;Ir<4;Ir++){const Mr=rotated({x:Sr[Ir],y:jr[Ir]},fr,toRadians(dr));Dr.push({position:positions[Ir],distance:distanceBetweenPoints$1(Mr,{x:or,y:lr})})}return Dr.sort((Ir,Mr)=>Ir.distance-Mr.distance)[0].position}function isPointInRange(tr,Hn,er){const{pointX:nr,pointY:ir}=tr,rr=Hn.margin;let sr=nr,ar=ir;return er==="left"?sr+=rr:er==="right"?sr-=rr:er==="top"?ar+=rr:er==="bottom"&&(ar-=rr),tr.inRange(sr,ar)}const limitedLineScale={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function scaleValue(tr,Hn,er){return Hn=typeof Hn=="number"?Hn:tr.parse(Hn),isNumberFinite(Hn)?tr.getPixelForValue(Hn):er}function retrieveScaleID(tr,Hn,er){const nr=Hn[er];if(nr||er==="scaleID")return nr;const ir=er.charAt(0),rr=Object.values(tr).filter(sr=>sr.axis&&sr.axis===ir);return rr.length?rr[0].id:ir}function getDimensionByScale(tr,Hn){if(tr){const er=tr.options.reverse,nr=scaleValue(tr,Hn.min,er?Hn.end:Hn.start),ir=scaleValue(tr,Hn.max,er?Hn.start:Hn.end);return{start:nr,end:ir}}}function getChartPoint(tr,Hn){const{chartArea:er,scales:nr}=tr,ir=nr[retrieveScaleID(nr,Hn,"xScaleID")],rr=nr[retrieveScaleID(nr,Hn,"yScaleID")];let sr=er.width/2,ar=er.height/2;return ir&&(sr=scaleValue(ir,Hn.xValue,ir.left+ir.width/2)),rr&&(ar=scaleValue(rr,Hn.yValue,rr.top+rr.height/2)),{x:sr,y:ar}}function resolveBoxProperties(tr,Hn){const er=tr.scales,nr=er[retrieveScaleID(er,Hn,"xScaleID")],ir=er[retrieveScaleID(er,Hn,"yScaleID")];if(!nr&&!ir)return{};let{left:rr,right:sr}=nr||tr.chartArea,{top:ar,bottom:or}=ir||tr.chartArea;const lr=getChartDimensionByScale(nr,{min:Hn.xMin,max:Hn.xMax,start:rr,end:sr});rr=lr.start,sr=lr.end;const cr=getChartDimensionByScale(ir,{min:Hn.yMin,max:Hn.yMax,start:or,end:ar});return ar=cr.start,or=cr.end,{x:rr,y:ar,x2:sr,y2:or,width:sr-rr,height:or-ar,centerX:rr+(sr-rr)/2,centerY:ar+(or-ar)/2}}function resolvePointProperties(tr,Hn){if(!isBoundToPoint(Hn)){const er=resolveBoxProperties(tr,Hn);let nr=Hn.radius;(!nr||isNaN(nr))&&(nr=Math.min(er.width,er.height)/2,Hn.radius=nr);const ir=nr*2,rr=er.centerX+Hn.xAdjust,sr=er.centerY+Hn.yAdjust;return{x:rr-nr,y:sr-nr,x2:rr+nr,y2:sr+nr,centerX:rr,centerY:sr,width:ir,height:ir,radius:nr}}return getChartCircle(tr,Hn)}function resolveLineProperties(tr,Hn){const{scales:er,chartArea:nr}=tr,ir=er[Hn.scaleID],rr={x:nr.left,y:nr.top,x2:nr.right,y2:nr.bottom};return ir?resolveFullLineProperties(ir,rr,Hn):resolveLimitedLineProperties(er,rr,Hn),rr}function resolveBoxAndLabelProperties(tr,Hn){const er=resolveBoxProperties(tr,Hn);return er.initProperties=initAnimationProperties(tr,er,Hn),er.elements=[{type:"label",optionScope:"label",properties:resolveLabelElementProperties$1(tr,er,Hn),initProperties:er.initProperties}],er}function getChartCircle(tr,Hn){const er=getChartPoint(tr,Hn),nr=Hn.radius*2;return{x:er.x-Hn.radius+Hn.xAdjust,y:er.y-Hn.radius+Hn.yAdjust,x2:er.x+Hn.radius+Hn.xAdjust,y2:er.y+Hn.radius+Hn.yAdjust,centerX:er.x+Hn.xAdjust,centerY:er.y+Hn.yAdjust,radius:Hn.radius,width:nr,height:nr}}function getChartDimensionByScale(tr,Hn){const er=getDimensionByScale(tr,Hn)||Hn;return{start:Math.min(er.start,er.end),end:Math.max(er.start,er.end)}}function resolveFullLineProperties(tr,Hn,er){const nr=scaleValue(tr,er.value,NaN),ir=scaleValue(tr,er.endValue,nr);tr.isHorizontal()?(Hn.x=nr,Hn.x2=ir):(Hn.y=nr,Hn.y2=ir)}function resolveLimitedLineProperties(tr,Hn,er){for(const nr of Object.keys(limitedLineScale)){const ir=tr[retrieveScaleID(tr,er,nr)];if(ir){const{min:rr,max:sr,start:ar,end:or,startProp:lr,endProp:cr}=limitedLineScale[nr],ur=getDimensionByScale(ir,{min:er[rr],max:er[sr],start:ir[ar],end:ir[or]});Hn[lr]=ur.start,Hn[cr]=ur.end}}}function calculateX({properties:tr,options:Hn},er,nr,ir){const{x:rr,x2:sr,width:ar}=tr;return calculatePosition({start:rr,end:sr,borderWidth:Hn.borderWidth},{position:nr.x,padding:{start:ir.left,end:ir.right},adjust:Hn.label.xAdjust,size:er.width})}function calculateY({properties:tr,options:Hn},er,nr,ir){const{y:rr,y2:sr,height:ar}=tr;return calculatePosition({start:rr,end:sr,borderWidth:Hn.borderWidth},{position:nr.y,padding:{start:ir.top,end:ir.bottom},adjust:Hn.label.yAdjust,size:er.height})}function calculatePosition(tr,Hn){const{start:er,end:nr,borderWidth:ir}=tr,{position:rr,padding:{start:sr,end:ar},adjust:or}=Hn,lr=nr-ir-er-sr-ar-Hn.size;return er+ir/2+or+getRelativePosition(lr,rr)}function resolveLabelElementProperties$1(tr,Hn,er){const nr=er.label;nr.backgroundColor="transparent",nr.callout.display=!1;const ir=toPosition(nr.position),rr=toPadding(nr.padding),sr=measureLabelSize(tr.ctx,nr),ar=calculateX({properties:Hn,options:er},sr,ir,rr),or=calculateY({properties:Hn,options:er},sr,ir,rr),lr=sr.width+rr.width,cr=sr.height+rr.height;return{x:ar,y:or,x2:ar+lr,y2:or+cr,width:lr,height:cr,centerX:ar+lr/2,centerY:or+cr/2,rotation:nr.rotation}}const moveHooks=["enter","leave"],eventHooks=moveHooks.concat("click");function updateListeners(tr,Hn,er){Hn.listened=loadHooks(er,eventHooks,Hn.listeners),Hn.moveListened=!1,moveHooks.forEach(nr=>{isFunction$2(er[nr])&&(Hn.moveListened=!0)}),(!Hn.listened||!Hn.moveListened)&&Hn.annotations.forEach(nr=>{!Hn.listened&&isFunction$2(nr.click)&&(Hn.listened=!0),Hn.moveListened||moveHooks.forEach(ir=>{isFunction$2(nr[ir])&&(Hn.listened=!0,Hn.moveListened=!0)})})}function handleEvent(tr,Hn,er){if(tr.listened)switch(Hn.type){case"mousemove":case"mouseout":return handleMoveEvents(tr,Hn,er);case"click":return handleClickEvents(tr,Hn,er)}}function handleMoveEvents(tr,Hn,er){if(!tr.moveListened)return;let nr;Hn.type==="mousemove"?nr=getElements(tr.visibleElements,Hn,er.interaction):nr=[];const ir=tr.hovered;tr.hovered=nr;const rr={state:tr,event:Hn};let sr=dispatchMoveEvents(rr,"leave",ir,nr);return dispatchMoveEvents(rr,"enter",nr,ir)||sr}function dispatchMoveEvents({state:tr,event:Hn},er,nr,ir){let rr;for(const sr of nr)ir.indexOf(sr)<0&&(rr=dispatchEvent(sr.options[er]||tr.listeners[er],sr,Hn)||rr);return rr}function handleClickEvents(tr,Hn,er){const nr=tr.listeners,ir=getElements(tr.visibleElements,Hn,er.interaction);let rr;for(const sr of ir)rr=dispatchEvent(sr.options.click||nr.click,sr,Hn)||rr;return rr}function dispatchEvent(tr,Hn,er){return callback(tr,[Hn.$context,er])===!0}const elementHooks=["afterDraw","beforeDraw"];function updateHooks(tr,Hn,er){const nr=Hn.visibleElements;Hn.hooked=loadHooks(er,elementHooks,Hn.hooks),Hn.hooked||nr.forEach(ir=>{Hn.hooked||elementHooks.forEach(rr=>{isFunction$2(ir.options[rr])&&(Hn.hooked=!0)})})}function invokeHook(tr,Hn,er){if(tr.hooked){const nr=Hn.options[er]||tr.hooks[er];return callback(nr,[Hn.$context])}}function adjustScaleRange(tr,Hn,er){const nr=getScaleLimits(tr.scales,Hn,er);let ir=changeScaleLimit(Hn,nr,"min","suggestedMin");ir=changeScaleLimit(Hn,nr,"max","suggestedMax")||ir,ir&&isFunction$2(Hn.handleTickRangeOptions)&&Hn.handleTickRangeOptions()}function verifyScaleOptions(tr,Hn){for(const er of tr)verifyScaleIDs(er,Hn)}function changeScaleLimit(tr,Hn,er,nr){if(isNumberFinite(Hn[er])&&!scaleLimitDefined(tr.options,er,nr)){const ir=tr[er]!==Hn[er];return tr[er]=Hn[er],ir}}function scaleLimitDefined(tr,Hn,er){return defined$1(tr[Hn])||defined$1(tr[er])}function verifyScaleIDs(tr,Hn){for(const er of["scaleID","xScaleID","yScaleID"]){const nr=retrieveScaleID(Hn,tr,er);nr&&!Hn[nr]&&verifyProperties(tr,er)&&console.warn(`No scale found with id '${nr}' for annotation '${tr.id}'`)}}function verifyProperties(tr,Hn){if(Hn==="scaleID")return!0;const er=Hn.charAt(0);for(const nr of["Min","Max","Value"])if(defined$1(tr[er+nr]))return!0;return!1}function getScaleLimits(tr,Hn,er){const nr=Hn.axis,ir=Hn.id,rr=nr+"ScaleID",sr={min:valueOrDefault(Hn.min,Number.NEGATIVE_INFINITY),max:valueOrDefault(Hn.max,Number.POSITIVE_INFINITY)};for(const ar of er)ar.scaleID===ir?updateLimits(ar,Hn,["value","endValue"],sr):retrieveScaleID(tr,ar,rr)===ir&&updateLimits(ar,Hn,[nr+"Min",nr+"Max",nr+"Value"],sr);return sr}function updateLimits(tr,Hn,er,nr){for(const ir of er){const rr=tr[ir];if(defined$1(rr)){const sr=Hn.parse(rr);nr.min=Math.min(nr.min,sr),nr.max=Math.max(nr.max,sr)}}}class BoxAnnotation extends Element$1{inRange(Hn,er,nr,ir){const{x:rr,y:sr}=rotated({x:Hn,y:er},this.getCenterPoint(ir),toRadians(-this.options.rotation));return inBoxRange({x:rr,y:sr},this.getProps(["x","y","x2","y2"],ir),nr,this.options)}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){Hn.save(),translate(Hn,this.getCenterPoint(),this.options.rotation),drawBox(Hn,this,this.options),Hn.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(Hn,er){return resolveBoxAndLabelProperties(Hn,er)}}BoxAnnotation.id="boxAnnotation";BoxAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};BoxAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};BoxAnnotation.descriptors={label:{_fallback:!0}};class DoughnutLabelAnnotation extends Element$1{inRange(Hn,er,nr,ir){return inLabelRange({x:Hn,y:er},{rect:this.getProps(["x","y","x2","y2"],ir),center:this.getCenterPoint(ir)},nr,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const er=this.options;!er.display||!er.content||(drawBackground(Hn,this),Hn.save(),translate(Hn,this.getCenterPoint(),this.rotation),drawLabel(Hn,this,er,this._fitRatio),Hn.restore())}resolveElementProperties(Hn,er){const nr=getDatasetMeta(Hn,er);if(!nr)return{};const{controllerMeta:ir,point:rr,radius:sr}=getControllerMeta(Hn,er,nr);let ar=measureLabelSize(Hn.ctx,er);const or=getFitRatio(ar,sr);shouldFit(er,or)&&(ar={width:ar.width*or,height:ar.height*or});const{position:lr,xAdjust:cr,yAdjust:ur}=er,dr=measureLabelRectangle(rr,ar,{borderWidth:0,position:lr,xAdjust:cr,yAdjust:ur});return{initProperties:initAnimationProperties(Hn,dr,er),...dr,...ir,rotation:er.rotation,_fitRatio:or}}}DoughnutLabelAnnotation.id="doughnutLabelAnnotation";DoughnutLabelAnnotation.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};DoughnutLabelAnnotation.defaultRoutes={};function getDatasetMeta(tr,Hn){return tr.getSortedVisibleDatasetMetas().reduce(function(er,nr){const ir=nr.controller;return ir instanceof DoughnutController&&isControllerVisible(tr,Hn,nr.data)&&(!er||ir.innerRadius<er.controller.innerRadius)&&ir.options.circumference>=90?nr:er},void 0)}function isControllerVisible(tr,Hn,er){if(!Hn.autoHide)return!0;for(let nr=0;nr<er.length;nr++)if(!er[nr].hidden&&tr.getDataVisibility(nr))return!0}function getControllerMeta({chartArea:tr},Hn,er){const{left:nr,top:ir,right:rr,bottom:sr}=tr,{innerRadius:ar,offsetX:or,offsetY:lr}=er.controller,cr=(nr+rr)/2+or,ur=(ir+sr)/2+lr,dr={left:Math.max(cr-ar,nr),right:Math.min(cr+ar,rr),top:Math.max(ur-ar,ir),bottom:Math.min(ur+ar,sr)},fr={x:(dr.left+dr.right)/2,y:(dr.top+dr.bottom)/2},xr=Hn.spacing+Hn.borderWidth/2,yr=ar-xr,_r=fr.y>ur,Sr=_r?ir+xr:sr-xr,jr=getAngles(Sr,cr,ur,yr);return{controllerMeta:{_centerX:cr,_centerY:ur,_radius:yr,_counterclockwise:_r,...jr},point:fr,radius:Math.min(ar,Math.min(dr.right-dr.left,dr.bottom-dr.top)/2)}}function getFitRatio({width:tr,height:Hn},er){const nr=Math.sqrt(Math.pow(tr,2)+Math.pow(Hn,2));return er*2/nr}function getAngles(tr,Hn,er,nr){const ir=Math.pow(er-tr,2),rr=Math.pow(nr,2),sr=Hn*-2,ar=Math.pow(Hn,2)+ir-rr,or=Math.pow(sr,2)-4*ar;if(or<=0)return{_startAngle:0,_endAngle:TAU};const lr=(-sr-Math.sqrt(or))/2,cr=(-sr+Math.sqrt(or))/2;return{_startAngle:getAngleFromPoint({x:Hn,y:er},{x:lr,y:tr}).angle,_endAngle:getAngleFromPoint({x:Hn,y:er},{x:cr,y:tr}).angle}}function drawBackground(tr,Hn){const{_centerX:er,_centerY:nr,_radius:ir,_startAngle:rr,_endAngle:sr,_counterclockwise:ar,options:or}=Hn;tr.save();const lr=setBorderStyle(tr,or);tr.fillStyle=or.backgroundColor,tr.beginPath(),tr.arc(er,nr,ir,rr,sr,ar),tr.closePath(),tr.fill(),lr&&tr.stroke(),tr.restore()}class LabelAnnotation extends Element$1{inRange(Hn,er,nr,ir){return inLabelRange({x:Hn,y:er},{rect:this.getProps(["x","y","x2","y2"],ir),center:this.getCenterPoint(ir)},nr,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const er=this.options,nr=!defined$1(this._visible)||this._visible;!er.display||!er.content||!nr||(Hn.save(),translate(Hn,this.getCenterPoint(),this.rotation),drawCallout(Hn,this),drawBox(Hn,this,er),drawLabel(Hn,getLabelSize(this),er),Hn.restore())}resolveElementProperties(Hn,er){let nr;if(isBoundToPoint(er))nr=getChartPoint(Hn,er);else{const{centerX:ar,centerY:or}=resolveBoxProperties(Hn,er);nr={x:ar,y:or}}const ir=toPadding(er.padding),rr=measureLabelSize(Hn.ctx,er),sr=measureLabelRectangle(nr,rr,er,ir);return{initProperties:initAnimationProperties(Hn,sr,er),pointX:nr.x,pointY:nr.y,...sr,rotation:er.rotation}}}LabelAnnotation.id="labelAnnotation";LabelAnnotation.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};LabelAnnotation.defaultRoutes={borderColor:"color"};function getLabelSize({x:tr,y:Hn,width:er,height:nr,options:ir}){const rr=ir.borderWidth/2,sr=toPadding(ir.padding);return{x:tr+sr.left+rr,y:Hn+sr.top+rr,width:er-sr.left-sr.right-ir.borderWidth,height:nr-sr.top-sr.bottom-ir.borderWidth}}const pointInLine=(tr,Hn,er)=>({x:tr.x+er*(Hn.x-tr.x),y:tr.y+er*(Hn.y-tr.y)}),interpolateX=(tr,Hn,er)=>pointInLine(Hn,er,Math.abs((tr-Hn.y)/(er.y-Hn.y))).x,interpolateY=(tr,Hn,er)=>pointInLine(Hn,er,Math.abs((tr-Hn.x)/(er.x-Hn.x))).y,sqr=tr=>tr*tr,rangeLimit=(tr,Hn,{x:er,y:nr,x2:ir,y2:rr},sr)=>sr==="y"?{start:Math.min(nr,rr),end:Math.max(nr,rr),value:Hn}:{start:Math.min(er,ir),end:Math.max(er,ir),value:tr},coordInCurve=(tr,Hn,er,nr)=>(1-nr)*(1-nr)*tr+2*(1-nr)*nr*Hn+nr*nr*er,pointInCurve=(tr,Hn,er,nr)=>({x:coordInCurve(tr.x,Hn.x,er.x,nr),y:coordInCurve(tr.y,Hn.y,er.y,nr)}),coordAngleInCurve=(tr,Hn,er,nr)=>2*(1-nr)*(Hn-tr)+2*nr*(er-Hn),angleInCurve=(tr,Hn,er,nr)=>-Math.atan2(coordAngleInCurve(tr.x,Hn.x,er.x,nr),coordAngleInCurve(tr.y,Hn.y,er.y,nr))+.5*PI;class LineAnnotation extends Element$1{inRange(Hn,er,nr,ir){const rr=(this.options.borderWidth+this.options.hitTolerance)/2;if(nr!=="x"&&nr!=="y"){const sr={mouseX:Hn,mouseY:er},{path:ar,ctx:or}=this;if(ar){setBorderStyle(or,this.options),or.lineWidth+=this.options.hitTolerance;const{chart:cr}=this.$context,ur=Hn*cr.currentDevicePixelRatio,dr=er*cr.currentDevicePixelRatio,fr=or.isPointInStroke(ar,ur,dr)||isOnLabel(this,sr,ir);return or.restore(),fr}const lr=sqr(rr);return intersects(this,sr,lr,ir)||isOnLabel(this,sr,ir)}return inAxisRange(this,{mouseX:Hn,mouseY:er},nr,{hitSize:rr,useFinalPosition:ir})}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const{x:er,y:nr,x2:ir,y2:rr,cp:sr,options:ar}=this;if(Hn.save(),!setBorderStyle(Hn,ar))return Hn.restore();setShadowStyle(Hn,ar);const or=Math.sqrt(Math.pow(ir-er,2)+Math.pow(rr-nr,2));if(ar.curve&&sr)return drawCurve(Hn,this,sr,or),Hn.restore();const{startOpts:lr,endOpts:cr,startAdjust:ur,endAdjust:dr}=getArrowHeads(this),fr=Math.atan2(rr-nr,ir-er);Hn.translate(er,nr),Hn.rotate(fr),Hn.beginPath(),Hn.moveTo(0+ur,0),Hn.lineTo(or-dr,0),Hn.shadowColor=ar.borderShadowColor,Hn.stroke(),drawArrowHead(Hn,0,ur,lr),drawArrowHead(Hn,or,-dr,cr),Hn.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(Hn,er){const nr=resolveLineProperties(Hn,er),{x:ir,y:rr,x2:sr,y2:ar}=nr,or=isLineInArea(nr,Hn.chartArea),lr=or?limitLineToArea({x:ir,y:rr},{x:sr,y:ar},Hn.chartArea):{x:ir,y:rr,x2:sr,y2:ar,width:Math.abs(sr-ir),height:Math.abs(ar-rr)};if(lr.centerX=(sr+ir)/2,lr.centerY=(ar+rr)/2,lr.initProperties=initAnimationProperties(Hn,lr,er),er.curve){const ur={x:lr.x,y:lr.y},dr={x:lr.x2,y:lr.y2};lr.cp=getControlPoint(lr,er,distanceBetweenPoints$1(ur,dr))}const cr=resolveLabelElementProperties(Hn,lr,er.label);return cr._visible=or,lr.elements=[{type:"label",optionScope:"label",properties:cr,initProperties:lr.initProperties}],lr}}LineAnnotation.id="lineAnnotation";const arrowHeadsDefaults={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};LineAnnotation.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},arrowHeadsDefaults),fill:!1,length:12,start:Object.assign({},arrowHeadsDefaults),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},LabelAnnotation.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};LineAnnotation.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};LineAnnotation.defaultRoutes={borderColor:"color"};function inAxisRange(tr,{mouseX:Hn,mouseY:er},nr,{hitSize:ir,useFinalPosition:rr}){const sr=rangeLimit(Hn,er,tr.getProps(["x","y","x2","y2"],rr),nr);return inLimit(sr,ir)||isOnLabel(tr,{mouseX:Hn,mouseY:er},rr,nr)}function isLineInArea({x:tr,y:Hn,x2:er,y2:nr},{top:ir,right:rr,bottom:sr,left:ar}){return!(tr<ar&&er<ar||tr>rr&&er>rr||Hn<ir&&nr<ir||Hn>sr&&nr>sr)}function limitPointToArea({x:tr,y:Hn},er,{top:nr,right:ir,bottom:rr,left:sr}){return tr<sr&&(Hn=interpolateY(sr,{x:tr,y:Hn},er),tr=sr),tr>ir&&(Hn=interpolateY(ir,{x:tr,y:Hn},er),tr=ir),Hn<nr&&(tr=interpolateX(nr,{x:tr,y:Hn},er),Hn=nr),Hn>rr&&(tr=interpolateX(rr,{x:tr,y:Hn},er),Hn=rr),{x:tr,y:Hn}}function limitLineToArea(tr,Hn,er){const{x:nr,y:ir}=limitPointToArea(tr,Hn,er),{x:rr,y:sr}=limitPointToArea(Hn,tr,er);return{x:nr,y:ir,x2:rr,y2:sr,width:Math.abs(rr-nr),height:Math.abs(sr-ir)}}function intersects(tr,{mouseX:Hn,mouseY:er},nr=EPSILON,ir){const{x:rr,y:sr,x2:ar,y2:or}=tr.getProps(["x","y","x2","y2"],ir),lr=ar-rr,cr=or-sr,ur=sqr(lr)+sqr(cr),dr=ur===0?-1:((Hn-rr)*lr+(er-sr)*cr)/ur;let fr,xr;return dr<0?(fr=rr,xr=sr):dr>1?(fr=ar,xr=or):(fr=rr+dr*lr,xr=sr+dr*cr),sqr(Hn-fr)+sqr(er-xr)<=nr}function isOnLabel(tr,{mouseX:Hn,mouseY:er},nr,ir){const rr=tr.label;return rr.options.display&&rr.inRange(Hn,er,ir,nr)}function resolveLabelElementProperties(tr,Hn,er){const nr=er.borderWidth,ir=toPadding(er.padding),rr=measureLabelSize(tr.ctx,er),sr=rr.width+ir.width+nr,ar=rr.height+ir.height+nr;return calculateLabelPosition(Hn,er,{width:sr,height:ar,padding:ir},tr.chartArea)}function calculateAutoRotation(tr){const{x:Hn,y:er,x2:nr,y2:ir}=tr,rr=Math.atan2(ir-er,nr-Hn);return rr>PI/2?rr-PI:rr<PI/-2?rr+PI:rr}function calculateLabelPosition(tr,Hn,er,nr){const{width:ir,height:rr,padding:sr}=er,{xAdjust:ar,yAdjust:or}=Hn,lr={x:tr.x,y:tr.y},cr={x:tr.x2,y:tr.y2},ur=Hn.rotation==="auto"?calculateAutoRotation(tr):toRadians(Hn.rotation),dr=rotatedSize(ir,rr,ur),fr=calculateT(tr,Hn,{labelSize:dr,padding:sr},nr),xr=tr.cp?pointInCurve(lr,tr.cp,cr,fr):pointInLine(lr,cr,fr),yr={size:dr.w,min:nr.left,max:nr.right,padding:sr.left},_r={size:dr.h,min:nr.top,max:nr.bottom,padding:sr.top},Sr=adjustLabelCoordinate(xr.x,yr)+ar,jr=adjustLabelCoordinate(xr.y,_r)+or;return{x:Sr-ir/2,y:jr-rr/2,x2:Sr+ir/2,y2:jr+rr/2,centerX:Sr,centerY:jr,pointX:xr.x,pointY:xr.y,width:ir,height:rr,rotation:toDegrees(ur)}}function rotatedSize(tr,Hn,er){const nr=Math.cos(er),ir=Math.sin(er);return{w:Math.abs(tr*nr)+Math.abs(Hn*ir),h:Math.abs(tr*ir)+Math.abs(Hn*nr)}}function calculateT(tr,Hn,er,nr){let ir;const rr=spaceAround(tr,nr);return Hn.position==="start"?ir=calculateTAdjust({w:tr.x2-tr.x,h:tr.y2-tr.y},er,Hn,rr):Hn.position==="end"?ir=1-calculateTAdjust({w:tr.x-tr.x2,h:tr.y-tr.y2},er,Hn,rr):ir=getRelativePosition(1,Hn.position),ir}function calculateTAdjust(tr,Hn,er,nr){const{labelSize:ir,padding:rr}=Hn,sr=tr.w*nr.dx,ar=tr.h*nr.dy,or=sr>0&&(ir.w/2+rr.left-nr.x)/sr,lr=ar>0&&(ir.h/2+rr.top-nr.y)/ar;return clamp(Math.max(or,lr),0,.25)}function spaceAround(tr,Hn){const{x:er,x2:nr,y:ir,y2:rr}=tr,sr=Math.min(ir,rr)-Hn.top,ar=Math.min(er,nr)-Hn.left,or=Hn.bottom-Math.max(ir,rr),lr=Hn.right-Math.max(er,nr);return{x:Math.min(ar,lr),y:Math.min(sr,or),dx:ar<=lr?1:-1,dy:sr<=or?1:-1}}function adjustLabelCoordinate(tr,Hn){const{size:er,min:nr,max:ir,padding:rr}=Hn,sr=er/2;return er>ir-nr?(ir+nr)/2:(nr>=tr-rr-sr&&(tr=nr+rr+sr),ir<=tr+rr+sr&&(tr=ir-rr-sr),tr)}function getArrowHeads(tr){const Hn=tr.options,er=Hn.arrowHeads&&Hn.arrowHeads.start,nr=Hn.arrowHeads&&Hn.arrowHeads.end;return{startOpts:er,endOpts:nr,startAdjust:getLineAdjust(tr,er),endAdjust:getLineAdjust(tr,nr)}}function getLineAdjust(tr,Hn){if(!Hn||!Hn.display)return 0;const{length:er,width:nr}=Hn,ir=tr.options.borderWidth/2,rr={x:er,y:nr+ir};return Math.abs(interpolateX(0,rr,{x:0,y:ir}))}function drawArrowHead(tr,Hn,er,nr){if(!nr||!nr.display)return;const{length:ir,width:rr,fill:sr,backgroundColor:ar,borderColor:or}=nr,lr=Math.abs(Hn-ir)+er;tr.beginPath(),setShadowStyle(tr,nr),setBorderStyle(tr,nr),tr.moveTo(lr,-rr),tr.lineTo(Hn+er,0),tr.lineTo(lr,rr),sr===!0?(tr.fillStyle=ar||or,tr.closePath(),tr.fill(),tr.shadowColor="transparent"):tr.shadowColor=nr.borderShadowColor,tr.stroke()}function getControlPoint(tr,Hn,er){const{x:nr,y:ir,x2:rr,y2:sr,centerX:ar,centerY:or}=tr,lr=Math.atan2(sr-ir,rr-nr),cr=toPosition(Hn.controlPoint,0),ur={x:ar+getSize(er,cr.x,!1),y:or+getSize(er,cr.y,!1)};return rotated(ur,{x:ar,y:or},lr)}function drawArrowHeadOnCurve(tr,{x:Hn,y:er},{angle:nr,adjust:ir},rr){!rr||!rr.display||(tr.save(),tr.translate(Hn,er),tr.rotate(nr),drawArrowHead(tr,0,-ir,rr),tr.restore())}function drawCurve(tr,Hn,er,nr){const{x:ir,y:rr,x2:sr,y2:ar,options:or}=Hn,{startOpts:lr,endOpts:cr,startAdjust:ur,endAdjust:dr}=getArrowHeads(Hn),fr={x:ir,y:rr},xr={x:sr,y:ar},yr=angleInCurve(fr,er,xr,0),_r=angleInCurve(fr,er,xr,1)-PI,Sr=pointInCurve(fr,er,xr,ur/nr),jr=pointInCurve(fr,er,xr,1-dr/nr),Dr=new Path2D;tr.beginPath(),Dr.moveTo(Sr.x,Sr.y),Dr.quadraticCurveTo(er.x,er.y,jr.x,jr.y),tr.shadowColor=or.borderShadowColor,tr.stroke(Dr),Hn.path=Dr,Hn.ctx=tr,drawArrowHeadOnCurve(tr,Sr,{angle:yr,adjust:ur},lr),drawArrowHeadOnCurve(tr,jr,{angle:_r,adjust:dr},cr)}class EllipseAnnotation extends Element$1{inRange(Hn,er,nr,ir){const rr=this.options.rotation,sr=(this.options.borderWidth+this.options.hitTolerance)/2;if(nr!=="x"&&nr!=="y")return pointInEllipse({x:Hn,y:er},this.getProps(["width","height","centerX","centerY"],ir),rr,sr);const{x:ar,y:or,x2:lr,y2:cr}=this.getProps(["x","y","x2","y2"],ir),ur=nr==="y"?{start:or,end:cr}:{start:ar,end:lr},dr=rotated({x:Hn,y:er},this.getCenterPoint(ir),toRadians(-rr));return dr[nr]>=ur.start-sr-EPSILON&&dr[nr]<=ur.end+sr+EPSILON}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const{width:er,height:nr,centerX:ir,centerY:rr,options:sr}=this;Hn.save(),translate(Hn,this.getCenterPoint(),sr.rotation),setShadowStyle(Hn,this.options),Hn.beginPath(),Hn.fillStyle=sr.backgroundColor;const ar=setBorderStyle(Hn,sr);Hn.ellipse(ir,rr,nr/2,er/2,PI/2,0,2*PI),Hn.fill(),ar&&(Hn.shadowColor=sr.borderShadowColor,Hn.stroke()),Hn.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(Hn,er){return resolveBoxAndLabelProperties(Hn,er)}}EllipseAnnotation.id="ellipseAnnotation";EllipseAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},BoxAnnotation.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};EllipseAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};EllipseAnnotation.descriptors={label:{_fallback:!0}};function pointInEllipse(tr,Hn,er,nr){const{width:ir,height:rr,centerX:sr,centerY:ar}=Hn,or=ir/2,lr=rr/2;if(or<=0||lr<=0)return!1;const cr=toRadians(er||0),ur=Math.cos(cr),dr=Math.sin(cr),fr=Math.pow(ur*(tr.x-sr)+dr*(tr.y-ar),2),xr=Math.pow(dr*(tr.x-sr)-ur*(tr.y-ar),2);return fr/Math.pow(or+nr,2)+xr/Math.pow(lr+nr,2)<=1.0001}class PointAnnotation extends Element$1{inRange(Hn,er,nr,ir){const{x:rr,y:sr,x2:ar,y2:or,width:lr}=this.getProps(["x","y","x2","y2","width"],ir),cr=(this.options.borderWidth+this.options.hitTolerance)/2;return nr!=="x"&&nr!=="y"?inPointRange({x:Hn,y:er},this.getCenterPoint(ir),lr/2,cr):inLimit(nr==="y"?{start:sr,end:or,value:er}:{start:rr,end:ar,value:Hn},cr)}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const er=this.options,nr=er.borderWidth;if(er.radius<.1)return;Hn.save(),Hn.fillStyle=er.backgroundColor,setShadowStyle(Hn,er);const ir=setBorderStyle(Hn,er);drawPoint(Hn,this,this.centerX,this.centerY),ir&&!isImageOrCanvas(er.pointStyle)&&(Hn.shadowColor=er.borderShadowColor,Hn.stroke()),Hn.restore(),er.borderWidth=nr}resolveElementProperties(Hn,er){const nr=resolvePointProperties(Hn,er);return nr.initProperties=initAnimationProperties(Hn,nr,er),nr}}PointAnnotation.id="pointAnnotation";PointAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};PointAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};class PolygonAnnotation extends Element$1{inRange(Hn,er,nr,ir){if(nr!=="x"&&nr!=="y")return this.options.radius>=.1&&this.elements.length>1&&pointIsInPolygon(this.elements,Hn,er,ir);const rr=rotated({x:Hn,y:er},this.getCenterPoint(ir),toRadians(-this.options.rotation)),sr=this.elements.map(lr=>nr==="y"?lr.bY:lr.bX),ar=Math.min(...sr),or=Math.max(...sr);return rr[nr]>=ar&&rr[nr]<=or}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const{elements:er,options:nr}=this;Hn.save(),Hn.beginPath(),Hn.fillStyle=nr.backgroundColor,setShadowStyle(Hn,nr);const ir=setBorderStyle(Hn,nr);let rr=!0;for(const sr of er)rr?(Hn.moveTo(sr.x,sr.y),rr=!1):Hn.lineTo(sr.x,sr.y);Hn.closePath(),Hn.fill(),ir&&(Hn.shadowColor=nr.borderShadowColor,Hn.stroke()),Hn.restore()}resolveElementProperties(Hn,er){const nr=resolvePointProperties(Hn,er),{sides:ir,rotation:rr}=er,sr=[],ar=2*PI/ir;let or=rr*RAD_PER_DEG;for(let lr=0;lr<ir;lr++,or+=ar){const cr=buildPointElement(nr,er,or);cr.initProperties=initAnimationProperties(Hn,nr,er),sr.push(cr)}return nr.elements=sr,nr}}PolygonAnnotation.id="polygonAnnotation";PolygonAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};PolygonAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};function buildPointElement({centerX:tr,centerY:Hn},{radius:er,borderWidth:nr,hitTolerance:ir},rr){const sr=(nr+ir)/2,ar=Math.sin(rr),or=Math.cos(rr),lr={x:tr+ar*er,y:Hn-or*er};return{type:"point",optionScope:"point",properties:{x:lr.x,y:lr.y,centerX:lr.x,centerY:lr.y,bX:tr+ar*(er+sr),bY:Hn-or*(er+sr)}}}function pointIsInPolygon(tr,Hn,er,nr){let ir=!1,rr=tr[tr.length-1].getProps(["bX","bY"],nr);for(const sr of tr){const ar=sr.getProps(["bX","bY"],nr);ar.bY>er!=rr.bY>er&&Hn<(rr.bX-ar.bX)*(er-ar.bY)/(rr.bY-ar.bY)+ar.bX&&(ir=!ir),rr=ar}return ir}const annotationTypes={box:BoxAnnotation,doughnutLabel:DoughnutLabelAnnotation,ellipse:EllipseAnnotation,label:LabelAnnotation,line:LineAnnotation,point:PointAnnotation,polygon:PolygonAnnotation};Object.keys(annotationTypes).forEach(tr=>{defaults$4.describe(`elements.${annotationTypes[tr].id}`,{_fallback:"plugins.annotation.common"})});const directUpdater={update:Object.assign},hooks$1=eventHooks.concat(elementHooks),resolve=(tr,Hn)=>isObject$2(Hn)?resolveObj(tr,Hn):tr,isIndexable=tr=>tr==="color"||tr==="font";function resolveType(tr="line"){return annotationTypes[tr]?tr:(console.warn(`Unknown annotation type: '${tr}', defaulting to 'line'`),"line")}function updateElements(tr,Hn,er,nr){const ir=resolveAnimations(tr,er.animations,nr),rr=Hn.annotations,sr=resyncElements(Hn.elements,rr);for(let ar=0;ar<rr.length;ar++){const or=rr[ar],lr=getOrCreateElement(sr,ar,or.type),cr=or.setContext(getContext(tr,lr,sr,or)),ur=lr.resolveElementProperties(tr,cr);ur.skip=toSkip(ur),"elements"in ur&&(updateSubElements(lr,ur.elements,cr,ir),delete ur.elements),defined$1(lr.x)||Object.assign(lr,ur),Object.assign(lr,ur.initProperties),ur.options=resolveAnnotationOptions(cr),ir.update(lr,ur)}}function toSkip(tr){return isNaN(tr.x)||isNaN(tr.y)}function resolveAnimations(tr,Hn,er){return er==="reset"||er==="none"||er==="resize"?directUpdater:new Animations(tr,Hn)}function updateSubElements(tr,Hn,er,nr){const ir=tr.elements||(tr.elements=[]);ir.length=Hn.length;for(let rr=0;rr<Hn.length;rr++){const sr=Hn[rr],ar=sr.properties,or=getOrCreateElement(ir,rr,sr.type,sr.initProperties),lr=er[sr.optionScope].override(sr);ar.options=resolveAnnotationOptions(lr),nr.update(or,ar)}}function getOrCreateElement(tr,Hn,er,nr){const ir=annotationTypes[resolveType(er)];let rr=tr[Hn];return(!rr||!(rr instanceof ir))&&(rr=tr[Hn]=new ir,Object.assign(rr,nr)),rr}function resolveAnnotationOptions(tr){const Hn=annotationTypes[resolveType(tr.type)],er={};er.id=tr.id,er.type=tr.type,er.drawTime=tr.drawTime,Object.assign(er,resolveObj(tr,Hn.defaults),resolveObj(tr,Hn.defaultRoutes));for(const nr of hooks$1)er[nr]=tr[nr];return er}function resolveObj(tr,Hn){const er={};for(const nr of Object.keys(Hn)){const ir=Hn[nr],rr=tr[nr];isIndexable(nr)&&isArray$1(rr)?er[nr]=rr.map(sr=>resolve(sr,ir)):er[nr]=resolve(rr,ir)}return er}function getContext(tr,Hn,er,nr){return Hn.$context||(Hn.$context=Object.assign(Object.create(tr.getContext()),{element:Hn,get elements(){return er.filter(ir=>ir&&ir.options)},id:nr.id,type:"annotation"}))}function resyncElements(tr,Hn){const er=Hn.length,nr=tr.length;if(nr<er){const ir=er-nr;tr.splice(nr,0,...new Array(ir))}else nr>er&&tr.splice(er,nr-er);return tr}var version="3.1.0";const chartStates=new Map,isNotDoughnutLabel=tr=>tr.type!=="doughnutLabel",hooks=eventHooks.concat(elementHooks);var annotation={id:"annotation",version,beforeRegister(){requireVersion("chart.js","4.0",Chart$1.version)},afterRegister(){Chart$1.register(annotationTypes)},afterUnregister(){Chart$1.unregister(annotationTypes)},beforeInit(tr){chartStates.set(tr,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(tr,Hn,er){const nr=chartStates.get(tr),ir=nr.annotations=[];let rr=er.annotations;isObject$2(rr)?Object.keys(rr).forEach(sr=>{const ar=rr[sr];isObject$2(ar)&&(ar.id=sr,ir.push(ar))}):isArray$1(rr)&&ir.push(...rr),verifyScaleOptions(ir.filter(isNotDoughnutLabel),tr.scales)},afterDataLimits(tr,Hn){const er=chartStates.get(tr);adjustScaleRange(tr,Hn.scale,er.annotations.filter(isNotDoughnutLabel).filter(nr=>nr.display&&nr.adjustScaleRange))},afterUpdate(tr,Hn,er){const nr=chartStates.get(tr);updateListeners(tr,nr,er),updateElements(tr,nr,er,Hn.mode),nr.visibleElements=nr.elements.filter(ir=>!ir.skip&&ir.options.display),updateHooks(tr,nr,er)},beforeDatasetsDraw(tr,Hn,er){draw(tr,"beforeDatasetsDraw",er.clip)},afterDatasetsDraw(tr,Hn,er){draw(tr,"afterDatasetsDraw",er.clip)},beforeDatasetDraw(tr,Hn,er){draw(tr,Hn.index,er.clip)},beforeDraw(tr,Hn,er){draw(tr,"beforeDraw",er.clip)},afterDraw(tr,Hn,er){draw(tr,"afterDraw",er.clip)},beforeEvent(tr,Hn,er){const nr=chartStates.get(tr);handleEvent(nr,Hn.event,er)&&(Hn.changed=!0)},afterDestroy(tr){chartStates.delete(tr)},getAnnotations(tr){const Hn=chartStates.get(tr);return Hn?Hn.elements:[]},_getAnnotationElementsAtEventForMode(tr,Hn,er){return getElements(tr,Hn,er)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:tr=>!hooks.includes(tr)&&tr!=="init",annotations:{_allKeys:!1,_fallback:(tr,Hn)=>`elements.${annotationTypes[resolveType(Hn.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:isIndexable,_fallback:!0},_indexable:isIndexable}},additionalOptionScopes:[""]};function draw(tr,Hn,er){const{ctx:nr,chartArea:ir}=tr,rr=chartStates.get(tr);er&&clipArea(nr,ir);const sr=getDrawableElements(rr.visibleElements,Hn).sort((ar,or)=>ar.element.options.z-or.element.options.z);for(const ar of sr)drawElement(nr,ir,rr,ar);er&&unclipArea(nr)}function getDrawableElements(tr,Hn){const er=[];for(const nr of tr)if(nr.options.drawTime===Hn&&er.push({element:nr,main:!0}),nr.elements&&nr.elements.length)for(const ir of nr.elements)ir.options.display&&ir.options.drawTime===Hn&&er.push({element:ir});return er}function drawElement(tr,Hn,er,nr){const ir=nr.element;nr.main?(invokeHook(er,ir,"beforeDraw"),ir.draw(tr,Hn),invokeHook(er,ir,"afterDraw")):ir.draw(tr,Hn)}Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index,plugin$1,annotation);const FomoGoldSilverChart=()=>{const[tr,Hn]=reactExports.useState("silver"),[er,nr]=reactExports.useState("30d"),[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState("line"),[or,lr]=reactExports.useState({labels:[],datasets:[]}),[cr,ur]=reactExports.useState({labels:[],datasets:[]}),[dr,fr]=reactExports.useState({high:0,low:0,current:0}),[xr,yr]=reactExports.useState({day1:0,day2:0,day3:0,week1:0,month1:0,month6:0}),[_r,Sr]=reactExports.useState(!0),[jr,Dr]=reactExports.useState({gold:[],silver:[]}),Ir=reactExports.useRef(null),Mr=reactExports.useRef(null),Or=Hr=>{try{return format$1(new Date(Hr),"dd/MM")}catch{return Hr}};reactExports.useEffect(()=>{(async()=>{try{Sr(!0);const eo=(await axios.get("https://api_gold.thinkdiff.us/FOMO_history_vang_bac")).data;Dr({silver:eo.chi_so_fomo_bac||[],gold:eo.chi_so_fomo_vang||[]}),Sr(!1)}catch(Yr){console.error("Error fetching data:",Yr),Sr(!1)}})()},[]),reactExports.useEffect(()=>{const Hr=tr==="silver"?jr.silver:jr.gold;if(!Hr||Hr.length===0){lr({labels:[],datasets:[]}),ur({labels:[],datasets:[]});return}const Yr=[...Hr].sort((Ro,Go)=>new Date(Ro.datatime)-new Date(Go.datatime)),eo=tr==="silver"?"fomo_bac":"fomo_vang",io=tr==="silver"?"gia_bac_kitco":"gia_vang_kitco",uo=Yr.map(Ro=>typeof Ro[eo]=="number"?Ro[eo]:0),so=Yr[Yr.length-1],no=new Date(so.datatime).getTime(),po=so[eo]||0;fr({high:Math.max(...uo),low:Math.min(...uo),current:po});const co=Ro=>{const Go=no-Ro*24*60*60*1e3;return Yr.reduce((Vo,nl)=>{const fl=new Date(Vo.datatime).getTime(),Bl=new Date(nl.datatime).getTime();return Math.abs(Bl-Go)<Math.abs(fl-Go)?nl:Vo})[eo]||0},lo=Ro=>{const Go=co(Ro);return!Go||Go===0?0:(po-Go)/Go*100};yr({day1:lo(1),day2:lo(2),day3:lo(3),week1:lo(7),month1:lo(30),month6:lo(180)});const ao=new Date;let xo;switch(er){case"7d":xo=subDays(ao,7);break;case"30d":xo=subDays(ao,30);break;case"90d":xo=subDays(ao,90);break;case"1y":xo=subDays(ao,365);break;default:xo=null}const _o=xo?Yr.filter(Ro=>isAfter(new Date(Ro.datatime),xo)):Yr,Po=_o.map(Ro=>Or(Ro.datatime)),Oo=_o.map(Ro=>Ro[eo]||0),So=_o.map(Ro=>Ro[io]||0),Ao=Ir.current?.canvas;let zo=null;Ao&&(zo=Ao.getContext("2d").createLinearGradient(0,0,0,400),zo.addColorStop(0,"rgba(59, 130, 246, 0.5)"),zo.addColorStop(1,"rgba(59, 130, 246, 0.0)")),lr({labels:Po,datasets:[{type:sr,label:tr==="silver"?"Ch s FOMO Bc":"Ch s FOMO Vng",data:Oo,borderColor:Ro=>{const Go=Ro.parsed?Ro.parsed.y:null;if(sr==="line"){const Qo=Ro.chart,{ctx:Vo,chartArea:nl}=Qo;if(!nl)return"#3b82f6";const fl=Qo.scales.y,Bl=Vo.createLinearGradient(0,nl.bottom,0,nl.top),Gl=fl.getPixelForValue(80),Tl=(nl.bottom-Gl)/(nl.bottom-nl.top);return Tl<=0?"#3b82f6":Tl>=1?"#ef4444":(Bl.addColorStop(0,"#3b82f6"),Bl.addColorStop(Tl,"#3b82f6"),Bl.addColorStop(Tl,"#ef4444"),Bl.addColorStop(1,"#ef4444"),Bl)}return Go>=80?"#ef4444":"#3b82f6"},backgroundColor:Ro=>{const Go=Ro.parsed?Ro.parsed.y:null;return sr==="bar"?Go>=80?"rgba(239, 68, 68, 0.7)":"rgba(59, 130, 246, 0.7)":zo||"rgba(59,130,246,0.2)"},borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,pointHitRadius:10}]}),ur({labels:Po,datasets:[{type:sr,label:tr==="silver"?"Gi Bc (USD/oz)":"Gi Vng (USD/oz)",data:So,borderColor:"#06b6d4",backgroundColor:"rgba(6, 182, 212, 0.2)",borderWidth:2,pointRadius:0,pointHoverRadius:6,fill:!0,tension:.4}]})},[tr,er,jr,sr]),reactExports.useEffect(()=>{const Hr=setTimeout(()=>{Ir.current?.resetZoom(),Mr.current?.resetZoom()},0);return()=>clearTimeout(Hr)},[or,cr]);const Lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",bodyColor:"#cbd5e1",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1},zoom:er!=="7d"?{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}:void 0},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:8}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right",beginAtZero:!0,min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1}},Fr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},annotation:{annotations:{line80:{type:"line",yMin:80,yMax:80,borderColor:"rgba(239, 68, 68, 0.8)",borderWidth:2,borderDash:[6,6],label:{display:!0,content:"Qu mc mua",position:"end",backgroundColor:"rgba(239, 68, 68, 0.8)",font:{size:10}}}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,callbacks:{labelTextColor:Hr=>{const Yr=Hr.parsed.y;return Yr>=80?"#ef4444":Yr<=20?"#22c55e":"#e5e7eb"},label:Hr=>{const Yr=Hr.parsed.y;let eo=Yr>=80?"(Qu mua)":Yr<=20?"(Qu bn)":"";return`Ch s FOMO: ${Yr.toFixed(1)}% ${eo}`}}},zoom:er!=="7d"?{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}:void 0},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:8}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right",min:0,max:130,grace:"5%"}},interaction:{mode:"nearest",axis:"x",intersect:!0}},Vr=Hr=>{ar(Hr)},Zr=(Hr,Yr)=>{const eo=typeof Yr=="number"?Yr:0;return jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("div",{className:"percentage-label",children:Hr}),jsxRuntimeExports.jsxs("div",{className:`percentage-value ${eo>=0?"positive":"negative"}`,children:[eo>0?"+":"",eo.toFixed(2),"%"]})]})};return jsxRuntimeExports.jsxs("div",{className:"fomo-inventory-container",children:[jsxRuntimeExports.jsx(Link,{to:"/fomo-vang-bac",children:jsxRuntimeExports.jsxs("div",{className:"fomo-inventory-header",children:[jsxRuntimeExports.jsx("h2",{children:"Theo di Th trng Vng & Bc"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Ch s FOMO v Gi th gii (USD) theo thi gian thc"})]})}),jsxRuntimeExports.jsxs("div",{className:"fomo-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${tr==="gold"?"active":""}`,onClick:()=>Hn("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon",children:""})," Vng (Gold)"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${tr==="silver"?"active":""}`,onClick:()=>Hn("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon",children:""})," Bc (Silver)"]})]}),jsxRuntimeExports.jsxs("div",{className:"fomo-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"fomo-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"fomo-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"FOMO Cao nht"}),jsxRuntimeExports.jsxs("span",{className:"summary-value",children:[dr.high.toFixed(2)," ",jsxRuntimeExports.jsx("span",{className:"unit-badge",children:"im"})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"FOMO Thp nht"}),jsxRuntimeExports.jsxs("span",{className:"summary-value",children:[dr.low.toFixed(2)," ",jsxRuntimeExports.jsx("span",{className:"unit-badge",children:"im"})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",style:{borderLeftColor:"#22c55e"},children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"FOMO Hin ti"}),jsxRuntimeExports.jsxs("span",{className:"summary-value",style:{color:dr.current>=80?"#ef4444":"#22c55e"},children:[dr.current.toFixed(2)," ",jsxRuntimeExports.jsx("span",{className:"unit-badge",children:"im"})]})]}),jsxRuntimeExports.jsxs("h3",{children:[tr==="silver"?"Bc":"Vng"," nguyn liu chnh quc t ",(dr?.current/10).toFixed(2)," triu"]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i FOMO"}),jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[Zr("Trong 1 ngy",xr.day1),Zr("Trong 2 ngy",xr.day2),Zr("Trong 3 ngy",xr.day3),Zr("Trong 1 tun",xr.week1),Zr("Trong 1 thng",xr.month1),Zr("Trong 6 thng",xr.month6)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"fomo-right-column",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("div",{className:"latest-update-date",style:{margin:0,left:0,fontSize:"14px"},children:["Cp nht: ",or&&or?.labels.at(-1),"/",new Date().getFullYear()]}),jsxRuntimeExports.jsx("div",{className:"fomo-time-range",children:["7d","30d","90d","1y","all"].map(Hr=>jsxRuntimeExports.jsx("button",{className:`time-range-btn ${er===Hr?"active":""}`,onClick:()=>nr(Hr),children:Hr==="all"?"Tt c":Hr.toUpperCase()},Hr))})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginBottom:"10px"},children:["Biu  Ch s FOMO ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"10px",color:"lightcoral"},children:"Ln chut  zoom"})]}),jsxRuntimeExports.jsxs("div",{className:"fomo-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>rr(!ir),children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:sr==="line"?"":""}),jsxRuntimeExports.jsx("span",{className:"chart-type-label",children:sr==="line"?"Line Chart":"Column"}),jsxRuntimeExports.jsx("span",{className:"dropdown-arrow",children:""})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"chart-type-menu",children:[jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${sr==="line"?"active":""}`,onClick:()=>{Vr("line"),rr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Line Chart"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${sr==="bar"?"active":""}`,onClick:()=>{Vr("bar"),rr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Column"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"fomo-chart-wrapper",style:{minHeight:"450px"},children:_r?jsxRuntimeExports.jsx("div",{children:"ang ti d liu..."}):or.datasets.length>0?jsxRuntimeExports.jsx(Chart,{ref:Ir,type:sr,data:or,options:Fr}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu FOMO"})}),jsxRuntimeExports.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginTop:"30px",marginBottom:"10px"},children:["Biu  Gi ",tr==="silver"?"Bc":"Vng"," (USD/oz)"]}),jsxRuntimeExports.jsx("div",{className:"fomo-chart-wrapper",style:{minHeight:"450px"},children:_r?jsxRuntimeExports.jsx("div",{children:"ang ti d liu..."}):cr.datasets.length>0?jsxRuntimeExports.jsx(Chart,{ref:Mr,type:sr,data:cr,options:Lr}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu gi USD"})})]})]})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_tooltip,plugin_legend);const APIS={turnover:{url:"https://api_gold.thinkdiff.us/Volume_Shanghai_Future_Exchange",title:"Biu  China Turnover",subtitle:"Khi lng giao dch Bc - Thng Hi (SHFE)",label:"China Silver Turnover (SHFE)",unit:"Hp ng"},warehouse:{url:"https://api_gold.thinkdiff.us/Warehouse_Shanghai_Future_Exchange",title:"Biu  Tn Kho SHFE",subtitle:"Tn kho Bc - Kho lu tr Sn K hn Thng Hi (SHFE)",label:"China Silver Warehouse (SHFE)",unit:"Tn"}},ChinaSilverTurnover=()=>{const[tr,Hn]=reactExports.useState("warehouse"),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("all");reactExports.useEffect(()=>{(async()=>{try{const Dr=await(await fetch(APIS[tr].url)).json(),Ir=Object.keys(Dr)[0],Mr=Dr[Ir]||[];nr(Mr)}catch(jr){console.error("API error:",jr)}})()},[tr]);const sr=reactExports.useMemo(()=>{if(!er.length)return null;const Sr=er.map(Zr=>Number(Zr.volume)),jr=er[0],Dr=er.length>1?er[1]:null,Ir=Math.min(...Sr),Mr=Math.max(...Sr),Or=er.find(Zr=>Number(Zr.volume)===Ir),Lr=er.find(Zr=>Number(Zr.volume)===Mr),Fr=er[0].trade_date,Vr=er[er.length-1].trade_date;return{current:jr,yesterday:Dr,minItem:Or,maxItem:Lr,fromDate:Vr,toDate:Fr}},[er]),ar=reactExports.useMemo(()=>{if(!er.length)return null;const Sr=er[0].trade_date,jr=new Date(Sr),Ir=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][jr.getDay()],Mr=String(jr.getDate()).padStart(2,"0"),Or=String(jr.getMonth()+1).padStart(2,"0"),Lr=jr.getFullYear(),Fr=String(jr.getHours()).padStart(2,"0"),Vr=String(jr.getMinutes()).padStart(2,"0"),Zr=String(jr.getSeconds()).padStart(2,"0");return`${Ir}, ${Mr}/${Or}/${Lr} ${Fr}:${Vr}:${Zr}`},[er]),or=Sr=>Sr==null||isNaN(Sr)?"-":`${Number(Sr).toLocaleString()} ${APIS[tr].unit}`,lr=reactExports.useMemo(()=>{if(!er.length||ir==="all")return er;const Sr=new Date(er[0].trade_date),Dr={"7d":7,"1m":30}[ir];return Dr?er.filter(Ir=>{const Mr=new Date(Ir.trade_date);return(Sr-Mr)/(1e3*60*60*24)<=Dr}):er},[er,ir]),cr=Sr=>{const jr=new Date(Sr),Ir=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][jr.getDay()],Mr=String(jr.getDate()).padStart(2,"0"),Or=String(jr.getMonth()+1).padStart(2,"0"),Lr=jr.getFullYear(),Fr=String(jr.getHours()).padStart(2,"0"),Vr=String(jr.getMinutes()).padStart(2,"0");return`${Ir}, ${Mr}/${Or}/${Lr} ${Fr}:${Vr}`},ur=reactExports.useMemo(()=>{const Sr=[...lr].sort((jr,Dr)=>new Date(jr.trade_date)-new Date(Dr.trade_date));return{labels:Sr.map(jr=>cr(jr.trade_date)),datasets:[{label:APIS[tr].label,data:Sr.map(jr=>Number(jr.volume)),borderColor:"rgba(192,192,192,1)",backgroundColor:"rgba(192,192,192,0.4)",pointRadius:2,tension:.3,fill:!0}]}},[lr,tr]),dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:Sr=>`${Sr.dataset.label}: ${or(Sr.raw)}`}}},scales:{x:{ticks:{autoSkip:!0,maxRotation:0}},y:{title:{display:!0,text:"Volume"},ticks:{callback:Sr=>(Sr*1e3).toLocaleString()}}}},fr=reactExports.useMemo(()=>{if(!er.length)return null;const Sr=jr=>{if(er.length<=jr)return null;const Dr=Number(er[0].volume),Ir=Number(er[jr].volume);return Ir?(Dr-Ir)/Ir*100:null};return{day1:Sr(1),day2:Sr(2),day3:Sr(3),week1:Sr(7)}},[er]),xr=tr==="turnover",yr=xr?"hp ng":"tn",_r=xr?"S hp ng":"Khi lng";return jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:16,boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:30,cursor:"pointer"},children:APIS[tr].title}),jsxRuntimeExports.jsx("div",{style:{background:"rgba(15, 23, 42, 0.55)",borderRadius:18,padding:24,border:"1px solid rgba(192, 192, 192, 0.15)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.35)"},children:jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:28,marginTop:20,position:"relative"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:"50%",width:1,background:"linear-gradient(to bottom, transparent, rgba(192, 192, 192, 0.25), transparent)",transform:"translateX(-50%)",pointerEvents:"none"}}),jsxRuntimeExports.jsx("div",{style:{background:"transparent"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:20},children:[jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#9ca3af",fontSize:14,marginBottom:12,width:"100%"},children:APIS[tr].subtitle}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Hn("turnover"),style:{padding:"8px 15px",margin:5,borderRadius:8,border:"none",cursor:"pointer",background:tr==="turnover"?"#c0c0c0":"#494A50",color:tr==="turnover"?"#000":"#FFF",fontWeight:tr==="turnover"?"bold":"normal",transition:"all 0.3s ease"},children:"Turnover"}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn("warehouse"),style:{padding:"8px 15px",margin:5,borderRadius:8,border:"none",cursor:"pointer",background:tr==="warehouse"?"#c0c0c0":"#494A50",color:tr==="warehouse"?"#000":"#FFF",fontWeight:tr==="warehouse"?"bold":"normal",transition:"all 0.3s ease"},children:"Warehouse"})]}),ar&&jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:14,background:"rgba(30, 41, 59, 0.45)",border:"1px solid rgba(59, 130, 246, 0.15)",borderRadius:14,display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[jsxRuntimeExports.jsx("label",{style:{fontSize:15,fontWeight:500,color:"#9ca3af",textAlign:"center"},children:"D liu cp nht ln cui"}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center",fontSize:15,fontWeight:700,color:"#c0c0c0",letterSpacing:"0.3px"},children:ar})]}),fr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("label",{style:{color:"#fff3b0",fontSize:18,fontWeight:600,margin:0,width:"100%",textAlign:"center"},children:["T l thay i ",_r]}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:14,width:"100%",padding:18,background:"rgba(30, 41, 59, 0.45)",border:"1px solid rgba(192, 192, 192, 0.25)",borderRadius:14},children:[{key:"day1",label:"1 ngy",value:fr.day1},{key:"day2",label:"2 ngy",value:fr.day2},{key:"day3",label:"3 ngy",value:fr.day3},{key:"week1",label:"1 tun",value:fr.week1}].map(Sr=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"14px 12px",background:"rgba(15, 23, 42, 0.45)",borderRadius:12,border:"1px solid rgba(192, 192, 192, 0.25)",transition:"all 0.25s ease",cursor:"pointer"},onMouseEnter:jr=>{jr.currentTarget.style.transform="translateY(-2px)",jr.currentTarget.style.borderColor="rgba(192, 192, 192, 0.6)"},onMouseLeave:jr=>{jr.currentTarget.style.transform="translateY(0)",jr.currentTarget.style.borderColor="rgba(192, 192, 192, 0.25)"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:6},children:Sr.label}),jsxRuntimeExports.jsxs("div",{style:{fontSize:18,fontWeight:700,color:Sr.value>=0?"#22c55e":"#ef4444"},children:[Sr.value>0?"+":"",Sr.value.toFixed(2)," %"]})]},Sr.key))}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",width:"100%",flexWrap:"wrap",marginTop:12},children:[{label:"7 ngy",value:"7d"},{label:"1 thng",value:"1m"},{label:"Tt c",value:"all"}].map(Sr=>jsxRuntimeExports.jsx("button",{onClick:()=>rr(Sr.value),style:{padding:"8px 15px",margin:5,borderRadius:8,border:"none",cursor:"pointer",background:ir===Sr.value?"#00ff9c":"#fff",color:ir===Sr.value?"#000":"#111",fontWeight:ir===Sr.value?"bold":"normal",fontSize:13,transition:"all 0.3s ease",borderColor:ir===Sr.value?"#00ff9c":"#333"},children:Sr.label},Sr.value))})]})]})}),jsxRuntimeExports.jsx("div",{style:{background:"transparent"},children:jsxRuntimeExports.jsx("div",{style:{height:520,width:"100%",padding:20},children:er.length?jsxRuntimeExports.jsx(Line,{data:ur,options:dr}):jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#fff"},children:"Loading data..."})})})]})}),sr&&jsxRuntimeExports.jsx("div",{className:"lbma-summary-table",children:jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Ch tiu"}),jsxRuntimeExports.jsxs("th",{children:["Gi tr (",yr,")"]}),jsxRuntimeExports.jsx("th",{children:"Ngy giao dch"}),jsxRuntimeExports.jsx("th",{children:"Khong thi gian"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[_r," hin ti"]}),jsxRuntimeExports.jsxs("td",{children:[Number(sr.current.volume).toLocaleString()," ",yr]}),jsxRuntimeExports.jsx("td",{children:cr(sr.current.trade_date)}),jsxRuntimeExports.jsxs("td",{rowSpan:4,children:[cr(sr.fromDate),"  ",cr(sr.toDate)]})]}),sr.yesterday&&jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[_r," hm qua"]}),jsxRuntimeExports.jsxs("td",{children:[Number(sr.yesterday.volume).toLocaleString()," ",yr]}),jsxRuntimeExports.jsx("td",{children:cr(sr.yesterday.trade_date)})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[_r," Thp nht (Min)"]}),jsxRuntimeExports.jsxs("td",{children:[Number(sr.minItem.volume).toLocaleString()," ",yr]}),jsxRuntimeExports.jsx("td",{children:cr(sr.minItem.trade_date)})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[_r," Cao nht (Max)"]}),jsxRuntimeExports.jsxs("td",{children:[Number(sr.maxItem.volume).toLocaleString()," ",yr]}),jsxRuntimeExports.jsx("td",{children:cr(sr.maxItem.trade_date)})]})]})]})})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_tooltip,plugin_legend,index);const RANGE_DAYS={"1d":1,"1w":7,"1m":30,"3m":90},MCXHistory=()=>{const[tr,Hn]=reactExports.useState({gold:[],silver:[]}),[er,nr]=reactExports.useState("1d"),[ir,rr]=reactExports.useState("gold"),[sr,ar]=reactExports.useState(1);reactExports.useEffect(()=>{(async()=>{try{const yr=await(await fetch("https://api_gold.thinkdiff.us/groww_mcx_today_price_india")).json();ar(Number(yr.tygia_INR_USD)||1),Hn({gold:(yr?.data?.gold||[]).filter(_r=>_r.date),silver:(yr?.data?.silver||[]).filter(_r=>_r.date)})}catch(xr){console.error(xr)}})()},[]);const or=reactExports.useMemo(()=>{const fr=tr[ir],xr=new Map;return fr.forEach(yr=>{xr.set(yr.date,yr)}),Array.from(xr.values()).sort((yr,_r)=>new Date(yr.date)-new Date(_r.date))},[tr,ir]),lr=reactExports.useMemo(()=>{if(!or.length)return[];const fr=new Date(or[or.length-1].date);return or.filter(xr=>(fr-new Date(xr.date))/864e5<=RANGE_DAYS[er])},[or,er]),cr=reactExports.useMemo(()=>{if(or.length<2)return null;const fr=Number(or[or.length-1].close)*sr,xr=yr=>{const _r=Number(or[or.length-(yr+1)]?.close)*sr;return _r?(fr-_r)/_r*100:0};return{d1:xr(1),d2:xr(2),d3:xr(3),w1:xr(7)}},[or,sr]),ur={labels:lr.map(fr=>{const xr=new Date(fr.date);return`${xr.getDate()}/${xr.getMonth()+1}`}),datasets:[{data:lr.map(fr=>Number(fr.close)*sr),borderColor:ir==="gold"?"#FFD700":"#C0C0C0",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointRadius:0,borderWidth:2}]},dr={responsive:!0,maintainAspectRatio:!1,clip:!1,layout:{padding:{right:20,top:10}},plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{font:{size:10},maxTicksLimit:8,color:"#94a3b8"}},y:{position:"right",grid:{color:"rgba(255,255,255,0.05)"},ticks:{font:{size:10},maxTicksLimit:5,color:"#94a3b8"}}}};return jsxRuntimeExports.jsxs("div",{className:"mcx-full-container",children:[jsxRuntimeExports.jsxs("div",{className:"mcx-header-full",children:[jsxRuntimeExports.jsxs("div",{className:"mcx-title-box",children:[jsxRuntimeExports.jsx("h2",{children:"Gi MCX n "}),jsxRuntimeExports.jsxs("div",{className:"mcx-tabs",children:[jsxRuntimeExports.jsx("button",{className:ir==="gold"?"active":"",onClick:()=>rr("gold"),children:"Gold"}),jsxRuntimeExports.jsx("button",{className:ir==="silver"?"active":"",onClick:()=>rr("silver"),children:"Silver"})]})]}),jsxRuntimeExports.jsx("div",{className:"mcx-range-tabs",children:["1d","1w","1m","3m"].map(fr=>jsxRuntimeExports.jsx("button",{className:er===fr?"active":"",onClick:()=>nr(fr),children:fr.toUpperCase()},fr))})]}),jsxRuntimeExports.jsxs("div",{className:"mcx-main-layout-full",children:[jsxRuntimeExports.jsxs("div",{className:"mcx-stats-grid",children:[jsxRuntimeExports.jsx("p",{className:"grid-label",children:"THAY I"}),jsxRuntimeExports.jsx("div",{className:"stats-2x2",children:cr&&[{label:"1 Ngy",val:cr.d1},{label:"2 Ngy",val:cr.d2},{label:"3 Ngy",val:cr.d3},{label:"1 Tun",val:cr.w1}].map((fr,xr)=>jsxRuntimeExports.jsxs("div",{className:`stat-card-v2 ${fr.val>=0?"positive":"negative"}`,children:[jsxRuntimeExports.jsx("span",{className:"s-label",children:fr.label}),jsxRuntimeExports.jsxs("span",{className:"s-value",children:[fr.val>=0?"+":"",fr.val.toFixed(2),"%"]})]},xr))})]}),jsxRuntimeExports.jsx("div",{className:"mcx-chart-full-width",children:jsxRuntimeExports.jsx("div",{className:"chart-wrapper",children:jsxRuntimeExports.jsx(Line,{data:ur,options:dr})})})]})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend);function SGEPriceHistoryChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState("gold"),[ir,rr]=reactExports.useState("30"),[sr,ar]=reactExports.useState("line"),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!0),[dr,fr]=reactExports.useState(null),[xr,yr]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{ur(!0);const Fr=await(await fetch("https://api_gold.thinkdiff.us/SGE_SILVER_GOLD_HISTORY")).json(),Vr=er==="gold"?Fr.list_item_json_vang:Fr.list_item_json_bac;if(Array.isArray(Vr)&&Vr.length>0){const Zr=Vr.reduce((Yr,eo)=>new Date(eo.ngay_giao_dich)>new Date(Yr.ngay_giao_dich)?eo:Yr),Hr=new Date(Zr.ngay_giao_dich);yr(Hr.toLocaleDateString("vi-VN"))}Hn(Fr)}catch(Lr){console.error(Lr),fr("Khng ti c d liu SGE")}finally{ur(!1)}})()},[]);const _r=reactExports.useMemo(()=>{if(!tr)return[];const Or=er==="gold"?tr.list_item_json_vang:tr.list_item_json_bac;return Array.isArray(Or)?[...Or].sort((Lr,Fr)=>new Date(Lr.ngay_giao_dich)-new Date(Fr.ngay_giao_dich)):[]},[tr,er]),Sr=reactExports.useMemo(()=>{if(ir==="all")return _r;const Or=parseInt(ir,10);return _r.slice(-Or)},[_r,ir]);reactExports.useMemo(()=>{const Or=Sr.map(Fr=>{const Vr=new Date(Fr.ngay_giao_dich);return`${Vr.getDate()}/${Vr.getMonth()+1}/${Vr.getFullYear()}`}),Lr=sr==="column";return{labels:Or,datasets:[{label:"Gi sng",data:Sr.map(Fr=>Number(Fr.gia_sang)),borderColor:"#10b981",backgroundColor:Lr?"rgba(16, 185, 129, 0.6)":"rgba(16, 185, 129, 0.25)",tension:.3,pointRadius:0,borderWidth:Lr?0:2,fill:!Lr},{label:"Gi chiu",data:Sr.map(Fr=>Number(Fr.gia_chieu)),borderColor:"#f59e0b",backgroundColor:Lr?"rgba(245, 158, 11, 0.6)":"rgba(245, 158, 11, 0.25)",tension:.3,pointRadius:0,borderWidth:Lr?0:2,fill:!Lr}]}},[Sr,sr]);const jr=reactExports.useMemo(()=>{const Or=Sr.map(Fr=>{const Vr=new Date(Fr.ngay_giao_dich);return`${Vr.getDate()}/${Vr.getMonth()+1}/${Vr.getFullYear()}`}),Lr=sr==="column";return{labels:Or,datasets:[{label:"USD sng / ounce",data:Sr.map(Fr=>Number(Fr.usd_1ounce_sang)),borderColor:"#3b82f6",backgroundColor:Lr?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.25)",tension:.3,pointRadius:0,borderWidth:Lr?0:2,fill:!Lr},{label:"USD chiu / ounce",data:Sr.map(Fr=>Number(Fr.usd_1ounce_chieu)),borderColor:"#ef4444",backgroundColor:Lr?"rgba(239, 68, 68, 0.6)":"rgba(239, 68, 68, 0.25)",tension:.3,pointRadius:0,borderWidth:Lr?0:2,fill:!Lr}]}},[Sr,sr]),Dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:Or=>`${Or.dataset.label}: ${Or.parsed.y.toLocaleString()}`}}},scales:{y:{ticks:{callback:Or=>Or.toLocaleString()},beginAtZero:!0,min:0}}},Ir=reactExports.useMemo(()=>{if(!_r||_r.length===0)return null;const Or=_r.map(Zr=>({date:new Date(Zr.ngay_giao_dich).getTime(),price:Number(Zr.gia_chieu)})).filter(Zr=>Number.isFinite(Zr.price)).sort((Zr,Hr)=>Zr.date-Hr.date);if(Or.length===0)return null;const Lr=Or[Or.length-1],Fr=Zr=>{const Hr=Lr.date-Zr*24*60*60*1e3;for(let Yr=Or.length-2;Yr>=0;Yr--)if(Or[Yr].date<=Hr)return Or[Yr];return null},Vr=Zr=>{const Hr=Fr(Zr);return!Hr||Hr.price===0?0:(Lr.price-Hr.price)/Hr.price*100};return{maxValue:Math.max(...Or.map(Zr=>Zr.price)),minValue:Math.min(...Or.map(Zr=>Zr.price)),currentValue:Lr.price,percentageChanges:{day1:Vr(1),day2:Vr(2),day3:Vr(3),day7:Vr(7),month1:Vr(30),month6:Vr(180)}}},[_r]),Mr=[{label:"7D",value:"7"},{label:"30D",value:"30"},{label:"90D",value:"90"},{label:"1Y",value:"365"},{label:"Tt c",value:"all"}];return cr?jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."}):dr?jsxRuntimeExports.jsx("p",{children:dr}):jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsxs("div",{className:"comex-inventory-header header-row ",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsx("h2",{children:"SGE Gold & Silver Price"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Lch s gi vng & bc SGE"})]}),xr&&jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsx("label",{className:"last-updated-label",children:"Cp nht ln cui:"}),jsxRuntimeExports.jsx("span",{className:"last-updated",children:xr})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${er==="gold"?"active":""}`,onClick:()=>nr("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon gold-icon",children:""}),"SGE Gold"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${er==="silver"?"active":""}`,onClick:()=>nr("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon silver-icon",children:""}),"SGE Silver"]})]}),Ir&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"comex-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi cao nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Ir.maxValue.toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi thp nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Ir.minValue.toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",style:{color:"#22c55e"},children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi hin ti:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",style:{color:"#22c55e"},children:Ir.currentValue.toLocaleString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i gi"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:[{key:"day1",label:"Trong 1 ngy"},{key:"day2",label:"Trong 2 ngy"},{key:"day3",label:"Trong 3 ngy"},{key:"day7",label:"Trong 1 tun"},{key:"month1",label:"Trong 1 thng"},{key:"month6",label:"Trong 6 thng"}].map(Or=>{const Lr=Ir.percentageChanges[Or.key];return jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Or.label}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Lr>=0?"positive":"negative"}`,children:[Lr>=0?"+":"-",Lr.toFixed(2),"%"]})]},Or.key)})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-right-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-time-range",children:[Mr.map(({label:Or,value:Lr})=>jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===Lr?"active":""}`,onClick:()=>rr(Lr),children:Or},Lr)),jsxRuntimeExports.jsxs("div",{className:"comex-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>lr(!or),children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:sr==="line"?"":""}),jsxRuntimeExports.jsx("span",{className:"chart-type-label",children:sr==="line"?"Line Chart":"Column"}),jsxRuntimeExports.jsx("span",{className:"dropdown-arrow",children:""})]}),or&&jsxRuntimeExports.jsxs("div",{className:"chart-type-menu",children:[jsxRuntimeExports.jsx("div",{className:`chart-type-option ${sr==="line"?"active":""}`,onClick:()=>{ar("line"),lr(!1)},children:" Line Chart"}),jsxRuntimeExports.jsx("div",{className:`chart-type-option ${sr==="column"?"active":""}`,onClick:()=>{ar("column"),lr(!1)},children:" Column"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:Sr.length>0?jsxRuntimeExports.jsxs("div",{className:"chart-block",children:[jsxRuntimeExports.jsx("h3",{children:" USD / Ounce (Sng / Chiu)"}),jsxRuntimeExports.jsx(Chart,{type:sr==="line"?"line":"bar",data:jr,options:Dr})]}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu"})})]})]})]})}function size(tr){var Hn=tr.width,er=tr.height;if(Hn<0)throw new Error("Negative width is not allowed for Size");if(er<0)throw new Error("Negative height is not allowed for Size");return{width:Hn,height:er}}function equalSizes(tr,Hn){return tr.width===Hn.width&&tr.height===Hn.height}var Observable=(function(){function tr(Hn){var er=this;this._resolutionListener=function(){return er._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=Hn,this._installResolutionListener()}return tr.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(tr.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),tr.prototype.subscribe=function(Hn){var er=this,nr={next:Hn};return this._observers.push(nr),{unsubscribe:function(){er._observers=er._observers.filter(function(ir){return ir!==nr})}}},tr.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var Hn=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(Hn,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},tr.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},tr.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},tr.prototype._onResolutionChanged=function(){var Hn=this;this._observers.forEach(function(er){return er.next(Hn._window.devicePixelRatio)}),this._reinstallResolutionListener()},tr})();function createObservable(tr){return new Observable(tr)}var DevicePixelContentBoxBinding=(function(){function tr(Hn,er,nr){var ir;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=Hn,this._canvasElementClientSize=size({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=er??(function(rr){return rr}),this._allowResizeObserver=(ir=nr?.allowResizeObserver)!==null&&ir!==void 0?ir:!0,this._chooseAndInitObserver()}return tr.prototype.dispose=function(){var Hn,er;if(this._canvasElement===null)throw new Error("Object is disposed");(Hn=this._canvasElementResizeObserver)===null||Hn===void 0||Hn.disconnect(),this._canvasElementResizeObserver=null,(er=this._devicePixelRatioObservable)===null||er===void 0||er.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(tr.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(tr.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(tr.prototype,"bitmapSize",{get:function(){return size({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),tr.prototype.resizeCanvasElement=function(Hn){this._canvasElementClientSize=size(Hn),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},tr.prototype.subscribeBitmapSizeChanged=function(Hn){this._bitmapSizeChangedListeners.push(Hn)},tr.prototype.unsubscribeBitmapSizeChanged=function(Hn){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(er){return er!==Hn})},Object.defineProperty(tr.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),tr.prototype.subscribeSuggestedBitmapSizeChanged=function(Hn){this._suggestedBitmapSizeChangedListeners.push(Hn)},tr.prototype.unsubscribeSuggestedBitmapSizeChanged=function(Hn){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(er){return er!==Hn})},tr.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var Hn=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(Hn),this._emitSuggestedBitmapSizeChanged(Hn,this._suggestedBitmapSize)}},tr.prototype._resizeBitmap=function(Hn){var er=this.bitmapSize;equalSizes(er,Hn)||(this.canvasElement.width=Hn.width,this.canvasElement.height=Hn.height,this._emitBitmapSizeChanged(er,Hn))},tr.prototype._emitBitmapSizeChanged=function(Hn,er){var nr=this;this._bitmapSizeChangedListeners.forEach(function(ir){return ir.call(nr,Hn,er)})},tr.prototype._suggestNewBitmapSize=function(Hn){var er=this._suggestedBitmapSize,nr=size(this._transformBitmapSize(Hn,this._canvasElementClientSize)),ir=equalSizes(this.bitmapSize,nr)?null:nr;er===null&&ir===null||er!==null&&ir!==null&&equalSizes(er,ir)||(this._suggestedBitmapSize=ir,this._emitSuggestedBitmapSizeChanged(er,ir))},tr.prototype._emitSuggestedBitmapSizeChanged=function(Hn,er){var nr=this;this._suggestedBitmapSizeChangedListeners.forEach(function(ir){return ir.call(nr,Hn,er)})},tr.prototype._chooseAndInitObserver=function(){var Hn=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}isDevicePixelContentBoxSupported().then(function(er){return er?Hn._initResizeObserver():Hn._initDevicePixelRatioObservable()})},tr.prototype._initDevicePixelRatioObservable=function(){var Hn=this;if(this._canvasElement!==null){var er=canvasElementWindow(this._canvasElement);if(er===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=createObservable(er),this._devicePixelRatioObservable.subscribe(function(){return Hn._invalidateBitmapSize()}),this._invalidateBitmapSize()}},tr.prototype._invalidateBitmapSize=function(){var Hn,er;if(this._canvasElement!==null){var nr=canvasElementWindow(this._canvasElement);if(nr!==null){var ir=(er=(Hn=this._devicePixelRatioObservable)===null||Hn===void 0?void 0:Hn.value)!==null&&er!==void 0?er:nr.devicePixelRatio,rr=this._canvasElement.getClientRects(),sr=rr[0]!==void 0?predictedBitmapSize(rr[0],ir):size({width:this._canvasElementClientSize.width*ir,height:this._canvasElementClientSize.height*ir});this._suggestNewBitmapSize(sr)}}},tr.prototype._initResizeObserver=function(){var Hn=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(er){var nr=er.find(function(sr){return sr.target===Hn._canvasElement});if(!(!nr||!nr.devicePixelContentBoxSize||!nr.devicePixelContentBoxSize[0])){var ir=nr.devicePixelContentBoxSize[0],rr=size({width:ir.inlineSize,height:ir.blockSize});Hn._suggestNewBitmapSize(rr)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},tr})();function bindTo(tr,Hn){return new DevicePixelContentBoxBinding(tr,Hn.transform,Hn.options)}function canvasElementWindow(tr){return tr.ownerDocument.defaultView}function isDevicePixelContentBoxSupported(){return new Promise(function(tr){var Hn=new ResizeObserver(function(er){tr(er.every(function(nr){return"devicePixelContentBoxSize"in nr})),Hn.disconnect()});Hn.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function predictedBitmapSize(tr,Hn){return size({width:Math.round(tr.left*Hn+tr.width*Hn)-Math.round(tr.left*Hn),height:Math.round(tr.top*Hn+tr.height*Hn)-Math.round(tr.top*Hn)})}var CanvasRenderingTarget2D=(function(){function tr(Hn,er,nr){if(er.width===0||er.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=er,nr.width===0||nr.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=nr,this._context=Hn}return tr.prototype.useMediaCoordinateSpace=function(Hn){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),Hn({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},tr.prototype.useBitmapCoordinateSpace=function(Hn){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),Hn({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(tr.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(tr.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),tr})();function tryCreateCanvasRenderingTarget2D(tr,Hn){var er=tr.canvasElementClientSize;if(er.width===0||er.height===0)return null;var nr=tr.bitmapSize;if(nr.width===0||nr.height===0)return null;var ir=tr.canvasElement.getContext("2d",Hn);return ir===null?null:new CanvasRenderingTarget2D(ir,er,nr)}const e={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var r,h;function a(tr,Hn){const er={0:[],1:[tr.lineWidth,tr.lineWidth],2:[2*tr.lineWidth,2*tr.lineWidth],3:[6*tr.lineWidth,6*tr.lineWidth],4:[tr.lineWidth,4*tr.lineWidth]}[Hn];tr.setLineDash(er)}function l(tr,Hn,er,nr){tr.beginPath();const ir=tr.lineWidth%2?.5:0;tr.moveTo(er,Hn+ir),tr.lineTo(nr,Hn+ir),tr.stroke()}function o(tr,Hn){if(!tr)throw new Error("Assertion failed"+(Hn?": "+Hn:""))}function _(tr){if(tr===void 0)throw new Error("Value is undefined");return tr}function u(tr){if(tr===null)throw new Error("Value is null");return tr}function c(tr){return u(_(tr))}(function(tr){tr[tr.Simple=0]="Simple",tr[tr.WithSteps=1]="WithSteps",tr[tr.Curved=2]="Curved"})(r||(r={})),(function(tr){tr[tr.Solid=0]="Solid",tr[tr.Dotted=1]="Dotted",tr[tr.Dashed=2]="Dashed",tr[tr.LargeDashed=3]="LargeDashed",tr[tr.SparseDotted=4]="SparseDotted"})(h||(h={}));class d{constructor(){this.t=[]}i(Hn,er,nr){const ir={h:Hn,l:er,o:nr===!0};this.t.push(ir)}_(Hn){const er=this.t.findIndex((nr=>Hn===nr.h));er>-1&&this.t.splice(er,1)}u(Hn){this.t=this.t.filter((er=>er.l!==Hn))}p(Hn,er,nr){const ir=[...this.t];this.t=this.t.filter((rr=>!rr.o)),ir.forEach((rr=>rr.h(Hn,er,nr)))}v(){return this.t.length>0}m(){this.t=[]}}function f(tr,...Hn){for(const er of Hn)for(const nr in er)er[nr]!==void 0&&Object.prototype.hasOwnProperty.call(er,nr)&&!["__proto__","constructor","prototype"].includes(nr)&&(typeof er[nr]!="object"||tr[nr]===void 0||Array.isArray(er[nr])?tr[nr]=er[nr]:f(tr[nr],er[nr]));return tr}function p(tr){return typeof tr=="number"&&isFinite(tr)}function v(tr){return typeof tr=="number"&&tr%1==0}function m(tr){return typeof tr=="string"}function w(tr){return typeof tr=="boolean"}function g(tr){const Hn=tr;if(!Hn||typeof Hn!="object")return Hn;let er,nr,ir;for(nr in er=Array.isArray(Hn)?[]:{},Hn)Hn.hasOwnProperty(nr)&&(ir=Hn[nr],er[nr]=ir&&typeof ir=="object"?g(ir):ir);return er}function M(tr){return tr!==null}function b(tr){return tr===null?void 0:tr}const S="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function x(tr,Hn,er){return Hn===void 0&&(Hn=S),`${er=er!==void 0?`${er} `:""}${tr}px ${Hn}`}class C{constructor(Hn){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=Hn}N(){const Hn=this.M,er=this.F(),nr=this.W();return Hn.P===er&&Hn.T===nr||(Hn.P=er,Hn.T=nr,Hn.k=x(er,nr),Hn.A=2.5/12*er,Hn.V=Hn.A,Hn.B=er/12*Hn.C,Hn.I=er/12*Hn.C,Hn.L=0),Hn.R=this.H(),Hn.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function P(tr){return tr<0?0:tr>255?255:Math.round(tr)||0}function y(tr){return .199*tr[0]+.687*tr[1]+.114*tr[2]}class k{constructor(Hn,er){this.q=new Map,this.Y=Hn,er&&(this.q=er)}j(Hn,er){if(Hn==="transparent")return Hn;const nr=this.K(Hn),ir=nr[3];return`rgba(${nr[0]}, ${nr[1]}, ${nr[2]}, ${er*ir})`}X(Hn){const er=this.K(Hn);return{Z:`rgb(${er[0]}, ${er[1]}, ${er[2]})`,G:y(er)>160?"black":"white"}}J(Hn){return y(this.K(Hn))}tt(Hn,er,nr){const[ir,rr,sr,ar]=this.K(Hn),[or,lr,cr,ur]=this.K(er),dr=[P(ir+nr*(or-ir)),P(rr+nr*(lr-rr)),P(sr+nr*(cr-sr)),(fr=ar+nr*(ur-ar),fr<=0||fr>1?Math.min(Math.max(fr,0),1):Math.round(1e4*fr)/1e4)];var fr;return`rgba(${dr[0]}, ${dr[1]}, ${dr[2]}, ${dr[3]})`}K(Hn){const er=this.q.get(Hn);if(er)return er;const nr=(function(sr){const ar=document.createElement("div");ar.style.display="none",document.body.appendChild(ar),ar.style.color=sr;const or=window.getComputedStyle(ar).color;return document.body.removeChild(ar),or})(Hn),ir=nr.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!ir){if(this.Y.length)for(const sr of this.Y){const ar=sr(Hn);if(ar)return this.q.set(Hn,ar),ar}throw new Error(`Failed to parse color: ${Hn}`)}const rr=[parseInt(ir[1],10),parseInt(ir[2],10),parseInt(ir[3],10),ir[4]?parseFloat(ir[4]):1];return this.q.set(Hn,rr),rr}}class T{constructor(){this.it=[]}st(Hn){this.it=Hn}nt(Hn,er,nr){this.it.forEach((ir=>{ir.nt(Hn,er,nr)}))}}class R{nt(Hn,er,nr){Hn.useBitmapCoordinateSpace((ir=>this.et(ir,er,nr)))}}class D extends R{constructor(){super(...arguments),this.rt=null}ht(Hn){this.rt=Hn}et({context:Hn,horizontalPixelRatio:er,verticalPixelRatio:nr}){if(this.rt===null||this.rt.lt===null)return;const ir=this.rt.lt,rr=this.rt,sr=Math.max(1,Math.floor(er))%2/2,ar=or=>{Hn.beginPath();for(let lr=ir.to-1;lr>=ir.from;--lr){const cr=rr.ot[lr],ur=Math.round(cr._t*er)+sr,dr=cr.ut*nr,fr=or*nr+sr;Hn.moveTo(ur,dr),Hn.arc(ur,dr,fr,0,2*Math.PI)}Hn.fill()};rr.ct>0&&(Hn.fillStyle=rr.dt,ar(rr.ft+rr.ct)),Hn.fillStyle=rr.vt,ar(rr.ft)}}function V(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const B={from:0,to:1};class I{constructor(Hn,er,nr){this.Mt=new T,this.bt=[],this.St=[],this.xt=!0,this.O=Hn,this.Ct=er,this.Pt=nr,this.Mt.st(this.bt)}yt(Hn){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const Hn=this.Pt.Dt();Hn.length!==this.bt.length&&(this.St=Hn.map(V),this.bt=this.St.map((er=>{const nr=new D;return nr.ht(er),nr})),this.Mt.st(this.bt))}Rt(){const Hn=this.Ct.N().mode===2||!this.Ct.Vt(),er=this.Pt.Bt(),nr=this.Ct.It(),ir=this.O.Et();this.kt(),er.forEach(((rr,sr)=>{const ar=this.St[sr],or=rr.At(nr),lr=rr.zt();!Hn&&or!==null&&rr.Vt()&&lr!==null?(ar.vt=or.Lt,ar.ft=or.ft,ar.ct=or.Ot,ar.ot[0].gt=or.gt,ar.ot[0].ut=rr.Ft().Nt(or.gt,lr.Wt),ar.dt=or.Ht??this.O.Ut(ar.ot[0].ut/rr.Ft().$t()),ar.ot[0].wt=nr,ar.ot[0]._t=ir.qt(nr),ar.lt=B):ar.lt=null}))}}class E extends R{constructor(Hn){super(),this.Yt=Hn}et({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(this.Yt===null)return;const rr=this.Yt.jt.Vt,sr=this.Yt.Kt.Vt;if(!rr&&!sr)return;const ar=Math.round(this.Yt._t*nr),or=Math.round(this.Yt.ut*ir);Hn.lineCap="butt",rr&&ar>=0&&(Hn.lineWidth=Math.floor(this.Yt.jt.ct*nr),Hn.strokeStyle=this.Yt.jt.R,Hn.fillStyle=this.Yt.jt.R,a(Hn,this.Yt.jt.Xt),(function(lr,cr,ur,dr){lr.beginPath();const fr=lr.lineWidth%2?.5:0;lr.moveTo(cr+fr,ur),lr.lineTo(cr+fr,dr),lr.stroke()})(Hn,ar,0,er.height)),sr&&or>=0&&(Hn.lineWidth=Math.floor(this.Yt.Kt.ct*ir),Hn.strokeStyle=this.Yt.Kt.R,Hn.fillStyle=this.Yt.Kt.R,a(Hn,this.Yt.Kt.Xt),l(Hn,or,0,er.width))}}class A{constructor(Hn,er){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new E(this.Zt),this.Jt=Hn,this.Pt=er}yt(){this.xt=!0}Tt(Hn){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const Hn=this.Jt.Vt(),er=this.Pt.Qt().N().crosshair,nr=this.Zt;if(er.mode===2)return nr.Kt.Vt=!1,void(nr.jt.Vt=!1);nr.Kt.Vt=Hn&&this.Jt.ti(this.Pt),nr.jt.Vt=Hn&&this.Jt.ii(),nr.Kt.ct=er.horzLine.width,nr.Kt.Xt=er.horzLine.style,nr.Kt.R=er.horzLine.color,nr.jt.ct=er.vertLine.width,nr.jt.Xt=er.vertLine.style,nr.jt.R=er.vertLine.color,nr._t=this.Jt.si(),nr.ut=this.Jt.ni()}}function z(tr,Hn,er,nr,ir,rr){tr.fillRect(Hn+rr,er,nr-2*rr,rr),tr.fillRect(Hn+rr,er+ir-rr,nr-2*rr,rr),tr.fillRect(Hn,er,rr,ir),tr.fillRect(Hn+nr-rr,er,rr,ir)}function L$1(tr,Hn,er,nr,ir,rr){tr.save(),tr.globalCompositeOperation="copy",tr.fillStyle=rr,tr.fillRect(Hn,er,nr,ir),tr.restore()}function O(tr,Hn,er,nr,ir,rr){tr.beginPath(),tr.roundRect?tr.roundRect(Hn,er,nr,ir,rr):(tr.lineTo(Hn+nr-rr[1],er),rr[1]!==0&&tr.arcTo(Hn+nr,er,Hn+nr,er+rr[1],rr[1]),tr.lineTo(Hn+nr,er+ir-rr[2]),rr[2]!==0&&tr.arcTo(Hn+nr,er+ir,Hn+nr-rr[2],er+ir,rr[2]),tr.lineTo(Hn+rr[3],er+ir),rr[3]!==0&&tr.arcTo(Hn,er+ir,Hn,er+ir-rr[3],rr[3]),tr.lineTo(Hn,er+rr[0]),rr[0]!==0&&tr.arcTo(Hn,er,Hn+rr[0],er,rr[0]))}function N(tr,Hn,er,nr,ir,rr,sr=0,ar=[0,0,0,0],or=""){if(tr.save(),!sr||!or||or===rr)return O(tr,Hn,er,nr,ir,ar),tr.fillStyle=rr,tr.fill(),void tr.restore();const lr=sr/2;var cr;O(tr,Hn+lr,er+lr,nr-sr,ir-sr,(cr=-lr,ar.map((ur=>ur===0?ur:ur+cr)))),rr!=="transparent"&&(tr.fillStyle=rr,tr.fill()),or!=="transparent"&&(tr.lineWidth=sr,tr.strokeStyle=or,tr.closePath(),tr.stroke()),tr.restore()}function F(tr,Hn,er,nr,ir,rr,sr){tr.save(),tr.globalCompositeOperation="copy";const ar=tr.createLinearGradient(0,0,0,ir);ar.addColorStop(0,rr),ar.addColorStop(1,sr),tr.fillStyle=ar,tr.fillRect(Hn,er,nr,ir),tr.restore()}class W{constructor(Hn,er){this.ht(Hn,er)}ht(Hn,er){this.Yt=Hn,this.ei=er}$t(Hn,er){return this.Yt.Vt?Hn.P+Hn.A+Hn.V:0}nt(Hn,er,nr,ir){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const rr=this.Yt.R,sr=this.ei.Z,ar=Hn.useBitmapCoordinateSpace((or=>{const lr=or.context;lr.font=er.k;const cr=this.hi(or,er,nr,ir),ur=cr.ai;return cr.li?N(lr,ur.oi,ur._i,ur.ui,ur.ci,sr,ur.di,[ur.ft,0,0,ur.ft],sr):N(lr,ur.fi,ur._i,ur.ui,ur.ci,sr,ur.di,[0,ur.ft,ur.ft,0],sr),this.Yt.pi&&(lr.fillStyle=rr,lr.fillRect(ur.fi,ur.mi,ur.wi-ur.fi,ur.gi)),this.Yt.Mi&&(lr.fillStyle=er.D,lr.fillRect(cr.li?ur.bi-ur.di:0,ur._i,ur.di,ur.Si-ur._i)),cr}));Hn.useMediaCoordinateSpace((({context:or})=>{const lr=ar.xi;or.font=er.k,or.textAlign=ar.li?"right":"left",or.textBaseline="middle",or.fillStyle=rr,or.fillText(this.Yt.ri,lr.Ci,(lr._i+lr.Si)/2+lr.Pi)}))}hi(Hn,er,nr,ir){const{context:rr,bitmapSize:sr,mediaSize:ar,horizontalPixelRatio:or,verticalPixelRatio:lr}=Hn,cr=this.Yt.pi||!this.Yt.yi?er.C:0,ur=this.Yt.ki?er.S:0,dr=er.A+this.ei.Ti,fr=er.V+this.ei.Ri,xr=er.B,yr=er.I,_r=this.Yt.ri,Sr=er.P,jr=nr.Di(rr,_r),Dr=Math.ceil(nr.Vi(rr,_r)),Ir=Sr+dr+fr,Mr=er.S+xr+yr+Dr+cr,Or=Math.max(1,Math.floor(lr));let Lr=Math.round(Ir*lr);Lr%2!=Or%2&&(Lr+=1);const Fr=ur>0?Math.max(1,Math.floor(ur*or)):0,Vr=Math.round(Mr*or),Zr=Math.round(cr*or),Hr=this.ei.Bi??this.ei.Ii,Yr=Math.round(Hr*lr)-Math.floor(.5*lr),eo=Math.floor(Yr+Or/2-Lr/2),io=eo+Lr,uo=ir==="right",so=uo?ar.width-ur:ur,no=uo?sr.width-Fr:Fr;let po,co,lo;return uo?(po=no-Vr,co=no-Zr,lo=so-cr-xr-ur):(po=no+Vr,co=no+Zr,lo=so+cr+xr),{li:uo,ai:{_i:eo,mi:Yr,Si:io,ui:Vr,ci:Lr,ft:2*or,di:Fr,oi:po,fi:no,wi:co,gi:Or,bi:sr.width},xi:{_i:eo/lr,Si:io/lr,Ci:lo,Pi:jr}}}}class H{constructor(Hn){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(Hn||W)(this.Ai,this.Ei),this.Oi=new(Hn||W)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(Hn,er=!1){return Math.max(this.Li.$t(Hn,er),this.Oi.$t(Hn,er))}Fi(){return this.Ei.Bi||0}Wi(Hn){this.Ei.Bi=Hn}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(Hn){return this.Ni(),this.Ai.pi=this.Ai.pi&&Hn.N().ticksVisible,this.zi.pi=this.zi.pi&&Hn.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class U extends H{constructor(Hn,er,nr){super(),this.Jt=Hn,this.Yi=er,this.ji=nr}qi(Hn,er,nr){if(Hn.Vt=!1,this.Jt.N().mode===2)return;const ir=this.Jt.N().horzLine;if(!ir.labelVisible)return;const rr=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||rr===null)return;const sr=this.Yi.Xi().X(ir.labelBackgroundColor);nr.Z=sr.Z,Hn.R=sr.G;const ar=2/12*this.Yi.P();nr.Ti=ar,nr.Ri=ar;const or=this.ji(this.Yi);nr.Ii=or.Ii,Hn.ri=this.Yi.Zi(or.gt,rr),Hn.Vt=!0}}const $=/[1-9]/g;class q{constructor(){this.Yt=null}ht(Hn){this.Yt=Hn}nt(Hn,er){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const nr=Hn.useMediaCoordinateSpace((({context:dr})=>(dr.font=er.k,Math.round(er.Gi.Vi(dr,u(this.Yt).ri,$)))));if(nr<=0)return;const ir=er.Ji,rr=nr+2*ir,sr=rr/2,ar=this.Yt.Qi;let or=this.Yt.Ii,lr=Math.floor(or-sr)+.5;lr<0?(or+=Math.abs(0-lr),lr=Math.floor(or-sr)+.5):lr+rr>ar&&(or-=Math.abs(ar-(lr+rr)),lr=Math.floor(or-sr)+.5);const cr=lr+rr,ur=Math.ceil(0+er.S+er.C+er.A+er.P+er.V);Hn.useBitmapCoordinateSpace((({context:dr,horizontalPixelRatio:fr,verticalPixelRatio:xr})=>{const yr=u(this.Yt);dr.fillStyle=yr.Z;const _r=Math.round(lr*fr),Sr=Math.round(0*xr),jr=Math.round(cr*fr),Dr=Math.round(ur*xr),Ir=Math.round(2*fr);if(dr.beginPath(),dr.moveTo(_r,Sr),dr.lineTo(_r,Dr-Ir),dr.arcTo(_r,Dr,_r+Ir,Dr,Ir),dr.lineTo(jr-Ir,Dr),dr.arcTo(jr,Dr,jr,Dr-Ir,Ir),dr.lineTo(jr,Sr),dr.fill(),yr.pi){const Mr=Math.round(yr.Ii*fr),Or=Sr,Lr=Math.round((Or+er.C)*xr);dr.fillStyle=yr.R;const Fr=Math.max(1,Math.floor(fr)),Vr=Math.floor(.5*fr);dr.fillRect(Mr-Vr,Or,Fr,Lr-Or)}})),Hn.useMediaCoordinateSpace((({context:dr})=>{const fr=u(this.Yt),xr=0+er.S+er.C+er.A+er.P/2;dr.font=er.k,dr.textAlign="left",dr.textBaseline="middle",dr.fillStyle=fr.R;const yr=er.Gi.Di(dr,"Apr0");dr.translate(lr+ir,xr+yr),dr.fillText(fr.ri,0,0)}))}}class Y{constructor(Hn,er,nr){this.xt=!0,this.Gt=new q,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=Hn,this.ts=er,this.ji=nr}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const Hn=this.Zt;if(Hn.Vt=!1,this.Ct.N().mode===2)return;const er=this.Ct.N().vertLine;if(!er.labelVisible)return;const nr=this.ts.Et();if(nr.Ki())return;Hn.Qi=nr.Qi();const ir=this.ji();if(ir===null)return;Hn.Ii=ir.Ii;const rr=nr.ss(this.Ct.It());Hn.ri=nr.ns(u(rr)),Hn.Vt=!0;const sr=this.ts.Xi().X(er.labelBackgroundColor);Hn.Z=sr.Z,Hn.R=sr.G,Hn.pi=nr.N().ticksVisible}}let j$1=class{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(Hn){this.rs=Hn}Ft(){return this.es}_s(Hn){this.es=Hn}us(Hn){return[]}cs(){return[]}Vt(){return!0}};var K;(function(tr){tr[tr.Normal=0]="Normal",tr[tr.Magnet=1]="Magnet",tr[tr.Hidden=2]="Hidden",tr[tr.MagnetOHLC=3]="MagnetOHLC"})(K||(K={}));class X extends j$1{constructor(Hn,er){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=Hn,this.Ps=er,this.ys=((ir,rr)=>sr=>{const ar=rr(),or=ir();if(sr===u(this.Pt).ks())return{gt:or,Ii:ar};{const lr=u(sr.zt());return{gt:sr.Ts(ar,lr),Ii:ar}}})((()=>this.ds),(()=>this.Ss));const nr=((ir,rr)=>()=>{const sr=this.ts.Et().Rs(ir()),ar=rr();return sr&&Number.isFinite(ar)?{wt:sr,Ii:ar}:null})((()=>this.fs),(()=>this.si()));this.Ds=new Y(this,Hn,nr)}N(){return this.Ps}Vs(Hn,er){this.xs=Hn,this.Cs=er}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(Hn,er,nr){this.ws||(this.ws=!0),this.ps=!0,this.zs(Hn,er,nr)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(Hn){let er=this.gs.get(Hn);er||(er=new A(this,Hn),this.gs.set(Hn,er));let nr=this.Ms.get(Hn);return nr||(nr=new I(this.ts,this,Hn),this.Ms.set(Hn,nr)),[er,nr]}ti(Hn){return Hn===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(Hn,er){this.ps&&this.Pt===Hn||this.vs.clear();const nr=[];return this.Pt===Hn&&nr.push(this.Hs(this.vs,er,this.ys)),nr}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((Hn=>{this.gs.get(Hn)?.yt(),this.Ms.get(Hn)?.yt()})),this.vs.forEach((Hn=>Hn.yt())),this.Ds.yt()}qs(Hn){return Hn&&!Hn.ks().Ki()?Hn.ks():null}zs(Hn,er,nr){this.Ys(Hn,er,nr)&&this.Ns()}Ys(Hn,er,nr){const ir=this.bs,rr=this.Ss,sr=this.ds,ar=this.fs,or=this.Pt,lr=this.qs(nr);this.fs=Hn,this.bs=isNaN(Hn)?NaN:this.ts.Et().qt(Hn),this.Pt=nr;const cr=lr!==null?lr.zt():null;return lr!==null&&cr!==null?(this.ds=er,this.Ss=lr.Nt(er,cr)):(this.ds=NaN,this.Ss=NaN),ir!==this.bs||rr!==this.Ss||ar!==this.fs||sr!==this.ds||or!==this.Pt}Os(){const Hn=this.ts.js().map((nr=>nr.Xs().Ks())).filter(M),er=Hn.length===0?null:Math.max(...Hn);this.fs=er!==null?er:NaN}Hs(Hn,er,nr){let ir=Hn.get(er);return ir===void 0&&(ir=new U(this,er,nr),Hn.set(er,ir)),ir}}function Z(tr){return tr==="left"||tr==="right"}class G{constructor(Hn){this.Zs=new Map,this.Gs=[],this.Js=Hn}Qs(Hn,er){const nr=(function(ir,rr){return ir===void 0?rr:{tn:Math.max(ir.tn,rr.tn),sn:ir.sn||rr.sn}})(this.Zs.get(Hn),er);this.Zs.set(Hn,nr)}nn(){return this.Js}en(Hn){const er=this.Zs.get(Hn);return er===void 0?{tn:this.Js}:{tn:Math.max(this.Js,er.tn),sn:er.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(Hn){this.hn(),this.Gs=[{an:1,Wt:Hn}]}_n(Hn){this.un(),this.Gs.push({an:5,Wt:Hn})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(Hn){this.hn(),this.Gs.push({an:2,Wt:Hn})}fn(Hn){this.hn(),this.Gs.push({an:3,Wt:Hn})}pn(){return this.Gs}vn(Hn){for(const er of Hn.Gs)this.mn(er);this.Js=Math.max(this.Js,Hn.Js),Hn.Zs.forEach(((er,nr)=>{this.Qs(nr,er)}))}static wn(){return new G(2)}static gn(){return new G(3)}mn(Hn){switch(Hn.an){case 0:this.rn();break;case 1:this.ln(Hn.Wt);break;case 2:this.dn(Hn.Wt);break;case 3:this.fn(Hn.Wt);break;case 4:this.cn();break;case 5:this._n(Hn.Wt);break;case 6:this.un()}}un(){const Hn=this.Gs.findIndex((er=>er.an===5));Hn!==-1&&this.Gs.splice(Hn,1)}}class J{formatTickmarks(Hn){return Hn.map((er=>this.format(er)))}}const Q=".";function tt(tr,Hn){if(!p(tr))return"n/a";if(!v(Hn))throw new TypeError("invalid length");if(Hn<0||Hn>16)throw new TypeError("invalid length");return Hn===0?tr.toString():("0000000000000000"+tr.toString()).slice(-Hn)}class it extends J{constructor(Hn,er){if(super(),er||(er=1),p(Hn)&&v(Hn)||(Hn=100),Hn<0)throw new TypeError("invalid base");this.Yi=Hn,this.Mn=er,this.bn()}format(Hn){const er=Hn<0?"":"";return Hn=Math.abs(Hn),er+this.Sn(Hn)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let Hn=this.Yi;for(;Hn>1;)Hn/=10,this.xn++}}Sn(Hn){const er=this.Yi/this.Mn;let nr=Math.floor(Hn),ir="";const rr=this.xn!==void 0?this.xn:NaN;if(er>1){let sr=+(Math.round(Hn*er)-nr*er).toFixed(this.xn);sr>=er&&(sr-=er,nr+=1),ir=Q+tt(+sr.toFixed(this.xn)*this.Mn,rr)}else nr=Math.round(nr*er)/er,rr>0&&(ir=Q+tt(0,rr));return nr.toFixed(0)+ir}}class st extends it{constructor(Hn=100){super(Hn)}format(Hn){return`${super.format(Hn)}%`}}class nt extends J{constructor(Hn){super(),this.Cn=Hn}format(Hn){let er="";return Hn<0&&(er="-",Hn=-Hn),Hn<995?er+this.Pn(Hn):Hn<999995?er+this.Pn(Hn/1e3)+"K":Hn<999999995?(Hn=1e3*Math.round(Hn/1e3),er+this.Pn(Hn/1e6)+"M"):(Hn=1e6*Math.round(Hn/1e6),er+this.Pn(Hn/1e9)+"B")}Pn(Hn){let er;const nr=Math.pow(10,this.Cn);return er=(Hn=Math.round(Hn*nr)/nr)>=1e-15&&Hn<1?Hn.toFixed(this.Cn).replace(/\.?0+$/,""):String(Hn),er.replace(/(\.[1-9]*)0+$/,((ir,rr)=>rr))}}const et=/[2-9]/g;class rt{constructor(Hn=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=Hn}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(Hn,er,nr){return this.In(Hn,er,nr).width}Di(Hn,er,nr){const ir=this.In(Hn,er,nr);return((ir.actualBoundingBoxAscent||0)-(ir.actualBoundingBoxDescent||0))/2}In(Hn,er,nr){const ir=nr||et,rr=String(er).replace(ir,"0");if(this.Dn.has(rr))return _(this.Dn.get(rr)).En;if(this.yn===this.Vn){const ar=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(ar),this.Tn++,this.yn--}Hn.save(),Hn.textBaseline="middle";const sr=Hn.measureText(rr);return Hn.restore(),sr.width===0&&er.length||(this.Dn.set(rr,{En:sr,An:this.kn}),this.Rn[this.kn]=rr,this.yn++,this.kn++),sr}}class ht{constructor(Hn){this.zn=null,this.M=null,this.Ln="right",this.On=Hn}Nn(Hn,er,nr){this.zn=Hn,this.M=er,this.Ln=nr}nt(Hn){this.M!==null&&this.zn!==null&&this.zn.nt(Hn,this.M,this.On,this.Ln)}}class at{constructor(Hn,er,nr){this.Fn=Hn,this.On=new rt(50),this.Wn=er,this.O=nr,this.F=-1,this.Gt=new ht(this.On)}Tt(){const Hn=this.O.Hn(this.Wn);if(Hn===null)return null;const er=Hn.Un(this.Wn)?Hn.$n():this.Wn.Ft();if(er===null)return null;const nr=Hn.qn(er);if(nr==="overlay")return null;const ir=this.O.Yn();return ir.P!==this.F&&(this.F=ir.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),ir,nr),this.Gt}}class lt extends R{constructor(){super(...arguments),this.Yt=null}ht(Hn){this.Yt=Hn}jn(Hn,er){if(!this.Yt?.Vt)return null;const{ut:nr,ct:ir,Kn:rr}=this.Yt;return er>=nr-ir-7&&er<=nr+ir+7?{Xn:this.Yt,Kn:rr}:null}et({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(this.Yt===null||this.Yt.Vt===!1)return;const rr=Math.round(this.Yt.ut*ir);rr<0||rr>er.height||(Hn.lineCap="butt",Hn.strokeStyle=this.Yt.R,Hn.lineWidth=Math.floor(this.Yt.ct*nr),a(Hn,this.Yt.Xt),l(Hn,rr,0,er.width))}}class ot{constructor(Hn){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new lt,this.xt=!0,this.Jn=Hn,this.Qn=Hn.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class _t extends ot{constructor(Hn){super(Hn)}te(){this.Zn.Vt=!1;const Hn=this.Jn.Ft(),er=Hn.ie().ie;if(er!==2&&er!==3)return;const nr=this.Jn.N();if(!nr.baseLineVisible||!this.Jn.Vt())return;const ir=this.Jn.zt();ir!==null&&(this.Zn.Vt=!0,this.Zn.ut=Hn.Nt(ir.Wt,ir.Wt),this.Zn.R=nr.baseLineColor,this.Zn.ct=nr.baseLineWidth,this.Zn.Xt=nr.baseLineStyle)}}class ut extends R{constructor(){super(...arguments),this.Yt=null}ht(Hn){this.Yt=Hn}se(){return this.Yt}et({context:Hn,horizontalPixelRatio:er,verticalPixelRatio:nr}){const ir=this.Yt;if(ir===null)return;const rr=Math.max(1,Math.floor(er)),sr=rr%2/2,ar=Math.round(ir.ne.x*er)+sr,or=ir.ne.y*nr;Hn.fillStyle=ir.ee,Hn.beginPath();const lr=Math.max(2,1.5*ir.re)*er;Hn.arc(ar,or,lr,0,2*Math.PI,!1),Hn.fill(),Hn.fillStyle=ir.he,Hn.beginPath(),Hn.arc(ar,or,ir.ft*er,0,2*Math.PI,!1),Hn.fill(),Hn.lineWidth=rr,Hn.strokeStyle=ir.ae,Hn.beginPath(),Hn.arc(ar,or,ir.ft*er+rr/2,0,2*Math.PI,!1),Hn.stroke()}}const ct=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class dt{constructor(Hn){this.Gt=new ut,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=Hn}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const Hn=performance.now(),er=this.we-Hn;if(er>0)return void(er<650&&(this.we+=2600));this.me=Hn,this.we=Hn+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const Hn=this.ge.Qt().Et(),er=Hn.Pe(),nr=this.ge.zt();if(er===null||nr===null)return;const ir=this.ge.ye(!0);if(ir.ke||!er.Te(ir.Re))return;const rr={x:Hn.qt(ir.Re),y:this.ge.Ft().Nt(ir.gt,nr.Wt)},sr=ir.R,ar=this.ge.N().lineWidth,or=this.De(this.Ve(),sr);this.Gt.ht({ee:sr,re:ar,he:or.he,ae:or.ae,ft:or.ft,ne:rr})}Ce(){const Hn=this.Gt.se();if(Hn!==null){const er=this.De(this.Ve(),Hn.ee);Hn.he=er.he,Hn.ae=er.ae,Hn.ft=er.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(Hn,er,nr,ir){const rr=nr+(ir-nr)*er;return this.ge.Qt().Xi().j(Hn,rr)}De(Hn,er){const nr=Hn%2600/2600;let ir;for(const lr of ct)if(nr>=lr.le&&nr<=lr.oe){ir=lr;break}o(ir!==void 0,"Last price animation internal logic error");const rr=(nr-ir.le)/(ir.oe-ir.le);return{he:this.Be(er,rr,ir.ce,ir.de),ae:this.Be(er,rr,ir.fe,ir.pe),ft:(sr=rr,ar=ir._e,or=ir.ue,ar+(or-ar)*sr)};var sr,ar,or}}class ft extends ot{constructor(Hn){super(Hn)}te(){const Hn=this.Zn;Hn.Vt=!1;const er=this.Jn.N();if(!er.priceLineVisible||!this.Jn.Vt())return;const nr=this.Jn.ye(er.priceLineSource===0);nr.ke||(Hn.Vt=!0,Hn.ut=nr.Ii,Hn.R=this.Jn.Ie(nr.R),Hn.ct=er.priceLineWidth,Hn.Xt=er.priceLineStyle)}}class pt extends H{constructor(Hn){super(),this.Jt=Hn}qi(Hn,er,nr){Hn.Vt=!1,er.Vt=!1;const ir=this.Jt;if(!ir.Vt())return;const rr=ir.N(),sr=rr.lastValueVisible,ar=ir.Ee()!=="",or=rr.seriesLastValueMode===0,lr=ir.ye(!1);if(lr.ke)return;sr&&(Hn.ri=this.Ae(lr,sr,or),Hn.Vt=Hn.ri.length!==0),(ar||or)&&(er.ri=this.ze(lr,sr,ar,or),er.Vt=er.ri.length>0);const cr=ir.Ie(lr.R),ur=this.Jt.Qt().Xi().X(cr);nr.Z=ur.Z,nr.Ii=lr.Ii,er.Ht=ir.Qt().Ut(lr.Ii/ir.Ft().$t()),Hn.Ht=cr,Hn.R=ur.G,er.R=ur.G}ze(Hn,er,nr,ir){let rr="";const sr=this.Jt.Ee();return nr&&sr.length!==0&&(rr+=`${sr} `),er&&ir&&(rr+=this.Jt.Ft().Le()?Hn.Oe:Hn.Ne),rr.trim()}Ae(Hn,er,nr){return er?nr?this.Jt.Ft().Le()?Hn.Ne:Hn.Oe:Hn.ri:""}}function vt(tr,Hn,er,nr){const ir=Number.isFinite(Hn),rr=Number.isFinite(er);return ir&&rr?tr(Hn,er):ir||rr?ir?Hn:er:nr}class mt{constructor(Hn,er){this.Fe=Hn,this.We=er}He(Hn){return Hn!==null&&this.Fe===Hn.Fe&&this.We===Hn.We}Ue(){return new mt(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(Hn){return Hn===null?this:new mt(vt(Math.min,this.$e(),Hn.$e(),-1/0),vt(Math.max,this.qe(),Hn.qe(),1/0))}je(Hn){if(!p(Hn)||this.We-this.Fe===0)return;const er=.5*(this.We+this.Fe);let nr=this.We-er,ir=this.Fe-er;nr*=Hn,ir*=Hn,this.We=er+nr,this.Fe=er+ir}Ke(Hn){p(Hn)&&(this.We+=Hn,this.Fe+=Hn)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(Hn){return Hn===null?null:new mt(Hn.minValue,Hn.maxValue)}}class wt{constructor(Hn,er){this.Ge=Hn,this.Je=er||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(Hn){return Hn===null?null:new wt(mt.Ze(Hn.priceRange),Hn.margins)}}class gt extends ot{constructor(Hn,er){super(Hn),this.ir=er}te(){const Hn=this.Zn;Hn.Vt=!1;const er=this.ir.N();if(!this.Jn.Vt()||!er.lineVisible)return;const nr=this.ir.sr();nr!==null&&(Hn.Vt=!0,Hn.ut=nr,Hn.R=er.color,Hn.ct=er.lineWidth,Hn.Xt=er.lineStyle,Hn.Kn=this.ir.N().id)}}class Mt extends H{constructor(Hn,er){super(),this.ge=Hn,this.ir=er}qi(Hn,er,nr){Hn.Vt=!1,er.Vt=!1;const ir=this.ir.N(),rr=ir.axisLabelVisible,sr=ir.title!=="",ar=this.ge;if(!rr||!ar.Vt())return;const or=this.ir.sr();if(or===null)return;sr&&(er.ri=ir.title,er.Vt=!0),er.Ht=ar.Qt().Ut(or/ar.Ft().$t()),Hn.ri=this.nr(ir.price),Hn.Vt=!0;const lr=this.ge.Qt().Xi().X(ir.axisLabelColor||ir.color);nr.Z=lr.Z;const cr=ir.axisLabelTextColor||lr.G;Hn.R=cr,er.R=cr,nr.Ii=or}nr(Hn){const er=this.ge.zt();return er===null?"":this.ge.Ft().Zi(Hn,er.Wt)}}class bt{constructor(Hn,er){this.ge=Hn,this.Ps=er,this.er=new gt(Hn,this),this.Fn=new Mt(Hn,this),this.rr=new at(this.Fn,Hn,Hn.Qt())}hr(Hn){f(this.Ps,Hn),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const Hn=this.ge,er=Hn.Ft();if(Hn.Qt().Et().Ki()||er.Ki())return null;const nr=Hn.zt();return nr===null?null:er.Nt(this.Ps.price,nr.Wt)}}class St extends j$1{constructor(Hn){super(),this.ts=Hn}Qt(){return this.ts}}const xt={Bar:(tr,Hn,er,nr)=>{const ir=Hn.upColor,rr=Hn.downColor,sr=u(tr(er,nr)),ar=c(sr.Wt[0])<=c(sr.Wt[3]);return{cr:sr.R??(ar?ir:rr)}},Candlestick:(tr,Hn,er,nr)=>{const ir=Hn.upColor,rr=Hn.downColor,sr=Hn.borderUpColor,ar=Hn.borderDownColor,or=Hn.wickUpColor,lr=Hn.wickDownColor,cr=u(tr(er,nr)),ur=c(cr.Wt[0])<=c(cr.Wt[3]);return{cr:cr.R??(ur?ir:rr),dr:cr.Ht??(ur?sr:ar),pr:cr.vr??(ur?or:lr)}},Custom:(tr,Hn,er,nr)=>({cr:u(tr(er,nr)).R??Hn.color}),Area:(tr,Hn,er,nr)=>{const ir=u(tr(er,nr));return{cr:ir.vt??Hn.lineColor,vt:ir.vt??Hn.lineColor,mr:ir.mr??Hn.topColor,wr:ir.wr??Hn.bottomColor}},Baseline:(tr,Hn,er,nr)=>{const ir=u(tr(er,nr));return{cr:ir.Wt[3]>=Hn.baseValue.price?Hn.topLineColor:Hn.bottomLineColor,gr:ir.gr??Hn.topLineColor,Mr:ir.Mr??Hn.bottomLineColor,br:ir.br??Hn.topFillColor1,Sr:ir.Sr??Hn.topFillColor2,Cr:ir.Cr??Hn.bottomFillColor1,Pr:ir.Pr??Hn.bottomFillColor2}},Line:(tr,Hn,er,nr)=>{const ir=u(tr(er,nr));return{cr:ir.R??Hn.color,vt:ir.R??Hn.color}},Histogram:(tr,Hn,er,nr)=>({cr:u(tr(er,nr)).R??Hn.color})};class Ct{constructor(Hn){this.yr=(er,nr)=>nr!==void 0?nr.Wt:this.ge.Xs().kr(er),this.ge=Hn,this.Tr=xt[Hn.Rr()]}Dr(Hn,er){return this.Tr(this.yr,this.ge.N(),Hn,er)}}function Pt(tr,Hn,er,nr,ir=0,rr=Hn.length){let sr=rr-ir;for(;0<sr;){const ar=sr>>1,or=ir+ar;nr(Hn[or],er)===tr?(ir=or+1,sr-=ar+1):sr=ar}return ir}const yt=Pt.bind(null,!0),kt=Pt.bind(null,!1);var Tt;(function(tr){tr[tr.NearestLeft=-1]="NearestLeft",tr[tr.None=0]="None",tr[tr.NearestRight=1]="NearestRight"})(Tt||(Tt={}));const Rt=30;class Dt{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(Hn){return this.Nr(Hn,0)!==null}kr(Hn){return this.Fr(Hn)}Fr(Hn,er=0){const nr=this.Nr(Hn,er);return nr===null?null:{...this.Wr(nr),Re:this.Or(nr)}}Hr(){return this.Vr}Ur(Hn,er,nr){if(this.Ki())return null;let ir=null;for(const rr of nr)ir=Vt(ir,this.$r(Hn,er,rr));return ir}ht(Hn){this.Ir.clear(),this.Br.clear(),this.Vr=Hn,this.Er=Hn.map((er=>er.Re))}qr(){return this.Er}Or(Hn){return this.Vr[Hn].Re}Wr(Hn){return this.Vr[Hn]}Nr(Hn,er){const nr=this.Yr(Hn);if(nr===null&&er!==0)switch(er){case-1:return this.jr(Hn);case 1:return this.Kr(Hn);default:throw new TypeError("Unknown search mode")}return nr}jr(Hn){let er=this.Xr(Hn);return er>0&&(er-=1),er!==this.Vr.length&&this.Or(er)<Hn?er:null}Kr(Hn){const er=this.Zr(Hn);return er!==this.Vr.length&&Hn<this.Or(er)?er:null}Yr(Hn){const er=this.Xr(Hn);return er===this.Vr.length||Hn<this.Vr[er].Re?null:er}Xr(Hn){return yt(this.Vr,Hn,((er,nr)=>er.Re<nr))}Zr(Hn){return kt(this.Vr,Hn,((er,nr)=>er.Re>nr))}Gr(Hn,er,nr){let ir=null;for(let rr=Hn;rr<er;rr++){const sr=this.Vr[rr].Wt[nr];Number.isNaN(sr)||(ir===null?ir={Jr:sr,Qr:sr}:(sr<ir.Jr&&(ir.Jr=sr),sr>ir.Qr&&(ir.Qr=sr)))}return ir}$r(Hn,er,nr){if(this.Ki())return null;let ir=null;const rr=u(this.Lr()),sr=u(this.Ks()),ar=Math.max(Hn,rr),or=Math.min(er,sr),lr=Math.ceil(ar/Rt)*Rt,cr=Math.max(lr,Math.floor(or/Rt)*Rt);{const dr=this.Xr(ar),fr=this.Zr(Math.min(or,lr,er));ir=Vt(ir,this.Gr(dr,fr,nr))}let ur=this.Br.get(nr);ur===void 0&&(ur=new Map,this.Br.set(nr,ur));for(let dr=Math.max(lr+1,ar);dr<cr;dr+=Rt){const fr=Math.floor(dr/Rt);let xr=ur.get(fr);if(xr===void 0){const yr=this.Xr(fr*Rt),_r=this.Zr((fr+1)*Rt-1);xr=this.Gr(yr,_r,nr),ur.set(fr,xr)}ir=Vt(ir,xr)}{const dr=this.Xr(cr),fr=this.Zr(or);ir=Vt(ir,this.Gr(dr,fr,nr))}return ir}}function Vt(tr,Hn){return tr===null?Hn:Hn===null?tr:{Jr:Math.min(tr.Jr,Hn.Jr),Qr:Math.max(tr.Qr,Hn.Qr)}}const Bt={setLineStyle:a};class It{constructor(Hn){this.th=Hn}nt(Hn,er,nr){this.th.draw(Hn,Bt)}ih(Hn,er,nr){this.th.drawBackground?.(Hn,Bt)}}class Et{constructor(Hn){this.Dn=null,this.sh=Hn}Tt(){const Hn=this.sh.renderer();if(Hn===null)return null;if(this.Dn?.nh===Hn)return this.Dn.eh;const er=new It(Hn);return this.Dn={nh:Hn,eh:er},er}rh(){return this.sh.zOrder?.()??"normal"}}class At{constructor(Hn){this.hh=null,this.ah=Hn}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const Hn=this.ah.paneViews?.()??[];if(this.hh?.nh===Hn)return this.hh.eh;const er=Hn.map((nr=>new Et(nr)));return this.hh={nh:Hn,eh:er},er}jn(Hn,er){return this.ah.hitTest?.(Hn,er)??null}}let zt=class extends At{us(){return[]}};class Lt{constructor(Hn){this.th=Hn}nt(Hn,er,nr){this.th.draw(Hn,Bt)}ih(Hn,er,nr){this.th.drawBackground?.(Hn,Bt)}}class Ot{constructor(Hn){this.Dn=null,this.sh=Hn}Tt(){const Hn=this.sh.renderer();if(Hn===null)return null;if(this.Dn?.nh===Hn)return this.Dn.eh;const er=new Lt(Hn);return this.Dn={nh:Hn,eh:er},er}rh(){return this.sh.zOrder?.()??"normal"}}function Nt(tr){return{ri:tr.text(),Ii:tr.coordinate(),Bi:tr.fixedCoordinate?.(),R:tr.textColor(),Z:tr.backColor(),Vt:tr.visible?.()??!0,pi:tr.tickVisible?.()??!0}}class Ft{constructor(Hn,er){this.Gt=new q,this._h=Hn,this.uh=er}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Nt(this._h)}),this.Gt}}class Wt extends H{constructor(Hn,er){super(),this._h=Hn,this.Yi=er}qi(Hn,er,nr){const ir=Nt(this._h);nr.Z=ir.Z,Hn.R=ir.R;const rr=2/12*this.Yi.P();nr.Ti=rr,nr.Ri=rr,nr.Ii=ir.Ii,nr.Bi=ir.Bi,Hn.ri=ir.ri,Hn.Vt=ir.Vt,Hn.pi=ir.pi}}class Ht extends At{constructor(Hn,er){super(Hn),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=er}cs(){const Hn=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===Hn)return this.dh.eh;const er=this.ge.Qt().Et(),nr=Hn.map((ir=>new Ft(ir,er)));return this.dh={nh:Hn,eh:nr},nr}Ws(){const Hn=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===Hn)return this.fh.eh;const er=this.ge.Ft(),nr=Hn.map((ir=>new Wt(ir,er)));return this.fh={nh:Hn,eh:nr},nr}wh(){const Hn=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===Hn)return this.ph.eh;const er=Hn.map((nr=>new Ot(nr)));return this.ph={nh:Hn,eh:er},er}gh(){const Hn=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===Hn)return this.mh.eh;const er=Hn.map((nr=>new Ot(nr)));return this.mh={nh:Hn,eh:er},er}Mh(Hn,er){return this.ah.autoscaleInfo?.(Hn,er)??null}}function Ut(tr,Hn,er,nr){tr.forEach((ir=>{Hn(ir).forEach((rr=>{rr.rh()===er&&nr.push(rr)}))}))}function $t(tr){return tr.Fs()}function qt(tr){return tr.wh()}function Yt(tr){return tr.gh()}const jt=["Area","Line","Baseline"];class Kt extends St{constructor(Hn,er,nr,ir,rr){super(Hn),this.Yt=new Dt,this.er=new ft(this),this.bh=[],this.Sh=new _t(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=nr,this.kh=er;const sr=new pt(this);this.vs=[sr],this.rr=new at(sr,this,Hn),jt.includes(this.kh)&&(this.xh=new dt(this)),this.Th(),this.sh=ir(this,this.Qt(),rr)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(Hn){return this.Ps.priceLineColor||Hn}ye(Hn){const er={ke:!0},nr=this.Ft();if(this.Qt().Et().Ki()||nr.Ki()||this.Yt.Ki())return er;const ir=this.Qt().Et().Pe(),rr=this.zt();if(ir===null||rr===null)return er;let sr,ar;if(Hn){const ur=this.Yt.Ar();if(ur===null)return er;sr=ur,ar=ur.Re}else{const ur=this.Yt.Fr(ir.bi(),-1);if(ur===null||(sr=this.Yt.kr(ur.Re),sr===null))return er;ar=ur.Re}const or=sr.Wt[3],lr=this.Rh().Dr(ar,{Wt:sr}),cr=nr.Nt(or,rr.Wt);return{ke:!1,gt:or,ri:nr.Zi(or,rr.Wt),Oe:nr.Dh(or),Ne:nr.Vh(or,rr.Wt),R:lr.cr,Ii:cr,Re:ar}}Rh(){return this.Ch!==null||(this.Ch=new Ct(this)),this.Ch}N(){return this.Ps}hr(Hn){const er=Hn.priceScaleId;er!==void 0&&er!==this.Ps.priceScaleId&&this.Qt().Bh(this,er),f(this.Ps,Hn),Hn.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(Hn,er){this.Yt.ht(Hn),this.sh.yt("data"),this.xh!==null&&(er&&er.zh?this.xh.be():Hn.length===0&&this.xh.Me());const nr=this.Qt().Hn(this);this.Qt().Lh(nr),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(Hn){const er=new bt(this,Hn);return this.bh.push(er),this.Qt().Eh(this),er}Nh(Hn){const er=this.bh.indexOf(Hn);er!==-1&&this.bh.splice(er,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const Hn=this.Wh();return Hn===null?null:{Wt:Hn.Wt[3],Hh:Hn.wt}}Wh(){const Hn=this.Qt().Et().Pe();if(Hn===null)return null;const er=Hn.Uh();return this.Yt.Fr(er,1)}Xs(){return this.Yt}$h(Hn){const er=this.Yt.kr(Hn);return er===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:er.Wt[0],Yh:er.Wt[1],jh:er.Wt[2],Kh:er.Wt[3]}:er.Wt[3]}Xh(Hn){const er=[];Ut(this.yh,$t,"top",er);const nr=this.xh;return nr!==null&&nr.Vt()&&(this.Ph===null&&nr.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),nr.Se(),er.unshift(nr)),er}Fs(){const Hn=[];this.Gh()||Hn.push(this.Sh),Hn.push(this.sh,this.er);const er=this.bh.map((nr=>nr.lr()));return Hn.push(...er),Ut(this.yh,$t,"normal",Hn),Hn}Jh(){return this.Qh($t,"bottom")}ta(Hn){return this.Qh(qt,Hn)}ia(Hn){return this.Qh(Yt,Hn)}sa(Hn,er){return this.yh.map((nr=>nr.jn(Hn,er))).filter((nr=>nr!==null))}us(){return[this.rr,...this.bh.map((Hn=>Hn._r()))]}Ws(Hn,er){if(er!==this.es&&!this.Gh())return[];const nr=[...this.vs];for(const ir of this.bh)nr.push(ir.ur());return this.yh.forEach((ir=>{nr.push(...ir.Ws())})),nr}cs(){const Hn=[];return this.yh.forEach((er=>{Hn.push(...er.cs())})),Hn}Mh(Hn,er){if(this.Ps.autoscaleInfoProvider!==void 0){const nr=this.Ps.autoscaleInfoProvider((()=>{const ir=this.na(Hn,er);return ir===null?null:ir.Xe()}));return wt.Ze(nr)}return this.na(Hn,er)}nh(){const Hn=this.Ps.priceFormat;return Hn.base??1/Hn.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const Hn of this.vs)Hn.yt();for(const Hn of this.bh)Hn.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((Hn=>Hn.Ns()))}Ft(){return u(super.Ft())}At(Hn){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const er=this.Yt.kr(Hn);return er===null?null:{gt:er.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(Hn)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(Hn){this.yh.push(new Ht(Hn,this))}ua(Hn){this.yh=this.yh.filter((er=>er.oh()!==Hn))}ca(){if(this.kh==="Custom")return Hn=>this.sh.da(Hn)}fa(){if(this.kh==="Custom")return Hn=>this.sh.pa(Hn)}va(){return this.Yt.qr()}Gh(){return!Z(this.Ft().ma())}na(Hn,er){if(!v(Hn)||!v(er)||this.Yt.Ki())return null;const nr=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],ir=this.Yt.Ur(Hn,er,nr);let rr=ir!==null?new mt(ir.Jr,ir.Qr):null,sr=null;if(this.Rr()==="Histogram"){const ar=this.Ps.base,or=new mt(ar,ar);rr=rr!==null?rr.vn(or):or}return this.yh.forEach((ar=>{const or=ar.Mh(Hn,er);if(or?.priceRange){const lr=new mt(or.priceRange.minValue,or.priceRange.maxValue);rr=rr!==null?rr.vn(lr):lr}or?.margins&&(sr=or.margins)})),new wt(rr,sr)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const Hn=this.Ps.crosshairMarkerBorderColor;if(Hn.length!==0)return Hn}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(Hn){switch(this.kh){case"Line":case"Area":case"Baseline":{const er=this.Ps.crosshairMarkerBackgroundColor;if(er.length!==0)return er}}return this.Rh().Dr(Hn).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const Hn=this.Ps.priceFormat.formatter;this.ra={format:Hn,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(er=>er.map(Hn))};break}case"volume":this.ra=new nt(this.Ps.priceFormat.precision);break;case"percent":this.ra=new st(this.Ps.priceFormat.precision);break;default:{const Hn=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new it(Hn,this.Ps.priceFormat.minMove*Hn)}}this.es!==null&&this.es.wa()}Qh(Hn,er){const nr=[];return Ut(this.yh,Hn,er,nr),nr}}const Xt=[3],Zt=[0,1,2,3];class Gt{constructor(Hn){this.Ps=Hn}ga(Hn,er,nr){let ir=Hn;if(this.Ps.mode===0)return ir;const rr=nr.ks(),sr=rr.zt();if(sr===null)return ir;const ar=rr.Nt(Hn,sr),or=nr.Ma().filter((cr=>cr instanceof Kt)).reduce(((cr,ur)=>{if(nr.Un(ur)||!ur.Vt())return cr;const dr=ur.Ft(),fr=ur.Xs();if(dr.Ki()||!fr.Te(er))return cr;const xr=fr.kr(er);if(xr===null)return cr;const yr=c(ur.zt()),_r=this.Ps.mode===3?Zt:Xt;return cr.concat(_r.map((Sr=>dr.Nt(xr.Wt[Sr],yr.Wt))))}),[]);if(or.length===0)return ir;or.sort(((cr,ur)=>Math.abs(cr-ar)-Math.abs(ur-ar)));const lr=or[0];return ir=rr.Ts(lr,sr),ir}}function Jt(tr,Hn,er){return Math.min(Math.max(tr,Hn),er)}function Qt(tr,Hn,er){return Hn-tr<=er}class ii extends R{constructor(){super(...arguments),this.Yt=null}ht(Hn){this.Yt=Hn}et({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(this.Yt===null)return;const rr=Math.max(1,Math.floor(nr));Hn.lineWidth=rr,(function(sr,ar){sr.save(),sr.lineWidth%2&&sr.translate(.5,.5),ar(),sr.restore()})(Hn,(()=>{const sr=u(this.Yt);if(sr.ba){Hn.strokeStyle=sr.Sa,a(Hn,sr.xa),Hn.beginPath();for(const ar of sr.Ca){const or=Math.round(ar.Pa*nr);Hn.moveTo(or,-rr),Hn.lineTo(or,er.height+rr)}Hn.stroke()}if(sr.ya){Hn.strokeStyle=sr.ka,a(Hn,sr.Ta),Hn.beginPath();for(const ar of sr.Ra){const or=Math.round(ar.Pa*ir);Hn.moveTo(-rr,or),Hn.lineTo(er.width+rr,or)}Hn.stroke()}}))}}class si{constructor(Hn){this.Gt=new ii,this.xt=!0,this.Pt=Hn}yt(){this.xt=!0}Tt(){if(this.xt){const Hn=this.Pt.Qt().N().grid,er={ya:Hn.horzLines.visible,ba:Hn.vertLines.visible,ka:Hn.horzLines.color,Sa:Hn.vertLines.color,Ta:Hn.horzLines.style,xa:Hn.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((nr=>({Pa:nr.coord})))};this.Gt.ht(er),this.xt=!1}return this.Gt}}class ni{constructor(Hn){this.sh=new si(Hn)}lr(){return this.sh}}const ei={Va:4,Ba:1e-4};function ri(tr,Hn){const er=100*(tr-Hn)/Hn;return Hn<0?-er:er}function hi(tr,Hn){const er=ri(tr.$e(),Hn),nr=ri(tr.qe(),Hn);return new mt(er,nr)}function ai(tr,Hn){const er=100*(tr-Hn)/Hn+100;return Hn<0?-er:er}function li(tr,Hn){const er=ai(tr.$e(),Hn),nr=ai(tr.qe(),Hn);return new mt(er,nr)}function oi(tr,Hn){const er=Math.abs(tr);if(er<1e-15)return 0;const nr=Math.log10(er+Hn.Ba)+Hn.Va;return tr<0?-nr:nr}function _i(tr,Hn){const er=Math.abs(tr);if(er<1e-15)return 0;const nr=Math.pow(10,er-Hn.Va)-Hn.Ba;return tr<0?-nr:nr}function ui(tr,Hn){if(tr===null)return null;const er=oi(tr.$e(),Hn),nr=oi(tr.qe(),Hn);return new mt(er,nr)}function ci(tr,Hn){if(tr===null)return null;const er=_i(tr.$e(),Hn),nr=_i(tr.qe(),Hn);return new mt(er,nr)}function di(tr){if(tr===null)return ei;const Hn=Math.abs(tr.qe()-tr.$e());if(Hn>=1||Hn<1e-15)return ei;const er=Math.ceil(Math.abs(Math.log10(Hn))),nr=ei.Va+er;return{Va:nr,Ba:1/Math.pow(10,nr)}}class fi{constructor(Hn,er){if(this.Ia=Hn,this.Ea=er,(function(nr){if(nr<0)return!1;if(nr>1e18)return!0;for(let ir=nr;ir>1;ir/=10)if(ir%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let nr=this.Ia;nr!==1;){if(nr%2==0)this.Aa.push(2),nr/=2;else{if(nr%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),nr/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(Hn,er,nr){const ir=this.Ia===0?0:1/this.Ia;let rr=Math.pow(10,Math.max(0,Math.ceil(Math.log10(Hn-er)))),sr=0,ar=this.Ea[0];for(;;){const ur=Qt(rr,ir,1e-14)&&rr>ir+1e-14,dr=Qt(rr,nr*ar,1e-14),fr=Qt(rr,1,1e-14);if(!(ur&&dr&&fr))break;rr/=ar,ar=this.Ea[++sr%this.Ea.length]}if(rr<=ir+1e-14&&(rr=ir),rr=Math.max(1,rr),this.Aa.length>0&&(or=rr,lr=1,cr=1e-14,Math.abs(or-lr)<cr))for(sr=0,ar=this.Aa[0];Qt(rr,nr*ar,1e-14)&&rr>ir+1e-14;)rr/=ar,ar=this.Aa[++sr%this.Aa.length];var or,lr,cr;return rr}}class pi{constructor(Hn,er,nr,ir){this.La=[],this.Yi=Hn,this.Ia=er,this.Oa=nr,this.Na=ir}za(Hn,er){if(Hn<er)throw new Error("high < low");const nr=this.Yi.$t(),ir=(Hn-er)*this.Fa()/nr,rr=new fi(this.Ia,[2,2.5,2]),sr=new fi(this.Ia,[2,2,2.5]),ar=new fi(this.Ia,[2.5,2,2]),or=[];return or.push(rr.za(Hn,er,ir),sr.za(Hn,er,ir),ar.za(Hn,er,ir)),(function(lr){if(lr.length<1)throw Error("array is empty");let cr=lr[0];for(let ur=1;ur<lr.length;++ur)lr[ur]<cr&&(cr=lr[ur]);return cr})(or)}Wa(){const Hn=this.Yi,er=Hn.zt();if(er===null)return void(this.La=[]);const nr=Hn.$t(),ir=this.Oa(nr-1,er),rr=this.Oa(0,er),sr=this.Yi.N().entireTextOnly?this.Ha()/2:0,ar=sr,or=nr-1-sr,lr=Math.max(ir,rr),cr=Math.min(ir,rr);if(lr===cr)return void(this.La=[]);const ur=this.za(lr,cr);if(this.Ua(er,ur,lr,cr,ar,or),Hn.$a()&&this.qa(ur,cr,lr)){const xr=this.Yi.Ya();this.ja(er,ur,ar,or,xr,2*xr)}const dr=this.La.map((xr=>xr.Ka)),fr=this.Yi.Xa(dr);for(let xr=0;xr<this.La.length;xr++)this.La[xr].Za=fr[xr]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(Hn,er,nr,ir,rr,sr){const ar=this.La,or=this.Yi;let lr=nr%er;lr+=lr<0?er:0;const cr=nr>=ir?1:-1;let ur=null,dr=0;for(let fr=nr-lr;fr>ir;fr-=er){const xr=this.Na(fr,Hn,!0);ur!==null&&Math.abs(xr-ur)<this.Fa()||xr<rr||xr>sr||(dr<ar.length?(ar[dr].Pa=xr,ar[dr].Za=or.Ga(fr),ar[dr].Ka=fr):ar.push({Pa:xr,Za:or.Ga(fr),Ka:fr}),dr++,ur=xr,or.Ja()&&(er=this.za(fr*cr,ir)))}ar.length=dr}ja(Hn,er,nr,ir,rr,sr){const ar=this.La,or=this.Qa(Hn,nr,rr,sr),lr=this.Qa(Hn,ir,-sr,-rr),cr=this.Na(0,Hn,!0)-this.Na(er,Hn,!0);ar.length>0&&ar[0].Pa-or.Pa<cr/2&&ar.shift(),ar.length>0&&lr.Pa-ar[ar.length-1].Pa<cr/2&&ar.pop(),ar.unshift(or),ar.push(lr)}Qa(Hn,er,nr,ir){const rr=(nr+ir)/2,sr=this.Oa(er+nr,Hn),ar=this.Oa(er+ir,Hn),or=Math.min(sr,ar),lr=Math.max(sr,ar),cr=Math.max(.1,this.za(lr,or)),ur=this.Oa(er+rr,Hn),dr=ur-ur%cr,fr=this.Na(dr,Hn,!0);return{Za:this.Yi.Ga(dr),Pa:fr,Ka:dr}}qa(Hn,er,nr){let ir=c(this.Yi.Qe());return this.Yi.Ja()&&(ir=ci(ir,this.Yi.tl())),ir.$e()-er<Hn&&nr-ir.qe()<Hn}}function vi$1(tr){return tr.slice().sort(((Hn,er)=>u(Hn.hs())-u(er.hs())))}var mi;(function(tr){tr[tr.Normal=0]="Normal",tr[tr.Logarithmic=1]="Logarithmic",tr[tr.Percentage=2]="Percentage",tr[tr.IndexedTo100=3]="IndexedTo100"})(mi||(mi={}));const wi=new st,gi=new it(100,1);class Mi{constructor(Hn,er,nr,ir,rr){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new d,this.ul=new d,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=gi,this.wl=di(null),this.gl=Hn,this.Ps=er,this.Ml=nr,this.bl=ir,this.Sl=rr,this.xl=new pi(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(Hn){if(f(this.Ps,Hn),this.wa(),Hn.mode!==void 0&&this.yl({ie:Hn.mode}),Hn.scaleMargins!==void 0){const er=_(Hn.scaleMargins.top),nr=_(Hn.scaleMargins.bottom);if(er<0||er>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${er}`);if(nr<0||nr>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${nr}`);if(er+nr>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${er+nr}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(Hn){const er=this.ie();let nr=null;Hn.sn!==void 0&&(this.Ps.autoScale=Hn.sn),Hn.ie!==void 0&&(this.Ps.mode=Hn.ie,Hn.ie!==2&&Hn.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),er.ie===1&&Hn.ie!==er.ie&&((function(rr,sr){if(rr===null)return!1;const ar=_i(rr.$e(),sr),or=_i(rr.qe(),sr);return isFinite(ar)&&isFinite(or)})(this.Ge,this.wl)?(nr=ci(this.Ge,this.wl),nr!==null&&this.Bl(nr)):this.Ps.autoScale=!0),Hn.ie===1&&Hn.ie!==er.ie&&(nr=ui(this.Ge,this.wl),nr!==null&&this.Bl(nr));const ir=er.ie!==this.Ps.mode;ir&&(er.ie===2||this.Le())&&this.wa(),ir&&(er.ie===3||this.Dl())&&this.wa(),Hn.Vl!==void 0&&er.Vl!==Hn.Vl&&(this.Ps.invertScale=Hn.Vl,this.Il()),this.ul.p(er,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(Hn){this.il!==Hn&&(this.il=Hn,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const Hn=this.$t()-this.Ll()-this.Ol();return this.sl=Hn,Hn}Qe(){return this.Nl(),this.Ge}Bl(Hn,er){const nr=this.Ge;(er||nr===null&&Hn!==null||nr!==null&&!nr.He(Hn))&&(this.pl=null,this.Ge=Hn)}Fl(Hn){this.Bl(Hn),this.Wl(Hn!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(Hn){return this.Vl()?Hn:this.$t()-1-Hn}Nt(Hn,er){return this.Le()?Hn=ri(Hn,er):this.Dl()&&(Hn=ai(Hn,er)),this.Pl(Hn,er)}Ul(Hn,er,nr){this.Nl();const ir=this.Ol(),rr=u(this.Qe()),sr=rr.$e(),ar=rr.qe(),or=this.zl()-1,lr=this.Vl(),cr=or/(ar-sr),ur=nr===void 0?0:nr.from,dr=nr===void 0?Hn.length:nr.to,fr=this.$l();for(let xr=ur;xr<dr;xr++){const yr=Hn[xr],_r=yr.gt;if(isNaN(_r))continue;let Sr=_r;fr!==null&&(Sr=fr(yr.gt,er));const jr=ir+cr*(Sr-sr),Dr=lr?jr:this.il-1-jr;yr.ut=Dr}}ql(Hn,er,nr){this.Nl();const ir=this.Ol(),rr=u(this.Qe()),sr=rr.$e(),ar=rr.qe(),or=this.zl()-1,lr=this.Vl(),cr=or/(ar-sr),ur=nr===void 0?0:nr.from,dr=nr===void 0?Hn.length:nr.to,fr=this.$l();for(let xr=ur;xr<dr;xr++){const yr=Hn[xr];let _r=yr.qh,Sr=yr.Yh,jr=yr.jh,Dr=yr.Kh;fr!==null&&(_r=fr(yr.qh,er),Sr=fr(yr.Yh,er),jr=fr(yr.jh,er),Dr=fr(yr.Kh,er));let Ir=ir+cr*(_r-sr),Mr=lr?Ir:this.il-1-Ir;yr.Yl=Mr,Ir=ir+cr*(Sr-sr),Mr=lr?Ir:this.il-1-Ir,yr.jl=Mr,Ir=ir+cr*(jr-sr),Mr=lr?Ir:this.il-1-Ir,yr.Kl=Mr,Ir=ir+cr*(Dr-sr),Mr=lr?Ir:this.il-1-Ir,yr.Xl=Mr}}Ts(Hn,er){const nr=this.Cl(Hn,er);return this.Zl(nr,er)}Zl(Hn,er){let nr=Hn;return this.Le()?nr=(function(ir,rr){return rr<0&&(ir=-ir),ir/100*rr+rr})(nr,er):this.Dl()&&(nr=(function(ir,rr){return ir-=100,rr<0&&(ir=-ir),ir/100*rr+rr})(nr,er)),nr}Ma(){return this.cl}Dt(){return this.fl||(this.fl=vi$1(this.cl)),this.fl}Gl(Hn){this.cl.indexOf(Hn)===-1&&(this.cl.push(Hn),this.wa(),this.Jl())}Ql(Hn){const er=this.cl.indexOf(Hn);if(er===-1)throw new Error("source is not attached to scale");this.cl.splice(er,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let Hn=null;for(const er of this.cl){const nr=er.zt();nr!==null&&(Hn===null||nr.Hh<Hn.Hh)&&(Hn=nr)}return Hn===null?null:Hn.Wt}Vl(){return this.Ps.invertScale}Da(){const Hn=this.zt()===null;if(this.pl!==null&&(Hn||this.pl.io===Hn))return this.pl.Da;this.xl.Wa();const er=this.xl.Da();return this.pl={Da:er,io:Hn},this._l.p(),er}so(){return this._l}no(Hn){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-Hn,this.nl=u(this.Qe()).Ue()))}eo(Hn){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(Hn=this.il-Hn)<0&&(Hn=0);let er=(this.vl+.2*(this.il-1))/(Hn+.2*(this.il-1));const nr=u(this.nl).Ue();er=Math.max(er,.1),nr.je(er),this.Bl(nr)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(Hn){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=Hn,this.nl=u(this.Qe()).Ue()))}ao(Hn){if(this.Tl()||this.ml===null)return;const er=u(this.Qe()).Ye()/(this.zl()-1);let nr=Hn-this.ml;this.Vl()&&(nr*=-1);const ir=nr*er,rr=u(this.nl).Ue();rr.Ke(ir),this.Bl(rr,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(Hn,er){switch(this.Ps.mode){case 2:return this.oo(ri(Hn,er));case 3:return this.ea().format(ai(Hn,er));default:return this.nr(Hn)}}Ga(Hn){switch(this.Ps.mode){case 2:return this.oo(Hn);case 3:return this.ea().format(Hn);default:return this.nr(Hn)}}Xa(Hn){switch(this.Ps.mode){case 2:return this._o(Hn);case 3:return this.ea().formatTickmarks(Hn);default:return this.uo(Hn)}}Dh(Hn){return this.nr(Hn,u(this.dl).ea())}Vh(Hn,er){return Hn=ri(Hn,er),this.oo(Hn,wi)}co(){return this.cl}do(Hn){this.el={hl:Hn,rl:!1}}Ns(){this.cl.forEach((Hn=>Hn.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let Hn=1/0;this.dl=null;for(const nr of this.cl)nr.hs()<Hn&&(Hn=nr.hs(),this.dl=nr);let er=100;this.dl!==null&&(er=Math.round(this.dl.nh())),this.ra=gi,this.Le()?(this.ra=wi,er=100):this.Dl()?(this.ra=new it(100,1),er=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new pi(this,er,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(Hn){this.al=Hn}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(Hn,er){if(this.Nl(),this.Ki())return 0;Hn=this.Ja()&&Hn?oi(Hn,this.wl):Hn;const nr=u(this.Qe()),ir=this.Ol()+(this.zl()-1)*(Hn-nr.$e())/nr.Ye();return this.Hl(ir)}Cl(Hn,er){if(this.Nl(),this.Ki())return 0;const nr=this.Hl(Hn),ir=u(this.Qe()),rr=ir.$e()+ir.Ye()*((nr-this.Ol())/(this.zl()-1));return this.Ja()?_i(rr,this.wl):rr}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const Hn=this.el.hl;if(Hn===null)return;let er=null;const nr=this.co();let ir=0,rr=0;for(const or of nr){if(!or.Vt())continue;const lr=or.zt();if(lr===null)continue;const cr=or.Mh(Hn.Uh(),Hn.bi());let ur=cr&&cr.Qe();if(ur!==null){switch(this.Ps.mode){case 1:ur=ui(ur,this.wl);break;case 2:ur=hi(ur,lr.Wt);break;case 3:ur=li(ur,lr.Wt)}if(er=er===null?ur:er.vn(u(ur)),cr!==null){const dr=cr.tr();dr!==null&&(ir=Math.max(ir,dr.above),rr=Math.max(rr,dr.below))}}}if(this.$a()&&(ir=Math.max(ir,this.Ya()),rr=Math.max(rr,this.Ya())),ir===this.ll&&rr===this.ol||(this.ll=ir,this.ol=rr,this.pl=null,this.kl()),er!==null){if(er.$e()===er.qe()){const or=5*this.fo();this.Ja()&&(er=ci(er,this.wl)),er=new mt(er.$e()-or,er.qe()+or),this.Ja()&&(er=ui(er,this.wl))}if(this.Ja()){const or=ci(er,this.wl),lr=di(or);if(sr=lr,ar=this.wl,sr.Va!==ar.Va||sr.Ba!==ar.Ba){const cr=this.nl!==null?ci(this.nl,this.wl):null;this.wl=lr,er=ui(or,lr),cr!==null&&(this.nl=ui(cr,lr))}}this.Bl(er)}else this.Ge===null&&(this.Bl(new mt(-.5,.5)),this.wl=di(null));var sr,ar}$l(){return this.Le()?ri:this.Dl()?ai:this.Ja()?Hn=>oi(Hn,this.wl):null}vo(Hn,er,nr){return er===void 0?(nr===void 0&&(nr=this.ea()),nr.format(Hn)):er(Hn)}mo(Hn,er,nr){return er===void 0?(nr===void 0&&(nr=this.ea()),nr.formatTickmarks(Hn)):er(Hn)}nr(Hn,er){return this.vo(Hn,this.bl.priceFormatter,er)}uo(Hn,er){const nr=this.bl.priceFormatter;return this.mo(Hn,this.bl.tickmarksPriceFormatter??(nr?ir=>ir.map(nr):void 0),er)}oo(Hn,er){return this.vo(Hn,this.bl.percentageFormatter,er)}_o(Hn,er){const nr=this.bl.percentageFormatter;return this.mo(Hn,this.bl.tickmarksPercentageFormatter??(nr?ir=>ir.map(nr):void 0),er)}}function bi(tr){return tr instanceof Kt}class Si{constructor(Hn,er){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new d,this.yh=[],this.uh=Hn,this.ts=er,this.Co=new ni(this);const nr=er.N();this.Po=this.yo("left",nr.leftPriceScale),this.ko=this.yo("right",nr.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(nr)}Ro(Hn){if(Hn.leftPriceScale&&this.Po.hr(Hn.leftPriceScale),Hn.rightPriceScale&&this.ko.hr(Hn.rightPriceScale),Hn.localization&&(this.Po.wa(),this.ko.wa()),Hn.overlayPriceScales){const er=Array.from(this.wo.values());for(const nr of er){const ir=u(nr[0].Ft());ir.hr(Hn.overlayPriceScales),Hn.localization&&ir.wa()}}}Do(Hn){switch(Hn){case"left":return this.Po;case"right":return this.ko}return this.wo.has(Hn)?_(this.wo.get(Hn))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((Hn=>{Hn.m&&Hn.m()})),this.yh=this.yh.filter((Hn=>{const er=Hn.oh();return er.detached&&er.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(Hn){this.bo=Hn}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(Hn){this.Mo=Hn,this.Ao()}Al(Hn){this.il=Hn,this.Po.Al(Hn),this.ko.Al(Hn),this.cl.forEach((er=>{if(this.Un(er)){const nr=er.Ft();nr!==null&&nr.Al(Hn)}})),this.Ao()}zo(Hn){this.So=Hn}Lo(){return this.So}Oo(){return this.cl.filter(bi)}Ma(){return this.cl}Un(Hn){const er=Hn.Ft();return er===null||this.Po!==er&&this.ko!==er}Gl(Hn,er,nr){this.No(Hn,er,nr?Hn.hs():this.cl.length)}Ql(Hn,er){const nr=this.cl.indexOf(Hn);o(nr!==-1,"removeDataSource: invalid data source"),this.cl.splice(nr,1),er||this.cl.forEach(((sr,ar)=>sr.ls(ar)));const ir=u(Hn.Ft()).ma();if(this.wo.has(ir)){const sr=_(this.wo.get(ir)),ar=sr.indexOf(Hn);ar!==-1&&(sr.splice(ar,1),sr.length===0&&this.wo.delete(ir))}const rr=Hn.Ft();rr&&rr.Ma().indexOf(Hn)>=0&&(rr.Ql(Hn),this.Fo(rr)),this.fl=null}qn(Hn){return Hn===this.Po?"left":Hn===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(Hn,er){Hn.no(er)}$o(Hn,er){Hn.eo(er),this.Ao()}qo(Hn){Hn.ro()}Yo(Hn,er){Hn.ho(er)}jo(Hn,er){Hn.ao(er),this.Ao()}Ko(Hn){Hn.lo()}Ao(){this.cl.forEach((Hn=>{Hn.Ns()}))}ks(){let Hn=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?Hn=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?Hn=this.Po:this.cl.length!==0&&(Hn=this.cl[0].Ft()),Hn===null&&(Hn=this.ko),Hn}$n(){let Hn=null;return this.ts.N().rightPriceScale.visible?Hn=this.ko:this.ts.N().leftPriceScale.visible&&(Hn=this.Po),Hn}Fo(Hn){Hn!==null&&Hn.Tl()&&this.Xo(Hn)}Zo(Hn){const er=this.uh.Pe();Hn.yl({sn:!0}),er!==null&&Hn.do(er),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((Hn=>{this.Un(Hn)&&this.Fo(Hn.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=vi$1(this.cl)),this.fl}Qo(Hn,er){er=Jt(er,0,this.cl.length-1);const nr=this.cl.indexOf(Hn);o(nr!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(nr,1),this.cl.splice(er,0,Hn),this.cl.forEach(((ir,rr)=>ir.ls(rr))),this.fl=null;for(const ir of[this.Po,this.ko])ir.Jl(),ir.wa();this.ts.ar()}Bt(){return this.Dt().filter(bi)}t_(){return this.xo}i_(){return this.Co}_a(Hn){this.yh.push(new zt(Hn))}ua(Hn){this.yh=this.yh.filter((er=>er.oh()!==Hn)),Hn.detached&&Hn.detached(),this.ts.ar()}s_(){return this.yh}sa(Hn,er){return this.yh.map((nr=>nr.jn(Hn,er))).filter((nr=>nr!==null))}Xo(Hn){const er=Hn.co();if(er&&er.length>0&&!this.uh.Ki()){const nr=this.uh.Pe();nr!==null&&Hn.do(nr)}Hn.Ns()}No(Hn,er,nr){let ir=this.Do(er);if(ir===null&&(ir=this.yo(er,this.ts.N().overlayPriceScales)),this.cl.splice(nr,0,Hn),!Z(er)){const rr=this.wo.get(er)||[];rr.push(Hn),this.wo.set(er,rr)}Hn.ls(nr),ir.Gl(Hn),Hn._s(ir),this.Fo(ir),this.fl=null}To(Hn,er,nr){er.ie!==nr.ie&&this.Xo(Hn)}yo(Hn,er){const nr={visible:!0,autoScale:!0,...g(er)},ir=new Mi(Hn,nr,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return ir.Al(this.$t()),ir}}function xi(tr){return{n_:tr.n_,e_:{Kn:tr.r_.externalId},h_:tr.r_.cursorStyle}}function Ci(tr,Hn,er,nr){for(const ir of tr){const rr=ir.Tt(nr);if(rr!==null&&rr.jn){const sr=rr.jn(Hn,er);if(sr!==null)return{a_:ir,e_:sr}}}return null}function Pi(tr){return tr.Fs!==void 0}function yi(tr,Hn,er){const nr=[tr,...tr.Dt()],ir=(function(rr,sr,ar){let or,lr;for(const dr of rr){const fr=dr.sa?.(sr,ar)??[];for(const xr of fr)cr=xr.zOrder,ur=or?.zOrder,(!ur||cr==="top"&&ur!=="top"||cr==="normal"&&ur==="bottom")&&(or=xr,lr=dr)}var cr,ur;return or&&lr?{r_:or,n_:lr}:null})(nr,Hn,er);if(ir?.r_.zOrder==="top")return xi(ir);for(const rr of nr){if(ir&&ir.n_===rr&&ir.r_.zOrder!=="bottom"&&!ir.r_.isBackground)return xi(ir);if(Pi(rr)){const sr=Ci(rr.Fs(tr),Hn,er,tr);if(sr!==null)return{n_:rr,a_:sr.a_,e_:sr.e_}}if(ir&&ir.n_===rr&&ir.r_.zOrder!=="bottom"&&ir.r_.isBackground)return xi(ir)}return ir?.r_?xi(ir):null}class ki{constructor(Hn,er,nr=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=Hn,this.o_=er,this.Vn=nr}__(Hn){const er=Hn.time,nr=this.o_.cacheKey(er),ir=this.Dn.get(nr);if(ir!==void 0)return ir.u_;if(this.yn===this.Vn){const sr=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(_(sr)),this.Tn++,this.yn--}const rr=this.l_(Hn);return this.Dn.set(nr,{u_:rr,An:this.kn}),this.Rn.set(this.kn,nr),this.yn++,this.kn++,rr}}class Ti{constructor(Hn,er){o(Hn<=er,"right should be >= left"),this.c_=Hn,this.d_=er}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(Hn){return this.c_<=Hn&&Hn<=this.d_}He(Hn){return this.c_===Hn.Uh()&&this.d_===Hn.bi()}}function Ri(tr,Hn){return tr===null||Hn===null?tr===Hn:tr.He(Hn)}class Di{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(Hn){this.v_=Hn,this.Dn=null}w_(Hn,er){this.g_(er),this.Dn=null;for(let nr=er;nr<Hn.length;++nr){const ir=Hn[nr];let rr=this.p_.get(ir.timeWeight);rr===void 0&&(rr=[],this.p_.set(ir.timeWeight,rr)),rr.push({index:nr,time:ir.time,weight:ir.timeWeight,originalTime:ir.originalTime})}}M_(Hn,er,nr,ir,rr){const sr=Math.ceil(er/Hn);return this.Dn!==null&&this.Dn.b_===sr&&rr===this.Dn.S_&&nr===this.Dn.x_||(this.Dn={S_:rr,x_:nr,Da:this.C_(sr,nr,ir),b_:sr}),this.Dn.Da}g_(Hn){if(Hn===0)return void this.p_.clear();const er=[];this.p_.forEach(((nr,ir)=>{Hn<=nr[0].index?er.push(ir):nr.splice(yt(nr,Hn,(rr=>rr.index<Hn)),1/0)}));for(const nr of er)this.p_.delete(nr)}C_(Hn,er,nr){let ir=[];const rr=sr=>!er||nr.has(sr.index);for(const sr of Array.from(this.p_.keys()).sort(((ar,or)=>or-ar))){if(!this.p_.get(sr))continue;const ar=ir;ir=[];const or=ar.length;let lr=0;const cr=_(this.p_.get(sr)),ur=cr.length;let dr=1/0,fr=-1/0;for(let xr=0;xr<ur;xr++){const yr=cr[xr],_r=yr.index;for(;lr<or;){const Sr=ar[lr],jr=Sr.index;if(!(jr<_r&&rr(Sr))){dr=jr;break}lr++,ir.push(Sr),fr=jr,dr=1/0}if(dr-_r>=Hn&&_r-fr>=Hn&&rr(yr))ir.push(yr),fr=_r;else if(this.v_)return ar}for(;lr<or;lr++)rr(ar[lr])&&ir.push(ar[lr])}return ir}}class Vi{constructor(Hn){this.P_=Hn}y_(){return this.P_===null?null:new Ti(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Vi(null)}}function Bi(tr,Hn){return tr.weight>Hn.weight?tr:Hn}class Ii{constructor(Hn,er,nr,ir){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new Di,this.B_=new Map,this.I_=Vi.T_(),this.E_=!0,this.A_=new d,this.z_=new d,this.L_=new d,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=er,this.bl=nr,this.U_=er.rightOffset,this.q_=er.barSpacing,this.ts=Hn,this.Y_(er),this.o_=ir,this.j_(),this.V_.m_(er.uniformDistribution),this.K_()}N(){return this.Ps}X_(Hn){f(this.bl,Hn),this.Z_(),this.j_()}hr(Hn,er){f(this.Ps,Hn),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),Hn.barSpacing!==void 0&&this.ts.dn(Hn.barSpacing),Hn.rightOffset!==void 0&&this.ts.fn(Hn.rightOffset),this.Y_(Hn),Hn.minBarSpacing===void 0&&Hn.maxBarSpacing===void 0||this.ts.dn(Hn.barSpacing??this.q_),Hn.ignoreWhitespaceIndices!==void 0&&Hn.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(Hn){return this.D_[Hn]?.time??null}ss(Hn){return this.D_[Hn]??null}Q_(Hn,er){if(this.D_.length<1)return null;if(this.o_.key(Hn)>this.o_.key(this.D_[this.D_.length-1].time))return er?this.D_.length-1:null;const nr=yt(this.D_,this.o_.key(Hn),((ir,rr)=>this.o_.key(ir.time)<rr));return this.o_.key(Hn)<this.o_.key(this.D_[nr].time)?er?nr:null:nr}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const Hn=this.Pe();if(Hn===null)return null;const er={from:Hn.Uh(),to:Hn.bi()};return this.eu(er)}eu(Hn){const er=Math.round(Hn.from),nr=Math.round(Hn.to),ir=u(this.ru()),rr=u(this.hu());return{from:u(this.ss(Math.max(ir,er))),to:u(this.ss(Math.min(rr,nr)))}}au(Hn){return{from:u(this.Q_(Hn.from,!0)),to:u(this.Q_(Hn.to,!0))}}Qi(){return this.Mo}Eo(Hn){if(!isFinite(Hn)||Hn<=0||this.Mo===Hn)return;const er=this.su(),nr=this.Mo;if(this.Mo=Hn,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&nr!==0){const ir=this.q_*Hn/nr;this.q_=ir}if(this.Ps.fixLeftEdge&&er!==null&&er.Uh()<=0){const ir=nr-Hn;this.U_-=Math.round(ir/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(Hn){if(this.Ki()||!v(Hn))return 0;const er=this._u()+this.U_-Hn;return this.Mo-(er+.5)*this.q_-1}uu(Hn,er){const nr=this._u(),ir=er===void 0?0:er.from,rr=er===void 0?Hn.length:er.to;for(let sr=ir;sr<rr;sr++){const ar=Hn[sr].wt,or=nr+this.U_-ar,lr=this.Mo-(or+.5)*this.q_-1;Hn[sr]._t=lr}}cu(Hn,er){const nr=Math.ceil(this.du(Hn));return er&&this.Ps.ignoreWhitespaceIndices&&!this.fu(nr)?this.pu(nr):nr}fn(Hn){this.E_=!0,this.U_=Hn,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(Hn){const er=this.q_;if(this.wu(Hn),this.Ps.rightOffsetPixels!==void 0&&er!==0){const nr=this.U_*er/this.q_;this.U_=nr}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const Hn=this.q_,er=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),nr=Math.round(er/Hn),ir=u(this.Pe()),rr=Math.max(ir.Uh(),ir.Uh()-nr),sr=Math.max(ir.bi(),ir.bi()-nr),ar=this.V_.M_(Hn,er,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),or=this.ru()+nr,lr=this.hu()-nr,cr=this.Mu(),ur=this.Ps.fixLeftEdge||cr,dr=this.Ps.fixRightEdge||cr;let fr=0;for(const xr of ar){if(!(rr<=xr.index&&xr.index<=sr))continue;let yr;fr<this.H_.length?(yr=this.H_[fr],yr.coord=this.qt(xr.index),yr.label=this.bu(xr),yr.weight=xr.weight):(yr={needAlignCoordinate:!1,coord:this.qt(xr.index),label:this.bu(xr),weight:xr.weight},this.H_.push(yr)),this.q_>er/2&&!cr?yr.needAlignCoordinate=!1:yr.needAlignCoordinate=ur&&xr.index<=or||dr&&xr.index>=lr,fr++}return this.H_.length=fr,this.N_=this.H_,this.H_}Su(){let Hn;this.E_=!0,this.dn(this.Ps.barSpacing),Hn=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(Hn)}xu(Hn){this.E_=!0,this.R_=Hn,this.ou(),this.G_()}Cu(Hn,er){const nr=this.du(Hn),ir=this.mu(),rr=ir+er*(ir/10);this.dn(rr),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(nr-this.du(Hn)))}no(Hn){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=Hn,this.Pu()))}eo(Hn){if(this.O_===null)return;const er=Jt(this.Mo-Hn,0,this.Mo),nr=Jt(this.Mo-u(this.vl),0,this.Mo);er!==0&&nr!==0&&this.dn(this.O_.mu*er/nr)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(Hn){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=Hn,this.Pu()))}ao(Hn){if(this.ml===null)return;const er=(this.ml-Hn)/this.mu();this.U_=u(this.O_).gu+er,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(Hn,er=400){if(!isFinite(Hn))throw new RangeError("offset is required and must be finite number");if(!isFinite(er)||er<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const nr=this.U_,ir=performance.now();this.ts._n({Ru:rr=>(rr-ir)/er>=1,Du:rr=>{const sr=(rr-ir)/er;return sr>=1?Hn:nr+(Hn-nr)*sr}})}yt(Hn,er){this.E_=!0,this.D_=Hn,this.V_.w_(Hn,er),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(Hn,er){const nr=Hn.f_(),ir=er&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-ir)/nr),this.U_=Hn.bi()-this._u(),er&&(this.U_=ir?ir/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const Hn=this.ru(),er=this.hu();Hn!==null&&er!==null&&this.Eu(new Ti(Hn,er),!0)}zu(Hn){const er=new Ti(Hn.from,Hn.to);this.Eu(er)}ns(Hn){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(Hn.originalTime):this.o_.formatHorzItem(Hn.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const Hn=this.ts.js();for(const er of Hn)for(const nr of er.va())this.F_.set(nr,!0);this.W_++}Mu(){const Hn=this.ts.N().handleScroll,er=this.ts.N().handleScale;return!(Hn.horzTouchDrag||Hn.mouseWheel||Hn.pressedMouseMove||Hn.vertTouchDrag||er.axisDoubleClickReset.time||er.axisPressedMouseMove.time||er.mouseWheel||er.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(Hn){return(this.Mo-1-Hn)/this.q_}du(Hn){const er=this.Lu(Hn),nr=this._u()+this.U_-er;return Math.round(1e6*nr)/1e6}wu(Hn){const er=this.q_;this.q_=Hn,this.lu(),er!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Vi.T_());const Hn=this._u(),er=this.Mo/this.q_,nr=this.U_+Hn,ir=new Ti(nr-er+1,nr);this.Nu(new Vi(ir))}lu(){const Hn=Jt(this.q_,this.Fu(),this.Wu());this.q_!==Hn&&(this.q_=Hn,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const Hn=this.Hu();Hn!==null&&this.U_<Hn&&(this.U_=Hn,this.E_=!0);const er=this.Uu();this.U_>er&&(this.U_=er,this.E_=!0)}Hu(){const Hn=this.ru(),er=this.R_;return Hn===null||er===null?null:Hn-er-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(Hn){let er=this.B_.get(Hn.weight);return er===void 0&&(er=new ki((nr=>this.$u(nr)),this.o_),this.B_.set(Hn.weight,er)),er.__(Hn)}$u(Hn){return this.o_.formatTickmark(Hn,this.bl)}Nu(Hn){const er=this.I_;this.I_=Hn,Ri(er.y_(),this.I_.y_())||this.A_.p(),Ri(er.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const Hn=this.ru();if(Hn===null)return;const er=this.Pe();if(er===null)return;const nr=er.Uh()-Hn;if(nr<0){const ir=this.U_-nr-1;this.fn(ir)}this.lu()}J_(){this.ou(),this.lu()}fu(Hn){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(Hn)||!1}pu(Hn){const er=(function*(ir){const rr=Math.round(ir),sr=rr<ir;let ar=1;for(;;)sr?(yield rr+ar,yield rr-ar):(yield rr-ar,yield rr+ar),ar++})(Hn),nr=this.hu();for(;nr;){const ir=er.next().value;if(this.F_.get(ir))return ir;if(ir<0||ir>nr)break}return Hn}Y_(Hn){if(Hn.rightOffsetPixels!==void 0){const er=Hn.rightOffsetPixels/(Hn.barSpacing||this.q_);this.ts.fn(er)}}}var Ei,Ai,zi,Li,Oi;(function(tr){tr[tr.OnTouchEnd=0]="OnTouchEnd",tr[tr.OnNextTap=1]="OnNextTap"})(Ei||(Ei={}));class Ni{constructor(Hn,er,nr){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new d,this.Xu=new d,this.Zu=null,this.Gu=Hn,this.Ps=er,this.o_=nr,this.Sl=new k(this.Ps.layout.colorParsers),this.Ju=new C(this),this.uh=new Ii(this,er.timeScale,this.Ps.localization,nr),this.Ct=new X(this,er.crosshair),this.Qu=new Gt(er.crosshair),er.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(G.gn())}ar(){this.rc(G.wn())}Zh(){this.rc(new G(1))}Eh(Hn){const er=this.hc(Hn);this.rc(er)}ac(){return this.ju}lc(Hn){if(this.ju?.n_===Hn?.n_&&this.ju?.e_?.Kn===Hn?.e_?.Kn)return;const er=this.ju;this.ju=Hn,er!==null&&this.Eh(er.n_),Hn!==null&&Hn.n_!==er?.n_&&this.Eh(Hn.n_)}N(){return this.Ps}hr(Hn){f(this.Ps,Hn),this.qu.forEach((er=>er.Ro(Hn))),Hn.timeScale!==void 0&&this.uh.hr(Hn.timeScale),Hn.localization!==void 0&&this.uh.X_(Hn.localization),(Hn.leftPriceScale||Hn.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(Hn,er,nr=0){const ir=this.qu[nr];if(ir===void 0)return;if(Hn==="left")return f(this.Ps,{leftPriceScale:er}),ir.Ro({leftPriceScale:er}),this.Ku.p(),void this.Ih();if(Hn==="right")return f(this.Ps,{rightPriceScale:er}),ir.Ro({rightPriceScale:er}),this.Ku.p(),void this.Ih();const rr=this._c(Hn,nr);rr!==null&&(rr.Ft.hr(er),this.Ku.p())}_c(Hn,er){const nr=this.qu[er];if(nr===void 0)return null;const ir=nr.Do(Hn);return ir!==null?{Us:nr,Ft:ir}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(Hn,er){Hn.Al(er),this.vu()}Eo(Hn){this.Mo=Hn,this.uh.Eo(this.Mo),this.qu.forEach((er=>er.Eo(Hn))),this.vu()}fc(Hn){this.qu.length!==1&&(o(Hn>=0&&Hn<this.qu.length,"Invalid pane index"),this.qu.splice(Hn,1),this.Ih())}vc(Hn,er){if(this.qu.length<2)return;o(Hn>=0&&Hn<this.qu.length,"Invalid pane index");const nr=this.qu[Hn],ir=this.qu.reduce(((ur,dr)=>ur+dr.Bo()),0),rr=this.qu.reduce(((ur,dr)=>ur+dr.$t()),0),sr=rr-30*(this.qu.length-1);er=Math.min(sr,Math.max(30,er));const ar=ir/rr,or=nr.$t();nr.Io(er*ar);let lr=er-or,cr=this.qu.length-1;for(const ur of this.qu)if(ur!==nr){const dr=Math.min(sr,Math.max(30,ur.$t()-lr/cr));lr-=ur.$t()-dr,cr-=1;const fr=dr*ar;ur.Io(fr)}this.Ih()}mc(Hn,er){o(Hn>=0&&Hn<this.qu.length&&er>=0&&er<this.qu.length,"Invalid pane index");const nr=this.qu[Hn],ir=this.qu[er];this.qu[Hn]=ir,this.qu[er]=nr,this.Ih()}wc(Hn,er){if(o(Hn>=0&&Hn<this.qu.length&&er>=0&&er<this.qu.length,"Invalid pane index"),Hn===er)return;const[nr]=this.qu.splice(Hn,1);this.qu.splice(er,0,nr),this.Ih()}Uo(Hn,er,nr){Hn.Uo(er,nr)}$o(Hn,er,nr){Hn.$o(er,nr),this.Ah(),this.rc(this.gc(Hn,2))}qo(Hn,er){Hn.qo(er),this.rc(this.gc(Hn,2))}Yo(Hn,er,nr){er.Tl()||Hn.Yo(er,nr)}jo(Hn,er,nr){er.Tl()||(Hn.jo(er,nr),this.Ah(),this.rc(this.gc(Hn,2)))}Ko(Hn,er){er.Tl()||(Hn.Ko(er),this.rc(this.gc(Hn,2)))}Zo(Hn,er){Hn.Zo(er),this.rc(this.gc(Hn,2))}Mc(Hn){this.uh.no(Hn)}bc(Hn,er){const nr=this.Et();if(nr.Ki()||er===0)return;const ir=nr.Qi();Hn=Math.max(1,Math.min(Hn,ir)),nr.Cu(Hn,er),this.vu()}Sc(Hn){this.xc(0),this.Cc(Hn),this.Pc()}yc(Hn){this.uh.eo(Hn),this.vu()}kc(){this.uh.ro(),this.ar()}xc(Hn){this.uh.ho(Hn)}Cc(Hn){this.uh.ao(Hn),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(Hn,er,nr,ir,rr){this.Ct.Vs(Hn,er);let sr=NaN,ar=this.uh.cu(Hn,!0);const or=this.uh.Pe();or!==null&&(ar=Math.min(Math.max(or.Uh(),ar),or.bi()));const lr=ir.ks(),cr=lr.zt();if(cr!==null&&(sr=lr.Ts(er,cr)),sr=this.Qu.ga(sr,ar,ir),this.Ct.As(ar,sr,ir),this.Zh(),!rr){const ur=yi(ir,Hn,er);this.lc(ur&&{n_:ur.n_,e_:ur.e_,h_:ur.h_||null}),this.Xu.p(this.Ct.It(),{x:Hn,y:er},nr)}}Rc(Hn,er,nr){const ir=nr.ks(),rr=ir.zt(),sr=ir.Nt(Hn,u(rr)),ar=this.uh.Q_(er,!0),or=this.uh.qt(u(ar));this.Tc(or,sr,null,nr,!0)}Dc(Hn){this.uc().Ls(),this.Zh(),Hn||this.Xu.p(null,null,null)}Ah(){const Hn=this.Ct.Us();if(Hn!==null){const er=this.Ct.Is(),nr=this.Ct.Es();this.Tc(er,nr,null,Hn)}this.Ct.Ns()}Vc(Hn,er,nr){const ir=this.uh.Rs(0);er!==void 0&&nr!==void 0&&this.uh.yt(er,nr);const rr=this.uh.Rs(0),sr=this.uh._u(),ar=this.uh.Pe();if(ar!==null&&ir!==null&&rr!==null){const or=ar.Te(sr),lr=this.o_.key(ir)>this.o_.key(rr),cr=Hn!==null&&Hn>sr&&!lr,ur=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,dr=or&&(nr!==void 0||ur)&&this.uh.N().shiftVisibleRangeOnNewBar;if(cr&&!dr){const fr=Hn-sr;this.uh.fn(this.uh.gu()-fr)}}this.uh.xu(Hn)}Lh(Hn){Hn!==null&&Hn.Jo()}Hn(Hn){if((function(nr){return nr instanceof Si})(Hn))return Hn;const er=this.qu.find((nr=>nr.Dt().includes(Hn)));return er===void 0?null:er}vu(){this.qu.forEach((Hn=>Hn.Jo())),this.Ah()}m(){this.qu.forEach((Hn=>Hn.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(Hn,er){const nr=this.tc(er);this.Ec(Hn,nr),this.Yu.push(Hn),this.Yu.length===1?this.Ih():this.ar()}Ac(Hn){const er=this.Hn(Hn),nr=this.Yu.indexOf(Hn);o(nr!==-1,"Series not found");const ir=u(er);this.Yu.splice(nr,1),ir.Ql(Hn),Hn.m&&Hn.m(),this.uh.K_(),this.zc(ir)}Bh(Hn,er){const nr=u(this.Hn(Hn));nr.Ql(Hn,!0),nr.Gl(Hn,er,!0)}Au(){const Hn=G.wn();Hn.rn(),this.rc(Hn)}Lc(Hn){const er=G.wn();er.ln(Hn),this.rc(er)}cn(){const Hn=G.wn();Hn.cn(),this.rc(Hn)}dn(Hn){const er=G.wn();er.dn(Hn),this.rc(er)}fn(Hn){const er=G.wn();er.fn(Hn),this.rc(er)}_n(Hn){const er=G.wn();er._n(Hn),this.rc(er)}hn(){const Hn=G.wn();Hn.hn(),this.rc(Hn)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(Hn,er){if(o(er>=0,"Index should be greater or equal to 0"),er===this.Fc(Hn))return;const nr=u(this.Hn(Hn));nr.Ql(Hn);const ir=this.tc(er);this.Ec(Hn,ir),nr.Ma().length===0&&this.zc(nr),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(Hn){const er=this.ec,nr=this.sc;if(er===nr)return er;if(Hn=Math.max(0,Math.min(100,Math.round(100*Hn))),this.Zu===null||this.Zu.mr!==nr||this.Zu.wr!==er)this.Zu={mr:nr,wr:er,Hc:new Map};else{const rr=this.Zu.Hc.get(Hn);if(rr!==void 0)return rr}const ir=this.Sl.tt(nr,er,Hn/100);return this.Zu.Hc.set(Hn,ir),ir}Uc(Hn){return this.qu.indexOf(Hn)}Xi(){return this.Sl}$c(){return this.qc()}qc(Hn){const er=new Si(this.uh,this);this.qu.push(er);const nr=Hn??this.qu.length-1,ir=G.gn();return ir.Qs(nr,{tn:0,sn:!0}),this.rc(ir),er}tc(Hn){return o(Hn>=0,"Index should be greater or equal to 0"),(Hn=Math.min(this.qu.length,Hn))<this.qu.length?this.qu[Hn]:this.qc(Hn)}Fc(Hn){return this.qu.findIndex((er=>er.Oo().includes(Hn)))}gc(Hn,er){const nr=new G(er);if(Hn!==null){const ir=this.qu.indexOf(Hn);nr.Qs(ir,{tn:er})}return nr}hc(Hn,er){return er===void 0&&(er=2),this.gc(this.Hn(Hn),er)}rc(Hn){this.Gu&&this.Gu(Hn),this.qu.forEach((er=>er.i_().lr().yt()))}Ec(Hn,er){const nr=Hn.N().priceScaleId,ir=nr!==void 0?nr:this.Oc();er.Gl(Hn,ir),Z(ir)||Hn.hr(Hn.N())}nc(Hn){const er=this.Ps.layout;return er.background.type==="gradient"?Hn===0?er.background.topColor:er.background.bottomColor:er.background.color}zc(Hn){!Hn.Lo()&&Hn.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(Hn),1)}}function Fi(tr){if(tr>=1)return 0;let Hn=0;for(;Hn<8;Hn++){const er=Math.round(tr);if(Math.abs(er-tr)<1e-8)return Hn;tr*=10}return Hn}function Wi(tr){return!p(tr)&&!m(tr)}function Hi(tr){return p(tr)}(function(tr){tr[tr.Disabled=0]="Disabled",tr[tr.Continuous=1]="Continuous",tr[tr.OnDataUpdate=2]="OnDataUpdate"})(Ai||(Ai={})),(function(tr){tr[tr.LastBar=0]="LastBar",tr[tr.LastVisible=1]="LastVisible"})(zi||(zi={})),(function(tr){tr.Solid="solid",tr.VerticalGradient="gradient"})(Li||(Li={})),(function(tr){tr[tr.Year=0]="Year",tr[tr.Month=1]="Month",tr[tr.DayOfMonth=2]="DayOfMonth",tr[tr.Time=3]="Time",tr[tr.TimeWithSeconds=4]="TimeWithSeconds"})(Oi||(Oi={}));const Ui=tr=>tr.getUTCFullYear();function $i(tr,Hn,er){return Hn.replace(/yyyy/g,(nr=>tt(Ui(nr),4))(tr)).replace(/yy/g,(nr=>tt(Ui(nr)%100,2))(tr)).replace(/MMMM/g,((nr,ir)=>new Date(nr.getUTCFullYear(),nr.getUTCMonth(),1).toLocaleString(ir,{month:"long"}))(tr,er)).replace(/MMM/g,((nr,ir)=>new Date(nr.getUTCFullYear(),nr.getUTCMonth(),1).toLocaleString(ir,{month:"short"}))(tr,er)).replace(/MM/g,(nr=>tt((ir=>ir.getUTCMonth()+1)(nr),2))(tr)).replace(/dd/g,(nr=>tt((ir=>ir.getUTCDate())(nr),2))(tr))}class qi{constructor(Hn="yyyy-MM-dd",er="default"){this.Yc=Hn,this.jc=er}__(Hn){return $i(Hn,this.Yc,this.jc)}}class Yi{constructor(Hn){this.Kc=Hn||"%h:%m:%s"}__(Hn){return this.Kc.replace("%h",tt(Hn.getUTCHours(),2)).replace("%m",tt(Hn.getUTCMinutes(),2)).replace("%s",tt(Hn.getUTCSeconds(),2))}}const ji={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class Ki{constructor(Hn={}){const er={...ji,...Hn};this.Qc=new qi(er.Xc,er.Jc),this.td=new Yi(er.Zc),this.sd=er.Gc}__(Hn){return`${this.Qc.__(Hn)}${this.sd}${this.td.__(Hn)}`}}function Xi(tr){return 60*tr*60*1e3}function Zi(tr){return 60*tr*1e3}const Gi=[{nd:(Ji=1,1e3*Ji),ed:10},{nd:Zi(1),ed:20},{nd:Zi(5),ed:21},{nd:Zi(30),ed:22},{nd:Xi(1),ed:30},{nd:Xi(3),ed:31},{nd:Xi(6),ed:32},{nd:Xi(12),ed:33}];var Ji;function Qi(tr,Hn){if(tr.getUTCFullYear()!==Hn.getUTCFullYear())return 70;if(tr.getUTCMonth()!==Hn.getUTCMonth())return 60;if(tr.getUTCDate()!==Hn.getUTCDate())return 50;for(let er=Gi.length-1;er>=0;--er)if(Math.floor(Hn.getTime()/Gi[er].nd)!==Math.floor(tr.getTime()/Gi[er].nd))return Gi[er].ed;return 0}function ts(tr){let Hn=tr;if(m(tr)&&(Hn=ss(tr)),!Wi(Hn))throw new Error("time must be of type BusinessDay");const er=new Date(Date.UTC(Hn.year,Hn.month-1,Hn.day,0,0,0,0));return{rd:Math.round(er.getTime()/1e3),hd:Hn}}function is(tr){if(!Hi(tr))throw new Error("time must be of type isUTCTimestamp");return{rd:tr}}function ss(tr){const Hn=new Date(tr);if(isNaN(Hn.getTime()))throw new Error(`Invalid date string=${tr}, expected format=yyyy-mm-dd`);return{day:Hn.getUTCDate(),month:Hn.getUTCMonth()+1,year:Hn.getUTCFullYear()}}function ns(tr){m(tr.time)&&(tr.time=ss(tr.time))}class es{options(){return this.Ps}setOptions(Hn){this.Ps=Hn,this.updateFormatter(Hn.localization)}preprocessData(Hn){Array.isArray(Hn)?(function(er){er.forEach(ns)})(Hn):ns(Hn)}createConverterToInternalObj(Hn){return u((function(er){return er.length===0?null:Wi(er[0].time)||m(er[0].time)?ts:is})(Hn))}key(Hn){return typeof Hn=="object"&&"rd"in Hn?Hn.rd:this.key(this.convertHorzItemToInternal(Hn))}cacheKey(Hn){const er=Hn;return er.hd===void 0?new Date(1e3*er.rd).getTime():new Date(Date.UTC(er.hd.year,er.hd.month-1,er.hd.day)).getTime()}convertHorzItemToInternal(Hn){return Hi(er=Hn)?is(er):Wi(er)?ts(er):ts(ss(er));var er}updateFormatter(Hn){if(!this.Ps)return;const er=Hn.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new Ki({Xc:er,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:Hn.locale}):this.ad=new qi(er,Hn.locale)}formatHorzItem(Hn){const er=Hn;return this.ad.__(new Date(1e3*er.rd))}formatTickmark(Hn,er){const nr=(function(rr,sr,ar){switch(rr){case 0:case 10:return sr?ar?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return sr?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(Hn.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),ir=this.Ps.timeScale;if(ir.tickMarkFormatter!==void 0){const rr=ir.tickMarkFormatter(Hn.originalTime,nr,er.locale);if(rr!==null)return rr}return(function(rr,sr,ar){const or={};switch(sr){case 0:or.year="numeric";break;case 1:or.month="short";break;case 2:or.day="numeric";break;case 3:or.hour12=!1,or.hour="2-digit",or.minute="2-digit";break;case 4:or.hour12=!1,or.hour="2-digit",or.minute="2-digit",or.second="2-digit"}const lr=rr.hd===void 0?new Date(1e3*rr.rd):new Date(Date.UTC(rr.hd.year,rr.hd.month-1,rr.hd.day));return new Date(lr.getUTCFullYear(),lr.getUTCMonth(),lr.getUTCDate(),lr.getUTCHours(),lr.getUTCMinutes(),lr.getUTCSeconds(),lr.getUTCMilliseconds()).toLocaleString(ar,or)})(Hn.time,nr,er.locale)}maxTickMarkWeight(Hn){let er=Hn.reduce(Bi,Hn[0]).weight;return er>30&&er<50&&(er=30),er}fillWeightsForPoints(Hn,er){(function(nr,ir=0){if(nr.length===0)return;let rr=ir===0?null:nr[ir-1].time.rd,sr=rr!==null?new Date(1e3*rr):null,ar=0;for(let or=ir;or<nr.length;++or){const lr=nr[or],cr=new Date(1e3*lr.time.rd);sr!==null&&(lr.timeWeight=Qi(cr,sr)),ar+=lr.time.rd-(rr||lr.time.rd),rr=lr.time.rd,sr=cr}if(ir===0&&nr.length>1){const or=Math.ceil(ar/(nr.length-1)),lr=new Date(1e3*(nr[0].time.rd-or));nr[0].timeWeight=Qi(new Date(1e3*nr[0].time.rd),lr)}})(Hn,er)}static ld(Hn){return f({localization:{dateFormat:"dd MMM 'yy"}},Hn??{})}}const rs=typeof window<"u";function hs(){return!!rs&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function as(){return!!rs&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ls(tr){return tr+tr%2}function os(tr){rs&&window.chrome!==void 0&&tr.addEventListener("mousedown",(Hn=>{if(Hn.button===1)return Hn.preventDefault(),!1}))}class _s{constructor(Hn,er,nr){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!as(),this.Ld=ir=>{this.Od(ir)},this.Nd=ir=>{if(this.Fd(ir)){const rr=this.Wd(ir);if(++this.dd,this.fd&&this.dd>1){const{Hd:sr}=this.Ud(ds(ir),this.pd);sr<30&&!this.Sd&&this.$d(rr,this.Yd.qd),this.jd()}}else{const rr=this.Wd(ir);if(++this.od,this._d&&this.od>1){const{Hd:sr}=this.Ud(ds(ir),this.ud);sr<5&&!this.bd&&this.Kd(rr,this.Yd.Xd),this.Zd()}}},this.Gd=Hn,this.Yd=er,this.Ps=nr,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(Hn){this.yd&&this.yd();const er=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",er)},this.Gd.addEventListener("mousemove",er),this.Fd(Hn))return;const nr=this.Wd(Hn);this.Kd(nr,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(Hn){if(this.Id||this.gd!==null||this.Fd(Hn))return;const er=this.Wd(Hn);this.Kd(er,this.Yd.nf),this.zd=!0}ef(Hn){const er=ps(Hn.changedTouches,u(this.Ad));if(er===null||(this.Ed=fs(Hn),this.Rd!==null)||this.Bd)return;this.Vd=!0;const nr=this.Ud(ds(er),u(this.gd)),{rf:ir,hf:rr,Hd:sr}=nr;if(this.Md||!(sr<5)){if(!this.Md){const ar=.5*ir,or=rr>=ar&&!this.Ps.af(),lr=ar>rr&&!this.Ps.lf();or||lr||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const ar=this.Wd(Hn,er);this.$d(ar,this.Yd._f),cs(Hn)}}}uf(Hn){if(Hn.button!==0)return;const er=this.Ud(ds(Hn),u(this.wd)),{Hd:nr}=er;if(nr>=5&&(this.bd=!0,this.Zd()),this.bd){const ir=this.Wd(Hn);this.Kd(ir,this.Yd.cf)}}Ud(Hn,er){const nr=Math.abs(er._t-Hn._t),ir=Math.abs(er.ut-Hn.ut);return{rf:nr,hf:ir,Hd:nr+ir}}df(Hn){let er=ps(Hn.changedTouches,u(this.Ad));if(er===null&&Hn.touches.length===0&&(er=Hn.changedTouches[0]),er===null)return;this.Ad=null,this.Ed=fs(Hn),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const nr=this.Wd(Hn,er);if(this.$d(nr,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:ir}=this.Ud(ds(er),this.pd);ir<30&&!this.Sd&&this.$d(nr,this.Yd.qd),this.jd()}else this.Sd||(this.$d(nr,this.Yd.pf),this.Yd.pf&&cs(Hn));this.dd===0&&cs(Hn),Hn.touches.length===0&&this.md&&(this.md=!1,cs(Hn))}Od(Hn){if(Hn.button!==0)return;const er=this.Wd(Hn);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),hs()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(Hn))if(this.Kd(er,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:nr}=this.Ud(ds(Hn),this.ud);nr<5&&!this.bd&&this.Kd(er,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(er,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(Hn){if(this.Ad!==null)return;const er=Hn.changedTouches[0];this.Ad=er.identifier,this.Ed=fs(Hn);const nr=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=ds(er),this.Td&&(this.Td(),this.Td=null);{const rr=this.ef.bind(this),sr=this.df.bind(this);this.Td=()=>{nr.removeEventListener("touchmove",rr),nr.removeEventListener("touchend",sr)},nr.addEventListener("touchmove",rr,{passive:!1}),nr.addEventListener("touchend",sr,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,Hn),240)}const ir=this.Wd(Hn,er);this.$d(ir,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=ds(er))}bf(Hn){if(Hn.button!==0)return;const er=this.Gd.ownerDocument.documentElement;hs()&&er.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=ds(Hn),this.kd&&(this.kd(),this.kd=null);{const ir=this.uf.bind(this),rr=this.Od.bind(this);this.kd=()=>{er.removeEventListener("mousemove",ir),er.removeEventListener("mouseup",rr)},er.addEventListener("mousemove",ir),er.addEventListener("mouseup",rr)}if(this.Id=!0,this.Fd(Hn))return;const nr=this.Wd(Hn);this.Kd(nr,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=ds(Hn))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const Hn=this.Gd.ownerDocument,er=nr=>{this.Yd.xf&&(nr.composed&&this.Gd.contains(nr.composedPath()[0])||nr.target&&this.Gd.contains(nr.target)||this.Yd.xf())};this.Cd=()=>{Hn.removeEventListener("touchstart",er)},this.xd=()=>{Hn.removeEventListener("mousedown",er)},Hn.addEventListener("mousedown",er),Hn.addEventListener("touchstart",er,{passive:!0})}as()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),os(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(Hn=>this.Rf(Hn.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(Hn=>{if(Hn.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const er=us(Hn.touches[0],Hn.touches[1])/this.Dd;this.Yd.kf(this.Rd,er),cs(Hn)}}),{passive:!1}),this.Gd.addEventListener("touchend",(Hn=>{this.Rf(Hn.touches)})))}Rf(Hn){Hn.length===1&&(this.Vd=!1),Hn.length!==2||this.Vd||this.md?this.Df():this.Vf(Hn)}Vf(Hn){const er=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(Hn[0].clientX-er.left+(Hn[1].clientX-er.left))/2,ut:(Hn[0].clientY-er.top+(Hn[1].clientY-er.top))/2},this.Dd=us(Hn[0],Hn[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(Hn){if(this.yd&&this.yd(),this.Fd(Hn)||!this.zd)return;const er=this.Wd(Hn);this.Kd(er,this.Yd.Bf),this.zd=!as()}gf(Hn){const er=ps(Hn.touches,u(this.Ad));if(er===null)return;const nr=this.Wd(Hn,er);this.$d(nr,this.Yd.If),this.Sd=!0,this.md=!0}Fd(Hn){return Hn.sourceCapabilities&&Hn.sourceCapabilities.firesTouchEvents!==void 0?Hn.sourceCapabilities.firesTouchEvents:fs(Hn)<this.Ed+500}$d(Hn,er){er&&er.call(this.Yd,Hn)}Kd(Hn,er){er&&er.call(this.Yd,Hn)}Wd(Hn,er){const nr=er||Hn,ir=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:nr.clientX,clientY:nr.clientY,pageX:nr.pageX,pageY:nr.pageY,screenX:nr.screenX,screenY:nr.screenY,localX:nr.clientX-ir.left,localY:nr.clientY-ir.top,ctrlKey:Hn.ctrlKey,altKey:Hn.altKey,shiftKey:Hn.shiftKey,metaKey:Hn.metaKey,Ef:!Hn.type.startsWith("mouse")&&Hn.type!=="contextmenu"&&Hn.type!=="click",Af:Hn.type,zf:nr.target,a_:Hn.view,Lf:()=>{Hn.type!=="touchstart"&&cs(Hn)}}}}function us(tr,Hn){const er=tr.clientX-Hn.clientX,nr=tr.clientY-Hn.clientY;return Math.sqrt(er*er+nr*nr)}function cs(tr){tr.cancelable&&tr.preventDefault()}function ds(tr){return{_t:tr.pageX,ut:tr.pageY}}function fs(tr){return tr.timeStamp||performance.now()}function ps(tr,Hn){for(let er=0;er<tr.length;++er)if(tr[er].identifier===Hn)return tr[er];return null}class vs{constructor(Hn,er,nr){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=Hn,this.Uf=Hn.$f()[er],this.qf=Hn.$f()[nr],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return size({width:this.Uf.Gf().width,height:1})}Jf(){return size({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(Hn,er,nr){const ir=this.Jf();Hn.fillStyle=this.Hf.N().layout.panes.separatorColor,Hn.fillRect(er,nr,ir.width,ir.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const Hn=document.createElement("div"),er=Hn.style;er.position="fixed",er.display="none",er.zIndex="49",er.top="0",er.left="0",er.width="100%",er.height="100%",er.cursor="row-resize",this.jf.appendChild(Hn);const nr=document.createElement("div"),ir=nr.style;ir.position="absolute",ir.zIndex="50",ir.top="-4px",ir.height="9px",ir.width="100%",ir.backgroundColor="",ir.cursor="row-resize",this.jf.appendChild(nr);const rr={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new _s(nr,rr,{af:()=>!1,lf:()=>!0}),this.Of={ip:nr,tp:Hn}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(Hn){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(Hn){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(Hn){if(this.Of===null)return;const er=this.Uf.ap().Bo()+this.qf.ap().Bo(),nr=er/(this.Uf.Gf().height+this.qf.Gf().height),ir=30*nr;er<=2*ir||(this.Wf={lp:Hn.pageY,op:this.Uf.ap().Bo(),_p:er-ir,up:er,cp:nr,dp:ir},this.Of.tp.style.display="block")}rp(Hn){const er=this.Wf;if(er===null)return;const nr=(Hn.pageY-er.lp)*er.cp,ir=Jt(er.op+nr,er.dp,er._p);this.Uf.ap().Io(ir),this.qf.ap().Io(er.up-ir),this.Hf.Qt().Ih()}hp(Hn){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function ms(tr,Hn){return tr.fp-Hn.fp}function ws(tr,Hn,er){const nr=(tr.fp-Hn.fp)/(tr.wt-Hn.wt);return Math.sign(nr)*Math.min(Math.abs(nr),er)}class gs{constructor(Hn,er,nr,ir){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=Hn,this.xp=er,this.Cp=nr,this.Mn=ir}Pp(Hn,er){if(this.pp!==null){if(this.pp.wt===er)return void(this.pp.fp=Hn);if(Math.abs(this.pp.fp-Hn)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:er,fp:Hn}}le(Hn,er){if(this.pp===null||this.vp===null||er-this.pp.wt>50)return;let nr=0;const ir=ws(this.pp,this.vp,this.xp),rr=ms(this.pp,this.vp),sr=[ir],ar=[rr];if(nr+=rr,this.mp!==null){const lr=ws(this.vp,this.mp,this.xp);if(Math.sign(lr)===Math.sign(ir)){const cr=ms(this.vp,this.mp);if(sr.push(lr),ar.push(cr),nr+=cr,this.wp!==null){const ur=ws(this.mp,this.wp,this.xp);if(Math.sign(ur)===Math.sign(ir)){const dr=ms(this.mp,this.wp);sr.push(ur),ar.push(dr),nr+=dr}}}}let or=0;for(let lr=0;lr<sr.length;++lr)or+=ar[lr]/nr*sr[lr];Math.abs(or)<this.Sp||(this.gp={fp:Hn,wt:er},this.bp=or,this.Mp=(function(lr,cr){const ur=Math.log(cr);return Math.log(1*ur/-lr)/ur})(Math.abs(or),this.Cp))}Du(Hn){const er=u(this.gp),nr=Hn-er.wt;return er.fp+this.bp*(Math.pow(this.Cp,nr)-1)/Math.log(this.Cp)}Ru(Hn){return this.gp===null||this.yp(Hn)===this.Mp}yp(Hn){const er=Hn-u(this.gp).wt;return Math.min(er,this.Mp)}}class Ms{constructor(Hn,er){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=Hn,this.Vp=er,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const Hn=new URL(location.href);return Hn.hostname?"&utm_source="+Hn.hostname+Hn.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function bs(tr,Hn){const er=u(tr.ownerDocument).createElement("canvas");tr.appendChild(er);const nr=bindTo(er,{options:{allowResizeObserver:!0},transform:(ir,rr)=>({width:Math.max(ir.width,rr.width),height:Math.max(ir.height,rr.height)})});return nr.resizeCanvasElement(Hn),nr}function Ss(tr){tr.width=1,tr.height=1,tr.getContext("2d")?.clearRect(0,0,1,1)}function xs(tr,Hn,er,nr){tr.ih&&tr.ih(Hn,er,nr)}function Cs(tr,Hn,er,nr){tr.nt(Hn,er,nr)}function Ps(tr,Hn,er,nr){const ir=tr(er,nr);for(const rr of ir){const sr=rr.Tt(nr);sr!==null&&Hn(sr)}}function ys(tr,Hn){return er=>(function(nr){return nr.Ft!==void 0})(er)?(er.Ft()?.ma()??"")!==Hn?[]:er.ta?.(tr)??[]:[]}function ks(tr,Hn,er,nr){if(!tr.length)return;let ir=0;const rr=tr[0].$t(nr,!0);let sr=Hn===1?er/2-(tr[0].Fi()-rr/2):tr[0].Fi()-rr/2-er/2;sr=Math.max(0,sr);for(let ar=1;ar<tr.length;ar++){const or=tr[ar],lr=tr[ar-1],cr=lr.$t(nr,!1),ur=or.Fi(),dr=lr.Fi();if(Hn===1?ur>dr-cr:ur<dr+cr){const fr=dr-cr*Hn;or.Wi(fr);const xr=fr-Hn*cr/2;if((Hn===1?xr<0:xr>er)&&sr>0){const yr=Hn===1?-1-xr:xr-er,_r=Math.min(yr,sr);for(let Sr=ir;Sr<tr.length;Sr++)tr[Sr].Wi(tr[Sr].Fi()+Hn*_r);sr-=_r}}else ir=ar,sr=Hn===1?dr-cr-ur:ur-(dr+cr)}}class Ts{constructor(Hn,er,nr,ir){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new rt(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=Hn,this.Ps=er,this.Ml=er.layout,this.Ju=nr,this.jp=ir==="left",this.Kp=ys("normal",ir),this.Xp=ys("top",ir),this.Zp=ys("bottom",ir),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=bs(this.jf,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const rr=this.Gp.canvasElement;rr.style.position="absolute",rr.style.zIndex="1",rr.style.left="0",rr.style.top="0",this.Jp=bs(this.jf,size({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const sr=this.Jp.canvasElement;sr.style.position="absolute",sr.style.zIndex="2",sr.style.left="0",sr.style.top="0";const ar={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new _s(this.Jp.canvasElement,ar,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Ss(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const Hn=this.Ju.N();return this.Wp!==Hn.k&&(this.Fp.Bn(),this.Wp=Hn.k),Hn}nv(){if(this.Yi===null)return 0;let Hn=0;const er=this.sv(),nr=u(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));nr.save();const ir=this.Yi.Da();nr.font=this.ev(),ir.length>0&&(Hn=Math.max(this.Fp.Vi(nr,ir[0].Za),this.Fp.Vi(nr,ir[ir.length-1].Za)));const rr=this.rv();for(let lr=rr.length;lr--;){const cr=this.Fp.Vi(nr,rr[lr].ri());cr>Hn&&(Hn=cr)}const sr=this.Yi.zt();if(sr!==null&&this.Op!==null&&(ar=this.Ps.crosshair).mode!==2&&ar.horzLine.visible&&ar.horzLine.labelVisible){const lr=this.Yi.Ts(1,sr),cr=this.Yi.Ts(this.Op.height-2,sr);Hn=Math.max(Hn,this.Fp.Vi(nr,this.Yi.Zi(Math.floor(Math.min(lr,cr))+.11111111111111,sr)),this.Fp.Vi(nr,this.Yi.Zi(Math.ceil(Math.max(lr,cr))-.11111111111111,sr)))}var ar;nr.restore();const or=Hn||34;return ls(Math.ceil(er.S+er.C+er.B+er.I+5+or))}hv(Hn){this.Op!==null&&equalSizes(this.Op,Hn)||(this.Op=Hn,this.Up=!0,this.Gp.resizeCanvasElement(Hn),this.Jp.resizeCanvasElement(Hn),this.Up=!1,this.jf.style.width=`${Hn.width}px`,this.jf.style.height=`${Hn.height}px`)}av(){return u(this.Op).width}_s(Hn){this.Yi!==Hn&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=Hn,Hn.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const Hn=this.Pt.ap();this.Pt.qp().Qt().Zo(Hn,u(this.Ft()))}lv(Hn){if(this.Op===null)return;const er={colorSpace:this.Pt.qp().N().layout.colorSpace};if(Hn!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const ir=tryCreateCanvasRenderingTarget2D(this.Gp,er);ir!==null&&(ir.useBitmapCoordinateSpace((rr=>{this._v(rr),this.uv(rr)})),this.Pt.cv(ir,this.Zp),this.dv(ir),this.Pt.cv(ir,this.Kp),this.fv(ir))}this.Jp.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Jp,er);nr!==null&&(nr.useBitmapCoordinateSpace((({context:ir,bitmapSize:rr})=>{ir.clearRect(0,0,rr.width,rr.height)})),this.pv(nr),this.Pt.cv(nr,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr,ir){const rr=this.Jf();if(rr.width>0&&rr.height>0&&(Hn.drawImage(this.Gp.canvasElement,er,nr),ir)){const sr=this.Jp.canvasElement;Hn.drawImage(sr,er,nr)}}yt(){this.Yi?.Da()}ep(Hn){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const er=this.Pt.qp().Qt(),nr=this.Pt.ap();this.Np=!0,er.Uo(nr,this.Yi,Hn.localY)}rp(Hn){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const er=this.Pt.qp().Qt(),nr=this.Pt.ap(),ir=this.Yi;er.$o(nr,ir,Hn.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const Hn=this.Pt.qp().Qt(),er=this.Pt.ap(),nr=this.Yi;this.Np&&(this.Np=!1,Hn.qo(er,nr))}hp(Hn){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const er=this.Pt.qp().Qt(),nr=this.Pt.ap();this.Np=!1,er.qo(nr,this.Yi)}tv(Hn){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(Hn){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(Hn){this.vv(0)}rv(){const Hn=[],er=this.Yi===null?void 0:this.Yi;return(nr=>{for(let ir=0;ir<nr.length;++ir){const rr=nr[ir].Ws(this.Pt.ap(),er);for(let sr=0;sr<rr.length;sr++)Hn.push(rr[sr])}})(this.Pt.ap().Dt()),Hn}_v({context:Hn,bitmapSize:er}){const{width:nr,height:ir}=er,rr=this.Pt.ap().Qt(),sr=rr.$(),ar=rr.Wc();sr===ar?L$1(Hn,0,0,nr,ir,sr):F(Hn,0,0,nr,ir,sr,ar)}uv({context:Hn,bitmapSize:er,horizontalPixelRatio:nr}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;Hn.fillStyle=this.Yi.N().borderColor;const ir=Math.max(1,Math.floor(this.sv().S*nr));let rr;rr=this.jp?er.width-ir:0,Hn.fillRect(rr,0,ir,er.height)}dv(Hn){if(this.Op===null||this.Yi===null)return;const er=this.Yi.Da(),nr=this.Yi.N(),ir=this.sv(),rr=this.jp?this.Op.width-ir.C:0;nr.borderVisible&&nr.ticksVisible&&Hn.useBitmapCoordinateSpace((({context:sr,horizontalPixelRatio:ar,verticalPixelRatio:or})=>{sr.fillStyle=nr.borderColor;const lr=Math.max(1,Math.floor(or)),cr=Math.floor(.5*or),ur=Math.round(ir.C*ar);sr.beginPath();for(const dr of er)sr.rect(Math.floor(rr*ar),Math.round(dr.Pa*or)-cr,ur,lr);sr.fill()})),Hn.useMediaCoordinateSpace((({context:sr})=>{sr.font=this.ev(),sr.fillStyle=nr.textColor??this.Ml.textColor,sr.textAlign=this.jp?"right":"left",sr.textBaseline="middle";const ar=this.jp?Math.round(rr-ir.B):Math.round(rr+ir.C+ir.B),or=er.map((lr=>this.Fp.Di(sr,lr.Za)));for(let lr=er.length;lr--;){const cr=er[lr];sr.fillText(cr.Za,ar,cr.Pa+or[lr])}}))}ov(){if(this.Op===null||this.Yi===null)return;let Hn=this.Op.height/2;const er=[],nr=this.Yi.Dt().slice(),ir=this.Pt.ap(),rr=this.sv();this.Yi===ir.$n()&&this.Pt.ap().Dt().forEach((or=>{ir.Un(or)&&nr.push(or)}));const sr=this.Yi.Ma()[0],ar=this.Yi;nr.forEach((or=>{const lr=or.Ws(ir,ar);lr.forEach((cr=>{cr.Wi(null),cr.Hi()&&er.push(cr)})),sr===or&&lr.length>0&&(Hn=lr[0].Ii())})),er.forEach((or=>or.Wi(or.Ii()))),this.Yi.N().alignLabels&&this.mv(er,rr,Hn)}mv(Hn,er,nr){if(this.Op===null)return;const ir=Hn.filter((sr=>sr.Ii()<=nr)),rr=Hn.filter((sr=>sr.Ii()>nr));ir.sort(((sr,ar)=>ar.Ii()-sr.Ii())),ir.length&&rr.length&&rr.push(ir[0]),rr.sort(((sr,ar)=>sr.Ii()-ar.Ii()));for(const sr of Hn){const ar=Math.floor(sr.$t(er)/2),or=sr.Ii();or>-ar&&or<ar&&sr.Wi(ar),or>this.Op.height-ar&&or<this.Op.height+ar&&sr.Wi(this.Op.height-ar)}ks(ir,1,this.Op.height,er),ks(rr,-1,this.Op.height,er)}fv(Hn){if(this.Op===null)return;const er=this.rv(),nr=this.sv(),ir=this.jp?"right":"left";er.forEach((rr=>{rr.Ui()&&rr.Tt(u(this.Yi)).nt(Hn,nr,this.Fp,ir)}))}pv(Hn){if(this.Op===null||this.Yi===null)return;const er=this.Pt.qp().Qt(),nr=[],ir=this.Pt.ap(),rr=er.uc().Ws(ir,this.Yi);rr.length&&nr.push(rr);const sr=this.sv(),ar=this.jp?"right":"left";nr.forEach((or=>{or.forEach((lr=>{lr.Tt(u(this.Yi)).nt(Hn,sr,this.Fp,ar)}))}))}vv(Hn){this.jf.style.cursor=Hn===1?"ns-resize":"default"}_l(){const Hn=this.nv();this.Hp<Hn&&this.Pt.qp().Qt().Ih(),this.Hp=Hn}ev(){return x(this.Ml.fontSize,this.Ml.fontFamily)}}function Rs(tr,Hn){return tr.Jh?.(Hn)??[]}function Ds(tr,Hn){return tr.Fs?.(Hn)??[]}function Vs(tr,Hn){return tr.us?.(Hn)??[]}function Bs(tr,Hn){return tr.Xh?.(Hn)??[]}class Is{constructor(Hn,er){this.Op=size({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new d,this.Cv=new d,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=Hn,this.Vv=er,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const nr=document.createElement("div");nr.style.width="100%",nr.style.height="100%",nr.style.position="relative",nr.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(nr),this.Gp=bs(nr,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const ir=this.Gp.canvasElement;ir.style.position="absolute",ir.style.zIndex="1",ir.style.left="0",ir.style.top="0",this.Jp=bs(nr,size({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const rr=this.Jp.canvasElement;rr.style.position="absolute",rr.style.zIndex="2",rr.style.left="0",rr.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new _s(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Ss(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return u(this.Vv)}Lv(Hn){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=Hn,this.Vv!==null&&this.Vv.t_().i(Is.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new Ms(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const Hn=this.Vv.Wo();this.wv._s(u(Hn))}if(this.gv!==null){const Hn=this.Vv.Ho();this.gv._s(u(Hn))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(Hn){this.Vv&&this.Vv.Io(Hn)}sf(Hn){if(!this.Vv)return;this.Fv();const er=Hn.localX,nr=Hn.localY;this.Wv(er,nr,Hn)}Sf(Hn){this.Fv(),this.Hv(),this.Wv(Hn.localX,Hn.localY,Hn)}nf(Hn){if(!this.Vv)return;this.Fv();const er=Hn.localX,nr=Hn.localY;this.Wv(er,nr,Hn)}mf(Hn){this.Vv!==null&&(this.Fv(),this.Uv(Hn))}Xd(Hn){this.Vv!==null&&this.$v(this.Cv,Hn)}qd(Hn){this.Xd(Hn)}cf(Hn){this.Fv(),this.qv(Hn),this.Wv(Hn.localX,Hn.localY,Hn)}vf(Hn){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(Hn))}pf(Hn){this.Vv!==null&&this.Uv(Hn)}If(Hn){if(this.yv=!0,this.kv===null){const er={x:Hn.localX,y:Hn.localY};this.jv(er,er,Hn)}}Bf(Hn){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(Hn,er){if(!this.Vp.N().handleScale.pinch)return;const nr=5*(er-this.Pv);this.Pv=er,this.ts().bc(Hn._t,nr)}Mf(Hn){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const er=this.ts().uc();this.kv!==null&&er.Vt()&&(this.Rv={x:er.si(),y:er.ni()},this.kv={x:Hn.localX,y:Hn.localY})}_f(Hn){if(this.Vv===null)return;const er=Hn.localX,nr=Hn.localY;if(this.kv===null)this.qv(Hn);else{this.Tv=!1;const ir=u(this.Rv),rr=ir.x+(er-this.kv.x),sr=ir.y+(nr-this.kv.y);this.Wv(rr,sr,Hn)}}ff(Hn){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(Hn)}jn(Hn,er){const nr=this.Vv;return nr===null?null:yi(nr,Hn,er)}Jv(Hn,er){u(er==="left"?this.wv:this.gv).hv(size({width:Hn,height:this.Op.height}))}Gf(){return this.Op}hv(Hn){equalSizes(this.Op,Hn)||(this.Op=Hn,this.Up=!0,this.Gp.resizeCanvasElement(Hn),this.Jp.resizeCanvasElement(Hn),this.Up=!1,this.Iv.style.width=Hn.width+"px",this.Iv.style.height=Hn.height+"px")}Qv(){const Hn=u(this.Vv);Hn.Fo(Hn.Wo()),Hn.Fo(Hn.Ho());for(const er of Hn.Ma())if(Hn.Un(er)){const nr=er.Ft();nr!==null&&Hn.Fo(nr),er.Ns()}for(const er of Hn.s_())er.Ns()}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr,ir){const rr=this.Jf();if(rr.width>0&&rr.height>0&&(Hn.drawImage(this.Gp.canvasElement,er,nr),ir)){const sr=this.Jp.canvasElement;Hn!==null&&Hn.drawImage(sr,er,nr)}}lv(Hn){if(Hn===0||this.Vv===null)return;Hn>1&&this.Qv(),this.wv!==null&&this.wv.lv(Hn),this.gv!==null&&this.gv.lv(Hn);const er={colorSpace:this.Vp.N().layout.colorSpace};if(Hn!==1){this.Gp.applySuggestedBitmapSize();const ir=tryCreateCanvasRenderingTarget2D(this.Gp,er);ir!==null&&(ir.useBitmapCoordinateSpace((rr=>{this._v(rr)})),this.Vv&&(this.tm(ir,Rs),this.im(ir),this.tm(ir,Ds),this.tm(ir,Vs)))}this.Jp.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Jp,er);nr!==null&&(nr.useBitmapCoordinateSpace((({context:ir,bitmapSize:rr})=>{ir.clearRect(0,0,rr.width,rr.height)})),this.sm(nr),this.tm(nr,Bs),this.tm(nr,Vs))}nm(){return this.wv}rm(){return this.gv}cv(Hn,er){this.tm(Hn,er)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(Hn){this.$v(this.xv,Hn)}$v(Hn,er){const nr=er.localX,ir=er.localY;Hn.v()&&Hn.p(this.ts().Et().cu(nr),{x:nr,y:ir},er)}_v({context:Hn,bitmapSize:er}){const{width:nr,height:ir}=er,rr=this.ts(),sr=rr.$(),ar=rr.Wc();sr===ar?L$1(Hn,0,0,nr,ir,ar):F(Hn,0,0,nr,ir,sr,ar)}im(Hn){const er=u(this.Vv),nr=er.i_().lr().Tt(er);nr!==null&&nr.nt(Hn,!1)}sm(Hn){this.hm(Hn,Ds,Cs,this.ts().uc())}tm(Hn,er){const nr=u(this.Vv),ir=nr.Dt(),rr=nr.s_();for(const sr of rr)this.hm(Hn,er,xs,sr);for(const sr of ir)this.hm(Hn,er,xs,sr);for(const sr of rr)this.hm(Hn,er,Cs,sr);for(const sr of ir)this.hm(Hn,er,Cs,sr)}hm(Hn,er,nr,ir){const rr=u(this.Vv),sr=rr.Qt().ac(),ar=sr!==null&&sr.n_===ir,or=sr!==null&&ar&&sr.e_!==void 0?sr.e_.Xn:void 0;Ps(er,(lr=>nr(lr,Hn,ar,or)),ir,rr)}Ov(){if(this.Vv===null)return;const Hn=this.Vp,er=this.Vv.Wo().N().visible,nr=this.Vv.Ho().N().visible;er||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),nr||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const ir=Hn.Qt().Bc();er&&this.wv===null&&(this.wv=new Ts(this,Hn.N(),ir,"left"),this.Ev.appendChild(this.wv.Zf())),nr&&this.gv===null&&(this.gv=new Ts(this,Hn.N(),ir,"right"),this.Av.appendChild(this.gv.Zf()))}am(Hn){return Hn.Ef&&this.yv||this.kv!==null}lm(Hn){return Math.max(0,Math.min(Hn,this.Op.width-1))}om(Hn){return Math.max(0,Math.min(Hn,this.Op.height-1))}Wv(Hn,er,nr){this.ts().Tc(this.lm(Hn),this.om(er),nr,u(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(Hn,er,nr){this.kv=Hn,this.Tv=!1,this.Wv(er.x,er.y,nr);const ir=this.ts().uc();this.Rv={x:ir.si(),y:ir.ni()}}ts(){return this.Vp.Qt()}Yv(Hn){if(!this.Sv)return;const er=this.ts(),nr=this.ap();if(er.Ko(nr,nr.ks()),this.bv=null,this.Sv=!1,er.Pc(),this.Dv!==null){const ir=performance.now(),rr=er.Et();this.Dv.le(rr.gu(),ir),this.Dv.Ru(ir)||er._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)u(document.activeElement).blur();else{const Hn=document.getSelection();Hn!==null&&Hn.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(Hn){if(this.Vv===null)return;const er=this.ts(),nr=er.Et();if(nr.Ki())return;const ir=this.Vp.N(),rr=ir.handleScroll,sr=ir.kineticScroll;if((!rr.pressedMouseMove||Hn.Ef)&&(!rr.horzTouchDrag&&!rr.vertTouchDrag||!Hn.Ef))return;const ar=this.Vv.ks(),or=performance.now();if(this.bv!==null||this.am(Hn)||(this.bv={x:Hn.clientX,y:Hn.clientY,rd:or,_m:Hn.localX,um:Hn.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==Hn.clientX||this.bv.y!==Hn.clientY)){if(Hn.Ef&&sr.touch||!Hn.Ef&&sr.mouse){const lr=nr.mu();this.Dv=new gs(.2/lr,7/lr,.997,15/lr),this.Dv.Pp(nr.gu(),this.bv.rd)}else this.Dv=null;ar.Ki()||er.Yo(this.Vv,ar,Hn.localY),er.xc(Hn.localX),this.Sv=!0}this.Sv&&(ar.Ki()||er.jo(this.Vv,ar,Hn.localY),er.Cc(Hn.localX),this.Dv!==null&&this.Dv.Pp(nr.gu(),or))}}class Es{constructor(Hn,er,nr,ir,rr){this.xt=!0,this.Op=size({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=Hn==="left",this.Ju=nr.Bc,this.Ps=er,this.dm=ir,this.fm=rr,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=bs(this.jf,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(Hn){equalSizes(this.Op,Hn)||(this.Op=Hn,this.Gp.resizeCanvasElement(Hn),this.jf.style.width=`${Hn.width}px`,this.jf.style.height=`${Hn.height}px`,this.xt=!0)}lv(Hn){if(Hn<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const er=tryCreateCanvasRenderingTarget2D(this.Gp,{colorSpace:this.Ps.layout.colorSpace});er!==null&&er.useBitmapCoordinateSpace((nr=>{this._v(nr),this.uv(nr)}))}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr){const ir=this.Jf();ir.width>0&&ir.height>0&&Hn.drawImage(this.Gp.canvasElement,er,nr)}uv({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(!this.dm())return;Hn.fillStyle=this.Ps.timeScale.borderColor;const rr=Math.floor(this.Ju.N().S*nr),sr=Math.floor(this.Ju.N().S*ir),ar=this.jp?er.width-rr:0;Hn.fillRect(ar,0,rr,sr)}_v({context:Hn,bitmapSize:er}){L$1(Hn,0,0,er.width,er.height,this.fm())}}function As(tr){return Hn=>Hn.ia?.(tr)??[]}const zs=As("normal"),Ls=As("top"),Os=As("bottom");class Ns{constructor(Hn,er){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=size({width:0,height:0}),this.gm=new d,this.Fp=new rt(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=Hn,this.o_=er,this.Ps=Hn.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=bs(this.Sm,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const nr=this.Gp.canvasElement;nr.style.position="absolute",nr.style.zIndex="1",nr.style.left="0",nr.style.top="0",this.Jp=bs(this.Sm,size({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const ir=this.Jp.canvasElement;ir.style.position="absolute",ir.style.zIndex="2",ir.style.left="0",ir.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new _s(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Ss(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(Hn){if(this.wm)return;this.wm=!0;const er=this.Vp.Qt();!er.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&er.Mc(Hn.localX)}Mf(Hn){this.Sf(Hn)}xf(){const Hn=this.Vp.Qt();!Hn.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&Hn.kc())}cf(Hn){const er=this.Vp.Qt();!er.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&er.yc(Hn.localX)}_f(Hn){this.cf(Hn)}vf(){this.wm=!1;const Hn=this.Vp.Qt();Hn.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||Hn.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(Hn,er,nr){equalSizes(this.Op,Hn)||(this.Op=Hn,this.Up=!0,this.Gp.resizeCanvasElement(Hn),this.Jp.resizeCanvasElement(Hn),this.Up=!1,this.jf.style.width=`${Hn.width}px`,this.jf.style.height=`${Hn.height}px`,this.gm.p(Hn)),this.pm!==null&&this.pm.hv(size({width:er,height:Hn.height})),this.vm!==null&&this.vm.hv(size({width:nr,height:Hn.height}))}Tm(){const Hn=this.Rm();return Math.ceil(Hn.S+Hn.C+Hn.P+Hn.A+Hn.V+Hn.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr,ir){const rr=this.Jf();if(rr.width>0&&rr.height>0&&(Hn.drawImage(this.Gp.canvasElement,er,nr),ir)){const sr=this.Jp.canvasElement;Hn.drawImage(sr,er,nr)}}lv(Hn){if(Hn===0)return;const er={colorSpace:this.Ps.colorSpace};if(Hn!==1){this.Gp.applySuggestedBitmapSize();const ir=tryCreateCanvasRenderingTarget2D(this.Gp,er);ir!==null&&(ir.useBitmapCoordinateSpace((rr=>{this._v(rr),this.uv(rr),this.Vm(ir,Os)})),this.dv(ir),this.Vm(ir,zs)),this.pm!==null&&this.pm.lv(Hn),this.vm!==null&&this.vm.lv(Hn)}this.Jp.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Jp,er);nr!==null&&(nr.useBitmapCoordinateSpace((({context:ir,bitmapSize:rr})=>{ir.clearRect(0,0,rr.width,rr.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],nr),this.Vm(nr,Ls))}Vm(Hn,er){const nr=this.Vp.Qt().js();for(const ir of nr)Ps(er,(rr=>xs(rr,Hn,!1,void 0)),ir,void 0);for(const ir of nr)Ps(er,(rr=>Cs(rr,Hn,!1,void 0)),ir,void 0)}_v({context:Hn,bitmapSize:er}){L$1(Hn,0,0,er.width,er.height,this.Vp.Qt().Wc())}uv({context:Hn,bitmapSize:er,verticalPixelRatio:nr}){if(this.Vp.N().timeScale.borderVisible){Hn.fillStyle=this.Im();const ir=Math.max(1,Math.floor(this.Rm().S*nr));Hn.fillRect(0,0,er.width,ir)}}dv(Hn){const er=this.Vp.Qt().Et(),nr=er.Da();if(!nr||nr.length===0)return;const ir=this.o_.maxTickMarkWeight(nr),rr=this.Rm(),sr=er.N();sr.borderVisible&&sr.ticksVisible&&Hn.useBitmapCoordinateSpace((({context:ar,horizontalPixelRatio:or,verticalPixelRatio:lr})=>{ar.strokeStyle=this.Im(),ar.fillStyle=this.Im();const cr=Math.max(1,Math.floor(or)),ur=Math.floor(.5*or);ar.beginPath();const dr=Math.round(rr.C*lr);for(let fr=nr.length;fr--;){const xr=Math.round(nr[fr].coord*or);ar.rect(xr-ur,0,cr,dr)}ar.fill()})),Hn.useMediaCoordinateSpace((({context:ar})=>{const or=rr.S+rr.C+rr.A+rr.P/2;ar.textAlign="center",ar.textBaseline="middle",ar.fillStyle=this.H(),ar.font=this.ev();for(const lr of nr)if(lr.weight<ir){const cr=lr.needAlignCoordinate?this.Em(ar,lr.coord,lr.label):lr.coord;ar.fillText(lr.label,cr,or)}this.Vp.N().timeScale.allowBoldLabels&&(ar.font=this.Am());for(const lr of nr)if(lr.weight>=ir){const cr=lr.needAlignCoordinate?this.Em(ar,lr.coord,lr.label):lr.coord;ar.fillText(lr.label,cr,or)}}))}Em(Hn,er,nr){const ir=this.Fp.Vi(Hn,nr),rr=ir/2,sr=Math.floor(er-rr)+.5;return sr<0?er+=Math.abs(0-sr):sr+ir>this.Op.width&&(er-=Math.abs(this.Op.width-(sr+ir))),er}Bm(Hn,er){const nr=this.Rm();for(const ir of Hn)for(const rr of ir.cs())rr.Tt().nt(er,nr)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return x(this.F(),this.Ps.fontFamily)}Am(){return x(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new rt,Dm:0});const Hn=this.M,er=this.ev();if(Hn.k!==er){const nr=this.F();Hn.P=nr,Hn.k=er,Hn.A=3*nr/12,Hn.V=3*nr/12,Hn.Ji=9*nr/12,Hn.L=0,Hn.Dm=4*nr/12,Hn.Gi.Bn()}return this.M}vv(Hn){this.jf.style.cursor=Hn===1?"ew-resize":"default"}xm(){const Hn=this.Vp.Qt(),er=Hn.N();er.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),er.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const nr={Bc:this.Vp.Qt().Bc()},ir=()=>er.leftPriceScale.borderVisible&&Hn.Et().N().borderVisible,rr=()=>Hn.Wc();er.leftPriceScale.visible&&this.pm===null&&(this.pm=new Es("left",er,nr,ir,rr),this.Mm.appendChild(this.pm.Zf())),er.rightPriceScale.visible&&this.vm===null&&(this.vm=new Es("right",er,nr,ir,rr),this.bm.appendChild(this.vm.Zf()))}}const Fs=!!rs&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((tr=>tr.brand.includes("Chromium")))&&!!rs&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Ws{constructor(Hn,er,nr){var ir;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new d,this.Cv=new d,this.Xu=new d,this.Um=null,this.$m=null,this.Dp=Hn,this.Ps=er,this.o_=nr,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(ir=this.kp).style.userSelect="none",ir.style.webkitUserSelect="none",ir.style.msUserSelect="none",ir.style.MozUserSelect="none",ir.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),Hs(this.Ps)&&this.Km(!0),this.ts=new Ni(this.Gu.bind(this),this.Ps,nr),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new Ns(this,this.o_),this.qm.appendChild(this.Zm.Zf());const rr=er.autoSize&&this.Gm();let sr=this.Ps.width,ar=this.Ps.height;if(rr||sr===0||ar===0){const or=Hn.getBoundingClientRect();sr=sr||or.width,ar=ar||or.height}this.Jm(sr,ar),this.Qm(),Hn.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const Hn of this.zm)this.qm.removeChild(Hn.Zf()),Hn.Xv().u(this),Hn.Zv().u(this),Hn.m();this.zm=[];for(const Hn of this.Lm)this.sw(Hn);this.Lm=[],u(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(Hn,er,nr=!1){if(this.il===er&&this.Mo===Hn)return;const ir=(function(ar){const or=Math.floor(ar.width),lr=Math.floor(ar.height);return size({width:or-or%2,height:lr-lr%2})})(size({width:Hn,height:er}));this.il=ir.height,this.Mo=ir.width;const rr=this.il+"px",sr=this.Mo+"px";u(this.kp).style.height=rr,u(this.kp).style.width=sr,this.qm.style.height=rr,this.qm.style.width=sr,nr?this.ew(G.gn(),performance.now()):this.ts.Ih()}lv(Hn){Hn===void 0&&(Hn=G.gn());for(let er=0;er<this.zm.length;er++)this.zm[er].lv(Hn.en(er).tn);this.Ps.timeScale.visible&&this.Zm.lv(Hn.nn())}hr(Hn){const er=Hs(this.Ps);this.ts.hr(Hn);const nr=Hs(this.Ps);nr!==er&&this.Km(nr),Hn.layout?.panes&&this.rw(),this.tw(),this.hw(Hn)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(Hn=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const er=this.lw(null),nr=document.createElement("canvas");nr.width=er.width,nr.height=er.height;const ir=u(nr.getContext("2d"));return this.lw(ir,Hn),nr}ow(Hn){return Hn==="left"&&!this._w()||Hn==="right"&&!this.uw()||this.zm.length===0?0:u(Hn==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(Hn){this.$m=Hn,this.$m?this.ip().style.setProperty("cursor",Hn):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(Hn){return _(this.zm[Hn]).Gf()}rw(){this.Lm.forEach((Hn=>{Hn.yt()}))}hw(Hn){(Hn.autoSize!==void 0||!this.Um||Hn.width===void 0&&Hn.height===void 0)&&(Hn.autoSize&&!this.Um&&this.Gm(),Hn.autoSize===!1&&this.Um!==null&&this.nw(),Hn.autoSize||Hn.width===void 0&&Hn.height===void 0||this.Jm(Hn.width||this.Mo,Hn.height||this.il))}lw(Hn,er){let nr=0,ir=0;const rr=this.zm[0],sr=(or,lr)=>{let cr=0;for(let ur=0;ur<this.zm.length;ur++){const dr=this.zm[ur],fr=u(or==="left"?dr.nm():dr.rm()),xr=fr.Jf();if(Hn!==null&&fr.Qf(Hn,lr,cr,er),cr+=xr.height,ur<this.zm.length-1){const yr=this.Lm[ur],_r=yr.Jf();Hn!==null&&yr.Qf(Hn,lr,cr),cr+=_r.height}}};this._w()&&(sr("left",0),nr+=u(rr.nm()).Jf().width);for(let or=0;or<this.zm.length;or++){const lr=this.zm[or],cr=lr.Jf();if(Hn!==null&&lr.Qf(Hn,nr,ir,er),ir+=cr.height,or<this.zm.length-1){const ur=this.Lm[or],dr=ur.Jf();Hn!==null&&ur.Qf(Hn,nr,ir),ir+=dr.height}}nr+=rr.Jf().width,this.uw()&&(sr("right",nr),nr+=u(rr.rm()).Jf().width);const ar=(or,lr,cr)=>{u(or==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(u(Hn),lr,cr)};if(this.Ps.timeScale.visible){const or=this.Zm.Jf();if(Hn!==null){let lr=0;this._w()&&(ar("left",lr,ir),lr=u(rr.nm()).Jf().width),this.Zm.Qf(Hn,lr,ir,er),lr+=or.width,this.uw()&&ar("right",lr,ir)}ir+=or.height}return size({width:nr,height:ir})}mw(){let Hn=0,er=0,nr=0;for(const _r of this.zm)this._w()&&(er=Math.max(er,u(_r.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(nr=Math.max(nr,u(_r.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),Hn+=_r.Bo();er=ls(er),nr=ls(nr);const ir=this.Mo,rr=this.il,sr=Math.max(ir-er-nr,0),ar=1*this.Lm.length,or=this.Ps.timeScale.visible;let lr=or?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var cr;lr=(cr=lr)+cr%2;const ur=ar+lr,dr=rr<ur?0:rr-ur,fr=dr/Hn;let xr=0;const yr=window.devicePixelRatio||1;for(let _r=0;_r<this.zm.length;++_r){const Sr=this.zm[_r];Sr.Lv(this.ts.$s()[_r]);let jr=0,Dr=0;Dr=_r===this.zm.length-1?Math.ceil((dr-xr)*yr)/yr:Math.round(Sr.Bo()*fr*yr)/yr,jr=Math.max(Dr,2),xr+=jr,Sr.hv(size({width:sr,height:jr})),this._w()&&Sr.Jv(er,"left"),this.uw()&&Sr.Jv(nr,"right"),Sr.ap()&&this.ts.dc(Sr.ap(),jr)}this.Zm.km(size({width:or?sr:0,height:lr}),or?er:0,or?nr:0),this.ts.Eo(sr),this.Nm!==er&&(this.Nm=er),this.Fm!==nr&&(this.Fm=nr)}Km(Hn){Hn?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(Hn){switch(Hn.deltaMode){case Hn.DOM_DELTA_PAGE:return 120;case Hn.DOM_DELTA_LINE:return 32}return Fs?1/window.devicePixelRatio:1}jm(Hn){if(!(Hn.deltaX!==0&&this.Ps.handleScroll.mouseWheel||Hn.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const er=this.ww(Hn),nr=er*Hn.deltaX/100,ir=-er*Hn.deltaY/100;if(Hn.cancelable&&Hn.preventDefault(),ir!==0&&this.Ps.handleScale.mouseWheel){const rr=Math.sign(ir)*Math.min(1,Math.abs(ir)),sr=Hn.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(sr,rr)}nr!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*nr)}ew(Hn,er){const nr=Hn.nn();nr===3&&this.gw(),nr!==3&&nr!==2||(this.Mw(Hn),this.bw(Hn,er),this.Zm.yt(),this.zm.forEach((ir=>{ir.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(Hn),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,er),Hn=this.Wm,this.Wm=null)),this.lv(Hn)}bw(Hn,er){for(const nr of Hn.pn())this.mn(nr,er)}Mw(Hn){const er=this.ts.$s();for(let nr=0;nr<er.length;nr++)Hn.en(nr).sn&&er[nr].Go()}mn(Hn,er){const nr=this.ts.Et();switch(Hn.an){case 0:nr.Au();break;case 1:nr.zu(Hn.Wt);break;case 2:nr.dn(Hn.Wt);break;case 3:nr.fn(Hn.Wt);break;case 4:nr.Su();break;case 5:Hn.Wt.Ru(er)||nr.fn(Hn.Wt.Du(er))}}Gu(Hn){this.Wm!==null?this.Wm.vn(Hn):this.Wm=Hn,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((er=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const nr=this.Wm;this.Wm=null,this.ew(nr,er);for(const ir of nr.pn())if(ir.an===5&&!ir.Wt.Ru(er)){this.Qt()._n(ir.Wt);break}}})))}gw(){this.Qm()}sw(Hn){this.qm.removeChild(Hn.Zf()),Hn.m()}Qm(){const Hn=this.ts.$s(),er=Hn.length,nr=this.zm.length;for(let ir=er;ir<nr;ir++){const rr=_(this.zm.pop());this.qm.removeChild(rr.Zf()),rr.Xv().u(this),rr.Zv().u(this),rr.m();const sr=this.Lm.pop();sr!==void 0&&this.sw(sr)}for(let ir=nr;ir<er;ir++){const rr=new Is(this,Hn[ir]);if(rr.Xv().i(this.Sw.bind(this,rr),this),rr.Zv().i(this.xw.bind(this,rr),this),this.zm.push(rr),ir>0){const sr=new vs(this,ir-1,ir);this.Lm.push(sr),this.qm.insertBefore(sr.Zf(),this.Zm.Zf())}this.qm.insertBefore(rr.Zf(),this.Zm.Zf())}for(let ir=0;ir<er;ir++){const rr=Hn[ir],sr=this.zm[ir];sr.ap()!==rr?sr.Lv(rr):sr.zv()}this.tw(),this.mw()}Cw(Hn,er,nr,ir){const rr=new Map;Hn!==null&&this.ts.js().forEach((ur=>{const dr=ur.Xs().Fr(Hn);dr!==null&&rr.set(ur,dr)}));let sr;if(Hn!==null){const ur=this.ts.Et().ss(Hn)?.originalTime;ur!==void 0&&(sr=ur)}const ar=this.Qt().ac(),or=ar!==null&&ar.n_ instanceof Kt?ar.n_:void 0,lr=ar!==null&&ar.e_!==void 0?ar.e_.Kn:void 0,cr=this.Pw(ir);return{yw:sr,Re:Hn??void 0,kw:er??void 0,Tw:cr!==-1?cr:void 0,Rw:or,Dw:rr,Vw:lr,Bw:nr??void 0}}Pw(Hn){let er=-1;if(Hn)er=this.zm.indexOf(Hn);else{const nr=this.Qt().uc().Us();nr!==null&&(er=this.Qt().$s().indexOf(nr))}return er}Sw(Hn,er,nr,ir){this.xv.p((()=>this.Cw(er,nr,ir,Hn)))}xw(Hn,er,nr,ir){this.Cv.p((()=>this.Cw(er,nr,ir,Hn)))}Xm(Hn,er,nr){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(Hn,er,nr)))}tw(){const Hn=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=Hn}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((Hn=>{const er=Hn[Hn.length-1];er&&this.Jm(er.contentRect.width,er.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function Hs(tr){return!!(tr.handleScroll.mouseWheel||tr.handleScale.mouseWheel)}function Us(tr){return tr.open===void 0&&tr.value===void 0}function $s(tr){return(function(Hn){return Hn.open!==void 0})(tr)||(function(Hn){return Hn.value!==void 0})(tr)}function qs(tr,Hn,er,nr){const ir=er.value,rr={Re:Hn,wt:tr,Wt:[ir,ir,ir,ir],yw:nr};return er.color!==void 0&&(rr.R=er.color),rr}function Ys(tr,Hn,er,nr){const ir=er.value,rr={Re:Hn,wt:tr,Wt:[ir,ir,ir,ir],yw:nr};return er.lineColor!==void 0&&(rr.vt=er.lineColor),er.topColor!==void 0&&(rr.mr=er.topColor),er.bottomColor!==void 0&&(rr.wr=er.bottomColor),rr}function js(tr,Hn,er,nr){const ir=er.value,rr={Re:Hn,wt:tr,Wt:[ir,ir,ir,ir],yw:nr};return er.topLineColor!==void 0&&(rr.gr=er.topLineColor),er.bottomLineColor!==void 0&&(rr.Mr=er.bottomLineColor),er.topFillColor1!==void 0&&(rr.br=er.topFillColor1),er.topFillColor2!==void 0&&(rr.Sr=er.topFillColor2),er.bottomFillColor1!==void 0&&(rr.Cr=er.bottomFillColor1),er.bottomFillColor2!==void 0&&(rr.Pr=er.bottomFillColor2),rr}function Ks(tr,Hn,er,nr){const ir={Re:Hn,wt:tr,Wt:[er.open,er.high,er.low,er.close],yw:nr};return er.color!==void 0&&(ir.R=er.color),ir}function Xs(tr,Hn,er,nr){const ir={Re:Hn,wt:tr,Wt:[er.open,er.high,er.low,er.close],yw:nr};return er.color!==void 0&&(ir.R=er.color),er.borderColor!==void 0&&(ir.Ht=er.borderColor),er.wickColor!==void 0&&(ir.vr=er.wickColor),ir}function Zs(tr,Hn,er,nr,ir){const rr=_(ir)(er),sr=Math.max(...rr),ar=Math.min(...rr),or=rr[rr.length-1],lr=[or,sr,ar,or],{time:cr,color:ur,...dr}=er;return{Re:Hn,wt:tr,Wt:lr,yw:nr,se:dr,R:ur}}function Gs(tr){return tr.Wt!==void 0}function Js(tr,Hn){return Hn.customValues!==void 0&&(tr.Iw=Hn.customValues),tr}function Qs(tr){return(Hn,er,nr,ir,rr,sr)=>(function(ar,or){return or?or(ar):Us(ar)})(nr,sr)?Js({wt:Hn,Re:er,yw:ir},nr):Js(tr(Hn,er,nr,ir,rr),nr)}function tn(tr){return{Candlestick:Qs(Xs),Bar:Qs(Ks),Area:Qs(Ys),Baseline:Qs(js),Histogram:Qs(qs),Line:Qs(qs),Custom:Qs(Zs)}[tr]}function sn(tr){return{Re:0,Ew:new Map,Hh:tr}}function nn(tr,Hn){if(tr!==void 0&&tr.length!==0)return{Aw:Hn.key(tr[0].wt),zw:Hn.key(tr[tr.length-1].wt)}}function en(tr){let Hn;return tr.forEach((er=>{Hn===void 0&&(Hn=er.yw)})),_(Hn)}class rn{constructor(Hn){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=Hn}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(Hn,er){let nr=this.Lw.size!==0,ir=!1;const rr=this.Ow.get(Hn);if(rr!==void 0)if(this.Ow.size===1)nr=!1,ir=!0,this.Lw.clear();else for(const or of this.Fw)or.pointData.Ew.delete(Hn)&&(ir=!0);let sr=[];if(er.length!==0){const or=er.map((fr=>fr.time)),lr=this.o_.createConverterToInternalObj(er),cr=tn(Hn.Rr()),ur=Hn.ca(),dr=Hn.fa();sr=er.map(((fr,xr)=>{const yr=lr(fr.time),_r=this.o_.key(yr);let Sr=this.Lw.get(_r);Sr===void 0&&(Sr=sn(yr),this.Lw.set(_r,Sr),ir=!0);const jr=cr(yr,Sr.Re,fr,or[xr],ur,dr);return Sr.Ew.set(Hn,jr),jr}))}nr&&this.Hw(),this.Uw(Hn,sr);let ar=-1;if(ir){const or=[];this.Lw.forEach((lr=>{or.push({timeWeight:0,time:lr.Hh,pointData:lr,originalTime:en(lr.Ew)})})),or.sort(((lr,cr)=>this.o_.key(lr.time)-this.o_.key(cr.time))),ar=this.$w(or)}return this.qw(Hn,ar,(function(or,lr,cr){const ur=nn(or,cr),dr=nn(lr,cr);if(ur!==void 0&&dr!==void 0)return{Yw:!1,zh:ur.zw>=dr.zw&&ur.Aw>=dr.Aw}})(this.Ow.get(Hn),rr,this.o_))}Ac(Hn){return this.Ww(Hn,[])}jw(Hn,er,nr){const ir=er;(function(_r){_r.yw===void 0&&(_r.yw=_r.time)})(ir),this.o_.preprocessData(er);const rr=this.o_.createConverterToInternalObj([er])(er.time),sr=this.Nw.get(Hn);if(!nr&&sr!==void 0&&this.o_.key(rr)<this.o_.key(sr))throw new Error(`Cannot update oldest data, last time=${sr}, new time=${rr}`);let ar=this.Lw.get(this.o_.key(rr));if(nr&&ar===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const or=ar===void 0;ar===void 0&&(ar=sn(rr),this.Lw.set(this.o_.key(rr),ar));const lr=tn(Hn.Rr()),cr=Hn.ca(),ur=Hn.fa(),dr=lr(rr,ar.Re,er,ir.yw,cr,ur);ar.Ew.set(Hn,dr),nr?this.Kw(Hn,dr,ar.Re):this.Xw(Hn,dr);const fr={zh:Gs(dr),Yw:nr};if(!or)return this.qw(Hn,-1,fr);const xr={timeWeight:0,time:ar.Hh,pointData:ar,originalTime:en(ar.Ew)},yr=yt(this.Fw,this.o_.key(xr.time),((_r,Sr)=>this.o_.key(_r.time)<Sr));this.Fw.splice(yr,0,xr);for(let _r=yr;_r<this.Fw.length;++_r)hn(this.Fw[_r].pointData,_r);return this.o_.fillWeightsForPoints(this.Fw,yr),this.qw(Hn,yr,fr)}Zw(Hn,er){const nr=this.Ow.get(Hn);if(nr===void 0||er<=0)return[[],this.Gw()];er=Math.min(er,nr.length);const ir=nr.splice(-er).reverse();nr.length===0?this.Nw.delete(Hn):this.Nw.set(Hn,nr[nr.length-1].wt);for(const rr of ir){const sr=this.Lw.get(this.o_.key(rr.wt));if(sr&&(sr.Ew.delete(Hn),sr.Ew.size===0)){this.Lw.delete(this.o_.key(sr.Hh)),this.Fw.splice(sr.Re,1);for(let ar=sr.Re;ar<this.Fw.length;++ar)hn(this.Fw[ar].pointData,ar)}}return[ir,this.qw(Hn,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(Hn,er){let nr=this.Ow.get(Hn);nr===void 0&&(nr=[],this.Ow.set(Hn,nr));const ir=nr.length!==0?nr[nr.length-1]:null;ir===null||this.o_.key(er.wt)>this.o_.key(ir.wt)?Gs(er)&&nr.push(er):Gs(er)?nr[nr.length-1]=er:nr.splice(-1,1),this.Nw.set(Hn,er.wt)}Kw(Hn,er,nr){const ir=this.Ow.get(Hn);if(ir===void 0)return;const rr=yt(ir,nr,((sr,ar)=>sr.Re<ar));Gs(er)?ir[rr]=er:ir.splice(rr,1)}Uw(Hn,er){er.length!==0?(this.Ow.set(Hn,er.filter(Gs)),this.Nw.set(Hn,er[er.length-1].wt)):(this.Ow.delete(Hn),this.Nw.delete(Hn))}Hw(){for(const Hn of this.Fw)Hn.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(Hn.time))}$w(Hn){let er=-1;for(let nr=0;nr<this.Fw.length&&nr<Hn.length;++nr){const ir=this.Fw[nr],rr=Hn[nr];if(this.o_.key(ir.time)!==this.o_.key(rr.time)){er=nr;break}rr.timeWeight=ir.timeWeight,hn(rr.pointData,nr)}if(er===-1&&this.Fw.length!==Hn.length&&(er=Math.min(this.Fw.length,Hn.length)),er===-1)return-1;for(let nr=er;nr<Hn.length;++nr)hn(Hn[nr].pointData,nr);return this.o_.fillWeightsForPoints(Hn,er),this.Fw=Hn,er}Jw(){if(this.Ow.size===0)return null;let Hn=0;return this.Ow.forEach((er=>{er.length!==0&&(Hn=Math.max(Hn,er[er.length-1].Re))})),Hn}qw(Hn,er,nr){const ir=this.Gw();if(er!==-1)this.Ow.forEach(((rr,sr)=>{ir.Oo.set(sr,{se:rr,Qw:sr===Hn?nr:void 0})})),this.Ow.has(Hn)||ir.Oo.set(Hn,{se:[],Qw:nr}),ir.Et.tg=this.Fw,ir.Et.ig=er;else{const rr=this.Ow.get(Hn);ir.Oo.set(Hn,{se:rr||[],Qw:nr})}return ir}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function hn(tr,Hn){tr.Re=Hn,tr.Ew.forEach((er=>{er.Re=Hn}))}function an(tr,Hn){return tr.wt<Hn}function ln(tr,Hn){return Hn<tr.wt}function on(tr,Hn,er){const nr=Hn.Uh(),ir=Hn.bi(),rr=yt(tr,nr,an),sr=kt(tr,ir,ln);if(!er)return{from:rr,to:sr};let ar=rr,or=sr;return rr>0&&rr<tr.length&&tr[rr].wt>=nr&&(ar=rr-1),sr>0&&sr<tr.length&&tr[sr-1].wt<=ir&&(or=sr+1),{from:ar,to:or}}class _n{constructor(Hn,er,nr){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=Hn,this.Qn=er,this.ag=nr}yt(Hn){this.sg=!0,Hn==="data"&&(this.ng=!0),Hn==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((Hn=>({...Hn,...this.Jn.Rh().Dr(Hn.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const Hn=this.Jn.Ft(),er=this.Qn.Et();if(this.ug(),er.Ki()||Hn.Ki())return;const nr=er.Pe();if(nr===null||this.Jn.Xs().zr()===0)return;const ir=this.Jn.zt();ir!==null&&(this.hg=on(this.rg,nr,this.ag),this.fg(Hn,er,ir.Wt),this.pg())}}class un{constructor(Hn,er){this.vg=Hn,this.Yi=er}nt(Hn,er,nr){this.vg.draw(Hn,this.Yi,er,nr)}}class cn extends _n{constructor(Hn,er,nr){super(Hn,er,!1),this.sh=nr,this.og=new un(this.sh.renderer(),(ir=>{const rr=Hn.zt();return rr===null?null:Hn.Ft().Nt(ir,rr.Wt)}))}da(Hn){return this.sh.priceValueBuilder(Hn)}pa(Hn){return this.sh.isWhitespace(Hn)}cg(){const Hn=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((er=>({wt:er.Re,_t:NaN,...Hn.Dr(er.Re),mg:er.se})))}fg(Hn,er){er.uu(this.rg,b(this.hg))}pg(){this.sh.update({bars:this.rg.map(dn),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function dn(tr){return{x:tr._t,time:tr.wt,originalData:tr.mg,barColor:tr.cr}}const fn={color:"#2196f3"},pn=(tr,Hn,er)=>{const nr=c(er);return new cn(tr,Hn,nr)};function vn(tr){const Hn={value:tr.Wt[3],time:tr.yw};return tr.Iw!==void 0&&(Hn.customValues=tr.Iw),Hn}function mn(tr){const Hn=vn(tr);return tr.R!==void 0&&(Hn.color=tr.R),Hn}function wn(tr){const Hn=vn(tr);return tr.vt!==void 0&&(Hn.lineColor=tr.vt),tr.mr!==void 0&&(Hn.topColor=tr.mr),tr.wr!==void 0&&(Hn.bottomColor=tr.wr),Hn}function gn(tr){const Hn=vn(tr);return tr.gr!==void 0&&(Hn.topLineColor=tr.gr),tr.Mr!==void 0&&(Hn.bottomLineColor=tr.Mr),tr.br!==void 0&&(Hn.topFillColor1=tr.br),tr.Sr!==void 0&&(Hn.topFillColor2=tr.Sr),tr.Cr!==void 0&&(Hn.bottomFillColor1=tr.Cr),tr.Pr!==void 0&&(Hn.bottomFillColor2=tr.Pr),Hn}function Mn(tr){const Hn={open:tr.Wt[0],high:tr.Wt[1],low:tr.Wt[2],close:tr.Wt[3],time:tr.yw};return tr.Iw!==void 0&&(Hn.customValues=tr.Iw),Hn}function bn(tr){const Hn=Mn(tr);return tr.R!==void 0&&(Hn.color=tr.R),Hn}function Sn(tr){const Hn=Mn(tr),{R:er,Ht:nr,vr:ir}=tr;return er!==void 0&&(Hn.color=er),nr!==void 0&&(Hn.borderColor=nr),ir!==void 0&&(Hn.wickColor=ir),Hn}function xn(tr){return{Area:wn,Line:mn,Baseline:gn,Histogram:mn,Bar:bn,Candlestick:Sn,Custom:Cn}[tr]}function Cn(tr){const Hn=tr.yw;return{...tr.se,time:Hn}}const Pn={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},yn={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},kn={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:S,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Tn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Rn={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Dn(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:kn,crosshair:Pn,grid:yn,overlayPriceScales:{...Tn},leftPriceScale:{...Tn,visible:!1},rightPriceScale:{...Tn,visible:!0},timeScale:Rn,localization:{locale:rs?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Vn{constructor(Hn,er,nr){this.Hf=Hn,this.wg=er,this.gg=nr??0}applyOptions(Hn){this.Hf.Qt().oc(this.wg,Hn,this.gg)}options(){return this.Yi().N()}width(){return Z(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(Hn){this.setAutoScale(!1),this.Yi().Fl(new mt(Hn.from,Hn.to))}getVisibleRange(){let Hn,er,nr=this.Yi().Qe();if(nr===null)return null;if(this.Yi().Ja()){const ir=this.Yi().fo(),rr=Fi(ir);nr=ci(nr,this.Yi().tl()),Hn=Number((Math.round(nr.$e()/ir)*ir).toFixed(rr)),er=Number((Math.round(nr.qe()/ir)*ir).toFixed(rr))}else Hn=nr.$e(),er=nr.qe();return{from:Hn,to:er}}setAutoScale(Hn){this.applyOptions({autoScale:Hn})}Yi(){return u(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class Bn{constructor(Hn,er,nr,ir){this.Hf=Hn,this.Pt=nr,this.Mg=er,this.bg=ir}getHeight(){return this.Pt.$t()}setHeight(Hn){const er=this.Hf.Qt(),nr=er.Uc(this.Pt);er.vc(nr,Hn)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(Hn){this.Pt.Io(Hn),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(Hn){const er=this.paneIndex();er!==Hn&&(o(Hn>=0&&Hn<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(er,Hn))}getSeries(){return this.Pt.Oo().map((Hn=>this.Mg(Hn)))??[]}getHTMLElement(){const Hn=this.Hf.$f();return Hn&&Hn.length!==0&&Hn[this.paneIndex()]?Hn[this.paneIndex()].Zf():null}attachPrimitive(Hn){this.Pt._a(Hn),Hn.attached&&Hn.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(Hn){this.Pt.ua(Hn)}priceScale(Hn){if(this.Pt.Do(Hn)===null)throw new Error(`Cannot find price scale with id: ${Hn}`);return new Vn(this.Hf,Hn,this.paneIndex())}setPreserveEmptyPane(Hn){this.Pt.zo(Hn)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(Hn,er={},nr=0){return this.bg.addCustomSeries(Hn,er,nr)}addSeries(Hn,er={}){return this.bg.addSeries(Hn,er,this.paneIndex())}}const In={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class En{constructor(Hn){this.ir=Hn}applyOptions(Hn){this.ir.hr(Hn)}options(){return this.ir.N()}Sg(){return this.ir}}class An{constructor(Hn,er,nr,ir,rr,sr){this.xg=new d,this.Jn=Hn,this.Cg=er,this.Pg=nr,this.o_=rr,this.bg=ir,this.yg=sr}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(Hn){const er=this.Jn.zt();return er===null?null:this.Jn.Ft().Nt(Hn,er.Wt)}coordinateToPrice(Hn){const er=this.Jn.zt();return er===null?null:this.Jn.Ft().Ts(Hn,er.Wt)}barsInLogicalRange(Hn){if(Hn===null)return null;const er=new Vi(new Ti(Hn.from,Hn.to)).y_(),nr=this.Jn.Xs();if(nr.Ki())return null;const ir=nr.Fr(er.Uh(),1),rr=nr.Fr(er.bi(),-1),sr=u(nr.Lr()),ar=u(nr.Ks());if(ir!==null&&rr!==null&&ir.Re>rr.Re)return{barsBefore:Hn.from-sr,barsAfter:ar-Hn.to};const or={barsBefore:ir===null||ir.Re===sr?Hn.from-sr:ir.Re-sr,barsAfter:rr===null||rr.Re===ar?ar-Hn.to:ar-rr.Re};return ir!==null&&rr!==null&&(or.from=ir.yw,or.to=rr.yw),or}setData(Hn){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,Hn),this.Tg("full")}update(Hn,er=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,Hn,er),this.Tg("update")}pop(Hn=1){const er=this.Cg.Dg(this.Jn,Hn);er.length!==0&&this.Tg("update");const nr=xn(this.seriesType());return er.map((ir=>nr(ir)))}dataByIndex(Hn,er){const nr=this.Jn.Xs().Fr(Hn,er);return nr===null?null:xn(this.seriesType())(nr)}data(){const Hn=xn(this.seriesType());return this.Jn.Xs().Hr().map((er=>Hn(er)))}subscribeDataChanged(Hn){this.xg.i(Hn)}unsubscribeDataChanged(Hn){this.xg._(Hn)}applyOptions(Hn){this.Jn.hr(Hn)}options(){return g(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(Hn){const er=f(g(In),Hn),nr=this.Jn.Oh(er);return new En(nr)}removePriceLine(Hn){this.Jn.Nh(Hn.Sg())}priceLines(){return this.Jn.Fh().map((Hn=>new En(Hn)))}seriesType(){return this.Jn.Rr()}lastValueData(Hn){const er=this.Jn.ye(Hn);return er.ke?{noData:!0}:{noData:!1,price:er.gt,color:er.R}}attachPrimitive(Hn){this.Jn._a(Hn),Hn.attached&&Hn.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(Hn){this.Jn.ua(Hn),Hn.detached&&Hn.detached(),this.Jn.Qt().Ih()}getPane(){const Hn=this.Jn,er=u(this.Jn.Qt().Hn(Hn));return this.yg(er)}moveToPane(Hn){this.Jn.Qt().Nc(this.Jn,Hn)}seriesOrder(){const Hn=this.Jn.Qt().Hn(this.Jn);return Hn===null?-1:Hn.Oo().indexOf(this.Jn)}setSeriesOrder(Hn){const er=this.Jn.Qt().Hn(this.Jn);er!==null&&er.Qo(this.Jn,Hn)}Tg(Hn){this.xg.v()&&this.xg.p(Hn)}}class zn{constructor(Hn,er,nr){this.Vg=new d,this.z_=new d,this.gm=new d,this.ts=Hn,this.uh=Hn.Et(),this.Zm=er,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=nr}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(Hn,er){er?this.uh.Tu(Hn,1e3):this.ts.fn(Hn)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const Hn=this.uh.nu();return Hn===null?null:{from:Hn.from.originalTime,to:Hn.to.originalTime}}setVisibleRange(Hn){const er={from:this.o_.convertHorzItemToInternal(Hn.from),to:this.o_.convertHorzItemToInternal(Hn.to)},nr=this.uh.au(er);this.ts.Lc(nr)}getVisibleLogicalRange(){const Hn=this.uh.su();return Hn===null?null:{from:Hn.Uh(),to:Hn.bi()}}setVisibleLogicalRange(Hn){o(Hn.from<=Hn.to,"The from index cannot be after the to index."),this.ts.Lc(Hn)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(Hn){const er=this.ts.Et();return er.Ki()?null:er.qt(Hn)}coordinateToLogical(Hn){return this.uh.Ki()?null:this.uh.cu(Hn)}timeToIndex(Hn,er){const nr=this.o_.convertHorzItemToInternal(Hn);return this.uh.Q_(nr,er)}timeToCoordinate(Hn){const er=this.timeToIndex(Hn,!1);return er===null?null:this.uh.qt(er)}coordinateToTime(Hn){const er=this.ts.Et(),nr=er.cu(Hn),ir=er.ss(nr);return ir===null?null:ir.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(Hn){this.Vg.i(Hn)}unsubscribeVisibleTimeRangeChange(Hn){this.Vg._(Hn)}subscribeVisibleLogicalRangeChange(Hn){this.z_.i(Hn)}unsubscribeVisibleLogicalRangeChange(Hn){this.z_._(Hn)}subscribeSizeChange(Hn){this.gm.i(Hn)}unsubscribeSizeChange(Hn){this.gm._(Hn)}applyOptions(Hn){this.uh.hr(Hn)}options(){return{...g(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(Hn){this.gm.p(Hn.width,Hn.height)}}function Ln(tr){return(function(Hn){if(w(Hn.handleScale)){const nr=Hn.handleScale;Hn.handleScale={axisDoubleClickReset:{time:nr,price:nr},axisPressedMouseMove:{time:nr,price:nr},mouseWheel:nr,pinch:nr}}else if(Hn.handleScale!==void 0){const{axisPressedMouseMove:nr,axisDoubleClickReset:ir}=Hn.handleScale;w(nr)&&(Hn.handleScale.axisPressedMouseMove={time:nr,price:nr}),w(ir)&&(Hn.handleScale.axisDoubleClickReset={time:ir,price:ir})}const er=Hn.handleScroll;w(er)&&(Hn.handleScroll={horzTouchDrag:er,vertTouchDrag:er,mouseWheel:er,pressedMouseMove:er})})(tr),tr}class On{constructor(Hn,er,nr){this.Ag=new Map,this.zg=new Map,this.Lg=new d,this.Og=new d,this.Ng=new d,this.qu=new WeakMap,this.Fg=new rn(er);const ir=nr===void 0?g(Dn()):f(g(Dn()),Ln(nr));this.Wg=er,this.Hf=new Ws(Hn,ir,er),this.Hf.Xv().i((sr=>{this.Lg.v()&&this.Lg.p(this.Hg(sr()))}),this),this.Hf.Zv().i((sr=>{this.Og.v()&&this.Og.p(this.Hg(sr()))}),this),this.Hf.cc().i((sr=>{this.Ng.v()&&this.Ng.p(this.Hg(sr()))}),this);const rr=this.Hf.Qt();this.Ug=new zn(rr,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(Hn,er,nr){this.autoSizeActive()||this.Hf.Jm(Hn,er,nr)}addCustomSeries(Hn,er={},nr=0){const ir=(rr=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...fn,...rr.defaultOptions()},$g:pn,qg:rr}))(c(Hn));return this.Yg(ir,er,nr)}addSeries(Hn,er={},nr=0){return this.Yg(Hn,er,nr)}removeSeries(Hn){const er=_(this.Ag.get(Hn)),nr=this.Fg.Ac(er);this.Hf.Qt().Ac(er),this.jg(nr),this.Ag.delete(Hn),this.zg.delete(er)}kg(Hn,er){this.jg(this.Fg.Ww(Hn,er))}Rg(Hn,er,nr){this.jg(this.Fg.jw(Hn,er,nr))}Dg(Hn,er){const[nr,ir]=this.Fg.Zw(Hn,er);return nr.length!==0&&this.jg(ir),nr}subscribeClick(Hn){this.Lg.i(Hn)}unsubscribeClick(Hn){this.Lg._(Hn)}subscribeCrosshairMove(Hn){this.Ng.i(Hn)}unsubscribeCrosshairMove(Hn){this.Ng._(Hn)}subscribeDblClick(Hn){this.Og.i(Hn)}unsubscribeDblClick(Hn){this.Og._(Hn)}priceScale(Hn,er=0){return new Vn(this.Hf,Hn,er)}timeScale(){return this.Ug}applyOptions(Hn){this.Hf.hr(Ln(Hn))}options(){return this.Hf.N()}takeScreenshot(Hn=!1,er=!1){let nr,ir;try{er||(nr=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),ir=this.Hf.aw(Hn)}finally{er||nr===void 0||this.Hf.Qt().hr({crosshair:{mode:nr}})}return ir}addPane(Hn=!1){const er=this.Hf.Qt().$c();return er.zo(Hn),this.Kg(er)}removePane(Hn){this.Hf.Qt().fc(Hn)}swapPanes(Hn,er){this.Hf.Qt().mc(Hn,er)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((Hn=>this.Kg(Hn)))}paneSize(Hn=0){const er=this.Hf.pw(Hn);return{height:er.height,width:er.width}}setCrosshairPosition(Hn,er,nr){const ir=this.Ag.get(nr);if(ir===void 0)return;const rr=this.Hf.Qt().Hn(ir);rr!==null&&this.Hf.Qt().Rc(Hn,er,rr)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(Hn,er={},nr=0){o(Hn.$g!==void 0),(function(or){if(or===void 0||or.type==="custom")return;const lr=or;lr.minMove!==void 0&&lr.precision===void 0&&(lr.precision=Fi(lr.minMove))})(er.priceFormat),Hn.type==="Candlestick"&&(function(or){or.borderColor!==void 0&&(or.borderUpColor=or.borderColor,or.borderDownColor=or.borderColor),or.wickColor!==void 0&&(or.wickUpColor=or.wickColor,or.wickDownColor=or.wickColor)})(er);const ir=f(g(e),g(Hn.defaultOptions),er),rr=Hn.$g,sr=new Kt(this.Hf.Qt(),Hn.type,ir,rr,Hn.qg);this.Hf.Qt().Ic(sr,nr);const ar=new An(sr,this,this,this,this.Wg,(or=>this.Kg(or)));return this.Ag.set(ar,sr),this.zg.set(sr,ar),ar}jg(Hn){const er=this.Hf.Qt();er.Vc(Hn.Et._u,Hn.Et.tg,Hn.Et.ig),Hn.Oo.forEach(((nr,ir)=>ir.ht(nr.se,nr.Qw))),er.Et().K_(),er.vu()}Xg(Hn){return _(this.zg.get(Hn))}Hg(Hn){const er=new Map;Hn.Dw.forEach(((ir,rr)=>{const sr=rr.Rr(),ar=xn(sr)(ir);if(sr!=="Custom")o($s(ar));else{const or=rr.fa();o(!or||or(ar)===!1)}er.set(this.Xg(rr),ar)}));const nr=Hn.Rw!==void 0&&this.zg.has(Hn.Rw)?this.Xg(Hn.Rw):void 0;return{time:Hn.yw,logical:Hn.Re,point:Hn.kw,paneIndex:Hn.Tw,hoveredSeries:nr,hoveredObjectId:Hn.Vw,seriesData:er,sourceEvent:Hn.Bw}}Kg(Hn){let er=this.qu.get(Hn);return er||(er=new Bn(this.Hf,(nr=>this.Xg(nr)),Hn,this),this.qu.set(Hn,er)),er}}function Nn(tr){if(m(tr)){const Hn=document.getElementById(tr);return o(Hn!==null,`Cannot find element in DOM with id=${tr}`),Hn}return tr}function Fn(tr,Hn,er){const nr=Nn(tr),ir=new On(nr,Hn,er);return Hn.setOptions(ir.options()),ir}function Wn(tr,Hn){return Fn(tr,new es,es.ld(Hn))}class Un extends _n{constructor(Hn,er){super(Hn,er,!0)}fg(Hn,er,nr){er.uu(this.rg,b(this.hg)),Hn.Ul(this.rg,nr,b(this.hg))}Zg(Hn,er){return{wt:Hn,gt:er,_t:NaN,ut:NaN}}cg(){const Hn=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((er=>{const nr=er.Wt[3];return this.Gg(er.Re,nr,Hn)}))}}function $n(tr,Hn,er,nr,ir,rr,sr){if(Hn.length===0||nr.from>=Hn.length||nr.to<=0)return;const{context:ar,horizontalPixelRatio:or,verticalPixelRatio:lr}=tr,cr=Hn[nr.from];let ur=rr(tr,cr),dr=cr;if(nr.to-nr.from<2){const fr=ir/2;ar.beginPath();const xr={_t:cr._t-fr,ut:cr.ut},yr={_t:cr._t+fr,ut:cr.ut};ar.moveTo(xr._t*or,xr.ut*lr),ar.lineTo(yr._t*or,yr.ut*lr),sr(tr,ur,xr,yr)}else{const fr=(yr,_r)=>{sr(tr,ur,dr,_r),ar.beginPath(),ur=yr,dr=_r};let xr=dr;ar.beginPath(),ar.moveTo(cr._t*or,cr.ut*lr);for(let yr=nr.from+1;yr<nr.to;++yr){xr=Hn[yr];const _r=rr(tr,xr);switch(er){case 0:ar.lineTo(xr._t*or,xr.ut*lr);break;case 1:ar.lineTo(xr._t*or,Hn[yr-1].ut*lr),_r!==ur&&(fr(_r,xr),ar.lineTo(xr._t*or,Hn[yr-1].ut*lr)),ar.lineTo(xr._t*or,xr.ut*lr);break;case 2:{const[Sr,jr]=Kn(Hn,yr-1,yr);ar.bezierCurveTo(Sr._t*or,Sr.ut*lr,jr._t*or,jr.ut*lr,xr._t*or,xr.ut*lr);break}}er!==1&&_r!==ur&&(fr(_r,xr),ar.moveTo(xr._t*or,xr.ut*lr))}(dr!==xr||dr===xr&&er===1)&&sr(tr,ur,dr,xr)}}const qn=6;function Yn(tr,Hn){return{_t:tr._t-Hn._t,ut:tr.ut-Hn.ut}}function jn(tr,Hn){return{_t:tr._t/Hn,ut:tr.ut/Hn}}function Kn(tr,Hn,er){const nr=Math.max(0,Hn-1),ir=Math.min(tr.length-1,er+1);var rr,sr;return[(rr=tr[Hn],sr=jn(Yn(tr[er],tr[nr]),qn),{_t:rr._t+sr._t,ut:rr.ut+sr.ut}),Yn(tr[er],jn(Yn(tr[ir],tr[Hn]),qn))]}function Xn(tr,Hn){const er=tr.context;er.strokeStyle=Hn,er.stroke()}class Zn extends R{constructor(){super(...arguments),this.rt=null}ht(Hn){this.rt=Hn}et(Hn){if(this.rt===null)return;const{ot:er,lt:nr,Jg:ir,Qg:rr,ct:sr,Xt:ar,tM:or}=this.rt;if(nr===null)return;const lr=Hn.context;lr.lineCap="butt",lr.lineWidth=sr*Hn.verticalPixelRatio,a(lr,ar),lr.lineJoin="round";const cr=this.iM.bind(this);rr!==void 0&&$n(Hn,er,rr,nr,ir,cr,Xn),or&&(function(ur,dr,fr,xr,yr){if(xr.to-xr.from<=0)return;const{horizontalPixelRatio:_r,verticalPixelRatio:Sr,context:jr}=ur;let Dr=null;const Ir=Math.max(1,Math.floor(_r))%2/2,Mr=fr*Sr+Ir;for(let Or=xr.to-1;Or>=xr.from;--Or){const Lr=dr[Or];if(Lr){const Fr=yr(ur,Lr);Fr!==Dr&&(jr.beginPath(),Dr!==null&&jr.fill(),jr.fillStyle=Fr,Dr=Fr);const Vr=Math.round(Lr._t*_r)+Ir,Zr=Lr.ut*Sr;jr.moveTo(Vr,Zr),jr.arc(Vr,Zr,Mr,0,2*Math.PI)}}jr.fill()})(Hn,er,or,nr,cr)}}class Gn extends Zn{iM(Hn,er){return er.vt}}class Jn extends Un{constructor(){super(...arguments),this.og=new Gn}Gg(Hn,er,nr){return{...this.Zg(Hn,er),...nr.Dr(Hn)}}pg(){const Hn=this.Jn.N(),er={ot:this.rg,Xt:Hn.lineStyle,Qg:Hn.lineVisible?Hn.lineType:void 0,ct:Hn.lineWidth,tM:Hn.pointMarkersVisible?Hn.pointMarkersRadius||Hn.lineWidth/2+2:void 0,lt:this.hg,Jg:this.Qn.Et().mu()};this.og.ht(er)}}const Qn={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(tr,Hn)=>new Jn(tr,Hn)};function oe(tr,Hn,er,nr,ir){const{context:rr,horizontalPixelRatio:sr,verticalPixelRatio:ar}=Hn;rr.lineTo(ir._t*sr,tr*ar),rr.lineTo(nr._t*sr,tr*ar),rr.closePath(),rr.fillStyle=er,rr.fill()}class _e extends R{constructor(){super(...arguments),this.rt=null}ht(Hn){this.rt=Hn}et(Hn){if(this.rt===null)return;const{ot:er,lt:nr,Jg:ir,ct:rr,Xt:sr,Qg:ar}=this.rt,or=this.rt.lM??(this.rt.oM?0:Hn.mediaSize.height);if(nr===null)return;const lr=Hn.context;lr.lineCap="butt",lr.lineJoin="round",lr.lineWidth=rr,a(lr,sr),lr.lineWidth=1,$n(Hn,er,ar,nr,ir,this._M.bind(this),oe.bind(null,or))}}class ue{uM(Hn,er){const nr=this.cM,{dM:ir,fM:rr,pM:sr,vM:ar,lM:or,mM:lr,wM:cr}=er;if(this.gM===void 0||nr===void 0||nr.dM!==ir||nr.fM!==rr||nr.pM!==sr||nr.vM!==ar||nr.lM!==or||nr.mM!==lr||nr.wM!==cr){const{verticalPixelRatio:ur}=Hn,dr=or||lr>0?ur:1,fr=lr*dr,xr=cr===Hn.bitmapSize.height?cr:cr*dr,yr=(or??0)*dr,_r=Hn.context.createLinearGradient(0,fr,0,xr);if(_r.addColorStop(0,ir),or!=null){const Sr=Jt((yr-fr)/(xr-fr),0,1);_r.addColorStop(Sr,rr),_r.addColorStop(Sr,sr)}_r.addColorStop(1,ar),this.gM=_r,this.cM=er}return this.gM}}class ve extends _e{constructor(){super(...arguments),this.MM=new ue}_M(Hn,er){return this.MM.uM(Hn,{dM:er.mr,fM:"",pM:"",vM:er.wr,mM:this.rt?.mM??0,wM:Hn.bitmapSize.height})}}class me extends Un{constructor(Hn,er){super(Hn,er),this.og=new T,this.CM=new ve,this.PM=new Gn,this.og.st([this.CM,this.PM])}Gg(Hn,er,nr){return{...this.Zg(Hn,er),...nr.Dr(Hn)}}pg(){const Hn=this.Jn.N();if(this.hg===null||this.rg.length===0)return;let er;if(Hn.relativeGradient){er=this.rg[this.hg.from].ut;for(let nr=this.hg.from;nr<this.hg.to;nr++){const ir=this.rg[nr];ir.ut<er&&(er=ir.ut)}}this.CM.ht({Qg:Hn.lineType,ot:this.rg,Xt:Hn.lineStyle,ct:Hn.lineWidth,lM:null,mM:er,oM:Hn.invertFilledArea,lt:this.hg,Jg:this.Qn.Et().mu()}),this.PM.ht({Qg:Hn.lineVisible?Hn.lineType:void 0,ot:this.rg,Xt:Hn.lineStyle,ct:Hn.lineWidth,lt:this.hg,Jg:this.Qn.Et().mu(),tM:Hn.pointMarkersVisible?Hn.pointMarkersRadius||Hn.lineWidth/2+2:void 0})}}const we={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(tr,Hn)=>new me(tr,Hn)};class Me extends _n{constructor(Hn,er){super(Hn,er,!1)}fg(Hn,er,nr){er.uu(this.rg,b(this.hg)),Hn.ql(this.rg,nr,b(this.hg))}VM(Hn,er,nr){return{wt:Hn,qh:er.Wt[0],Yh:er.Wt[1],jh:er.Wt[2],Kh:er.Wt[3],_t:NaN,Yl:NaN,jl:NaN,Kl:NaN,Xl:NaN}}cg(){const Hn=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((er=>this.Gg(er.Re,er,Hn)))}}class xe extends R{constructor(){super(...arguments),this.Yt=null,this.yM=0}ht(Hn){this.Yt=Hn}et(Hn){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:er}=Hn;this.yM=(function(rr,sr){if(rr>=2.5&&rr<=4)return Math.floor(3*sr);const ar=1-.2*Math.atan(Math.max(4,rr)-4)/(.5*Math.PI),or=Math.floor(rr*ar*sr),lr=Math.floor(rr*sr),cr=Math.min(or,lr);return Math.max(Math.floor(sr),cr)})(this.Yt.mu,er),this.yM>=2&&Math.floor(er)%2!=this.yM%2&&this.yM--;const nr=this.Yt.Xs;this.Yt.BM&&this.IM(Hn,nr,this.Yt.lt),this.Yt.Mi&&this.uv(Hn,nr,this.Yt.lt);const ir=this.EM(er);(!this.Yt.Mi||this.yM>2*ir)&&this.AM(Hn,nr,this.Yt.lt)}IM(Hn,er,nr){if(this.Yt===null)return;const{context:ir,horizontalPixelRatio:rr,verticalPixelRatio:sr}=Hn;let ar="",or=Math.min(Math.floor(rr),Math.floor(this.Yt.mu*rr));or=Math.max(Math.floor(rr),Math.min(or,this.yM));const lr=Math.floor(.5*or);let cr=null;for(let ur=nr.from;ur<nr.to;ur++){const dr=er[ur];dr.pr!==ar&&(ir.fillStyle=dr.pr,ar=dr.pr);const fr=Math.round(Math.min(dr.Yl,dr.Xl)*sr),xr=Math.round(Math.max(dr.Yl,dr.Xl)*sr),yr=Math.round(dr.jl*sr),_r=Math.round(dr.Kl*sr);let Sr=Math.round(rr*dr._t)-lr;const jr=Sr+or-1;cr!==null&&(Sr=Math.max(cr+1,Sr),Sr=Math.min(Sr,jr));const Dr=jr-Sr+1;ir.fillRect(Sr,yr,Dr,fr-yr),ir.fillRect(Sr,xr+1,Dr,_r-xr),cr=jr}}EM(Hn){let er=Math.floor(1*Hn);this.yM<=2*er&&(er=Math.floor(.5*(this.yM-1)));const nr=Math.max(Math.floor(Hn),er);return this.yM<=2*nr?Math.max(Math.floor(Hn),Math.floor(1*Hn)):nr}uv(Hn,er,nr){if(this.Yt===null)return;const{context:ir,horizontalPixelRatio:rr,verticalPixelRatio:sr}=Hn;let ar="";const or=this.EM(rr);let lr=null;for(let cr=nr.from;cr<nr.to;cr++){const ur=er[cr];ur.dr!==ar&&(ir.fillStyle=ur.dr,ar=ur.dr);let dr=Math.round(ur._t*rr)-Math.floor(.5*this.yM);const fr=dr+this.yM-1,xr=Math.round(Math.min(ur.Yl,ur.Xl)*sr),yr=Math.round(Math.max(ur.Yl,ur.Xl)*sr);if(lr!==null&&(dr=Math.max(lr+1,dr),dr=Math.min(dr,fr)),this.Yt.mu*rr>2*or)z(ir,dr,xr,fr-dr+1,yr-xr+1,or);else{const _r=fr-dr+1;ir.fillRect(dr,xr,_r,yr-xr+1)}lr=fr}}AM(Hn,er,nr){if(this.Yt===null)return;const{context:ir,horizontalPixelRatio:rr,verticalPixelRatio:sr}=Hn;let ar="";const or=this.EM(rr);for(let lr=nr.from;lr<nr.to;lr++){const cr=er[lr];let ur=Math.round(Math.min(cr.Yl,cr.Xl)*sr),dr=Math.round(Math.max(cr.Yl,cr.Xl)*sr),fr=Math.round(cr._t*rr)-Math.floor(.5*this.yM),xr=fr+this.yM-1;if(cr.cr!==ar){const yr=cr.cr;ir.fillStyle=yr,ar=yr}this.Yt.Mi&&(fr+=or,ur+=or,xr-=or,dr-=or),ur>dr||ir.fillRect(fr,ur,xr-fr+1,dr-ur+1)}}}class Ce extends Me{constructor(){super(...arguments),this.og=new xe}Gg(Hn,er,nr){return{...this.VM(Hn,er,nr),...nr.Dr(Hn)}}pg(){const Hn=this.Jn.N();this.og.ht({Xs:this.rg,mu:this.Qn.Et().mu(),BM:Hn.wickVisible,Mi:Hn.borderVisible,lt:this.hg})}}const Pe={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$g:(tr,Hn)=>new Ce(tr,Hn)};class ye extends R{constructor(){super(...arguments),this.Yt=null,this.zM=[]}ht(Hn){this.Yt=Hn,this.zM=[]}et({context:Hn,horizontalPixelRatio:er,verticalPixelRatio:nr}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.zM.length||this.LM(er);const ir=Math.max(1,Math.floor(nr)),rr=Math.round(this.Yt.OM*nr)-Math.floor(ir/2),sr=rr+ir;for(let ar=this.Yt.lt.from;ar<this.Yt.lt.to;ar++){const or=this.Yt.ot[ar],lr=this.zM[ar-this.Yt.lt.from],cr=Math.round(or.ut*nr);let ur,dr;Hn.fillStyle=or.cr,cr<=rr?(ur=cr,dr=sr):(ur=rr,dr=cr-Math.floor(ir/2)+ir),Hn.fillRect(lr.Uh,ur,lr.bi-lr.Uh+1,dr-ur)}}LM(Hn){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.zM=[]);const er=Math.ceil(this.Yt.mu*Hn)<=1?0:Math.max(1,Math.floor(Hn)),nr=Math.round(this.Yt.mu*Hn)-er;this.zM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let rr=this.Yt.lt.from;rr<this.Yt.lt.to;rr++){const sr=this.Yt.ot[rr],ar=Math.round(sr._t*Hn);let or,lr;if(nr%2){const cr=(nr-1)/2;or=ar-cr,lr=ar+cr}else{const cr=nr/2;or=ar-cr,lr=ar+cr-1}this.zM[rr-this.Yt.lt.from]={Uh:or,bi:lr,NM:ar,ne:sr._t*Hn,wt:sr.wt}}for(let rr=this.Yt.lt.from+1;rr<this.Yt.lt.to;rr++){const sr=this.zM[rr-this.Yt.lt.from],ar=this.zM[rr-this.Yt.lt.from-1];sr.wt===ar.wt+1&&sr.Uh-ar.bi!==er+1&&(ar.NM>ar.ne?ar.bi=sr.Uh-er-1:sr.Uh=ar.bi+er+1)}let ir=Math.ceil(this.Yt.mu*Hn);for(let rr=this.Yt.lt.from;rr<this.Yt.lt.to;rr++){const sr=this.zM[rr-this.Yt.lt.from];sr.bi<sr.Uh&&(sr.bi=sr.Uh);const ar=sr.bi-sr.Uh+1;ir=Math.min(ar,ir)}if(er>0&&ir<4)for(let rr=this.Yt.lt.from;rr<this.Yt.lt.to;rr++){const sr=this.zM[rr-this.Yt.lt.from];sr.bi-sr.Uh+1>ir&&(sr.NM>sr.ne?sr.bi-=1:sr.Uh+=1)}}}class ke extends Un{constructor(){super(...arguments),this.og=new ye}Gg(Hn,er,nr){return{...this.Zg(Hn,er),...nr.Dr(Hn)}}pg(){const Hn={ot:this.rg,mu:this.Qn.Et().mu(),lt:this.hg,OM:this.Jn.Ft().Nt(this.Jn.N().base,u(this.Jn.zt()).Wt)};this.og.ht(Hn)}}const Te={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},$g:(tr,Hn)=>new ke(tr,Hn)};({...e});const SLVTradingChart=()=>{const tr=reactExports.useRef(),Hn=reactExports.useRef();reactExports.useRef(),reactExports.useRef();const[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("market"),[sr,ar]=reactExports.useState("1M"),[or,lr]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{const xr=((await axios.get("https://api_gold.thinkdiff.us/SLV_von_vao")).data.slv_market_data_daily||[]).filter(yr=>yr.trade_date&&yr.close_price!=null).sort((yr,_r)=>new Date(yr.trade_date)-new Date(_r.trade_date)).map(yr=>({time:yr.trade_date,open:Number(yr.open_price),high:Number(yr.high_price),low:Number(yr.low_price),close:Number(yr.close_price),volume:Number(yr.volume),color:Number(yr.close_price)>=Number(yr.open_price)?"#26a69a":"#ef5350"}));nr(xr),lr(!1)}catch{lr(!1)}})()},[]);const cr=reactExports.useMemo(()=>{if(!er.length)return[];if(sr==="ALL")return er;const ur=new Date(er[er.length-1].time);let dr=new Date(ur);return sr==="1W"?dr.setDate(ur.getDate()-7):sr==="1M"?dr.setMonth(ur.getMonth()-1):sr==="3M"?dr.setMonth(ur.getMonth()-3):sr==="1Y"&&dr.setFullYear(ur.getFullYear()-1),er.filter(fr=>new Date(fr.time)>=dr)},[er,sr]);return reactExports.useEffect(()=>{if(!tr.current||cr.length===0||ir!=="market")return;const ur=window.innerWidth<=768,dr=Wn(tr.current,{width:tr.current.clientWidth,height:tr.current.clientHeight,layout:{background:{color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},timeScale:{borderColor:"#2a2e39",timeVisible:!0,barSpacing:ur?8:12,minBarSpacing:5},rightPriceScale:{borderColor:"#2a2e39",autoScale:!0,scaleMargins:{top:.1,bottom:ur?.3:.25}}}),fr=dr.addSeries(Pe,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),xr=dr.addSeries(Te,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:ur?.94:.9,bottom:0}});fr.setData(cr),xr.setData(cr.map(_r=>({time:_r.time,value:_r.volume,color:_r.color}))),dr.timeScale().fitContent(),Hn.current=dr;const yr=()=>{if(Hn.current&&tr.current){const _r=window.innerWidth<=768;Hn.current.applyOptions({width:tr.current.clientWidth,height:tr.current.clientHeight,rightPriceScale:{scaleMargins:{top:.1,bottom:_r?.3:.25}}}),xr.applyOptions({scaleMargins:{top:_r?.94:.9,bottom:0}})}};return window.addEventListener("resize",yr),()=>{window.removeEventListener("resize",yr),dr.remove()}},[cr,ir]),or?jsxRuntimeExports.jsx("div",{style:{height:"100vh",background:"#131722"}}):jsxRuntimeExports.jsxs("div",{style:{background:"#131722",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",color:"#d1d4dc"},children:[jsxRuntimeExports.jsx("style",{children:`
        .slv-header { display: flex; justify-content: space-between; padding: 10px 15px; background: #1c202b; border-bottom: 1px solid #2a2e39; flex-shrink: 0; }
        .tab-item { color: #787b86; cursor: pointer; font-weight: bold; font-size: 13px; padding-bottom: 5px; border-bottom: 2px solid transparent; margin-right: 20px; }
        .tab-item.active { color: #fff; border-bottom: 2px solid #2962ff; }
        .slv-btns { display: flex; gap: 5px; flex-wrap: wrap; justify-content: flex-end; max-width: 70%; }
        .slv-btns button { background: #2a2e39; color: #b2b5be; border: none; padding: 5px 10px; cursor: pointer; font-weight: bold; font-size: 10px; border-radius: 2px; white-space: nowrap; }
        .slv-btns button.active { background: #2962ff; color: white; }
        .data-table-container { height: 100%; overflow-y: auto; background: #131722; padding: 0 10px; overflow-x: auto; }
        .slv-table { width: 100%; border-collapse: collapse; font-size: 13px; text-align: right; min-width: 600px; }
        .slv-table th { position: sticky; top: 0; background: #1c202b; color: #787b86; padding: 12px; font-weight: normal; border-bottom: 1px solid #2a2e39; z-index: 10; }
        .slv-table td { padding: 10px; border-bottom: 1px solid #1e222d; }
        .text-up { color: #26a69a; }
        .text-down { color: #ef5350; }

        @media (max-width: 768px) {
          .slv-table { font-size: 11px; min-width: 500px; }
          .slv-table td, .slv-table th { padding: 8px 5px; }
          .slv-header { flex-direction: column; gap: 8px; align-items: flex-start; padding: 8px 12px; }
          .slv-btns { max-width: 100%; justify-content: flex-start; }
          .tab-item { margin-right: 15px; font-size: 12px; }
        }
      `}),jsxRuntimeExports.jsxs("div",{className:"slv-header",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{className:`tab-item ${ir==="market"?"active":""}`,onClick:()=>rr("market"),children:"MARKET CHART"}),jsxRuntimeExports.jsx("div",{className:`tab-item ${ir==="darkpool"?"active":""}`,onClick:()=>rr("darkpool"),children:"PRICE & VOLUME"})]}),ir==="market"&&jsxRuntimeExports.jsxs("div",{className:"slv-btns",children:[jsxRuntimeExports.jsx("button",{className:sr==="1W"?"active":"",onClick:()=>ar("1W"),children:"1 TUN"}),jsxRuntimeExports.jsx("button",{className:sr==="1M"?"active":"",onClick:()=>ar("1M"),children:"1 THNG"}),jsxRuntimeExports.jsx("button",{className:sr==="3M"?"active":"",onClick:()=>ar("3M"),children:"3 THNG"}),jsxRuntimeExports.jsx("button",{className:sr==="1Y"?"active":"",onClick:()=>ar("1Y"),children:"1 NM"}),jsxRuntimeExports.jsx("button",{className:sr==="ALL"?"active":"",onClick:()=>ar("ALL"),children:"TT C"})]})]}),jsxRuntimeExports.jsx("div",{className:"chart-box-container",style:{flexGrow:1,position:"relative",overflow:"hidden"},children:ir==="market"?jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",height:"100%"}}):jsxRuntimeExports.jsx("div",{className:"data-table-container",children:jsxRuntimeExports.jsxs("table",{className:"slv-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{style:{textAlign:"left"},children:"Date (EST)"}),jsxRuntimeExports.jsx("th",{children:"Open"}),jsxRuntimeExports.jsx("th",{children:"High"}),jsxRuntimeExports.jsx("th",{children:"Low"}),jsxRuntimeExports.jsx("th",{children:"Close"}),jsxRuntimeExports.jsx("th",{children:"Change"}),jsxRuntimeExports.jsx("th",{children:"Volume"})]})}),jsxRuntimeExports.jsx("tbody",{children:[...er].reverse().map((ur,dr)=>{const fr=ur.close>=ur.open,xr=(ur.close-ur.open).toFixed(2);return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{textAlign:"left"},children:ur.time}),jsxRuntimeExports.jsx("td",{children:ur.open.toFixed(2)}),jsxRuntimeExports.jsx("td",{children:ur.high.toFixed(2)}),jsxRuntimeExports.jsx("td",{children:ur.low.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:fr?"text-up":"text-down",children:ur.close.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:fr?"text-up":"text-down",children:fr?`+${xr}`:xr}),jsxRuntimeExports.jsx("td",{children:ur.volume.toLocaleString()})]},dr)})})]})})})]})},API_URL$4="https://api_gold.thinkdiff.us/compare_shanghai_comex_silver";function formatPercent(tr){return(tr>0?"+":"")+Number(tr).toFixed(2)+"%"}function CompareShanghaiComex({apiUrl:tr=API_URL$4,height:Hn=450}){const er=useNavigate(),[nr,ir]=reactExports.useState("silver"),[rr,sr]=reactExports.useState("1 Tun"),[ar,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState([]),[fr,xr]=reactExports.useState([]),[yr,_r]=reactExports.useState([]),[Sr,jr]=reactExports.useState([]),[Dr,Ir]=reactExports.useState([]),Mr=reactExports.useRef(),Or=reactExports.useRef();reactExports.useEffect(()=>{let uo=!0;async function so(){try{or(!0);const po=await(await fetch(tr)).json(),co=nr.includes("gold")?"gold":"silver",ao=(po?.data?.[co]?.data||[]).slice().sort((Po,Oo)=>new Date(Po.date)-new Date(Oo.date));if(!uo)return;jr(ao);const xo=new Date;let _o=[...ao];if(rr!=="ALL"){const Po=new Date;rr==="1 Tun"?Po.setDate(xo.getDate()-7):rr==="1 Thng"?Po.setMonth(xo.getMonth()-1):rr==="1 Nm"&&Po.setFullYear(xo.getFullYear()-1),_o=ao.filter(Oo=>new Date(Oo.date)>=Po)}if(Ir(_o),nr.includes("premium")){const Po=_o.map(Oo=>({time:Oo.date,value:Number(Oo.premium||Oo.shanghai-Oo.western)}));_r(Po),dr([]),xr([])}else{const Po=_o.map(So=>({time:So.date,value:Number(So.shanghai)})),Oo=_o.map(So=>({time:So.date,value:Number(So.western)}));dr(Po),xr(Oo),_r([])}}catch(no){cr(no?.message||"Error fetching data")}finally{or(!1)}}return so(),()=>{uo=!1}},[tr,nr,rr]),reactExports.useEffect(()=>{if(!Mr.current||ar)return;const uo=Wn(Mr.current,{width:Mr.current.clientWidth,height:300,layout:{background:{color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},timeScale:{borderColor:"#2a2e39",timeVisible:!0},rightPriceScale:{borderColor:"#2a2e39",autoScale:!0,scaleMargins:{top:.1,bottom:.1}}});if(Or.current=uo,nr.includes("premium")){const no=nr==="gold_premium"?"#c9b458":"#b5b7b9";uo.addSeries(we,{lineColor:no,topColor:`${no}44`,bottomColor:`${no}00`,lineWidth:2}).setData(yr)}else{const no=uo.addSeries(Qn,{color:"#e04646",lineWidth:2}),po=uo.addSeries(Qn,{color:"#3b8be6",lineWidth:2});no.setData(ur),po.setData(fr)}uo.timeScale().fitContent();const so=()=>uo.applyOptions({width:Mr.current.clientWidth});return window.addEventListener("resize",so),()=>{window.removeEventListener("resize",so),uo.remove()}},[ar,nr,ur,fr,yr]);const{latest:Lr,avgPremium:Fr,avgPremiumPercent:Vr,maxPremium:Zr,minPremium:Hr}=reactExports.useMemo(()=>{if(!Sr.length)return{latest:null,avgPremium:0,avgPremiumPercent:0,maxPremium:0,minPremium:0};const uo=Sr[Sr.length-1];let so=0,no=0,po=-1/0,co=1/0;for(const lo of Sr){const ao=Number(lo.premium||lo.shanghai-lo.western);so+=ao,no+=Number(lo.premiumPercent||0),ao>po&&(po=ao),ao<co&&(co=ao)}return{latest:uo,avgPremium:so/Sr.length,avgPremiumPercent:no/Sr.length,maxPremium:po,minPremium:co}},[Sr]),Yr=uo=>{if(!uo||uo.length<2)return 0;const so=uo[0].value;return(uo[uo.length-1].value-so)/Math.abs(so||1)*100},eo=Yr(ur),io=Yr(fr);return jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__tabs",children:[jsxRuntimeExports.jsx("button",{className:`tab-btn ${nr==="gold"?"active":""}`,onClick:()=>ir("gold"),children:"Gold"}),jsxRuntimeExports.jsx("button",{className:`tab-btn ${nr==="silver"?"active":""}`,onClick:()=>ir("silver"),children:"Silver"}),jsxRuntimeExports.jsx("button",{className:`tab-btn premium-gold-btn ${nr==="gold_premium"?"active":""}`,onClick:()=>ir("gold_premium"),children:"Chnh Vng"}),jsxRuntimeExports.jsx("button",{className:`tab-btn premium-silver-btn ${nr==="silver_premium"?"active":""}`,onClick:()=>ir("silver_premium"),children:"Chnh Bc"})]}),jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__stats-row",children:[jsxRuntimeExports.jsxs("div",{className:"stat-card highlight",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Shanghai Spot"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Lr?`$${Number(Lr.shanghai).toFixed(2)}`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card highlight",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Western Spot"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Lr?`$${Number(Lr.western).toFixed(2)}`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card premium",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Premium"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Lr?`${Number(Lr.premium||Lr.shanghai-Lr.western)>0?"+":""}$${Number(Lr.premium||Lr.shanghai-Lr.western).toFixed(2)}`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card premium",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Premium %"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Lr?`${(Lr.premiumPercent||0)>0?"+":""}${Number(Lr.premiumPercent||0).toFixed(2)}%`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"vs Western spot"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card small",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Avg Premium (1Y)"}),jsxRuntimeExports.jsxs("div",{className:"stat-value",children:["$",Fr.toFixed(2)," ",jsxRuntimeExports.jsxs("span",{className:"muted",children:["(",Vr.toFixed(2),"%)"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card small",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Max Premium"}),jsxRuntimeExports.jsxs("div",{className:"stat-value",children:["$",Zr.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card small",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Min Premium"}),jsxRuntimeExports.jsxs("div",{className:"stat-value",children:["$",Hr.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__header",children:[jsxRuntimeExports.jsx("div",{className:"compare-shanghai-comex__title",onClick:()=>er("/shanghaichart"),style:{cursor:"pointer"},children:nr.includes("premium")?`Chnh lch ${nr.includes("gold")?"Vng":"Bc"} (Shanghai - Western)`:`Shanghai vs Western ${nr.toUpperCase()}  Spot`}),!nr.includes("premium")&&jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__legend",children:[jsxRuntimeExports.jsxs("div",{className:"legend-item",children:[jsxRuntimeExports.jsx("span",{className:"dot dot-sh"}),jsxRuntimeExports.jsx("span",{className:"legend-label",children:"Shanghai Spot"}),jsxRuntimeExports.jsx("span",{className:"legend-value",children:formatPercent(eo)})]}),jsxRuntimeExports.jsxs("div",{className:"legend-item",children:[jsxRuntimeExports.jsx("span",{className:"dot dot-w"}),jsxRuntimeExports.jsx("span",{className:"legend-label",children:"Western Spot"}),jsxRuntimeExports.jsx("span",{className:"legend-value",children:formatPercent(io)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__chart-container",children:[ar?jsxRuntimeExports.jsx("div",{className:"loading-overlay",children:"Loading data..."}):jsxRuntimeExports.jsx("div",{ref:Mr,style:{width:"100%",height:"300px"}}),jsxRuntimeExports.jsx("div",{className:"timeframe-selector",children:["1 Tun","1 Thng","1 Nm","ALL"].map(uo=>jsxRuntimeExports.jsx("button",{className:`tf-btn ${rr===uo?"active":""}`,onClick:()=>sr(uo),children:uo},uo))})]})]})}const HomePage=({setNewsInAPI:tr})=>{const Hn=useNavigate(),er=useParams(),nr=useLocation(),ir=!!er.symbol,[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(null),[fr,xr]=reactExports.useState({sortBy:"reputation",sortOrder:"desc",distanceKm:"20"}),[yr,_r]=reactExports.useState(!0),Sr=no=>{const po=(jr.region||"").toString(),co=(jr.type||"").toString();return no?`skipUpdate:${po}:${co}:${no.day}:${no.month}:${no.year}:${no.hour}:${no.minute}`:`skipUpdate:${po}:${co}`},jr=reactExports.useMemo(()=>({day:er.day,month:er.month,year:er.year,hour:er.hour,minute:er.minute,region:er.region||"Vietnam",type:er.type||"gold"}),[er]);reactExports.useMemo(()=>jr.type,[jr.type]);const{loading:Dr,error:Ir,displayedPrices:Mr,loadingProgress:Or,availableCountries:Lr,fomo:Fr,news:Vr,charts:Zr}=UseGoldOneDayPrices(jr),Hr=()=>{cr(!1),Hn(`/vietnam/gold/${ur?.day}/${ur?.month}/${ur?.year}/${ur?.hour}/${ur?.minute}`)},Yr=()=>{try{const no=er.hour?Number(er.hour):0,po=er.minute?Number(er.minute):0,co=Sr({day:Number(er.day),month:Number(er.month),year:Number(er.year),hour:no,minute:po}),lo=new Date(Number(er.year),Number(er.month)-1,Number(er.day),no,po).getTime();localStorage.setItem(co,String(lo))}catch(no){console.warn("Could not persist skipUpdate:",no)}cr(!1)},eo={PRICE:"price",ANALYSIS:"analysis",GLOBAL:"global"},[io,uo]=reactExports.useState(eo.PRICE);reactExports.useEffect(()=>{const po=new URLSearchParams(nr.search).get("view");if(po&&Object.values(eo).includes(po)){uo(po);return}const co=[eo.PRICE,eo.ANALYSIS,eo.GLOBAL],lo=localStorage.getItem("home:lastView"),ao=lo?co.filter(_o=>_o!==lo):co,xo=ao[Math.floor(Math.random()*ao.length)];uo(xo),localStorage.setItem("home:lastView",xo)},[nr.search]),reactExports.useEffect(()=>{if(ir)return;if(!(er.day&&er.month&&er.year)&&Mr?.latestDate){const po=Mr.latestDate;Hn(`/${jr.region}/${jr.type}/${po.day}/${po.month}/${po.year}/${po.hour}/${po.minute}`,{replace:!0})}},[Mr,Hn,ir,er,jr]),reactExports.useEffect(()=>{!ir&&Vr&&tr(Vr)},[Vr,ir,tr]);const so=reactExports.useCallback(no=>{ir||Hn(`/${no.region}/${no.type}/${no.day}/${no.month}/${no.year}/${no.hour}/${no.minute}`,{replace:!0})},[Hn,ir]);return reactExports.useEffect(()=>{fetchSharkData("ALL").then(sr).catch(()=>{}),fetchSharkData("DAY").then(or).catch(()=>{}),logUserInfo("HomePage")},[]),reactExports.useEffect(()=>{if(yr)return;const no=new URLSearchParams(nr.search);no.get("view")!==io&&(no.set("view",io),Hn(`${nr.pathname}?${no.toString()}`,{replace:!0}))},[io,yr,nr.search,nr.pathname,Hn]),reactExports.useEffect(()=>{const po=new URLSearchParams(nr.search).get("vendor");if(!po)return;const co=setTimeout(()=>{const lo=document.querySelectorAll("[data-vendor]");for(const ao of lo)if(ao.dataset.vendor===po){try{ao.scrollIntoView({behavior:"smooth",block:"center"})}catch{ao.scrollIntoView()}break}},150);return()=>clearTimeout(co)},[nr.search]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UpdateDataModal,{isVisible:lr,latestData:ur,onConfirm:Hr,onCancel:Yr}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx(MultiChartViewer,{symbol:er.symbol,fomo:Fr}),jsxRuntimeExports.jsx(BlackMarketExchangeRateSection,{}),io===eo.PRICE&&jsxRuntimeExports.jsx(GoldPriceDashboard,{loading:Dr,error:Ir,displayedPrices:Mr,filterOptions:jr,onFilterChange:so,loadingProgress:Or,availableCountries:Lr,showAnalysis:io===eo.ANALYSIS,onToggleAnalysis:()=>{setUserToggledAnalysis(!0),uo(eo.ANALYSIS)},exchangeRateUSD:Fr?.ty_gia_usd}),(io===eo.ANALYSIS||io===eo.GLOBAL)&&jsxRuntimeExports.jsx(FilterBar,{filterOptions:jr,onFilterChange:so,uiFilter:fr,setUiFilter:xr,availableCountries:Lr,showAnalysis:io===eo.ANALYSIS||io===eo.GLOBAL,onToggleAnalysis:()=>{setUserToggledAnalysis(!0),io===eo.ANALYSIS?uo(eo.PRICE):uo(eo.ANALYSIS)}}),io===eo.ANALYSIS&&jsxRuntimeExports.jsx(GoldSilverSummary,{}),io===eo.GLOBAL&&jsxRuntimeExports.jsx(GlobalComparisonPage,{}),jsxRuntimeExports.jsx(FearGreedIndex$1,{}),jsxRuntimeExports.jsx(OpinionComponent,{}),jsxRuntimeExports.jsx("section",{style:{width:"100%",minHeight:0}}),jsxRuntimeExports.jsx("section",{style:{width:"100%",minHeight:560,marginTop:40},children:jsxRuntimeExports.jsx(SGEChart,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"20px",display:"none"},children:jsxRuntimeExports.jsx(ReservesComexChart,{})}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"20px",display:"none"},children:jsxRuntimeExports.jsx(ReservesComexChart,{type:"silver",title:"Biu  d tr bc ca Comex"})})]}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(SHFEChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(ComexInventoryChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(FomoGoldSilverChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(SGEPriceHistoryChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(ChinaSilverTurnover,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(MCXHistory,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(LBMAPrice,{})}),Zr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GoldChart,{dataGoldTrust:Zr[3]?.data?.[0],urlParams:er}),jsxRuntimeExports.jsx(SilverChart,{dataSilverTrust:Zr[3]?.data?.[1],urlParams:er})]}),jsxRuntimeExports.jsx("div",{className:"compare-shanghai",children:jsxRuntimeExports.jsx(CompareShanghaiComex,{})}),rr?.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"title-shark-global",onClick:()=>Hn("/DetailSharkGlobal"),children:"Thng k mua bn ETF C Mp"}),jsxRuntimeExports.jsxs("div",{className:"dashboard-container",onClick:()=>Hn("/SharkGlobalChart"),children:[jsxRuntimeExports.jsx("div",{className:"dashboard-item",children:jsxRuntimeExports.jsx(GlobalShark1Day,{data:ar})}),jsxRuntimeExports.jsx("div",{className:"dashboard-item",children:jsxRuntimeExports.jsx(DataEUR,{})}),jsxRuntimeExports.jsx("div",{className:"dashboard-item",children:jsxRuntimeExports.jsx(GlobalShark,{data:rr,zoomable:!1,time:"1Y"})})]})]}),jsxRuntimeExports.jsx(EconomicCalendar,{})]})}),jsxRuntimeExports.jsx(NewsNotification,{newsInAPI:Vr})]})},copyProperty=(tr,Hn,er,nr)=>{if(er==="length"||er==="prototype"||er==="arguments"||er==="caller")return;const ir=Object.getOwnPropertyDescriptor(tr,er),rr=Object.getOwnPropertyDescriptor(Hn,er);!canCopyProperty(ir,rr)&&nr||Object.defineProperty(tr,er,rr)},canCopyProperty=function(tr,Hn){return tr===void 0||tr.configurable||tr.writable===Hn.writable&&tr.enumerable===Hn.enumerable&&tr.configurable===Hn.configurable&&(tr.writable||tr.value===Hn.value)},changePrototype=(tr,Hn)=>{const er=Object.getPrototypeOf(Hn);er!==Object.getPrototypeOf(tr)&&Object.setPrototypeOf(tr,er)},wrappedToString=(tr,Hn)=>`/* Wrapped ${tr}*/
${Hn}`,toStringDescriptor=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),toStringName=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),changeToString=(tr,Hn,er)=>{const nr=er===""?"":`with ${er.trim()}() `,ir=wrappedToString.bind(null,nr,Hn.toString());Object.defineProperty(ir,"name",toStringName);const{writable:rr,enumerable:sr,configurable:ar}=toStringDescriptor;Object.defineProperty(tr,"toString",{value:ir,writable:rr,enumerable:sr,configurable:ar})};function mimicFunction(tr,Hn,{ignoreNonConfigurable:er=!1}={}){const{name:nr}=tr;for(const ir of Reflect.ownKeys(Hn))copyProperty(tr,Hn,ir,er);return changePrototype(tr,Hn),changeToString(tr,Hn,nr),tr}const maxTimeoutValue=2147483647,cacheStore=new WeakMap,cacheTimerStore=new WeakMap,cacheKeyStore=new WeakMap;function getValidCacheItem(tr,Hn){const er=tr.get(Hn);if(er){if(er.maxAge<=Date.now()){tr.delete(Hn);return}return er}}function memoize(tr,{cacheKey:Hn,cache:er=new Map,maxAge:nr}={}){if(nr===0)return tr;if(typeof nr=="number"&&Number.isFinite(nr)){if(nr>maxTimeoutValue)throw new TypeError(`The \`maxAge\` option cannot exceed ${maxTimeoutValue}.`);if(nr<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const ir=function(...rr){const sr=Hn?Hn(rr):rr[0],ar=getValidCacheItem(er,sr);if(ar)return ar.data;const or=tr.apply(this,rr),lr=typeof nr=="function"?nr(...rr):nr;if(lr!==void 0&&lr!==Number.POSITIVE_INFINITY){if(!Number.isFinite(lr))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(lr<=0)return or;if(lr>maxTimeoutValue)throw new TypeError(`The \`maxAge\` function result cannot exceed ${maxTimeoutValue}.`)}if(er.set(sr,{data:or,maxAge:lr===void 0||lr===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+lr}),lr!==void 0&&lr!==Number.POSITIVE_INFINITY){const cr=setTimeout(()=>{er.delete(sr),cacheTimerStore.get(ir)?.delete(cr)},lr);cr.unref?.();const ur=cacheTimerStore.get(ir)??new Set;ur.add(cr),cacheTimerStore.set(ir,ur)}return or};return mimicFunction(ir,tr,{ignoreNonConfigurable:!0}),cacheStore.set(ir,er),cacheKeyStore.set(ir,Hn??(rr=>rr[0])),ir}function isString(tr){return typeof tr=="string"}function isUnique(tr,Hn,er){return er.indexOf(tr)===Hn}function isAllLowerCase(tr){return tr.toLowerCase()===tr}function fixCommas(tr){return tr.indexOf(",")===-1?tr:tr.split(",")}function normalizeLocale(tr){if(!tr)return tr;if(tr==="C"||tr==="posix"||tr==="POSIX")return"en-US";if(tr.indexOf(".")!==-1){var Hn=tr.split(".")[0],er=Hn===void 0?"":Hn;return normalizeLocale(er)}if(tr.indexOf("@")!==-1){var nr=tr.split("@")[0],er=nr===void 0?"":nr;return normalizeLocale(er)}if(tr.indexOf("-")===-1||!isAllLowerCase(tr))return tr;var ir=tr.split("-"),rr=ir[0],sr=ir[1],ar=sr===void 0?"":sr;return"".concat(rr,"-").concat(ar.toUpperCase())}function getUserLocalesInternal(tr){var Hn=tr===void 0?{}:tr,er=Hn.useFallbackLocale,nr=er===void 0?!0:er,ir=Hn.fallbackLocale,rr=ir===void 0?"en-US":ir,sr=[];if(typeof navigator<"u"){for(var ar=navigator.languages||[],or=[],lr=0,cr=ar;lr<cr.length;lr++){var ur=cr[lr];or=or.concat(fixCommas(ur))}var dr=navigator.language,fr=dr&&fixCommas(dr);sr=sr.concat(or,fr)}return nr&&sr.push(rr),sr.filter(isString).map(normalizeLocale).filter(isUnique)}var getUserLocales=memoize(getUserLocalesInternal,{cacheKey:JSON.stringify});function getUserLocaleInternal(tr){return getUserLocales(tr)[0]||null}var getUserLocale=memoize(getUserLocaleInternal,{cacheKey:JSON.stringify});function makeGetEdgeOfNeighbor(tr,Hn,er){return function(ir,rr=er){const sr=tr(ir)+rr;return Hn(sr)}}function makeGetEnd(tr){return function(er){return new Date(tr(er).getTime()-1)}}function makeGetRange(tr,Hn){return function(nr){return[tr(nr),Hn(nr)]}}function getYear(tr){if(tr instanceof Date)return tr.getFullYear();if(typeof tr=="number")return tr;const Hn=Number.parseInt(tr,10);if(typeof tr=="string"&&!Number.isNaN(Hn))return Hn;throw new Error(`Failed to get year from date: ${tr}.`)}function getMonth(tr){if(tr instanceof Date)return tr.getMonth();throw new Error(`Failed to get month from date: ${tr}.`)}function getDate(tr){if(tr instanceof Date)return tr.getDate();throw new Error(`Failed to get year from date: ${tr}.`)}function getCenturyStart(tr){const Hn=getYear(tr),er=Hn+(-Hn+1)%100,nr=new Date;return nr.setFullYear(er,0,1),nr.setHours(0,0,0,0),nr}const getPreviousCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,-100),getNextCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,100),getCenturyEnd=makeGetEnd(getNextCenturyStart),getPreviousCenturyEnd=makeGetEdgeOfNeighbor(getYear,getCenturyEnd,-100),getCenturyRange=makeGetRange(getCenturyStart,getCenturyEnd);function getDecadeStart(tr){const Hn=getYear(tr),er=Hn+(-Hn+1)%10,nr=new Date;return nr.setFullYear(er,0,1),nr.setHours(0,0,0,0),nr}const getPreviousDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,-10),getNextDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,10),getDecadeEnd=makeGetEnd(getNextDecadeStart),getPreviousDecadeEnd=makeGetEdgeOfNeighbor(getYear,getDecadeEnd,-10),getDecadeRange=makeGetRange(getDecadeStart,getDecadeEnd);function getYearStart(tr){const Hn=getYear(tr),er=new Date;return er.setFullYear(Hn,0,1),er.setHours(0,0,0,0),er}const getPreviousYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,-1),getNextYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,1),getYearEnd=makeGetEnd(getNextYearStart),getPreviousYearEnd=makeGetEdgeOfNeighbor(getYear,getYearEnd,-1),getYearRange=makeGetRange(getYearStart,getYearEnd);function makeGetEdgeOfNeighborMonth(tr,Hn){return function(nr,ir=Hn){const rr=getYear(nr),sr=getMonth(nr)+ir,ar=new Date;return ar.setFullYear(rr,sr,1),ar.setHours(0,0,0,0),tr(ar)}}function getMonthStart(tr){const Hn=getYear(tr),er=getMonth(tr),nr=new Date;return nr.setFullYear(Hn,er,1),nr.setHours(0,0,0,0),nr}const getPreviousMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,-1),getNextMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,1),getMonthEnd=makeGetEnd(getNextMonthStart),getPreviousMonthEnd=makeGetEdgeOfNeighborMonth(getMonthEnd,-1),getMonthRange=makeGetRange(getMonthStart,getMonthEnd);function makeGetEdgeOfNeighborDay(tr,Hn){return function(nr,ir=Hn){const rr=getYear(nr),sr=getMonth(nr),ar=getDate(nr)+ir,or=new Date;return or.setFullYear(rr,sr,ar),or.setHours(0,0,0,0),tr(or)}}function getDayStart(tr){const Hn=getYear(tr),er=getMonth(tr),nr=getDate(tr),ir=new Date;return ir.setFullYear(Hn,er,nr),ir.setHours(0,0,0,0),ir}const getNextDayStart=makeGetEdgeOfNeighborDay(getDayStart,1),getDayEnd=makeGetEnd(getNextDayStart),getDayRange=makeGetRange(getDayStart,getDayEnd);function getDaysInMonth(tr){return getDate(getMonthEnd(tr))}var CALENDAR_TYPES={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},CALENDAR_TYPE_LOCALES={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},WEEKDAYS=[0,1,2,3,4,5,6],formatterCache=new Map;function getFormatter(tr){return function(er,nr){var ir=er||getUserLocale();formatterCache.has(ir)||formatterCache.set(ir,new Map);var rr=formatterCache.get(ir);return rr.has(tr)||rr.set(tr,new Intl.DateTimeFormat(ir||void 0,tr).format),rr.get(tr)(nr)}}function toSafeHour(tr){var Hn=new Date(tr);return new Date(Hn.setHours(12))}function getSafeFormatter(tr){return function(Hn,er){return getFormatter(tr)(Hn,toSafeHour(er))}}var formatDayOptions={day:"numeric"},formatLongDateOptions={day:"numeric",month:"long",year:"numeric"},formatMonthOptions={month:"long"},formatMonthYearOptions={month:"long",year:"numeric"},formatShortWeekdayOptions={weekday:"short"},formatWeekdayOptions={weekday:"long"},formatYearOptions={year:"numeric"},formatDay=getSafeFormatter(formatDayOptions),formatLongDate=getSafeFormatter(formatLongDateOptions),formatMonth=getSafeFormatter(formatMonthOptions),formatMonthYear=getSafeFormatter(formatMonthYearOptions),formatShortWeekday=getSafeFormatter(formatShortWeekdayOptions),formatWeekday=getSafeFormatter(formatWeekdayOptions),formatYear=getSafeFormatter(formatYearOptions),SUNDAY=WEEKDAYS[0],FRIDAY=WEEKDAYS[5],SATURDAY=WEEKDAYS[6];function getDayOfWeek(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=tr.getDay();switch(Hn){case CALENDAR_TYPES.ISO_8601:return(er+6)%7;case CALENDAR_TYPES.ISLAMIC:return(er+1)%7;case CALENDAR_TYPES.HEBREW:case CALENDAR_TYPES.GREGORY:return er;default:throw new Error("Unsupported calendar type.")}}function getBeginOfCenturyYear(tr){var Hn=getCenturyStart(tr);return getYear(Hn)}function getBeginOfDecadeYear(tr){var Hn=getDecadeStart(tr);return getYear(Hn)}function getBeginOfWeek(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=getYear(tr),nr=getMonth(tr),ir=tr.getDate()-getDayOfWeek(tr,Hn);return new Date(er,nr,ir)}function getWeekNumber(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=Hn===CALENDAR_TYPES.GREGORY?CALENDAR_TYPES.GREGORY:CALENDAR_TYPES.ISO_8601,nr=getBeginOfWeek(tr,Hn),ir=getYear(tr)+1,rr,sr;do rr=new Date(ir,0,er===CALENDAR_TYPES.ISO_8601?4:1),sr=getBeginOfWeek(rr,Hn),ir-=1;while(tr<sr);return Math.round((nr.getTime()-sr.getTime())/(864e5*7))+1}function getBegin(tr,Hn){switch(tr){case"century":return getCenturyStart(Hn);case"decade":return getDecadeStart(Hn);case"year":return getYearStart(Hn);case"month":return getMonthStart(Hn);case"day":return getDayStart(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginPrevious(tr,Hn){switch(tr){case"century":return getPreviousCenturyStart(Hn);case"decade":return getPreviousDecadeStart(Hn);case"year":return getPreviousYearStart(Hn);case"month":return getPreviousMonthStart(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginNext(tr,Hn){switch(tr){case"century":return getNextCenturyStart(Hn);case"decade":return getNextDecadeStart(Hn);case"year":return getNextYearStart(Hn);case"month":return getNextMonthStart(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginPrevious2(tr,Hn){switch(tr){case"decade":return getPreviousDecadeStart(Hn,-100);case"year":return getPreviousYearStart(Hn,-10);case"month":return getPreviousMonthStart(Hn,-12);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginNext2(tr,Hn){switch(tr){case"decade":return getNextDecadeStart(Hn,100);case"year":return getNextYearStart(Hn,10);case"month":return getNextMonthStart(Hn,12);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getEnd(tr,Hn){switch(tr){case"century":return getCenturyEnd(Hn);case"decade":return getDecadeEnd(Hn);case"year":return getYearEnd(Hn);case"month":return getMonthEnd(Hn);case"day":return getDayEnd(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getEndPrevious(tr,Hn){switch(tr){case"century":return getPreviousCenturyEnd(Hn);case"decade":return getPreviousDecadeEnd(Hn);case"year":return getPreviousYearEnd(Hn);case"month":return getPreviousMonthEnd(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getEndPrevious2(tr,Hn){switch(tr){case"decade":return getPreviousDecadeEnd(Hn,-100);case"year":return getPreviousYearEnd(Hn,-10);case"month":return getPreviousMonthEnd(Hn,-12);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getRange(tr,Hn){switch(tr){case"century":return getCenturyRange(Hn);case"decade":return getDecadeRange(Hn);case"year":return getYearRange(Hn);case"month":return getMonthRange(Hn);case"day":return getDayRange(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getValueRange(tr,Hn,er){var nr=[Hn,er].sort(function(ir,rr){return ir.getTime()-rr.getTime()});return[getBegin(tr,nr[0]),getEnd(tr,nr[1])]}function toYearLabel(tr,Hn,er){return er.map(function(nr){return(Hn||formatYear)(tr,nr)}).join("  ")}function getCenturyLabel(tr,Hn,er){return toYearLabel(tr,Hn,getCenturyRange(er))}function getDecadeLabel(tr,Hn,er){return toYearLabel(tr,Hn,getDecadeRange(er))}function isCurrentDayOfWeek(tr){return tr.getDay()===new Date().getDay()}function isWeekend(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=tr.getDay();switch(Hn){case CALENDAR_TYPES.ISLAMIC:case CALENDAR_TYPES.HEBREW:return er===FRIDAY||er===SATURDAY;case CALENDAR_TYPES.ISO_8601:case CALENDAR_TYPES.GREGORY:return er===SATURDAY||er===SUNDAY;default:throw new Error("Unsupported calendar type.")}}var className$6="react-calendar__navigation";function Navigation(tr){var Hn=tr.activeStartDate,er=tr.drillUp,nr=tr.formatMonthYear,ir=nr===void 0?formatMonthYear:nr,rr=tr.formatYear,sr=rr===void 0?formatYear:rr,ar=tr.locale,or=tr.maxDate,lr=tr.minDate,cr=tr.navigationAriaLabel,ur=cr===void 0?"":cr,dr=tr.navigationAriaLive,fr=tr.navigationLabel,xr=tr.next2AriaLabel,yr=xr===void 0?"":xr,_r=tr.next2Label,Sr=_r===void 0?"":_r,jr=tr.nextAriaLabel,Dr=jr===void 0?"":jr,Ir=tr.nextLabel,Mr=Ir===void 0?"":Ir,Or=tr.prev2AriaLabel,Lr=Or===void 0?"":Or,Fr=tr.prev2Label,Vr=Fr===void 0?"":Fr,Zr=tr.prevAriaLabel,Hr=Zr===void 0?"":Zr,Yr=tr.prevLabel,eo=Yr===void 0?"":Yr,io=tr.setActiveStartDate,uo=tr.showDoubleView,so=tr.view,no=tr.views,po=no.indexOf(so)>0,co=so!=="century",lo=getBeginPrevious(so,Hn),ao=co?getBeginPrevious2(so,Hn):void 0,xo=getBeginNext(so,Hn),_o=co?getBeginNext2(so,Hn):void 0,Po=(function(){if(lo.getFullYear()<0)return!0;var fl=getEndPrevious(so,Hn);return lr&&lr>=fl})(),Oo=co&&(function(){if(ao.getFullYear()<0)return!0;var fl=getEndPrevious2(so,Hn);return lr&&lr>=fl})(),So=or&&or<xo,Ao=co&&or&&or<_o;function zo(){io(lo,"prev")}function Ro(){io(ao,"prev2")}function Go(){io(xo,"next")}function Qo(){io(_o,"next2")}function Vo(fl){var Bl=(function(){switch(so){case"century":return getCenturyLabel(ar,sr,fl);case"decade":return getDecadeLabel(ar,sr,fl);case"year":return sr(ar,fl);case"month":return ir(ar,fl);default:throw new Error("Invalid view: ".concat(so,"."))}})();return fr?fr({date:fl,label:Bl,locale:ar||getUserLocale()||void 0,view:so}):Bl}function nl(){var fl="".concat(className$6,"__label");return jsxRuntimeExports.jsxs("button",{"aria-label":ur,"aria-live":dr,className:fl,disabled:!po,onClick:er,style:{flexGrow:1},type:"button",children:[jsxRuntimeExports.jsx("span",{className:"".concat(fl,"__labelText ").concat(fl,"__labelText--from"),children:Vo(Hn)}),uo?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"".concat(fl,"__divider"),children:"  "}),jsxRuntimeExports.jsx("span",{className:"".concat(fl,"__labelText ").concat(fl,"__labelText--to"),children:Vo(xo)})]}):null]})}return jsxRuntimeExports.jsxs("div",{className:className$6,children:[Vr!==null&&co?jsxRuntimeExports.jsx("button",{"aria-label":Lr,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev2-button"),disabled:Oo,onClick:Ro,type:"button",children:Vr}):null,eo!==null&&jsxRuntimeExports.jsx("button",{"aria-label":Hr,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev-button"),disabled:Po,onClick:zo,type:"button",children:eo}),nl(),Mr!==null&&jsxRuntimeExports.jsx("button",{"aria-label":Dr,className:"".concat(className$6,"__arrow ").concat(className$6,"__next-button"),disabled:So,onClick:Go,type:"button",children:Mr}),Sr!==null&&co?jsxRuntimeExports.jsx("button",{"aria-label":yr,className:"".concat(className$6,"__arrow ").concat(className$6,"__next2-button"),disabled:Ao,onClick:Qo,type:"button",children:Sr}):null]})}var __assign$e=function(){return __assign$e=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$e.apply(this,arguments)},__rest$a=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function toPercent(tr){return"".concat(tr,"%")}function Flex(tr){var Hn=tr.children,er=tr.className,nr=tr.count,ir=tr.direction,rr=tr.offset,sr=tr.style,ar=tr.wrap,or=__rest$a(tr,["children","className","count","direction","offset","style","wrap"]);return jsxRuntimeExports.jsx("div",__assign$e({className:er,style:__assign$e({display:"flex",flexDirection:ir,flexWrap:ar?"wrap":"nowrap"},sr)},or,{children:reactExports.Children.map(Hn,function(lr,cr){var ur=rr&&cr===0?toPercent(100*rr/nr):null;return reactExports.cloneElement(lr,__assign$e(__assign$e({},lr.props),{style:{flexBasis:toPercent(100/nr),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:ur,marginInlineStart:ur,marginInlineEnd:0}}))})}))}function between(tr,Hn,er){return Hn&&Hn>tr?Hn:er&&er<tr?er:tr}function isValueWithinRange(tr,Hn){return Hn[0]<=tr&&Hn[1]>=tr}function isRangeWithinRange(tr,Hn){return tr[0]<=Hn[0]&&tr[1]>=Hn[1]}function doRangesOverlap(tr,Hn){return isValueWithinRange(tr[0],Hn)||isValueWithinRange(tr[1],Hn)}function getRangeClassNames(tr,Hn,er){var nr=doRangesOverlap(Hn,tr),ir=[];if(nr){ir.push(er);var rr=isValueWithinRange(tr[0],Hn),sr=isValueWithinRange(tr[1],Hn);rr&&ir.push("".concat(er,"Start")),sr&&ir.push("".concat(er,"End")),rr&&sr&&ir.push("".concat(er,"BothEnds"))}return ir}function isCompleteValue(tr){return Array.isArray(tr)?tr[0]!==null&&tr[1]!==null:tr!==null}function getTileClasses(tr){if(!tr)throw new Error("args is required");var Hn=tr.value,er=tr.date,nr=tr.hover,ir="react-calendar__tile",rr=[ir];if(!er)return rr;var sr=new Date,ar=(function(){if(Array.isArray(er))return er;var fr=tr.dateType;if(!fr)throw new Error("dateType is required when date is not an array of two dates");return getRange(fr,er)})();if(isValueWithinRange(sr,ar)&&rr.push("".concat(ir,"--now")),!Hn||!isCompleteValue(Hn))return rr;var or=(function(){if(Array.isArray(Hn))return Hn;var fr=tr.valueType;if(!fr)throw new Error("valueType is required when value is not an array of two dates");return getRange(fr,Hn)})();isRangeWithinRange(or,ar)?rr.push("".concat(ir,"--active")):doRangesOverlap(or,ar)&&rr.push("".concat(ir,"--hasActive"));var lr=getRangeClassNames(or,ar,"".concat(ir,"--range"));rr.push.apply(rr,lr);var cr=Array.isArray(Hn)?Hn:[Hn];if(nr&&cr.length===1){var ur=nr>or[0]?[or[0],nr]:[nr,or[0]],dr=getRangeClassNames(ur,ar,"".concat(ir,"--hover"));rr.push.apply(rr,dr)}return rr}function TileGroup(tr){for(var Hn=tr.className,er=tr.count,nr=er===void 0?3:er,ir=tr.dateTransform,rr=tr.dateType,sr=tr.end,ar=tr.hover,or=tr.offset,lr=tr.renderTile,cr=tr.start,ur=tr.step,dr=ur===void 0?1:ur,fr=tr.value,xr=tr.valueType,yr=[],_r=cr;_r<=sr;_r+=dr){var Sr=ir(_r);yr.push(lr({classes:getTileClasses({date:Sr,dateType:rr,hover:ar,value:fr,valueType:xr}),date:Sr}))}return jsxRuntimeExports.jsx(Flex,{className:Hn,count:nr,offset:or,wrap:!0,children:yr})}function Tile(tr){var Hn=tr.activeStartDate,er=tr.children,nr=tr.classes,ir=tr.date,rr=tr.formatAbbr,sr=tr.locale,ar=tr.maxDate,or=tr.maxDateTransform,lr=tr.minDate,cr=tr.minDateTransform,ur=tr.onClick,dr=tr.onMouseOver,fr=tr.style,xr=tr.tileClassName,yr=tr.tileContent,_r=tr.tileDisabled,Sr=tr.view,jr=reactExports.useMemo(function(){var Ir={activeStartDate:Hn,date:ir,view:Sr};return typeof xr=="function"?xr(Ir):xr},[Hn,ir,xr,Sr]),Dr=reactExports.useMemo(function(){var Ir={activeStartDate:Hn,date:ir,view:Sr};return typeof yr=="function"?yr(Ir):yr},[Hn,ir,yr,Sr]);return jsxRuntimeExports.jsxs("button",{className:clsx(nr,jr),disabled:lr&&cr(lr)>ir||ar&&or(ar)<ir||_r?.({activeStartDate:Hn,date:ir,view:Sr}),onClick:ur?function(Ir){return ur(ir,Ir)}:void 0,onFocus:dr?function(){return dr(ir)}:void 0,onMouseOver:dr?function(){return dr(ir)}:void 0,style:fr,type:"button",children:[rr?jsxRuntimeExports.jsx("abbr",{"aria-label":rr(sr,ir),children:er}):er,Dr]})}var __assign$d=function(){return __assign$d=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$d.apply(this,arguments)},__rest$9=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className$5="react-calendar__century-view__decades__decade";function Decade(tr){var Hn=tr.classes,er=Hn===void 0?[]:Hn,nr=tr.currentCentury,ir=tr.formatYear,rr=ir===void 0?formatYear:ir,sr=__rest$9(tr,["classes","currentCentury","formatYear"]),ar=sr.date,or=sr.locale,lr=[];return er&&lr.push.apply(lr,er),lr.push(className$5),getCenturyStart(ar).getFullYear()!==nr&&lr.push("".concat(className$5,"--neighboringCentury")),jsxRuntimeExports.jsx(Tile,__assign$d({},sr,{classes:lr,maxDateTransform:getDecadeEnd,minDateTransform:getDecadeStart,view:"century",children:getDecadeLabel(or,rr,ar)}))}var __assign$c=function(){return __assign$c=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$c.apply(this,arguments)},__rest$8=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Decades(tr){var Hn=tr.activeStartDate,er=tr.hover,nr=tr.showNeighboringCentury,ir=tr.value,rr=tr.valueType,sr=__rest$8(tr,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),ar=getBeginOfCenturyYear(Hn),or=ar+(nr?119:99);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__century-view__decades",dateTransform:getDecadeStart,dateType:"decade",end:or,hover:er,renderTile:function(lr){var cr=lr.date,ur=__rest$8(lr,["date"]);return jsxRuntimeExports.jsx(Decade,__assign$c({},sr,ur,{activeStartDate:Hn,currentCentury:ar,date:cr}),cr.getTime())},start:ar,step:10,value:ir,valueType:rr})}var __assign$b=function(){return __assign$b=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$b.apply(this,arguments)};function CenturyView(tr){function Hn(){return jsxRuntimeExports.jsx(Decades,__assign$b({},tr))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__century-view",children:Hn()})}var __assign$a=function(){return __assign$a=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$a.apply(this,arguments)},__rest$7=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className$4="react-calendar__decade-view__years__year";function Year(tr){var Hn=tr.classes,er=Hn===void 0?[]:Hn,nr=tr.currentDecade,ir=tr.formatYear,rr=ir===void 0?formatYear:ir,sr=__rest$7(tr,["classes","currentDecade","formatYear"]),ar=sr.date,or=sr.locale,lr=[];return er&&lr.push.apply(lr,er),lr.push(className$4),getDecadeStart(ar).getFullYear()!==nr&&lr.push("".concat(className$4,"--neighboringDecade")),jsxRuntimeExports.jsx(Tile,__assign$a({},sr,{classes:lr,maxDateTransform:getYearEnd,minDateTransform:getYearStart,view:"decade",children:rr(or,ar)}))}var __assign$9=function(){return __assign$9=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$9.apply(this,arguments)},__rest$6=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Years(tr){var Hn=tr.activeStartDate,er=tr.hover,nr=tr.showNeighboringDecade,ir=tr.value,rr=tr.valueType,sr=__rest$6(tr,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),ar=getBeginOfDecadeYear(Hn),or=ar+(nr?11:9);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__decade-view__years",dateTransform:getYearStart,dateType:"year",end:or,hover:er,renderTile:function(lr){var cr=lr.date,ur=__rest$6(lr,["date"]);return jsxRuntimeExports.jsx(Year,__assign$9({},sr,ur,{activeStartDate:Hn,currentDecade:ar,date:cr}),cr.getTime())},start:ar,value:ir,valueType:rr})}var __assign$8=function(){return __assign$8=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$8.apply(this,arguments)};function DecadeView(tr){function Hn(){return jsxRuntimeExports.jsx(Years,__assign$8({},tr))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__decade-view",children:Hn()})}var __assign$7=function(){return __assign$7=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$7.apply(this,arguments)},__rest$5=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},__spreadArray=function(tr,Hn,er){if(er||arguments.length===2)for(var nr=0,ir=Hn.length,rr;nr<ir;nr++)(rr||!(nr in Hn))&&(rr||(rr=Array.prototype.slice.call(Hn,0,nr)),rr[nr]=Hn[nr]);return tr.concat(rr||Array.prototype.slice.call(Hn))},className$3="react-calendar__year-view__months__month";function Month(tr){var Hn=tr.classes,er=Hn===void 0?[]:Hn,nr=tr.formatMonth,ir=nr===void 0?formatMonth:nr,rr=tr.formatMonthYear,sr=rr===void 0?formatMonthYear:rr,ar=__rest$5(tr,["classes","formatMonth","formatMonthYear"]),or=ar.date,lr=ar.locale;return jsxRuntimeExports.jsx(Tile,__assign$7({},ar,{classes:__spreadArray(__spreadArray([],er,!0),[className$3],!1),formatAbbr:sr,maxDateTransform:getMonthEnd,minDateTransform:getMonthStart,view:"year",children:ir(lr,or)}))}var __assign$6=function(){return __assign$6=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$6.apply(this,arguments)},__rest$4=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Months(tr){var Hn=tr.activeStartDate,er=tr.hover,nr=tr.value,ir=tr.valueType,rr=__rest$4(tr,["activeStartDate","hover","value","valueType"]),sr=0,ar=11,or=getYear(Hn);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__year-view__months",dateTransform:function(lr){var cr=new Date;return cr.setFullYear(or,lr,1),getMonthStart(cr)},dateType:"month",end:ar,hover:er,renderTile:function(lr){var cr=lr.date,ur=__rest$4(lr,["date"]);return jsxRuntimeExports.jsx(Month,__assign$6({},rr,ur,{activeStartDate:Hn,date:cr}),cr.getTime())},start:sr,value:nr,valueType:ir})}var __assign$5=function(){return __assign$5=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$5.apply(this,arguments)};function YearView(tr){function Hn(){return jsxRuntimeExports.jsx(Months,__assign$5({},tr))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__year-view",children:Hn()})}var __assign$4=function(){return __assign$4=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$4.apply(this,arguments)},__rest$3=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className$2="react-calendar__month-view__days__day";function Day(tr){var Hn=tr.calendarType,er=tr.classes,nr=er===void 0?[]:er,ir=tr.currentMonthIndex,rr=tr.formatDay,sr=rr===void 0?formatDay:rr,ar=tr.formatLongDate,or=ar===void 0?formatLongDate:ar,lr=__rest$3(tr,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),cr=lr.date,ur=lr.locale,dr=[];return nr&&dr.push.apply(dr,nr),dr.push(className$2),isWeekend(cr,Hn)&&dr.push("".concat(className$2,"--weekend")),cr.getMonth()!==ir&&dr.push("".concat(className$2,"--neighboringMonth")),jsxRuntimeExports.jsx(Tile,__assign$4({},lr,{classes:dr,formatAbbr:or,maxDateTransform:getDayEnd,minDateTransform:getDayStart,view:"month",children:sr(ur,cr)}))}var __assign$3=function(){return __assign$3=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$3.apply(this,arguments)},__rest$2=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Days(tr){var Hn=tr.activeStartDate,er=tr.calendarType,nr=tr.hover,ir=tr.showFixedNumberOfWeeks,rr=tr.showNeighboringMonth,sr=tr.value,ar=tr.valueType,or=__rest$2(tr,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),lr=getYear(Hn),cr=getMonth(Hn),ur=ir||rr,dr=getDayOfWeek(Hn,er),fr=ur?0:dr,xr=(ur?-dr:0)+1,yr=(function(){if(ir)return xr+42-1;var _r=getDaysInMonth(Hn);if(rr){var Sr=new Date;Sr.setFullYear(lr,cr,_r),Sr.setHours(0,0,0,0);var jr=7-getDayOfWeek(Sr,er)-1;return _r+jr}return _r})();return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__month-view__days",count:7,dateTransform:function(_r){var Sr=new Date;return Sr.setFullYear(lr,cr,_r),getDayStart(Sr)},dateType:"day",hover:nr,end:yr,renderTile:function(_r){var Sr=_r.date,jr=__rest$2(_r,["date"]);return jsxRuntimeExports.jsx(Day,__assign$3({},or,jr,{activeStartDate:Hn,calendarType:er,currentMonthIndex:cr,date:Sr}),Sr.getTime())},offset:fr,start:xr,value:sr,valueType:ar})}var className$1="react-calendar__month-view__weekdays",weekdayClassName="".concat(className$1,"__weekday");function Weekdays(tr){for(var Hn=tr.calendarType,er=tr.formatShortWeekday,nr=er===void 0?formatShortWeekday:er,ir=tr.formatWeekday,rr=ir===void 0?formatWeekday:ir,sr=tr.locale,ar=tr.onMouseLeave,or=new Date,lr=getMonthStart(or),cr=getYear(lr),ur=getMonth(lr),dr=[],fr=1;fr<=7;fr+=1){var xr=new Date(cr,ur,fr-getDayOfWeek(lr,Hn)),yr=rr(sr,xr);dr.push(jsxRuntimeExports.jsx("div",{className:clsx(weekdayClassName,isCurrentDayOfWeek(xr)&&"".concat(weekdayClassName,"--current"),isWeekend(xr,Hn)&&"".concat(weekdayClassName,"--weekend")),children:jsxRuntimeExports.jsx("abbr",{"aria-label":yr,title:yr,children:nr(sr,xr).replace(".","")})},fr))}return jsxRuntimeExports.jsx(Flex,{className:className$1,count:7,onFocus:ar,onMouseOver:ar,children:dr})}var __assign$2=function(){return __assign$2=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$2.apply(this,arguments)},__rest$1=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className="react-calendar__tile";function WeekNumber(tr){var Hn=tr.onClickWeekNumber,er=tr.weekNumber,nr=jsxRuntimeExports.jsx("span",{children:er});if(Hn){var ir=tr.date,rr=tr.onClickWeekNumber,sr=tr.weekNumber,ar=__rest$1(tr,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("button",__assign$2({},ar,{className,onClick:function(or){return rr(sr,ir,or)},type:"button",children:nr}))}else{tr.date,tr.onClickWeekNumber,tr.weekNumber;var ar=__rest$1(tr,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("div",__assign$2({},ar,{className,children:nr}))}}function WeekNumbers(tr){var Hn=tr.activeStartDate,er=tr.calendarType,nr=tr.onClickWeekNumber,ir=tr.onMouseLeave,rr=tr.showFixedNumberOfWeeks,sr=(function(){if(rr)return 6;var lr=getDaysInMonth(Hn),cr=getDayOfWeek(Hn,er),ur=lr-(7-cr);return 1+Math.ceil(ur/7)})(),ar=(function(){for(var lr=getYear(Hn),cr=getMonth(Hn),ur=getDate(Hn),dr=[],fr=0;fr<sr;fr+=1)dr.push(getBeginOfWeek(new Date(lr,cr,ur+fr*7),er));return dr})(),or=ar.map(function(lr){return getWeekNumber(lr,er)});return jsxRuntimeExports.jsx(Flex,{className:"react-calendar__month-view__weekNumbers",count:sr,direction:"column",onFocus:ir,onMouseOver:ir,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:or.map(function(lr,cr){var ur=ar[cr];if(!ur)throw new Error("date is not defined");return jsxRuntimeExports.jsx(WeekNumber,{date:ur,onClickWeekNumber:nr,weekNumber:lr},lr)})})}var __assign$1=function(){return __assign$1=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$1.apply(this,arguments)},__rest=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function getCalendarTypeFromLocale(tr){if(tr)for(var Hn=0,er=Object.entries(CALENDAR_TYPE_LOCALES);Hn<er.length;Hn++){var nr=er[Hn],ir=nr[0],rr=nr[1];if(rr.includes(tr))return ir}return CALENDAR_TYPES.ISO_8601}function MonthView(tr){var Hn=tr.activeStartDate,er=tr.locale,nr=tr.onMouseLeave,ir=tr.showFixedNumberOfWeeks,rr=tr.calendarType,sr=rr===void 0?getCalendarTypeFromLocale(er):rr,ar=tr.formatShortWeekday,or=tr.formatWeekday,lr=tr.onClickWeekNumber,cr=tr.showWeekNumbers,ur=__rest(tr,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function dr(){return jsxRuntimeExports.jsx(Weekdays,{calendarType:sr,formatShortWeekday:ar,formatWeekday:or,locale:er,onMouseLeave:nr})}function fr(){return cr?jsxRuntimeExports.jsx(WeekNumbers,{activeStartDate:Hn,calendarType:sr,onClickWeekNumber:lr,onMouseLeave:nr,showFixedNumberOfWeeks:ir}):null}function xr(){return jsxRuntimeExports.jsx(Days,__assign$1({calendarType:sr},ur))}var yr="react-calendar__month-view";return jsxRuntimeExports.jsx("div",{className:clsx(yr,cr?"".concat(yr,"--weekNumbers"):""),children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[fr(),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[dr(),xr()]})]})})}var __assign=function(){return __assign=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign.apply(this,arguments)},baseClassName="react-calendar",allViews=["century","decade","year","month"],allValueTypes=["decade","year","month","day"],defaultMinDate=new Date;defaultMinDate.setFullYear(1,0,1);defaultMinDate.setHours(0,0,0,0);var defaultMaxDate=new Date(864e13);function toDate(tr){return tr instanceof Date?tr:new Date(tr)}function getLimitedViews(tr,Hn){return allViews.slice(allViews.indexOf(tr),allViews.indexOf(Hn)+1)}function isViewAllowed(tr,Hn,er){var nr=getLimitedViews(Hn,er);return nr.indexOf(tr)!==-1}function getView(tr,Hn,er){return tr&&isViewAllowed(tr,Hn,er)?tr:er}function getValueType(tr){var Hn=allViews.indexOf(tr);return allValueTypes[Hn]}function getValue(tr,Hn){var er=Array.isArray(tr)?tr[Hn]:tr;if(!er)return null;var nr=toDate(er);if(Number.isNaN(nr.getTime()))throw new Error("Invalid date: ".concat(tr));return nr}function getDetailValue(tr,Hn){var er=tr.value,nr=tr.minDate,ir=tr.maxDate,rr=tr.maxDetail,sr=getValue(er,Hn);if(!sr)return null;var ar=getValueType(rr),or=(function(){switch(Hn){case 0:return getBegin(ar,sr);case 1:return getEnd(ar,sr);default:throw new Error("Invalid index value: ".concat(Hn))}})();return between(or,nr,ir)}var getDetailValueFrom=function(tr){return getDetailValue(tr,0)},getDetailValueTo=function(tr){return getDetailValue(tr,1)},getDetailValueArray=function(tr){return[getDetailValueFrom,getDetailValueTo].map(function(Hn){return Hn(tr)})};function getActiveStartDate(tr){var Hn=tr.maxDate,er=tr.maxDetail,nr=tr.minDate,ir=tr.minDetail,rr=tr.value,sr=tr.view,ar=getView(sr,ir,er),or=getDetailValueFrom({value:rr,minDate:nr,maxDate:Hn,maxDetail:er})||new Date;return getBegin(ar,or)}function getInitialActiveStartDate(tr){var Hn=tr.activeStartDate,er=tr.defaultActiveStartDate,nr=tr.defaultValue,ir=tr.defaultView,rr=tr.maxDate,sr=tr.maxDetail,ar=tr.minDate,or=tr.minDetail,lr=tr.value,cr=tr.view,ur=getView(cr,or,sr),dr=Hn||er;return dr?getBegin(ur,dr):getActiveStartDate({maxDate:rr,maxDetail:sr,minDate:ar,minDetail:or,value:lr||nr,view:cr||ir})}function getIsSingleValue(tr){return tr&&(!Array.isArray(tr)||tr.length===1)}function areDatesEqual(tr,Hn){return tr instanceof Date&&Hn instanceof Date&&tr.getTime()===Hn.getTime()}var Calendar=reactExports.forwardRef(function tr(Hn,er){var nr=Hn.activeStartDate,ir=Hn.allowPartialRange,rr=Hn.calendarType,sr=Hn.className,ar=Hn.defaultActiveStartDate,or=Hn.defaultValue,lr=Hn.defaultView,cr=Hn.formatDay,ur=Hn.formatLongDate,dr=Hn.formatMonth,fr=Hn.formatMonthYear,xr=Hn.formatShortWeekday,yr=Hn.formatWeekday,_r=Hn.formatYear,Sr=Hn.goToRangeStartOnSelect,jr=Sr===void 0?!0:Sr,Dr=Hn.inputRef,Ir=Hn.locale,Mr=Hn.maxDate,Or=Mr===void 0?defaultMaxDate:Mr,Lr=Hn.maxDetail,Fr=Lr===void 0?"month":Lr,Vr=Hn.minDate,Zr=Vr===void 0?defaultMinDate:Vr,Hr=Hn.minDetail,Yr=Hr===void 0?"century":Hr,eo=Hn.navigationAriaLabel,io=Hn.navigationAriaLive,uo=Hn.navigationLabel,so=Hn.next2AriaLabel,no=Hn.next2Label,po=Hn.nextAriaLabel,co=Hn.nextLabel,lo=Hn.onActiveStartDateChange,ao=Hn.onChange,xo=Hn.onClickDay,_o=Hn.onClickDecade,Po=Hn.onClickMonth,Oo=Hn.onClickWeekNumber,So=Hn.onClickYear,Ao=Hn.onDrillDown,zo=Hn.onDrillUp,Ro=Hn.onViewChange,Go=Hn.prev2AriaLabel,Qo=Hn.prev2Label,Vo=Hn.prevAriaLabel,nl=Hn.prevLabel,fl=Hn.returnValue,Bl=fl===void 0?"start":fl,Gl=Hn.selectRange,Tl=Hn.showDoubleView,Pc=Hn.showFixedNumberOfWeeks,mc=Hn.showNavigation,Hc=mc===void 0?!0:mc,Vl=Hn.showNeighboringCentury,Jc=Hn.showNeighboringDecade,Yl=Hn.showNeighboringMonth,ic=Yl===void 0?!0:Yl,cc=Hn.showWeekNumbers,Xc=Hn.tileClassName,Sc=Hn.tileContent,Oc=Hn.tileDisabled,gl=Hn.value,Ql=Hn.view,ql=reactExports.useState(ar),wc=ql[0],Il=ql[1],rl=reactExports.useState(null),il=rl[0],hl=rl[1],Dl=reactExports.useState(Array.isArray(or)?or.map(function(ac){return ac!==null?toDate(ac):null}):or!=null?toDate(or):null),Pl=Dl[0],Jl=Dl[1],oc=reactExports.useState(lr),qc=oc[0],xc=oc[1],jc=nr||wc||getInitialActiveStartDate({activeStartDate:nr,defaultActiveStartDate:ar,defaultValue:or,defaultView:lr,maxDate:Or,maxDetail:Fr,minDate:Zr,minDetail:Yr,value:gl,view:Ql}),vu=(function(){var ac=(function(){return Gl&&getIsSingleValue(Pl)?Pl:gl!==void 0?gl:Pl})();return ac?Array.isArray(ac)?ac.map(function(hu){return hu!==null?toDate(hu):null}):ac!==null?toDate(ac):null:null})(),Kc=getValueType(Fr),uc=getView(Ql||qc,Yr,Fr),Ic=getLimitedViews(Yr,Fr),ec=Gl?il:null,Hl=Ic.indexOf(uc)<Ic.length-1,ah=Ic.indexOf(uc)>0,sl=reactExports.useCallback(function(ac){var hu=(function(){switch(Bl){case"start":return getDetailValueFrom;case"end":return getDetailValueTo;case"range":return getDetailValueArray;default:throw new Error("Invalid returnValue.")}})();return hu({maxDate:Or,maxDetail:Fr,minDate:Zr,value:ac})},[Or,Fr,Zr,Bl]),yl=reactExports.useCallback(function(ac,hu){Il(ac);var du={action:hu,activeStartDate:ac,value:vu,view:uc};lo&&!areDatesEqual(jc,ac)&&lo(du)},[jc,lo,vu,uc]),Ll=reactExports.useCallback(function(ac,hu){var du=(function(){switch(uc){case"century":return _o;case"decade":return So;case"year":return Po;case"month":return xo;default:throw new Error("Invalid view: ".concat(uc,"."))}})();du&&du(ac,hu)},[xo,_o,Po,So,uc]),Cl=reactExports.useCallback(function(ac,hu){if(Hl){Ll(ac,hu);var du=Ic[Ic.indexOf(uc)+1];if(!du)throw new Error("Attempted to drill down from the lowest view.");Il(ac),xc(du);var Wc={action:"drillDown",activeStartDate:ac,value:vu,view:du};lo&&!areDatesEqual(jc,ac)&&lo(Wc),Ro&&uc!==du&&Ro(Wc),Ao&&Ao(Wc)}},[jc,Hl,lo,Ll,Ao,Ro,vu,uc,Ic]),kl=reactExports.useCallback(function(){if(ah){var ac=Ic[Ic.indexOf(uc)-1];if(!ac)throw new Error("Attempted to drill up from the highest view.");var hu=getBegin(ac,jc);Il(hu),xc(ac);var du={action:"drillUp",activeStartDate:hu,value:vu,view:ac};lo&&!areDatesEqual(jc,hu)&&lo(du),Ro&&uc!==ac&&Ro(du),zo&&zo(du)}},[jc,ah,lo,zo,Ro,vu,uc,Ic]),bu=reactExports.useCallback(function(ac,hu){var du=vu;Ll(ac,hu);var Wc=Gl&&!getIsSingleValue(du),Iu;if(Gl)if(Wc)Iu=getBegin(Kc,ac);else{if(!du)throw new Error("previousValue is required");if(Array.isArray(du))throw new Error("previousValue must not be an array");Iu=getValueRange(Kc,du,ac)}else Iu=sl(ac);var qh=!Gl||Wc||jr?getActiveStartDate({maxDate:Or,maxDetail:Fr,minDate:Zr,minDetail:Yr,value:Iu,view:uc}):null;hu.persist(),Il(qh),Jl(Iu);var Bh={action:"onChange",activeStartDate:qh,value:Iu,view:uc};if(lo&&!areDatesEqual(jc,qh)&&lo(Bh),ao)if(Gl){var zh=getIsSingleValue(Iu);if(!zh)ao(Iu||null,hu);else if(ir){if(Array.isArray(Iu))throw new Error("value must not be an array");ao([Iu||null,null],hu)}}else ao(Iu||null,hu)},[jc,ir,sl,jr,Or,Fr,Zr,Yr,lo,ao,Ll,Gl,vu,Kc,uc]);function oh(ac){hl(ac)}function ku(){hl(null)}reactExports.useImperativeHandle(er,function(){return{activeStartDate:jc,drillDown:Cl,drillUp:kl,onChange:bu,setActiveStartDate:yl,value:vu,view:uc}},[jc,Cl,kl,bu,yl,vu,uc]);function Dc(ac){var hu=ac?getBeginNext(uc,jc):getBegin(uc,jc),du=Hl?Cl:bu,Wc={activeStartDate:hu,hover:ec,locale:Ir,maxDate:Or,minDate:Zr,onClick:du,onMouseOver:Gl?oh:void 0,tileClassName:Xc,tileContent:Sc,tileDisabled:Oc,value:vu,valueType:Kc};switch(uc){case"century":return jsxRuntimeExports.jsx(CenturyView,__assign({formatYear:_r,showNeighboringCentury:Vl},Wc));case"decade":return jsxRuntimeExports.jsx(DecadeView,__assign({formatYear:_r,showNeighboringDecade:Jc},Wc));case"year":return jsxRuntimeExports.jsx(YearView,__assign({formatMonth:dr,formatMonthYear:fr},Wc));case"month":return jsxRuntimeExports.jsx(MonthView,__assign({calendarType:rr,formatDay:cr,formatLongDate:ur,formatShortWeekday:xr,formatWeekday:yr,onClickWeekNumber:Oo,onMouseLeave:Gl?ku:void 0,showFixedNumberOfWeeks:typeof Pc<"u"?Pc:Tl,showNeighboringMonth:ic,showWeekNumbers:cc},Wc));default:throw new Error("Invalid view: ".concat(uc,"."))}}function eu(){return Hc?jsxRuntimeExports.jsx(Navigation,{activeStartDate:jc,drillUp:kl,formatMonthYear:fr,formatYear:_r,locale:Ir,maxDate:Or,minDate:Zr,navigationAriaLabel:eo,navigationAriaLive:io,navigationLabel:uo,next2AriaLabel:so,next2Label:no,nextAriaLabel:po,nextLabel:co,prev2AriaLabel:Go,prev2Label:Qo,prevAriaLabel:Vo,prevLabel:nl,setActiveStartDate:yl,showDoubleView:Tl,view:uc,views:Ic}):null}var Zc=Array.isArray(vu)?vu:[vu];return jsxRuntimeExports.jsxs("div",{className:clsx(baseClassName,Gl&&Zc.length===1&&"".concat(baseClassName,"--selectRange"),Tl&&"".concat(baseClassName,"--doubleView"),sr),ref:Dr,children:[eu(),jsxRuntimeExports.jsxs("div",{className:"".concat(baseClassName,"__viewContainer"),onBlur:Gl?ku:void 0,onMouseLeave:Gl?ku:void 0,children:[Dc(),Tl?Dc(!0):null]})]})});const DatePickerWrapper=({selected:tr,onChange:Hn,maxDate:er,minDate:nr})=>{const[ir,rr]=reactExports.useState(!1),sr=reactExports.useRef(null),ar=or=>{Hn&&Hn(or),rr(!1)};return reactExports.useEffect(()=>{const or=lr=>{sr.current&&!sr.current.contains(lr.target)&&rr(!1)};return ir&&document.addEventListener("mousedown",or),()=>{document.removeEventListener("mousedown",or)}},[ir]),jsxRuntimeExports.jsxs("div",{className:"date-picker-wrapper",ref:sr,children:[jsxRuntimeExports.jsx("button",{type:"button",className:"date-picker-input",onClick:()=>rr(!ir),children:tr?tr.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"Chn ngy"}),ir&&jsxRuntimeExports.jsx("div",{className:"calendar-popup",children:jsxRuntimeExports.jsx(Calendar,{onChange:ar,value:tr,maxDate:er,minDate:nr,className:"exchange-rate-calendar"})})]})},ExchangeRateTable=({exchangeRates:tr,previousRates:Hn})=>{if(!tr||Object.keys(tr).length===0)return jsxRuntimeExports.jsx("div",{className:"exchange-rate-table-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu t gi cho ngy ny"})});const er=(rr,sr)=>{if(!Hn||!Hn[rr])return{buyChange:null,sellChange:null};const ar=Hn[rr],or=sr.buy!==null&&ar.buy!==null?sr.buy-ar.buy:null,lr=sr.sell!==null&&ar.sell!==null?sr.sell-ar.sell:null;return{buyChange:or,sellChange:lr}},nr=rr=>rr==null?null:rr>0?jsxRuntimeExports.jsx("span",{className:"change-icon up",children:""}):rr<0?jsxRuntimeExports.jsx("span",{className:"change-icon down",children:""}):jsxRuntimeExports.jsx("span",{className:"change-icon neutral",children:""}),ir=Object.keys(tr).sort((rr,sr)=>rr==="USD"?-1:sr==="USD"?1:rr==="USD_TUDO"?-1:sr==="USD_TUDO"?1:rr.localeCompare(sr));return jsxRuntimeExports.jsxs("div",{className:"exchange-rate-table-card",children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsx("h2",{className:"table-title",children:"T Gi Ngoi T"})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"exchange-rate-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"M NT & Quc K"}),jsxRuntimeExports.jsx("th",{children:"Tn Ngoi T"}),jsxRuntimeExports.jsx("th",{children:"Mua Vo"}),jsxRuntimeExports.jsx("th",{children:"Bn Ra"}),jsxRuntimeExports.jsx("th",{children:"Thay i"})]})}),jsxRuntimeExports.jsx("tbody",{children:ir.map(rr=>{const sr=tr[rr],{buyChange:ar,sellChange:or}=er(rr,sr),lr=or;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"currency-code-cell",children:jsxRuntimeExports.jsxs("div",{className:"currency-flag-wrapper",children:[getCurrencyFlag(rr,24),jsxRuntimeExports.jsx("span",{className:"currency-code",children:rr})]})}),jsxRuntimeExports.jsx("td",{className:"currency-name",children:getCurrencyName(rr)}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:sr.buy!==null?formatCurrency$1(sr.buy):"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:sr.sell!==null?formatCurrency$1(sr.sell):"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-change",children:lr!=null?jsxRuntimeExports.jsxs("div",{className:"change-wrapper",children:[nr(lr),jsxRuntimeExports.jsx("span",{className:`change-value ${lr>0?"up":lr<0?"down":"neutral"}`,children:formatCurrency$1(Math.abs(lr))})]}):jsxRuntimeExports.jsx("span",{className:"change-na",children:"-"})})]},rr)})})]})})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const ExchangeRateChart=({data:tr,selectedCurrency:Hn="USD"})=>{const[er,nr]=reactExports.useState(Hn),[ir,rr]=reactExports.useState(30),sr=reactExports.useMemo(()=>{const cr=filterDataByDateRange(tr,ir);return!cr||Object.keys(cr).length===0?tr||{}:cr},[tr,ir]),ar=reactExports.useMemo(()=>{if(!sr||Object.keys(sr).length===0){if(!tr||Object.keys(tr).length===0)return null;const xr=Object.keys(tr).sort(),yr=xr.map(jr=>{const[Dr,Ir,Mr]=jr.split("-");return`${Mr}/${Ir}/${Dr}`}),_r=xr.map(jr=>{const Dr=tr[jr]?.[er];return Dr?.buy!==null&&Dr?.buy!==void 0?Dr.buy:null}),Sr=xr.map(jr=>{const Dr=tr[jr]?.[er];return Dr?.sell!==null&&Dr?.sell!==void 0?Dr.sell:null});return{labels:yr,datasets:[{label:"Mua vo",data:_r,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Bn ra",data:Sr,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]}}const cr=Object.keys(sr).sort(),ur=cr.map(xr=>{const[yr,_r,Sr]=xr.split("-");return`${Sr}/${_r}/${yr}`}),dr=cr.map(xr=>{const yr=sr[xr]?.[er];return yr?.buy!==null&&yr?.buy!==void 0?yr.buy:null}),fr=cr.map(xr=>{const yr=sr[xr]?.[er];return yr?.sell!==null&&yr?.sell!==void 0?yr.sell:null});return{labels:ur,datasets:[{label:"Mua Vo",data:dr,borderColor:"#00C26F",backgroundColor:xr=>{const _r=xr.chart.ctx.createLinearGradient(0,0,0,300);return _r.addColorStop(0,"rgba(0, 194, 111, 0.3)"),_r.addColorStop(1,"rgba(0, 194, 111, 0)"),_r},borderWidth:2,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:"#00C26F",pointBorderColor:"#1E293B",pointBorderWidth:2},{label:"Bn Ra",data:fr,borderColor:"#FF4D4D",backgroundColor:xr=>{const _r=xr.chart.ctx.createLinearGradient(0,0,0,300);return _r.addColorStop(0,"rgba(255, 77, 77, 0.3)"),_r.addColorStop(1,"rgba(255, 77, 77, 0)"),_r},borderWidth:2,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:"#FF4D4D",pointBorderColor:"#1E293B",pointBorderWidth:2}]}},[sr,er]),or=reactExports.useMemo(()=>{if(!tr||Object.keys(tr).length===0)return[];const cr=new Set;return Object.values(tr).forEach(ur=>{Object.keys(ur).forEach(dr=>cr.add(dr))}),Array.from(cr).sort()},[tr]),lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#f8fafc",font:{size:12,weight:600},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!0,callbacks:{title:cr=>{const ur=cr[0].dataIndex,fr=Object.keys(sr).sort()[ur],[xr,yr,_r]=fr.split("-");return`Ngy: ${_r}/${yr}/${xr}`},label:cr=>{const ur=cr.parsed.y;return ur===null?`${cr.dataset.label}: N/A`:`${cr.dataset.label}: ${formatCurrency$1(ur)} VN`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",callback:cr=>formatCurrency$1(cr)}}},interaction:{intersect:!1,mode:"index"}};return ar?jsxRuntimeExports.jsxs("div",{className:"exchange-rate-chart-card",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  Lch S T Gi"}),jsxRuntimeExports.jsxs("div",{className:"chart-controls",children:[jsxRuntimeExports.jsx("select",{className:"currency-select",value:er,onChange:cr=>nr(cr.target.value),children:or.map(cr=>jsxRuntimeExports.jsxs("option",{value:cr,children:[cr," - ",getCurrencyName(cr)]},cr))}),jsxRuntimeExports.jsxs("div",{className:"time-range-buttons",children:[jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===7?"active":""}`,onClick:()=>rr(7),children:"7 ngy"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===30?"active":""}`,onClick:()=>rr(30),children:"30 ngy"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===90?"active":""}`,onClick:()=>rr(90),children:"3 thng"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365?"active":""}`,onClick:()=>rr(365),children:"1 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*2?"active":""}`,onClick:()=>rr(365*2),children:"2 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*3?"active":""}`,onClick:()=>rr(365*3),children:"3 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*4?"active":""}`,onClick:()=>rr(365*4),children:"4 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*5?"active":""}`,onClick:()=>rr(365*5),children:"5 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*10?"active":""}`,onClick:()=>rr(365*10),children:"10 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*100?"active":""}`,onClick:()=>rr(365*100),children:"Tt c"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"chart-container",children:jsxRuntimeExports.jsx(Line,{data:ar,options:lr})})]}):jsxRuntimeExports.jsxs("div",{className:"exchange-rate-chart-card",children:[jsxRuntimeExports.jsx("div",{className:"chart-header",children:jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  Lch S T Gi"})}),jsxRuntimeExports.jsx("div",{className:"chart-container",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"ang ti d liu..."})})]})},USDHighlightBox=({usdRate:tr,previousUsdRate:Hn})=>{if(!tr)return jsxRuntimeExports.jsxs("div",{className:"usd-highlight-box",children:[jsxRuntimeExports.jsx("div",{className:"usd-box-header",children:jsxRuntimeExports.jsx("h3",{children:"Gi USD T Do"})}),jsxRuntimeExports.jsx("div",{className:"usd-box-content",children:jsxRuntimeExports.jsx("p",{className:"no-data",children:"Khng c d liu"})})]});const er=Hn?calculatePriceChange(tr,Hn):{sellChange:null,sellPercent:null},nr=er.sellChange,ir=er.sellPercent,rr=()=>{if(nr==null)return null;const sr=nr>0,ar=nr<0;return jsxRuntimeExports.jsxs("div",{className:`change-display ${sr?"up":ar?"down":"neutral"}`,children:[jsxRuntimeExports.jsx("span",{className:"change-icon",children:sr?"":ar?"":""}),jsxRuntimeExports.jsx("span",{className:"change-value",children:formatCurrency$1(Math.abs(nr))}),ir!==null&&jsxRuntimeExports.jsxs("span",{className:"change-percent",children:["(",ir,"%)"]})]})};return jsxRuntimeExports.jsxs("div",{className:"usd-highlight-box",children:[jsxRuntimeExports.jsx("div",{className:"usd-box-header",children:jsxRuntimeExports.jsx("h3",{children:"Gi USD T Do"})}),jsxRuntimeExports.jsxs("div",{className:"usd-box-content",children:[jsxRuntimeExports.jsxs("div",{className:"usd-price-row",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Mua Vo:"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:tr.buy!==null?formatCurrency$1(tr.buy):"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"usd-price-row",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Bn Ra:"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:tr.sell!==null?formatCurrency$1(tr.sell):"N/A"}),rr()]})]})]})},RecentDatesList=({data:tr,count:Hn=7})=>{const er=getRecentDates(tr,Hn);if(er.length===0)return null;const nr=ir=>{const[rr,sr,ar]=ir.split("-");return`${ar}/${sr}/${rr}`};return jsxRuntimeExports.jsxs("div",{className:"recent-dates-list",children:[jsxRuntimeExports.jsx("h3",{className:"recent-dates-title",children:"Lch S Tra Cu"}),jsxRuntimeExports.jsx("div",{className:"recent-dates-items",children:er.map(ir=>{const rr=formatDateForUrl(ir);return jsxRuntimeExports.jsx(Link,{to:`/ty-gia/${rr}`,className:"recent-date-item",children:nr(ir)},ir)})})]})},ExchangeRatePage=()=>{const tr=useNavigate(),Hn=useLocation(),er=useParams(),{processedData:nr,loading:ir,error:rr,getRateByDate:sr,getLatestDate:ar,getPreviousRate:or}=useExchangeRate();reactExports.useEffect(()=>{if(!Hn.pathname.startsWith("/ty-gia")){tr("/ty-gia",{replace:!0});return}},[Hn.pathname,tr]),reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh ExchangeRatePage.jsx"))()},[]);const lr=reactExports.useMemo(()=>{if(er.date){const Or=parseDateFromUrl(er.date),Lr=parse(Or,"yyyy-MM-dd",new Date);return isValid(Lr)?Lr:new Date}return new Date},[er.date]),[cr,ur]=reactExports.useState(lr);reactExports.useEffect(()=>{ur(lr)},[lr]);const dr=reactExports.useMemo(()=>format$1(cr,"yyyy-MM-dd"),[cr]),fr=reactExports.useMemo(()=>ar(),[ar]),xr=reactExports.useMemo(()=>sr(dr),[dr,sr]),yr=reactExports.useMemo(()=>xr!==null&&Object.keys(xr).length>0,[xr]),_r=reactExports.useMemo(()=>yr?or(dr):null,[dr,yr,or]),Sr=reactExports.useMemo(()=>yr&&(xr?.USD_TUDO||xr?.USD)||null,[xr,yr]),jr=reactExports.useMemo(()=>yr&&(_r?.USD_TUDO||_r?.USD)||null,[_r,yr]),Dr=Or=>{if(!Or)return;ur(Or);const Lr=formatDateForUrl(format$1(Or,"yyyy-MM-dd"));tr(`/ty-gia/${Lr}`,{replace:!1})},Ir=new Date,Mr=reactExports.useMemo(()=>{if(!nr||Object.keys(nr).length===0)return null;const Or=Object.keys(nr).sort();return Or.length===0?null:parse(Or[0],"yyyy-MM-dd",new Date)},[nr]);return ir?jsxRuntimeExports.jsx("div",{className:"exchange-rate-page",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu t gi..."})]})}):rr?jsxRuntimeExports.jsx("div",{className:"exchange-rate-page",children:jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",rr]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]})}):jsxRuntimeExports.jsxs("div",{className:"exchange-rate-page",children:[jsxRuntimeExports.jsx("div",{className:"page-header",children:jsxRuntimeExports.jsx("h1",{className:"page-title",children:"T Gi Ngoi T"})}),jsxRuntimeExports.jsx("div",{className:"date-filter-section",children:jsxRuntimeExports.jsxs("div",{className:"date-picker-container",children:[jsxRuntimeExports.jsx("label",{className:"date-picker-label",children:"Chn ngy:"}),jsxRuntimeExports.jsx(DatePickerWrapper,{selected:cr,onChange:Dr,maxDate:Ir,minDate:Mr})]})}),!yr&&fr&&jsxRuntimeExports.jsxs("div",{className:"no-data-notification",children:[jsxRuntimeExports.jsxs("p",{className:"no-data-message",children:[" D liu ngy ",jsxRuntimeExports.jsx("strong",{children:format$1(cr,"dd/MM/yyyy")})," khng c."]}),jsxRuntimeExports.jsxs("p",{className:"latest-data-info",children:["D liu ch c n ngy ",jsxRuntimeExports.jsx("strong",{children:format$1(parse(fr,"yyyy-MM-dd",new Date),"dd/MM/yyyy")}),"."]}),jsxRuntimeExports.jsx("button",{className:"go-to-latest-btn",onClick:()=>{const Or=parse(fr,"yyyy-MM-dd",new Date);Dr(Or)},children:"Chuyn n ngy c d liu mi nht"})]}),yr&&jsxRuntimeExports.jsxs("div",{className:"main-content-grid",children:[jsxRuntimeExports.jsx("div",{className:"table-section",children:jsxRuntimeExports.jsx(ExchangeRateTable,{exchangeRates:xr,previousRates:_r})}),jsxRuntimeExports.jsxs("div",{className:"chart-section",children:[jsxRuntimeExports.jsx(USDHighlightBox,{usdRate:Sr,previousUsdRate:jr}),jsxRuntimeExports.jsx(ExchangeRateChart,{data:nr,selectedCurrency:"USD"})]})]}),jsxRuntimeExports.jsx(RecentDatesList,{data:nr,count:7})]})},useGoldPrices=tr=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(!0),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState({loaded:0,total:0});reactExports.useEffect(()=>{let dr=!1;return(async()=>{try{ir(!0),er([]),sr(null),or({loaded:0,total:20}),await fetchGoldPricesIncremental((xr,yr,_r)=>{dr||(or({loaded:yr,total:_r}),er(Sr=>{const jr=xr.site||xr.name;return Sr.find(Ir=>(Ir.site||Ir.name)===jr)?Sr:[...Sr,xr]}))}),dr||sr(null)}catch(xr){dr||(console.error("Error loading gold prices:",xr),sr("Khng th ti d liu gi vng. Vui lng th li sau."))}finally{dr||ir(!1)}})(),()=>{dr=!0}},[]);const lr=reactExports.useMemo(()=>{let dr=Hn;tr.region&&(tr.region==="vietnam"?dr=Hn.filter(jr=>jr.quoc_gia==="Vietnam"||jr.quoc_gia==="Vit Nam"||!jr.quoc_gia):tr.region==="international"&&(dr=Hn.filter(jr=>jr.quoc_gia&&jr.quoc_gia!=="Vietnam"&&jr.quoc_gia!=="Vit Nam")));let fr=dr;tr.country&&tr.country!=="all"&&(fr=dr.filter(jr=>jr.quoc_gia===tr.country));const xr=fr.map(jr=>({...jr,items:jr.items.filter(Dr=>{const Ir=Dr.TYPE?.toUpperCase();return tr.type==="gold"?Ir==="VANG"||Ir==="GOLD":tr.type==="silver"?Ir==="BAC"||Ir==="SILVER":!0})})).filter(jr=>jr.items.length>0),yr=jr=>{const Dr=tr.type==="silver"?"1KG_BAC_999":"9999";return jr.items.find(Ir=>Ir.purity===Dr)||null};if(!tr.sortBy)return xr;const _r=tr.sortOrder==="asc"?1:-1;return[...xr].sort((jr,Dr)=>{if(tr.sortBy==="reputation"){const Fr=Number(jr.do_uy_tin??0),Vr=Number(Dr.do_uy_tin??0);return Fr-Vr}if(tr.sortBy==="spread"){const Fr=yr(jr),Vr=yr(Dr);if(!Fr&&!Vr)return 0;if(!Fr)return 1;if(!Vr)return-1;const Zr=(Fr.sell??0)-(Fr.buy??0),Hr=(Vr.sell??0)-(Vr.buy??0);return(Zr-Hr)*_r}const Ir=yr(jr),Mr=yr(Dr);if(!Ir&&!Mr)return 0;if(!Ir)return 1;if(!Mr)return-1;const Or=tr.sortBy==="buyPrice"?Ir.buy:Ir.sell,Lr=tr.sortBy==="buyPrice"?Mr.buy:Mr.sell;return Or==null&&Lr==null?0:Or==null?1:Lr==null?-1:(Or-Lr)*_r})},[Hn,tr]),cr=reactExports.useMemo(()=>getLatestUpdateTime(Hn),[Hn]),ur=reactExports.useMemo(()=>{const dr=new Set;return Hn.forEach(fr=>{fr.quoc_gia&&dr.add(fr.quoc_gia)}),Array.from(dr).sort()},[Hn]);return{loading:nr,error:rr,displayedPrices:lr,lastUpdated:cr,loadingProgress:ar,availableCountries:ur}},XauxagDetail=()=>jsxRuntimeExports.jsxs("div",{className:"article-container",children:[jsxRuntimeExports.jsx("button",{className:"back-btn",onClick:()=>window.history.back(),children:" Quay li"}),jsxRuntimeExports.jsx("h1",{className:"article-title",children:" T l Vng / Bc (GoldSilver Ratio)"}),jsxRuntimeExports.jsx("p",{className:"article-lead",children:"T l vng/bc l mt thc o quan trng trong u t kim loi qu. N cho thy cn bao nhiu ounce bc  mua 1 ounce vng."}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" Tm quan trng ca t l"}),jsxRuntimeExports.jsxs("p",{children:["Trong lch s, t l vng/bc dao ng ch yu trong khong",jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:" 50:1  80:1"}),". Khi t l i qu xa vng ny, th trng thng phn nh s nh gi lch gia vng v bc."]}),jsxRuntimeExports.jsxs("div",{className:"info-box",children:[jsxRuntimeExports.jsx("b",{children:" Ngng quan trng:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:"T l > 90:1"}),"  Vng b nh gi qu cao hoc bc r."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:"T l < 50:1"}),"  Bc t hoc vng r."]})]})]}),jsxRuntimeExports.jsx("blockquote",{className:"quote",children:" Khi t l qu cao: thng bn vng / mua bc.  Khi t l qu thp: thng mua vng."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" T l hin ti & tm l th trng"}),jsxRuntimeExports.jsxs("p",{children:["Tnh n thng 5 nm 2025, t l t",jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:" 99.7"}),", cao hn khong 30% so vi trung bnh 12 thng trc ( tng chm 73)."]}),jsxRuntimeExports.jsxs("p",{children:["Mt ng lc chnh y t l tng l chnh sch thu quan leo thang ca M i vi nhiu cng quc, trong mt s trng hp vt qu ",jsxRuntimeExports.jsx("b",{children:"100%"}),". iu ny khin vng tr thnh ni tr n, tng t bin t u 2024  t nh lch s vo 4/2025."]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" V sao bc tng chm hn vng?"}),jsxRuntimeExports.jsxs("div",{className:"card-grid",children:[jsxRuntimeExports.jsx(ApplicationCard,{title:" Kim loi cng nghip",content:"Bc c s dng nhiu trong in t, pin, PV  khin n b nhn nhn thin v kim loi cng nghip hn l ti sn tr n."}),jsxRuntimeExports.jsx(ApplicationCard,{title:" Lu tr kh",content:"1kg vng c th ct gn, nhng bc tng ng phi dng kt ngn hng."}),jsxRuntimeExports.jsx(ApplicationCard,{title:" Bin ng mnh",content:"Bc c th tng/gim nhiu % ch trong vi tun  khng hp vi nh u t an ton."})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" Hiu sut lch s 5 nm"}),jsxRuntimeExports.jsx(FactorCard,{number:"11/08/2020  68.47",title:"Sau nh COVID",color:"green",content:"Bc tng mnh cui 2020 trong khi vng chng  thu hp t l."}),jsxRuntimeExports.jsx(FactorCard,{number:"01/02/2021  63.13",title:"Mc thp nht 5 nm",color:"green",content:"Vng suy yu, bc phc hi  t l chm y."}),jsxRuntimeExports.jsx(FactorCard,{number:"0809/2022  ~95.8",title:"nh trung k",color:"red",content:"Bc lao dc nhanh hn vng  t l tng."}),jsxRuntimeExports.jsx(FactorCard,{number:"29/05/2024  73.07",title:"Ln gim him",color:"blue",content:"Mt trong nhng vng cn bng nht ca th trng."})]})]}),ApplicationCard=({title:tr,content:Hn})=>jsxRuntimeExports.jsxs("div",{className:"app-card",children:[jsxRuntimeExports.jsx("h4",{children:tr}),jsxRuntimeExports.jsx("p",{children:Hn})]}),FactorCard=({number:tr,title:Hn,content:er,color:nr})=>jsxRuntimeExports.jsxs("div",{className:`factor-card ${nr}`,children:[jsxRuntimeExports.jsx("div",{className:"factor-number",children:tr}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{children:Hn}),jsxRuntimeExports.jsx("p",{children:er})]})]});Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);function SPDRGold(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),sr=useParams(),{day:ar,month:or,year:lr,hour:cr,minute:ur}=sr;return reactExports.useEffect(()=>{(async()=>{try{const fr=getVang247FileUrl(ar,or,lr,cr,ur);if(!fr){console.warn("SPDRGold: invalid parameters for getVang247FileUrl",{day:ar,month:or,year:lr,hour:cr,minute:ur});return}const xr=await fetch(fr);if(!xr.ok){console.warn("SPDRGold: fetch returned non-ok status",xr.status);return}const yr=await xr.json();if(yr.status==="success"){const _r=yr?.data?.bieudo?.[3]?.data||[];_r[0]?.status===1&&Hn(_r[0]),_r[1]?.status===1&&nr(_r[1]),_r[3]?.status===1&&_r[2]?.status===1&&rr({dataMonth:_r[3],dataWeek:_r[2]})}}catch(fr){console.error("SPDRGold load error",fr)}})(),(async()=>await logUserInfo("Mn hnh SPDR.jsx"))()},[]),jsxRuntimeExports.jsxs("div",{children:[tr&&jsxRuntimeExports.jsx(GoldChart,{dataGoldTrust:tr,urlParams:sr}),er&&jsxRuntimeExports.jsx(SilverChart,{dataSilverTrust:er,urlParams:sr})]})}const widgetUrls={"Ch s kinh t":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/interest-rate&s=fdtr","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/gdp-growth&s=gdp+cqoq","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/crude-oil-stocks-change&s=unitedstacruoilstoch","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/api-crude-oil-stock-change&s=apicrudeoil","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/crude-oil-rigs&s=usoilrigs"],"Ch s lm pht":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/inflation-cpi&s=cpi+yoy","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/core-inflation-rate&s=usacorecpirate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/inflation-rate-mom&s=unitedstainfratmom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstapropricha&ref=/united-states/producer-prices-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/core-producer-prices-yoy&s=usacppy","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/producer-price-inflation-mom&s=usappim","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/pce-price-index-annual-change&s=usappiac","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usacppiac&ref=/united-states/core-pce-price-index-annual-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usacppim&ref=/united-states/core-pce-price-index-mom"],"Sn xut":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstamanpmi&ref=/united-states/manufacturing-pmi","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=napmpmi&ref=/united-states/business-confidence","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaindpromom&ref=/united-states/industrial-production-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usampmom&ref=/united-states/manufacturing-production-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstacaputi&ref=/united-states/capacity-utilization"],"Vic lm v ngi lao ng":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaadpempcha&ref=/united-states/adp-employment-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstajoboff&ref=/united-states/job-offers","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=nfp+tch&ref=/united-states/non-farm-payrolls","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usurtot&ref=/united-states/unemployment-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=ijcusa&ref=/united-states/jobless-claims","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstalabforparra&ref=/united-states/labor-force-participation-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaavehouear&ref=/united-states/average-hourly-earnings","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaahey&ref=/united-states/average-hourly-earnings-yoy"],"Ngi tiu dng v khch hng":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaperinc&ref=/united-states/personal-income","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabanlenrat&ref=/united-states/bank-lending-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstapersav&ref=/united-states/personal-savings","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usamce&ref=/united-states/michigan-consumer-expectations","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaperspe&ref=/united-states/personal-spending","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=concconf&ref=/united-states/consumer-confidence"],"Nhp khu v xut khu":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=tbextot&ref=/united-states/exports","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=tbimtot&ref=/united-states/imports","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=ustbtot&ref=/united-states/balance-of-trade","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaepm&ref=/united-states/export-prices-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaipm&ref=/united-states/import-prices-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=rstamom&ref=/united-states/retail-sales","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabusinv&ref=/united-states/business-inventories"],"Bt ng sn v thu nh":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabuiper&ref=/united-states/building-permits","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstahousta&ref=/united-states/housing-starts","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstanewhomsal&ref=/united-states/new-home-sales"]},economicIndicatorsGrouped={"Ch s kinh t":["Li Sut Tch Ly","GDP - S Liu Thc T c Cng B","Tr Lng Du Th EIA","D Tr Du Th API","S Gin Khoan Du Th"],"Ch s lm pht":["CPI - Lm Pht Tiu Dng Theo Nm","CPI Li - Lm Pht Tiu Dng Li Theo Nm","CPI - Lm Pht Tiu Dng Theo Thng","PPI - Lm Pht Gi Sn Xut Theo Nm","PPI Li - Lm Pht Gi Sn Xut Li Theo Nm","PPI - Lm Pht Gi Sn Xut Theo Thng","PCE - Lm Pht Chi Tiu C Nhn Theo Nm","PCE Li - Lm Pht Chi Tiu C Nhn Li Theo Nm","PCE Li - Lm Pht Chi Tiu C Nhn Li Theo Thng"],"Sn xut":["PMI - Ch S Qun L Thu Mua Sn Xut","Ch S PMI Sn Xut ca ISM","Sn Xut Cng Nghip Theo Thng","Sn Lng Sn Xut Theo Thng","Hiu Sut S Dng Cng Sut"],"Vic lm v ngi lao ng":["Thay i Vic Lm Phi Nng Nghip ADP","C Hi Vic Lm ca JOLTs","NonFarm","T L Tht Nghip"," Ngh Tr Cp Tht Nghip Ln u","T L Tham Gia Ngi Lao ng","Thu Nhp Trung Bnh Theo Gi (Theo Thng)","Thu Nhp Trung Bnh Theo Gi (Theo Nm)"],"Ngi tiu dng v khch hng":["Thu Nhp C Nhn","Li Sut i Vay","Tit Kim C Nhn","K Vng Tiu Dng Michigan","Tiu Xi C Nhn","Tm L Tiu Dng Michigan"],"Nhp khu v xut khu":["Xut Khu","Nhp Khu","Cn Cn Thng Mi","Gi Xut Khu","Gi Nhp Khu","Doanh S Bn L Theo Thng","Hng Tn Kho Kinh Doanh"],"Bt ng sn v thu nh":["Giy Php Xy Dng","Lng Nh Khi Cng Xy Dng","Doanh S Bn Nh Mi"]};function TradingEconomicsWidgets(){return reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh TradingEconomicsWidgets.jsx"))()},[]),jsxRuntimeExports.jsxs("div",{className:"te-widget-container",children:[jsxRuntimeExports.jsx("h1",{style:{fontSize:"60px",marginBottom:"60px",marginTop:"40px",fontWeight:"bold",color:"#ffc107"},children:"Ch s kinh t"}),Object.entries(widgetUrls).map(([tr,Hn],er)=>jsxRuntimeExports.jsxs("div",{children:[er!==0&&jsxRuntimeExports.jsx("h1",{style:{marginTop:"50px",color:"red",fontWeight:"bold"},children:tr}),jsxRuntimeExports.jsx("div",{className:"contain-widget",children:Hn.map((nr,ir)=>jsxRuntimeExports.jsxs("div",{className:"widget-item",children:[jsxRuntimeExports.jsx("h3",{children:economicIndicatorsGrouped[tr][ir]}),jsxRuntimeExports.jsx("iframe",{src:nr,title:`TE Widget ${ir}`,allowTransparency:"true",loading:"lazy",scrolling:"no"})]},ir))})]}))]})}function useRequireLocation(){const[tr,Hn]=reactExports.useState(null);return reactExports.useEffect(()=>{navigator.geolocation.getCurrentPosition(()=>{Hn(!0)},async()=>{try{const er=await navigator.permissions.query({name:"geolocation"});er.state==="denied"?Hn(!1):er.state==="granted"?Hn(!0):Hn(!1)}catch{Hn(!1)}})},[]),tr}const TimeRangeFilter=({activeRange:tr,onRangeChange:Hn})=>{const er=[{value:"1W",label:"1 Tun"},{value:"1M",label:"1 Thng"},{value:"6M",label:"6 Thng"},{value:"1Y",label:"1 Nm"},{value:"ALL",label:"Tt c"}];return jsxRuntimeExports.jsxs("div",{className:"time-range-filter",children:[jsxRuntimeExports.jsx("div",{className:"filter-label",children:"Khong thi gian:"}),jsxRuntimeExports.jsx("div",{className:"filter-buttons",children:er.map(nr=>jsxRuntimeExports.jsx("button",{className:`filter-btn ${tr===nr.value?"active":""}`,onClick:()=>Hn(nr.value),"aria-label":`Xem d liu ${nr.label}`,children:nr.value},nr.value))})]})};Chart$1.register(...registerables);const API_BASE_URL$1="https://api_gold.thinkdiff.us/",GOLD_API_MAP$1={kim_khanh_viet_hung_da_nang:"history_KIM_KHANH_VIET_HUNG_DA_NANG",kim_tung_an_giang:"history_KIM_TUNG_AN_GIANG",quoc_bao_bien_hoa_dong_nai:"history_QUOC_BAO_BIEN_HOA_DONGNAI",quoc_bao_lam_bien_hoa:"history_QUOC_BAO_LAM_BIEN_HOA",kim_hung_phat:"history_KIM_HUNG_PHAT",lap_duc_tan_phu_hcm:"history_LAP_DUC_TANPHU_HCM",kim_ngoc_lam_dong:"history_KIMNGOC_LAMDONG",kim_thuy_go_cong_tien_giang:"history_KIMTHUY_GO_CONG_TIEN_GIANG",kim_yen_binh_chanh_hcm:"history_KIM_YEN_BINH_CHANH_HCM",kim_phat_thoi_an_nha_be:"history_KIMPHAT_THOIAN_NHABE",luc_ngoc_thanh_bien_hoa:"history_LUC_NGOC_THANH_BIENHOA",phuoc_thanh_can_duoc_long_an:"history_PHUOCTHANH_CANDUOC_LONGAN",kim_phat_hiep_thanh_quan_12_hcm:"history_KIM_PHAT_HIEPTHANH_QUAN12",kim_phat_nha_be_hcm:"history_KIM_PHAT_NHA_BE_HCM",kim_hanh_thu_duc_hcm:"history_KIMHANH_THUDUC_HCM",quoc_bao_son_bien_hoa:"history_QUOCBAO_SON_BIENHOA",minh_thanh_ben_luc_long_an:"history_MINHTHANH_BENLUC_LONGAN",my_ngoc_long_thanh_long_an:"history_MYNGOC_LONGTHANH_LONGAN",kim_ton_long_khanh_dong_nai:"history_KIMTON_LONGKHANH_DONGNAI",yen_hien_nghia_hung_nam_dinh:"history_YENHIEN_NGHIAHUNG_NAMDINH",xuan_mui_ninh_binh:"history_XUAN_MUI_NINH_BINH",hai_sen_dien_bien:"history_HAISEN_DIENBIEN",thanh_xuan_dong_anh_hn:"history_THANHXUAN_DONGANH_HN",da_phuc_son_tay_hn:"history_DAPHUC_SONTAY_HN",nha_huong_hai_phong:"history_NHAHUONG_HAIPHONG",hjc_quang_ninh:"history_HJC_QUANGNINH",kim_chung_le_hoan_thanh_hoa:"history_KIMCHUNG_LEHOAN_THANHHOA",hoa_tung_quang_ngai:"history_HOATUNG_QUANGNGAI",quy_tung_thai_nguyen:"history_QUY_TUNG_THAINGUYEN",kim_lien_quang_yen_quang_ninh:"history_KIM_LIEN_QUANG_YEN_QUANG_NINH",trung_sinh_thai_nguyen:"history_TRUNGSINH_THAINGUYEN",huong_yen_hai_duong:"history_HUONGYEN_HAIDUONG",kim_khanh_ha_nam:"history_KIMKHANH_HANAM",hai_hong_hai_phong:"history_HAIHONG_HAIPHONG",quang_hanh_hai_phong:"history_QUANGHANH_HAIPHONG",son_ha_bac_ninh:"history_SONHA_BACNINH",lu_huong_dong_hung_thai_binh:"history_LU_HUONG_DONG_HUNG_THAI_BINH",anh_minh_ho_tung_mau_hn:"history_ANHMINH_HOTUNGMAU_HN",huong_chi_bac_giang:"history_HUONGCHI_BACGIANG",nhat_ha_hai_phong:"history_NHAHA_HAIPHONG",phi_doan_ha_dong_hn:"history_PHIDOAN_HADONG",dai_nghia_nam_dinh:"history_DAINGHIA_NAMDINH",tien_ngoc_tu_son_bac_ninh:"history_TIENNGOC_TUSON_BACNINH",phuc_thanh_nam_dinh:"history_PHUCTHANH_NAMDINH",phuc_thanh_long_bien:"history_PHUCTHANH_LONGBIEN",hoan_hue_lao_cai:"history_HOANHUE_LAOCAI",gia_vang_mi_hong_sjc_tu_do_goldenfund_sjc_tu_do:"history_MIHONG_HCM",vang_doji:"history_DOJI",chow_tai_fook:"history_CHOW_TAI_FOOK",chow_tai_seng:"history_CHOW_TAI_SENG",lukfook_jewellery:"history_LukFook_Jewellery",chow_sang_sang:"history_Chow_Sang_Sang",vang_bac_huong_diu_bac_ninh:"history_HUONGDIU_BACNINH",huy_thanh_doi_can_hn:"history_HUYTHANH_DOICAN_HN",vang_nguyen_lieu_nam_dinh:"history_NGUYENLIEU_NAMDINH",malabargoldanddiamonds:"history_malabargoldanddiamonds",tokuriki_kanda_co_jp:"history_tokuriki_kanda_co_jp",tanaka_co_jp:"history_tanaka_co_jp",ishifuku:"history_ishifuku_JP",kim_tin_cao_bang:"history_KIMTIN_CAOBANG",bao_tin_manh_hai:"history_BAO_TIN_MANH_HAI",phu_quy_vang:"history_PHUQUY_VANG",anekalogam:"history_Anekalogam",aurum24_russian:"history_aurum24_russian",orient_singapore:"history_Orient_SINGAPORE",goldheart:"history_Goldheart_SINGAPORE",gvs_trading_dubai:"history_GVS_Trading_DUBAI",kanz_jewels_dubai:"history_Kanz_Jewels_DUBAI",igold:"history_IGOLD",lam_ngoc_thanh_bien_hoa:"history_LAMNGOCTHANH_BIENHOA",vang_ancarat:"history_VANG_ANCARAT",bao_tin_lan_vy_cau_giay_hn:"history_BAO_TIN_LAN_VY_CAU_GIAY_HN",kim_ngan_phuc_ha_noi:"history_KIM_NGAN_PHUC_HA_NOI",chien_minh_cau_giay_hn:"history_CHIEN_MINH_CAU_GIAY_HN",kim_chau_an_giang:"history_KIM_CHAU_AN_GIANG",vang_kim_hoan_camau:"history_VANG_KIM_HOAN_CAMAU",vang_pnj:"history_VANG_PNJ",phu_tai_long_bien_hn:"history_PHU_TAI_LONG_BIEN_HN",ngoc_tham_dong_thap:"history_NGOC_THAM_DONG_THAP",vang_btmc:"history_VANG_BTMC",sacombank_sbj_gold:"history_SACOMBANK_GOLD",huong_chi_bac_ninh:"history_HUONGCHI_BACGIANG","kim_hoa-phan_thiet-binh_thuan":"history_KIM_HOA_PHAN_THIET_BINH_THUAN",tu_minh_vinh_long:"history_HONG_LINH_VINH_LONG",hong_linh_vinh_long:"history_HONG_LINH_VINH_LONG","hong_nga-cao_lanh-dong_thap":"history_HONG_NGA_CA_LANH_DONG_THAP","kim_bao_tri-tan_phu-hcm":"history_KIM_BAO_TRI_TAN_PHU_HCM","kim_chau_2-an_giang":"history_KIM_CHAU_2_AN_GIANG","trong_nghia-quan_10-hcm":"history_TRONG_NGHIA_QUAN_10_HCM","kim_hoang_ngoan-long_khanh-dong":"history_KIM_HOANG_NGOAN_LONG_KHAN_DONG_NAI","kim_uyen-long_khanh-dong_nai":"history_KIM_UYEN_LONG_KHANH_DONG_NAI","kim_loan-quan_6-hcm":"history_KIM_LOAN_QUAN_6_HCM","kim_anh_tuan-long_khanh-dong_nai":"history_KIM_ANH_TUAN_Long_Khanh_Dong_Nai","kieu_ngoc-ha_tinh":"history_KIEU_NGOC_HA_TINH","ngoc_ha-quang_binh":"history_NGOC_HA_QUANG_BINH","kim_viet-tam_ky-quang_nam":"history_KIM_VIET_TAM_KY_QUANG_NAM","kim_thach_bich-nha_trang":"history_KIM_THACH_BICH_NHA_TRANG","kim_khanh_viet_hung-lien_chieu-da_nang":"history_KIM_KHANH_VIET_HUNG_LIEN_CHIEU_DA_NANG","my_long-quy_nhon":"history_MY_LONG_QUY_NHON","ngoc_thien-binh_dinh":"history_NGOC_THIEN_BINH_DINH",hoakimnguyen:"history_hoakimnguyen","hoa_kim_nguyen-da_nang":"history_HOA_KIM_NGUYEN_DA_NANG","nghia_tin-tam_ky-quang_nam":"history_NGHIA_TIN_TAM_KY_QUANG_NAM","kim_thu-ca_mau":"history_KIM_THU_CA_MAU","ngoc_hai-nhj-my_tho-tien_giang":"history_NGOC_HAI_NHJ_MY_THO_TIEN_GIANG",sinh_dien_bac_ninh:"history_SINH_DIEN_BAC_NINH","kim_thanh_h-binh_tan-hcm":"history_KIM_THANH_HBINH_TAN_HCM","mao_thiet-thai_binh":"history_MAOTHIET_THAIBINH","vietagold-me_tri-ntl-hn":"history_VIETAGOLD_ME_TRI",bullionbypost:"history_bullionbypost",korea_gold_exchange:"history_Korea_Gold_Exchange","thanh_lien-hai phong":"history_Thanh_Lien_HAI_PHONG",kim_chau_hai_hau_nam_inh:"history_Kim_Chau_Hai_Hau_Nam_Dinh","candere.com":"history_candere_com"},formatCurrency=tr=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(tr),formatDate=tr=>tr?new Date(tr).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"";function findApiForVendor(tr){if(!tr)return null;const Hn=tr.toLowerCase().trim();if(GOLD_API_MAP$1[Hn])return API_BASE_URL$1+GOLD_API_MAP$1[Hn];const er=Hn.replace(/[^a-z0-9]/g,""),nr=Object.keys(GOLD_API_MAP$1).find(ir=>{const rr=ir.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"");return rr.includes(er)||er.includes(rr)});return nr?API_BASE_URL$1+GOLD_API_MAP$1[nr]:null}const calculateDistance=(tr,Hn,er,nr)=>{const rr=cr=>cr*Math.PI/180,sr=rr(er-tr),ar=rr(nr-Hn),or=Math.sin(sr/2)*Math.sin(sr/2)+Math.cos(rr(tr))*Math.cos(rr(er))*Math.sin(ar/2)*Math.sin(ar/2);return 6371*(2*Math.atan2(Math.sqrt(or),Math.sqrt(1-or)))},GrowthTable=({title:tr,data:Hn})=>!Hn||Hn.length===0?null:jsxRuntimeExports.jsxs("div",{className:"gold-container",style:{marginTop:"20px"},children:[jsxRuntimeExports.jsx("h2",{className:"gold-header",children:tr}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"gold-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tun"}),jsxRuntimeExports.jsx("th",{children:"Ngy bt u"}),jsxRuntimeExports.jsx("th",{children:"Gi mua u"}),jsxRuntimeExports.jsx("th",{children:"Ngy kt thc"}),jsxRuntimeExports.jsx("th",{children:"Gi mua cui"}),jsxRuntimeExports.jsx("th",{className:"text-right",children:"Li nhun"}),jsxRuntimeExports.jsx("th",{className:"text-right",children:"Tng trng"})]})}),jsxRuntimeExports.jsx("tbody",{children:Hn.map((er,nr)=>{const ir=!!er.cuoituan,rr=ir?er.dautuan:er.cuoi,sr=ir?er.cuoituan:er.dau,ar=ir?er.tilephantram_1tuan:er.tilephantram_all,or=er.loinhuan>=0?"#16a34a":"#dc2626";return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"font-bold",children:["Tun ",nr+1]}),jsxRuntimeExports.jsx("td",{children:formatDate(rr?.datetime)}),jsxRuntimeExports.jsx("td",{children:formatCurrency(rr?.buy)}),jsxRuntimeExports.jsx("td",{children:formatDate(sr?.datetime)}),jsxRuntimeExports.jsx("td",{children:formatCurrency(sr?.buy)}),jsxRuntimeExports.jsx("td",{style:{color:or,fontWeight:"bold",textAlign:"left"},children:formatCurrency(er.loinhuan)}),jsxRuntimeExports.jsxs("td",{style:{color:or,fontWeight:"bold",textAlign:"left",paddingLeft:"40px"},children:[ar?ar.toFixed(2):0,"%"]})]},nr)})})]})})]}),GoldDetail=()=>{const{vendorName:tr}=useParams(),Hn=useNavigate(),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!0),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState(null),[xr,yr]=reactExports.useState(""),[_r,Sr]=reactExports.useState(null),[jr,Dr]=reactExports.useState(null),[Ir,Mr]=reactExports.useState("ALL"),[Or,Lr]=reactExports.useState("VANG");reactExports.useEffect(()=>{(async()=>{ar(!0),lr(null);try{let eo=new Date,io=null;for(;!io;){const Ao=String(eo.getDate()).padStart(2,"0"),zo=String(eo.getMonth()+1).padStart(2,"0"),Ro=eo.getFullYear(),Go=`${Ao}_${zo}_${Ro}`;try{const Vo=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Go}`)).json();if(Vo&&Vo.data&&Vo.data.length>0){io=Vo;break}else eo.setDate(eo.getDate()-1)}catch(Qo){console.warn(`Khng th fetch d liu ngy ${Go}:`,Qo),eo.setDate(eo.getDate()-1)}}const so=io.data.reduce((Ao,zo)=>{const Ro=new Date(Ao.modified_time.split("/").reverse().join("-"));return new Date(zo.modified_time.split("/").reverse().join("-"))>Ro?zo:Ao},io.data[0]).link.match(/\/([^\/]+)\.json$/)[1],[no,po,co,lo,ao]=so.split("_").map(Ao=>parseInt(Ao,10)),xo=getVang247FileUrl(no,po,co,lo,ao);if(!xo)throw new Error("Invalid parameters when building Vang247 file URL in GoldDetail");const Po=(await fetchVang247SingleFile(xo)).data?.list_server;if(!Array.isArray(Po))throw new Error("list_server khng phi mng");const Oo=Ao=>Ao?Ao.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""):"",So=Po.find(Ao=>Oo(Ao.name)===Oo(tr)||Oo(Ao.name).includes(Oo(tr)));if(!So)console.warn("Khng tm thy khp. Danh sch server:",Po.map(Ao=>Ao.name)),lr(`Khng tm thy d liu cho "${tr}"`);else{const Ao=So.maps;let zo=null;if(Array.isArray(Ao)&&Ao.length>0){const Qo=await new Promise(Vo=>{navigator.geolocation.getCurrentPosition(nl=>Vo({lat:nl.coords.latitude,long:nl.coords.longitude}),()=>Vo(null),{enableHighAccuracy:!0})});if(Qo){const Vo=Ao.map(nl=>calculateDistance(Qo.lat,Qo.long,nl.lat,nl.long));zo=Math.min(...Vo)}}const Ro={...So,items:So.data?.data?.items||[],fetched_at:So.data?.data?.fetched_at||So.data?.data?.timestamp||null,distance:zo!==null?zo.toFixed(2):null};rr(Array.isArray(Ao)&&Ao.length>0?Ao:[]),nr(Ro);const Go=findApiForVendor(convertToKey(tr));if(yr(Go),Go){const Vo=await(await fetch(Go)).json();fr(Vo),Vo?.data_bac?.tangtruong?.length&&Dr(Vo.data_bac.tangtruong),Vo?.data_vang?.tangtruong?.length&&Sr(Vo.data_vang.tangtruong)}}}catch(eo){console.error("Li khi fetch vendor:",eo),lr(eo.message||" xy ra li khi ti d liu")}finally{ar(!1)}})()},[tr]),reactExports.useEffect(()=>{(async()=>{if(!(!Array.isArray(ir)||ir.length===0))try{const eo=[];for(let io of ir){const so=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${io.lat}&lon=${io.long}&format=json`)).json();eo.push({lat:io.lat,long:io.long,address:so.display_name})}ur(eo)}catch(eo){console.error("Li ly a ch:",eo)}})()},[ir]),reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh GoldDetail.jsx"))()},[]);const Fr=reactExports.useMemo(()=>{let Yr=null;if(Or==="VANG"&&(Yr=dr?.data_vang?.data),Or==="BAC"&&(Yr=dr?.data_bac?.data),!Yr||Yr.length===0)return[];const eo=new Map;return Yr.forEach(io=>{if(!io?.datetime)return;const uo=io.datetime.split(" ")[0];eo.has(uo)||eo.set(uo,{time:uo,buy:Number(io.buy),sell:Number(io.sell)})}),[...eo.values()].sort((io,uo)=>new Date(io.time)-new Date(uo.time))},[dr,Or]),Zr=((Yr,eo)=>{if(eo==="ALL")return Yr;if(!Yr||Yr.length===0)return[];const io=new Date;let uo;switch(eo){case"1W":uo=new Date(io),uo.setDate(io.getDate()-7);break;case"1M":uo=new Date(io),uo.setMonth(io.getMonth()-1);break;case"6M":uo=new Date(io),uo.setMonth(io.getMonth()-6);break;case"1Y":uo=new Date(io),uo.setFullYear(io.getFullYear()-1);break;default:return Yr}return Yr.filter(so=>new Date(so.time)>=uo)})(Fr,Ir),Hr=reactExports.useMemo(()=>{if(!Zr||Zr.length===0)return{labels:[],datasets:[]};const Yr=Zr.map(io=>io.time),eo=[{label:"Gi mua",data:Zr.map(io=>io.buy),borderColor:"#0066ff",tension:.3},{label:"Gi bn",data:Zr.map(io=>io.sell),borderColor:"#ff0000",tension:.3}];return{labels:Yr,datasets:eo}},[Zr]);return sr?jsxRuntimeExports.jsx("div",{children:"ang ti d liu..."}):or?jsxRuntimeExports.jsx("div",{children:or}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("a",{href:"#",className:"back-button",onClick:Yr=>{Yr.preventDefault(),Hn(-1)},children:[jsxRuntimeExports.jsx("span",{className:"icon",children:""})," Quay li"]}),jsxRuntimeExports.jsxs("div",{className:"price-address-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"max_with",children:jsxRuntimeExports.jsx(PriceTable,{vendorData:er})}),jsxRuntimeExports.jsxs("div",{className:"address-list",children:[jsxRuntimeExports.jsx("strong",{style:{display:"block",marginBottom:"8px"},children:"Danh sch a ch:"}),Array.isArray(cr)&&cr.length>0?cr.map((Yr,eo)=>jsxRuntimeExports.jsx("div",{className:"address-item",style:{padding:"8px 4px",borderBottom:eo!==cr.length-1?"1px dashed #ccc":"none"},children:jsxRuntimeExports.jsxs("a",{href:`https://www.google.com/maps/search/${Yr.lat},+${Yr.long}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"white",display:"block"},children:[eo+1,". ",Yr.address]})},eo)):jsxRuntimeExports.jsx("div",{style:{color:"white",fontStyle:"italic"},children:"ang ly a ch"})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{width:"90%",maxWidth:"1200px",margin:"30px auto"},children:[jsxRuntimeExports.jsx("h3",{children:"Lch s gi vng"}),xr&&jsxRuntimeExports.jsxs("p",{style:{fontSize:12,color:"#666"},children:["Ngun: ",xr]}),jsxRuntimeExports.jsxs("div",{style:{margin:"10px 0"},children:[jsxRuntimeExports.jsx("button",{className:`btn-type ${Or==="VANG"?"btn-active":""}`,onClick:()=>Lr("VANG"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`btn-type ${Or==="BAC"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>Lr("BAC"),children:"Bc"})]}),jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:Ir,onRangeChange:Mr}),jsxRuntimeExports.jsx(Line,{data:Hr}),jsxRuntimeExports.jsx(GrowthTable,{title:"Bng Tng Trng Gi Vng",data:_r}),jsxRuntimeExports.jsx(GrowthTable,{title:"Bng Tng Trng Gi Bc",data:jr})]}),jsxRuntimeExports.jsx("div",{style:{height:"300px",width:"80%",marginTop:"20px",margin:"auto"},children:ir&&ir.length>0?jsxRuntimeExports.jsxs(MapContainer,{center:[ir[0].lat,ir[0].long],zoom:16,style:{height:"300px",width:"100%"},children:[jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",attribution:"Transportation data  Esri",opacity:.6}),ir.map((Yr,eo)=>jsxRuntimeExports.jsx(Marker,{position:[Yr.lat,Yr.long],children:jsxRuntimeExports.jsxs(Popup,{children:["a im ",eo+1," ",jsxRuntimeExports.jsx("br",{}),er.name," - ",er.quoc_gia,jsxRuntimeExports.jsx(PriceTable,{vendorData:er})]})},eo))]}):jsxRuntimeExports.jsx("p",{children:"Khng c d liu bn "})})]})};function CardNews({data:tr,setIsShowModal:Hn,setNewsSelect:er,currentPage:nr=1,translateState:ir,setTranslateState:rr}){const[sr,ar]=reactExports.useState(!1),{isTranslated:or,translatedText:lr}=ir,cr=reactExports.useRef(null),[ur,dr]=reactExports.useState(!1),[fr]=useSearchParams(),xr=useNavigate(),yr="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg";if(!tr)return null;const _r=async Yr=>{if(Yr.stopPropagation(),or){rr({isTranslated:!1,translatedText:""});return}if(lr){rr({isTranslated:!0,translatedText:lr});return}ar(!0);try{const eo=tr?.content_text||tr?.content_text_vi||"",io=document.createElement("div");io.innerHTML=eo;const uo=io.innerText||io.textContent||"";if(!uo.trim())return;const po=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(uo)}`)).json())[0].map(co=>co[0]).join("");rr({isTranslated:!0,translatedText:po})}catch(eo){console.error(eo)}finally{ar(!1)}},Sr=Yr=>{if(!Yr&&Yr!==0)return null;if(typeof Yr!="string")return Yr&&typeof Yr=="object"&&(Yr.url||Yr.src)||null;const eo=Yr.trim();if(!eo)return null;if(eo.startsWith("data:image/")||/^https?:\/\//i.test(eo))return eo;const io=eo.replace(/\s+/g,"");return io.startsWith("iVBOR")?`data:image/png;base64,${io}`:io.startsWith("/9")?`data:image/jpeg;base64,${io}`:eo},Dr=(Array.isArray(tr?.images)?tr.images:typeof tr?.images=="string"?[tr.images]:[]).map(Yr=>Sr(Yr)).filter(Boolean),Ir=tr?.content_text||tr?.content_text_vi||"",Mr=document.createElement("div");Mr.innerHTML=Ir;const Or=Mr.innerText||Mr.textContent||"",Lr=or?lr:Or,Vr=Lr.length>200?`${Lr.substring(0,200)}...`:Lr,Zr=()=>{const Yr={...tr,isTranslatedFromCard:or,translatedTextFromCard:lr};er&&er(Yr),Hn&&Hn(!0);const eo=nr||fr.get("page")||1,io=new URLSearchParams;io.set("page",eo),io.set("idPost",tr.post_db_id),xr(`?${io.toString()}`)},Hr=async()=>{const Yr=nr||fr.get("page")||1,io=`${window.location.href.split("?")[0]}?page=${Yr}&idPost=${tr.post_db_id}`,uo=tr?.name_group||"Tin tc",so=Vr;if(navigator.share)try{await navigator.share({title:uo,text:so,url:io})}catch(no){console.error("Li chia s:",no)}else navigator.clipboard.writeText(io).then(()=>{alert(" sao chp lin kt!")}).catch(no=>{console.error("Li sao chp:",no)})};return jsxRuntimeExports.jsxs("div",{className:"post-card",children:[jsxRuntimeExports.jsxs("div",{className:"post-header",children:[jsxRuntimeExports.jsx("img",{src:tr?.avatar_group||yr,alt:"User Avatar",className:"user-avatar"}),jsxRuntimeExports.jsxs("div",{className:"user-info",children:[jsxRuntimeExports.jsx("h3",{className:"user-name",children:tr?.name_group}),jsxRuntimeExports.jsxs("span",{className:"post-date",children:[jsxRuntimeExports.jsx(LuClock,{size:14,className:"icon-small"})," ",tr?.PostTime||""]})]}),jsxRuntimeExports.jsxs("button",{onClick:_r,disabled:sr,className:"translate-btn",style:{marginLeft:"auto",padding:"4px 12px",fontSize:"12px",cursor:sr?"not-allowed":"pointer",borderRadius:"20px",border:"1px solid #1877f2",background:or?"#1877f2":"#fff",color:or?"#fff":"#1877f2",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"},children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),sr?"...":or?"Gc":"Dch VN"]})]}),jsxRuntimeExports.jsxs("div",{className:"post-content",children:[jsxRuntimeExports.jsx("div",{ref:cr,className:"post-content-text",onClick:Zr,dangerouslySetInnerHTML:{__html:or?lr:tr?.content_text||tr?.content_text_vi||""}}),jsxRuntimeExports.jsx("div",{className:`see-more-wrapper ${ur?"show":""}`,children:jsxRuntimeExports.jsx("span",{className:"see-more",onClick:Zr,children:"Xem thm"})})]}),jsxRuntimeExports.jsx("div",{className:"post-media",onClick:Zr,children:Dr.length>0&&jsxRuntimeExports.jsx("img",{src:Dr[0],className:"post-card-image",alt:"news"})}),jsxRuntimeExports.jsxs("div",{className:"post-footer",children:[jsxRuntimeExports.jsx("div",{className:"post-stats",children:jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx(FaEye,{size:18}),jsxRuntimeExports.jsx("span",{children:tr?.so_lan_view||"0"})]})}),jsxRuntimeExports.jsxs("div",{className:"post-actions",children:[jsxRuntimeExports.jsxs("button",{className:"action-btn",onClick:Zr,children:[jsxRuntimeExports.jsx(FaRegComment,{size:18})," ",jsxRuntimeExports.jsx("span",{children:"Bnh lun"})]}),jsxRuntimeExports.jsxs("button",{className:"action-btn",onClick:Hr,children:[jsxRuntimeExports.jsx(FaShare,{size:18})," Chia s"]})]})]})]})}function IoMdClose(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(tr)}function IoMdExpand(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"},child:[]}]})(tr)}function LightboxModal({isOpen:tr,onClose:Hn,imageSrc:er,newsSelect:nr,comments:ir=[],lat:rr,long:sr}){const[ar,or]=reactExports.useState(ir),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(!1),fr=reactExports.useRef(null),[xr,yr]=reactExports.useState(nr?.isTranslatedFromCard||!1),[_r,Sr]=reactExports.useState(nr?.translatedTextFromCard||""),[jr,Dr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{or(ir)},[ir]),reactExports.useEffect(()=>{yr(nr?.isTranslatedFromCard||!1),Sr(nr?.translatedTextFromCard||"")},[nr]),reactExports.useEffect(()=>{fr.current?.scrollIntoView({behavior:"smooth"})},[ar]),!tr)return null;const Ir=async()=>{if(xr){yr(!1);return}if(_r){yr(!0);return}Dr(!0);try{const Lr=nr?.content_text||nr?.content_text_vi||"",Fr=document.createElement("div");Fr.innerHTML=Lr;const Vr=Fr.innerText||Fr.textContent||"";if(!Vr.trim())return;const Hr=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Vr)}`)).json();if(Hr&&Hr[0]){const Yr=Hr[0].map(eo=>eo[0]).join("");Sr(Yr),yr(!0)}}catch(Lr){console.error("Li dch Lightbox:",Lr)}finally{Dr(!1)}},Mr=async()=>{if(nr?.post_db_id)try{const Lr=`https://api_gold.thinkdiff.us/view_detail_comment_post/${nr.post_db_id}`,Vr=await(await fetch(Lr)).json();Vr?.data&&or(Vr.data)}catch(Lr){console.warn("Error fetching comments:",Lr)}},Or=async()=>{if(!lr.trim())return;const Lr=rr!=null&&sr!=null?{lat:rr,long:sr}:{lat:0,long:0},Fr=new FormData;Fr.append("maps",JSON.stringify(Lr)),Fr.append("content",lr),Fr.append("idPost",nr?.post_db_id);try{dr(!0),(await(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Fr})).json())?.status==="success"&&(cr(""),await Mr())}catch(Vr){console.error("API Error:",Vr)}finally{dr(!1)}};return jsxRuntimeExports.jsxs("div",{className:"lightbox-overlay",onClick:Hn,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[jsxRuntimeExports.jsxs("div",{className:"lightbox-content",onClick:Lr=>Lr.stopPropagation(),style:{display:"flex",width:"95%",height:"90%",background:"#111",borderRadius:"12px",overflow:"hidden"},children:[jsxRuntimeExports.jsx("div",{style:{flex:2,display:"flex",justifyContent:"center",alignItems:"center",background:"#000",borderRight:"1px solid #222"},children:jsxRuntimeExports.jsx("img",{src:er,alt:"Post",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),jsxRuntimeExports.jsxs("div",{style:{flex:1,minWidth:"350px",display:"flex",flexDirection:"column",background:"#111"},children:[jsxRuntimeExports.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px"},children:nr?.name_group}),jsxRuntimeExports.jsx("small",{style:{color:"#888"},children:nr?.PostTime})]}),jsxRuntimeExports.jsxs("button",{onClick:Ir,disabled:jr,style:{padding:"5px 10px",borderRadius:"15px",border:"1px solid #1877f2",background:xr?"#1877f2":"transparent",color:xr?"#fff":"#1877f2",fontSize:"12px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[jsxRuntimeExports.jsx(LuLanguages,{size:14})," ",jr?"...":xr?"Gc":"Dch VN"]})]}),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,overflowY:"auto",padding:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#eee",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:xr?_r:nr?.content_text_vi||nr?.content_text||""}}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"24px"},children:[jsxRuntimeExports.jsx("strong",{style:{color:"#fff",display:"block",marginBottom:"12px",borderTop:"1px solid #222",paddingTop:"12px"},children:"Bnh lun"}),ar.map((Lr,Fr)=>jsxRuntimeExports.jsxs("div",{style:{marginBottom:"12px",display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#333",flexShrink:0}}),jsxRuntimeExports.jsxs("div",{style:{background:"#222",padding:"8px 12px",borderRadius:"12px",flexGrow:1},children:[jsxRuntimeExports.jsxs("p",{style:{margin:0,fontSize:"13px",fontWeight:"bold",color:"#aaa"},children:["Ngi dng ",Fr+1]}),jsxRuntimeExports.jsx("p",{style:{margin:"4px 0 0",fontSize:"14px",color:"#fff"},children:Lr.contentVI||Lr.content})]})]},Lr.id||Fr)),jsxRuntimeExports.jsx("div",{ref:fr})]})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"16px",borderTop:"1px solid #222",display:"flex",gap:"10px",alignItems:"center"},children:[jsxRuntimeExports.jsx("textarea",{value:lr,onChange:Lr=>cr(Lr.target.value),placeholder:"Vit bnh lun...",style:{flexGrow:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #333",background:"#1a1a1a",color:"#fff",outline:"none",resize:"none",height:"40px",fontSize:"14px"}}),jsxRuntimeExports.jsx("button",{onClick:Or,disabled:!lr.trim()||ur,style:{background:"transparent",color:lr.trim()?"#0a84ff":"#555",border:"none",cursor:"pointer",fontSize:"20px",display:"flex"},children:ur?"...":jsxRuntimeExports.jsx(IoSend,{})})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:Hn,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(0,0,0,0.5)",color:"#fff",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx(IoMdClose,{size:24})})]})}function ModalNews({setIsShowModal:tr,newsSelect:Hn,translateState:er,setTranslateState:nr}){const ir="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg",[rr,sr]=reactExports.useState(!1),[ar,or]=reactExports.useState(""),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState([]),[fr,xr]=reactExports.useState(!1),[yr,_r]=reactExports.useState({}),[Sr,jr]=reactExports.useState({}),[Dr,Ir]=reactExports.useState(!1),{isTranslated:Mr,translatedText:Or}=er,[Lr,Fr]=reactExports.useState(""),[Vr,Zr]=reactExports.useState(!1),[Hr,Yr]=reactExports.useState(!1),eo=reactExports.useRef(null),io=useNavigate();useLocation();const[uo]=useSearchParams(),so=async(Ro,Go)=>{if(yr[Ro]){_r(Qo=>({...Qo,[Ro]:Qo[Ro].isTranslated?{...Qo[Ro],isTranslated:!1}:{...Qo[Ro],isTranslated:!0}}));return}jr(Qo=>({...Qo,[Ro]:!0}));try{const Qo=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Go)}`);if(!Qo.ok)throw new Error("Gii hn API hoc li kt ni");const Vo=await Qo.json();if(Vo&&Vo[0]){const nl=Vo[0].map(fl=>fl[0]).join("");Fr(nl),_r(fl=>({...fl,[Ro]:{originalText:Go,translatedText:nl,isTranslated:!0}}))}}catch(Qo){console.error("Li dch bnh lun:",Qo)}finally{jr(Qo=>({...Qo,[Ro]:!1}))}},no=async()=>{if(Or){nr({isTranslated:!0,translatedText:Or}),Fr(Or);return}xr(!0);try{const Ro=Hn?.content||Hn?.content_text_vi||"",Go=document.createElement("div");Go.innerHTML=Ro;const Qo=Go.innerText||Go.textContent||"";if(!Qo.trim())return;const fl=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Qo)}`)).json())[0].map(Bl=>Bl[0]).join("");nr({isTranslated:!0,translatedText:fl}),Fr(fl)}catch(Ro){console.error("Li t ng dch:",Ro)}finally{xr(!1)}};reactExports.useEffect(()=>{Hn?.post_db_id&&(po(),Mr||no())},[Hn?.post_db_id]);const po=async()=>{if(Hn?.post_db_id)try{const Go=await(await fetch(`https://api_gold.thinkdiff.us/view_detail_comment_post/${Hn.post_db_id}`)).json();Go?.data&&dr(Go.data)}catch{Hn?.list_comment&&dr(Hn.list_comment)}};function co(){const[Ro,Go]=reactExports.useState({lat:null,long:null});return reactExports.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Qo=>{Go({lat:Qo.coords.latitude,long:Qo.coords.longitude})},Qo=>{console.error("Li ly v tr:",Qo),Go({lat:null,long:null})}):console.error("Trnh duyt khng h tr geolocation")},[]),Ro}const{lat:lo,long:ao}=co(),xo=async()=>{if(!ar.trim()||lr)return;const Ro={lat:lo||0,long:ao||0},Go=new FormData;Go.append("content",ar),Go.append("idPost",Hn?.post_db_id),Go.append("browser_info","Chrome Web"),Go.append("maps",JSON.stringify(Ro));try{cr(!0),(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Go})).ok&&(or(""),setTimeout(po,1e3))}catch(Qo){console.error(Qo)}finally{cr(!1)}},_o=()=>{tr(!1);const Ro=uo.get("page")||1;io(`?page=${Ro}`,{replace:!0}),zo()},Po=async()=>{const Ro=uo.get("page")||1,Qo=`${window.location.href.split("?")[0]}?page=${Ro}&idPost=${Hn.post_db_id}`,Vo=Hn?.name_group||"Tin tc",nl=Mr?Or:Hn?.content||Hn?.content_text_vi||"";if(navigator.share)try{await navigator.share({title:Vo,text:nl,url:Qo})}catch(fl){console.error("Li chia s:",fl)}else navigator.clipboard.writeText(Qo).then(()=>{alert(" sao chp lin kt!")}).catch(fl=>{console.error("Li sao chp:",fl)})},Oo=Array.isArray(ur)?ur.filter((Ro,Go,Qo)=>Qo.findIndex(Vo=>Vo.id===Ro.id)===Go):[],So=async Ro=>{if(!Ro||Ro.length===0)return;const Go={};Ro.forEach((Vo,nl)=>{const fl=Vo.id||nl;yr[fl]||(Go[fl]=!0)}),jr(Vo=>({...Vo,...Go}));const Qo={};await Promise.all(Ro.map(async(Vo,nl)=>{const fl=Vo.id||nl;if(yr[fl])return;const Bl=Vo.contentVI||Vo.content||"";if(Bl.trim())try{const Gl=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Bl)}`);if(!Gl.ok)return;const Tl=await Gl.json();if(Tl&&Tl[0]){const Pc=Tl[0].map(mc=>mc[0]).join("");Qo[fl]={originalText:Bl,translatedText:Pc,isTranslated:!0}}}catch(Gl){console.error(`Li dch comment ${fl}:`,Gl)}})),_r(Vo=>({...Vo,...Qo})),jr(Vo=>{const nl={...Vo};return Object.keys(Go).forEach(fl=>nl[fl]=!1),nl})};reactExports.useEffect(()=>{if(ur&&ur.length>0){const Ro=ur.filter((Go,Qo,Vo)=>Vo.findIndex(nl=>nl.id===Go.id)===Qo);So(Ro)}},[ur]),reactExports.useEffect(()=>{const Ro=Mr?Or:Hn?.content||Hn?.content_text_vi||"";if(Ro){const Go=document.createElement("div");Go.innerHTML=Ro;const Qo=Go.innerText||Go.textContent||"";Fr(Qo)}},[Mr,Or,Hn]);const Ao=()=>{const Ro=window.speechSynthesis;if(Hr){Ro.resume(),Yr(!1),Zr(!0);return}if(Vr&&!Hr){Ro.pause(),Yr(!0);return}if(!Lr)return;Ro.cancel();const Go=new SpeechSynthesisUtterance(Lr);Go.lang="vi-VN",Go.rate=1.1,Go.onstart=()=>{Zr(!0),Yr(!1)},Go.onend=()=>{Zr(!1),Yr(!1)},Go.onerror=()=>{Zr(!1),Yr(!1)},eo.current=Go,Ro.speak(Go)},zo=()=>{window.speechSynthesis.cancel(),Zr(!1),Yr(!1)};return jsxRuntimeExports.jsxs("div",{className:"overlay-modal-news",onClick:Ro=>Ro.target===Ro.currentTarget&&_o(),children:[jsxRuntimeExports.jsxs("div",{className:`modal ${rr?"modal-zoom":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{style:{flex:1,textAlign:"center",marginLeft:"24px"},children:"Bi vit chi tit"}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[Lr&&jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"10px"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[jsxRuntimeExports.jsx("button",{onClick:Ao,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:Vr&&!Hr?"#f0ad4e":"#0275d8",color:"white",border:"none",borderRadius:"4px",whiteSpace:"nowrap",fontSize:"14px"},children:Hr?"":Vr?"":""}),jsxRuntimeExports.jsx("button",{onClick:zo,disabled:!Vr&&!Hr,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:"#d9534f",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",opacity:!Vr&&!Hr?.5:1,whiteSpace:"nowrap"},children:"Stop"})]})}),jsxRuntimeExports.jsx("button",{className:"modal-icon-btn",onClick:()=>sr(Ro=>!Ro),title:rr?"Thu nh":"Phng to",children:jsxRuntimeExports.jsx(IoMdExpand,{})}),jsxRuntimeExports.jsx("button",{className:"modal-icon-btn",onClick:_o,title:"ng",children:jsxRuntimeExports.jsx(IoMdClose,{})})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-content-news",children:[jsxRuntimeExports.jsxs("div",{className:"post-card",children:[jsxRuntimeExports.jsxs("div",{className:"post-header",style:{display:"flex",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx("img",{src:Hn?.avatar_group||ir,className:"user-avatar",style:{borderRadius:"50%"},alt:"avt"}),jsxRuntimeExports.jsxs("div",{className:"user-info",style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("h3",{onClick:()=>window.open(Hn?.link_group),style:{cursor:"pointer",margin:0},children:Hn?.name_group}),jsxRuntimeExports.jsxs("span",{className:"post-date",style:{display:"flex",alignItems:"center",gap:"4px"},children:[jsxRuntimeExports.jsx(LuClock,{})," ",Hn?.PostTime]})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"auto"},children:jsxRuntimeExports.jsxs("button",{onClick:no,disabled:fr,className:`translate-btn ${Mr?"active":""}`,style:{display:"flex",alignItems:"center",gap:"6px"},children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),fr?"...":Mr?"Xem gc":"Dch VN"]})})]}),jsxRuntimeExports.jsx("div",{className:"post-content",style:{marginTop:"15px"},children:jsxRuntimeExports.jsx("div",{style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:Mr?Or:Hn?.content||Hn?.content_text_vi||""}})}),Hn?.images?.length>0&&jsxRuntimeExports.jsx("img",{src:Hn.images[0],style:{width:"100%",borderRadius:"8px",marginTop:"12px",cursor:"pointer"},onClick:()=>Ir(!0),alt:"post"}),jsxRuntimeExports.jsxs("div",{className:"post-footer",children:[jsxRuntimeExports.jsxs("div",{className:"post-stats",children:[jsxRuntimeExports.jsx(FaEye,{})," ",Hn?.so_lan_view||0]}),jsxRuntimeExports.jsxs("div",{className:"post-actions",children:[jsxRuntimeExports.jsxs("button",{className:"action-btn",children:[jsxRuntimeExports.jsx(FaRegComment$1,{})," ",Oo.length," Bnh lun"]}),jsxRuntimeExports.jsxs("button",{className:"action-btn",onClick:Po,children:[jsxRuntimeExports.jsx(FaShare,{})," Chia s"]})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",padding:"16px",alignItems:"center"},children:[jsxRuntimeExports.jsx("img",{src:ir,className:"user-avatar",style:{marginRight:"10px"},alt:"me"}),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,background:"#111",border:"1px solid #333",borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 15px"},children:[jsxRuntimeExports.jsx("textarea",{placeholder:"Vit bnh lun...",style:{flexGrow:1,height:"40px",padding:"10px 0",color:"#eee",resize:"none",fontSize:"14px",outline:"none",background:"transparent",border:"none"},value:ar,onChange:Ro=>or(Ro.target.value)}),lr?jsxRuntimeExports.jsx("div",{className:"comment-loading-spinner"}):jsxRuntimeExports.jsx(IoSend,{onClick:xo,style:{cursor:"pointer",color:ar.trim()?"#0084ff":"#555"}})]})]}),jsxRuntimeExports.jsx("div",{style:{padding:"0 16px 16px"},children:Oo.map((Ro,Go)=>{const Qo=Ro.id||Go,Vo=Ro.contentVI||Ro.content||"",nl=yr[Qo],fl=Sr[Qo];return jsxRuntimeExports.jsxs("div",{style:{marginTop:"15px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsx("img",{src:ir,className:"user-avatar",style:{width:"30px",height:"30px",marginRight:"10px",borderRadius:"50%"},alt:"u"}),jsxRuntimeExports.jsxs("div",{style:{background:"#333",borderRadius:"12px",padding:"8px 12px",flex:1},children:[jsxRuntimeExports.jsxs("h5",{style:{margin:0,fontSize:"12px",color:"#aaa"},children:["Ngi dng ",Go+1]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",color:"#fff"},children:nl?.isTranslated?nl.translatedText:Vo})]})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"40px",marginTop:"5px"},children:jsxRuntimeExports.jsx("button",{onClick:()=>so(Qo,Vo),disabled:fl,style:{background:"none",border:"none",color:"#65676b",fontSize:"12px",cursor:fl?"not-allowed":"pointer",padding:"2px 0",fontWeight:"500"},children:fl?"ang dch...":nl?.isTranslated?"Xem bn gc":"Dch on ny"})})]},Go)})})]})]}),jsxRuntimeExports.jsx(LightboxModal,{isOpen:Dr,onClose:()=>Ir(!1),imageSrc:Hn?.images?.[0],newsSelect:Hn,comments:Oo})]})}function LastestNews(){const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(1),[dr,fr]=reactExports.useState(1),[xr,yr]=reactExports.useState(!1),[_r,Sr]=reactExports.useState({}),[jr]=useSearchParams(),Dr=useNavigate(),Ir=jr.get("idPost"),Mr=jr.get("page"),Or=async()=>{await navigator.geolocation.getCurrentPosition(async Hr=>{const Yr=Hr.coords.latitude,eo=Hr.coords.longitude;rr(Yr),ar(eo)},Hr=>{console.error("Geolocation Error:",Hr),alert("Khng ly c v tr ngi dng")})},Lr=async(Hr=1)=>{yr(!0);try{const Yr=`https://api_gold.thinkdiff.us/tintuc_moi_nhat${Hr>1?`?page=${Hr}`:""}`;console.log("Fetching page:",Hr,"URL:",Yr);const io=await(await fetch(Yr)).json();if(console.log("Response status:",io.status,"Items count:",io?.data?.items?.length),io.status==="success"){const uo=io?.data?.items;if(!uo||uo.length===0)if(console.log("Empty page detected for page:",Hr),Hr>1){fr(Hr-1),ur(Hr-1);return}else nr([]),fr(1),ur(1);else console.log("Setting news with",uo.length,"items for page",Hr),nr(uo),ur(Hr),io?.data?.total_pages?fr(io.data.total_pages):io?.data?.totalPages?fr(io.data.totalPages):fr(10)}}catch(Yr){console.error("Fetch news error:",Yr)}finally{yr(!1)}};reactExports.useEffect(()=>{(async()=>{await Or();const Yr=Mr?parseInt(Mr):1;await Lr(Yr)})(),(async()=>await logUserInfo("Mn hnh ExchangeRatePage.jsx"))()},[Mr]),reactExports.useEffect(()=>{window.scrollTo(0,0)},[cr]),reactExports.useEffect(()=>{cr>dr&&dr>0&&(console.log("Current page",cr,"exceeds totalPages",dr,"- redirecting to",dr),Dr(`?page=${dr}`,{replace:!0}))},[cr,dr,Dr]);const Fr=()=>{const Hr=Math.max(1,cr-1);Hr!==cr&&Dr(`?page=${Hr}`)},Vr=()=>{const Hr=Math.min(dr,cr+1);Hr!==cr&&Dr(`?page=${Hr}`)};reactExports.useEffect(()=>{if(!Ir||!er)return;const Hr=er.find(Yr=>String(Yr.post_db_id)===String(Ir));Hr&&(lr(Hr),Hn(!0))},[Ir,er]);const Zr=er&&er.length>0&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"30px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:Fr,disabled:cr===1,style:{padding:"10px 15px",backgroundColor:cr===1?"#ccc":"#d4af37",color:cr===1?"#999":"#000",border:"none",borderRadius:"4px",cursor:cr===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:" Trang trc"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:jsxRuntimeExports.jsxs("span",{style:{color:"#666",fontWeight:"bold"},children:["Trang ",cr," / ",dr]})}),jsxRuntimeExports.jsx("button",{onClick:Vr,disabled:cr>=dr,style:{padding:"10px 15px",backgroundColor:cr>=dr?"#ccc":"#d4af37",color:cr>=dr?"#999":"#000",border:"none",borderRadius:"4px",cursor:cr>=dr?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:"Trang sau "})]});return jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("div",{className:"containt-lastestnews",children:jsxRuntimeExports.jsxs("div",{children:[Zr,(er===null||xr)&&jsxRuntimeExports.jsxs("div",{className:"loading-container",style:{maxWidth:"1000px",margin:"auto",marginTop:"20px"},children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti ..."})]}),jsxRuntimeExports.jsx("div",{className:"news-grid",children:er&&er.length>0&&er.map((Hr,Yr)=>jsxRuntimeExports.jsx(CardNews,{data:Hr,setIsShowModal:Hn,currentPage:cr,translateState:_r[Hr.post_db_id]||{isTranslated:!1,translatedText:""},setTranslateState:eo=>Sr(io=>({...io,[Hr.post_db_id]:eo}))},`card-news-${Hr?.user_id}-${Yr}`))}),er&&er.length===0&&jsxRuntimeExports.jsx("p",{style:{color:"#ccc",textAlign:"center",marginTop:"20px"},children:"Khng c bi vit no!"}),Zr]})}),tr&&jsxRuntimeExports.jsx(ModalNews,{setIsShowModal:Hn,newsSelect:or,translateState:_r[or?.post_db_id]||{isTranslated:!1,translatedText:""},setTranslateState:Hr=>Sr(Yr=>({...Yr,[or.post_db_id]:Hr})),lat:ir,long:sr,fetchNews:Lr})]})}const IGSentimentPage=()=>jsxRuntimeExports.jsxs("div",{className:"ig-page",children:[jsxRuntimeExports.jsxs("header",{className:"ig-page-header",children:[jsxRuntimeExports.jsx("h1",{children:"IG Sentiment  Full View"}),jsxRuntimeExports.jsx("p",{children:"Xem chi tit sentiment v biu  IG (Silver)."})]}),jsxRuntimeExports.jsx("section",{className:"ig-page-content",children:jsxRuntimeExports.jsx("div",{className:"ig-overview",children:jsxRuntimeExports.jsx(IGSentiment,{})})})]}),SharkGlobalChart=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState([]),ir=useNavigate();return reactExports.useEffect(()=>{(async()=>await fetchSharkData("ALL").then(rr=>{Hn(rr)}))(),(async()=>await fetchSharkData("DAY").then(rr=>{nr(rr)}))(),(async()=>await logUserInfo("Mn hnh SharkGlobalChart.jsx"))()},[]),jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>ir("/"),children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,1)",padding:20,borderRadius:8,width:"95%",height:"90%",position:"relative",overflow:"auto"},onClick:rr=>rr.stopPropagation(),children:[jsxRuntimeExports.jsx("h2",{style:{cursor:"pointer",fontWeight:"bold",color:"#ffd700",textAlign:"center",marginBottom:10,marginTop:30},children:"Thng K Lng Mua Bn Ca 9 ETF C Mp Vng - Bc"}),jsxRuntimeExports.jsx("button",{onClick:()=>ir("/"),style:{position:"absolute",top:10,right:10,padding:"4px 10px",borderRadius:4,background:"#ff3b30",color:"#fff",border:"none",cursor:"pointer"},children:"Close"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"80%",display:"flex"},children:[jsxRuntimeExports.jsx(GlobalShark1Day,{data:er,zoomable:!0}),jsxRuntimeExports.jsx(DataEUR,{}),jsxRuntimeExports.jsx(GlobalShark,{data:tr,zoomable:!0,time:"1Y"})]})]})})},DetailSharkGlobal=()=>{const tr=useNavigate();return reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh DetailSharkGlobal.jsx"))()},[]),jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>tr("/"),children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,0.95)",padding:30,borderRadius:12,width:"95%",height:"90%",position:"relative",overflowY:"auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.5)"},onClick:Hn=>Hn.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:()=>tr("/"),style:{position:"absolute",top:20,right:20,padding:"6px 12px",borderRadius:6,background:"#ff3b30",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Close"}),jsxRuntimeExports.jsx("h2",{style:{color:"#ffd700",marginBottom:20,textAlign:"center",fontSize:28},children:"Global X Silver Miners UCITS ETF"}),jsxRuntimeExports.jsxs("div",{style:{color:"#f5f5f5",fontSize:18,lineHeight:1.8},children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Gii thiu:"})," Global X Silver Miners UCITS ETF l mt qu ETF cung cp cho nh u t quyn tip cn cc cng ty khai thc bc trn ton cu. Qu ny giao dch nh c phiu v cho php u t a dng thay v mua tng c phiu ring l."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"ETF l g:"})," ETF (Qu Giao dch hon i danh mc) l qu nm gi mt r ti sn nh c phiu, tri phiu, hng ha v c giao dch trn sn chng khon nh c phiu."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Mc tiu:"})," Tp trung vo cc cng ty c hot ng chnh trong ngnh khai thc bc."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Li ch:"})," u t vo ETF ny gip a dng ha danh mc v gim ri ro so vi u t vo tng cng ty ring l."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Cch giao dch:"})," Mua v bn chng ch qu trn sn chng khon trong thi gian giao dch, ging nh c phiu."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Thng s biu :"})," Theo di ch s Solactive Global Silver Miners, m phng hiu sut ton b cc thnh phn, c tc tch ly v ti u t. T l chi ph tng th (TER): 0,65%/nm."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Qu hin ti:"})," 882 triu Euro ti sn c qun l, ra mt 04/05/2022 ti Ireland."]})]})]})})},detectiPhoneModel$1=(tr,Hn)=>{const[er,nr]=[Math.min(tr,Hn),Math.max(tr,Hn)],ir=[{name:"iPhone 17",width:393,height:852},{name:"iPhone Air",width:414,height:896},{name:"iPhone 17 Pro",width:393,height:852},{name:"iPhone 17 Pro Max",width:430,height:932},{name:"iPhone 16 Pro Max",width:430,height:932},{name:"iPhone 16 Pro",width:393,height:852},{name:"iPhone 16 Plus",width:414,height:896},{name:"iPhone 16",width:393,height:852},{name:"iPhone 15 Pro Max",width:430,height:932},{name:"iPhone 15 Pro",width:393,height:852},{name:"iPhone 15 Plus",width:414,height:896},{name:"iPhone 15",width:393,height:852},{name:"iPhone 14 Pro Max",width:430,height:932},{name:"iPhone 14 Pro",width:393,height:852},{name:"iPhone 14 Plus",width:414,height:896},{name:"iPhone 14",width:390,height:844},{name:"iPhone SE 3",width:375,height:667},{name:"iPhone 13 Pro Max",width:428,height:926},{name:"iPhone 13 Pro",width:390,height:844},{name:"iPhone 13",width:390,height:844},{name:"iPhone 13 Mini",width:375,height:812},{name:"iPhone 12 Pro Max",width:428,height:926},{name:"iPhone 12 Pro",width:390,height:844},{name:"iPhone 12",width:390,height:844},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone SE 2",width:375,height:667},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone Xs Max",width:414,height:896},{name:"iPhone Xs",width:375,height:812},{name:"iPhone Xr",width:414,height:896},{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone 7 Plus",width:414,height:736},{name:"iPhone 7",width:375,height:667},{name:"iPhone SE 1",width:320,height:568},{name:"iPhone 6s Plus",width:414,height:736},{name:"iPhone 6s",width:375,height:667},{name:"iPhone 6 Plus",width:414,height:736},{name:"iPhone 6",width:375,height:667},{name:"iPhone 5c",width:320,height:568},{name:"iPhone 5s",width:320,height:568},{name:"iPhone 5",width:320,height:568},{name:"iPhone 4s",width:320,height:480},{name:"iPhone 4",width:320,height:480},{name:"iPhone 3Gs",width:320,height:480},{name:"iPhone 3G",width:320,height:480},{name:"iPhone 2G",width:320,height:480}],rr=Math.round(er),sr=Math.round(nr);for(const ar of ir){const or=Math.min(ar.width,ar.height),lr=Math.max(ar.width,ar.height);if(Math.abs(rr-or)<=5&&Math.abs(sr-lr)<=5)return ar.name}return"iPhone (Unknown Model)"},getDetailedDeviceInfo=tr=>{const Hn=tr.toLowerCase();let er=" Desktop";Hn.includes("iphone")?er=" iPhone":Hn.includes("ipad")?er=" iPad":Hn.includes("android")&&Hn.includes("mobile")?er=" Android Phone":Hn.includes("android")&&(er=" Android Tablet");let nr="";if(Hn.includes("iphone")||Hn.includes("ipad")){const rr=Hn.match(/os (\d+)_(\d+)_?(\d*)/);nr=rr?`iOS ${rr[1]}.${rr[2]}${rr[3]?"."+rr[3]:""}`:"iOS"}else if(Hn.includes("android")){const rr=Hn.match(/android (\d+\.?\d*\.?\d*)/);nr=rr?`Android ${rr[1]}`:"Android"}else if(Hn.includes("windows"))nr="Windows";else if(Hn.includes("mac os x")){const rr=Hn.match(/mac os x (\d+)_(\d+)_?(\d*)/);nr=rr?`macOS ${rr[1]}.${rr[2]}${rr[3]?"."+rr[3]:""}`:"macOS"}let ir="Unknown";return Hn.includes("gsa/")?ir="Google App":Hn.includes("crios")?ir="Chrome iOS":Hn.includes("fxios")?ir="Firefox iOS":Hn.includes("edg")?ir="Edge":Hn.includes("chrome")?ir="Chrome":Hn.includes("safari")&&Hn.includes("version")?ir="Safari":Hn.includes("firefox")&&(ir="Firefox"),{deviceType:er,osVersion:nr,browser:ir}};function AccessModal({data:tr,setIsShowModal:Hn}){return jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:er=>{er.target===er.currentTarget&&Hn(!1)},children:jsxRuntimeExports.jsxs("div",{className:"modal-box",children:[jsxRuntimeExports.jsx("div",{className:"modal-close",onClick:()=>Hn(!1),children:""}),tr.map(er=>{const nr=getDetailedDeviceInfo(er?.user_agent||""),ir=parseInt(er?.width)||0,rr=parseInt(er?.height)||0;let sr="Unknown";return/iPhone/i.test(er?.user_agent)&&ir&&rr&&(sr=detectiPhoneModel$1(ir,rr)),jsxRuntimeExports.jsxs("div",{className:"log-item",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"IP:"})," ",er?.ip_location]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thit b:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#3b82f6"},children:nr.deviceType})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"H iu hnh:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#10b981"},children:nr.osVersion})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Trnh duyt:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#f59e0b"},children:nr.browser})]}),sr!=="Unknown"&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Model iPhone:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#f59e0b"},children:sr})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Kch thc mn hnh:"})," ",er?.width,"x",er?.height]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"a ch:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#06EF06"},children:er?.diachi_chi_tiet})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mn hnh:"})," ",er?.widget_activate]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thi gian:"})," ",new Date(er.time_access).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tc nhn:"})," ",er?.user_agent]}),jsxRuntimeExports.jsx("a",{href:er.linkmap,target:"_blank",className:"map-link",children:"Xem trn Google Maps"})]},er?.id)})]})})}const getDeviceInfo$1=tr=>{const Hn=tr.toLowerCase();let er=" Desktop";Hn.includes("iphone")||Hn.includes("android")&&Hn.includes("mobile")?er=" Mobile":(Hn.includes("ipad")||Hn.includes("tablet"))&&(er=" Tablet");let nr="Unknown";if(Hn.includes("iphone")||Hn.includes("ipad")){const ir=Hn.match(/os (\d+)_(\d+)/);nr=ir?`iOS ${ir[1]}.${ir[2]}`:"iOS"}else if(Hn.includes("android")){const ir=Hn.match(/android (\d+\.?\d*)/);nr=ir?`Android ${ir[1]}`:"Android"}else Hn.includes("windows")?nr="Windows":Hn.includes("mac os x")?nr="macOS":Hn.includes("linux")&&(nr="Linux");return`${er} - ${nr}`},detectiPhoneModel=(tr,Hn)=>{const[er,nr]=[Math.min(tr,Hn),Math.max(tr,Hn)],ir=[{name:"iPhone 17",width:393,height:852},{name:"iPhone Air",width:414,height:896},{name:"iPhone 17 Pro",width:393,height:852},{name:"iPhone 17 Pro Max",width:430,height:932},{name:"iPhone 16 Pro Max",width:430,height:932},{name:"iPhone 16 Pro",width:393,height:852},{name:"iPhone 16 Plus",width:414,height:896},{name:"iPhone 16",width:393,height:852},{name:"iPhone 15 Pro Max",width:430,height:932},{name:"iPhone 15 Pro",width:393,height:852},{name:"iPhone 15 Plus",width:414,height:896},{name:"iPhone 15",width:393,height:852},{name:"iPhone 14 Pro Max",width:430,height:932},{name:"iPhone 14 Pro",width:393,height:852},{name:"iPhone 14 Plus",width:414,height:896},{name:"iPhone 14",width:390,height:844},{name:"iPhone SE 3",width:375,height:667},{name:"iPhone 13 Pro Max",width:428,height:926},{name:"iPhone 13 Pro",width:390,height:844},{name:"iPhone 13",width:390,height:844},{name:"iPhone 13 Mini",width:375,height:812},{name:"iPhone 12 Pro Max",width:428,height:926},{name:"iPhone 12 Pro",width:390,height:844},{name:"iPhone 12",width:390,height:844},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone SE 2",width:375,height:667},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone Xs Max",width:414,height:896},{name:"iPhone Xs",width:375,height:812},{name:"iPhone Xr",width:414,height:896},{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone 7 Plus",width:414,height:736},{name:"iPhone 7",width:375,height:667},{name:"iPhone SE 1",width:320,height:568},{name:"iPhone 6s Plus",width:414,height:736},{name:"iPhone 6s",width:375,height:667},{name:"iPhone 6 Plus",width:414,height:736},{name:"iPhone 6",width:375,height:667},{name:"iPhone 5c",width:320,height:568},{name:"iPhone 5s",width:320,height:568},{name:"iPhone 5",width:320,height:568},{name:"iPhone 4s",width:320,height:480},{name:"iPhone 4",width:320,height:480},{name:"iPhone 3Gs",width:320,height:480},{name:"iPhone 3G",width:320,height:480},{name:"iPhone 2G",width:320,height:480}],rr=Math.round(er),sr=Math.round(nr);for(const ar of ir){const or=Math.min(ar.width,ar.height),lr=Math.max(ar.width,ar.height);if(Math.abs(rr-or)<=5&&Math.abs(sr-lr)<=5)return ar.name}return"iPhone (Unknown Model)"};function TypeList({data:tr}){const[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"log-container",children:[tr&&tr.map((rr,sr)=>{const ar=rr?.ten.split("___")[0],or=rr?.danhsach[0]?.user_agent||"",lr=parseInt(rr?.danhsach[0]?.width)||0,cr=parseInt(rr?.danhsach[0]?.height)||0;let ur="Unknown";return/iPhone/i.test(or)&&lr&&cr&&(ur=detectiPhoneModel(lr,cr)),jsxRuntimeExports.jsxs("div",{className:"log-box",onClick:()=>{er(!0),ir(rr?.danhsach)},children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"IP:"})," ",ar]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"a ch:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#06EF06"},children:rr?.diachi})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thit b:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#3b82f6"},children:getDeviceInfo$1(or)})]}),ur!=="Unknown"&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Model iPhone:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#f59e0b"},children:ur})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Ln gn nht:"})," ",new Date(rr?.danhsach[0].time_access).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"S ln truy cp:"})," ",rr?.solan]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Kch thc mn hnh:"})," ",rr?.danhsach[0].width,"x",rr?.danhsach[0].height]})]},`${ar}-${sr}`)}),tr&&tr.length===0&&jsxRuntimeExports.jsx("h3",{style:{marginTop:"30px"},children:"Khng c lt truy cp"})]}),Hn&&jsxRuntimeExports.jsx(AccessModal,{data:nr,setIsShowModal:er})]})}const icon=new L$4.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/684/684908.png",iconSize:[32,32]}),getDeviceInfo=tr=>{const Hn=tr.toLowerCase();let er=" Desktop";Hn.includes("iphone")||Hn.includes("android")&&Hn.includes("mobile")?er=" Mobile":(Hn.includes("ipad")||Hn.includes("tablet"))&&(er=" Tablet");let nr="Unknown";if(Hn.includes("iphone")||Hn.includes("ipad")){const ir=Hn.match(/os (\d+)_(\d+)/);nr=ir?`iOS ${ir[1]}.${ir[2]}`:"iOS"}else if(Hn.includes("android")){const ir=Hn.match(/android (\d+\.?\d*)/);nr=ir?`Android ${ir[1]}`:"Android"}else Hn.includes("windows")?nr="Windows":Hn.includes("mac os x")?nr="macOS":Hn.includes("linux")&&(nr="Linux");return`${er} - ${nr}`};function TypeMap({data:tr}){const Hn=tr.map(er=>er?.danhsach[0]);return jsxRuntimeExports.jsx("div",{style:{padding:"20px"},children:jsxRuntimeExports.jsxs(MapContainer,{center:[21.03,105.85],zoom:11,style:{height:"500px",width:"100%",borderRadius:"12px"},children:[jsxRuntimeExports.jsx(TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Hn&&Hn.map(er=>{const nr=JSON.parse(er.maps);return jsxRuntimeExports.jsx(Marker,{position:[nr.lat,nr.long],icon,children:jsxRuntimeExports.jsxs(Popup,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"IP:"})," ",er.ip_location]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thit b:"})," ",getDeviceInfo(er?.user_agent)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"a ch:"})," ",er?.diachi_chi_tiet]}),jsxRuntimeExports.jsx("a",{href:er.linkmap,target:"_blank",className:"map-link",children:"Xem trn Google Maps"})]})},er.id)})]})})}function UsersAccess(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState({}),or=useParams(),lr=useNavigate(),cr=new Date().toISOString().slice(0,10),ur=or.date??cr;reactExports.useEffect(()=>{(async()=>{try{const _r=await(await fetch("https://api_gold.thinkdiff.us/all_day_history_access")).json();if(_r.status==="success"){const Sr={},jr=_r.data.map(Ir=>{const Mr=Ir.link.split("/").pop().replace(".json",""),[Or,Lr,Fr]=Mr.split("_"),Vr=`${Fr}-${Lr}-${Or}`;return Sr[Vr]=Mr,Vr});ar(Sr);const Dr=jr.sort();rr(Dr),!jr.includes(ur)&&jr.length>0&&lr(`/luong-truy-cap/${Dr[Dr.length-1]}`)}}catch(yr){console.error("Error fetching day list:",yr)}})()},[]),reactExports.useEffect(()=>{const xr=async()=>{const yr=sr[ur];if(!yr){Hn([]);return}try{const Sr=await(await fetch(`https://api_gold.thinkdiff.us/get_account_access/${yr}`)).json();Sr.status==="success"||Sr.data?.status==="success"?Hn(Sr.data.tonghop??[]):Hn([]),await logUserInfo("User access with date "+ur)}catch(_r){console.error("Error fetching access data:",_r),Hn([])}};ir.length>0&&xr()},[ur,sr,ir]);const dr=xr=>{lr(`/luong-truy-cap/${xr.target.value}`)},fr=sr.hasOwnProperty(ur);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsxs("h3",{style:{textAlign:"center",padding:"20px 0"},children:["S thit b truy cp ngy ",ur," (",tr?.length||0,")"]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"1rem",right:"6.5rem"},children:jsxRuntimeExports.jsx("input",{type:"date",value:ur,onChange:dr,style:{padding:"8px",borderRadius:"8px",border:"1px solid #ccc",width:"135px"}})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"1rem",right:"2rem",width:"4rem",height:"2.5rem",backgroundColor:"#3b82f6",borderRadius:"9999px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>nr(!er),children:er?jsxRuntimeExports.jsx(FaThList,{color:"white"}):jsxRuntimeExports.jsx(FaMapMarkedAlt,{color:"white"})})]}),tr===null&&ir.length===0&&jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#666"},children:"ang ti danh sch ngy truy cp..."}),ir.length>0&&!fr&&jsxRuntimeExports.jsxs("p",{style:{textAlign:"center",color:"red",fontWeight:"bold"},children:["Ngy ",ur," khng c d liu truy cp trong h thng. Vui lng chn ngy khc."]}),fr&&tr===null&&jsxRuntimeExports.jsxs("p",{style:{textAlign:"center",color:"#666"},children:["ang ti d liu truy cp chi tit cho ngy ",ur,"..."]}),fr&&tr!==null&&tr.length===0&&jsxRuntimeExports.jsxs("p",{style:{textAlign:"center",color:"orange",fontWeight:"bold"},children:["Khng c lng truy cp no c ghi nhn vo ngy ",ur,"."]}),fr&&tr!==null&&tr.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!er&&jsxRuntimeExports.jsx(TypeList,{data:tr}),er&&jsxRuntimeExports.jsx(TypeMap,{data:tr})]})]})}Chart$1.register(CategoryScale,LinearScale,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin_title,plugin$1);const API_BASE_URL="https://api_gold.thinkdiff.us/",GOLD_API_MAP={kim_khanh_viet_hung_da_nang:"history_KIM_KHANH_VIET_HUNG_DA_NANG",kim_tung_an_giang:"history_KIM_TUNG_AN_GIANG",quoc_bao_bien_hoa_dong_nai:"history_QUOC_BAO_BIEN_HOA_DONGNAI",quoc_bao_lam_bien_hoa:"history_QUOC_BAO_LAM_BIEN_HOA",kim_hung_phat:"history_KIM_HUNG_PHAT",lap_duc_tan_phu_hcm:"history_LAP_DUC_TANPHU_HCM",kim_ngoc_lam_dong:"history_KIMNGOC_LAMDONG",kim_thuy_go_cong_tien_giang:"history_KIMTHUY_GO_CONG_TIEN_GIANG",kim_yen_binh_chanh_hcm:"history_KIM_YEN_BINH_CHANH_HCM",kim_phat_thoi_an_nha_be:"history_KIMPHAT_THOIAN_NHABE",luc_ngoc_thanh_bien_hoa:"history_LUC_NGOC_THANH_BIENHOA",phuoc_thanh_can_duoc_long_an:"history_PHUOCTHANH_CANDUOC_LONGAN",kim_phat_hiep_thanh_quan_12_hcm:"history_KIM_PHAT_HIEPTHANH_QUAN12",kim_phat_nha_be_hcm:"history_KIM_PHAT_NHA_BE_HCM",kim_hanh_thu_duc_hcm:"history_KIMHANH_THUDUC_HCM",quoc_bao_son_bien_hoa:"history_QUOCBAO_SON_BIENHOA",minh_thanh_ben_luc_long_an:"history_MINHTHANH_BENLUC_LONGAN",my_ngoc_long_thanh_long_an:"history_MYNGOC_LONGTHANH_LONGAN",kim_ton_long_khanh_dong_nai:"history_KIMTON_LONGKHANH_DONGNAI",yen_hien_nghia_hung_nam_dinh:"history_YENHIEN_NGHIAHUNG_NAMDINH",xuan_mui_ninh_binh:"history_XUAN_MUI_NINH_BINH",hai_sen_dien_bien:"history_HAISEN_DIENBIEN",thanh_xuan_dong_anh_hn:"history_THANHXUAN_DONGANH_HN",da_phuc_son_tay_hn:"history_DAPHUC_SONTAY_HN",nha_huong_hai_phong:"history_NHAHUONG_HAIPHONG",hjc_quang_ninh:"history_HJC_QUANGNINH",kim_chung_le_hoan_thanh_hoa:"history_KIMCHUNG_LEHOAN_THANHHOA",hoa_tung_quang_ngai:"history_HOATUNG_QUANGNGAI",quy_tung_thai_nguyen:"history_QUY_TUNG_THAINGUYEN",kim_lien_quang_yen_quang_ninh:"history_KIM_LIEN_QUANG_YEN_QUANG_NINH",trung_sinh_thai_nguyen:"history_TRUNGSINH_THAINGUYEN",huong_yen_hai_duong:"history_HUONGYEN_HAIDUONG",kim_khanh_ha_nam:"history_KIMKHANH_HANAM",hai_hong_hai_phong:"history_HAIHONG_HAIPHONG",quang_hanh_hai_phong:"history_QUANGHANH_HAIPHONG",son_ha_bac_ninh:"history_SONHA_BACNINH",lu_huong_dong_hung_thai_binh:"history_LU_HUONG_DONG_HUNG_THAI_BINH",anh_minh_ho_tung_mau_hn:"history_ANHMINH_HOTUNGMAU_HN",huong_chi_bac_giang:"history_HUONGCHI_BACGIANG",nhat_ha_hai_phong:"history_NHAHA_HAIPHONG",phi_doan_ha_dong_hn:"history_PHIDOAN_HADONG",dai_nghia_nam_dinh:"history_DAINGHIA_NAMDINH",tien_ngoc_tu_son_bac_ninh:"history_TIENNGOC_TUSON_BACNINH",phuc_thanh_nam_dinh:"history_PHUCTHANH_NAMDINH",phuc_thanh_long_bien:"history_PHUCTHANH_LONGBIEN",hoan_hue_lao_cai:"history_HOANHUE_LAOCAI",gia_vang_mi_hong_sjc_tu_do_goldenfund_sjc_tu_do:"history_MIHONG_HCM",vang_doji:"history_DOJI",chow_tai_fook:"history_CHOW_TAI_FOOK",chow_tai_seng:"history_CHOW_TAI_SENG",lukfook_jewellery:"history_LukFook_Jewellery",chow_sang_sang:"history_Chow_Sang_Sang",vang_bac_huong_diu_bac_ninh:"history_HUONGDIU_BACNINH",huy_thanh_doi_can_hn:"history_HUYTHANH_DOICAN_HN",vang_nguyen_lieu_nam_dinh:"history_NGUYENLIEU_NAMDINH",malabargoldanddiamonds:"history_malabargoldanddiamonds",tokuriki_kanda_co_jp:"history_tokuriki_kanda_co_jp",tanaka_co_jp:"history_tanaka_co_jp",ishifuku:"history_ishifuku_JP",kim_tin_cao_bang:"history_KIMTIN_CAOBANG",bao_tin_manh_hai:"history_BAO_TIN_MANH_HAI",phu_quy_vang:"history_PHUQUY_VANG",anekalogam:"history_Anekalogam",aurum24_russian:"history_aurum24_russian",orient_singapore:"history_Orient_SINGAPORE",goldheart:"history_Goldheart_SINGAPORE",gvs_trading_dubai:"history_GVS_Trading_DUBAI",kanz_jewels_dubai:"history_Kanz_Jewels_DUBAI",igold:"history_IGOLD",lam_ngoc_thanh_bien_hoa:"history_LAMNGOCTHANH_BIENHOA",vang_ancarat:"history_VANG_ANCARAT",bao_tin_lan_vy_cau_giay_hn:"history_BAO_TIN_LAN_VY_CAU_GIAY_HN",kim_ngan_phuc_ha_noi:"history_KIM_NGAN_PHUC_HA_NOI",chien_minh_cau_giay_hn:"history_CHIEN_MINH_CAU_GIAY_HN",kim_chau_an_giang:"history_KIM_CHAU_AN_GIANG",vang_kim_hoan_camau:"history_VANG_KIM_HOAN_CAMAU",vang_pnj:"history_VANG_PNJ",phu_tai_long_bien_hn:"history_PHU_TAI_LONG_BIEN_HN",ngoc_tham_dong_thap:"history_NGOC_THAM_DONG_THAP",vang_btmc:"history_VANG_BTMC",sacombank_sbj_gold:"history_SACOMBANK_GOLD",huong_chi_bac_ninh:"history_HUONGCHI_BACGIANG","kim_hoa-phan_thiet-binh_thuan":"history_KIM_HOA_PHAN_THIET_BINH_THUAN",tu_minh_vinh_long:"history_HONG_LINH_VINH_LONG",hong_linh_vinh_long:"history_HONG_LINH_VINH_LONG","hong_nga-cao_lanh-dong_thap":"history_HONG_NGA_CA_LANH_DONG_THAP","kim_bao_tri-tan_phu-hcm":"history_KIM_BAO_TRI_TAN_PHU_HCM","kim_chau_2-an_giang":"history_KIM_CHAU_2_AN_GIANG","trong_nghia-quan_10-hcm":"history_TRONG_NGHIA_QUAN_10_HCM","kim_hoang_ngoan-long_khanh-dong":"history_KIM_HOANG_NGOAN_LONG_KHAN_DONG_NAI","kim_uyen-long_khanh-dong_nai":"history_KIM_UYEN_LONG_KHANH_DONG_NAI","kim_loan-quan_6-hcm":"history_KIM_LOAN_QUAN_6_HCM","kim_anh_tuan-long_khanh-dong_nai":"history_KIM_ANH_TUAN_Long_Khanh_Dong_Nai","kieu_ngoc-ha_tinh":"history_KIEU_NGOC_HA_TINH","ngoc_ha-quang_binh":"history_NGOC_HA_QUANG_BINH","kim_viet-tam_ky-quang_nam":"history_KIM_VIET_TAM_KY_QUANG_NAM","kim_thach_bich-nha_trang":"history_KIM_THACH_BICH_NHA_TRANG","kim_khanh_viet_hung-lien_chieu-da_nang":"history_KIM_KHANH_VIET_HUNG_LIEN_CHIEU_DA_NANG","my_long-quy_nhon":"history_MY_LONG_QUY_NHON","ngoc_thien-binh_dinh":"history_NGOC_THIEN_BINH_DINH",hoakimnguyen:"history_hoakimnguyen","hoa_kim_nguyen-da_nang":"history_HOA_KIM_NGUYEN_DA_NANG","nghia_tin-tam_ky-quang_nam":"history_NGHIA_TIN_TAM_KY_QUANG_NAM","kim_thu-ca_mau":"history_KIM_THU_CA_MAU","ngoc_hai-nhj-my_tho-tien_giang":"history_NGOC_HAI_NHJ_MY_THO_TIEN_GIANG",sinh_dien_bac_ninh:"history_SINH_DIEN_BAC_NINH","kim_thanh_h-binh_tan-hcm":"history_KIM_THANH_HBINH_TAN_HCM","mao_thiet-thai_binh":"history_MAOTHIET_THAIBINH","vietagold-me_tri-ntl-hn":"history_VIETAGOLD_ME_TRI",bullionbypost:"history_bullionbypost",korea_gold_exchange:"history_Korea_Gold_Exchange","thanh_lien-hai phong":"history_Thanh_Lien_HAI_PHONG",kim_chau_hai_hau_nam_inh:"history_Kim_Chau_Hai_Hau_Nam_Dinh","candere.com":"history_candere_com"},chartColors=["#FF5733","#33FF57","#3357FF","#FF33A1","#A133FF","#33FFA1","#FFA133","#33A1FF","#A1FF33","#FF3333","#FF6F91","#FFC75F","#F9F871","#0089BA","#845EC2","#4B4453","#C34A36","#00C9A7","#2C73D2","#FF8066","#AA96DA","#FCBAD3","#FFFFD2","#A8E6CF","#FDFFAB","#FFAAA5","#FFD3B6","#D291BC","#FEC8D8","#C7CEEA","#4D8076","#BEBBBB","#FFB5E8","#B28DFF","#AFF8DB","#85E3FF","#ACE7FF","#D5AAFF","#FFABAB","#FFDAAB","#FFB3BA","#FFDFBA","#FFFFBA","#BAFFC9","#BAE1FF","#D7BAFF","#FFC4E1","#C4FFF9","#F5A623","#7ED321","#BD10E0","#50E3C2","#4A90E2","#D0021B","#F8E71C","#9013FE","#B8E986","#417505","#8B572A","#F5A623","#29A7E5","#E5295A","#29E5C3","#E5D129","#9B29E5","#E529D6","#29E578","#E56329","#29C8E5","#E55C29","#FF7F50","#6495ED","#40E0D0","#FF1493","#7FFF00","#00FA9A","#FFD700","#00CED1","#1E90FF","#DC143C"],getGoldApiUrl=tr=>!tr||tr.length===0?[]:tr.map(Hn=>{const er=Hn.toLowerCase().trim();if(GOLD_API_MAP[er])return API_BASE_URL+GOLD_API_MAP[er];const nr=er.replace(/[^a-z0-9]/g,""),ir=Object.keys(GOLD_API_MAP).find(rr=>{const sr=rr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"");return sr.includes(nr)||nr.includes(sr)});return ir?API_BASE_URL+GOLD_API_MAP[ir]:null}).filter(Hn=>Hn!==null);function ComparisonChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir]=useSearchParams(),rr=ir.get("data"),sr=rr?rr.split("|"):[],[ar,or]=reactExports.useState("buy"),[lr,cr]=reactExports.useState("VANG");reactExports.useEffect(()=>{if(!sr||sr.length===0){Hn([]);return}(async()=>{nr(!0);const xr=getGoldApiUrl(sr);if(xr.length===0){nr(!1);return}try{const yr=xr.map(jr=>fetch(jr).then(Dr=>Dr.json())),Sr=(await Promise.all(yr)).filter(jr=>jr&&jr.status==="success").map(jr=>jr);Hn(Sr)}catch(yr){console.error("Li khi ti d liu:",yr)}finally{nr(!1)}})()},[rr]);const ur=reactExports.useMemo(()=>{if(!tr||tr.length===0)return{labels:[],datasets:[]};const fr=lr==="VANG"?"data_vang":"data_bac",xr=tr.filter(Sr=>{const jr=Sr?.[fr]?.data;return Array.isArray(jr)&&jr.length>0});if(xr.length===0)return{labels:[],datasets:[]};const yr=[...xr[0][fr].data].reverse().map(Sr=>Sr.datetime),_r=xr.map((Sr,jr)=>{const Dr=[...Sr[fr].data].reverse();return{label:Dr[0]?.product||`Sn phm ${jr+1}`,data:Dr.map(Ir=>Ir[ar]),borderColor:chartColors[jr%chartColors.length],backgroundColor:chartColors[jr%chartColors.length],tension:.2,pointRadius:2,type:"line"}});return{labels:yr,datasets:_r}},[tr,ar,lr]),dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{title:{display:!0,text:ar==="buy"?"Gi Mua Vo (VND)":"Gi Bn Ra (VND)"},ticks:{callback:function(fr){return new Intl.NumberFormat("vi-VN",{notation:"compact"}).format(fr)}}},x:{title:{display:!0,text:"Thi gian"},ticks:{maxTicksLimit:10}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(fr){let xr=fr.dataset.label||"";return xr&&(xr+=": "),fr.parsed.y!==null&&(xr+=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(fr.parsed.y)),xr}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}}};return console.log("check dataChart: ",tr),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{marginLeft:"40px",marginTop:"20px"},children:[jsxRuntimeExports.jsx("button",{className:`btn-type ${lr==="VANG"?"btn-active":""}`,onClick:()=>{lr!=="VANG"&&cr("VANG")},children:"So snh vng"}),jsxRuntimeExports.jsx("button",{className:`btn-type ${lr==="BAC"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>{lr!=="BAC"&&cr("BAC")},children:"So snh bc"})]}),jsxRuntimeExports.jsxs("div",{className:"modal-box",style:{height:"90vh",width:"95%",padding:"20px",borderRadius:"8px",display:"flex",flexDirection:"column",margin:"auto",marginTop:"10px"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:"10px"},children:"So snh gi lch s cc nh vng"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",marginBottom:"15px",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>or("buy"),style:{padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",backgroundColor:ar==="buy"?"#2ecc71":"#ecf0f1",color:ar==="buy"?"white":"#7f8c8d",transition:"all 0.3s"},children:"Mua Vo"}),jsxRuntimeExports.jsx("button",{onClick:()=>or("sell"),style:{padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",backgroundColor:ar==="sell"?"#e74c3c":"#ecf0f1",color:ar==="sell"?"white":"#7f8c8d",transition:"all 0.3s"},children:"Bn Ra"})]}),jsxRuntimeExports.jsx("div",{style:{flex:1,position:"relative",minHeight:0},children:er?jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:"ang ti d liu..."}):!tr||tr.length>0?jsxRuntimeExports.jsx(Chart,{type:"line",data:ur,options:dr},`${sr.join(",")}-${ar}`):jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:"Khng tm thy d liu ph hp"})})]}),!er&&tr&&tr.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",padding:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:" Hiu qu u t vng"}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{textAlign:"left"},children:[jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"Nh vng"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy bt u"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi u (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy kt thc"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi cui (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Li nhun"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"% Tng trng"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((fr,xr)=>{const yr=fr?.data_vang?.tangtruong||[],_r=yr.length;return jsxRuntimeExports.jsx(React.Fragment,{children:yr.map((Sr,jr)=>{const Dr=jr===_r-1,Ir=Dr?Sr?.cuoi:Sr?.cuoituan,Mr=Dr?Sr?.dau:Sr?.dautuan,Or=Dr?Sr?.tilephantram_all:Sr?.tilephantram_1tuan;return jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[jr===0&&jsxRuntimeExports.jsx("td",{rowSpan:_r,style:{padding:"12px 10px",fontWeight:"bold",verticalAlign:"middle",color:chartColors[xr%chartColors.length],borderRight:"1px solid #f0f0f0"},children:yr[0]?.cuoituan?.product||yr[0]?.cuoi?.product}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Ir?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Ir?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right",color:Sr?.loinhuan>=0?"#27ae60":"#e74c3c",fontWeight:"500"},children:Sr?.loinhuan>0?`+${Sr.loinhuan.toLocaleString()}`:Sr?.loinhuan?.toLocaleString()}),jsxRuntimeExports.jsxs("td",{style:{padding:"10px",textAlign:"right",color:Or>=0?"#27ae60":"#e74c3c",fontWeight:"bold"},children:[Or?.toFixed(2),"%"]})]},`${xr}-${jr}`)})},xr)})})]})}),jsxRuntimeExports.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px",marginTop:"80px",color:"#bdc3c7"},children:" Hiu qu u t bc"}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{textAlign:"left"},children:[jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"Nh vng"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy bt u"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi u (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy kt thc"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi cui (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Li nhun"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"% Tng trng"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((fr,xr)=>{const yr=fr?.data_bac?.tangtruong||[],_r=yr.length;return jsxRuntimeExports.jsx(React.Fragment,{children:yr.map((Sr,jr)=>{const Dr=jr===_r-1,Ir=Dr?Sr?.cuoi:Sr?.cuoituan,Mr=Dr?Sr?.dau:Sr?.dautuan,Or=Dr?Sr?.tilephantram_all:Sr?.tilephantram_1tuan;return jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[jr===0&&jsxRuntimeExports.jsx("td",{rowSpan:_r,style:{padding:"12px 10px",fontWeight:"bold",verticalAlign:"middle",color:chartColors[xr%chartColors.length],borderRight:"1px solid #f0f0f0"},children:yr[0]?.cuoituan?.product||yr[0]?.cuoi?.product}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Ir?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Ir?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right",color:Sr?.loinhuan>=0?"#27ae60":"#e74c3c",fontWeight:"500"},children:Sr?.loinhuan>0?`+${Sr.loinhuan.toLocaleString()}`:Sr?.loinhuan?.toLocaleString()}),jsxRuntimeExports.jsxs("td",{style:{padding:"10px",textAlign:"right",color:Or>=0?"#27ae60":"#e74c3c",fontWeight:"bold"},children:[Or?.toFixed(2),"%"]})]},`${xr}-${jr}`)})},xr)})})]})}),jsxRuntimeExports.jsx("p",{style:{fontSize:"12px",color:"#7f8c8d",marginTop:"10px",fontStyle:"italic"},children:"* Li nhun tnh trn chnh lch gia gi Mua vo hin ti so vi gi Bn ra ca nh vng ti thi im qu kh."})]})]})}function ComparisonHouseGold(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ComparisonChart,{})})}function ComparisonSellChart(){useNavigate();const tr=useParams(),[Hn,er]=reactExports.useState(null),nr=reactExports.useMemo(()=>({day:tr.day?Number(tr.day):null,month:tr.month?Number(tr.month):null,year:tr.year?Number(tr.year):null,hour:tr.hour?Number(tr.hour):null,minute:tr.minute?Number(tr.minute):null,region:tr.region||"Vietnam",type:tr.type||"gold",level:tr.level||"3"}),[tr]),{loading:ir,error:rr,displayedPrices:sr,loadingProgress:ar}=UseGoldOneDayPrices(nr);if(ir&&sr.length===0)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu gi vng..."}),ar.total>0&&jsxRuntimeExports.jsxs("p",{className:"loading-progress",children:[" ti ",ar.loaded,"/",ar.total," ngun"]})]});if(rr)return jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",rr]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]});const or=sr.filter(lr=>lr.do_uy_tin==nr.level).map(lr=>{const cr=lr.items.find(ur=>ur.purity==="9999"||ur.purity==="1KG_BAC_999");return cr?{...cr,difference:cr.sell-cr.buy,nameVendor:lr.name,level:lr.do_uy_tin}:null}).filter(Boolean).sort((lr,cr)=>lr.sell-cr.sell);return console.log("filteredItems: ",or),jsxRuntimeExports.jsx("div",{className:"modal-overlay-",children:jsxRuntimeExports.jsxs("div",{className:"modal-content-c",children:[jsxRuntimeExports.jsx("div",{className:"modal-header",children:jsxRuntimeExports.jsxs("h2",{children:["Biu  so snh gi ",nr.type=="gold"?"vng":"bc"," vi  uy tn ",nr.level,"  "]})}),or.length>0?jsxRuntimeExports.jsx("div",{className:"chart-wrapper",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:450,children:jsxRuntimeExports.jsxs(BarChart,{data:or,margin:{top:20,right:20,bottom:40,left:20},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"nameVendor",angle:-45,textAnchor:"end",interval:0,height:100,padding:{left:20,right:20},tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(YAxis,{tickFormatter:lr=>lr.toLocaleString(),tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(Tooltip,{formatter:lr=>lr.toLocaleString()}),jsxRuntimeExports.jsx(Bar,{dataKey:"sell",barSize:40,barCategoryGap:"15%",fill:"#ae5f0fff"}),jsxRuntimeExports.jsx(Bar,{dataKey:"buy",barSize:40,barCategoryGap:"15%",fill:"#12631cff"}),jsxRuntimeExports.jsx(Bar,{dataKey:"difference",barSize:40,barCategoryGap:"15%",fill:"#d32b05ff",onClick:(lr,cr)=>{er(!0)}})]})})}):jsxRuntimeExports.jsxs("p",{children:["khng c d liu ",nr.type=="gold"?"vng":"bc"," 9999 "]}),Hn&&jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"bb",children:[jsxRuntimeExports.jsxs("h2",{children:[" chch lch gi ",nr.type=="gold"?"vng":"bc"," vi  uy tn ",nr.level,"  "]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>er(!1),children:""})]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:450,children:jsxRuntimeExports.jsxs(BarChart,{data:or,margin:{top:20,right:20,bottom:40,left:20},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"nameVendor",angle:-45,textAnchor:"end",interval:0,height:100,padding:{left:20,right:20},tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(YAxis,{tickFormatter:lr=>lr.toLocaleString(),tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(Tooltip,{formatter:lr=>lr.toLocaleString()}),jsxRuntimeExports.jsx(Bar,{dataKey:"difference",barSize:40,barCategoryGap:"15%",fill:"#d32b05ff"})]})})]})]})})}const formatLineMaterialData=(tr,Hn="buy")=>!tr||tr.length===0?[]:[...tr].sort((nr,ir)=>nr.id_time-ir.id_time).map(nr=>({x:new Date(Number(nr.id_time)),y:Hn==="buy"?nr.buy||0:nr.sell||0})),formatLineMaterialDataXY=tr=>{if(!tr||tr.length===0)return[];const er=[...tr].sort((nr,ir)=>parseDateToTimestamp(nr.x)-parseDateToTimestamp(ir.x)).map(nr=>({x:parseDateToTimestamp(nr.x),y:nr.y}));return console.log("formatLineMaterialDataXY result:",er.slice(0,2)),er},formatLineMaterialDateData=(tr,Hn="buy")=>{if(!tr||tr.length===0)return[];const er=rr=>{if(!rr)return new Date;if(typeof rr=="string"&&rr.includes("/")){const sr=rr.split("/");if(sr.length===3){const ar=parseInt(sr[0],10),or=parseInt(sr[1],10)-1,lr=parseInt(sr[2],10);return new Date(lr,or,ar)}}return new Date(rr)};return tr.filter(rr=>rr&&rr.id_time).sort((rr,sr)=>er(rr.id_time)-er(sr.id_time)).map(rr=>{const sr=rr[Hn]??0;return{x:er(rr.id_time).getTime(),y:sr}})};function parseDateToTimestamp(tr){if(!tr)return NaN;const Hn=/^(\d{2})\/(\d{2})\/(\d{4})$/,er=/^(\d{4})-(\d{2})-(\d{2})$/;let nr;if(nr=tr.match(Hn)){const[,ir,rr,sr]=nr.map(Number);return Date.UTC(sr,rr-1,ir)}else if(nr=tr.match(er)){const[ir,rr,sr]=tr.split("-").map(Number);return Date.UTC(ir,rr-1,sr)}else return NaN}const API_ENDPOINT="https://api_gold.thinkdiff.us/history_sjc_nguyenlieu_USD_SILVER_GOLDENFUN",API_ENDPOINT_MATERIAL="https://api_gold.thinkdiff.us/history_lich_su_vang_nguyen_lieu_kimtin_tu_2009",API_ENDPOINT_HISTORY_GOONUS="https://api_gold.thinkdiff.us/history_goonus",API_ENDPOINT_HISTORY_BAC_PHUQUY="https://api_gold.thinkdiff.us/history_bac_phuquy",API_ENDPOINT_HISTORY_PHUQUY_GOLD="https://api_gold.thinkdiff.us/phuquy_gold_history",API_ENDPOINT_HISTORY_HANQUOC="https://api_gold.thinkdiff.us/korea_gold_history",API_ENDPOINT_HISTORY_VANG_SAC="https://api_gold.thinkdiff.us/sacombank_vang_history",API_ENDPOINT_HISTORY_BAC_SAC="https://api_gold.thinkdiff.us/sacombank_bac_history",API_ENDPOINT_HISTORY_SJC_GOLD="https://api_gold.thinkdiff.us/sacombank_vang_history",API_ENDPOINT_HISTORY_SJC_SILVER="https://api_gold.thinkdiff.us/sacombank_bac_history",fetchCandlestickData=async()=>{try{const tr=await fetch(API_ENDPOINT),Hn=await fetch(API_ENDPOINT_MATERIAL),er=await fetch(API_ENDPOINT_HISTORY_GOONUS),nr=await fetch(API_ENDPOINT_HISTORY_SJC_GOLD),ir=await fetch(API_ENDPOINT_HISTORY_SJC_SILVER),rr=await fetch(API_ENDPOINT_HISTORY_BAC_PHUQUY),sr=await fetch(API_ENDPOINT_HISTORY_PHUQUY_GOLD),ar=await fetch(API_ENDPOINT_HISTORY_HANQUOC),or=await fetch(API_ENDPOINT_HISTORY_VANG_SAC),lr=await fetch(API_ENDPOINT_HISTORY_BAC_SAC);if(!tr.ok)throw new Error(`HTTP error! status: ${tr.status}`);const cr=await tr.json();if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);const ur=await Hn.json();if(!er.ok)throw new Error(`HTTP error! status: ${er.status}`);const dr=await er.json();if(!rr.ok)throw new Error(`HTTP error! status: ${rr.status}`);const fr=await rr.json();if(!sr.ok)throw new Error(`HTTP error! status: ${sr.status}`);const xr=await sr.json();if(!ar.ok)throw new Error(`HTTP error! status: ${ar.status}`);if(!nr.ok)throw new Error(`HTTP error! status: ${nr.status}`);const yr=await nr.json();if(!ir.ok)throw new Error(`HTTP error! status: ${ir.status}`);const _r=await ir.json();console.log("Raw dataHistorySJC_GOLD:",yr?.data?.slice(0,2)),console.log("Raw dataHistorySJC_SILVER:",_r?.data?.slice(0,2));const Sr=yr.data.map((sl,yl)=>{let Ll=null;return sl.data&&Array.isArray(sl.data)&&sl.data[1]&&sl.data[1].buy!==void 0?Ll=sl.data[1].buy:sl.buy!==void 0&&(Ll=sl.buy),{x:sl?.date,y:Ll}}),jr=_r.data.map((sl,yl)=>({x:sl.date,y:sl.buy}));if(console.log("Formatted materialHistorySJC_GOLD:",Sr.slice(0,2)),console.log("Formatted materialHistorySJC_SILVER:",jr.slice(0,2)),!lr.ok)throw new Error(`HTTP error! status: ${lr.status}`);if(!or.ok)throw new Error(`HTTP error! status: ${or.status}`);const Dr=await or.json(),Ir=await lr.json(),Mr=await ar.json(),Or=cr.SJC||[],Lr=cr.vang_nguyenlieu||[],Fr=cr.tygia_usd||[],Vr=ur.lich_su_gia_nguyen_lieu_vietnam||[],Zr=dr.btmc||[],Hr=dr.btmh||[],Yr=dr.doji||[],eo=dr.mihong||[],io=dr.ngoctham||[],uo=dr.pnj||[],so=dr.vang_phuquy||[],no=fr.list_phuquy||[],po=xr.map(sl=>sl.nhan_tron_phu_quy_9999?{id_time:sl.update_time,...JSON.parse(sl.nhan_tron_phu_quy_9999)}:null),co=xr.map(sl=>sl.vang_mieng_sjc?{id_time:sl.update_time,...JSON.parse(sl.vang_mieng_sjc)}:null),lo=xr.map(sl=>sl.vang_trang_suc_98?{id_time:sl.update_time,...JSON.parse(sl.vang_trang_suc_98)}:null),ao=xr.map(sl=>sl.vang_trang_suc_99?{id_time:sl.update_time,...JSON.parse(sl.vang_trang_suc_99)}:null),xo=xr.map(sl=>sl.vang_trang_suc_999?{id_time:sl.update_time,...JSON.parse(sl.vang_trang_suc_999)}:null),_o=xr.map(sl=>sl.vang_trang_suc_9999?{id_time:sl.update_time,...JSON.parse(sl.vang_trang_suc_9999)}:null),Po=(sl,yl="buy")=>{const kl=sl.filter(bu=>{const oh=bu[yl],ku=oh>=2e7&&oh<=5e8;return ku||console.log(`Outlier removed - ${yl}: ${oh} (outside range [20000000, 500000000])`),ku});return console.log(`Outlier filter - Before: ${sl.length}, After: ${kl.length}`),kl},Oo="1 VNG M NGH P V";let So=[];if(console.log("Vng Sac - Data structure:",{hasData:!!Dr?.data,isArray:Array.isArray(Dr?.data),firstItem:Dr?.data?.[0]}),Dr?.data&&Array.isArray(Dr?.data)&&Dr?.data.length>0&&!Dr?.data[0]?.data){let sl=Dr.data.map(yl=>{const Ll=yl.buy!==void 0&&yl.buy!==null?yl.buy:0,Cl=yl.sell!==void 0&&yl.sell!==null?yl.sell:0;return{id_time:yl.date||new Date().toISOString().split("T")[0],buy:Ll,sell:Cl}}).filter(yl=>yl.id_time&&yl.buy>0&&yl.sell>0);So=Po(sl,"buy"),console.log("Vng Sac (Simple) - After outlier removal:",So.slice(0,3),"Total items:",So.length)}else Dr?.data&&Array.isArray(Dr?.data)&&Dr?.data.length>0&&Dr?.data[0]?.data&&Array.isArray(Dr?.data[0].data)?(So=Dr.data.flatMap(sl=>sl.data&&Array.isArray(sl.data)?sl.data.filter(yl=>yl.name===Oo).map(yl=>{const Ll=yl.buy!==void 0&&yl.buy!==null?yl.buy:yl.buy_price!==void 0&&yl.buy_price!==null?yl.buy_price:0,Cl=yl.sell!==void 0&&yl.sell!==null?yl.sell:yl.sell_price!==void 0&&yl.sell_price!==null?yl.sell_price:0;return{id_time:yl.date||yl.id_time||sl.date||new Date().toISOString().split("T")[0],buy:Ll,sell:Cl}}):[]).filter(sl=>sl.buy>0&&sl.sell>0),console.log("Vng Sac (Nested) - First 3 items after parse:",So.slice(0,3))):Array.isArray(Dr)?So=Dr.map(sl=>({id_time:sl.date||sl.id_time||sl.update_time,buy:sl.buy!==void 0&&sl.buy!==null?sl.buy:sl.buy_price!==void 0&&sl.buy_price!==null?sl.buy_price:0,sell:sl.sell!==void 0&&sl.sell!==null?sl.sell:sl.sell_price!==void 0&&sl.sell_price!==null?sl.sell_price:0})).filter(sl=>sl.id_time&&sl.buy>0&&sl.sell>0):Dr.data&&Array.isArray(Dr.data)&&(So=Dr.data.map(sl=>({id_time:sl.date||sl.id_time||sl.update_time,buy:sl.buy!==void 0&&sl.buy!==null?sl.buy:sl.buy_price!==void 0&&sl.buy_price!==null?sl.buy_price:0,sell:sl.sell!==void 0&&sl.sell!==null?sl.sell:sl.sell_price!==void 0&&sl.sell_price!==null?sl.sell_price:0})).filter(sl=>sl.id_time&&sl.buy>0&&sl.sell>0));let Ao=[];Ao=(Array.isArray(Ir)?Ir:Ir&&Ir.data||[]).map(sl=>{if(!sl)return null;const yl=sl.date||sl.id_time||sl.crawled_at||sl.update_time,Ll=sl.buy!==void 0&&sl.buy!==null?sl.buy:sl.buy_price!==void 0&&sl.buy_price!==null?sl.buy_price:0,Cl=sl.sell!==void 0&&sl.sell!==null?sl.sell:sl.sell_price!==void 0&&sl.sell_price!==null?sl.sell_price:0;return yl&&(Ll>0||Cl>0)?{id_time:yl,buy:Ll,sell:Cl}:null}).filter(Boolean),console.log("Vng Hn Quc - Sample record:",Mr.data?.records?.[0]),console.log("Vng Hn Quc - gold_pure structure:",Mr.data?.records?.[0]?.gold_pure);const Ro=Mr.data.records.filter(sl=>{if(!sl||!sl.date_key||!sl.gold_pure)return!1;const yl=new Date(sl.date_key).getFullYear();return yl>=2009&&!isNaN(yl)}).map(sl=>{const yl=sl.gold_pure?.buy_vnd||sl.gold_pure?.buy||0,Ll=sl.gold_pure?.sell_vnd||sl.gold_pure?.sell||0;return sl===Mr.data.records.filter(Cl=>Cl?.gold_pure)[0]&&console.log("Vng Hn Quc - First item parsed:",{date_key:sl.date_key,buy_vnd:sl.gold_pure?.buy_vnd,sell_vnd:sl.gold_pure?.sell_vnd,buy:sl.gold_pure?.buy,sell:sl.gold_pure?.sell,parsed_buy:yl,parsed_sell:Ll,full_gold_pure:sl.gold_pure}),{id_time:sl.date_key,buy:yl,sell:Ll}}).filter(sl=>sl.buy>0&&sl.sell>0);console.log("Vng Hn Quc - First 3 items after parse:",Ro.slice(0,3));const Go=formatCandlestickData(Or),Qo=formatCandlestickData(Lr),Vo=formatCandlestickData(Fr),nl=formatLineMaterialData(Vr,"buy"),fl=formatLineMaterialData(Vr,"sell"),Bl=formatLineMaterialData(Zr,"buy"),Gl=formatLineMaterialData(Zr,"sell"),Tl=formatLineMaterialData(Hr,"buy"),Pc=formatLineMaterialData(Hr,"sell"),mc=formatLineMaterialData(Yr,"buy"),Hc=formatLineMaterialData(Yr,"sell"),Vl=formatLineMaterialData(eo,"buy"),Jc=formatLineMaterialData(eo,"sell"),Yl=formatLineMaterialData(io,"buy"),ic=formatLineMaterialData(io,"sell"),cc=formatLineMaterialData(uo,"buy"),Xc=formatLineMaterialData(uo,"sell"),Sc=formatLineMaterialData(so,"buy"),Oc=formatLineMaterialData(so,"sell"),gl=formatLineMaterialDateData(no,"buy"),Ql=formatLineMaterialDateData(no,"sell"),ql=formatLineMaterialDateData(po,"mua"),wc=formatLineMaterialDateData(po,"ban"),Il=formatLineMaterialDateData(co,"mua"),rl=formatLineMaterialDateData(co,"ban"),il=formatLineMaterialDateData(ao,"mua"),hl=formatLineMaterialDateData(ao,"ban"),Dl=formatLineMaterialDateData(xo,"mua"),Pl=formatLineMaterialDateData(xo,"ban"),Jl=formatLineMaterialDateData(_o,"mua"),oc=formatLineMaterialDateData(_o,"ban"),qc=formatLineMaterialDateData(lo,"mua"),xc=formatLineMaterialDateData(lo,"ban"),jc=formatLineMaterialDateData(Ro,"buy"),vu=formatLineMaterialDateData(Ro,"sell"),Kc=formatLineMaterialDateData(Ao,"buy"),uc=formatLineMaterialDateData(Ao,"sell");jc.length>0&&(console.log("Vng Hn Quc - After format (first 3):",jc.slice(0,3)),console.log("Vng Hn Quc - Max buy:",Math.max(...jc.map(sl=>sl.y))),console.log("Vng Hn Quc - Min buy:",Math.min(...jc.map(sl=>sl.y))));const Ic=formatLineMaterialDateData(So,"buy"),ec=formatLineMaterialDateData(So,"sell");Ic.length>0&&(console.log("Vng Sac - After format (first 3):",Ic.slice(0,3)),console.log("Vng Sac - Max buy:",Math.max(...Ic.map(sl=>sl.y))),console.log("Vng Sac - Min buy:",Math.min(...Ic.map(sl=>sl.y))));const Hl=formatLineMaterialDataXY(Sr),ah=formatLineMaterialDataXY(jr);return{sjcData:Go,nguyenLieuData:Qo,usdData:Vo,buyDataMaterial:nl,sellDataMaterial:fl,buyDataHistoryGooonusBTMC:Bl,sellDataHistoryGooonusBTMC:Gl,buyDataHistoryGooonusBTMH:Tl,sellDataHistoryGooonusBTMH:Pc,buyDataHistoryGooonusDOJI:mc,sellDataHistoryGooonusDOJI:Hc,buyDataHistoryGooonusMIHONG:Vl,sellDataHistoryGooonusMIHONG:Jc,buyDataHistoryGooonusNGOCTHAM:Yl,sellDataHistoryGooonusNGOCTHAM:ic,buyDataHistoryGooonusPNJ:cc,sellDataHistoryGooonusPNJ:Xc,buyDataHistoryGooonusVANGPHUQUY:Sc,sellDataHistoryGooonusVANGPHUQUY:Oc,buyDataHistoryGooonusBacPhuQuy:gl,sellDataHistoryGooonusBacPhuQuy:Ql,buyDataHistoryGooonusNhanTronPhuQuy9999:ql,sellDataHistoryGooonusNhanTronPhuQuy9999:wc,buyDataHistoryGooonusVangMiengSjc:Il,sellDataHistoryGooonusVangMiengSjc:rl,buyDataHistoryGooonusVangTrangSuc99:il,sellDataHistoryGooonusVangTrangSuc99:hl,buyDataHistoryGooonusVangTrangSuc999:Dl,sellDataHistoryGooonusVangTrangSuc999:Pl,buyDataHistoryGooonusVangTrangSuc9999:Jl,sellDataHistoryGooonusVangTrangSuc9999:oc,buyDataHistoryGooonusVangTrangSuc98:qc,sellDataHistoryGooonusVangTrangSuc98:xc,buySJC_GOLD:Hl,buySJC_SILVER:ah,buyDataHistoryGooonusVangHanQuoc:jc,sellDataHistoryGooonusVangHanQuoc:vu,buyDataHistoryGooonusVangSac:Ic,sellDataHistoryGooonusVangSac:ec,buyDataHistoryGooonusBacSac:Kc,sellDataHistoryGooonusBacSac:uc}}catch(tr){throw console.error("Error fetching candlestick data:",tr),tr}},calculateStartDate=tr=>{const Hn=new Date,er=new Date(Hn);switch(tr){case"1W":er.setDate(er.getDate()-7);break;case"1M":er.setMonth(er.getMonth()-1);break;case"6M":er.setMonth(er.getMonth()-6);break;case"1Y":er.setFullYear(er.getFullYear()-1);break;case"ALL":return null;default:er.setFullYear(er.getFullYear()-1)}return er},filterDataByTimeRange=(tr,Hn)=>{if(!Array.isArray(tr)||Hn==="ALL")return tr;const er=calculateStartDate(Hn);if(!er)return tr;const nr=er.getTime();return tr.filter(ir=>Number(ir.x)>=nr)};function getBarBounds(tr,Hn){const{x:er,y:nr,base:ir,width:rr,height:sr}=tr.getProps(["x","low","high","width","height"],Hn);let ar,or,lr,cr,ur;return tr.horizontal?(ur=sr/2,ar=Math.min(er,ir),or=Math.max(er,ir),lr=nr-ur,cr=nr+ur):(ur=rr/2,ar=er-ur,or=er+ur,lr=Math.min(nr,ir),cr=Math.max(nr,ir)),{left:ar,top:lr,right:or,bottom:cr}}function inRange(tr,Hn,er,nr){const ir=Hn===null,rr=er===null,sr=!tr||ir&&rr?!1:getBarBounds(tr,nr);return sr&&(ir||Hn>=sr.left&&Hn<=sr.right)&&(rr||er>=sr.top&&er<=sr.bottom)}class FinancialElement extends BarElement{static defaults={backgroundColors:{up:"rgba(75, 192, 192, 0.5)",down:"rgba(255, 99, 132, 0.5)",unchanged:"rgba(201, 203, 207, 0.5)"},borderColors:{up:"rgb(75, 192, 192)",down:"rgb(255, 99, 132)",unchanged:"rgb(201, 203, 207)"}};height(){return this.base-this.y}inRange(Hn,er,nr){return inRange(this,Hn,er,nr)}inXRange(Hn,er){return inRange(this,Hn,null,er)}inYRange(Hn,er){return inRange(this,null,Hn,er)}getRange(Hn){return Hn==="x"?this.width/2:this.height/2}getCenterPoint(Hn){const{x:er,low:nr,high:ir}=this.getProps(["x","low","high"],Hn);return{x:er,y:(ir+nr)/2}}tooltipPosition(Hn){const{x:er,open:nr,close:ir}=this.getProps(["x","open","close"],Hn);return{x:er,y:(nr+ir)/2}}}const defaults=Chart$1.defaults;class OhlcElement extends FinancialElement{static id="ohlc";static defaults={...FinancialElement.defaults,lineWidth:2,armLength:null,armLengthRatio:.8};draw(Hn){const er=this,{x:nr,open:ir,high:rr,low:sr,close:ar}=er,or=valueOrDefault(er.armLengthRatio,defaults.elements.ohlc.armLengthRatio);let lr=valueOrDefault(er.armLength,defaults.elements.ohlc.armLength);lr===null&&(lr=er.width*or*.5),ar<ir?Hn.strokeStyle=valueOrDefault(er.options.borderColors?er.options.borderColors.up:void 0,defaults.elements.ohlc.borderColors.up):ar>ir?Hn.strokeStyle=valueOrDefault(er.options.borderColors?er.options.borderColors.down:void 0,defaults.elements.ohlc.borderColors.down):Hn.strokeStyle=valueOrDefault(er.options.borderColors?er.options.borderColors.unchanged:void 0,defaults.elements.ohlc.borderColors.unchanged),Hn.lineWidth=valueOrDefault(er.lineWidth,defaults.elements.ohlc.lineWidth),Hn.beginPath(),Hn.moveTo(nr,rr),Hn.lineTo(nr,sr),Hn.moveTo(nr-lr,ir),Hn.lineTo(nr,ir),Hn.moveTo(nr+lr,ar),Hn.lineTo(nr,ar),Hn.stroke()}}class FinancialController extends BarController{static overrides={label:"",parsing:!1,hover:{mode:"label"},animations:{numbers:{type:"number",properties:["x","y","base","width","open","high","low","close"]}},scales:{x:{type:"timeseries",offset:!0,ticks:{major:{enabled:!0},source:"data",maxRotation:0,autoSkip:!0,autoSkipPadding:75,sampleSize:100}},y:{type:"linear"}},plugins:{tooltip:{intersect:!1,mode:"index",callbacks:{label(Hn){const er=Hn.parsed;if(!isNullOrUndef(er.y))return defaults$4.plugins.tooltip.callbacks.label(Hn);const{o:nr,h:ir,l:rr,c:sr}=er;return`O: ${nr}  H: ${ir}  L: ${rr}  C: ${sr}`}}}}};getLabelAndValue(Hn){const er=this,nr=er.getParsed(Hn),ir=er._cachedMeta.iScale.axis,{o:rr,h:sr,l:ar,c:or}=nr,lr=`O: ${rr}  H: ${sr}  L: ${ar}  C: ${or}`;return{label:`${er._cachedMeta.iScale.getLabelForValue(nr[ir])}`,value:lr}}getUserBounds(Hn){const{min:er,max:nr,minDefined:ir,maxDefined:rr}=Hn.getUserBounds();return{min:ir?er:Number.NEGATIVE_INFINITY,max:rr?nr:Number.POSITIVE_INFINITY}}getMinMax(Hn){const er=this._cachedMeta,nr=er._parsed,ir=er.iScale.axis,rr=this._getOtherScale(Hn),{min:sr,max:ar}=this.getUserBounds(rr);if(nr.length<2)return{min:0,max:1};if(Hn===er.iScale)return{min:nr[0][ir],max:nr[nr.length-1][ir]};const or=nr.filter(({x:ur})=>ur>=sr&&ur<ar);let lr=Number.POSITIVE_INFINITY,cr=Number.NEGATIVE_INFINITY;for(let ur=0;ur<or.length;ur++){const dr=or[ur];lr=Math.min(lr,dr.l),cr=Math.max(cr,dr.h)}return{min:lr,max:cr}}calculateElementProperties(Hn,er,nr,ir){const rr=this,sr=rr._cachedMeta.vScale,ar=sr.getBasePixel(),or=rr._calculateBarIndexPixels(Hn,er,ir),lr=rr.chart.data.datasets[rr.index].data[Hn],cr=sr.getPixelForValue(lr.o),ur=sr.getPixelForValue(lr.h),dr=sr.getPixelForValue(lr.l),fr=sr.getPixelForValue(lr.c);return{base:nr?ar:dr,x:or.center,y:(dr+ur)/2,width:or.size,open:cr,high:ur,low:dr,close:fr}}draw(){const Hn=this,er=Hn.chart,nr=Hn._cachedMeta.data;clipArea(er.ctx,er.chartArea);for(let ir=0;ir<nr.length;++ir)nr[ir].draw(Hn._ctx);unclipArea(er.ctx)}}class OhlcController extends FinancialController{static id="ohlc";static defaults={...FinancialController.defaults,dataElementType:OhlcElement.id,datasets:{barPercentage:1,categoryPercentage:1}};updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this._getRuler(),{sharedOptions:ar,includeOptions:or}=this._getSharedOptions(er,ir);for(let lr=er;lr<er+nr;lr++){const cr=ar||this.resolveDataElementOptions(lr,ir),ur=this.calculateElementProperties(lr,sr,rr,cr);or&&(ur.options=cr),this.updateElement(Hn[lr],lr,ur,ir)}}}class CandlestickElement extends FinancialElement{static id="candlestick";static defaults={...FinancialElement.defaults,borderWidth:1};draw(Hn){const er=this,{x:nr,open:ir,high:rr,low:sr,close:ar}=er;let or=er.options.borderColors;typeof or=="string"&&(or={up:or,down:or,unchanged:or});let lr;ar<ir?(lr=valueOrDefault(or?or.up:void 0,defaults$4.elements.candlestick.borderColors.up),Hn.fillStyle=valueOrDefault(er.options.backgroundColors?er.options.backgroundColors.up:void 0,defaults$4.elements.candlestick.backgroundColors.up)):ar>ir?(lr=valueOrDefault(or?or.down:void 0,defaults$4.elements.candlestick.borderColors.down),Hn.fillStyle=valueOrDefault(er.options.backgroundColors?er.options.backgroundColors.down:void 0,defaults$4.elements.candlestick.backgroundColors.down)):(lr=valueOrDefault(or?or.unchanged:void 0,defaults$4.elements.candlestick.borderColors.unchanged),Hn.fillStyle=valueOrDefault(er.backgroundColors?er.backgroundColors.unchanged:void 0,defaults$4.elements.candlestick.backgroundColors.unchanged)),Hn.lineWidth=valueOrDefault(er.options.borderWidth,defaults$4.elements.candlestick.borderWidth),Hn.strokeStyle=lr,Hn.beginPath(),Hn.moveTo(nr,rr),Hn.lineTo(nr,Math.min(ir,ar)),Hn.moveTo(nr,sr),Hn.lineTo(nr,Math.max(ir,ar)),Hn.stroke(),Hn.fillRect(nr-er.width/2,ar,er.width,ir-ar),Hn.strokeRect(nr-er.width/2,ar,er.width,ir-ar),Hn.closePath()}}class CandlestickController extends FinancialController{static id="candlestick";static defaults={...FinancialController.defaults,dataElementType:CandlestickElement.id};static defaultRoutes=BarController.defaultRoutes;updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this._getRuler(),{sharedOptions:ar,includeOptions:or}=this._getSharedOptions(er,ir);for(let lr=er;lr<er+nr;lr++){const cr=ar||this.resolveDataElementOptions(lr,ir),ur=this.calculateElementProperties(lr,sr,rr,cr);or&&(ur.options=cr),this.updateElement(Hn[lr],lr,ur,ir)}}}Chart$1.register(TimeScale,LinearScale,CandlestickController,CandlestickElement,plugin_title,plugin_tooltip,plugin_legend);const SingleCandlestickChart=({data:tr,title:Hn,timeRange:er,setTimeRange:nr})=>{const[ir,rr]=reactExports.useState(!1);if(!tr||tr.length===0)return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:Hn}),jsxRuntimeExports.jsx("div",{className:"chart-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu"})})]});const sr={datasets:[{label:Hn,data:tr,borderColor:"#64748B",backgroundColor:"rgba(100, 116, 139, 0.1)",color:{up:"#22C55E",down:"#EF4444",unchanged:"#64748B"},borderWidth:1}]},ar={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#F1F5F9",borderColor:"#FACC15",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:or=>{const lr=or.raw;if(!lr)return[];const{o:cr,h:ur,l:dr,c:fr}=lr;return[`Open: ${cr?.toLocaleString()||0}`,`High: ${ur?.toLocaleString()||0}`,`Low: ${dr?.toLocaleString()||0}`,`Close: ${fr?.toLocaleString()||0}`]}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#64748B",font:{size:11,family:"Inter, sans-serif"}}},y:{grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#64748B",font:{size:11,family:"Inter, sans-serif"},callback:or=>or.toLocaleString()}}},onClick:()=>rr(!0)};return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",style:{cursor:"pointer"},onClick:()=>{rr(!0)},children:Hn}),jsxRuntimeExports.jsx("div",{className:"chart-container",children:jsxRuntimeExports.jsx(Chart,{type:"candlestick",data:sr,options:ar})}),ir&&jsxRuntimeExports.jsx("div",{className:"contain-popup-candle",children:jsxRuntimeExports.jsxs("div",{className:"chart-popup",children:[jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:er,onRangeChange:nr}),jsxRuntimeExports.jsx("h3",{className:"chart-title-popup",children:Hn}),jsxRuntimeExports.jsx("div",{className:"chart-popup-content",style:{pointerEvents:"initial"},children:jsxRuntimeExports.jsx(Chart,{type:"candlestick",data:sr,options:ar})}),jsxRuntimeExports.jsx("button",{className:"close-btn-candle",onClick:()=>rr(!1),children:"ng"})]})})]})};Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,plugin$1);const DoubleLineChart=({buyData:tr,sellData:Hn,title:er,isZoom:nr})=>{er&&(er.includes("Vng Sac")||er.includes("Hn Quc"))&&console.log(`DoubleLineChart [${er}]:`,{buyData_first3:tr?.slice(0,3),sellData_first3:Hn?.slice(0,3),buyData_length:tr?.length,sellData_length:Hn?.length,buyData_max:tr?.length>0?Math.max(...tr.map(sr=>sr.y)):0,sellData_max:Hn?.length>0?Math.max(...Hn.map(sr=>sr.y)):0});const ir={datasets:[{label:"Buy",data:tr,borderColor:"#22C55E",fill:!1,tension:.3},{label:"Sell",data:Hn,borderColor:"#EF4444",fill:!1,tension:.3}]},rr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:sr=>{const ar=sr.parsed.y;return er&&(er.includes("Vng Sac")||er.includes("Hn Quc"))&&console.log(`Tooltip [${er}]:`,{label:sr.dataset.label,parsed_y:ar,raw_data:sr.raw}),`${sr.dataset.label}: ${ar.toLocaleString()}`}}},zoom:{zoom:{wheel:{enabled:nr},pinch:{enabled:nr},mode:"x"},pan:{enabled:nr,mode:"x"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},ticks:{color:"#64748B"},grid:{color:"rgba(148, 163, 184, 0.1)"}},y:{ticks:{color:"#64748B",callback:sr=>(er&&(er.includes("Vng Sac")||er.includes("Hn Quc"))&&console.log(`Y-axis tick [${er}]:`,sr),sr.toLocaleString())},grid:{color:"rgba(148, 163, 184, 0.1)"},beginAtZero:!1}}};return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",style:{height:"400px"},children:[jsxRuntimeExports.jsx("h3",{children:er}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(Chart,{type:"line",data:ir,options:rr})})]})},ChartDetailPage=()=>{const{chartKey:tr}=useParams(),Hn=useNavigate(),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("ALL");reactExports.useEffect(()=>{(async()=>{try{rr(!0);const dr=await fetchCandlestickData();nr(dr),ar(null)}catch(dr){console.error("Error loading chart data:",dr),ar("Khng th ti d liu biu . Vui lng th li sau.")}finally{rr(!1)}})()},[]);const cr=reactExports.useMemo(()=>{if(!er||Object.keys(er).length===0)return null;let ur=[],dr="",fr=!1;switch(tr){case"sjc":ur=filterDataByTimeRange(er.sjcData||[],or),dr="SJC T do";break;case"nguyenLieu":ur=filterDataByTimeRange(er.nguyenLieuData||[],or),dr="Vng Nguyn liu";break;case"usd":ur=filterDataByTimeRange(er.usdData||[],or),dr="T gi USD/VND";break;case"DataMaterial":ur={buy:filterDataByTimeRange(er.buyDataMaterial||[],or),sell:filterDataByTimeRange(er.sellDataMaterial||[],or)},dr="Lch s vng km tn t nm 2009",fr=!0;break;case"DataHistoryGooonusBTMC":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBTMC||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBTMC||[],or)},dr="History 1 Nm BTMC",fr=!0;break;case"DataHistoryGooonusBTMH":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBTMH||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBTMH||[],or)},dr="History 1 Nm BTMH",fr=!0;break;case"DataHistoryGooonusDOJI":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusDOJI||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusDOJI||[],or)},dr="History 1 Nm DOJI",fr=!0;break;case"DataHistoryGooonusMIHONG":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusMIHONG||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusMIHONG||[],or)},dr="History 1 Nm MIHONG",fr=!0;break;case"DataHistoryGooonusNGOCTHAM":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusNGOCTHAM||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusNGOCTHAM||[],or)},dr="History 1 Nm NGOCTHAM",fr=!0;break;case"DataHistoryGooonusPNJ":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusPNJ||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusPNJ||[],or)},dr="History 1 Nm PNJ",fr=!0;break;case"DataHistoryGooonusVANGPHUQUY":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusVANGPHUQUY||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusVANGPHUQUY||[],or)},dr="History 1 Nm VANGPHUQUY",fr=!0;break;case"DataHistoryGooonusBacPhuQuy":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBacPhuQuy||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBacPhuQuy||[],or)},dr="History Bac Phu Quy",fr=!0;break;case"DataHistoryGooonusVangHanQuoc":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusVangHanQuoc||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusVangHanQuoc||[],or)},dr="History Vng koreagoldx.co.kr",fr=!0;break;case"DataHistoryGooonusVangSac":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusVangSac||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusVangSac||[],or)},dr="History Vng SACOMBANK SBJ",fr=!0;break;case"DataHistoryGooonusBacSac":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBacSac||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBacSac||[],or)},dr="History Bc SACOMBANK",fr=!0;break;default:return null}return{data:ur,title:dr,isDoubleLine:fr}},[er,or,tr]);return ir?jsxRuntimeExports.jsx("div",{className:"chart-detail-page",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti biu ..."})]})}):sr||!cr?jsxRuntimeExports.jsx("div",{className:"chart-detail-page",children:jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",sr||"Biu  khng tn ti"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn(-1),children:"Quay li"})]})}):jsxRuntimeExports.jsxs("div",{className:"chart-detail-page",style:{padding:"20px"},children:[jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsxs("h2",{className:"section-title",children:[" ",cr.title]}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn(-1),style:{marginBottom:"20px",padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},children:"Quay li"})]}),jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:or,onRangeChange:lr}),jsxRuntimeExports.jsx("div",{style:{marginTop:"20px"},children:cr.isDoubleLine?jsxRuntimeExports.jsx(DoubleLineChart,{buyData:cr.data.buy,sellData:cr.data.sell,title:cr.title,isZoom:!0}):jsxRuntimeExports.jsx(SingleCandlestickChart,{data:cr.data,title:cr.title,timeRange:or,setTimeRange:lr})})]})},ETF_MAP={"vaneck-sandp-global-mining-ucits-etf-a":{name:"VanEck S&P Global Mining UCITS ETF A",slug:"vaneck-sandp-global-mining-ucits-etf-a",description:["Qu ETF VanEck S&P Global Mining UCITS ETF A hng n mc tiu theo di ch s S&P Global Mining. Ch s ny theo di cc cng ty khai thc v kim loi ln nht trn ton th gii, bao gm c vng, bc, ng, st v cc kim loi qu khc.","T l chi ph qun l (TER) ca qu ETF ny l 0,50% mi nm. VanEck S&P Global Mining UCITS ETF A l qu ETF a dng trong ngnh khai thc ton cu. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck S&P Global Mining UCITS ETF A l mt qu ETF c quy m ln vi tng ti sn qun l khong 3.456 triu Euro. Qu c ra mt vo ngy 8 thng 11 nm 2007 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"S&P Global Mining"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, a dng"},{key:"Quy m qu",value:"3.456 triu EUR"},{key:"T l chi ph tng cng",value:"0,50% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"26,78%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 8 thng 11 nm 2007"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:54.23,totalHoldings:89},topHoldings:[{name:"Tp on BHP",weight:8.9},{name:"Rio Tinto",weight:7.45},{name:"Vale SA",weight:6.78},{name:"Tp on Newmont",weight:5.67},{name:"Cng ty Khai thc M Barrick",weight:4.89},{name:"Glencore",weight:4.56},{name:"Cng ty Khai thc M Agnico Eagle",weight:4.23},{name:"Freeport-McMoRan",weight:3.89},{name:"Anglo American",weight:3.67},{name:"Teck Resources",weight:4.19}],countries:[{name:"c",weight:28.45},{name:"Canada",weight:24.67},{name:"Hoa K",weight:18.9},{name:"Brazil",weight:12.34},{name:"Khc",weight:15.64}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:78.9},{name:"Nng lng",weight:12.34},{name:"Khc",weight:8.76}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1789,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:98.45},{key:"1m",label:"1 thng",value:6.78},{key:"3m",label:"3 thng",value:16.89},{key:"6m",label:"6 thng",value:38.9},{key:"1y",label:"1 nm",value:89.67},{key:"3y",label:"3 nm",value:145.23},{key:"5y",label:"5 nm",value:123.45},{key:"max",label:"K t khi thnh lp (MAX)",value:67.89},{key:"2024",label:"2024",value:14.56},{key:"2023",label:"2023",value:3.45},{key:"2022",label:"2022",value:-9.78},{key:"2021",label:"2021",value:1.23}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[6.5,-1.8,7.2,-2.9,4.8,7.4,-.3,16.2,18.9,-6.1,12.8,2.4],2024:[-10.2,-10.8,16.1,9.1,8.8,-9.6,5.7,-8.3,5.4,11.5,-3.9,-9.9],2023:[3.8,-12.2,10.6,-5.4,-7.4,-6.3,4.1,-3.9,-8.5,-1.3,9.2,1.9],2022:[1.7,-2.4,4.1,-2.9,1.3,-3.9,2.4,-4.7,1.5,2.8,-2.1,2.4],2021:[1.4,-2.7,3.5,-2.3,1.9,-3.4,1,-4.2,2.3,2.4,-1.5,1.7]}},scale:{min:-20,max:20,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:26.78,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:23.45,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:24.67,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.35,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.32,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.67,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-19.78,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-27.89,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-41.23,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-72.45,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}},"global-x-silver-miners-ucits-etf":{name:"Global X Silver Miners UCITS ETF",slug:"global-x-silver-miners-ucits-etf",description:["Qu ETF Global X Silver Miners UCITS USD Accumulating hng n mc tiu theo di ch s Solactive Global Silver Miners. Ch s Solactive Global Silver Miners theo di cc cng ty trn ton th gii tham gia vo hot ng thm d, khai thc v/hoc tinh ch bc.","T l chi ph tng cng ( TER ) ca ETF ny l 0,65% mi nm . Global X Silver Miners UCITS ETF USD Accumulating l ETF duy nht theo di ch s Solactive Global Silver Miners. ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton (mua tt c cc thnh phn ca ch s). C tc trong ETF c tch ly v ti u t vo ETF.","Qu ETF Global X Silver Miners UCITS USD Accumulating l mt qu ETF rt ln vi tng ti sn qun l ln n 1.008 triu Euro . Qu ETF ny c ra mt vo ngy 4 thng 5 nm 2022 v c tr s ti Ireland ."],basics:[{key:"Mc lc",value:"Cng ty khai thc bc ton cu Solactive"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"1.014 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"38,09%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 4 thng 5 nm 2022"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Global X"}],holdings:{summary:{top10Weight:74.88,totalHoldings:32},topHoldings:[{name:"Tp on Pan American Silver",weight:12.01},{name:"Cng ty Khai thc M Coeur",weight:11.13},{name:"Cng ty Kim loi Qu Wheaton",weight:10.96},{name:"Tp on Industrias Peoles",weight:7.64},{name:"Cng ty Khai thc M Hecla",weight:7.61},{name:"Cng ty Km Hn Quc",weight:6.45},{name:"Cng ty First Majestic Silver",weight:5.64},{name:"Cng ty Fresnillo",weight:5.19},{name:"Cng ty Khai thc M SSR",weight:4.56},{name:"Cng ty Minas Buenaventura SAA",weight:3.69}],countries:[{name:"Canada",weight:38.62},{name:"Hoa K",weight:23.37},{name:"Mexico",weight:12.83},{name:"Hn Quc",weight:6.45},{name:"Khc",weight:18.73}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:83.34},{name:"Khc",weight:16.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:131.33},{key:"1m",label:"1 thng",value:21.57},{key:"3m",label:"3 thng",value:29.27},{key:"6m",label:"6 thng",value:68.17},{key:"1y",label:"1 nm",value:114.94},{key:"3y",label:"3 nm",value:169.82},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:135.11},{key:"2024",label:"2024",value:20.57},{key:"2023",label:"2023",value:-3.34},{key:"2022",label:"2022",value:null},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[8.1,-1,9.1,-2.1,6.5,9.1,1.1,20.8,23.4,-4.9,16.5,3.8],2024:[-9.2,-9.8,19.1,12.1,11.6,-8.6,7.6,-7.3,7.3,14.2,-2.9,-8.9],2023:[5.4,-10.8,12.4,-4.4,-6.4,-5.3,5.7,-2.9,-7.5,-.3,10.9,2.9],2022:[0,0,0,0,-6.9,-12.5,3.8,-7.6,-4.6,2.2,8.5,3.8]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:38.75,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:34.38,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.63,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.28,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-22.73,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-31.16,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-32.1,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-global-x-silver.jpg"}}},"market-access-nyse-arca-gold-bugs-ucits-etf":{name:"Market Access NYSE Arca Gold Bugs UCITS ETF",slug:"market-access-nyse-arca-gold-bugs-ucits-etf",description:["Qu ETF Market Access NYSE Arca Gold Bugs UCITS hng n mc tiu theo di ch s NYSE Arca Gold BUGS. Ch s ny theo di cc cng ty khai thc vng khng thc hin phng nga ri ro gi vng trong tng lai, tp trung vo nhng cng ty c tim nng tng trng cao nht khi gi vng tng.","T l chi ph qun l (TER) ca qu ETF ny l 0,65% mi nm. Market Access NYSE Arca Gold Bugs UCITS ETF l qu ETF chuyn bit theo di cc cng ty khai thc vng 'khng phng nga ri ro'. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c tch ly v ti u t.","Qu ETF Market Access NYSE Arca Gold Bugs UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 892 triu Euro. Qu c ra mt vo ngy 28 thng 4 nm 2008 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"NYSE Arca Gold BUGS"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"892 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"35,67%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 28 thng 4 nm 2008"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Market Access"}],holdings:{summary:{top10Weight:73.45,totalHoldings:28},topHoldings:[{name:"Tp on Newmont",weight:15.23},{name:"Cng ty Khai thc M Barrick",weight:12.67},{name:"Cng ty Khai thc M Agnico Eagle",weight:10.45},{name:"Franco-Nevada",weight:8.89},{name:"Cng ty Gold Fields",weight:7.23},{name:"Anglogold Ashanti",weight:6.78},{name:"Cng ty Kinross Gold",weight:5.34},{name:"Cng ty Ti nguyn Sao Bc",weight:3.67},{name:"Cng ty Alamos Gold",weight:2.89},{name:"Cng ty B2Gold",weight:.3}],countries:[{name:"Canada",weight:48.9},{name:"Hoa K",weight:22.67},{name:"c",weight:14.78},{name:"Nam Phi",weight:8.45},{name:"Khc",weight:5.2}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:95.67},{name:"Khc",weight:4.33}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:128.9},{key:"1m",label:"1 thng",value:12.78},{key:"3m",label:"3 thng",value:28.45},{key:"6m",label:"6 thng",value:62.34},{key:"1y",label:"1 nm",value:123.67},{key:"3y",label:"3 nm",value:201.45},{key:"5y",label:"5 nm",value:178.9},{key:"max",label:"K t khi thnh lp (MAX)",value:67.89},{key:"2024",label:"2024",value:23.45},{key:"2023",label:"2023",value:9.78},{key:"2022",label:"2022",value:-3.45},{key:"2021",label:"2021",value:.67}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[9.8,-.2,10.5,-.8,7.9,10.8,2.1,22.8,26.7,-3.2,18.9,5.3],2024:[-7.8,-8.4,20.8,13.8,13.3,-7.2,9.1,-5.9,8.8,16.5,-1.5,-7.5],2023:[6.9,-9.4,14.1,-2.9,-4.9,-3.8,6.5,-1.5,-6.1,1,12.4,4.4],2022:[2.7,-1.4,5.1,-1.8,2.3,-2.9,3.4,-3.7,2.5,3.8,-1.1,2.9],2021:[2.4,-1.7,4.5,-1.3,2.9,-2.4,1.9,-3.2,3.3,3.4,-.5,2.3]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:35.67,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:31.23,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:32.45,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.47,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.78,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.98,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-13.45,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-19.78,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-32.67,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-81.23,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/z7284465822618_c08e61ba2a0f4605080528caa7c46c54.jpg"}}},"ubs-solactive-global-pure-gold-miners-ucits-etf-usd":{name:"UBS Solactive Global Pure Gold Miners UCITS ETF USD",slug:"ubs-solactive-global-pure-gold-miners-ucits-etf-usd",description:["Qu ETF UBS Solactive Global Pure Gold Miners UCITS USD hng n mc tiu theo di ch s Solactive Global Pure Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht chuyn v hot ng khai thc vng thun ty trn ton th gii.","T l chi ph qun l (TER) ca qu ETF ny l 0,28% mi nm. UBS Solactive Global Pure Gold Miners UCITS ETF USD l mt trong nhng qu ETF c chi ph thp nht theo di ch s vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp ti u ha. C tc trong qu ETF c phn phi hng qu.","Qu ETF UBS Solactive Global Pure Gold Miners UCITS USD l mt qu ETF c quy m ln vi tng ti sn qun l khong 2.156 triu Euro. Qu c ra mt vo ngy 18 thng 1 nm 2018 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"Solactive Global Pure Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"2.156 triu EUR"},{key:"T l chi ph tng cng",value:"0,28% mi nm"},{key:"Sao chp",value:"Ti u ha (Sao chp mt phn)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"31,22%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 18 thng 1 nm 2018"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"UBS"}],holdings:{summary:{top10Weight:68.92,totalHoldings:45},topHoldings:[{name:"Tp on Newmont",weight:12.45},{name:"Cng ty Khai thc M Barrick",weight:10.78},{name:"Cng ty Khai thc M Agnico Eagle",weight:9.34},{name:"Cng ty Kim loi Qu Wheaton",weight:7.89},{name:"Franco-Nevada",weight:6.78},{name:"Cng ty Gold Fields",weight:5.92},{name:"Anglogold Ashanti",weight:5.23},{name:"Cng ty Kinross Gold",weight:4.89},{name:"Tp on Khai thc M Zijin",weight:3.12},{name:"Cng ty Ti nguyn Sao Bc",weight:2.52}],countries:[{name:"Canada",weight:43.78},{name:"Hoa K",weight:18.45},{name:"c",weight:12.67},{name:"Trung Quc",weight:7.23},{name:"Khc",weight:17.87}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:89.45},{name:"Khc",weight:10.55}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"UBS",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"UBS",rating:5,orderFee:"0,90",etfSavingsPlans:1245,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:122.78},{key:"1m",label:"1 thng",value:10.45},{key:"3m",label:"3 thng",value:24.67},{key:"6m",label:"6 thng",value:55.89},{key:"1y",label:"1 nm",value:115.23},{key:"3y",label:"3 nm",value:189.45},{key:"5y",label:"5 nm",value:156.78},{key:"max",label:"K t khi thnh lp (MAX)",value:98.34},{key:"2024",label:"2024",value:19.78},{key:"2023",label:"2023",value:7.45},{key:"2022",label:"2022",value:-5.67},{key:"2021",label:"2021",value:-1.23}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[8.5,-.7,9.3,-1.5,6.8,9.5,1.3,20.2,23.8,-4.2,16.8,4.1],2024:[-8.6,-9.2,19.4,12.4,11.9,-8,7.9,-6.7,7.6,14.5,-2.3,-8.3],2023:[5.7,-10.2,12.7,-3.8,-5.8,-4.7,5.7,-2.3,-6.9,.2,11.2,3.2],2022:[0,0,0,0,0,0,0,0,0,0,0,0],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:31.22,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:27.45,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:28.67,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.69,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.58,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.78,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-15.89,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-22.45,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-36.78,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-68.45,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/xagxauvolume.jpg"}}},"landg-gold-mining-ucits-etf":{name:"L&G Gold Mining UCITS ETF",slug:"landg-gold-mining-ucits-etf",description:["Qu ETF L&G Gold Mining UCITS hng n mc tiu theo di ch s Solactive Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht tham gia vo hot ng thm d, khai thc v sn xut vng trn ton th gii.","T l chi ph qun l (TER) ca qu ETF ny l 0,65% mi nm. L&G Gold Mining UCITS ETF l mt trong nhng qu ETF theo di ch s Solactive Gold Miners. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton cc thnh phn ch s. C tc trong qu ETF c tch ly v ti u t.","Qu ETF L&G Gold Mining UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 1.245 triu Euro. Qu c ra mt vo ngy 10 thng 6 nm 2020 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"Solactive Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"1.245 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"29,84%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 10 thng 6 nm 2020"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Legal & General"}],holdings:{summary:{top10Weight:65.45,totalHoldings:58},topHoldings:[{name:"Tp on Newmont",weight:11.25},{name:"Cng ty Khai thc M Barrick",weight:9.87},{name:"Cng ty Khai thc M Agnico Eagle",weight:8.92},{name:"Cng ty Kim loi Qu Wheaton",weight:7.15},{name:"Franco-Nevada",weight:6.33},{name:"Cng ty Gold Fields",weight:5.78},{name:"Anglogold Ashanti",weight:4.89},{name:"Cng ty Kinross Gold",weight:4.67},{name:"Tp on Khai thc M Zijin",weight:3.45},{name:"Cng ty Ti nguyn Sao Bc",weight:3.14}],countries:[{name:"Canada",weight:42.15},{name:"Hoa K",weight:16.78},{name:"c",weight:11.23},{name:"Trung Quc",weight:6.89},{name:"Khc",weight:22.95}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:76.34},{name:"Khc",weight:23.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:118.45},{key:"1m",label:"1 thng",value:8.76},{key:"3m",label:"3 thng",value:21.89},{key:"6m",label:"6 thng",value:51.23},{key:"1y",label:"1 nm",value:109.67},{key:"3y",label:"3 nm",value:176.89},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:125.34},{key:"2024",label:"2024",value:17.89},{key:"2023",label:"2023",value:5.67},{key:"2022",label:"2022",value:-8.45},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.8,-.9,8.7,-1.8,6.2,8.9,1,19.5,22.1,-4.6,15.2,3.5],2024:[-8.9,-9.5,18.8,11.8,11.3,-8.3,7.3,-7,7,13.9,-2.6,-8.6],2023:[5.1,-10.5,12.1,-4.1,-6.1,-5,5.4,-2.6,-7.2,-.1,10.6,2.6],2022:[0,0,0,0,0,0,-6.6,-12.2,3.5,-7.3,-4.3,2],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:29.84,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:26.12,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.67,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.48,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-17.45,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-24.78,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-28.67,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares-loi-nhuan-theo-thang.jpg"}}},"ishares-gold-producers-ucits-etf":{name:"iShares Gold Producers UCITS ETF",slug:"ishares-gold-producers-ucits-etf",description:["Qu ETF iShares Gold Producers UCITS hng n mc tiu theo di ch s S&P Commodity Producers Gold. Ch s S&P Commodity Producers Gold theo di cc cng ty nim yt ln nht tham gia vo hot ng thm d v sn xut vng v cc sn phm lin quan trn ton th gii.","T l chi ph qun l ( TER ) ca qu ETF ny l 0,55% mi nm . Qu iShares Gold Producers UCITS ETF l qu ETF duy nht theo di ch s S&P Commodity Producers Gold. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton (mua tt c cc thnh phn ca ch s). C tc trong qu ETF c tch ly v ti u t vo chnh qu.","Qu ETF iShares Gold Producers UCITS l mt qu ETF rt ln vi tng ti sn qun l ln ti 3.624 triu Euro . Qu c ra mt vo ngy 16 thng 9 nm 2011 v c tr s ti Ireland"],basics:[{key:"Mc lc",value:"Vng ca S&P Commodity Producers"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"3.624 triu EUR"},{key:"T l chi ph tng cng",value:"0,55% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"30,59%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 16 thng 9 nm 2011"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"iShares"}],holdings:{summary:{top10Weight:63.22,totalHoldings:64},topHoldings:[{name:"Cng ty Khai thc M Agnico Eagle",weight:10.15},{name:"Tp on Newmont",weight:10.02},{name:"Cng ty Khai thc M Barrick",weight:8.75},{name:"Cng ty Kim loi Qu Wheaton",weight:6.9},{name:"Franco-Nevada",weight:5.65},{name:"Cng ty Gold Fields",weight:5.38},{name:"Anglogold Ashanti",weight:4.53},{name:"Cng ty Kinross Gold",weight:4.5},{name:"Tp on Khai thc M Zijin",weight:3.88},{name:"Cng ty Ti nguyn Sao Bc",weight:3.46}],countries:[{name:"Canada",weight:41.4},{name:"Hoa K",weight:15.4},{name:"c",weight:10.36},{name:"Trung Quc",weight:5.71},{name:"Khc",weight:27.13}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:74.81},{name:"Khc",weight:25.19}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"ING",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,00",etfSavingsPlans:2969,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:120.07},{key:"1m",label:"1 thng",value:9.92},{key:"3m",label:"3 thng",value:23.22},{key:"6m",label:"6 thng",value:53.94},{key:"1y",label:"1 nm",value:111.82},{key:"3y",label:"3 nm",value:184.14},{key:"5y",label:"5 nm",value:149.92},{key:"max",label:"K t khi thnh lp (MAX)",value:78.89},{key:"2024",label:"2024",value:18.63},{key:"2023",label:"2023",value:6.8},{key:"2022",label:"2022",value:-6.89},{key:"2021",label:"2021",value:-2.02}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{}},scale:{min:-40,max:45,unit:"%"}},risk:{title:"Tng quan v ri ro",overview:[{key:"volatility_1y",label:"Bin ng trong 1 nm",value:30.59,unit:"%"},{key:"volatility_3y",label:"Bin ng trong 3 nm",value:26.87,unit:"%"},{key:"volatility_5y",label:"Bin ng trong 5 nm",value:27.43,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn mi ri ro trong 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn mi ri ro trong 3 nm",value:1.55,unit:""},{key:"return_risk_5y",label:"Li nhun trn mi ri ro trong 5 nm",value:.73,unit:""},{key:"max_drawdown_1y",label:"Mc rt tin ti a 1 nm",value:-16.18,unit:"%"},{key:"max_drawdown_3y",label:"Thi hn rt tin ti a 3 nm",value:-23.69,unit:"%"},{key:"max_drawdown_5y",label:"Thi hn rt tin ti a 5 nm",value:-38.42,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-74.83,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares.jpg"}}},"vaneck-gold-miners-ucits-etf":{name:"VanEck Gold Miners UCITS ETF",slug:"vaneck-gold-miners-ucits-etf",description:["Qu ETF VanEck Gold Miners UCITS hng n mc tiu theo di ch s NYSE Arca Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht tham gia vo hot ng khai thc vng trn ton th gii, bao gm c cc cng ty khai thc vng v cc cng ty lin quan n ngnh vng.","T l chi ph qun l (TER) ca qu ETF ny l 0,53% mi nm. VanEck Gold Miners UCITS ETF l mt trong nhng qu ETF lu i nht theo di ngnh khai thc vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck Gold Miners UCITS l mt qu ETF c quy m ln vi tng ti sn qun l khong 4.567 triu Euro. Qu c ra mt vo ngy 15 thng 12 nm 2006 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"NYSE Arca Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"4.567 triu EUR"},{key:"T l chi ph tng cng",value:"0,53% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"32,45%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 15 thng 12 nm 2006"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:71.23,totalHoldings:52},topHoldings:[{name:"Tp on Newmont",weight:13.78},{name:"Cng ty Khai thc M Barrick",weight:11.45},{name:"Cng ty Khai thc M Agnico Eagle",weight:9.89},{name:"Cng ty Kim loi Qu Wheaton",weight:8.23},{name:"Franco-Nevada",weight:7.12},{name:"Cng ty Gold Fields",weight:6.34},{name:"Anglogold Ashanti",weight:5.67},{name:"Cng ty Kinross Gold",weight:4.98},{name:"Tp on Khai thc M Zijin",weight:2.89},{name:"Cng ty Ti nguyn Sao Bc",weight:.88}],countries:[{name:"Canada",weight:45.67},{name:"Hoa K",weight:20.34},{name:"c",weight:13.45},{name:"Trung Quc",weight:8.12},{name:"Khc",weight:12.42}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:92.34},{name:"Khc",weight:7.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1567,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:125.67},{key:"1m",label:"1 thng",value:11.23},{key:"3m",label:"3 thng",value:26.45},{key:"6m",label:"6 thng",value:58.78},{key:"1y",label:"1 nm",value:118.9},{key:"3y",label:"3 nm",value:195.67},{key:"5y",label:"5 nm",value:167.89},{key:"max",label:"K t khi thnh lp (MAX)",value:89.45},{key:"2024",label:"2024",value:21.34},{key:"2023",label:"2023",value:8.67},{key:"2022",label:"2022",value:-4.23},{key:"2021",label:"2021",value:-.89}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[9.1,-.5,9.8,-1.2,7.3,10.1,1.6,21.5,25.2,-3.8,17.9,4.7],2024:[-8.2,-8.8,20.1,13.1,12.6,-7.6,8.5,-6.3,8.2,15.8,-1.9,-7.9],2023:[6.3,-9.8,13.4,-3.4,-5.4,-4.3,6.1,-1.9,-6.5,.6,11.8,3.8],2022:[2.1,-1.8,4.5,-2.3,1.7,-3.4,2.8,-4.1,1.9,3.2,-1.5,2.4],2021:[1.8,-2.1,3.9,-1.7,2.3,-2.8,1.4,-3.6,2.7,2.8,-.9,1.7]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:32.45,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:28.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:29.89,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.68,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.89,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-14.67,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-21.23,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-34.56,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-78.9,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/gia-cat-loi-phan-tich-bac-ngay-10-06-gia-bac-cham-dinh-ky-luc.jpg"}}},"vaneck-junior-gold-miners-ucits":{name:"VanEck Junior Gold Miners UCITS",slug:"vaneck-junior-gold-miners-ucits",description:["Qu ETF VanEck Junior Gold Miners UCITS hng n mc tiu theo di ch s MVIS Global Junior Gold Miners. Ch s ny theo di cc cng ty khai thc vng quy m nh v va trn ton th gii, tp trung vo nhng cng ty c tim nng tng trng cao nhng cng c ri ro cao hn.","T l chi ph qun l (TER) ca qu ETF ny l 0,56% mi nm. VanEck Junior Gold Miners UCITS l qu ETF chuyn bit theo di cc cng ty khai thc vng quy m nh. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck Junior Gold Miners UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 678 triu Euro. Qu c ra mt vo ngy 22 thng 9 nm 2009 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"MVIS Global Junior Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, Quy m nh"},{key:"Quy m qu",value:"678 triu EUR"},{key:"T l chi ph tng cng",value:"0,56% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"42,34%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 22 thng 9 nm 2009"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:58.67,totalHoldings:78},topHoldings:[{name:"Cng ty B2Gold",weight:8.45},{name:"Cng ty Alamos Gold",weight:7.89},{name:"Cng ty Yamana Gold",weight:6.78},{name:"Cng ty Eldorado Gold",weight:5.67},{name:"Cng ty Centerra Gold",weight:5.23},{name:"Cng ty New Gold",weight:4.89},{name:"Cng ty Torex Gold Resources",weight:4.56},{name:"Cng ty Iamgold",weight:4.23},{name:"Cng ty Endeavour Mining",weight:3.89},{name:"Cng ty Kirkland Lake Gold",weight:7.08}],countries:[{name:"Canada",weight:52.34},{name:"c",weight:18.67},{name:"Hoa K",weight:12.45},{name:"Nam Phi",weight:7.89},{name:"Khc",weight:8.65}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:94.56},{name:"Khc",weight:5.44}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1234,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:145.67},{key:"1m",label:"1 thng",value:15.89},{key:"3m",label:"3 thng",value:35.23},{key:"6m",label:"6 thng",value:78.45},{key:"1y",label:"1 nm",value:142.34},{key:"3y",label:"3 nm",value:234.56},{key:"5y",label:"5 nm",value:198.78},{key:"max",label:"K t khi thnh lp (MAX)",value:45.67},{key:"2024",label:"2024",value:28.9},{key:"2023",label:"2023",value:12.45},{key:"2022",label:"2022",value:-1.23},{key:"2021",label:"2021",value:2.34}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[11.2,.8,12.1,.5,9.4,12.8,3.2,25.6,29.8,-2.1,21.4,6.7],2024:[-6.8,-7.4,22.4,15.4,14.9,-6.2,10.7,-4.9,10.4,18.2,-.5,-6.5],2023:[8.2,-8.4,15.8,-1.9,-3.9,-2.8,7.5,-.5,-5.1,2,13.8,5.4],2022:[3.7,-.4,6.1,-.8,3.3,-1.9,4.4,-2.7,3.5,4.8,.9,3.9],2021:[3.4,-.7,5.5,-.3,3.9,-1.4,2.9,-2.2,4.3,4.4,1.5,3.3]}},scale:{min:-30,max:30,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:42.34,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:38.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:39.89,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.36,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.89,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:1.12,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-11.23,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-17.89,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-29.45,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-86.78,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}},"hanetf-auag-esg-gold-mining-ucits-etf":{name:"HANetf AuAg ESG Gold Mining UCITS ETF",slug:"hanetf-auag-esg-gold-mining-ucits-etf",description:["Qu ETF HANetf AuAg ESG Gold Mining UCITS hng n mc tiu theo di ch s AuAg ESG Gold Mining. Ch s ny theo di cc cng ty khai thc vng p ng cc tiu chun ESG (Mi trng, X hi v Qun tr) nghim ngt, tp trung vo u t bn vng trong ngnh khai thc vng.","T l chi ph qun l (TER) ca qu ETF ny l 0,75% mi nm. HANetf AuAg ESG Gold Mining UCITS ETF l qu ETF u tin tp trung vo u t ESG trong ngnh khai thc vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp ti u ha. C tc trong qu ETF c tch ly v ti u t.","Qu ETF HANetf AuAg ESG Gold Mining UCITS l mt qu ETF c quy m nh vi tng ti sn qun l khong 234 triu Euro. Qu c ra mt vo ngy 12 thng 3 nm 2021 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"AuAg ESG Gold Mining"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, ESG"},{key:"Quy m qu",value:"234 triu EUR"},{key:"T l chi ph tng cng",value:"0,75% mi nm"},{key:"Sao chp",value:"Ti u ha (Sao chp mt phn)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"C (ESG)"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"28,90%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 12 thng 3 nm 2021"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"HANetf"}],holdings:{summary:{top10Weight:69.78,totalHoldings:35},topHoldings:[{name:"Tp on Newmont",weight:14.56},{name:"Cng ty Khai thc M Agnico Eagle",weight:11.23},{name:"Cng ty Khai thc M Barrick",weight:9.78},{name:"Franco-Nevada",weight:8.45},{name:"Cng ty Gold Fields",weight:7.12},{name:"Anglogold Ashanti",weight:6.34},{name:"Cng ty Kinross Gold",weight:5.67},{name:"Cng ty Ti nguyn Sao Bc",weight:3.89},{name:"Cng ty Alamos Gold",weight:2.74},{name:"Cng ty Yamana Gold",weight:0}],countries:[{name:"Canada",weight:46.78},{name:"Hoa K",weight:19.45},{name:"c",weight:15.67},{name:"Nam Phi",weight:9.23},{name:"Khc",weight:8.87}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:87.45},{name:"Khc",weight:12.55}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"HANetf",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"HANetf",rating:4.5,orderFee:"1,20",etfSavingsPlans:567,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:115.23},{key:"1m",label:"1 thng",value:8.45},{key:"3m",label:"3 thng",value:20.67},{key:"6m",label:"6 thng",value:48.9},{key:"1y",label:"1 nm",value:105.78},{key:"3y",label:"3 nm",value:167.45},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:89.67},{key:"2024",label:"2024",value:16.78},{key:"2023",label:"2023",value:4.56},{key:"2022",label:"2022",value:-7.89},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.2,-1.1,8.4,-2.3,5.8,8.6,.7,18.9,21.5,-5.2,14.8,3.1],2024:[-9.5,-10.1,17.9,10.8,10.5,-8.9,6.7,-7.6,6.4,13.2,-3.2,-9.2],2023:[4.8,-11.2,11.6,-4.7,-6.7,-5.6,5.1,-3.2,-7.8,-.6,10.2,2.3],2022:[0,0,0,-7.2,-12.8,3.2,-8.1,-4.9,1.7,8.1,3.4,0],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:28.9,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:25.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.42,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-18.9,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-26.45,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-31.78,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}}},ETF_MAP_ENGLISH={"global-x-silver-miners-ucits-etf":{name:"Global X Silver Miners UCITS ETF",slug:"global-x-silver-miners-ucits-etf",description:["The Global X Silver Miners UCITS ETF USD Accumulating aims to track the performance of the Solactive Global Silver Miners Index. The Solactive Global Silver Miners Index tracks companies worldwide engaged in silver exploration, mining and/or refining.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. Global X Silver Miners UCITS ETF USD Accumulating is the only ETF tracking the Solactive Global Silver Miners Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The Global X Silver Miners UCITS ETF USD Accumulating is a very large ETF with assets under management of 1,008 million Euro. The ETF was launched on May 4, 2022 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Global Silver Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"1,014 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"38.09%"},{key:"Inception / Listing Date",value:"May 4, 2022"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Global X"}],holdings:{summary:{top10Weight:74.88,totalHoldings:32},topHoldings:[{name:"Pan American Silver Corp",weight:12.01},{name:"Coeur Mining Inc",weight:11.13},{name:"Wheaton Precious Metals Corp",weight:10.96},{name:"Industrias Penoles SAB de CV",weight:7.64},{name:"Hecla Mining Co",weight:7.61},{name:"Korea Zinc Co Ltd",weight:6.45},{name:"First Majestic Silver Corp",weight:5.64},{name:"Fresnillo Plc",weight:5.19},{name:"SSR Mining Inc",weight:4.56},{name:"Compania de Minas Buenaventura SAA",weight:3.69}],countries:[{name:"Canada",weight:38.62},{name:"United States",weight:23.37},{name:"Mexico",weight:12.83},{name:"South Korea",weight:6.45},{name:"Other",weight:18.73}],sectors:[{name:"Basic Materials",weight:83.34},{name:"Other",weight:16.66}],asOfDate:"2025-10-30"}},"ishares-gold-producers-ucits-etf":{name:"iShares Gold Producers UCITS ETF",slug:"ishares-gold-producers-ucits-etf",description:["The iShares Gold Producers UCITS ETF aims to track the performance of the S&P Commodity Producers Gold Index. The S&P Commodity Producers Gold Index tracks the largest listed companies engaged in gold exploration and production and related products worldwide.","The Total Expense Ratio (TER) of this ETF is 0.55% per annum. The iShares Gold Producers UCITS ETF is the only ETF tracking the S&P Commodity Producers Gold Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The iShares Gold Producers UCITS ETF is a very large ETF with assets under management of 3,624 million Euro. The fund was launched on September 16, 2011 and is domiciled in Ireland."],basics:[{key:"Index",value:"S&P Commodity Producers Gold"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"3,624 million EUR"},{key:"Total Expense Ratio",value:"0.55% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"30.59%"},{key:"Inception / Listing Date",value:"September 16, 2011"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"iShares"}],holdings:{summary:{top10Weight:63.22,totalHoldings:64},topHoldings:[{name:"Agnico Eagle Mines Limited",weight:10.15},{name:"Newmont Corporation",weight:10.02},{name:"Barrick Gold Corporation",weight:8.75},{name:"Wheaton Precious Metals Corp",weight:6.9},{name:"Franco-Nevada Corporation",weight:5.65},{name:"Gold Fields Limited",weight:5.38},{name:"AngloGold Ashanti Limited",weight:4.53},{name:"Kinross Gold Corporation",weight:4.5},{name:"Zijin Mining Group Co Ltd",weight:3.88},{name:"Northern Star Resources Ltd",weight:3.46}],countries:[{name:"Canada",weight:41.4},{name:"United States",weight:15.4},{name:"Australia",weight:10.36},{name:"China",weight:5.71},{name:"Other",weight:27.13}],sectors:[{name:"Basic Materials",weight:74.81},{name:"Other",weight:25.19}],asOfDate:"2025-10-30"}},"landg-gold-mining-ucits-etf":{name:"L&G Gold Mining UCITS ETF",slug:"landg-gold-mining-ucits-etf",description:["The L&G Gold Mining UCITS ETF aims to track the performance of the Solactive Gold Miners Index. This index tracks the largest listed companies engaged in gold exploration, mining and production worldwide.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. L&G Gold Mining UCITS ETF is one of the ETFs tracking the Solactive Gold Miners Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The L&G Gold Mining UCITS ETF is a medium-sized ETF with assets under management of approximately 1,245 million Euro. The fund was launched on June 10, 2020 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"1,245 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"29.84%"},{key:"Inception / Listing Date",value:"June 10, 2020"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Legal & General"}],holdings:{summary:{top10Weight:65.45,totalHoldings:58},topHoldings:[{name:"Newmont Corporation",weight:11.25},{name:"Barrick Gold Corporation",weight:9.87},{name:"Agnico Eagle Mines Limited",weight:8.92},{name:"Wheaton Precious Metals Corp",weight:7.15},{name:"Franco-Nevada Corporation",weight:6.33},{name:"Gold Fields Limited",weight:5.78},{name:"AngloGold Ashanti Limited",weight:4.89},{name:"Kinross Gold Corporation",weight:4.67},{name:"Zijin Mining Group Co Ltd",weight:3.45},{name:"Northern Star Resources Ltd",weight:3.14}],countries:[{name:"Canada",weight:42.15},{name:"United States",weight:16.78},{name:"Australia",weight:11.23},{name:"China",weight:6.89},{name:"Other",weight:22.95}],sectors:[{name:"Basic Materials",weight:76.34},{name:"Other",weight:23.66}],asOfDate:"2025-10-30"}},"ubs-solactive-global-pure-gold-miners-ucits-etf-usd":{name:"UBS Solactive Global Pure Gold Miners UCITS ETF USD",slug:"ubs-solactive-global-pure-gold-miners-ucits-etf-usd",description:["The UBS Solactive Global Pure Gold Miners UCITS ETF USD aims to track the performance of the Solactive Global Pure Gold Miners Index. This index tracks the largest listed companies specializing in pure gold mining operations worldwide.","The Total Expense Ratio (TER) of this ETF is 0.28% per annum. UBS Solactive Global Pure Gold Miners UCITS ETF USD is one of the lowest-cost ETFs tracking gold indices. This ETF replicates the performance of the underlying index through optimized sampling. Dividends in the ETF are distributed quarterly.","The UBS Solactive Global Pure Gold Miners UCITS ETF USD is a large ETF with assets under management of approximately 2,156 million Euro. The fund was launched on January 18, 2018 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Global Pure Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"2,156 million EUR"},{key:"Total Expense Ratio",value:"0.28% per annum"},{key:"Replication",value:"Optimized (Partial Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"31.22%"},{key:"Inception / Listing Date",value:"January 18, 2018"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"UBS"}],holdings:{summary:{top10Weight:68.92,totalHoldings:45},topHoldings:[{name:"Newmont Corporation",weight:12.45},{name:"Barrick Gold Corporation",weight:10.78},{name:"Agnico Eagle Mines Limited",weight:9.34},{name:"Wheaton Precious Metals Corp",weight:7.89},{name:"Franco-Nevada Corporation",weight:6.78},{name:"Gold Fields Limited",weight:5.92},{name:"AngloGold Ashanti Limited",weight:5.23},{name:"Kinross Gold Corporation",weight:4.89},{name:"Zijin Mining Group Co Ltd",weight:3.12},{name:"Northern Star Resources Ltd",weight:2.52}],countries:[{name:"Canada",weight:43.78},{name:"United States",weight:18.45},{name:"Australia",weight:12.67},{name:"China",weight:7.23},{name:"Other",weight:17.87}],sectors:[{name:"Basic Materials",weight:89.45},{name:"Other",weight:10.55}],asOfDate:"2025-10-30"}},"vaneck-gold-miners-ucits-etf":{name:"VanEck Gold Miners UCITS ETF",slug:"vaneck-gold-miners-ucits-etf",description:["The VanEck Gold Miners UCITS ETF aims to track the performance of the NYSE Arca Gold Miners Index. This index tracks the largest listed companies engaged in gold mining operations worldwide, including gold mining companies and gold-related companies.","The Total Expense Ratio (TER) of this ETF is 0.53% per annum. VanEck Gold Miners UCITS ETF is one of the oldest ETFs tracking the gold mining sector. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck Gold Miners UCITS ETF is a large ETF with assets under management of approximately 4,567 million Euro. The fund was launched on December 15, 2006 and is domiciled in Ireland."],basics:[{key:"Index",value:"NYSE Arca Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"4,567 million EUR"},{key:"Total Expense Ratio",value:"0.53% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"32.45%"},{key:"Inception / Listing Date",value:"December 15, 2006"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:71.23,totalHoldings:52},topHoldings:[{name:"Newmont Corporation",weight:13.78},{name:"Barrick Gold Corporation",weight:11.45},{name:"Agnico Eagle Mines Limited",weight:9.89},{name:"Wheaton Precious Metals Corp",weight:8.23},{name:"Franco-Nevada Corporation",weight:7.12},{name:"Gold Fields Limited",weight:6.34},{name:"AngloGold Ashanti Limited",weight:5.67},{name:"Kinross Gold Corporation",weight:4.98},{name:"Zijin Mining Group Co Ltd",weight:2.89},{name:"Northern Star Resources Ltd",weight:.88}],countries:[{name:"Canada",weight:45.67},{name:"United States",weight:20.34},{name:"Australia",weight:13.45},{name:"China",weight:8.12},{name:"Other",weight:12.42}],sectors:[{name:"Basic Materials",weight:92.34},{name:"Other",weight:7.66}],asOfDate:"2025-10-30"}},"market-access-nyse-arca-gold-bugs-ucits-etf":{name:"Market Access NYSE Arca Gold Bugs UCITS ETF",slug:"market-access-nyse-arca-gold-bugs-ucits-etf",description:["The Market Access NYSE Arca Gold Bugs UCITS ETF aims to track the performance of the NYSE Arca Gold BUGS Index. This index tracks gold mining companies that do not hedge their gold price exposure beyond 1.5 years, focusing on companies with the highest potential for growth when gold prices rise.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. Market Access NYSE Arca Gold Bugs UCITS ETF is a specialized ETF tracking 'unhedged' gold mining companies. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The Market Access NYSE Arca Gold Bugs UCITS ETF is a medium-sized ETF with assets under management of approximately 892 million Euro. The fund was launched on April 28, 2008 and is domiciled in Ireland."],basics:[{key:"Index",value:"NYSE Arca Gold BUGS"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"892 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"35.67%"},{key:"Inception / Listing Date",value:"April 28, 2008"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Market Access"}],holdings:{summary:{top10Weight:73.45,totalHoldings:28},topHoldings:[{name:"Newmont Corporation",weight:15.23},{name:"Barrick Gold Corporation",weight:12.67},{name:"Agnico Eagle Mines Limited",weight:10.45},{name:"Franco-Nevada Corporation",weight:8.89},{name:"Gold Fields Limited",weight:7.23},{name:"AngloGold Ashanti Limited",weight:6.78},{name:"Kinross Gold Corporation",weight:5.34},{name:"Northern Star Resources Ltd",weight:3.67},{name:"Alamos Gold Inc",weight:2.89},{name:"B2Gold Corp",weight:.3}],countries:[{name:"Canada",weight:48.9},{name:"United States",weight:22.67},{name:"Australia",weight:14.78},{name:"South Africa",weight:8.45},{name:"Other",weight:5.2}],sectors:[{name:"Basic Materials",weight:95.67},{name:"Other",weight:4.33}],asOfDate:"2025-10-30"}},"hanetf-auag-esg-gold-mining-ucits-etf":{name:"HANetf AuAg ESG Gold Mining UCITS ETF",slug:"hanetf-auag-esg-gold-mining-ucits-etf",description:["The HANetf AuAg ESG Gold Mining UCITS ETF aims to track the performance of the AuAg ESG Gold Mining Index. This index tracks gold mining companies that meet strict ESG (Environmental, Social and Governance) standards, focusing on sustainable investment in the gold mining sector.","The Total Expense Ratio (TER) of this ETF is 0.75% per annum. HANetf AuAg ESG Gold Mining UCITS ETF is the first ETF focusing on ESG investment in the gold mining sector. This ETF replicates the performance of the underlying index through optimized sampling. Dividends in the ETF are accumulated and reinvested.","The HANetf AuAg ESG Gold Mining UCITS ETF is a small ETF with assets under management of approximately 234 million Euro. The fund was launched on March 12, 2021 and is domiciled in Ireland."],basics:[{key:"Index",value:"AuAg ESG Gold Mining"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, ESG"},{key:"Fund Size",value:"234 million EUR"},{key:"Total Expense Ratio",value:"0.75% per annum"},{key:"Replication",value:"Optimized (Partial Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"Yes (ESG)"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"28.90%"},{key:"Inception / Listing Date",value:"March 12, 2021"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"HANetf"}],holdings:{summary:{top10Weight:69.78,totalHoldings:35},topHoldings:[{name:"Newmont Corporation",weight:14.56},{name:"Agnico Eagle Mines Limited",weight:11.23},{name:"Barrick Gold Corporation",weight:9.78},{name:"Franco-Nevada Corporation",weight:8.45},{name:"Gold Fields Limited",weight:7.12},{name:"AngloGold Ashanti Limited",weight:6.34},{name:"Kinross Gold Corporation",weight:5.67},{name:"Northern Star Resources Ltd",weight:3.89},{name:"Alamos Gold Inc",weight:2.74},{name:"Yamana Gold Inc",weight:0}],countries:[{name:"Canada",weight:46.78},{name:"United States",weight:19.45},{name:"Australia",weight:15.67},{name:"South Africa",weight:9.23},{name:"Other",weight:8.87}],sectors:[{name:"Basic Materials",weight:87.45},{name:"Other",weight:12.55}],asOfDate:"2025-10-30"}},"vaneck-junior-gold-miners-ucits":{name:"VanEck Junior Gold Miners UCITS",slug:"vaneck-junior-gold-miners-ucits",description:["The VanEck Junior Gold Miners UCITS ETF aims to track the performance of the MVIS Global Junior Gold Miners Index. This index tracks small and medium-sized gold mining companies worldwide, focusing on companies with high growth potential but also higher risk.","The Total Expense Ratio (TER) of this ETF is 0.56% per annum. VanEck Junior Gold Miners UCITS is a specialized ETF tracking small-cap gold mining companies. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck Junior Gold Miners UCITS ETF is a medium-sized ETF with assets under management of approximately 678 million Euro. The fund was launched on September 22, 2009 and is domiciled in Ireland."],basics:[{key:"Index",value:"MVIS Global Junior Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, Small Cap"},{key:"Fund Size",value:"678 million EUR"},{key:"Total Expense Ratio",value:"0.56% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"42.34%"},{key:"Inception / Listing Date",value:"September 22, 2009"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:58.67,totalHoldings:78},topHoldings:[{name:"B2Gold Corp",weight:8.45},{name:"Alamos Gold Inc",weight:7.89},{name:"Yamana Gold Inc",weight:6.78},{name:"Eldorado Gold Corporation",weight:5.67},{name:"Centerra Gold Inc",weight:5.23},{name:"New Gold Inc",weight:4.89},{name:"Torex Gold Resources Inc",weight:4.56},{name:"Iamgold Corporation",weight:4.23},{name:"Endeavour Mining Corporation",weight:3.89},{name:"Kirkland Lake Gold Ltd",weight:7.08}],countries:[{name:"Canada",weight:52.34},{name:"Australia",weight:18.67},{name:"United States",weight:12.45},{name:"South Africa",weight:7.89},{name:"Other",weight:8.65}],sectors:[{name:"Basic Materials",weight:94.56},{name:"Other",weight:5.44}],asOfDate:"2025-10-30"}},"vaneck-sandp-global-mining-ucits-etf-a":{name:"VanEck S&P Global Mining UCITS ETF A",slug:"vaneck-sandp-global-mining-ucits-etf-a",description:["The VanEck S&P Global Mining UCITS ETF A aims to track the performance of the S&P Global Mining Index. This index tracks the largest mining and metals companies worldwide, including gold, silver, copper, iron and other precious metals.","The Total Expense Ratio (TER) of this ETF is 0.50% per annum. VanEck S&P Global Mining UCITS ETF A is a diversified ETF in the global mining sector. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck S&P Global Mining UCITS ETF A is a large ETF with assets under management of approximately 3,456 million Euro. The fund was launched on November 8, 2007 and is domiciled in Ireland."],basics:[{key:"Index",value:"S&P Global Mining"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, Diversified"},{key:"Fund Size",value:"3,456 million EUR"},{key:"Total Expense Ratio",value:"0.50% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"26.78%"},{key:"Inception / Listing Date",value:"November 8, 2007"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:54.23,totalHoldings:89},topHoldings:[{name:"BHP Group Limited",weight:8.9},{name:"Rio Tinto Plc",weight:7.45},{name:"Vale SA",weight:6.78},{name:"Newmont Corporation",weight:5.67},{name:"Barrick Gold Corporation",weight:4.89},{name:"Glencore Plc",weight:4.56},{name:"Agnico Eagle Mines Limited",weight:4.23},{name:"Freeport-McMoRan Inc",weight:3.89},{name:"Anglo American Plc",weight:3.67},{name:"Teck Resources Limited",weight:4.19}],countries:[{name:"Australia",weight:28.45},{name:"Canada",weight:24.67},{name:"United States",weight:18.9},{name:"Brazil",weight:12.34},{name:"Other",weight:15.64}],sectors:[{name:"Basic Materials",weight:78.9},{name:"Energy",weight:12.34},{name:"Other",weight:8.76}],asOfDate:"2025-10-30"}}},commonETFSections={offers:{description:"Here you can find information about available savings plans for the ETF. You can use the table to compare all available savings plans with the selected savings rate.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"flatex",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:"Conditions apply"}]},orderFees:{description:"Here you can find information about different brokers that allow you to trade the ETF. Select your desired trading volume to compare the trading fees of each broker.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0.99",etfSavingsPlans:2968,actionLabel:"View Offer",note:"Conditions apply"},{name:"Trade Republic",rating:5,orderFee:"1.00",etfSavingsPlans:2640,actionLabel:"View Offer",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0.00",etfSavingsPlans:1881,actionLabel:"View Offer",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0.00",etfSavingsPlans:1617,actionLabel:"View Offer",note:"Conditions apply"},{name:"Traders Place",rating:5,orderFee:"0.00",etfSavingsPlans:1523,actionLabel:"View Offer",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"Year to date",value:118.45},{key:"1m",label:"1 month",value:8.76},{key:"3m",label:"3 months",value:21.89},{key:"6m",label:"6 months",value:51.23},{key:"1y",label:"1 year",value:109.67},{key:"3y",label:"3 years",value:176.89},{key:"5y",label:"5 years",value:null},{key:"max",label:"Since inception (MAX)",value:125.34},{key:"2024",label:"2024",value:17.89},{key:"2023",label:"2023",value:5.67},{key:"2022",label:"2022",value:-8.45},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.8,-.9,8.7,-1.8,6.2,8.9,1,19.5,22.1,-4.6,15.2,3.5],2024:[-8.9,-9.5,18.8,11.8,11.3,-8.3,7.3,-7,7,13.9,-2.6,-8.6],2023:[5.1,-10.5,12.1,-4.1,-6.1,-5,5.4,-2.6,-7.2,-.1,10.6,2.6],2022:[0,0,0,0,0,0,-6.6,-12.2,3.5,-7.3,-4.3,2],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Risk Overview",overview:[{key:"volatility_1y",label:"1 Year Volatility",value:29.84,unit:"%"},{key:"volatility_3y",label:"3 Year Volatility",value:26.12,unit:"%"},{key:"volatility_5y",label:"5 Year Volatility",value:null,unit:"%"},{key:"return_risk_1y",label:"Return to Risk 1 Year",value:3.67,unit:""},{key:"return_risk_3y",label:"Return to Risk 3 Years",value:1.48,unit:""},{key:"return_risk_5y",label:"Return to Risk 5 Years",value:null,unit:""},{key:"max_drawdown_1y",label:"Maximum Drawdown 1 Year",value:-17.45,unit:"%"},{key:"max_drawdown_3y",label:"Maximum Drawdown 3 Years",value:-24.78,unit:"%"},{key:"max_drawdown_5y",label:"Maximum Drawdown 5 Years",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Maximum Drawdown Since Inception",value:-28.67,unit:"%"}],rollingVolatility:{title:"Rolling 1 Year Volatility",period:"1 year",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares-loi-nhuan-theo-thang.jpg"}}};Object.keys(ETF_MAP_ENGLISH).forEach(tr=>{ETF_MAP_ENGLISH[tr].offers||(ETF_MAP_ENGLISH[tr].offers=commonETFSections.offers),ETF_MAP_ENGLISH[tr].orderFees||(ETF_MAP_ENGLISH[tr].orderFees=commonETFSections.orderFees),ETF_MAP_ENGLISH[tr].performance||(ETF_MAP_ENGLISH[tr].performance=commonETFSections.performance),ETF_MAP_ENGLISH[tr].risk||(ETF_MAP_ENGLISH[tr].risk=commonETFSections.risk)});const cache=new Map,MAX_CACHE_SIZE=200,translateText=async(tr,Hn="en",er="vi")=>{if(!tr||typeof tr!="string")return tr;const nr=tr.slice(0,4500),ir=`${Hn}_${er}_${nr}`;if(cache.has(ir))return cache.get(ir);const rr=[()=>translateWithGoogleAPI1(nr,Hn,er),()=>translateWithGoogleAPI2(nr,Hn,er),()=>translateWithMyMemory(nr,Hn,er),()=>quickTranslateCommon(nr)];for(const sr of rr)try{const ar=await sr();if(ar&&ar!==nr){if(cache.size>=MAX_CACHE_SIZE){const or=cache.keys().next().value;cache.delete(or)}return cache.set(ir,ar),ar}}catch(ar){console.warn("Translation method failed:",ar.message);continue}return nr};async function translateWithGoogleAPI1(tr,Hn,er){const nr=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${Hn}&tl=${er}&dt=t&q=${encodeURIComponent(tr)}`);if(!nr.ok)throw new Error("Google API 1 failed");return(await nr.json())[0]?.map(rr=>rr[0]).join("")||tr}async function translateWithGoogleAPI2(tr,Hn,er){const nr=await fetch(`https://clients5.google.com/translate_a/t?client=dict-chrome-ex&sl=${Hn}&tl=${er}&q=${encodeURIComponent(tr)}`);if(!nr.ok)throw new Error("Google API 2 failed");return(await nr.json())[0]||tr}async function translateWithMyMemory(tr,Hn,er){const nr=await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(tr)}&langpair=${Hn}|${er}`);if(!nr.ok)throw new Error("MyMemory API failed");return(await nr.json()).responseData?.translatedText||tr}function quickTranslateCommon(tr){const Hn={Corporation:"Tp on",Corp:"Cng ty",Inc:"Cng ty",Limited:"Cng ty",Ltd:"Cng ty",Plc:"Cng ty",Group:"Tp on",Mining:"Khai thc M",Gold:"Vng",Silver:"Bc",Resources:"Ti nguyn","Precious Metals":"Kim loi Qu",Mines:"M",Eagle:"i bng","United States":"Hoa K",Canada:"Canada",Australia:"c",China:"Trung Quc","South Africa":"Nam Phi",Mexico:"Mexico",Brazil:"Brazil","South Korea":"Hn Quc",Other:"Khc","Basic Materials":"Ngnh Khai thc & Kim loi",Materials:"Vt liu",Energy:"Nng lng",Index:"Ch s","Investment Focus":"Trng tm u t","Fund Size":"Quy m qu","Total Expense Ratio":"T l chi ph tng cng",Replication:"Sao chp","Legal Structure":"Cu trc php l","Strategy Risk":"Ri ro chin lc",Sustainability:"Tnh bn vng","Fund Currency":"Tin t ca qu","Currency Risk":"Ri ro tin t",Volatility:"Bin ng",Inception:"Thnh lp","Listing Date":"Ngy nim yt","Distribution Policy":"Chnh sch phn phi","Distribution Frequency":"Tn sut phn b","Fund Domicile":"Ni t tr s qu","Fund Provider":"Nh cung cp qu","Year to date":"T u nm n nay","Since inception":"K t khi thnh lp","Risk Overview":"Tng quan ri ro",Rolling:"Lin tip","Maximum Drawdown":"Mc st gim ti a","Return to Risk":"Li nhun trn ri ro","View Offer":"Xem u i","Conditions apply":"C iu kin p dng","per annum":"mi nm",Physical:"Vt l","Full Replication":"Sao chp hon ton","Partial Replication":"Sao chp mt phn",Optimized:"Ti u ha",Accumulating:"Tch ly",Distributing:"Phn phi",Quarterly:"Hng qu","Long Only":"Ch di hn","Currency not hedged":"Tin t khng c phng nga ri ro",Ireland:"Ireland",No:"KHNG",Yes:"C"};let er=tr;for(const[nr,ir]of Object.entries(Hn)){const rr=new RegExp(`\\b${nr}\\b`,"gi");er=er.replace(rr,ir)}return er!==tr?er:null}const etfTranslationCache=new Map,translateETFData=async tr=>{if(!tr)return tr;const Hn=`etf_${tr.slug}`;if(etfTranslationCache.has(Hn))return etfTranslationCache.get(Hn);try{const er={...tr};if(console.log("ang dch ETF:",tr.name),tr.description&&Array.isArray(tr.description)){console.log("ang dch description..."),er.description=[];for(let nr=0;nr<tr.description.length;nr++)try{const ir=await translateText(tr.description[nr],"en","vi");er.description.push(ir),await new Promise(rr=>setTimeout(rr,100))}catch(ir){console.warn(`Li dch description ${nr}:`,ir),er.description.push(tr.description[nr])}}if(tr.basics&&Array.isArray(tr.basics)){console.log("ang dch basics..."),er.basics=[];for(let nr=0;nr<tr.basics.length;nr++)try{const ir=tr.basics[nr],rr=await translateText(ir.key,"en","vi");await new Promise(ar=>setTimeout(ar,50));const sr=await translateText(ir.value,"en","vi");await new Promise(ar=>setTimeout(ar,50)),er.basics.push({key:rr,value:sr})}catch(ir){console.warn(`Li dch basic ${nr}:`,ir),er.basics.push(tr.basics[nr])}}if(tr.holdings){if(console.log("ang dch holdings..."),er.holdings={...tr.holdings},tr.holdings.topHoldings){er.holdings.topHoldings=[];for(let nr=0;nr<tr.holdings.topHoldings.length;nr++)try{const ir=tr.holdings.topHoldings[nr],rr=await translateText(ir.name,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.holdings.topHoldings.push({...ir,name:rr})}catch(ir){console.warn(`Li dch holding ${nr}:`,ir),er.holdings.topHoldings.push(tr.holdings.topHoldings[nr])}}if(tr.holdings.countries){er.holdings.countries=[];for(let nr=0;nr<tr.holdings.countries.length;nr++)try{const ir=tr.holdings.countries[nr],rr=await translateText(ir.name,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.holdings.countries.push({...ir,name:rr})}catch(ir){console.warn(`Li dch country ${nr}:`,ir),er.holdings.countries.push(tr.holdings.countries[nr])}}if(tr.holdings.sectors){er.holdings.sectors=[];for(let nr=0;nr<tr.holdings.sectors.length;nr++)try{const ir=tr.holdings.sectors[nr],rr=await translateText(ir.name,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.holdings.sectors.push({...ir,name:rr})}catch(ir){console.warn(`Li dch sector ${nr}:`,ir),er.holdings.sectors.push(tr.holdings.sectors[nr])}}}if(tr.performance&&tr.performance.summary){console.log("ang dch performance..."),er.performance={...tr.performance},er.performance.summary=[];for(let nr=0;nr<tr.performance.summary.length;nr++)try{const ir=tr.performance.summary[nr],rr=await translateText(ir.label,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.performance.summary.push({...ir,label:rr})}catch(ir){console.warn(`Li dch performance ${nr}:`,ir),er.performance.summary.push(tr.performance.summary[nr])}}if(tr.risk){console.log("ang dch risk..."),er.risk={...tr.risk};try{er.risk.title=await translateText(tr.risk.title,"en","vi"),await new Promise(nr=>setTimeout(nr,50))}catch(nr){console.warn("Li dch risk title:",nr)}if(tr.risk.overview){er.risk.overview=[];for(let nr=0;nr<tr.risk.overview.length;nr++)try{const ir=tr.risk.overview[nr],rr=await translateText(ir.label,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.risk.overview.push({...ir,label:rr})}catch(ir){console.warn(`Li dch risk overview ${nr}:`,ir),er.risk.overview.push(tr.risk.overview[nr])}}if(tr.risk.rollingVolatility)try{er.risk.rollingVolatility={...tr.risk.rollingVolatility,title:await translateText(tr.risk.rollingVolatility.title,"en","vi")}}catch(nr){console.warn("Li dch rolling volatility:",nr),er.risk.rollingVolatility=tr.risk.rollingVolatility}}return console.log("Hon thnh dch ETF:",tr.name),etfTranslationCache.set(Hn,er),er}catch(er){return console.error("Error translating ETF data:",er),quickTranslateETFData(tr)}};function quickTranslateETFData(tr){console.log("S dng quick translate cho:",tr.name);const Hn={...tr};return tr.basics&&(Hn.basics=tr.basics.map(er=>({key:quickTranslateETF(er.key),value:quickTranslateETF(er.value)}))),tr.holdings&&(Hn.holdings={...tr.holdings},tr.holdings.topHoldings&&(Hn.holdings.topHoldings=tr.holdings.topHoldings.map(er=>({...er,name:quickTranslateETF(er.name)}))),tr.holdings.countries&&(Hn.holdings.countries=tr.holdings.countries.map(er=>({...er,name:quickTranslateETF(er.name)}))),tr.holdings.sectors&&(Hn.holdings.sectors=tr.holdings.sectors.map(er=>({...er,name:quickTranslateETF(er.name)})))),Hn}const quickTranslateETF=tr=>{const Hn={Corporation:"Tp on",Corp:"Cng ty",Inc:"Cng ty",Limited:"Cng ty",Ltd:"Cng ty",Plc:"Cng ty",Group:"Tp on",Mining:"Khai thc M",Gold:"Vng",Silver:"Bc",Resources:"Ti nguyn","Precious Metals":"Kim loi Qu",Mines:"M",Eagle:"i bng","United States":"Hoa K",Canada:"Canada",Australia:"c",China:"Trung Quc","South Africa":"Nam Phi",Mexico:"Mexico",Brazil:"Brazil","South Korea":"Hn Quc",Other:"Khc","Basic Materials":"Ngnh Khai thc & Kim loi",Materials:"Vt liu",Energy:"Nng lng",Index:"Ch s","Investment Focus":"Trng tm u t","Fund Size":"Quy m qu","Total Expense Ratio":"T l chi ph tng cng",Replication:"Sao chp","Legal Structure":"Cu trc php l","Strategy Risk":"Ri ro chin lc",Sustainability:"Tnh bn vng","Fund Currency":"Tin t ca qu","Currency Risk":"Ri ro tin t",Volatility:"Bin ng",Inception:"Thnh lp","Listing Date":"Ngy nim yt","Distribution Policy":"Chnh sch phn phi","Distribution Frequency":"Tn sut phn b","Fund Domicile":"Ni t tr s qu","Fund Provider":"Nh cung cp qu","Year to date":"T u nm n nay","Since inception":"K t khi thnh lp","Risk Overview":"Tng quan ri ro",Rolling:"Lin tip","Maximum Drawdown":"Mc st gim ti a","Return to Risk":"Li nhun trn ri ro","View Offer":"Xem u i","Conditions apply":"C iu kin p dng","per annum":"mi nm",Physical:"Vt l","Full Replication":"Sao chp hon ton","Partial Replication":"Sao chp mt phn",Optimized:"Ti u ha",Accumulating:"Tch ly",Distributing:"Phn phi",Quarterly:"Hng qu","Long Only":"Ch di hn","Currency not hedged":"Tin t khng c phng nga ri ro",Ireland:"Ireland",No:"KHNG",Yes:"C"};let er=tr;for(const[nr,ir]of Object.entries(Hn)){const rr=new RegExp(`\\b${nr}\\b`,"gi");er=er.replace(rr,ir)}return er},ProgressBar=({value:tr})=>jsxRuntimeExports.jsx("div",{className:"progress-bar",children:jsxRuntimeExports.jsx("div",{className:"progress-fill",style:{width:`${tr}%`}})});function EtfSharkDetail(){const{etfSlug:tr}=useParams(),[Hn,er]=reactExports.useState(null),[nr,ir]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{let sr=ETF_MAP[tr],ar=!1;if(sr||(sr=ETF_MAP_ENGLISH[tr],ar=!0),!sr){ir(!1);return}try{if(ar){const or=await translateETFData(sr);er(or)}else er(sr)}catch(or){console.error("Error translating ETF data:",or);const lr={...sr,name:quickTranslateETF(sr.name)};er(lr)}finally{ir(!1)}})()},[tr]),nr?jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"#fff"},children:jsxRuntimeExports.jsx("div",{children:"ang dch thng tin ETF..."})}):Hn?jsxRuntimeExports.jsxs("div",{className:"etf-detail",children:[jsxRuntimeExports.jsx("h1",{className:"section-title",children:Hn?.name}),jsxRuntimeExports.jsx("p",{}),jsxRuntimeExports.jsxs("div",{className:"description",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"M t"}),Hn?.description?.map((rr,sr)=>jsxRuntimeExports.jsx("p",{children:rr},sr))]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"Nhng iu c bn"}),jsxRuntimeExports.jsx("table",{className:"basics-table",children:jsxRuntimeExports.jsx("tbody",{children:Hn.basics?.map((rr,sr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"label",children:rr.key}),jsxRuntimeExports.jsx("td",{className:"value",children:rr.value})]},sr))})})]}),jsxRuntimeExports.jsx(HoldingsSection,{holdings:Hn.holdings}),jsxRuntimeExports.jsx(OffersSection,{offers:Hn.offers}),jsxRuntimeExports.jsx(OrderFeesSection,{orderFees:Hn.orderFees}),jsxRuntimeExports.jsx(PerformanceSection,{performance:Hn.performance}),jsxRuntimeExports.jsx(RiskSection,{risk:Hn.risk})]}):jsxRuntimeExports.jsx("div",{children:"ETF khng tm thy"})}function HoldingsSection({holdings:tr}){return jsxRuntimeExports.jsxs("div",{className:"holdings-section",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"Cng ty nm gi"}),jsxRuntimeExports.jsx("p",{className:"section-subtitle",children:"Di y l thng tin v thnh phn ca qu Global X Silver Miners UCITS ETF USD Accumulating."}),jsxRuntimeExports.jsxs("div",{className:"holdings-grid",children:[jsxRuntimeExports.jsxs("div",{className:"holdings-left",children:[jsxRuntimeExports.jsx("h3",{children:"Top 10 Holdings"}),jsxRuntimeExports.jsxs("div",{className:"summary-box",children:[jsxRuntimeExports.jsxs("span",{children:["T trng ca 10 khon u t hng u trn ",tr.summary.totalHoldings]}),jsxRuntimeExports.jsxs("span",{className:"summary-value",children:[tr.summary.top10Weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:tr.summary.top10Weight})]}),tr.topHoldings.map(Hn=>jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("span",{className:"row-name",children:Hn.name}),jsxRuntimeExports.jsxs("span",{className:"row-value",children:[Hn.weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:Hn.weight})]},Hn.name))]}),jsxRuntimeExports.jsxs("div",{className:"holdings-right",children:[jsxRuntimeExports.jsxs("div",{className:"block",children:[jsxRuntimeExports.jsx("h3",{children:"Cc quc gia"}),tr.countries.map(Hn=>jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("span",{className:"row-name",children:Hn.name}),jsxRuntimeExports.jsxs("span",{className:"row-value",children:[Hn.weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:Hn.weight})]},Hn.name))]}),jsxRuntimeExports.jsxs("div",{className:"block",children:[jsxRuntimeExports.jsx("h3",{children:"Cc lnh vc"}),tr.sectors.map(Hn=>jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("span",{className:"row-name",children:Hn.name}),jsxRuntimeExports.jsxs("span",{className:"row-value",children:[Hn.weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:Hn.weight})]},Hn.name))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"asof",children:["Tnh n ngy ",new Date(tr.asOfDate).toLocaleDateString("vi-VN")]})]})}const RatingStars=({value:tr})=>{const Hn=Math.floor(tr),er=tr%1!==0;return jsxRuntimeExports.jsxs("div",{className:"stars",children:[[...Array(Hn)].map((nr,ir)=>jsxRuntimeExports.jsx("span",{children:""},ir)),er&&jsxRuntimeExports.jsx("span",{children:""})]})};function OffersSection({offers:tr}){return jsxRuntimeExports.jsxs("div",{className:"offers-section",children:[jsxRuntimeExports.jsx("h2",{className:"offers-title",children:"Chng trnh tit kim ETF cung cp"}),jsxRuntimeExports.jsx("p",{className:"offers-desc",children:tr.description}),jsxRuntimeExports.jsxs("div",{className:"offers-filter",children:[jsxRuntimeExports.jsx("span",{children:"Chn s tin bn mun tit kim:"}),jsxRuntimeExports.jsx("select",{defaultValue:tr.defaultMonthlyAmount,children:jsxRuntimeExports.jsxs("option",{value:tr.defaultMonthlyAmount,children:[tr.defaultMonthlyAmount," ",tr.currency]})})]}),jsxRuntimeExports.jsxs("table",{className:"offers-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Mi gii"}),jsxRuntimeExports.jsx("th",{children:"Xp hng"}),jsxRuntimeExports.jsx("th",{children:"Ph thc hin"}),jsxRuntimeExports.jsx("th",{children:"Ph ti khon"}),jsxRuntimeExports.jsx("th",{})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.providers.map(Hn=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"provider",children:Hn.name}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(RatingStars,{value:Hn.rating})}),jsxRuntimeExports.jsx("td",{children:Hn.executionFee}),jsxRuntimeExports.jsxs("td",{children:[Hn.accountFee,Hn.note&&jsxRuntimeExports.jsx("span",{className:"note",children:" "})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"offer-btn",children:Hn.actionLabel})})]},Hn.name))})]})]})}function OrderFeesSection({orderFees:tr}){return jsxRuntimeExports.jsxs("div",{className:"offers-section",children:[jsxRuntimeExports.jsx("h2",{className:"offers-title",children:"Ph giao dch ETF theo nh mi gii"}),jsxRuntimeExports.jsx("p",{className:"offers-desc",children:tr.description}),jsxRuntimeExports.jsxs("div",{className:"offers-filter",children:[jsxRuntimeExports.jsx("span",{children:"Chn khi lng giao dch:"}),jsxRuntimeExports.jsx("select",{defaultValue:tr.defaultOrderVolume,children:jsxRuntimeExports.jsxs("option",{value:tr.defaultOrderVolume,children:[tr.defaultOrderVolume," ",tr.currency]})})]}),jsxRuntimeExports.jsxs("table",{className:"offers-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Mi gii"}),jsxRuntimeExports.jsx("th",{children:"Xp hng"}),jsxRuntimeExports.jsx("th",{children:"Ph giao dch"}),jsxRuntimeExports.jsx("th",{children:"S ETF tit kim"}),jsxRuntimeExports.jsx("th",{})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.providers.map(Hn=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"provider",children:Hn.name}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(RatingStars,{value:Hn.rating})}),jsxRuntimeExports.jsx("td",{children:Hn.orderFee}),jsxRuntimeExports.jsxs("td",{children:[Hn.etfSavingsPlans.toLocaleString("vi-VN"),Hn.note&&jsxRuntimeExports.jsx("span",{className:"note",children:" "})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"offer-btn",children:Hn.actionLabel})})]},Hn.name))})]})]})}function PerformanceSection({performance:tr}){const{summary:Hn,heatmap:er,currency:nr}=tr;return jsxRuntimeExports.jsxs("div",{className:"performance-section",children:[jsxRuntimeExports.jsx("h2",{className:"section-title-performance",children:"Hiu sut"}),jsxRuntimeExports.jsxs("div",{className:"performance-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"performance-left",children:[jsxRuntimeExports.jsx("h3",{children:"Tng quan v chnh sch hon tr"}),jsxRuntimeExports.jsx("div",{className:"performance-table",children:Hn.map(ir=>jsxRuntimeExports.jsxs("div",{className:"perf-row",children:[jsxRuntimeExports.jsx("span",{className:"perf-label",children:ir.label}),jsxRuntimeExports.jsx("span",{className:`perf-value ${ir.value==null?"neutral":ir.value>=0?"positive":"negative"}`,children:ir.value==null?"-":`${ir.value.toFixed(2)}%`})]},ir.key))})]}),jsxRuntimeExports.jsxs("div",{className:"performance-right",children:[jsxRuntimeExports.jsx("h3",{className:"section-title",children:"Li nhun hng thng c th hin trn bn  nhit"}),jsxRuntimeExports.jsxs("div",{className:"heatmap",children:[jsxRuntimeExports.jsxs("div",{className:"heatmap-header",children:[jsxRuntimeExports.jsx("span",{}),er.months.map(ir=>jsxRuntimeExports.jsx("span",{children:ir},ir))]}),Object.entries(er.data).map(([ir,rr])=>jsxRuntimeExports.jsxs("div",{className:"heatmap-row",children:[jsxRuntimeExports.jsx("span",{className:"heatmap-year",children:ir}),rr.map((sr,ar)=>jsxRuntimeExports.jsx("span",{className:`heatmap-cell ${getHeatClass(sr)}`,children:sr>0?`+${sr}`:sr},ar))]},ir))]})]})]})]})}function getHeatClass(tr){return tr>=20?"heat-very-positive":tr>=10?"heat-positive":tr>0?"heat-light-positive":tr===0?"heat-neutral":tr>-5?"heat-light-negative":tr>-10?"heat-negative":"heat-very-negative"}function RiskSection({risk:tr}){const{overview:Hn,rollingVolatility:er}=tr;return jsxRuntimeExports.jsxs("div",{className:"risk-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"risk-left",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:tr.title}),tr.overview.map(nr=>jsxRuntimeExports.jsxs("div",{className:"risk-row",children:[jsxRuntimeExports.jsx("span",{children:nr.label}),jsxRuntimeExports.jsx("span",{className:nr.value<0?"negative":"",children:nr.value==null?"-":`${nr.value}${nr.unit}`})]},nr.key))]}),jsxRuntimeExports.jsxs("div",{className:"risk-right",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:er.title}),jsxRuntimeExports.jsx("div",{className:"volatility-chart",children:jsxRuntimeExports.jsx("img",{src:er.chartUrl,alt:"Volatility Chart"})})]})]})}const SingleCandlestickChartWithPopup=({data:tr,title:Hn,timeRange:er,setTimeRange:nr,chartKey:ir,initialIsOpen:rr=!1})=>{const[sr,ar]=reactExports.useState(rr),[or,lr]=useSearchParams(),[cr,ur]=reactExports.useState(er);reactExports.useEffect(()=>{const xr=or.get("chart");xr===ir?ar(!0):xr!==ir&&sr&&ar(!1)},[or,ir]);const dr=()=>{ar(!1),or.get("chart")===ir&&(or.delete("chart"),lr(or))},fr=reactExports.useMemo(()=>filterDataByTimeRange(tr,cr),[tr,cr]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:`/chart-detail/${ir}`,style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("div",{style:{cursor:"pointer"},children:jsxRuntimeExports.jsx(SingleCandlestickChart,{data:tr,title:Hn,timeRange:er,setTimeRange:nr})})}),sr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center"},onClick:dr,children:jsxRuntimeExports.jsxs("div",{style:{width:"97%",maxWidth:"2000px",height:"90%",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px"},onClick:xr=>xr.stopPropagation(),children:[jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:cr,onRangeChange:ur}),jsxRuntimeExports.jsx(SingleCandlestickChart,{data:fr,title:Hn,timeRange:cr,setTimeRange:ur}),jsxRuntimeExports.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:xr=>{xr.stopPropagation(),dr()},children:"ng"})]})})]})},ChartWithPopup=({allData:tr,buyData:Hn,sellData:er,keyIndex:nr,title:ir,time:rr,initialIsOpen:sr=!1})=>{const[ar,or]=reactExports.useState(sr),[lr,cr]=useSearchParams();useNavigate();const[ur,dr]=reactExports.useState(rr),[fr,xr]=reactExports.useState(nr),[yr,_r]=reactExports.useState(ir),Sr=tr[`buy${fr}`]||[],jr=tr[`sell${fr}`]||[];reactExports.useEffect(()=>{lr.get("chart")===nr&&!ar&&or(!0)},[lr,nr]);const Dr=()=>{or(!1),lr.get("chart")===nr&&(lr.delete("chart"),cr(lr))},Ir=reactExports.useMemo(()=>filterDataByTimeRange(Hn,ur),[Hn,ur]),Mr=reactExports.useMemo(()=>filterDataByTimeRange(er,ur),[er,ur]),Or=reactExports.useMemo(()=>filterDataByTimeRange(Sr,ur),[Sr,ur]),Lr=reactExports.useMemo(()=>filterDataByTimeRange(jr,ur),[jr,ur]),Fr={DataHistoryGooonusVANGPHUQUY:"History 1 Nm VANGPHUQUY",DatatoryGooonusNhanTronPhuQuy9999:"Nhn trn ph qu 9999",DataHistoryGooonusVangMiengSjc:"Vng ming SJC",DataHistoryGooonusVangTrangSuc98:"Vng trang sc 98",DataHistoryGooonusVangTrangSuc99:"Vng trang sc 99",DataHistoryGooonusVangTrangSuc999:"Vng trang sc 999",DataHistoryGooonusVangTrangSuc9999:"Vng trang sc 9999",DataHistoryGooonusVangHanQuoc:"Vng Hn Quc",DataHistoryGooonusVangSac:"Vng Sac",DataHistoryGooonusBacSac:"Bc Sac"};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:`/chart-detail/${nr}`,style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("div",{style:{cursor:"pointer"},children:jsxRuntimeExports.jsx(DoubleLineChart,{buyData:Ir,sellData:Mr,title:ir,isZoom:ar})})}),ar&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center"},onClick:Dr,children:jsxRuntimeExports.jsxs("div",{style:{width:"97%",maxWidth:"2000px",height:"90%",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px"},onClick:Vr=>Vr.stopPropagation(),children:[jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:ur,onRangeChange:dr}),nr==="DataHistoryGooonusVANGPHUQUY"&&jsxRuntimeExports.jsxs("select",{class:"custom-select",value:fr,onChange:Vr=>{const Zr=Vr.target.value;xr(Zr),_r(Fr[Zr])},children:[jsxRuntimeExports.jsx("option",{value:"DataMatDataHistoryGooonusVANGPHUQUYerial",children:"History 1 Nm VANGPHUQUY"},"DataHistoryGooonusVANGPHUQUY"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusNhanTronPhuQuy9999",children:"Nhn trn ph qu 9999"},"DataHistoryGooonusNhanTronPhuQuy9999"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangMiengSjc",children:"Vng ming SJC"},"DataHistoryGooonusVangMiengSjc"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc98",children:"Vng trang sc 98"},"DataHistoryGooonusVangTrangSuc98"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc99",children:"Vng trang sc 99"},"DataHistoryGooonusVangTrangSuc99"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc999",children:"Vng trang sc 999"},"DataHistoryGooonusVangTrangSuc999"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc9999",children:"Vng trang sc 9999"},"DataHistoryGooonusVangTrangSuc9999")]}),jsxRuntimeExports.jsx(DoubleLineChart,{buyData:Or,sellData:Lr,title:yr,isZoom:ar}),jsxRuntimeExports.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:Dr,children:"ng"})]})})]})},CandlestickCharts=()=>{const[tr,Hn]=reactExports.useState("gold"),[er,nr]=reactExports.useState({sjcData:[],nguyenLieuData:[],usdData:[],buyDataMaterial:[],sellDataMaterial:[],buyDataHistoryGooonusBTMC:[],sellDataHistoryGooonusBTMC:[],buyDataHistoryGooonusBTMH:[],sellDataHistoryGooonusBTMH:[],buyDataHistoryGooonusDOJI:[],sellDataHistoryGooonusDOJI:[],buyDataHistoryGooonusMIHONG:[],sellDataHistoryGooonusMIHONG:[],buyDataHistoryGooonusNGOCTHAM:[],sellDataHistoryGooonusNGOCTHAM:[],buyDataHistoryGooonusPNJ:[],sellDataHistoryGooonusPNJ:[],buyDataHistoryGooonusVANGPHUQUY:[],sellDataHistoryGooonusVANGPHUQUY:[],buyDataHistoryGooonusBacPhuQuy:[],sellDataHistoryGooonusBacPhuQuy:[],buyDataHistoryGooonusNhanTronPhuQuy9999:[],sellDataHistoryGooonusNhanTronPhuQuy9999:[],buyDataHistoryGooonusVangMiengSjc:[],sellDataHistoryGooonusVangMiengSjc:[],buyDataHistoryGooonusVangTrangSuc99:[],sellDataHistoryGooonusVangTrangSuc99:[],buyDataHistoryGooonusVangTrangSuc999:[],sellDataHistoryGooonusVangTrangSuc999:[],buyDataHistoryGooonusVangTrangSuc9999:[],sellDataHistoryGooonusVangTrangSuc9999:[],buyDataHistoryGooonusVangTrangSuc98:[],sellDataHistoryGooonusVangTrangSuc98:[],buyDataHistoryGooonusVangHanQuoc:[],sellDataHistoryGooonusVangHanQuoc:[],buyDataHistoryGooonusVangSac:[],sellDataHistoryGooonusVangSac:[],buyDataHistoryGooonusBacSac:[],sellDataHistoryGooonusBacSac:[]}),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("ALL"),[cr]=useSearchParams(),ur=cr.get("chart");reactExports.useEffect(()=>{(async()=>{try{rr(!0);const yr=await fetchCandlestickData();nr(yr),ar(null)}catch(yr){console.error("Error loading candlestick data:",yr),ar("Khng th ti d liu biu . Vui lng th li sau.")}finally{rr(!1)}})()},[]);const dr=reactExports.useMemo(()=>er.sjcData?{sjcData:filterDataByTimeRange(er.sjcData,or),nguyenLieuData:filterDataByTimeRange(er.nguyenLieuData,or),usdData:filterDataByTimeRange(er.usdData,or),buyDataMaterial:filterDataByTimeRange(er.buyDataMaterial,or),sellDataMaterial:filterDataByTimeRange(er.sellDataMaterial,or),buyDataHistoryGooonusBTMC:filterDataByTimeRange(er.buyDataHistoryGooonusBTMC,or),sellDataHistoryGooonusBTMC:filterDataByTimeRange(er.sellDataHistoryGooonusBTMC,or),buyDataHistoryGooonusBTMH:filterDataByTimeRange(er.buyDataHistoryGooonusBTMH,or),sellDataHistoryGooonusBTMH:filterDataByTimeRange(er.sellDataHistoryGooonusBTMH,or),buyDataHistoryGooonusDOJI:filterDataByTimeRange(er.buyDataHistoryGooonusDOJI,or),sellDataHistoryGooonusDOJI:filterDataByTimeRange(er.sellDataHistoryGooonusDOJI,or),buyDataHistoryGooonusMIHONG:filterDataByTimeRange(er.buyDataHistoryGooonusMIHONG,or),sellDataHistoryGooonusMIHONG:filterDataByTimeRange(er.sellDataHistoryGooonusMIHONG,or),buyDataHistoryGooonusNGOCTHAM:filterDataByTimeRange(er.buyDataHistoryGooonusNGOCTHAM,or),sellDataHistoryGooonusNGOCTHAM:filterDataByTimeRange(er.sellDataHistoryGooonusNGOCTHAM,or),buyDataHistoryGooonusPNJ:filterDataByTimeRange(er.buyDataHistoryGooonusPNJ,or),sellDataHistoryGooonusPNJ:filterDataByTimeRange(er.sellDataHistoryGooonusPNJ,or),buyDataHistoryGooonusVANGPHUQUY:filterDataByTimeRange(er.buyDataHistoryGooonusVANGPHUQUY,or),sellDataHistoryGooonusVANGPHUQUY:filterDataByTimeRange(er.sellDataHistoryGooonusVANGPHUQUY,or),buyDataHistoryGooonusBacPhuQuy:filterDataByTimeRange(er.buyDataHistoryGooonusBacPhuQuy,or),sellDataHistoryGooonusBacPhuQuy:filterDataByTimeRange(er.sellDataHistoryGooonusBacPhuQuy,or),buyDataHistoryGooonusNhanTronPhuQuy9999:filterDataByTimeRange(er.buyDataHistoryGooonusNhanTronPhuQuy9999,or),sellDataHistoryGooonusNhanTronPhuQuy9999:filterDataByTimeRange(er.sellDataHistoryGooonusNhanTronPhuQuy9999,or),buyDataHistoryGooonusVangMiengSjc:filterDataByTimeRange(er.buyDataHistoryGooonusVangMiengSjc,or),sellDataHistoryGooonusVangMiengSjc:filterDataByTimeRange(er.sellDataHistoryGooonusVangMiengSjc,or),buyDataHistoryGooonusVangTrangSuc99:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc99,or),sellDataHistoryGooonusVangTrangSuc99:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc99,or),buyDataHistoryGooonusVangTrangSuc999:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc999,or),sellDataHistoryGooonusVangTrangSuc999:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc999,or),buyDataHistoryGooonusVangTrangSuc9999:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc9999,or),sellDataHistoryGooonusVangTrangSuc9999:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc9999,or),buyDataHistoryGooonusVangTrangSuc98:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc98,or),sellDataHistoryGooonusVangTrangSuc98:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc98,or),buyDataHistoryGooonusVangHanQuoc:filterDataByTimeRange(er.buyDataHistoryGooonusVangHanQuoc,or),sellDataHistoryGooonusVangHanQuoc:filterDataByTimeRange(er.sellDataHistoryGooonusVangHanQuoc,or),buyDataHistoryGooonusVangSac:filterDataByTimeRange(er.buyDataHistoryGooonusVangSac,or),sellDataHistoryGooonusVangSac:filterDataByTimeRange(er.sellDataHistoryGooonusVangSac,or),buyDataHistoryGooonusBacSac:filterDataByTimeRange(er.buyDataHistoryGooonusBacSac,or),sellDataHistoryGooonusBacSac:filterDataByTimeRange(er.sellDataHistoryGooonusBacSac,or)}:{sjcData:[],nguyenLieuData:[],usdData:[],buyDataMaterial:[],sellDateMaterial:[],buyDataHistoryGooonusBTMC:[],sellDataHistoryGooonusBTMC:[],buyDataHistoryGooonusBTMH:[],sellDataHistoryGooonusBTMH:[],buyDataHistoryGooonusDOJI:[],sellDataHistoryGooonusDOJI:[],buyDataHistoryGooonusMIHONG:[],sellDataHistoryGooonusMIHONG:[],buyDataHistoryGooonusNGOCTHAM:[],sellDataHistoryGooonusNGOCTHAM:[],buyDataHistoryGooonusPNJ:[],sellDataHistoryGooonusPNJ:[],buyDataHistoryGooonusVANGPHUQUY:[],sellDataHistoryGooonusVANGPHUQUY:[],buyDataHistoryGooonusBacPhuQuy:[],sellDataHistoryGooonusBacPhuQuy:[],buyDataHistoryGooonusNhanTronPhuQuy9999:[],sellDataHistoryGooonusNhanTronPhuQuy9999:[],buyDataHistoryGooonusVangMiengSjc:[],sellDataHistoryGooonusVangMiengSjc:[],buyDataHistoryGooonusVangTrangSuc99:[],sellDataHistoryGooonusVangTrangSuc99:[],buyDataHistoryGooonusVangTrangSuc999:[],sellDataHistoryGooonusVangTrangSuc999:[],buyDataHistoryGooonusVangTrangSuc9999:[],sellDataHistoryGooonusVangTrangSuc9999:[],buyDataHistoryGooonusVangTrangSuc98:[],sellDataHistoryGooonusVangTrangSuc98:[],buyDataHistoryGooonusVangHanQuoc:[],sellDataHistoryGooonusVangHanQuoc:[],buyDataHistoryGooonusVangSac:[],sellDataHistoryGooonusVangSac:[],buyDataHistoryGooonusBacSac:[],sellDataHistoryGooonusBacSac:[]},[er,or]);if(ir)return jsxRuntimeExports.jsx("div",{className:"candlestick-section",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti biu  lch s gi..."})]})});if(sr)return jsxRuntimeExports.jsx("div",{className:"candlestick-section",children:jsxRuntimeExports.jsx("div",{className:"error-container",children:jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",sr]})})});const fr=[{type:"gold",key:"DataMaterial",title:"Lch s vng km tn t nm 2009"},{type:"gold",key:"DataHistoryGooonusBTMC",title:"History 1 Nm BTMC"},{type:"gold",key:"DataHistoryGooonusBTMH",title:"History 1 Nm BTMH"},{type:"gold",key:"DataHistoryGooonusDOJI",title:"History 1 Nm DOJI"},{type:"gold",key:"DataHistoryGooonusMIHONG",title:"History 1 Nm MIHONG"},{type:"gold",key:"DataHistoryGooonusNGOCTHAM",title:"History 1 Nm NGOCTHAM"},{type:"gold",key:"DataHistoryGooonusPNJ",title:"History 1 Nm PNJ"},{type:"silver",key:"DataHistoryGooonusBacPhuQuy",title:"History Bac Phu Quy"},{type:"gold",key:"DataHistoryGooonusVANGPHUQUY",title:"History 1 Nm VANGPHUQUY"},{type:"gold",key:"DataHistoryGooonusVangHanQuoc",title:"History Vng koreagoldx.co.kr"},{type:"gold",key:"DataHistoryGooonusVangSac",title:"History Vng SACOMBANK SBJ"},{type:"gold",key:"DataHistoryGooonusBacSac",title:"History Bc SACOMBANK"}];return console.log("Vang Han Quoc buyData:",dr.buyDataHistoryGooonusVangHanQuoc),console.log("Vang Han Quoc sellData:",dr.sellDataHistoryGooonusVangHanQuoc),jsxRuntimeExports.jsxs("div",{className:"candlestick-section",children:[jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" BIU  LCH S GI"}),jsxRuntimeExports.jsx("p",{className:"section-subtitle",children:"Biu  nn (Candlestick) hin th lch s bin ng gi"})]}),jsxRuntimeExports.jsxs("div",{style:{margin:"10px 0"},children:[jsxRuntimeExports.jsx("button",{className:`btn-type ${tr==="gold"?"btn-active":""}`,onClick:()=>Hn("gold"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`btn-type ${tr==="silver"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>Hn("silver"),children:"Bc"})]}),jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:or,onRangeChange:lr}),jsxRuntimeExports.jsxs("div",{className:"charts-grid",children:[jsxRuntimeExports.jsx(SingleCandlestickChartWithPopup,{data:dr.sjcData,title:"SJC T do",timeRange:or,setTimeRange:lr,chartKey:"sjc",initialIsOpen:ur==="sjc"}),jsxRuntimeExports.jsx(SingleCandlestickChartWithPopup,{data:dr.nguyenLieuData,title:"Vng Nguyn liu",timeRange:or,setTimeRange:lr,chartKey:"nguyenLieu",initialIsOpen:ur==="nguyenLieu"}),jsxRuntimeExports.jsx(SingleCandlestickChartWithPopup,{data:dr.usdData,title:"T gi USD/VND",timeRange:or,setTimeRange:lr,chartKey:"usd",initialIsOpen:ur==="usd"}),fr.filter(xr=>xr.type===tr).map(xr=>jsxRuntimeExports.jsx(ChartWithPopup,{allData:dr,buyData:dr[`buy${xr.key}`],sellData:dr[`sell${xr.key}`],keyIndex:xr.key,title:xr.title,time:or,initialIsOpen:ur===xr.key},xr.key))]})]})},WalletAccountsList=()=>{const tr=useNavigate(),{username:Hn}=useParams(),[er,nr]=useSearchParams(),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(null),[xr,yr]=reactExports.useState(""),[_r,Sr]=reactExports.useState(!1),[jr,Dr]=reactExports.useState(""),[Ir,Mr]=reactExports.useState(()=>{const Hr=er.get("page");return Hr?parseInt(Hr,10):1}),Or=6;reactExports.useEffect(()=>{logUserInfo("Trang Danh sch v - WalletAccountsList.jsx")},[]),reactExports.useEffect(()=>{(async()=>{lr(!0);try{const Yr=localStorage.getItem("accountInfo");Yr&&ar(JSON.parse(Yr));const eo=new Date,io=eo.getDate(),uo=eo.getMonth()+1,so=eo.getFullYear(),no=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${io}_${uo}_${so}`);if(!no.ok)throw new Error("Khng gi c API ly IP");const po=await no.json();if(po.status!=="success"||!po.ip_location)throw new Error("Khng c ip_location trong API");const co=po.ip_location;console.log(" User IP:",co);const lo=`https://api_gold.thinkdiff.us/api/vi/find_by_iplocation/${co}`;console.log("Fetching wallets:",lo);const ao=await fetch(lo);if(!ao.ok)throw new Error(`API Error: ${ao.status}`);const xo=await ao.json();console.log("=== API Response ===",xo);let _o=[];Array.isArray(xo)?_o=xo:xo?.data&&Array.isArray(xo.data)?_o=xo.data:typeof xo=="object"&&(_o=Object.values(xo).filter(Ao=>typeof Ao=="object"&&Ao?.email));const Po=_o.map(Ao=>{let zo=Ao.id_thongke_taikhoan;if(zo||(zo=Ao.username||Ao.vi||Ao.tai_khoan||Ao.account_name||Ao.name||null),!zo){const Qo=Ao.id_taikhoan||Ao.id;Qo&&(zo=`wallet_${Qo}`)}const Ro=`transactions_${zo}`,Go=JSON.parse(localStorage.getItem(Ro))||[];return{...Ao,username:String(zo).trim(),email:Ao.email||Ao.dia_chi_email||"",id_taikhoan:Ao.id_taikhoan||Ao.id||"",id_thongke_taikhoan:Ao.id_thongke_taikhoan||Ao.id_thongke||"",password:Ao.password||"",timecreate:Ao.timecreate||Ao.created_at||new Date().toISOString(),transactions:Go}}),Oo=new Set,So=Po.filter(Ao=>Oo.has(Ao.username)?!1:(Oo.add(Ao.username),!0));if(So.sort((Ao,zo)=>new Date(zo.timecreate)-new Date(Ao.timecreate)),rr(So),Mr(1),console.log(" Wallets loaded:",So),Hn){const Ao=So.find(zo=>zo.username===Hn);Ao&&setTimeout(()=>{Fr(Ao)},100)}}catch(Yr){console.error(" Li load danh sch v:",Yr),rr([])}finally{lr(!1)}})()},[Hn]);const Lr=Hr=>{let Yr=0,eo=0,io=0;return Hr.transactions.forEach(uo=>{Yr+=uo.tong_tien||0,uo.loai_san_pham==="VANG"?eo+=uo.soluong||0:uo.loai_san_pham==="BAC"&&(io+=uo.soluong||0)}),{totalMoneySpent:Yr,vangQuantity:eo,bacQuantity:io,totalTransactions:Hr.transactions.length}},Fr=Hr=>{fr(Hr),yr(""),Dr(""),ur(!0)},Vr=async()=>{if(!xr.trim()){alert(" Vui lng nhp mt khu");return}try{Sr(!0);const Hr={...dr,username:dr.username,password:xr,loginTime:new Date().toISOString()};localStorage.setItem("accountInfo",JSON.stringify(Hr)),console.log(" ng nhp v thnh cng:",dr.username),ur(!1),tr(`/vi/${dr.username}`)}catch(Hr){console.error("Li ng nhp:",Hr),alert(`Li: ${Hr.message}`)}finally{Sr(!1)}},Zr=async()=>{if(!xr.trim()){Dr(" Vui lng nhp mt khu");return}try{Sr(!0),Dr(""),console.log(`ang ng nhp trc tip cho v: ${Hn}`);const Hr=`https://api_gold.thinkdiff.us/api/vi/${Hn}?password=${encodeURIComponent(xr)}`,Yr=await fetch(Hr,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Yr.ok){Yr.status===401?Dr(" Mt khu khng chnh xc"):Dr(` Li API: ${Yr.status}`),Sr(!1);return}const eo=await Yr.json();if(eo.status!=="success"&&eo.error){Dr(` ${eo.error}`),Sr(!1);return}const io={username:Hn,password:xr,...eo,loginTime:new Date().toISOString(),source:"api"};localStorage.setItem("accountInfo",JSON.stringify(io)),console.log(" ng nhp thnh cng t API:",io),tr(`/vi/${Hn}`)}catch(Hr){console.error("Li ng nhp:",Hr),Dr(` Li: ${Hr.message}`),Sr(!1)}};return or?jsxRuntimeExports.jsx("div",{className:"wallet-accounts-container",children:jsxRuntimeExports.jsx("div",{className:"wallet-accounts-card",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",padding:"30px"},children:" ang ti danh sch v..."})})}):Hn?jsxRuntimeExports.jsx("div",{style:{minHeight:"100vh"},children:jsxRuntimeExports.jsxs("div",{className:"password-modal-overlay",children:[jsxRuntimeExports.jsxs("div",{className:"password-modal",onClick:Hr=>Hr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal-header",children:[jsxRuntimeExports.jsx("h3",{children:" Nhp mt khu  ng nhp"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>tr("/"),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-body",children:[jsxRuntimeExports.jsxs("p",{className:"wallet-name",children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn})]}),jr&&jsxRuntimeExports.jsx("div",{className:"error-message",style:{background:"#fee",color:"#c33",padding:"12px 15px",borderRadius:"6px",marginBottom:"15px",borderLeft:"4px solid #c33",fontSize:"14px",wordBreak:"break-word"},children:jr}),jsxRuntimeExports.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:xr,onChange:Hr=>{yr(Hr.target.value),Dr("")},onKeyDown:Hr=>{Hr.key==="Enter"&&!_r&&Zr()},disabled:_r,autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",onClick:()=>tr("/"),disabled:_r,children:"Hy"}),jsxRuntimeExports.jsx("button",{className:"confirm-btn",onClick:Zr,disabled:_r,children:_r?" ang ng nhp...":" ng nhp"})]})]}),jsxRuntimeExports.jsx("style",{children:`
                            .password-modal-overlay {
                                position: fixed;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: rgba(0, 0, 0, 0.6);
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                z-index: 1000;
                            }

                            .password-modal {
                                background: white;
                                border-radius: 12px;
                                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                                max-width: 400px;
                                width: 90%;
                                overflow: hidden;
                                animation: slideUp 0.3s ease;
                            }

                            @keyframes slideUp {
                                from {
                                    opacity: 0;
                                    transform: translateY(20px);
                                }
                                to {
                                    opacity: 1;
                                    transform: translateY(0);
                                }
                            }

                            .password-modal-header {
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                                padding: 20px;
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                            }

                            .password-modal-header h3 {
                                margin: 0;
                                font-size: 18px;
                            }

                            .close-btn {
                                background: none;
                                border: none;
                                color: white;
                                font-size: 24px;
                                cursor: pointer;
                                padding: 0;
                                width: 30px;
                                height: 30px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                transition: all 0.2s;
                            }

                            .close-btn:hover {
                                transform: scale(1.2);
                            }

                            .password-modal-body {
                                padding: 30px;
                            }

                            .wallet-name {
                                margin: 0 0 20px 0;
                                color: #666;
                                font-size: 14px;
                            }

                            .wallet-name strong {
                                color: #333;
                                font-weight: 600;
                            }

                            .password-input {
                                width: 100%;
                                padding: 12px 15px;
                                border: 2px solid #e0e0e0;
                                border-radius: 8px;
                                font-size: 16px;
                                transition: all 0.3s;
                                box-sizing: border-box;
                                font-family: inherit;
                            }

                            .password-input:focus {
                                outline: none;
                                border-color: #667eea;
                                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                            }

                            .password-input:disabled {
                                background: #f5f5f5;
                                cursor: not-allowed;
                            }

                            .password-modal-footer {
                                padding: 20px;
                                display: flex;
                                gap: 10px;
                                background: #f9f9f9;
                                border-top: 1px solid #e0e0e0;
                            }

                            .cancel-btn,
                            .confirm-btn {
                                flex: 1;
                                padding: 12px;
                                border: none;
                                border-radius: 8px;
                                font-size: 14px;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.3s;
                            }

                            .cancel-btn {
                                background: #e0e0e0;
                                color: #333;
                            }

                            .cancel-btn:hover:not(:disabled) {
                                background: #d0d0d0;
                            }

                            .confirm-btn {
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                            }

                            .confirm-btn:hover:not(:disabled) {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                            }

                            .cancel-btn:disabled,
                            .confirm-btn:disabled {
                                opacity: 0.6;
                                cursor: not-allowed;
                            }
                        `})]})}):jsxRuntimeExports.jsxs("div",{className:"wallet-accounts-container",children:[jsxRuntimeExports.jsxs("div",{className:"wallet-accounts-card",children:[jsxRuntimeExports.jsx("h2",{children:" Danh sch cc v ca ti"}),jsxRuntimeExports.jsxs("div",{className:"wallet-top-actions",children:[jsxRuntimeExports.jsx("button",{className:"nav-btn left",onClick:()=>tr("/dang-ky-tai-khoan"),children:" Quay li"}),jsxRuntimeExports.jsx("button",{className:"nav-btn right",onClick:()=>tr("/wallet-buy"),children:"V "})]}),ir.length===0?jsxRuntimeExports.jsx("p",{className:"no-transactions",children:"Bn cha to v no"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"wallets-grid",children:ir.slice((Ir-1)*Or,Ir*Or).map((Hr,Yr)=>{Lr(Hr);const eo=sr?.username===Hr.username;return jsxRuntimeExports.jsxs("div",{className:`wallet-card-item ${eo?"active":""}`,children:[jsxRuntimeExports.jsx("div",{className:"wallet-header",children:jsxRuntimeExports.jsxs("h3",{children:[" ",Hr.username]})}),jsxRuntimeExports.jsx("div",{className:"wallet-email",children:jsxRuntimeExports.jsxs("small",{children:[" ",Hr.email]})}),eo&&jsxRuntimeExports.jsx("div",{className:"active-badge",children:" ang s dng"}),!eo&&jsxRuntimeExports.jsx("button",{className:"login-wallet-btn",onClick:()=>Fr(Hr),children:" ng nhp v ny"}),eo&&jsxRuntimeExports.jsx("div",{className:"active-wallet-actions",children:jsxRuntimeExports.jsx("button",{className:"detail-btn",onClick:()=>tr(`/vi/${sr.username}`),children:" Xem chi tit li/l"})})]},Hr.username||Yr)})}),Math.ceil(ir.length/Or)>1&&jsxRuntimeExports.jsxs("div",{className:"pagination-container",children:[jsxRuntimeExports.jsx("button",{className:"pagination-btn",onClick:()=>{const Hr=Math.max(1,Ir-1);Mr(Hr),nr({page:Hr})},disabled:Ir===1,children:" Trang trc"}),jsxRuntimeExports.jsx("div",{className:"pagination-numbers",children:Array.from({length:Math.ceil(ir.length/Or)},(Hr,Yr)=>Yr+1).map(Hr=>jsxRuntimeExports.jsx("button",{className:`pagination-number ${Ir===Hr?"active":""}`,onClick:()=>{Mr(Hr),nr({page:Hr})},children:Hr},Hr))}),jsxRuntimeExports.jsx("button",{className:"pagination-btn",onClick:()=>{const Hr=Math.min(Math.ceil(ir.length/Or),Ir+1);Mr(Hr),nr({page:Hr})},disabled:Ir===Math.ceil(ir.length/Or),children:"Trang sau "})]})]})]}),cr&&jsxRuntimeExports.jsxs("div",{className:"password-modal-overlay",onClick:()=>ur(!1),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal",onClick:Hr=>Hr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal-header",children:[jsxRuntimeExports.jsx("h3",{className:"abc",children:" Nhp mt khu  ng nhp"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>ur(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-body",children:[jsxRuntimeExports.jsxs("p",{className:"wallet-name",children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:dr?.username})]}),jsxRuntimeExports.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:xr,onChange:Hr=>yr(Hr.target.value),onKeyDown:Hr=>{Hr.key==="Enter"&&Vr()},disabled:_r,autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",onClick:()=>ur(!1),disabled:_r,children:"Hy"}),jsxRuntimeExports.jsx("button",{className:"confirm-btn",onClick:Vr,disabled:_r,children:_r?" ang ng nhp...":" ng nhp"})]})]}),jsxRuntimeExports.jsx("style",{children:`
                        .password-modal-overlay {
                            position: fixed;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: rgba(0, 0, 0, 0.6);
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            z-index: 1000;
                        }

                        .password-modal {
                            background: white;
                            border-radius: 12px;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                            max-width: 400px;
                            width: 90%;
                            overflow: hidden;
                            animation: slideUp 0.3s ease;
                        }

                        @keyframes slideUp {
                            from {
                                opacity: 0;
                                transform: translateY(20px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }

                        .password-modal-header {
                            background: #FFD700;
                            color: white;
                            padding: 20px;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        }
                        .abc{
                            color: black;
                            margin: 0;
                            font-size: 18px;
                        }

                        .close-btn {
                            background: none;
                            border: none;
                            color: white;
                            font-size: 24px;
                            cursor: pointer;
                            padding: 0;
                            width: 30px;
                            height: 30px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            transition: all 0.2s;
                        }

                        .close-btn:hover {
                            transform: scale(1.2);
                        }

                        .password-modal-body {
                            padding: 30px;
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                        }

                        .wallet-name {
                            margin: 0 0 20px 0;
                            color: lightgreen;
                            font-size: 14px;
                        }

                        .wallet-name strong {
                            color: #FFD700;
                            font-weight: 600;
                        }

                        .password-input {
                            width: 100%;
                            padding: 12px 15px;
                            border: 2px solid #81d6d3;
                            border-radius: 8px;
                            font-size: 16px;
                            transition: all 0.3s;
                            box-sizing: border-box;
                            font-family: inherit;
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                            color: #FFD700;

                        }

                        .password-input:focus {
                            outline: none;
                            border-color: #FFD700;
                            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                        }

                        .password-input:disabled {
                            background: #f5f5f5;
                            cursor: not-allowed;
                        }

                        .password-modal-footer {
                            padding: 20px;
                            display: flex;
                            gap: 10px;
                            background: #FFD700;
                            border-top: 1px solid #e0e0e0;
                        }

                        .cancel-btn,
                        .confirm-btn {
                            flex: 1;
                            padding: 12px;
                            border: none;
                            border-radius: 8px;
                            font-size: 14px;
                            font-weight: 600;
                            cursor: pointer;
                            transition: all 0.3s;
                        }

                        .cancel-btn {
                            background: #e0e0e0;
                            color: #333;
                        }

                        .cancel-btn:hover:not(:disabled) {
                            background: #d0d0d0;
                        }

                        .confirm-btn {
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                            color: white;
                        }

                        .confirm-btn:hover:not(:disabled) {
                            transform: translateY(-2px);
                            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                        }

                        .cancel-btn:disabled,
                        .confirm-btn:disabled {
                            opacity: 0.6;
                            cursor: not-allowed;
                        }
                    `})]})]})},WalletRegistration=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState({email:"",username:"",password:"",confirmPassword:""}),[nr,ir]=reactExports.useState({}),[rr,sr]=reactExports.useState(!1),[ar,or]=reactExports.useState(!1),[lr,cr]=reactExports.useState(null),ur=reactExports.useRef(null),dr=reactExports.useRef(null),[fr,xr]=reactExports.useState(null),[yr,_r]=reactExports.useState([]),[Sr,jr]=reactExports.useState(!1),[Dr,Ir]=reactExports.useState(!1),[Mr,Or]=reactExports.useState(!1),[Lr,Fr]=reactExports.useState(!1),[Vr,Zr]=reactExports.useState(null),[Hr,Yr]=reactExports.useState(""),[eo,io]=reactExports.useState(""),[uo,so]=reactExports.useState(!1);reactExports.useEffect(()=>{logUserInfo("Trang ng k v - WalletRegistration.jsx")},[]),reactExports.useEffect(()=>((async()=>{try{const So=new Date,Ao=So.getDate(),zo=So.getMonth()+1,Ro=So.getFullYear(),Qo=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Ao}_${zo}_${Ro}`)).json();Qo.status==="success"&&Qo.ip_location?cr(Qo.ip_location):cr(null)}catch(So){console.error("Khng ly c IP:",So),cr(null)}})(),()=>{ur.current&&clearTimeout(ur.current),dr.current&&clearTimeout(dr.current)}),[]);const no=async()=>{if(!lr){_r([]),jr(!1),Ir(!1);return}Or(!0);try{const So=await(await fetch(`https://api_gold.thinkdiff.us/api/vi/find_by_iplocation/${lr}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();(So.status==="ok"||So.status==="success")&&So.data&&Array.isArray(So.data)?(_r(So.data),jr(!0),Ir(!0)):(_r([]),jr(!1),Ir(!1))}catch(Oo){console.error("Li tm kim v:",Oo),_r([]),jr(!1),Ir(!1)}finally{Or(!1)}},po=Oo=>{Zr(Oo),Yr(""),io(""),Fr(!0),Ir(!1)},co=async()=>{if(!Hr.trim()){io("Vui lng nhp mt khu");return}so(!0);try{const Oo=new FormData;if(Oo.append("id_taikhoan",Vr.id_thongke_taikhoan),Oo.append("password",Hr),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:Oo})).ok){const Ao={email:Vr.email,username:Vr.id_thongke_taikhoan,id_taikhoan:Vr.id_thongke_taikhoan,id_thongke_taikhoan:Vr.id_thongke_taikhoan,password:Hr,ip_address:lr};localStorage.setItem("accountInfo",JSON.stringify(Ao)),Fr(!1),tr(`/vi/${Vr.id_thongke_taikhoan}`)}else io("Mt khu khng chnh xc")}catch{io("C li xy ra, vui lng th li")}finally{so(!1)}};reactExports.useEffect(()=>(lr&&no(),()=>{ur.current&&clearTimeout(ur.current),dr.current&&clearTimeout(dr.current)}),[lr]);const lo=Oo=>{if(!Oo)return{strength:0,label:"Cha nhp",color:"#ccc"};let So=0;Oo.length>=8&&So++,/[A-Z]/.test(Oo)&&So++,/[a-z]/.test(Oo)&&So++,/\d/.test(Oo)&&So++,/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(Oo)&&So++;let Ao="Yu",zo="#e74c3c";return So>=4?(Ao="Rt mnh",zo="#27ae60"):So>=3?(Ao="Mnh",zo="#f39c12"):So>=2&&(Ao="Trung bnh",zo="#e67e22"),{strength:So,label:Ao,color:zo}},ao=Oo=>{const{name:So,value:Ao}=Oo.target;er(zo=>({...zo,[So]:Ao})),nr[So]&&ir(zo=>({...zo,[So]:""}))},xo=()=>{const Oo={};return Hn.email.trim()||(Oo.email="Email l bt buc"),Hn.username.trim()||(Oo.username="ID thng k ti khon l bt buc"),Hn.password||(Oo.password="Mt khu l bt buc"),Hn.password!==Hn.confirmPassword&&(Oo.confirmPassword="Mt khu xc nhn khng khp"),ir(Oo),Object.keys(Oo).length===0},_o=async Oo=>{if(Oo.preventDefault(),!!xo()){or(!0);try{const So=new FormData;So.append("email",Hn.email),So.append("id_taikhoan",Hn.username),So.append("id_thongke_taikhoan",Hn.username),So.append("password",Hn.password),So.append("password_vi",Hn.password),fr&&So.append("location",JSON.stringify(fr));const zo=await(await fetch("https://api_gold.thinkdiff.us/api/vi/taotaikhoan",{method:"POST",body:So})).json();zo.status==="success"?(sr(!0),setTimeout(()=>tr("/wallet-buy"),1e3)):ir({submit:zo.message||"ng k tht bi"})}catch{ir({submit:"C li xy ra, vui lng th li sau"})}finally{or(!1)}}},Po=localStorage.getItem("accountInfo");return jsxRuntimeExports.jsxs("div",{className:"account-registration-container",children:[jsxRuntimeExports.jsxs("div",{className:"registration-layout-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"registration-left-section",children:[jsxRuntimeExports.jsx("h1",{className:"registration-title",children:"ng k v"}),rr&&jsxRuntimeExports.jsx("div",{className:"success-message",children:" ng k ti khon thnh cng!"}),nr.submit&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[" ",nr.submit]}),jsxRuntimeExports.jsxs("form",{onSubmit:_o,className:"registration-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:Hn.email,onChange:ao,className:`form-input ${nr.email?"input-error":""}`,disabled:ar}),nr.email&&jsxRuntimeExports.jsx("span",{className:"error-text",children:nr.email})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"username",className:"form-label",children:["Tn ti khon ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",id:"username",name:"username",value:Hn.username,onChange:ao,className:`form-input ${nr.username?"input-error":""}`,disabled:ar}),nr.username&&jsxRuntimeExports.jsx("span",{className:"error-text",children:nr.username})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"password",className:"form-label",children:["Mt khu ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",name:"password",value:Hn.password,onChange:ao,className:`form-input ${nr.password?"input-error":""}`,disabled:ar}),Hn.password&&jsxRuntimeExports.jsxs("div",{className:"password-strength-container",children:[jsxRuntimeExports.jsx("div",{className:"strength-bar",children:jsxRuntimeExports.jsx("div",{className:"strength-fill",style:{width:`${lo(Hn.password).strength/5*100}%`,backgroundColor:lo(Hn.password).color}})}),jsxRuntimeExports.jsxs("span",{className:"strength-label",style:{color:lo(Hn.password).color},children:[" mnh: ",lo(Hn.password).label]})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"confirmPassword",className:"form-label",children:["Xc nhn mt khu ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:Hn.confirmPassword,onChange:ao,className:`form-input ${nr.confirmPassword?"input-error":""}`,disabled:ar}),nr.confirmPassword&&jsxRuntimeExports.jsx("span",{className:"error-text",children:nr.confirmPassword})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"submit-btn",disabled:ar,children:ar?"ang x l...":"ng k v"})]}),Po&&jsxRuntimeExports.jsx("div",{style:{marginTop:"20px"},children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>tr("/danh-sach-vi"),className:"view-wallet-list-btn",children:" Xem danh sch v"})})]}),jsxRuntimeExports.jsxs("div",{className:"registration-right-section",children:[jsxRuntimeExports.jsx("h1",{className:"wallet-list-title",children:"Danh sch v"}),jsxRuntimeExports.jsxs("div",{className:"wallet-search-section",children:[yr.length>0&&jsxRuntimeExports.jsxs("div",{className:"wallet-dropdown",children:[jsxRuntimeExports.jsx("p",{className:"wallet-dropdown-title",children:"Ti khon ca bn:"}),yr.map((Oo,So)=>jsxRuntimeExports.jsxs("div",{className:"wallet-item",onClick:()=>po(Oo),children:[jsxRuntimeExports.jsxs("div",{className:"wallet-item-name",children:[" ",Oo.id_thongke_taikhoan]}),jsxRuntimeExports.jsxs("div",{className:"wallet-item-email",children:[" ",Oo.email]}),jsxRuntimeExports.jsxs("div",{className:"wallet-item-date",children:[" ",new Date(Oo.timecreate).toLocaleDateString("vi-VN")]})]},So))]}),!Mr&&yr.length===0&&jsxRuntimeExports.jsx("p",{className:"wallet-no-data",children:"Khng c v no cho IP ny"}),Mr&&jsxRuntimeExports.jsx("p",{className:"wallet-loading",children:" ang ti danh sch v..."})]})]})]}),Lr&&jsxRuntimeExports.jsx("div",{className:"password-modal-overlay",onClick:()=>Fr(!1),children:jsxRuntimeExports.jsxs("div",{className:"password-modal",onClick:Oo=>Oo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal-header",children:[jsxRuntimeExports.jsx("h3",{children:" Nhp mt khu"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>Fr(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-body",children:[jsxRuntimeExports.jsxs("p",{className:"wallet-name",children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Vr?.id_thongke_taikhoan})]}),jsxRuntimeExports.jsx("p",{className:"wallet-email",children:Vr?.email}),jsxRuntimeExports.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:Hr,onChange:Oo=>Yr(Oo.target.value),onKeyPress:Oo=>{Oo.key==="Enter"&&co()},disabled:uo,autoFocus:!0}),eo&&jsxRuntimeExports.jsx("p",{className:"password-error",children:eo})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",onClick:()=>Fr(!1),disabled:uo,children:"Hy"}),jsxRuntimeExports.jsx("button",{className:"confirm-btn",onClick:co,disabled:uo,children:uo?" ang x l...":" ng nhp"})]}),jsxRuntimeExports.jsx("style",{children:`
              .password-modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.6);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
              }

              .password-modal {
                background: white;
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                max-width: 400px;
                width: 90%;
                overflow: hidden;
                animation: slideUp 0.3s ease;
              }

              @keyframes slideUp {
                from {
                  opacity: 0;
                  transform: translateY(20px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .password-modal-header {
                background: linear-gradient(135deg, #FFD700 0%, #FFD700 100%);
                color: white;
                padding: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
              }

              .password-modal-header h3 {
                margin: 0;
                font-size: 18px;
                color: green !important;
              }

              .close-btn {
                background: none;
                border: none;
                color: white;
                font-size: 24px;
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;
              }

              .close-btn:hover {
                transform: scale(1.2);
              }

              .password-modal-body {
                padding: 30px;
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
              }

              .wallet-name {
                margin: 0 0 8px 0;
                color: #FFD700;
                font-size: 14px;
              }

              .wallet-name strong {
                color: #FFD700;
                font-weight: 600;
              }

              .wallet-email {
                margin: 0 0 20px 0;
                color: lightcoral;
                font-size: 12px;
              }

              .password-input {
                width: 100%;
                padding: 12px 15px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                font-size: 16px;
                transition: all 0.3s;
                box-sizing: border-box;
                font-family: inherit;
                margin-bottom: 10px;
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
              }

              .password-input:focus {
                outline: none;
                border-color: #667eea;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                color: #FFD700;
              }

              .password-input:disabled {
                background: #f5f5f5;
                cursor: not-allowed;
              }

              .password-error {
                color: #e74c3c;
                font-size: 13px;
                margin: 0;
                text-align: center;
              }

              .password-modal-footer {
                padding: 20px;
                display: flex;
                gap: 10px;
                background: linear-gradient(135deg, #FFD700 0%, #FFD700 100%);
                border-top: 1px solid #e0e0e0;
              }

              .cancel-btn,
              .confirm-btn {
                flex: 1;
                padding: 12px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
              }

              .cancel-btn {
                background: #e0e0e0;
                color: #333;
              }

              .cancel-btn:hover:not(:disabled) {
                background: #d0d0d0;
              }

              .confirm-btn {
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                color: #ffd700 ;
              }

              .confirm-btn:hover:not(:disabled) {
                transform: translateY(-2px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
              }

              .cancel-btn:disabled,
              .confirm-btn:disabled {
                opacity: 0.6;
                cursor: not-allowed;
              }
            `})]})})]})},Wallet=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState(null),[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState("20"),[lr,cr]=reactExports.useState([]),[ur,dr]=reactExports.useState(null),[fr,xr]=reactExports.useState(!1),[yr,_r]=reactExports.useState(ar),[Sr,jr]=reactExports.useState(""),[Dr,Ir]=reactExports.useState([]),[Mr,Or]=reactExports.useState(!1),[Lr,Fr]=reactExports.useState(""),[Vr,Zr]=reactExports.useState(""),[Hr,Yr]=reactExports.useState(null),[eo,io]=reactExports.useState(!1),[uo,so]=reactExports.useState(""),[no,po]=reactExports.useState(!1),[co,lo]=reactExports.useState(""),[ao,xo]=reactExports.useState(!1),[_o,Po]=reactExports.useState(""),[Oo,So]=reactExports.useState(""),[Ao,zo]=reactExports.useState(""),[Ro,Go]=reactExports.useState([]),[Qo,Vo]=reactExports.useState(!1),[nl,fl]=reactExports.useState(!1),Bl=reactExports.useRef(null),Gl=()=>new Date().toISOString().split("T")[0],[Tl,Pc]=reactExports.useState({id_chungloai:"",loai:"VANG",soluong:1,ngaymua:Gl(),gia_mua:""}),mc=gl=>gl*Math.PI/180,Hc=(gl,Ql,ql,wc)=>{const rl=mc(ql-gl),il=mc(wc-Ql),hl=Math.sin(rl/2)*Math.sin(rl/2)+Math.cos(mc(gl))*Math.cos(mc(ql))*Math.sin(il/2)*Math.sin(il/2);return 6371*(2*Math.atan2(Math.sqrt(hl),Math.sqrt(1-hl)))},Vl=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(gl=>{dr({lat:gl.coords.latitude,long:gl.coords.longitude})},gl=>{console.warn("Khng ly c v tr:",gl.message),dr(null)},{enableHighAccuracy:!0,timeout:5e3})};reactExports.useEffect(()=>{if(!ur||!ar||nr.length===0){cr(nr);return}const gl=Number(ar),Ql=nr.filter(ql=>{if(!ql.vitri_location)return!1;try{const wc=JSON.parse(ql.vitri_location);return Array.isArray(wc)?wc.some(Il=>Hc(ur.lat,ur.long,Il.lat,Il.long)<=gl):!1}catch{return!1}});cr(Ql)},[ar,nr,ur]),reactExports.useEffect(()=>{const gl=localStorage.getItem("accountInfo");if(!gl){tr("/dang-ky-tai-khoan");return}er(JSON.parse(gl)),logUserInfo("Trang Mua vng - Wallet.jsx"),Vl()},[tr]),reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/list_nha_vang").then(gl=>gl.json()).then(gl=>{let Ql=Array.isArray(gl)?gl:Array.isArray(gl.data)?gl.data:[];const ql={};Ql.forEach(Il=>{const rl=Il.name_nhavang,il=Number(Il.gia_hien_tai)||0;(!ql[rl]||il>ql[rl].gia_hien_tai)&&(ql[rl]=Il)});const wc=Object.values(ql);ir(wc)}).catch(()=>ir([]))},[]),reactExports.useEffect(()=>{if(yr==="ALL"||!ur||nr.length===0){Ir(nr);return}const gl=Number(yr),Ql=nr.filter(ql=>{if(!ql.vitri_location)return!1;try{const wc=JSON.parse(ql.vitri_location);return Array.isArray(wc)?wc.some(Il=>Hc(ur.lat,ur.long,Number(Il.lat),Number(Il.long))<=gl):!1}catch{return!1}});Ir(Ql)},[yr,nr,ur]),reactExports.useEffect(()=>{if(!Hn)return;const gl=`transactions_${Hn.username}`,Ql=localStorage.getItem(gl);sr(Ql?JSON.parse(Ql):[])},[Hn]);const Jc=gl=>{const{name:Ql,value:ql}=gl.target;(Ql==="soluong"||Ql==="gia_mua")&&ql!==""&&!/^\d+$/.test(ql)||(Pc(wc=>({...wc,[Ql]:ql})),Ql==="id_chungloai"&&lo(""))},Yl=gl=>{const Ql=gl.target.value;if(zo(Ql),Bl.current&&clearTimeout(Bl.current),!Ql.trim()){Go([]),fl(!1);return}Vo(!0),Bl.current=setTimeout(async()=>{try{const wc=await(await fetch(`https://api_gold.thinkdiff.us/api/vi/find/${Ql}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();(wc.status==="ok"||wc.status==="success")&&wc.data&&Array.isArray(wc.data)?(Go(wc.data),fl(!0)):(Go([]),fl(!1))}catch(ql){console.error("Li tm kim ti khon:",ql),Go([]),fl(!1)}finally{Vo(!1)}},500)},ic=gl=>{Yr(gl),Or(!0),Fr(""),Zr("")},cc=async()=>{if(Zr(""),!Lr.trim()){Zr("Vui lng nhp mt khu");return}io(!0);try{const gl=new FormData;if(gl.append("id_taikhoan",Hr.id_thongke_taikhoan),gl.append("password",Lr),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:gl})).ok){const ql={email:Hr.email,username:Hr.id_thongke_taikhoan,id_taikhoan:Hr.id_thongke_taikhoan,id_thongke_taikhoan:Hr.id_thongke_taikhoan,password:Lr,ip_address:Hn?.ip_address||""};er(ql),localStorage.setItem("accountInfo",JSON.stringify(ql)),zo(""),Go([]),fl(!1),Or(!1),Yr(null),Fr("")}else Zr("Mt khu khng chnh xc")}catch{Zr("C li xy ra, vui lng th li")}finally{io(!1)}},Xc=gl=>{if(gl.preventDefault(),so(""),po(!1),!Tl.id_chungloai){lo(" Vui lng chn nh vng");return}const Ql=Number(Tl.soluong);if(isNaN(Ql)||Ql<=0||!Tl.gia_mua){so("Vui lng nhp y  thng tin hp l");return}Po(""),So(""),xo(!0)},Sc=async()=>{if(!_o.trim()){So("Vui lng nhp mt khu");return}io(!0);try{const gl=new FormData;if(gl.append("id_taikhoan",Hn.id_thongke_taikhoan),gl.append("password",_o),!(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:gl})).ok){So("Mt khu khng chnh xc"),io(!1);return}er(ql=>({...ql,password:_o})),xo(!1),Oc()}catch{So("C li xy ra, vui lng th li")}finally{io(!1)}},Oc=async()=>{io(!0),so("");try{const gl=new FormData;gl.append("email",Hn.email),gl.append("id_taikhoan",Hn.username),gl.append("id_thongke_taikhoan",Hn.id_thongke_taikhoan),gl.append("password",Hn.password),gl.append("id_chungloai",Tl.id_chungloai),gl.append("loai",Tl.loai),gl.append("soluong",Number(Tl.soluong)),gl.append("ngaymua",Tl.ngaymua),gl.append("gia_mua",Number(Tl.gia_mua)),gl.append("location",Hn.location||'{"lat":0,"long":0}'),gl.append("ip_address",Hn.ip_address);const Ql=await fetch("https://api_gold.thinkdiff.us/api/vi/mua",{method:"POST",body:gl}),ql=await Ql.json();if(!Ql.ok)throw new Error(ql.message||"Mua tht bi");const wc={...ql,vi_id:Date.now()},Il=`transactions_${Hn.username}`,rl=JSON.parse(localStorage.getItem(Il))||[],il=[wc,...rl];localStorage.setItem(Il,JSON.stringify(il)),sr(il),po(!0),Pc({id_chungloai:"",loai:"VANG",soluong:1,ngaymua:Gl(),gia_mua:""})}catch(gl){so(gl.message)}finally{io(!1)}};return Hn?jsxRuntimeExports.jsxs("div",{className:"wallet-container",children:[jsxRuntimeExports.jsxs("div",{className:"wallet-card",children:[jsxRuntimeExports.jsx("h1",{children:" Mua vng / bc"}),jsxRuntimeExports.jsxs("div",{className:"search-account-section",style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"2px solid #f0f0f0"},children:[jsxRuntimeExports.jsx("h3",{style:{marginBottom:"15px",color:"#FFD700"},children:" Tm kim ti khon khc"}),jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Nhp email hoc tn ti khon",value:Ao,onChange:Yl,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box",marginBottom:"10px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)",color:"yellow"}}),Qo&&jsxRuntimeExports.jsx("p",{style:{fontSize:"13px",color:"#666",marginTop:"5px"},children:" ang tm kim..."}),nl&&Ro.length>0&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"linear-gradient(135deg, #d6d632 0%, #FFD700 100%)",border:"1px solid #ddd",borderRadius:"8px",maxHeight:"300px",overflowY:"auto",zIndex:100,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginTop:"5px"},children:Ro.map((gl,Ql)=>jsxRuntimeExports.jsxs("div",{onClick:()=>ic(gl),style:{padding:"12px",borderBottom:Ql<Ro.length-1?"1px solid #f0f0f0":"none",cursor:"pointer",transition:"background-color 0.2s",backgroundColor:"#1e293b "},children:[jsxRuntimeExports.jsxs("div",{style:{fontWeight:"600",color:"#ffd700",marginBottom:"3px"},children:[" ",gl.id_thongke_taikhoan]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",color:"lightcoral"},children:[" ",gl.email]})]},Ql))}),nl&&Ro.length===0&&Ao&&!Qo&&jsxRuntimeExports.jsx("p",{style:{fontSize:"13px",color:"#e74c3c",marginTop:"5px"},children:" Khng tm thy ti khon"})]})]}),Hn&&jsxRuntimeExports.jsxs("div",{style:{padding:"15px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #FFD700",borderRight:"4px solid #FFD700"},children:[jsxRuntimeExports.jsx("p",{style:{margin:"0 0 5px 0",color:"#FFD700",fontSize:"15px"},children:jsxRuntimeExports.jsx("strong",{children:" V hin ti:"})}),jsxRuntimeExports.jsxs("p",{style:{margin:"0",color:"lightgreen",fontSize:"15px",fontWeight:"500"},children:[" ",Hn.username]})]}),jsxRuntimeExports.jsx("h2",{style:{marginTop:"30px",marginBottom:"20px",color:"#FFD700"},children:" Chi tit giao dch"}),jsxRuntimeExports.jsxs("form",{onSubmit:Xc,className:"wallet-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Khong cch & Nh vng"}),jsxRuntimeExports.jsx("div",{onClick:()=>{_r(ar),jr(Tl.id_chungloai),xr(!0)},style:{padding:"12px",border:"2px solid #FFD700",borderRadius:"8px",cursor:"pointer",background:"#1a1a1a",color:"#FFD700"},children:Tl.id_chungloai?` ${Tl.id_chungloai}  ${ar==="ALL"?"Th gii":`${ar} km`}`:" Chn khong cch & nh vng"}),co&&jsxRuntimeExports.jsx("p",{className:"error-text",children:co})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Loi sn phm"}),jsxRuntimeExports.jsxs("select",{name:"loai",value:Tl.loai,onChange:Jc,children:[jsxRuntimeExports.jsx("option",{value:"VANG",children:"VNG"}),jsxRuntimeExports.jsx("option",{value:"BAC",children:"BC"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" S lng (ch)"}),jsxRuntimeExports.jsx("input",{type:"text",name:"soluong",value:Tl.soluong,onChange:Jc,placeholder:"Nhp s lng"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Ngy mua"}),jsxRuntimeExports.jsx("input",{type:"date",name:"ngaymua",value:Tl.ngaymua,onChange:Jc,className:"date-input",onClick:gl=>{gl.target.showPicker?.()},onKeyDown:gl=>gl.preventDefault()})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Gi mua (VND)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"gia_mua",value:Tl.gia_mua,onChange:Jc,placeholder:"Nhp gi mua",min:"0"})]}),uo&&jsxRuntimeExports.jsxs("p",{className:"error-text",children:[" ",uo]}),no&&jsxRuntimeExports.jsx("p",{className:"success-text",children:" Mua thnh cng"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"purchase-btn",disabled:eo,children:eo?" ang x l...":" Mua ngay"})]}),jsxRuntimeExports.jsxs("div",{className:"button-group",children:[jsxRuntimeExports.jsx("a",{href:`/#/vi/${Hn?.username}`,className:"back-btn-custom",children:" Quay li"}),jsxRuntimeExports.jsx("a",{href:"/#/dang-ky-tai-khoan",className:"signup-btn-custom",children:"ng k v mi "})]})]}),Mr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{Or(!1),Yr(null),Fr(""),Zr("")},children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:gl=>gl.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Xc nhn chuyn ti khon"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0},onClick:()=>{Or(!1),Yr(null),Fr(""),Zr("")},children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hr?.id_thongke_taikhoan})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Lr,onChange:gl=>Fr(gl.target.value),onKeyPress:gl=>{gl.key==="Enter"&&cc()},disabled:eo,autoFocus:!0}),Vr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Vr})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>{Or(!1),Yr(null),Fr(""),Zr("")},disabled:eo,children:"ng"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:eo?.6:1},onClick:cc,disabled:eo,children:eo?" ang x l...":" Xc nhn"})]})]})}),ao&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{xo(!1),Po(""),So("")},children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:gl=>gl.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Xc nhn mua"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0},onClick:()=>{xo(!1),Po(""),So("")},children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn?.username})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:_o,onChange:gl=>Po(gl.target.value),onKeyDown:gl=>{gl.key==="Enter"&&Sc()},disabled:eo,autoFocus:!0}),Oo&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Oo})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>{xo(!1),Po(""),So("")},disabled:eo,children:"ng"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:eo?.6:1},onClick:Sc,disabled:eo,children:eo?" ang x l...":" Xc nhn"})]})]})}),fr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>xr(!1),children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",width:"90%",maxWidth:"450px",overflow:"hidden"},onClick:gl=>gl.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{style:{padding:"20px",fontWeight:"600",color:"#333"},children:" Lc theo khong cch"}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",background:"#1a1a1a"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#FFD700",fontSize:"14px"},children:"Khong cch"}),jsxRuntimeExports.jsxs("select",{value:yr,onChange:gl=>_r(gl.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"2px solid #FFD700",borderRadius:"8px",color:"#FFD700"},children:[jsxRuntimeExports.jsx("option",{value:"ALL",children:"Th gii"}),jsxRuntimeExports.jsx("option",{value:"10",children:"10 km"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20 km"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30 km"}),jsxRuntimeExports.jsx("option",{value:"40",children:"40 km"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50 km"}),jsxRuntimeExports.jsx("option",{value:"100",children:"100 km"})]}),jsxRuntimeExports.jsx("label",{style:{color:"#FFD700",fontSize:"14px"},children:"Nh vng trong phm vi"}),jsxRuntimeExports.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:Dr.map(gl=>jsxRuntimeExports.jsxs("div",{onClick:()=>jr(gl.name_nhavang),style:{padding:"10px",marginBottom:"8px",borderRadius:"6px",cursor:"pointer",background:Sr===gl.name_nhavang?"#FFD700":"#2a2a2a",color:Sr===gl.name_nhavang?"#333":"#FFD700"},children:[" ",gl.name_nhavang]},gl.id))})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"15px",display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"gray",color:"#FFD700",transition:"all 0.3s"},onClick:()=>xr(!1),children:"ng"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s"},onClick:()=>{or(yr),Pc(gl=>({...gl,id_chungloai:Sr})),lo(""),xr(!1)},children:" p dng"})]})]})})]}):null},ProfitLossDetail=()=>{const tr=useNavigate(),{username:Hn}=useParams(),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(0),[cr,ur]=reactExports.useState(!0),[dr,fr]=reactExports.useState(""),[xr,yr]=reactExports.useState(1),_r=10,Sr={padding:"6px 10px",border:"1.5px solid #FFD700",borderRadius:"6px",background:"none",color:"#FFD700",fontSize:"13px",fontWeight:600,cursor:"pointer",transition:"all 0.25s ease"},jr=co=>(co=co.toLowerCase(),co.includes("windows nt")?"Windows":co.includes("mac os x")&&!co.includes("iphone")?"MacOS":co.includes("iphone")||co.includes("ipad")?"iOS":co.includes("android")?"Android":co.includes("linux")?"Linux":"Unknown"),Dr=co=>(co=co.toLowerCase(),co.includes("edg")?"Edge":co.includes("chrome")?"Chrome":co.includes("safari")&&!co.includes("chrome")?"Safari":co.includes("firefox")?"Firefox":co.includes("opera")||co.includes("opr")?"Opera":"Unknown"),[Ir,Mr]=reactExports.useState(!1),[Or,Lr]=reactExports.useState(""),[Fr,Vr]=reactExports.useState(""),[Zr,Hr]=reactExports.useState(!1);reactExports.useEffect(()=>{try{const co=navigator.userAgent,lo=jr(co),ao=Dr(co);logUserInfo("Trang thng tin v - ProfitLossDetail.jsx",{os:lo,browser:ao})}catch(co){console.error(" logUserInfo error:",co)}},[]),reactExports.useEffect(()=>{(async()=>{try{ur(!0),fr(""),rr([]),ar(0);const lo=localStorage.getItem("accountInfo");if(!lo){if(Hn){Mr(!0),ur(!1);return}tr("/dang-ky-tai-khoan");return}const ao=JSON.parse(lo);if(Hn&&ao.username!==Hn){console.warn(`Username mismatch: URL=${Hn}, localStorage=${ao.username}`),Mr(!0),ur(!1);return}if(nr(ao),!ao.password){fr(" Li: Mt khu khng c lu. Vui lng ng nhp li."),ur(!1);return}await Yr(ao)}catch{fr("C li xy ra khi ti d liu"),ur(!1)}})()},[tr,Hn]);const Yr=async co=>{try{console.log(" Thng tin ti khon:",{username:co.username,id_thongke_taikhoan:co.id_thongke_taikhoan,hasPassword:!!co.password,passwordLength:co.password?.length||0});const lo=new FormData;lo.append("id_taikhoan",co.id_thongke_taikhoan||co.username),lo.append("password",co.password);const ao=await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:lo});if(!ao.ok){ao.status===401?fr(" Xc thc khng hp l. Vui lng ng nhp li."):fr(`Li API: ${ao.status} ${ao.statusText}`),ur(!1);return}const xo=await ao.json();if(xo.status==="success"&&xo.data){const _o=[...xo.data].sort((Ao,zo)=>{const Ro=Number(Ao.vi_id)||0;return(Number(zo.vi_id)||0)-Ro}),Po={},Oo=[];_o.forEach(Ao=>{const zo=`${Ao.chung_loai}_${Ao.ngay_mua}_${Ao.loai}`,Ro=Number(Ao.gia_hien_tai)||0;(!Po[zo]||Ro>Po[zo])&&(Po[zo]=Ro)}),_o.forEach(Ao=>{const zo=`${Ao.chung_loai}_${Ao.ngay_mua}_${Ao.loai}`,Ro=Number(Ao.gia_hien_tai)||0;Po[zo]===Ro&&(Oo.push(Ao),delete Po[zo])}),rr(Oo),ar(xo.tong_loi_nhuan||0);const So=Oo.reduce((Ao,zo)=>Ao+Number(zo.gia_mua)*Number(zo.soluong),0);lr(So)}else fr(xo.message||xo.error||"Khng th ly d liu")}catch{fr("C li xy ra khi ti d liu")}finally{ur(!1)}},eo=async()=>{if(!Or.trim()){Vr("Vui lng nhp mt khu");return}Hr(!0);try{const co=new FormData;if(co.append("id_taikhoan",Hn),co.append("password",Or),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:co})).ok){const ao={email:"",username:Hn,id_taikhoan:Hn,id_thongke_taikhoan:Hn,password:Or,ip_address:""};localStorage.setItem("accountInfo",JSON.stringify(ao)),nr(ao),Mr(!1),Lr(""),Vr(""),await Yr(ao)}else Vr("Mt khu khng chnh xc")}catch{Vr("C li xy ra, vui lng th li")}finally{Hr(!1)}},io=co=>Number(co).toLocaleString("vi-VN"),uo=co=>co>0?"green":co<0?"red":"gray",so=co=>co>0?"LI":co<0?"L":"HA VN";if(cr)return jsxRuntimeExports.jsx("div",{className:"profit-loss-container",children:jsxRuntimeExports.jsx("div",{className:"profit-loss-card",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",padding:30,color:"white"},children:" ang ti d liu..."})})});const no=Math.ceil(ir.length/_r),po=ir.slice((xr-1)*_r,xr*_r);return jsxRuntimeExports.jsxs("div",{className:"profit-loss-container",children:[jsxRuntimeExports.jsxs("div",{className:"profit-loss-card",children:[jsxRuntimeExports.jsxs("div",{className:"profit-loss-header",children:[jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsx("div",{className:"header-left",children:jsxRuntimeExports.jsx("button",{className:"back-btn",onClick:()=>tr("/danh-sach-vi"),children:" Quay li"})}),jsxRuntimeExports.jsx("div",{className:"header-center",children:jsxRuntimeExports.jsx("h1",{children:" Chi tit li l"})}),jsxRuntimeExports.jsxs("div",{className:"header-right",children:["  ",jsxRuntimeExports.jsx("button",{className:"action-btn",onClick:()=>tr("/wallet-buy"),children:"Thm v Vng / Bc "})]})]}),jsxRuntimeExports.jsx("div",{className:"account-info",children:jsxRuntimeExports.jsxs("span",{children:[" ",er?.username]})})]}),dr&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[jsxRuntimeExports.jsxs("p",{children:[" ",dr]}),dr.includes("Xc thc")&&jsxRuntimeExports.jsx("button",{className:"retry-login-btn",onClick:()=>tr(`/danh-sach-vi/${Hn}`),style:{marginTop:"12px",padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s"},onMouseEnter:co=>{co.target.style.background="#764ba2",co.target.style.transform="translateY(-2px)"},onMouseLeave:co=>{co.target.style.background="#667eea",co.target.style.transform="translateY(0)"},children:" ng nhp li"})]}),jsxRuntimeExports.jsxs("div",{className:"total-profit-section",children:[jsxRuntimeExports.jsxs("div",{className:`total-profit-box ${sr>0?"profit":sr<0?"loss":"neutral"}`,children:[jsxRuntimeExports.jsx("h3",{children:" Tng li nhun"}),jsxRuntimeExports.jsxs("p",{className:"total-value",children:[io(sr)," VND"]}),jsxRuntimeExports.jsx("span",{className:"status-label",children:so(sr)})]}),jsxRuntimeExports.jsxs("div",{className:"total-profit-box invested",children:[jsxRuntimeExports.jsx("h3",{children:" Tng tin u t"}),jsxRuntimeExports.jsxs("p",{className:"total-value",children:[io(or)," VND"]})]})]}),po.length===0?jsxRuntimeExports.jsx("p",{className:"no-data",children:"Khng c giao dch no"}):jsxRuntimeExports.jsxs("div",{className:"profit-loss-table-wrapper",children:[jsxRuntimeExports.jsxs("table",{className:"profit-loss-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:" Nh vng"}),jsxRuntimeExports.jsx("th",{children:" ID V"}),jsxRuntimeExports.jsx("th",{children:" Gi mua"}),jsxRuntimeExports.jsx("th",{children:" Gi hin ti"}),jsxRuntimeExports.jsx("th",{children:" S lng"}),jsxRuntimeExports.jsx("th",{children:" Loi"}),jsxRuntimeExports.jsx("th",{children:" Ngy mua"}),jsxRuntimeExports.jsx("th",{children:" Li/L (1 n v)"}),jsxRuntimeExports.jsx("th",{children:" Tng li/l"}),jsxRuntimeExports.jsx("th",{children:" Trng thi"}),jsxRuntimeExports.jsx("th",{children:" Sa"})]})}),jsxRuntimeExports.jsx("tbody",{children:po.map((co,lo)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("strong",{children:co.chung_loai})}),jsxRuntimeExports.jsx("td",{children:co.vi_id??"null"}),jsxRuntimeExports.jsxs("td",{children:[io(co.gia_mua)," VND"]}),jsxRuntimeExports.jsx("td",{children:co.gia_hien_tai>0?io(co.gia_hien_tai)+" VND":"N/A"}),jsxRuntimeExports.jsx("td",{children:co.soluong}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("span",{className:`type-badge ${co.loai.toLowerCase()}`,children:co.loai})}),jsxRuntimeExports.jsx("td",{children:new Date(co.ngay_mua).toLocaleDateString("vi-VN")}),jsxRuntimeExports.jsxs("td",{className:`${uo(co.lai_lo_1_don_vi)}-text`,children:[io(co.lai_lo_1_don_vi)," VND"]}),jsxRuntimeExports.jsx("td",{className:`${uo(co.tong_lai_lo)}-text`,children:jsxRuntimeExports.jsxs("strong",{children:[io(co.tong_lai_lo)," VND"]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("span",{className:`status-badge ${uo(co.tong_lai_lo)}`,children:so(co.tong_lai_lo)})}),jsxRuntimeExports.jsx("td",{children:co.vi_id?jsxRuntimeExports.jsx("button",{className:"action-btn",onClick:()=>{tr(`/vi/${er?.username||Hn}/sua?vi_id=${co.vi_id}`,{state:{id_chungloai:co.chung_loai,loai_san_pham:co.loai,gia_mua:co.gia_mua,soluong:co.soluong,ngaymua:co.ngay_mua}})},children:"Sa"}):jsxRuntimeExports.jsx("span",{style:{color:"#aaa"},children:"N/A"})})]},lo))})]}),jsxRuntimeExports.jsxs("div",{className:"pagination",style:{marginTop:"20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",flexWrap:"wrap",paddingBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{style:Sr,onClick:()=>yr(co=>co-1),onMouseEnter:co=>{co.target.style.background="#FFD700",co.target.style.color="#000"},onMouseLeave:co=>{co.target.style.background="none",co.target.style.color="#FFD700"},disabled:xr===1,children:" Trc"}),[...Array(no)].map((co,lo)=>{const ao=lo+1;return jsxRuntimeExports.jsx("button",{onClick:()=>yr(ao),style:{fontWeight:xr===ao?"bold":"normal",background:xr===ao?"#FFD700":"#333",color:xr===ao?"#000":"#fff",borderRadius:"6px",padding:"6px 10px",border:"none",cursor:"pointer"},children:ao},ao)}),jsxRuntimeExports.jsx("button",{style:Sr,onClick:()=>yr(co=>co+1),onMouseEnter:co=>{co.target.style.background="#FFD700",co.target.style.color="#000"},onMouseLeave:co=>{co.target.style.background="none",co.target.style.color="#FFD700"},disabled:xr===no,children:"Sau "})]})]})]}),Ir&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Mr(!1),children:jsxRuntimeExports.jsxs("div",{className:"modal-content",style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:co=>co.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Nhp mt khu"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0,textAlign:"right"},onClick:()=>Mr(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"#1a1a1a"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Or,onChange:co=>Lr(co.target.value),onKeyPress:co=>{co.key==="Enter"&&eo()},disabled:Zr,autoFocus:!0}),Fr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Fr})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>Mr(!1),disabled:Zr,children:"Hy"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s",opacity:Zr?.6:1},onClick:eo,disabled:Zr,children:Zr?" ang x l...":" Xc nhn"})]})]})})]})},normalizeDate=tr=>{if(!tr)return"";const Hn=new Date(tr);return isNaN(Hn.getTime())?"":Hn.toISOString().slice(0,10)},EditWallet=()=>{const tr=useNavigate(),{username:Hn}=useParams(),[er]=useSearchParams(),ir=useLocation().state||{},[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState(!1),[fr,xr]=reactExports.useState({vi_id:er.get("vi_id")||"",id_chungloai:ir.id_chungloai||"",gia_mua:ir.gia_mua||"",soluong:ir.soluong||"",loai_san_pham:ir.loai_san_pham||"VANG",ngaymua:normalizeDate(ir.ngaymua),khoang_cach:ir.khoang_cach||20}),[yr,_r]=reactExports.useState(String(fr.khoang_cach||20)),[Sr,jr]=reactExports.useState(fr.id_chungloai||""),[Dr,Ir]=reactExports.useState([]),Mr=(So,Ao,zo,Ro)=>{const Qo=(zo-So)*Math.PI/180,Vo=(Ro-Ao)*Math.PI/180,nl=Math.sin(Qo/2)*Math.sin(Qo/2)+Math.cos(So*Math.PI/180)*Math.cos(zo*Math.PI/180)*Math.sin(Vo/2)*Math.sin(Vo/2);return 6371*(2*Math.atan2(Math.sqrt(nl),Math.sqrt(1-nl)))};reactExports.useEffect(()=>{if(yr==="ALL"||!lr||ar.length===0){Ir(ar);return}const So=Number(yr),Ao=ar.filter(zo=>{if(!zo.vitri_location)return!1;try{const Ro=JSON.parse(zo.vitri_location);return Array.isArray(Ro)?Ro.some(Go=>Mr(lr.lat,lr.long,Number(Go.lat),Number(Go.long))<=So):!1}catch{return!1}});Ir(Ao)},[yr,ar,lr]);const Or=ir.id_chungloai||"";reactExports.useEffect(()=>{logUserInfo("Trang Chnh sa v - EditWallet.jsx")},[]),reactExports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(So=>{cr({lat:So.coords.latitude,long:So.coords.longitude})},()=>cr(null),{enableHighAccuracy:!0,timeout:5e3})},[]);const[Lr,Fr]=reactExports.useState(!1),[Vr,Zr]=reactExports.useState(""),[Hr,Yr]=reactExports.useState(""),[eo,io]=reactExports.useState(!1),[uo,so]=reactExports.useState(!1),[no,po]=reactExports.useState(""),[co,lo]=reactExports.useState("");reactExports.useEffect(()=>{const So=localStorage.getItem("accountInfo");So&&sr(JSON.parse(So))},[]),reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/list_nha_vang").then(So=>So.json()).then(So=>{const Ao=Array.isArray(So)?So:So.data||[];or(Ao)})},[]);const ao=ar.find(So=>So.name_nhavang===Or)?.name_nhavang||Or,xo=So=>{const{name:Ao,value:zo}=So.target;xr(Ro=>({...Ro,[Ao]:zo}))},_o=()=>fr.id_chungloai?!fr.soluong||Number(fr.soluong)<=0?"S lng khng hp l":!fr.gia_mua||Number(fr.gia_mua)<=0?"Gi mua khng hp l":fr.ngaymua?null:"Vui lng chn ngy mua":"Vui lng chn nh vng",Po=So=>{So.preventDefault();const Ao=_o();if(Ao){po(Ao);return}Fr(!0)},Oo=async()=>{if(!Vr){Yr("Vui lng nhp mt khu");return}io(!0),Yr("");try{const So=new FormData;So.append("vi_id",fr.vi_id),So.append("id_taikhoan",rr.id_thongke_taikhoan),So.append("password",Vr),So.append("soluong",fr.soluong),So.append("gia_mua",fr.gia_mua),So.append("id_chungloai",fr.id_chungloai),So.append("loai_san_pham",fr.loai_san_pham),So.append("ngaymua",fr.ngaymua),So.append("location",rr.location||'{"lat":0,"long":0}');const Ao=await fetch(`https://api_gold.thinkdiff.us/api/vi/sua/${fr.vi_id}`,{method:"POST",body:So}),zo=await Ao.json();if(!Ao.ok||zo.status==="error"){Yr(zo.message||"Mt khu khng ng");return}lo(" Cp nht v thnh cng"),Fr(!1),setTimeout(()=>tr(`/vi/${Hn}`),800)}catch{Yr("Li kt ni server")}finally{io(!1)}};return jsxRuntimeExports.jsxs("div",{className:"gold-page",children:[jsxRuntimeExports.jsxs("div",{className:"gold-card",children:[jsxRuntimeExports.jsxs("h1",{children:[" Chnh sa V - ",ao]}),jsxRuntimeExports.jsxs("form",{onSubmit:Po,className:"gold-form",children:[jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"ID V"}),jsxRuntimeExports.jsx("input",{value:fr.vi_id,disabled:!0})]}),jsxRuntimeExports.jsx("div",{className:"gold-field",children:jsxRuntimeExports.jsx("label",{children:"Khong cch v Nh vng"})}),jsxRuntimeExports.jsx("div",{onClick:()=>{_r(String(fr.khoang_cach||20)),jr(fr.id_chungloai),dr(!0)},style:{padding:"12px",border:"2px solid #FFD700",borderRadius:"8px",cursor:"pointer",background:"#1a1a1a",color:"#FFD700"},children:fr.id_chungloai?` ${fr.id_chungloai}  ${fr.khoang_cach==="ALL"?"Th gii":`${fr.khoang_cach} km`}`:" Chn khong cch & nh vng"}),fr.id_chungloai!==Or&&jsxRuntimeExports.jsx("div",{className:"gold-warning",children:" Bn ang thay i nh vng ca v"}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"S lng"}),jsxRuntimeExports.jsx("input",{type:"number",name:"soluong",value:fr.soluong,onChange:xo})]}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"Loi sn phm"}),jsxRuntimeExports.jsxs("select",{name:"loai_san_pham",value:fr.loai_san_pham,onChange:xo,children:[jsxRuntimeExports.jsx("option",{value:"VANG",children:"Vng"}),jsxRuntimeExports.jsx("option",{value:"BAC",children:"Bc"})]})]}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"Gi mua"}),jsxRuntimeExports.jsx("input",{type:"number",name:"gia_mua",value:fr.gia_mua,onChange:xo})]}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"Ngy mua"}),jsxRuntimeExports.jsx("input",{type:"date",name:"ngaymua",value:fr.ngaymua,onChange:xo,onClick:So=>{So.target.showPicker?.()},onKeyDown:So=>So.preventDefault()})]}),no&&jsxRuntimeExports.jsxs("div",{className:"gold-error",children:[" ",no]}),co&&jsxRuntimeExports.jsx("div",{className:"gold-success",children:co}),jsxRuntimeExports.jsxs("div",{className:"gold-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>tr(-1),children:"Hy"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:uo,children:"Xc nhn chnh sa"})]})]})]}),Lr&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Fr(!1),children:jsxRuntimeExports.jsxs("div",{className:"modal-content",style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:So=>So.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Nhp mt khu xc nhn sa"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0,textAlign:"right"},onClick:()=>Fr(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Vr,onChange:So=>Zr(So.target.value),onKeyPress:So=>{So.key==="Enter"&&Oo()},disabled:eo,autoFocus:!0}),Hr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Hr})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>Fr(!1),disabled:eo,children:"Hy"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:eo?.6:1},onClick:Oo,disabled:eo,children:eo?" ang x l...":" Xc nhn"})]})]})}),ur&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:So=>{So.target===So.currentTarget&&dr(!1)},children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",width:"90%",maxWidth:"450px",overflow:"hidden"},onClick:So=>So.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{style:{padding:"20px",fontWeight:600},children:" Khong cch & Nh vng"}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",background:"#1a1a1a",maxHeight:"300px",overflowY:"auto",marginTop:"8px"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#FFD700"},children:"Khong cch"}),jsxRuntimeExports.jsxs("select",{value:yr,onChange:So=>_r(So.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"2px solid #FFD700",borderRadius:"8px",color:"#FFD700",background:"#000"},children:[jsxRuntimeExports.jsx("option",{value:"ALL",children:"Th gii"}),jsxRuntimeExports.jsx("option",{value:"10",children:"10 km"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20 km"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30 km"}),jsxRuntimeExports.jsx("option",{value:"40",children:"40 km"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50 km"}),jsxRuntimeExports.jsx("option",{value:"100",children:"100 km"})]}),Dr.map(So=>jsxRuntimeExports.jsxs("div",{onClick:()=>jr(So.name_nhavang),style:{padding:"10px",borderRadius:"8px",marginBottom:"8px",cursor:"pointer",fontWeight:600,background:Sr===So.name_nhavang?"#FFD700":"#2a2a2a",color:Sr===So.name_nhavang?"#333":"#FFD700"},children:[" ",So.name_nhavang]},So.id))]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",padding:"15px",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"gray",color:"#FFD700",transition:"all 0.3s"},onClick:()=>dr(!1),children:"Hy"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s"},onClick:()=>{xr(So=>({...So,khoang_cach:yr,id_chungloai:Sr})),dr(!1)},children:"p dng"})]})]})})]})};function ReportComex(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ReportComexChart,{})})}const ReportTable=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]);if(reactExports.useEffect(()=>{(async()=>{Hn(!0),nr(null);try{let ur=new Date,dr=null;for(;!dr;){const Fr=String(ur.getDate()).padStart(2,"0"),Vr=String(ur.getMonth()+1).padStart(2,"0"),Zr=ur.getFullYear(),Hr=`${Fr}_${Vr}_${Zr}`;try{const eo=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Hr}`)).json();if(eo&&Array.isArray(eo.data)&&eo.data.length>0){dr=eo;break}else ur.setDate(ur.getDate()-1)}catch(Yr){console.warn(`Khng th fetch d liu ngy ${Hr}:`,Yr),ur.setDate(ur.getDate()-1)}}if(!dr)throw new Error("Khng tm thy file d liu");const xr=dr.data.reduce((Fr,Vr)=>{const Zr=new Date(Fr.modified_time.split("/").reverse().join("-"));return new Date(Vr.modified_time.split("/").reverse().join("-"))>Zr?Vr:Fr}).link.split("/").pop().replace(".json",""),[yr,_r,Sr,jr,Dr]=xr.split("_").map(Fr=>parseInt(Fr,10)),Ir=getVang247FileUrl(yr,_r,Sr,jr,Dr);if(!Ir)throw new Error("Invalid parameters when building Vang247 file URL");const Mr=await fetchVang247SingleFile(Ir),Or=Mr.data?.data_xau_shfe||[],Lr=Mr.data?.data_xag_shfe||[];rr(Or),ar(Lr)}catch(ur){nr(ur.message||"Li khi ti d liu")}finally{Hn(!1)}})()},[]),tr)return jsxRuntimeExports.jsx("div",{children:"ang ti..."});if(er)return jsxRuntimeExports.jsxs("div",{children:["Li: ",er]});const or={width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",marginBottom:"20px",border:"1px solid #444",borderRadius:"4px"},lr={borderCollapse:"collapse",width:"100%",minWidth:"1200px",fontSize:"14px"};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{padding:"10px"},children:[jsxRuntimeExports.jsx("h2",{children:"Bo co Sn Thng Hi Tng Lai (SHFE)"}),jsxRuntimeExports.jsx("h3",{children:"D liu Vng (XAU SHFE)"}),ir.length===0?jsxRuntimeExports.jsx("div",{children:"Khng c d liu"}):jsxRuntimeExports.jsx("div",{style:or,children:jsxRuntimeExports.jsxs("table",{className:"styled-table",border:"1",cellPadding:"8",style:lr,children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("th",{colSpan:"13",children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff00"},children:ir[0]?new Date(ir[0].crawl_time).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"---"})]})}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Hp ng"}),jsxRuntimeExports.jsx("th",{children:"Gi mua/gi bn"}),jsxRuntimeExports.jsx("th",{children:"Chnh lch"}),jsxRuntimeExports.jsx("th",{children:"Gi gn nht"}),jsxRuntimeExports.jsx("th",{children:"Gii hn gim"}),jsxRuntimeExports.jsx("th",{children:"Gii hn tng"}),jsxRuntimeExports.jsx("th",{children:"Gi thp nht"}),jsxRuntimeExports.jsx("th",{children:"S hp ng m"}),jsxRuntimeExports.jsx("th",{children:"Gi thanh ton trc"}),jsxRuntimeExports.jsx("th",{children:jsxRuntimeExports.jsx("span",{style:{color:"red"},children:"Gi thanh ton"})}),jsxRuntimeExports.jsx("th",{children:"M sn phm"}),jsxRuntimeExports.jsx("th",{children:"Gi tr giao dch"}),jsxRuntimeExports.jsx("th",{children:"Khi lng"})]})]}),jsxRuntimeExports.jsx("tbody",{children:ir.map((cr,ur)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:cr.contract||"---"}),jsxRuntimeExports.jsx("td",{children:cr.bid_ask||"---"}),jsxRuntimeExports.jsx("td",{children:cr.change?Number(cr.change).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.last_price?Number(cr.last_price).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_down?Number(cr.limit_down).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_up?Number(cr.limit_up).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.lowest?Number(cr.lowest).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.open_interest?Number(cr.open_interest).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.prev_settlement?Number(cr.prev_settlement).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.settlement?Number(cr.settlement).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.symbol||"---"}),jsxRuntimeExports.jsx("td",{children:cr.turnover?Number(cr.turnover).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.volume?Number(cr.volume).toLocaleString():"---"})]},ur))})]})}),jsxRuntimeExports.jsx("h3",{children:"D liu Bc (XAG SHFE)"}),sr.length===0?jsxRuntimeExports.jsx("div",{children:"Khng c d liu"}):jsxRuntimeExports.jsx("div",{style:or,children:jsxRuntimeExports.jsxs("table",{className:"styled-table",border:"1",cellPadding:"8",style:lr,children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("th",{colSpan:"13",children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff00"},children:sr[0]?new Date(sr[0].crawl_time).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"N/A"})]})}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Hp ng"}),jsxRuntimeExports.jsx("th",{children:"Gi mua/gi bn"}),jsxRuntimeExports.jsx("th",{children:"Chnh lch"}),jsxRuntimeExports.jsx("th",{children:"Gi gn nht"}),jsxRuntimeExports.jsx("th",{children:"Gii hn gim"}),jsxRuntimeExports.jsx("th",{children:"Gii hn tng"}),jsxRuntimeExports.jsx("th",{children:"Gi thp nht"}),jsxRuntimeExports.jsx("th",{children:"S hp ng m"}),jsxRuntimeExports.jsx("th",{children:"Gi thanh ton trc"}),jsxRuntimeExports.jsx("th",{children:jsxRuntimeExports.jsx("span",{style:{color:"red"},children:"Gi thanh ton"})}),jsxRuntimeExports.jsx("th",{children:"M sn phm"}),jsxRuntimeExports.jsx("th",{children:"Gi tr giao dch"}),jsxRuntimeExports.jsx("th",{children:"Khi lng"})]})]}),jsxRuntimeExports.jsx("tbody",{children:sr.map((cr,ur)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:cr.contract||"---"}),jsxRuntimeExports.jsx("td",{children:cr.bid_ask||"---"}),jsxRuntimeExports.jsx("td",{children:cr.change?Number(cr.change).toLocaleString(void 0,{maximumFractionDigits:1}):"---"}),jsxRuntimeExports.jsx("td",{children:cr.last_price?(Number(cr.last_price)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_down?(Number(cr.limit_down)/1e3).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_up?(Number(cr.limit_up)/1e3).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.lowest?(Number(cr.lowest)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.open_interest?Number(cr.open_interest).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.prev_settlement?(Number(cr.prev_settlement)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.settlement?(Number(cr.settlement)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.symbol||"---"}),jsxRuntimeExports.jsx("td",{children:cr.turnover?(Number(cr.turnover)/1e3).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.volume?Number(cr.volume).toLocaleString():"---"})]},ur))})]})})]})})},SHFEReport=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]);if(reactExports.useEffect(()=>{(async()=>{Hn(!0),nr(null);try{const dr=await fetch("https://api_gold.thinkdiff.us/shfe_luong_luutru");if(!dr.ok)throw new Error("Khng th ti d liu");const fr=await dr.json(),xr=fr.data||fr.chi_so_fomo_vang||[];rr(xr)}catch(dr){nr(dr.message||"Li khi ti d liu")}finally{Hn(!1)}})()},[]),tr)return jsxRuntimeExports.jsx("div",{children:"ang ti..."});if(er)return jsxRuntimeExports.jsxs("div",{children:["Li: ",er]});const sr=ir.filter(ur=>ur.commodity==="GOLD"),ar=ir.filter(ur=>ur.commodity==="SILVER"),or={width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",marginBottom:"30px",border:"1px solid #444",borderRadius:"4px"},lr={borderCollapse:"collapse",width:"100%",minWidth:"1200px",fontSize:"14px"},cr=(ur,dr)=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{children:dr}),ur.length===0?jsxRuntimeExports.jsx("div",{children:"Khng c d liu"}):jsxRuntimeExports.jsx("div",{style:or,children:jsxRuntimeExports.jsxs("table",{className:"styled-table",border:"1",cellPadding:"5",style:lr,children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("th",{colSpan:"6",children:["Cp nht lc:"," ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff00"},children:new Date(ur[0].report_date).toLocaleString("vi-VN",{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Mc thay i"}),jsxRuntimeExports.jsx("th",{children:"Hng ha"}),jsxRuntimeExports.jsx("th",{children:"Lng lu kho"}),jsxRuntimeExports.jsx("th",{children:"Khu vc"}),jsxRuntimeExports.jsx("th",{children:"Kho lu tr"}),jsxRuntimeExports.jsx("th",{children:"Thi gian"})]})]}),jsxRuntimeExports.jsx("tbody",{style:{textAlign:"center"},children:ur.map((fr,xr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:fr.change_val??"---"}),jsxRuntimeExports.jsx("td",{children:fr.commodity??"---"}),jsxRuntimeExports.jsx("td",{children:fr.on_warrant?Number(fr.on_warrant).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:fr.region??"---"}),jsxRuntimeExports.jsx("td",{children:fr.warehouse??"---"}),jsxRuntimeExports.jsx("td",{children:fr.report_date?new Date(fr.report_date).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"---"})]},xr))})]})})]});return jsxRuntimeExports.jsxs("div",{style:{padding:"10px"},children:[jsxRuntimeExports.jsx("h2",{children:"Lng lu tr SHFE"}),cr(sr,"D liu Vng (GOLD SHFE)"),cr(ar,"D liu Bc (SILVER SHFE)")]})};function ComexInventoryPage(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ComexInventoryChart,{})})}const formatDistanceLocale={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},formatDistance=(tr,Hn,er)=>{let nr;const ir=formatDistanceLocale[tr];return typeof ir=="string"?nr=ir:Hn===1?nr=ir.one:nr=ir.other.replace("{{count}}",String(Hn)),er?.addSuffix?er.comparison&&er.comparison>0?nr+" na":nr+" trc":nr},dateFormats={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},formatRelative=(tr,Hn,er,nr)=>formatRelativeLocale[tr],eraValues={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},formattingQuarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},monthValues={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},formattingMonthValues={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},dayValues={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},dayPeriodValues={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},formattingDayPeriodValues={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},ordinalNumber=(tr,Hn)=>{const er=Number(tr),nr=Hn?.unit;if(nr==="quarter")switch(er){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(nr==="day")switch(er){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(nr==="week")return er===1?"th nht":"th "+er;if(nr==="dayOfYear")return er===1?"u tin":"th "+er}return String(er)},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",formattingValues:formattingQuarterValues,defaultFormattingWidth:"wide",argumentCallback:tr=>tr-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide",formattingValues:formattingMonthValues,defaultFormattingWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},parseEraPatterns={any:[/^t/i,/^s/i]},matchQuarterPatterns={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},parseQuarterPatterns={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},matchMonthPatterns={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},parseMonthPatterns={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},matchDayPatterns={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},parseDayPatterns={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},matchDayPeriodPatterns={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},parseDayPeriodPatterns={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:tr=>parseInt(tr,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:tr=>tr+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"wide"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"wide"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},vi={code:"vi",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:1}};Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,TimeScale,index,plugin$1);const API_URL$3="https://api_gold.thinkdiff.us/load_GLD_co_phieu";function formatDateTime$1(tr){const Hn=new Date(tr),er=nr=>String(nr).padStart(2,"0");return`${er(Hn.getDate())}/${er(Hn.getMonth()+1)}/${Hn.getFullYear()} ${er(Hn.getHours())}:${er(Hn.getMinutes())}`}function getMinDateByRange$1(tr,Hn){if(!Hn?.length||tr==="ALL")return null;const er=new Date(Math.max(...Hn.map(nr=>+nr)));switch(tr){case"7D":return new Date(er.getTime()-10080*60*1e3);case"30D":return new Date(er.getTime()-720*60*60*1e3);case"90D":return new Date(er.getTime()-2160*60*60*1e3);case"1Y":return new Date(er.getFullYear()-1,er.getMonth(),er.getDate());default:return null}}function buildRangeCaption$1(tr){if(!tr?.length)return"";const Hn=er=>er.toLocaleDateString("vi-VN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${Hn(tr[0])} - ${Hn(tr[tr.length-1])}`}function formatDateOnly$1(tr){return tr.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function getLatestTimestampFromPayload$1(tr){if(!tr)return null;const Hn=[];return tr.stock_prices?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.stock_volumes?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.options_flow?.forEach(er=>{er.trade_time&&Hn.push(new Date(er.trade_time).getTime())}),Hn.length?new Date(Math.max(...Hn)):null}function ShareChartGold({onlyMain:tr=!1,onlyExtra:Hn=!1}){const[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("7D"),[cr,ur]=reactExports.useState("30D"),[dr,fr]=reactExports.useState(!1),xr=useNavigate();reactExports.useEffect(()=>{let Lr=!1;async function Fr(){try{nr(!0);const Vr=await fetch(API_URL$3);if(!Vr.ok)throw new Error(`HTTP ${Vr.status}`);const Zr=await Vr.json();Lr||ar(Zr?.data?.data||null)}catch(Vr){Lr||rr(Vr.message)}finally{Lr||nr(!1)}}return Fr(),()=>{Lr=!0}},[]);const yr={"7D":"7 ngy","30D":"30 ngy","90D":"90 ngy","1Y":"1 nm",ALL:"Tt c"},_r=reactExports.useMemo(()=>{const Lr=sr?.stock_prices||[];if(!Lr.length)return null;const Fr=Lr.map(eo=>new Date(eo.record_time)),Vr=getMinDateByRange$1(or,Fr),Zr=Vr?Lr.filter(eo=>new Date(eo.record_time)>=Vr):Lr,Hr=Zr.map(eo=>new Date(eo.record_time)),Yr=Zr.map(eo=>eo.close);return{data:{labels:Hr,datasets:[{type:"line",data:Yr,fill:!0,borderColor:"#3fb27f",backgroundColor:"rgba(63,178,127,0.25)",tension:.3,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",adapters:{date:{locale:vi}},time:{unit:"day"},ticks:{display:!1},grid:{display:!1}},y:{grid:{drawBorder:!1},beginAtZero:!0,min:0}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:eo=>new Date(eo[0].parsed.x).toLocaleString("vi-VN"),label:eo=>{const io=eo.dataIndex,uo=eo.raw,so=Zr[io]?.high;return so!=null?[`Close: ${uo.toFixed(2)}`,`High: ${so.toFixed(2)}`]:`Close: ${uo.toFixed(2)}`}}}}},range:buildRangeCaption$1(Hr)}},[sr,or]),Sr=(Lr,Fr)=>Fr==null||Fr===0?null:(Lr-Fr)/Fr*100,jr=reactExports.useMemo(()=>{const Lr=sr?.stock_prices;if(!Lr||Lr.length<2)return{};const Fr=Lr.length-1,Vr=Lr[Fr]?.close,Zr=Hr=>{const Yr=Fr-Hr;return Yr>=0?Lr[Yr]?.close:null};return{day1:Sr(Vr,Zr(1)),day2:Sr(Vr,Zr(2)),day3:Sr(Vr,Zr(3)),day4:Sr(Vr,Zr(4)),week1:Sr(Vr,Zr(7)),month1:Sr(Vr,Zr(30))}},[sr]),Dr=reactExports.useMemo(()=>{const Lr=sr?.stock_volumes||[];if(!Lr.length)return null;const Fr=Lr.filter(Hr=>Hr.record_time.includes("T09:30:00")),Vr=Fr.map(Hr=>({x:Hr.record_time,y:Hr.volume})),Zr=Fr.map(Hr=>Hr.color==="GREEN"?"#26a69a":"#ef5350");return{data:{labels:Vr.map(Hr=>Hr.x),datasets:[{type:"bar",label:"Volume",data:Vr.map(Hr=>Hr.y),backgroundColor:Zr,borderRadius:3,barPercentage:.9,categoryPercentage:.9}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"category",grid:{display:!1},ticks:{callback:function(Hr,Yr){const eo=this.getLabelForValue(Hr),[io,uo,so]=eo.split("T")[0].split("-");return`${Number(so)}/${Number(uo)}`}}},y:{grid:{drawBorder:!1},ticks:{callback:Hr=>Hr>=1e6?`${(Hr/1e6).toFixed(1)}M`:Hr>=1e3?`${(Hr/1e3).toFixed(0)}k`:Hr}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:()=>"",label:function(Hr){return`${(Hr.parsed.y/1e6).toFixed(3)}M`},afterLabel:function(Hr){const Yr=Hr.label,[eo,io]=Yr.split("T"),[uo,so,no]=eo.split("-"),[po,co]=io.split(":"),lo=new Date(`${uo}-${so}-${no}`).toLocaleString("en-US",{month:"short"});return[`${Number(no)} ${lo}, ${uo}`,`${po}:${co}`]}},labelFont:{size:16,weight:"bold"}},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"x"},limits:{x:{min:"original",max:"original",minRange:1440*60*1e3}}}}}}},[sr,cr]),Ir=reactExports.useMemo(()=>(sr?.options_flow||[]).slice().sort((Lr,Fr)=>new Date(Fr.trade_time)-new Date(Lr.trade_time)),[sr]),Mr=dr?Ir:Ir.slice(0,7),Or=reactExports.useMemo(()=>getLatestTimestampFromPayload$1(sr),[sr]);return er?jsxRuntimeExports.jsx("p",{style:{padding:24},children:"ang ti d liu GLD"}):ir?jsxRuntimeExports.jsx("p",{style:{color:"tomato"},children:ir}):jsxRuntimeExports.jsxs("div",{className:`sharechart ${Hn?"sharechart-extra":""}`,children:[!Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header-title sc-header-link",onClick:()=>xr("/spdr-shares"),style:{cursor:"pointer",textAlign:"center"},children:"SPDR Gold Shares (GLD)"}),Or&&jsxRuntimeExports.jsxs("div",{className:"sc-header-sub",children:["D liu cp nht ln cui ca ton b d liu GLD:"," ",jsxRuntimeExports.jsx("span",{style:{textAlign:"center",fontSize:"16px",color:"#FFD700",marginTop:"4px",fontWeight:"700"},children:formatDateOnly$1(Or)})]}),Object.keys(jr).length>0&&!Hn&&jsxRuntimeExports.jsxs("div",{className:"sc-toolbar",children:[jsxRuntimeExports.jsx("label",{className:"sc-label",children:"T l thay i:"}),jsxRuntimeExports.jsx("div",{className:"sc-percentager-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"},{key:"month1",label:"1 thng"}].map(({key:Lr,label:Fr})=>jr[Lr]!=null&&jsxRuntimeExports.jsxs("div",{className:`sc-percent-item ${jr[Lr]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",Fr]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[jr[Lr]>=0?"+":"",jr[Lr].toFixed(2),"%"]})]},Lr))})]})]}),!Hn&&jsxRuntimeExports.jsx("div",{className:"sc-timebar",children:["7D","30D","90D","1Y","ALL"].map(Lr=>jsxRuntimeExports.jsx("button",{className:`sc-time-btn ${or===Lr?"active":""}`,onClick:()=>lr(Lr),children:yr[Lr]},Lr))}),!Hn&&jsxRuntimeExports.jsx("section",{className:"sc-section",children:jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--price",children:_r&&jsxRuntimeExports.jsx(Chart,{data:_r.data,options:_r.options})})}),!tr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title2",children:"Market Volume Chart (GLD)"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--volume",children:Dr&&jsxRuntimeExports.jsx(Chart,{data:Dr.data,options:Dr.options})}),jsxRuntimeExports.jsx("div",{className:"sc-caption",children:Dr?.range})]}),jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title3",children:"Option Flow (GLD)"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsxs("div",{className:"sc-section-header",children:[jsxRuntimeExports.jsx("h3",{className:"sc-section-title",children:dr?"Tt c":"7 bn ghi gn nht"}),jsxRuntimeExports.jsx("button",{onClick:()=>fr(Lr=>!Lr),children:dr?"n bt":"Hin tt c"})]}),jsxRuntimeExports.jsx("div",{className:"sc-table-scroll",children:jsxRuntimeExports.jsxs("table",{className:"sc-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date & Time"}),jsxRuntimeExports.jsx("th",{children:"Expiration"}),jsxRuntimeExports.jsx("th",{children:"Strike"}),jsxRuntimeExports.jsx("th",{children:"Type"}),jsxRuntimeExports.jsx("th",{children:"Size"}),jsxRuntimeExports.jsx("th",{children:"Open Interest"})]})}),jsxRuntimeExports.jsx("tbody",{children:Mr.map(Lr=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:formatDateTime$1(Lr.trade_time)}),jsxRuntimeExports.jsx("td",{children:formatDateTime$1(Lr.expiration_date).split(" ")[0]}),jsxRuntimeExports.jsx("td",{children:Lr.strike_price}),jsxRuntimeExports.jsx("td",{style:{color:Lr.contract_type==="CALL"?"#26a69a":"#ef5350"},children:Lr.contract_type}),jsxRuntimeExports.jsx("td",{children:Lr.trade_size}),jsxRuntimeExports.jsx("td",{children:Lr.open_interest})]},Lr.id))})]})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,TimeScale,index,plugin$1);const API_URL$2="https://api_gold.thinkdiff.us/load_SLV_co_phieu";function formatDateTime(tr){const Hn=new Date(tr),er=nr=>String(nr).padStart(2,"0");return`${er(Hn.getDate())}/${er(Hn.getMonth()+1)}/${Hn.getFullYear()} ${er(Hn.getHours())}:${er(Hn.getMinutes())}`}function getMinDateByRange(tr,Hn){if(!Hn?.length||tr==="ALL")return null;const er=new Date(Math.max(...Hn.map(nr=>+nr)));switch(tr){case"7D":return new Date(er.getTime()-10080*60*1e3);case"30D":return new Date(er.getTime()-720*60*60*1e3);case"90D":return new Date(er.getTime()-2160*60*60*1e3);case"1Y":return new Date(er.getFullYear()-1,er.getMonth(),er.getDate());default:return null}}function buildRangeCaption(tr){if(!tr?.length)return"";const Hn=er=>er.toLocaleString("vi-VN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${Hn(tr[0])} - ${Hn(tr[tr.length-1])}`}function formatDateOnly(tr){return tr.toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function getLatestTimestampFromPayload(tr){if(!tr)return null;const Hn=[];return tr.stock_prices?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.stock_volumes?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.options_flow?.forEach(er=>{er.trade_time&&Hn.push(new Date(er.trade_time).getTime())}),Hn.length?new Date(Math.max(...Hn)):null}function ShareChartSilver({onlyMain:tr=!1,onlyExtra:Hn=!1}){const[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("7D"),[cr,ur]=reactExports.useState("30D"),[dr,fr]=reactExports.useState(!1),xr=useNavigate();reactExports.useEffect(()=>{let Lr=!1;async function Fr(){try{nr(!0);const Vr=await fetch(API_URL$2);if(!Vr.ok)throw new Error(`HTTP ${Vr.status}`);const Zr=await Vr.json();Lr||ar(Zr?.data?.data||null)}catch(Vr){Lr||rr(Vr.message)}finally{Lr||nr(!1)}}return Fr(),()=>{Lr=!0}},[]);const yr={"7D":"7 ngy","30D":"30 ngy","90D":"90 ngy","1Y":"1 nm",ALL:"Tt c"},_r=reactExports.useMemo(()=>{const Lr=sr?.stock_prices||[];if(!Lr.length)return null;const Fr=Lr.map(eo=>new Date(eo.record_time)),Vr=getMinDateByRange(or,Fr),Zr=Vr?Lr.filter(eo=>new Date(eo.record_time)>=Vr):Lr,Hr=Zr.map(eo=>new Date(eo.record_time)),Yr=Zr.map(eo=>eo.close);return{data:{labels:Hr,datasets:[{type:"line",data:Yr,fill:!0,borderColor:"#3fb27f",backgroundColor:"rgba(63,178,127,0.25)",tension:.3,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",adapters:{date:{locale:vi}},time:{unit:"day"},ticks:{display:!1},grid:{display:!1}},y:{grid:{drawBorder:!1},beginAtZero:!0,min:0}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:eo=>new Date(eo[0].parsed.x).toLocaleString("vi-VN"),label:eo=>{const io=eo.dataIndex,uo=eo.raw,so=Zr[io]?.high;return so!=null?[`Close: ${uo.toFixed(2)}`,`High: ${so.toFixed(2)}`]:`Close: ${uo.toFixed(2)}`}}}}},range:buildRangeCaption(Hr)}},[sr,or]),Sr=(Lr,Fr)=>Fr==null||Fr===0?null:(Lr-Fr)/Fr*100,jr=reactExports.useMemo(()=>{const Lr=sr?.stock_prices;if(!Lr||Lr.length<2)return{};const Fr=Yr=>Lr[Yr]?.close??null,Vr=Lr.length-1,Zr=Fr(Vr),Hr=Yr=>{const eo=Vr-Yr;return eo>=0?Fr(eo):null};return{day1:Sr(Zr,Hr(1)),day2:Sr(Zr,Hr(2)),day3:Sr(Zr,Hr(3)),day4:Sr(Zr,Hr(4)),week1:Sr(Zr,Hr(7)),month1:Sr(Zr,Hr(30))}},[sr]),Dr=reactExports.useMemo(()=>{const Lr=sr?.stock_volumes||[];if(!Lr.length)return null;const Fr=Lr.filter(Hr=>Hr.record_time.includes("T09:30:00")),Vr=Fr.map(Hr=>({x:Hr.record_time,y:Hr.volume})),Zr=Fr.map(Hr=>Hr.color==="GREEN"?"#26a69a":"#ef5350");return{data:{labels:Vr.map(Hr=>Hr.x),datasets:[{type:"bar",label:"Volume",data:Vr.map(Hr=>Hr.y),backgroundColor:Zr,borderRadius:3,barPercentage:.9,categoryPercentage:.9}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"category",grid:{display:!1},ticks:{callback:function(Hr,Yr){const eo=this.getLabelForValue(Hr),[io,uo,so]=eo.split("T")[0].split("-");return`${Number(so)}/${Number(uo)}`}}},y:{grid:{drawBorder:!1},ticks:{callback:Hr=>Hr>=1e6?`${(Hr/1e6).toFixed(1)}M`:Hr>=1e3?`${(Hr/1e3).toFixed(0)}k`:Hr}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:()=>"",label:function(Hr){return`${(Hr.parsed.y/1e6).toFixed(3)}M`},afterLabel:function(Hr){const Yr=Hr.label,[eo,io]=Yr.split("T"),[uo,so,no]=eo.split("-"),[po,co]=io.split(":"),lo=new Date(`${uo}-${so}-${no}`).toLocaleString("en-US",{month:"short"});return[`${Number(no)} ${lo}, ${uo}`,`${po}:${co}`]}},labelFont:{size:16,weight:"bold"}},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"x"},limits:{x:{min:"original",max:"original",minRange:1440*60*1e3}}}}}}},[sr,cr]),Ir=reactExports.useMemo(()=>(sr?.options_flow||[]).slice().sort((Lr,Fr)=>new Date(Fr.trade_time)-new Date(Lr.trade_time)),[sr]),Mr=dr?Ir:Ir.slice(0,7),Or=reactExports.useMemo(()=>getLatestTimestampFromPayload(sr),[sr]);return er?jsxRuntimeExports.jsx("p",{style:{padding:24},children:"ang ti d liu SLV..."}):ir?jsxRuntimeExports.jsx("p",{style:{color:"tomato"},children:ir}):jsxRuntimeExports.jsxs("div",{className:"sharechart",children:[!Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header-title7 sc-header-link",onClick:()=>xr("/spdr-shares"),style:{cursor:"pointer",textAlign:"center"},children:"SPDR Silver Shares (SLV)"}),Or&&jsxRuntimeExports.jsxs("div",{className:"sc-header-sub",children:["D liu cp nht ln cui:",jsxRuntimeExports.jsx("span",{style:{display:"block",textAlign:"center",fontSize:"16px",color:"#FFD700",marginTop:"4px",fontWeight:"700"},children:formatDateOnly(Or)})]}),Object.keys(jr).length>0&&jsxRuntimeExports.jsxs("div",{className:"sc-toolbar",children:[jsxRuntimeExports.jsx("label",{className:"sc-label",children:"T l thay i:"}),jsxRuntimeExports.jsx("div",{className:"sc-percentager-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"},{key:"month1",label:"1 thng"}].map(({key:Lr,label:Fr})=>jr[Lr]!=null&&jsxRuntimeExports.jsxs("div",{className:`sc-percent-item ${jr[Lr]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",Fr]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[jr[Lr]>=0?"+":"",jr[Lr].toFixed(2),"%"]})]},Lr))})]})]}),!Hn&&jsxRuntimeExports.jsx("div",{className:"sc-timebar",children:["7D","30D","90D","1Y","ALL"].map(Lr=>jsxRuntimeExports.jsx("button",{className:`sc-time-btn ${or===Lr?"active":""}`,onClick:()=>lr(Lr),children:yr[Lr]},Lr))}),!Hn&&jsxRuntimeExports.jsx("section",{className:"sc-section",children:jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--price",children:_r&&jsxRuntimeExports.jsx(Chart,{data:_r.data,options:_r.options})})}),!tr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title8",children:"Market Volume Chart Silver"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--volume",children:Dr&&jsxRuntimeExports.jsx(Chart,{data:Dr.data,options:Dr.options})}),jsxRuntimeExports.jsx("div",{className:"sc-caption",children:Dr?.range})]}),jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title9",children:"Option Flow (Silver)"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsxs("div",{className:"sc-section-header",children:[jsxRuntimeExports.jsx("h3",{className:"sc-section-title",children:dr?"Tt c":"7 bn ghi gn nht"}),jsxRuntimeExports.jsx("button",{onClick:()=>fr(Lr=>!Lr),children:dr?"n bt":"Hin tt c"})]}),jsxRuntimeExports.jsx("div",{className:"sc-table-scroll",children:jsxRuntimeExports.jsxs("table",{className:"sc-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date & Time"}),jsxRuntimeExports.jsx("th",{children:"Expiration"}),jsxRuntimeExports.jsx("th",{children:"Strike"}),jsxRuntimeExports.jsx("th",{children:"Type"}),jsxRuntimeExports.jsx("th",{children:"Size"}),jsxRuntimeExports.jsx("th",{children:"Open Interest"})]})}),jsxRuntimeExports.jsx("tbody",{children:Mr.map(Lr=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:formatDateTime(Lr.trade_time)}),jsxRuntimeExports.jsx("td",{children:formatDateTime(Lr.expiration_date).split(" ")[0]}),jsxRuntimeExports.jsx("td",{children:Lr.strike_price}),jsxRuntimeExports.jsx("td",{style:{color:Lr.contract_type==="CALL"?"#26a69a":"#ef5350"},children:Lr.contract_type}),jsxRuntimeExports.jsx("td",{children:Lr.trade_size}),jsxRuntimeExports.jsx("td",{children:Lr.open_interest})]},Lr.id))})]})})]})]})]})}const ShareChartMetalPage=()=>{const[tr,Hn]=reactExports.useState("silver");return jsxRuntimeExports.jsxs("div",{className:"metal-tabs",style:{paddingBottom:60},children:[jsxRuntimeExports.jsxs("div",{className:"metal-tabs-header",children:[jsxRuntimeExports.jsx("button",{className:tr==="gold"?"active":"",onClick:()=>Hn("gold"),children:" Gold"}),jsxRuntimeExports.jsx("button",{className:tr==="silver"?"active":"",onClick:()=>Hn("silver"),children:" Silver"})]}),jsxRuntimeExports.jsxs("div",{className:"metal-tabs-content",children:[tr==="gold"&&jsxRuntimeExports.jsx(ShareChartGold,{}),tr==="silver"&&jsxRuntimeExports.jsx(ShareChartSilver,{})]})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const LBMAReservesChart=()=>{const[tr,Hn]=reactExports.useState(24),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("oz"),[sr,ar]=reactExports.useState("gold");reactExports.useEffect(()=>{(async()=>{const Fr=(await(await fetch("https://api_gold.thinkdiff.us/lbma_vault_all")).json()).data;Fr.sort((Vr,Zr)=>new Date(Vr.date)-new Date(Zr.date)),nr(Fr)})()},[]);const or=(Mr,Or)=>!Or||Or===0?null:(Mr-Or)/Or*100,lr=React.useMemo(()=>{if(!er||er.length===0)return[];const Mr=[...er].sort((Fr,Vr)=>new Date(Fr.date)-new Date(Vr.date));if(tr==="all")return Mr;const Or=new Date(Mr[Mr.length-1].date),Lr=new Date(Or);return Lr.setMonth(Lr.getMonth()-Number(tr)),Mr.filter(Fr=>new Date(Fr.date)>=Lr)},[er,tr]),cr=React.useMemo(()=>{if(!er||er.length<2)return{};const Mr=Zr=>sr==="gold"?Zr.gold_oz_000:Zr.silver_oz_000,Or=[...er].sort((Zr,Hr)=>new Date(Zr.date)-new Date(Hr.date)),Lr=Or.length-1,Fr=Mr(Or[Lr]),Vr=Zr=>{const Hr=Lr-Zr;return Hr<0?null:or(Fr,Mr(Or[Hr]))};return{day1:Vr(1),day2:Vr(2),day3:Vr(3),week1:Vr(7),month1:Vr(30),month6:Vr(180)}},[er,sr]),ur=React.useMemo(()=>{if(!er||er.length===0)return null;const Mr=er[er.length-1].date,Or=new Date(Mr),Lr=String(Or.getDate()).padStart(2,"0"),Fr=String(Or.getMonth()+1).padStart(2,"0"),Vr=Or.getFullYear();return`${Lr}/${Fr}/${Vr}`},[er]),dr=lr.map(Mr=>Mr.date),fr=Mr=>ir==="tonnes"?Mr/31.1035:Mr,xr=Mr=>ir==="tonnes"?Mr/31.1035:Mr,yr=Mr=>sr==="gold"?fr(Mr.gold_oz_000):xr(Mr.silver_oz_000),_r=React.useMemo(()=>{if(!lr||lr.length===0)return{max:null,min:null,current:null};const Mr=lr.map(yr);return{max:Math.max(...Mr),min:Math.min(...Mr),current:Mr[Mr.length-1]}},[lr,sr,ir]),Sr=Mr=>Mr==null?"--":ir==="tonnes"?Mr.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" Tn":Mr.toLocaleString()+" OZ",jr={labels:dr,datasets:[{label:ir==="tonnes"?"Gold (tonnes)":"Gold (oz)",data:lr.map(Mr=>fr(Mr.gold_oz_000)),backgroundColor:"rgba(212, 175, 55, 0.7)"}]},Dr={labels:dr,datasets:[{label:ir==="tonnes"?"Silver (tonnes)":"Silver (oz)",data:lr.map(Mr=>xr(Mr.silver_oz_000)),backgroundColor:"rgba(191, 193, 194, 0.7)"}]};if(!jr||!Dr)return jsxRuntimeExports.jsx("div",{children:"Loading"});const Ir={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:Math.min(lr.length||0,31)}},y:{title:{display:!0,text:ir==="tonnes"?"Tn":"OZ"}}}};return jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsxs("div",{className:"comex-inventory-header header-row",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsx("h2",{children:"LBMA Gold & Silver Vault Reserves"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Biu  Lng Lu Tr D Tr Vng & Bc ti Sn LBMA London"})]}),ur&&jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsx("label",{className:"last-updated-label",children:" D liu cp nht ln cui: "}),jsxRuntimeExports.jsx("span",{className:"last-updated",children:ur})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="gold"?"active":""}`,onClick:()=>ar("gold"),children:"LBMA Gold"}),jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="silver"?"active":""}`,onClick:()=>ar("silver"),children:"LBMA Silver"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-unit-converter",children:[jsxRuntimeExports.jsx("span",{className:"unit-label",children:"n v:"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${ir==="oz"?"active":""}`,onClick:()=>rr("oz"),children:"OZ"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${ir==="tonnes"?"active":""}`,onClick:()=>rr("tonnes"),children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:[["Trong 1 ngy",cr.day1],["Trong 2 ngy",cr.day2],["Trong 3 ngy",cr.day3],["Trong 1 tun",cr.week1],["Trong 1 thng",cr.month1],["Trong 6 thng",cr.month6]].map(([Mr,Or])=>typeof Or=="number"&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Mr}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or>=0?"positive":"negative"}`,children:[Or>=0?"+":"",Or.toFixed(2),"%"]})]},Mr))})]}),jsxRuntimeExports.jsx("div",{className:"percentage-changes-container",children:jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi tr cao nht"}),jsxRuntimeExports.jsx("span",{className:"percentage-value3",children:Sr(_r.max)})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi tr thp nht"}),jsxRuntimeExports.jsx("span",{className:"percentage-value3",children:Sr(_r.min)})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi tr hin ti"}),jsxRuntimeExports.jsx("span",{className:"percentage-value3",children:Sr(_r.current)})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Khong thi gian"}),jsxRuntimeExports.jsxs("div",{className:"lbma-range-buttons",children:[jsxRuntimeExports.jsx("button",{className:`range-btn ${tr==="all"?"active":""}`,onClick:()=>Hn("all"),children:"All"}),jsxRuntimeExports.jsx("button",{className:`range-btn ${tr===24?"active":""}`,onClick:()=>Hn(24),children:"24 thng"}),jsxRuntimeExports.jsx("button",{className:`range-btn ${tr===36?"active":""}`,onClick:()=>Hn(36),children:"36 thng"}),jsxRuntimeExports.jsx("button",{className:`range-btn ${tr===48?"active":""}`,onClick:()=>Hn(48),children:"48 thng"})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"comex-right-column",children:jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:sr==="gold"?jsxRuntimeExports.jsx(Bar$1,{data:jr,options:Ir}):jsxRuntimeExports.jsx(Bar$1,{data:Dr,options:Ir})})})]})]})};function LBMAReserves(){return jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(LBMAReservesChart,{})})}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,BarController,LineController);const API_URL$1="https://api_gold.thinkdiff.us/final_gold_silver_report_api",WeeklyWeekChart=({weekData:tr,formatDate:Hn})=>{const er=[...tr.servers].sort((or,lr)=>lr.percent-or.percent),nr=er.map(or=>or.name),ir=er.map(or=>or.loinhuan),rr=er.map(or=>or.percent),sr={labels:nr,datasets:[{type:"bar",label:"Li nhun (VN)",data:ir,backgroundColor:ir.map(or=>or>0?"#05fa2e":or<0?"#fa0505":"#94a3b8"),yAxisID:"y"},{type:"line",label:"% li nhun",data:rr,borderColor:"#3b82f6",pointBackgroundColor:"#3b82f6",tension:.3,yAxisID:"y1"}]},ar=tr.servers[0];return jsxRuntimeExports.jsxs("div",{className:"server-chart",children:[jsxRuntimeExports.jsxs("h3",{className:"server-title",children:["Tun ",tr.weekIndex+1,ar&&jsxRuntimeExports.jsxs("span",{style:{fontWeight:400,fontSize:13},children:[" ","(",Hn(ar.dautuan)," -"," ",Hn(ar.cuoituan),")"]})]}),jsxRuntimeExports.jsx("div",{style:{height:380},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:sr,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!0},y1:{beginAtZero:!0,position:"right",grid:{drawOnChartArea:!1}}}}})})]})},WeeklyProfitChart=({type:tr})=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(!1),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState("none"),ur=Sr=>{if(!Sr)return"";const jr=new Date(Sr);return`${String(jr.getDate()).padStart(2,"0")}/${String(jr.getMonth()+1).padStart(2,"0")}/${jr.getFullYear()}`};reactExports.useEffect(()=>{(async()=>{try{ir(!0);const jr=await fetch(API_URL$1);if(!jr.ok)throw new Error("API error");const Ir=(await jr.json())?.data?.tocdo_tang_truong?.results?.[tr]??[];er(Ir)}catch(jr){sr(jr.message)}finally{ir(!1)}})()},[tr]);const dr=Sr=>Sr.servers.length?Math.max(...Sr.servers.map(jr=>jr.percent??0)):0,fr=Sr=>{const jr=Sr.toFixed(2);return Sr>0?`+${jr}%`:`${jr}%`},xr=reactExports.useMemo(()=>{if(!Hn.length)return[];const Sr=Math.max(...Hn.map(Dr=>Dr.cac_tuan?.length??0)),jr=[];for(let Dr=0;Dr<Sr;Dr++){const Ir=Hn.map(Mr=>{const Or=Mr.cac_tuan?.[Dr];return Or?{name:Mr.name_server,loinhuan:Or.loinhuan??0,percent:Number((Or.tilephantram_1tuan??0).toFixed(2)),dautuan:Or.dautuan?.datetime,cuoituan:Or.cuoituan?.datetime}:null}).filter(Boolean);jr.push({weekIndex:Dr,servers:Ir})}return jr},[Hn]),yr=reactExports.useMemo(()=>{let Sr=[...xr];return lr==="profit_desc"&&Sr.sort((jr,Dr)=>dr(Dr)-dr(jr)),lr==="profit_asc"&&Sr.sort((jr,Dr)=>dr(jr)-dr(Dr)),Sr},[xr,lr]),_r=yr.slice(0,5);return nr?jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."}):rr?jsxRuntimeExports.jsx("p",{style:{color:"red"},children:rr}):Hn.length?jsxRuntimeExports.jsxs("div",{className:"servers-chart-list",children:[yr.length>0&&jsxRuntimeExports.jsxs("div",{className:"week-controls",children:[jsxRuntimeExports.jsxs("select",{value:ar??"",onChange:Sr=>{const jr=Sr.target.value;or(jr===""?null:Number(jr))},className:"week-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Hin th 5 tun u --"}),yr.map((Sr,jr)=>{const Dr=Sr.servers[0]??null;return jsxRuntimeExports.jsxs("option",{value:jr,children:["Tun ",Sr.weekIndex+1,Dr?` (${ur(Dr.dautuan)} - ${ur(Dr.cuoituan)})`:""," | Max: ",fr(dr(Sr))]},Sr.weekIndex)})]}),jsxRuntimeExports.jsxs("div",{className:"sort-buttons",children:[jsxRuntimeExports.jsx("button",{className:`sort-btn ${lr==="profit_desc"?"active":""}`,onClick:()=>{cr("profit_desc"),or(null)},children:" % Li nhun cao  thp"}),jsxRuntimeExports.jsx("button",{className:`sort-btn ${lr==="profit_asc"?"active":""}`,onClick:()=>{cr("profit_asc"),or(null)},children:" % Li nhun thp  cao"}),jsxRuntimeExports.jsx("button",{className:`sort-btn ${lr==="none"?"active":""}`,onClick:()=>{cr("none"),or(null)},children:" Th t gc"})]})]}),ar!==null&&yr[ar]&&jsxRuntimeExports.jsx(WeeklyWeekChart,{weekData:yr[ar],formatDate:ur}),ar===null&&_r.map(Sr=>jsxRuntimeExports.jsx(WeeklyWeekChart,{weekData:Sr,formatDate:ur},Sr.weekIndex))]}):jsxRuntimeExports.jsx("p",{children:"Khng c d liu"})},WeeklyProfitPage=()=>{const[tr,Hn]=reactExports.useState("vang"),[er,nr]=reactExports.useState(null);return jsxRuntimeExports.jsx("div",{className:"weekly-chart-wrapper",children:jsxRuntimeExports.jsxs("div",{className:"weekly-chart-card",children:[jsxRuntimeExports.jsxs("h2",{style:{marginBottom:20,color:"#e5e7eb"},children:["Li nhun theo tun (",tr==="vang"?"Vng":"Bc",")"]}),jsxRuntimeExports.jsxs("div",{className:"chart-tabs",children:[jsxRuntimeExports.jsx("button",{className:`chart-tab-btn ${tr==="vang"?"active":""}`,onClick:()=>{Hn("vang"),nr(null)},children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`chart-tab-btn ${tr==="bac"?"active":""}`,onClick:()=>{Hn("bac"),nr(null)},children:"Bc"})]}),jsxRuntimeExports.jsx(WeeklyProfitChart,{type:tr})]})})};function FOMOGoldSilver(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(FomoGoldSilverChart,{})})}const TechnicalIndicatorsChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,xr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[_r,Sr]=reactExports.useState(yr),jr=nr==="XAU",Dr=jr?"#FFD700":"#ffffff";reactExports.useEffect(()=>{const Or=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Or),()=>window.removeEventListener("resize",Or)},[]);const Ir=Or=>{if(!Or)return"";const Lr=Or.split(" ");return Lr.length>1?Lr[1].substring(0,5):Or},Mr=(Or,Lr)=>{if(Or===0)return"Tt c";if(!Lr||Lr.length===0)return`K${Or}`;const Fr=Math.ceil(Lr.length/yr),Vr=(Or-1)*Fr;let Zr=Vr+Fr-1;return Zr>=Lr.length&&(Zr=Lr.length-1),Vr>=Lr.length?"-":`${Ir(Lr[Vr])}-${Ir(Lr[Zr])}`};return reactExports.useEffect(()=>{(async()=>{const Lr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Fr of Lr)document.querySelector(`script[src="${Fr}"]`)||await new Promise(Vr=>{const Zr=document.createElement("script");Zr.src=Fr,Zr.async=!1,Zr.onload=Vr,document.head.appendChild(Zr)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Fr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(Zr=>Zr.json());Fr.data&&Fr.data.total_page&&or(Fr.data.total_page);const Vr=(Fr.data.list_volume||[]).reverse();Vr.length>0&&cr(Vr[Vr.length-1].timestamp),xr(Zr=>({...Zr,[jr?"gold_full":"silver_full"]:Vr,[jr?"gold_categories":"silver_categories"]:Vr.map(Hr=>Hr.timestamp)})),Sr(yr)}catch(Lr){console.error(Lr)}})()},[Hn,rr,nr,jr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Or=jr?fr.gold_full:fr.silver_full,Lr=jr?fr.gold_categories:fr.silver_categories;if(!Or.length)return;let Fr=[...Or],Vr=[...Lr];if(_r!==0){const lo=Math.ceil(Or.length/yr),ao=(_r-1)*lo,xo=ao+lo;Fr=Or.slice(ao,xo),Vr=Lr.slice(ao,xo)}const Zr=[],Hr=[],Yr=[],eo=[],io=[],uo=[],so=[],no=[],po=[];Fr.forEach((lo,ao)=>{lo.atr_14!==null&&lo.atr_14!==void 0&&Zr.push({x:ao,y:lo.atr_14,timestamp:lo.timestamp});const xo=lo.rsi_14||lo.rsi||0;Hr.push({x:ao,y:xo,timestamp:lo.timestamp}),lo.williams_r!==null&&lo.williams_r!==void 0&&Yr.push({x:ao,y:lo.williams_r,timestamp:lo.timestamp}),lo.momentum_10!==null&&lo.momentum_10!==void 0&&eo.push({x:ao,y:lo.momentum_10,timestamp:lo.timestamp}),lo.roc_10!==null&&lo.roc_10!==void 0&&io.push({x:ao,y:lo.roc_10,timestamp:lo.timestamp}),lo.cci_20!==null&&lo.cci_20!==void 0&&uo.push({x:ao,y:lo.cci_20,timestamp:lo.timestamp}),lo.bb_bandwidth!==null&&lo.bb_bandwidth!==void 0&&so.push({x:ao,y:lo.bb_bandwidth,timestamp:lo.timestamp}),lo.bb_percent_b!==null&&lo.bb_percent_b!==void 0&&no.push({x:ao,y:lo.bb_percent_b,timestamp:lo.timestamp}),lo.log_return!==null&&lo.log_return!==void 0&&po.push({x:ao,y:lo.log_return*100,timestamp:lo.timestamp})});const co={chart:{height:ur?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:Vr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"ATR 14",style:{color:"#00FF80"}},top:"0%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"RSI 14",style:{color:"#FFD700"}},top:"16%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FFD700",fontSize:"10px"}},min:0,max:100,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:"Williams R (-100 to 0)",style:{color:"#00E5FF"}},top:"32%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00E5FF",fontSize:"10px"}},min:-100,max:0},{title:{text:"Momentum and CCI",style:{color:"#FF69B4"}},top:"48%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FF69B4",fontSize:"10px"}}},{title:{text:"ROC (10) and Log Return (%)",style:{color:"#9B59B6"}},top:"64%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}},plotLines:[{value:0,color:"#666",width:1,dashStyle:"Dash"}]},{title:{text:"Volatility (BB)",style:{color:"#03A9F4"}},top:"80%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#03A9F4",fontSize:"10px"}},min:0}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"ATR (14)",data:Zr,yAxis:0,type:"line",color:"#00FF80",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00FF80; font-size:13px;">ATR 14:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"RSI (14)",data:Hr,yAxis:1,type:"line",color:"#FFD700",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">RSI 14:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Williams %R",data:Yr,yAxis:2,type:"line",color:"#00E5FF",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">Williams %R:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Momentum (10)",data:eo,yAxis:3,type:"line",color:"#FF69B4",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">Momentum</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"ROC (10) %",data:io,yAxis:4,type:"line",color:"#9B59B6",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">ROC:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}%</b></div>`}}},{name:"CCI (20)",data:uo,yAxis:3,type:"line",color:"#FFA500",lineWidth:1,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center">
        <b style="color:#FFA500">CCI</b><br/>
        <b>${this.y.toFixed(2)}</b>
      </div>`}}},{name:"BB Bandwidth",data:so,yAxis:5,type:"line",color:"#FF9800",dashStyle:"ShortDot",lineWidth:1,marker:{enabled:!1}},{name:"BB %B",data:no,yAxis:5,type:"line",color:"#03A9F4",dashStyle:"Dot",lineWidth:1,marker:{enabled:!1}},{name:"Log Return (%)",data:po,yAxis:4,type:"line",color:"#E91E63",lineWidth:1,marker:{enabled:!1}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,co)},[nr,fr,rr,_r,Hn,jr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/technical-indicators",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Dr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Or=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Or),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Or?Or==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Or?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Or==="XAU"?"Vng (XAU)":"Bc (XAG)"},Or))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Or=>jsxRuntimeExports.jsx("button",{onClick:()=>Sr(Or),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:_r===Or?"#333":"#111",color:_r===Or?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Mr(Or,jr?fr.gold_categories:fr.silver_categories)},Or))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Or=>Or+1),disabled:rr>=ar,style:navBtnStyle$3(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Or=>Math.max(1,Or-1)),disabled:rr===1,style:navBtnStyle$3(rr===1),children:" Sau "})]})]})},navBtnStyle$3=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),VolumeMomentumChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,xr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[_r,Sr]=reactExports.useState(yr),jr=nr==="XAU",Dr=jr?"#FFD700":"#ffffff";reactExports.useEffect(()=>{const Or=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Or),()=>window.removeEventListener("resize",Or)},[]);const Ir=Or=>{if(!Or)return"";const Lr=Or.split(" ");return Lr.length>1?Lr[1].substring(0,5):Or},Mr=(Or,Lr)=>{if(Or===0)return"Tt c";if(!Lr||Lr.length===0)return`K${Or}`;const Fr=Math.ceil(Lr.length/yr),Vr=(Or-1)*Fr;let Zr=Vr+Fr-1;return Zr>=Lr.length&&(Zr=Lr.length-1),Vr>=Lr.length?"-":`${Ir(Lr[Vr])}-${Ir(Lr[Zr])}`};return reactExports.useEffect(()=>{(async()=>{const Lr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Fr of Lr)document.querySelector(`script[src="${Fr}"]`)||await new Promise(Vr=>{const Zr=document.createElement("script");Zr.src=Fr,Zr.async=!1,Zr.onload=Vr,document.head.appendChild(Zr)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Fr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(Zr=>Zr.json());Fr.data&&Fr.data.total_page&&or(Fr.data.total_page);const Vr=(Fr.data.list_volume||[]).reverse();Vr.length>0&&cr(Vr[Vr.length-1].timestamp),xr(Zr=>({...Zr,[jr?"gold_full":"silver_full"]:Vr,[jr?"gold_categories":"silver_categories"]:Vr.map(Hr=>Hr.timestamp)})),Sr(yr)}catch(Lr){console.error(Lr)}})()},[Hn,rr,nr,jr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Or=jr?fr.gold_full:fr.silver_full,Lr=jr?fr.gold_categories:fr.silver_categories;if(!Or.length)return;let Fr=[...Or],Vr=[...Lr];if(_r!==0){const so=Math.ceil(Or.length/yr),no=(_r-1)*so,po=no+so;Fr=Or.slice(no,po),Vr=Lr.slice(no,po)}const Zr=[],Hr=[],Yr=[],eo=[],io=[];Fr.forEach((so,no)=>{if(so.volume!==null&&so.volume!==void 0){const po=so.close_price>so.open_price?"#00b060":"#ff4648";Zr.push({x:no,y:so.volume,timestamp:so.timestamp,color:po})}so.obv!==null&&so.obv!==void 0&&Hr.push({x:no,y:so.obv,timestamp:so.timestamp}),so.mfi_14!==null&&so.mfi_14!==void 0&&Yr.push({x:no,y:so.mfi_14,timestamp:so.timestamp}),so.elder_force!==null&&so.elder_force!==void 0&&eo.push({x:no,y:so.elder_force,timestamp:so.timestamp}),so.volume_change!==null&&so.volume_change!==void 0&&io.push({x:no,y:so.volume_change,timestamp:so.timestamp})});const uo={chart:{height:ur?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:Vr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Volume",style:{color:"#00FF80"}},height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"OBV",style:{color:"#FF69B4"}},top:"20%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FF69B4",fontSize:"10px"}}},{title:{text:"MFI (0-100)",style:{color:"#00E5FF"}},top:"40%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00E5FF",fontSize:"10px"}},min:0,max:100,plotLines:[{value:80,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:20,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:"Elder Force",style:{color:"#FFD700"}},top:"60%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FFD700",fontSize:"10px"}}},{title:{text:"Volume Change (%)",style:{color:"#9B59B6"}},top:"80%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"Volume",data:Zr,yAxis:0,type:"column",borderWidth:0,tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:${this.color}; font-size:13px;">Volume:</b><br/><b style="color:${this.color}; font-size:12px;">${this.y.toLocaleString()}</b></div>`}}},{name:"OBV",data:Hr,yAxis:1,type:"line",color:"#FF69B4",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">OBV:</b><br/><b style="color:#ffffff; font-size:12px;">${Math.round(this.y).toLocaleString()}</b></div>`}}},{name:"MFI (14)",data:Yr,yAxis:2,type:"line",color:"#00E5FF",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">MFI:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Elder Force",data:eo,yAxis:3,type:"line",color:"#FFD700",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">Elder Force:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"Volume Change %",data:io,yAxis:4,type:"line",color:"#9B59B6",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">Vol Change:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}%</b></div>`}}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,uo)},[nr,fr,rr,_r,Hn,jr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/volume-momentum",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Dr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Or=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Or),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Or?Or==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Or?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Or==="XAU"?"Vng (XAU)":"Bc (XAG)"},Or))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Or=>jsxRuntimeExports.jsx("button",{onClick:()=>Sr(Or),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:_r===Or?"#333":"#111",color:_r===Or?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Mr(Or,jr?fr.gold_categories:fr.silver_categories)},Or))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Or=>Or+1),disabled:rr>=ar,style:navBtnStyle$2(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Or=>Math.max(1,Or-1)),disabled:rr===1,style:navBtnStyle$2(rr===1),children:" Sau "})]})]})},navBtnStyle$2=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),MovingAveragesChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,xr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[_r,Sr]=reactExports.useState(yr),jr=nr==="XAU",Dr=jr?"#FFD700":"#ffffff";reactExports.useEffect(()=>{const Or=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Or),()=>window.removeEventListener("resize",Or)},[]);const Ir=Or=>{if(!Or)return"";const Lr=Or.split(" ");return Lr.length>1?Lr[1].substring(0,5):Or},Mr=(Or,Lr)=>{if(Or===0)return"Tt c";if(!Lr||Lr.length===0)return`K${Or}`;const Fr=Math.ceil(Lr.length/yr),Vr=(Or-1)*Fr;let Zr=Vr+Fr-1;return Zr>=Lr.length&&(Zr=Lr.length-1),Vr>=Lr.length?"-":`${Ir(Lr[Vr])}-${Ir(Lr[Zr])}`};return reactExports.useEffect(()=>{(async()=>{const Lr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Fr of Lr)document.querySelector(`script[src="${Fr}"]`)||await new Promise(Vr=>{const Zr=document.createElement("script");Zr.src=Fr,Zr.async=!1,Zr.onload=Vr,document.head.appendChild(Zr)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Fr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(Zr=>Zr.json());Fr.data&&Fr.data.total_page&&or(Fr.data.total_page);const Vr=(Fr.data.list_volume||[]).reverse();Vr.length>0&&cr(Vr[Vr.length-1].timestamp),xr(Zr=>({...Zr,[jr?"gold_full":"silver_full"]:Vr,[jr?"gold_categories":"silver_categories"]:Vr.map(Hr=>Hr.timestamp)})),Sr(yr)}catch(Lr){console.error(Lr)}})()},[Hn,rr,nr,jr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Or=jr?fr.gold_full:fr.silver_full,Lr=jr?fr.gold_categories:fr.silver_categories;if(!Or.length)return;let Fr=[...Or],Vr=[...Lr];if(_r!==0){const _o=Math.ceil(Or.length/yr),Po=(_r-1)*_o,Oo=Po+_o;Fr=Or.slice(Po,Oo),Vr=Lr.slice(Po,Oo)}const Zr=[],Hr=[],Yr=[],eo=[],io=[],uo=[],so=[],no=[],po=[],co=[],lo=[],ao=[];Fr.forEach((_o,Po)=>{const Oo=_o.close_price;Zr.push({x:Po,y:Oo,timestamp:_o.timestamp}),_o.sma_20!==null&&_o.sma_20!==void 0&&Hr.push({x:Po,y:_o.sma_20,timestamp:_o.timestamp}),_o.sma_50!==null&&_o.sma_50!==void 0&&so.push({x:Po,y:_o.sma_50,timestamp:_o.timestamp}),_o.ema_20!==null&&_o.ema_20!==void 0&&Yr.push({x:Po,y:_o.ema_20,timestamp:_o.timestamp}),_o.dema_20!==null&&_o.dema_20!==void 0&&eo.push({x:Po,y:_o.dema_20,timestamp:_o.timestamp}),_o.tema_20!==null&&_o.tema_20!==void 0&&io.push({x:Po,y:_o.tema_20,timestamp:_o.timestamp}),_o.wma_20!==null&&_o.wma_20!==void 0&&uo.push({x:Po,y:_o.wma_20,timestamp:_o.timestamp}),_o.ema_50!==null&&_o.ema_50!==void 0&&no.push({x:Po,y:_o.ema_50,timestamp:_o.timestamp}),_o.bb_upper!==null&&_o.bb_lower!==null&&_o.bb_upper!==void 0&&_o.bb_lower!==void 0&&co.push({x:Po,low:_o.bb_lower,high:_o.bb_upper,timestamp:_o.timestamp});const So=_o.rsi_14!==null&&_o.rsi_14!==void 0?_o.rsi_14:_o.rsi_pro_trungbinh||0;lo.push({x:Po,y:So,timestamp:_o.timestamp}),_o.vwap!==null&&_o.vwap!==void 0&&po.push({x:Po,y:_o.vwap,timestamp:_o.timestamp}),_o.pct_return!==null&&_o.pct_return!==void 0&&ao.push({x:Po,y:_o.pct_return*100,timestamp:_o.timestamp})});const xo={chart:{height:ur?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:Vr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Price & Moving Averages",style:{color:"#00FF80"}},height:"60%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"VWAP",style:{color:"#9B59B6"}},top:"62%",height:"25%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}}}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,headerFormat:'<div style="color: #FFD700; font-weight: bold; margin-bottom: 8px;">{point.key}</div>',pointFormat:'<div style="color: {series.color}; font-size: 12px;">{series.name}: <b>{point.y:.3f}</b></div>'},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"Bollinger Bands",data:co,yAxis:0,type:"arearange",color:"rgba(0, 255, 128, 0.1)",fillColor:"rgba(0, 255, 128, 0.1)",lineWidth:ur?.5:1,lineColor:"#00FF80",zIndex:-1,enableMouseTracking:!1,marker:{enabled:!1},states:{hover:{enabled:!1}}},{name:"Close Price",data:Zr,yAxis:0,type:"line",color:"#FFD700",lineWidth:ur?2:3,zIndex:5,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">Close Price:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"SMA (20)",data:Hr,yAxis:0,type:"line",color:"#00FF80",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00FF80; font-size:13px;">SMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"SMA (50)",data:so,yAxis:0,type:"line",color:"#FF6B6B",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF6B6B; font-size:13px;">SMA (50):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"EMA (20)",data:Yr,yAxis:0,type:"line",color:"#00E5FF",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">EMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"DEMA (20)",data:eo,yAxis:0,type:"line",color:"#FF69B4",lineWidth:1,marker:{enabled:!1},dashStyle:"ShortDash",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">DEMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"TEMA (20)",data:io,yAxis:0,type:"line",color:"#9B59B6",lineWidth:1,marker:{enabled:!1},dashStyle:"ShortDash",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">TEMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"WMA (20)",data:uo,yAxis:0,type:"line",color:"#FFA500",lineWidth:1,marker:{enabled:!1},dashStyle:"Dot",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFA500; font-size:13px;">WMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"EMA (50)",data:no,yAxis:0,type:"line",color:"#4ECDC4",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#4ECDC4; font-size:13px;">EMA (50):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"VWAP",data:po,yAxis:1,type:"line",color:"#9B59B6",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{shared:!1,pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">VWAP:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"Return %",data:ao,yAxis:1,type:"column",color:function(){return this.y>=0?"#00FF80":"#FF4648"},borderWidth:0,enableMouseTracking:!1}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,xo)},[nr,fr,rr,_r,Hn,jr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/moving-averages",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Dr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Or=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Or),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Or?Or==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Or?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Or==="XAU"?"Vng (XAU)":"Bc (XAG)"},Or))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Or=>jsxRuntimeExports.jsx("button",{onClick:()=>Sr(Or),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:_r===Or?"#333":"#111",color:_r===Or?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Mr(Or,jr?fr.gold_categories:fr.silver_categories)},Or))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Or=>Or+1),disabled:rr>=ar,style:navBtnStyle$1(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Or=>Math.max(1,Or-1)),disabled:rr===1,style:navBtnStyle$1(rr===1),children:" Sau "})]})]})},navBtnStyle$1=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),CandlestickChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,xr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[_r,Sr]=reactExports.useState(yr),[jr,Dr]=reactExports.useState({open:0,high:0,low:0,close:0}),Ir=nr==="XAU",Mr=Ir?"#FFD700":"#ffffff",Or="#00b060",Lr="#ff4648";reactExports.useEffect(()=>{const Zr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Zr),()=>window.removeEventListener("resize",Zr)},[]);const Fr=Zr=>{if(!Zr)return"";const Hr=Zr.split(" ");return Hr.length>1?Hr[1].substring(0,5):Zr},Vr=(Zr,Hr)=>{if(Zr===0)return"Tt c";if(!Hr||Hr.length===0)return`K${Zr}`;const Yr=Math.ceil(Hr.length/yr),eo=(Zr-1)*Yr;let io=eo+Yr-1;return io>=Hr.length&&(io=Hr.length-1),eo>=Hr.length?"-":`${Fr(Hr[eo])}-${Fr(Hr[io])}`};return reactExports.useEffect(()=>{(async()=>{const Hr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Yr of Hr)document.querySelector(`script[src="${Yr}"]`)||await new Promise(eo=>{const io=document.createElement("script");io.src=Yr,io.async=!1,io.onload=eo,document.head.appendChild(io)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Yr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(io=>io.json());Yr.data&&Yr.data.total_page&&or(Yr.data.total_page);const eo=(Yr.data.list_volume||[]).reverse();eo.length>0&&cr(eo[eo.length-1].timestamp),xr(io=>({...io,[Ir?"gold_full":"silver_full"]:eo,[Ir?"gold_categories":"silver_categories"]:eo.map(uo=>uo.timestamp)})),Sr(yr)}catch(Hr){console.error(Hr)}})()},[Hn,rr,nr,Ir,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Zr=Ir?fr.gold_full:fr.silver_full,Hr=Ir?fr.gold_categories:fr.silver_categories;if(!Zr.length)return;let Yr=[...Zr],eo=[...Hr];if(_r!==0){const so=Math.ceil(Zr.length/yr),no=(_r-1)*so,po=no+so;Yr=Zr.slice(no,po),eo=Hr.slice(no,po)}const io=[];if(Yr.forEach((so,no)=>{so.open_price!==null&&so.high_price!==null&&so.low_price!==null&&so.close_price!==null&&io.push({x:no,open:so.open_price,high:so.high_price,low:so.low_price,close:so.close_price,timestamp:so.timestamp})}),io.length>0){const so=io[io.length-1];Dr({open:so.open,high:so.high,low:so.low,close:so.close})}const uo={chart:{height:ur?600:500,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:eo,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Gi",style:{color:"#00FF80"}},height:"70%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{candlestick:{color:Lr,upColor:Or,lineColor:Lr,upLineColor:Or,wickColor:"#888",groupPadding:ur?.05:.02,pointPadding:ur?.02:.01,lineWidth:ur?1:2},series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{type:"candlestick",name:"Gi (OHLC)",data:io,yAxis:0,tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                <b style="color:#FFD700; font-size:13px;">Gi:</b><br/>
                <b style="color:#00FF80; font-size:11px;">Open: ${this.open.toFixed(2)}</b><br/>
                <b style="color:#00E5FF; font-size:11px;">High: <b style="color:#fffff; font-size:11px;">${this.high.toFixed(2)}</b></b><br/>
                <b style="color:#FF69B4; font-size:11px;">Low: ${this.low.toFixed(2)}</b><br/>
                <b style="color:#FFD700; font-size:11px;">Close: ${this.close.toFixed(2)}</b>
              </div>`}}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,uo)},[nr,fr,rr,_r,Hn,Ir,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("span",{style:{color:Mr,fontSize:"11px",fontWeight:"bold"},children:lr||"..."})]}),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #FFD700",borderRadius:"6px",padding:"12px",marginBottom:"10px",textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#FFD700",fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:"Gi Mi Nht (OHLC)"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00FF80",fontSize:"12px"},children:"Open: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:jr.open.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00E5FF",fontSize:"12px"},children:"High: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:jr.high.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#FF69B4",fontSize:"12px"},children:"Low: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:jr.low.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#FFD700",fontSize:"12px"},children:"Close: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:jr.close.toFixed(2)})]})]})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Zr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Zr),style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Zr?Zr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Zr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"11px"},children:Zr==="XAU"?"Vng (XAU)":"Bc (XAG)"},Zr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Zr=>jsxRuntimeExports.jsx("button",{onClick:()=>Sr(Zr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:_r===Zr?"#333":"#111",color:_r===Zr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Vr(Zr,Ir?fr.gold_categories:fr.silver_categories)},Zr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Zr=>Zr+1),disabled:rr>=ar,style:navBtnStyle(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Zr=>Math.max(1,Zr-1)),disabled:rr===1,style:navBtnStyle(rr===1),children:" Sau "})]})]})},navBtnStyle=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),AllChartsPage=()=>{const[tr,Hn]=useSearchParams();useNavigate();const er=tr.get("charts")||"rsi",[nr,ir]=reactExports.useState(er);reactExports.useEffect(()=>{logUserInfo("Trang All Charts")},[]),reactExports.useEffect(()=>{ir(er)},[er]);const rr=[{id:"rsi",label:"RSI & Bollinger",icon:"",route:"/volumexagxau?charts=rsi"},{id:"technical",label:"Technical Indicators",icon:"",route:"/volumexagxau?charts=technical"},{id:"volume",label:"Volume & Momentum",icon:"",route:"/volumexagxau?charts=volume"},{id:"moving",label:"Moving Averages",icon:"",route:"/volumexagxau?charts=moving"}],sr=or=>{ir(or),Hn({charts:or})},ar=()=>{switch(nr){case"rsi":return jsxRuntimeExports.jsx(MyRsiChart,{});case"technical":return jsxRuntimeExports.jsx(TechnicalIndicatorsChart,{});case"volume":return jsxRuntimeExports.jsx(VolumeMomentumChart,{});case"moving":return jsxRuntimeExports.jsx(MovingAveragesChart,{});default:return jsxRuntimeExports.jsx(MyRsiChart,{})}};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{borderBottom:"3px solid #FFD700",paddingBottom:"10px"},children:[jsxRuntimeExports.jsx("h3",{style:{textAlign:"center",color:"#FFD700",margin:"10px 0",fontSize:"16px"},children:"Biu  Gi XAU / XAG"}),jsxRuntimeExports.jsx(CandlestickChart,{})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"10px",padding:"15px",backgroundColor:"#0a0a0a",borderBottom:"2px solid #222",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:rr.map(or=>jsxRuntimeExports.jsxs("button",{onClick:()=>sr(or.id),style:{padding:"10px 20px",borderRadius:"6px",border:nr===or.id?"2px solid #FFD700":"2px solid #333",backgroundColor:nr===or.id?"rgba(255, 215, 0, 0.1)":"#111",color:nr===or.id?"#FFD700":"#999",fontWeight:nr===or.id?"bold":"normal",cursor:"pointer",fontSize:"13px",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:lr=>{nr!==or.id&&(lr.target.style.borderColor="#FFD700",lr.target.style.color="#FFD700")},onMouseLeave:lr=>{nr!==or.id&&(lr.target.style.borderColor="#333",lr.target.style.color="#999")},children:[jsxRuntimeExports.jsx("span",{children:or.icon}),jsxRuntimeExports.jsx("span",{children:or.label})]},or.id))}),jsxRuntimeExports.jsx("div",{style:{padding:"0"},children:ar()})]})},CombinedXauXagChartPage=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(0),[cr,ur]=reactExports.useState(0),[dr,fr]=reactExports.useState(0),[xr,yr]=reactExports.useState(!1),[_r,Sr]=reactExports.useState(!1),[jr,Dr]=reactExports.useState(0),[Ir,Mr]=reactExports.useState(null),Or=reactExports.useRef([]),Lr=reactExports.useRef([]);useNavigate();const Fr=100,Vr=3,Zr=reactExports.useCallback(io=>{Mr(io)},[]);reactExports.useEffect(()=>{logUserInfo("Trang CombinedXauXagChart")},[]),reactExports.useEffect(()=>{let io=!1;return(async()=>{try{rr(!0);const so=await fetchXauXagVolumeData(1),no=await fetchXauXagVolumeData(2),po=await fetchXauXagVolumeData(3);if(io)return;Or.current=[...so.volumeXauRaw||[],...no.volumeXauRaw||[],...po.volumeXauRaw||[]],Lr.current=[...so.volumeXagRaw||[],...no.volumeXagRaw||[],...po.volumeXagRaw||[]];const co=so?.totalPages||0;Dr(co),fr(3),yr(co>3),lr(so.volume_trungbinh?.xau||0),ur(so.volume_trungbinh?.xag||0);const lo=Or.current.slice(0,Vr*Fr),ao=Lr.current.slice(0,Vr*Fr);Hn(formatCandlestickForApex(lo)),nr(formatCandlestickForApex(ao));const xo=[...Or.current.map(zo=>zo.timestamp),...Lr.current.map(zo=>zo.timestamp)],_o=Math.min(...xo),Po=Math.max(...xo),Oo=[...Or.current].sort((zo,Ro)=>Ro.timestamp-zo.timestamp),So=Math.max(0,Oo.length-30),Ao=Oo[So]?.timestamp||_o;setTimeout(()=>Mr({min:Ao,max:Po}),300)}catch(so){console.error("Error fetching volume data:",so),io||(Hn([]),nr([]),lr(0),ur(0),ar("Khng th ti d liu. Vui lng th li sau."))}finally{io||rr(!1)}})(),()=>{io=!0}},[]);const Hr=async()=>{if(_r||!xr)return;const io=dr+1,uo=Math.min(dr+3,jr);Sr(!0);try{await fetchXauXagVolumeDataMultiplePages(io,uo,(so,no)=>{Or.current=[...Or.current,...no.volumeXauRaw],Lr.current=[...Lr.current,...no.volumeXagRaw];const po=Array.from(new Map(Or.current.map(lo=>[lo.timestamp,lo])).values()),co=Array.from(new Map(Lr.current.map(lo=>[lo.timestamp,lo])).values());Hn(formatCandlestickForApex(po)),nr(formatCandlestickForApex(co)),fr(so),yr(so<jr)})}catch(so){console.error("Error loading more pages:",so)}finally{Sr(!1)}},Yr=async()=>{if(!(_r||!xr)){Sr(!0);try{await fetchXauXagVolumeDataMultiplePages(dr+1,jr,(io,uo)=>{Or.current=[...Or.current,...uo.volumeXauRaw],Lr.current=[...Lr.current,...uo.volumeXagRaw];const so=Array.from(new Map(Or.current.map(po=>[po.timestamp,po])).values()),no=Array.from(new Map(Lr.current.map(po=>[po.timestamp,po])).values());Hn(formatCandlestickForApex(so)),nr(formatCandlestickForApex(no)),fr(io),yr(!1)})}catch(io){console.error("Error loading all pages:",io)}finally{Sr(!1)}}},eo=reactExports.useCallback(async()=>{try{Sr(!0);const io=await fetchXauXagVolumeData(1),uo=await fetchXauXagVolumeData(2),so=await fetchXauXagVolumeData(3);Or.current=[...io.volumeXauRaw||[],...uo.volumeXauRaw||[],...so.volumeXauRaw||[]],Lr.current=[...io.volumeXagRaw||[],...uo.volumeXagRaw||[],...so.volumeXagRaw||[]];const no=[...Or.current.map(xo=>xo.timestamp),...Lr.current.map(xo=>xo.timestamp)],po=Math.min(...no),co=Math.max(...no);Hn(formatCandlestickForApex(Or.current)),nr(formatCandlestickForApex(Lr.current)),fr(3),yr(jr>3);const lo=Or.current.slice().sort((xo,_o)=>_o.timestamp-xo.timestamp),ao=lo[Math.max(0,lo.length-30)]?.timestamp||po;Mr({min:ao,max:co})}catch(io){console.error("Error resetting to initial pages:",io)}finally{Sr(!1)}},[jr]);return ir?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px"},children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."})}):sr?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px",color:"red"},children:jsxRuntimeExports.jsx("p",{children:sr})}):jsxRuntimeExports.jsxs("div",{style:{padding:"20px",width:"100%"},children:[jsxRuntimeExports.jsx("h1",{style:{marginBottom:"20px",display:"inline-block",transition:"color 0.2s"},children:"Biu  Phn Tch Volume Giao Dch XAU (Vng) v XAG (Bc)"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsx(VolumeXauXagChart,{dataXau:tr,dataXag:er,externalZoom:Ir,onZoom:Zr,enableZoom:!0}),xr&&jsxRuntimeExports.jsxs("div",{className:"pagination-actions",children:[jsxRuntimeExports.jsx("button",{className:"action-button",onClick:Hr,disabled:_r,children:_r?"ang ti...":"Tip"}),jsxRuntimeExports.jsx("button",{className:"action-button",onClick:Yr,disabled:_r,children:_r?"ang ti...":"Tt c"})]}),jsxRuntimeExports.jsx("button",{className:"action-button single",onClick:eo,disabled:_r,children:"Hin ti"}),jsxRuntimeExports.jsx(VolumeComparisonChart,{dataXau:tr,dataXag:er,avgVolumeXau:or,avgVolumeXag:cr,externalZoom:Ir,onZoom:Zr,enableZoom:!0}),jsxRuntimeExports.jsx(GrowthChart,{}),jsxRuntimeExports.jsx(XAGVolumeOnlyChart,{data:er})]})]})},OrderFlowAnalysis=()=>{const{type:tr,day:Hn,month:er,year:nr}=useParams(),ir=useNavigate(),rr=reactExports.useRef(0),sr=reactExports.useRef(!0),[ar,or]=reactExports.useState({gold:[],silver:[]}),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(""),[fr,xr]=reactExports.useState(window.innerWidth<768);reactExports.useEffect(()=>{const Yr=()=>xr(window.innerWidth<768);return window.addEventListener("resize",Yr),()=>window.removeEventListener("resize",Yr)},[]);const yr=tr||"silver",_r=yr==="gold"?"#FFD700":"#C0C0C0",Sr=new Date,[jr,Dr]=reactExports.useState(()=>Hn&&er&&nr?new Date(nr,er-1,Hn):Sr);reactExports.useEffect(()=>{logUserInfo("Trang OrderFlowAnalysis Timeline")},[]);const Ir=(Yr,eo,io=!1)=>{const uo=eo.getDate(),so=eo.getMonth()+1,no=eo.getFullYear();ir(`/orderflowanalysis/${Yr}/${uo}/${so}/${no}`,{replace:io})},Mr=Yr=>{const eo=String(Yr.getDate()).padStart(2,"0"),io=String(Yr.getMonth()+1).padStart(2,"0");return`${eo}_${io}_${Yr.getFullYear()}`};reactExports.useEffect(()=>{if(!Hn&&sr.current)Dr(Sr),Ir(yr,Sr,!0);else if(Hn&&er&&nr){const Yr=new Date(nr,er-1,Hn);Mr(Yr)!==Mr(jr)&&Dr(Yr)}sr.current=!1},[Hn,er,nr,tr]),reactExports.useEffect(()=>{cr(!0),(async()=>{try{const eo=await axios.get(`https://api_gold.thinkdiff.us/tile_mua_ban_check_giao_dich/${Mr(jr)}`),io=co=>{if(!co||typeof co!="object")return null;if(co.hasOwnProperty("time_update"))return co.time_update;for(let lo in co){let ao=io(co[lo]);if(ao)return ao}return null},uo=io(eo.data),so=eo?.data?.tile_mua_ban_check_giao_dich;if(!so||so.list_tongtien_ban?.length===0&&so.list_tongtien_mua?.length===0)if(rr.current<7){rr.current+=1;const co=new Date(jr);co.setDate(co.getDate()-1),Dr(co),Ir(yr,co,!0);return}else{dr("Ht d liu 7 ngy."),or({gold:[],silver:[]}),cr(!1);return}rr.current=0,dr(uo||"");const no=(co,lo)=>{if(!co)return[];const ao=co.map((_o,Po)=>{const Oo=Number(_o?.so_luong)||0,So=Number(lo?.[Po]?.so_luong)||0,Ao=Oo+So;return{gia:_o.gia,sell:Oo,buy:-So,sellQty:Oo,buyQty:So,sellPercent:Ao>0?(Oo/Ao*100).toFixed(2):"0.00",buyPercent:Ao>0?(So/Ao*100).toFixed(2):"0.00",total:Ao,isMaxSell:!1,isMaxBuy:!1}}).filter(_o=>_o.sell!==0||_o.buy!==0),xo=ao.reduce((_o,Po)=>_o+Po.total,0);return ao.map(_o=>({..._o,percent:xo>0?(_o.total/xo*100).toFixed(2):"0.00"}))},po=co=>{if(!co||!co.length)return[];const lo=[...co].sort((xo,_o)=>_o.sell-xo.sell)[0],ao=[...co].sort((xo,_o)=>xo.buy-_o.buy)[0];return co.map(xo=>({...xo,isMaxSell:xo.sell>0&&xo.gia===lo?.gia,isMaxBuy:xo.buy<0&&xo.gia===ao?.gia}))};or({gold:po(no(so.list_tongtien_ban_gold,so.list_tongtien_mua_gold)),silver:po(no(so.list_tongtien_ban,so.list_tongtien_mua))}),cr(!1)}catch{if(rr.current<7){rr.current+=1;const io=new Date(jr);io.setDate(io.getDate()-1),Dr(io),Ir(yr,io,!0)}else cr(!1),dr("Li kt ni.")}})()},[jr]);const Or=yr==="gold"?ar.gold:ar.silver,Lr=Yr=>{rr.current=0,Ir(Yr,jr)},Fr=Yr=>{rr.current=0;const eo=new Date(jr);eo.setDate(eo.getDate()+Yr),Dr(eo),Ir(yr,eo)},Vr=Yr=>{const{x:eo,y:io,payload:uo}=Yr;return jsxRuntimeExports.jsx("g",{transform:`translate(${eo},${io})`,children:jsxRuntimeExports.jsx("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"#ffffff",fontSize:fr?9:11,fontWeight:"bold",children:`${uo.value} USD`})})},Zr=(Yr,eo)=>{const{x:io,y:uo,width:so,index:no}=Yr,po=Or[no];if(!po||(eo==="sell"?!po.isMaxSell:!po.isMaxBuy))return null;const co=eo==="sell"?"#ff4d4d":"#09ff00";return jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:io+so/2,y1:uo,x2:io+so/2,y2:eo==="sell"?uo-15:uo+15,stroke:co,strokeWidth:3}),jsxRuntimeExports.jsx("text",{x:io+so/2,y:eo==="sell"?uo-25:uo+35,fill:co,fontSize:fr?10:12,fontWeight:"bold",textAnchor:"middle",stroke:"#000",strokeWidth:.5,paintOrder:"stroke",children:eo==="sell"?"MAX SELL":"MAX BUY"})]})},Hr=(Yr,eo)=>{const{x:io,y:uo,width:so,index:no}=Yr,po=Or[no];return po?jsxRuntimeExports.jsx("text",{x:io+so/2,y:eo==="sell"?uo-5:uo+15,fill:eo==="sell"?"#ff4d4d":"#09ff00",fontSize:fr?8:10,textAnchor:"middle",fontWeight:"bold",children:eo==="sell"?`${po.sellPercent}%`:`${po.buyPercent}%`}):null};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#050505",padding:fr?"8px":"15px",borderRadius:"12px",width:"98%",margin:"auto"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:fr?"column":"row",justifyContent:"space-between",marginBottom:"15px",alignItems:"center",gap:fr?"12px":"0"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:fr?"column":"row",gap:fr?"8px":"15px",alignItems:"center",width:fr?"100%":"auto"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"5px",width:fr?"100%":"auto",justifyContent:"center"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Lr("gold"),style:tabBtn(yr==="gold","#FFD700",fr),children:"GOLD"}),jsxRuntimeExports.jsx("button",{onClick:()=>Lr("silver"),style:tabBtn(yr==="silver","#C0C0C0",fr),children:"SILVER"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"5px",justifyContent:"center"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:fr?"9px":"11px",fontWeight:"bold"},children:"Cp nht mi:"}),jsxRuntimeExports.jsx("span",{style:{color:_r,fontSize:fr?"10px":"12px",fontWeight:"bold",fontFamily:"monospace"},children:ur||(lr?"SCANNING...":"N/A")})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:fr?"8px":"15px",background:"#111",padding:fr?"4px 12px":"6px 20px",borderRadius:"30px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fr(-1),style:{...navBtn,fontSize:fr?"14px":"18px"},children:""}),jsxRuntimeExports.jsx("span",{style:{fontSize:fr?"12px":"14px",fontWeight:"bold",color:_r},children:Mr(jr).replaceAll("_","/")}),jsxRuntimeExports.jsx("button",{onClick:()=>Fr(1),style:{...navBtn,fontSize:fr?"14px":"18px"},children:""})]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:fr?"400px":"520px"},children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:Or,stackOffset:"sign",margin:{top:80,bottom:50,left:10,right:10},barCategoryGap:"0%",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"0",stroke:"#111",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"gia",tick:jsxRuntimeExports.jsx(Vr,{}),axisLine:{stroke:"#333"},tickLine:!1,interval:0}),jsxRuntimeExports.jsx(YAxis,{stroke:_r,fontSize:fr?9:11,tickFormatter:Yr=>Math.abs(Yr).toLocaleString(),axisLine:!1,tickLine:!1}),jsxRuntimeExports.jsx(Tooltip,{content:({active:Yr,payload:eo})=>{if(Yr&&eo&&eo.length){const io=eo[0].payload;return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",border:`1px solid ${_r}`,padding:"10px",borderRadius:"8px"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 5px",fontSize:"12px",color:_r},children:["Gi: ",io.gia," USD"]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold"},children:[jsxRuntimeExports.jsxs("div",{style:{color:"#ff4d4d"},children:["Bn: ",io.sellQty.toLocaleString()," (",io.sellPercent,"%)"]}),jsxRuntimeExports.jsxs("div",{style:{color:"#09ff00"},children:["Mua: ",io.buyQty.toLocaleString()," (",io.buyPercent,"%)"]})]})]})}return null}}),jsxRuntimeExports.jsx(ReferenceLine,{y:0,stroke:"#333",strokeWidth:1}),jsxRuntimeExports.jsxs(Bar,{dataKey:"sell",stackId:"s",children:[Or.map((Yr,eo)=>jsxRuntimeExports.jsx(Cell,{fill:"#ff4d4d"},eo)),jsxRuntimeExports.jsx(LabelList,{content:Yr=>Zr(Yr,"sell")}),jsxRuntimeExports.jsx(LabelList,{content:Yr=>Hr(Yr,"sell")})]}),jsxRuntimeExports.jsxs(Bar,{dataKey:"buy",stackId:"s",children:[Or.map((Yr,eo)=>jsxRuntimeExports.jsx(Cell,{fill:"#09ff00"},eo)),jsxRuntimeExports.jsx(LabelList,{content:Yr=>Zr(Yr,"buy")}),jsxRuntimeExports.jsx(LabelList,{content:Yr=>Hr(Yr,"buy")})]})]})})})]})},tabBtn=(tr,Hn,er)=>({background:tr?Hn:"#111",border:"none",padding:er?"6px 12px":"8px 18px",color:tr?"#000":"#888",cursor:"pointer",fontWeight:"bold",borderRadius:"4px",fontSize:er?"10px":"12px",transition:"all 0.2s",flex:er?1:"none"}),navBtn={background:"none",border:"none",color:"#fff",cursor:"pointer"};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index);Chart$1.defaults.color="#94A3B8";Chart$1.defaults.borderColor="#334155";const TradeTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";reactExports.useEffect(()=>{const ur=async()=>{try{nr(!0);const fr=await axios.get(sr);Hn(fr.data),rr(null)}catch(fr){console.error("Li fetch API:",fr),rr("Khng th ti d liu. Vui lng kim tra Console (F12) xem c li CORS khng.")}finally{nr(!1)}};ur();const dr=setInterval(ur,3e5);return()=>clearInterval(dr)},[]);const ar=reactExports.useMemo(()=>{if(!tr||!tr.slv_availability_fintel)return null;const ur=[...tr.slv_availability_fintel].sort((dr,fr)=>new Date(dr.timestamp_utc)-new Date(fr.timestamp_utc));return{labels:ur.map(dr=>format$1(new Date(dr.timestamp_utc),"dd/MM HH:mm")),datasets:[{label:"Shares Available",data:ur.map(dr=>parseInt(dr.availability,10)),borderColor:"#60A5FA",backgroundColor:"rgba(96, 165, 250, 0.1)",fill:!0,tension:.4,pointRadius:3,pointBackgroundColor:"#1E293B",pointBorderColor:"#60A5FA",borderWidth:2}]}},[tr]),or=reactExports.useMemo(()=>{if(!tr||!tr.slv_borrow_fees_fintel)return null;const ur=[...tr.slv_borrow_fees_fintel].sort((dr,fr)=>new Date(dr.date)-new Date(fr.date));return{labels:ur.map(dr=>dr.date),datasets:[{label:"Latest Fee (%)",data:ur.map(dr=>parseFloat(dr.latest)),backgroundColor:"rgba(248, 113, 113, 0.7)",borderColor:"#F87171",borderWidth:1,borderRadius:4,order:2},{label:"Max Fee (%)",data:ur.map(dr=>parseFloat(dr.max)),type:"line",borderColor:"#FB923C",borderWidth:2,pointRadius:4,pointBackgroundColor:"#1E293B",pointBorderColor:"#FB923C",tension:.3,order:1}]}},[tr]),lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#F1F5F9"}},tooltip:{backgroundColor:"#0F172A",titleColor:"#F8FAFC",bodyColor:"#CBD5E1",borderColor:"#334155",borderWidth:1,padding:10,displayColors:!0}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94A3B8"}},y:{grid:{color:"#334155",borderDash:[5,5],drawBorder:!1},ticks:{color:"#94A3B8"}}}},cr=ur=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(ur);return er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu Dark Mode..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-dashboard-scope",children:jsxRuntimeExports.jsx("div",{className:"slv-container",children:jsxRuntimeExports.jsxs("div",{className:"slv-wrapper",children:[jsxRuntimeExports.jsx("header",{className:"slv-header",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"SLV Market Intelligence"}),jsxRuntimeExports.jsx("p",{children:"Real-time Short Data & Dark Pool Flows (Dark Theme)"})]})}),jsxRuntimeExports.jsxs("div",{className:"slv-grid",children:[jsxRuntimeExports.jsxs("div",{className:"slv-card",children:[jsxRuntimeExports.jsxs("div",{className:"slv-card-title",children:[jsxRuntimeExports.jsx("span",{className:"slv-indicator blue"}),"Short Shares Availability"]}),jsxRuntimeExports.jsx("div",{className:"slv-chart-box",children:ar&&jsxRuntimeExports.jsx(Line,{data:ar,options:{...lr,scales:{...lr.scales,y:{...lr.scales.y,title:{display:!0,text:"Shares",color:"#64748B"}}}}})})]}),jsxRuntimeExports.jsxs("div",{className:"slv-card",children:[jsxRuntimeExports.jsxs("div",{className:"slv-card-title",children:[jsxRuntimeExports.jsx("span",{className:"slv-indicator orange"}),"Borrow Fee Rates"]}),jsxRuntimeExports.jsx("div",{className:"slv-chart-box",children:or&&jsxRuntimeExports.jsx(Bar$1,{data:or,options:{...lr,scales:{...lr.scales,y:{...lr.scales.y,title:{display:!0,text:"Rate (%)",color:"#64748B"}}}}})})]})]}),jsxRuntimeExports.jsx("div",{className:"slv-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Symbol"}),jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Trade side"}),jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Side"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Contract"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Expiry"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"DTX"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Strike Price"})," ",jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Spot Price"}),"   ",jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Strike / Spot (%)"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Cond"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Event"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Trade"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Open Int"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"IVOL"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Premium Paid"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Premium Sigmas"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_dark_pool_levels?.slice(0,80).map((ur,dr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"slv-left",children:[jsxRuntimeExports.jsx("span",{className:"slv-date",children:ur.date}),jsxRuntimeExports.jsx("span",{className:"slv-time",style:{marginLeft:"4px"},children:ur.time})]}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-date",children:ur.symbol})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:ur.trade_side==="BUY"?"slv-text-green":"slv-text-red",children:ur.trade_side})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-date",children:ur.side})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:`slv-badge ${ur.contract==="CALL"?"slv-badge-call":"slv-badge-put"}`,children:ur.contract})}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.expiry}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.dte}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-bold",children:ur.strike_price}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.spot_price}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.strike_spot_pct}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.cond}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.event}),jsxRuntimeExports.jsxs("td",{className:"slv-left",children:[jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.trade_type})," "]}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.open_int})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.ivol})}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-bold",children:cr(parseFloat(ur.premium_paid))}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-bold",children:jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.premium_sigmas})})]},dr))})]})})})]})})})},SLVAvailabilityTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";reactExports.useEffect(()=>{const or=async()=>{try{nr(!0);const cr=await axios.get(sr);Hn(cr.data),rr(null)}catch(cr){console.error("Li fetch API:",cr),rr("Khng th ti d liu. Vui lng kim tra Console (F12) xem c li CORS khng.")}finally{nr(!1)}};or();const lr=setInterval(or,3e5);return()=>clearInterval(lr)},[]);const ar=or=>new Intl.NumberFormat("en-US").format(parseInt(or,10));return er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-availability-scope",children:jsxRuntimeExports.jsxs("div",{className:"slv-availability-container",children:[jsxRuntimeExports.jsx("header",{className:"slv-availability-header",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"US:SLV Short Shares Availability"}),jsxRuntimeExports.jsx("p",{children:"Real-time Short Shares Availability Data"})]})}),jsxRuntimeExports.jsx("div",{className:"slv-availability-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-availability-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Time Since Last Change"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Timestamp (UTC)"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"US:SLV Short Shares Availability"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_availability_fintel?.map((or,lr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:or.time_since}),jsxRuntimeExports.jsx("td",{className:"slv-center slv-gray",children:or.timestamp_utc}),jsxRuntimeExports.jsx("td",{className:"slv-right slv-bold slv-number",children:ar(or.availability)})]},lr))})]})})})]})})},SLVVolumeCombinedTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";reactExports.useEffect(()=>{const or=async()=>{try{nr(!0);const cr=await axios.get(sr);Hn(cr.data),rr(null)}catch(cr){console.error("Fetch error:",cr),rr("Khng th ti d liu. Kim tra Console (F12)  xem li.")}finally{nr(!1)}};or();const lr=setInterval(or,3e5);return()=>clearInterval(lr)},[]);const ar=or=>{if(or==null||or==="")return or;const lr=parseInt(or,10);return Number.isNaN(lr)?or:new Intl.NumberFormat("en-US").format(lr)};return er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-volume-scope",children:jsxRuntimeExports.jsxs("div",{className:"slv-volume-container",children:[jsxRuntimeExports.jsx("header",{className:"slv-volume-header",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{children:"FINRA / Combined Short Volume"})})}),jsxRuntimeExports.jsx("div",{className:"slv-volume-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-volume-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Market Date"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"FINRA Short Volume"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_volume_combined_fintel?.map((or,lr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:or.market_date}),jsxRuntimeExports.jsxs("td",{className:"slv-right slv-bold",children:[ar(or.finra_short_vol),or.psx_bx_vol==="+"?jsxRuntimeExports.jsx("span",{className:"slv-plus",children:" +"}):null]})]},lr))})]})})})]})})},SLVBorrowFeesTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";return reactExports.useEffect(()=>{const ar=async()=>{try{nr(!0);const lr=await axios.get(sr);Hn(lr.data),rr(null)}catch(lr){console.error("Li fetch API:",lr),rr("Khng th ti d liu. Vui lng kim tra Console (F12) xem c li CORS khng.")}finally{nr(!1)}};ar();const or=setInterval(ar,3e5);return()=>clearInterval(or)},[]),er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-borrow-fees-scope",children:jsxRuntimeExports.jsxs("div",{className:"slv-borrow-fees-container",children:[jsxRuntimeExports.jsx("header",{className:"slv-borrow-fees-header",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"SLV Borrow Fee Rates"}),jsxRuntimeExports.jsx("p",{children:"Daily Borrow Fee Statistics"})]})}),jsxRuntimeExports.jsx("div",{className:"slv-borrow-fees-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-borrow-fees-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Start"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Min"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Max"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Latest"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_borrow_fees_fintel?.map((ar,or)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-center slv-gray",children:ar.date}),jsxRuntimeExports.jsx("td",{className:"slv-center",children:parseFloat(ar.start).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"slv-center",children:parseFloat(ar.min).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"slv-center",children:parseFloat(ar.max).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"slv-center slv-bold",children:parseFloat(ar.latest).toFixed(2)})]},or))})]})})})]})})};function SLVFailsToDeliverTable(){const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null);reactExports.useEffect(()=>{let lr=!0;return fetch("https://api_gold.thinkdiff.us/slv_short_long").then(cr=>{if(!cr.ok)throw new Error("Network response was not ok");return cr.json()}).then(cr=>{const ur=cr?.slv_fails_to_deliver_fintel||[];lr&&Hn(ur)}).catch(cr=>{lr&&rr(cr.message||String(cr))}).finally(()=>{lr&&nr(!1)}),()=>{lr=!1}},[]);const sr=lr=>{if(lr==null||lr==="")return"-";const cr=Number(String(lr).replace(/,/g,""));return Number.isNaN(cr)?lr:new Intl.NumberFormat().format(cr)},ar=lr=>{if(lr==null||lr==="")return"-";const cr=Number(String(lr).replace(/,/g,""));return Number.isNaN(cr)?lr:cr.toFixed(2)},or=lr=>{if(lr==null||lr==="")return"-";const cr=Number(String(lr).replace(/,/g,""));return Number.isNaN(cr)?lr:new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(cr)};return jsxRuntimeExports.jsx("div",{className:"slv-ftd",children:jsxRuntimeExports.jsxs("div",{className:"slv-ftd__container",children:[jsxRuntimeExports.jsx("div",{className:"slv-ftd__header",children:jsxRuntimeExports.jsx("h2",{className:"slv-ftd__title",children:"Fails To Deliver (Fintel)"})}),jsxRuntimeExports.jsx("div",{className:"slv-ftd__table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:er?jsxRuntimeExports.jsx("div",{className:"slv-ftd__loading",children:"Loading"}):ir?jsxRuntimeExports.jsx("div",{className:"slv-ftd__error",children:ir}):jsxRuntimeExports.jsxs("table",{className:"slv-ftd__table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{children:"Price"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Value"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((lr,cr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-ftd__date",children:lr.date}),jsxRuntimeExports.jsx("td",{className:"slv-ftd__price",children:ar(lr.price)}),jsxRuntimeExports.jsx("td",{className:"slv-ftd__qty",children:sr(lr.quantity)}),jsxRuntimeExports.jsx("td",{className:"slv-ftd__value",children:or(lr.value_usd)})]},`${lr.date}-${lr.quantity||cr}`))})]})})})]})})}function SLVShortInterestTable(){const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null);reactExports.useEffect(()=>{let or=!0;return fetch("https://api_gold.thinkdiff.us/slv_short_long").then(lr=>{if(!lr.ok)throw new Error("Network response was not ok");return lr.json()}).then(lr=>{const cr=lr?.slv_short_interest_fintel||[];or&&Hn(cr)}).catch(lr=>{or&&rr(lr.message||String(lr))}).finally(()=>{or&&nr(!1)}),()=>{or=!1}},[]);const sr=or=>{if(or==null||or==="")return"-";const lr=Number(String(or).replace(/,/g,""));return Number.isNaN(lr)?or:new Intl.NumberFormat().format(lr)},ar=(or,lr=2)=>{if(or==null||or==="")return"-";const cr=Number(String(or).replace(/,/g,""));return Number.isNaN(cr)?or:cr.toFixed(lr)};return jsxRuntimeExports.jsx("div",{className:"slv-si",children:jsxRuntimeExports.jsxs("div",{className:"slv-si__container",children:[jsxRuntimeExports.jsx("div",{className:"slv-si__header",children:jsxRuntimeExports.jsx("h2",{className:"slv-si__title",children:"Short Interest (Fintel)"})}),jsxRuntimeExports.jsx("div",{className:"slv-si__table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:er?jsxRuntimeExports.jsx("div",{className:"slv-si__loading",children:"Loading"}):ir?jsxRuntimeExports.jsx("div",{className:"slv-si__error",children:ir}):jsxRuntimeExports.jsxs("table",{className:"slv-si__table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"Short Interest"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"Days to Cover"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((or,lr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-left",children:or.date}),jsxRuntimeExports.jsx("td",{className:"slv-right",children:sr(or.short_interest)}),jsxRuntimeExports.jsx("td",{className:"slv-right",children:ar(or.days_to_cover,2)})]},`${or.date}-${lr}`))})]})})})]})})}function TradeFlowPage(){return jsxRuntimeExports.jsxs("div",{className:"tradeflow-page",children:[jsxRuntimeExports.jsx(TradeTable,{apiUrl:"https://api_gold.thinkdiff.us/slv_short_long"}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(ShareChartMetalPage,{})}),jsxRuntimeExports.jsx(SLVAvailabilityTable,{}),jsxRuntimeExports.jsx(SLVBorrowFeesTable,{}),jsxRuntimeExports.jsx(SLVVolumeCombinedTable,{}),jsxRuntimeExports.jsx(SLVFailsToDeliverTable,{}),jsxRuntimeExports.jsx(SLVShortInterestTable,{}),jsxRuntimeExports.jsxs("div",{className:"slv-section",children:[jsxRuntimeExports.jsx(SLVTradingChart,{}),jsxRuntimeExports.jsx(SLVStats,{}),jsxRuntimeExports.jsx(SLVDarkPoolTable,{})]})]})}const API_URL="https://ondemand.websol.barchart.com/getQuote.json",API_KEY="2d8b3b803594b13e02a7dc827f4a63f8",SYMBOLS={silver:"SIY00,SI*1,SI*2,SI*3,SI*4,SI*5,SI*6,SI*7,SI*8,SI*9,SI*10,SI*11,SI*12,SI*13,SI*14,SI*15,SI*16,SI*17,SI*18,SI*19,SI*20,SI*21,SI*22,SI*23,SI*24,SI*25,SI*26,SI*27,SI*28,SI*29,SI*30,SI*31,SI*32",gold:"GCY00,GC*1,GC*2,GC*3,GC*4,GC*5,GC*6,GC*7,GC*8,GC*9,GC*10,GC*11,GC*12,GC*13,GC*14"},FIELDS="open,high,low,lastPrice,settlement,netChange,percentChange,volume,previousClose,previousOpenInterest,tradeTimestamp",SilverFutures=()=>{const[tr,Hn]=reactExports.useState("gold"),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(30);reactExports.useEffect(()=>{cr(tr)},[tr]);const cr=async ur=>{try{rr(!0),ar(null);const dr=new URLSearchParams({apikey:API_KEY,symbols:SYMBOLS[ur],fields:FIELDS}),xr=await(await fetch(API_URL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:dr})).json();if(xr.status?.code!==200)throw new Error(xr.status?.message||"API error");nr(xr.results||[])}catch(dr){console.error(dr),ar("Khng load c d liu")}finally{rr(!1)}};return reactExports.useEffect(()=>{lr(30),cr(tr);const ur=setInterval(()=>{lr(dr=>dr<=1?(cr(tr),30):dr-1)},1e3);return()=>clearInterval(ur)},[tr]),jsxRuntimeExports.jsxs("div",{style:{padding:16},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center"},children:"Futures Chain - Gold & Silver"}),jsxRuntimeExports.jsxs("p",{style:{textAlign:"right",marginTop:8,fontSize:13},children:[" Cp nht sau ",jsxRuntimeExports.jsx("b",{children:or})," giy"]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:10},children:[jsxRuntimeExports.jsx(Tab,{label:" Gold",active:tr==="gold",onClick:()=>Hn("gold")}),jsxRuntimeExports.jsx(Tab,{label:" Silver",active:tr==="silver",onClick:()=>Hn("silver")})]}),ir&&jsxRuntimeExports.jsx("p",{style:{textAlign:"center"},children:"ang ti d liu"}),sr&&jsxRuntimeExports.jsx("p",{style:{color:"red",textAlign:"center"},children:sr}),!ir&&jsxRuntimeExports.jsx(FuturesTable,{data:er})]})},FuturesTable=({data:tr})=>jsxRuntimeExports.jsx("div",{style:{overflowX:"auto",marginTop:16},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsxs("tr",{style:{background:"#000"},children:[jsxRuntimeExports.jsx("th",{style:th,colSpan:11,children:"Phin hin ti"}),jsxRuntimeExports.jsx("th",{style:th,colSpan:2,children:"Phin trc"})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#000"},children:[jsxRuntimeExports.jsx("th",{style:th,children:"M hp ng "}),jsxRuntimeExports.jsx("th",{style:th,children:"Ngy ht hn"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi M ca"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi Cao nht"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi Thp nht"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi hin ti"}),jsxRuntimeExports.jsx("th",{style:th,children:"Thi gian"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi thanh ton"}),jsxRuntimeExports.jsx("th",{style:th,children:"Thay i"}),jsxRuntimeExports.jsx("th",{style:th,children:"T l thay i"}),jsxRuntimeExports.jsx("th",{style:th,children:"Khi lng"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi trc "}),jsxRuntimeExports.jsx("th",{style:th,children:"Hp ng m"})]})]}),jsxRuntimeExports.jsx("tbody",{children:tr.map((Hn,er)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{...tdBold,color:er===0?"red":"inherit"},children:Hn.symbol}),jsxRuntimeExports.jsx("td",{style:tdBold,children:getContractMonth(er)}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.open)}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.high)}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.low)}),jsxRuntimeExports.jsx("td",{style:{...td,fontWeight:"bold",color:er===0?"red":"inherit"},children:fmt(Hn.lastPrice)}),jsxRuntimeExports.jsx("td",{style:tdSmall,children:formatTime(Hn.serverTimestamp)}),jsxRuntimeExports.jsx("td",{style:td,children:Hn.settlement?fmt(Hn.settlement):"-"}),jsxRuntimeExports.jsxs("td",{style:{...td,color:Hn.netChange<0?"red":"green"},children:[Hn.netChange>0?"+":"",fmt(Hn.netChange)]}),jsxRuntimeExports.jsxs("td",{style:{...td,color:Hn.percentChange<0?"red":"green"},children:[Hn.percentChange>0?"+":"",Hn.percentChange?`${Hn.percentChange}%`:"-"]}),jsxRuntimeExports.jsx("td",{style:td,children:Hn.volume?.toLocaleString()??"-"}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.previousClose)}),jsxRuntimeExports.jsx("td",{style:td,children:Hn.previousOpenInterest?Hn.previousOpenInterest.toLocaleString():"-"})]},Hn.symbol))})]})}),fmt=tr=>typeof tr=="number"?tr.toFixed(4):"-",formatTime=tr=>{if(!tr)return"-";const Hn=new Date(tr),er=Hn.toLocaleString("en-US",{weekday:"short"}),nr=String(Hn.getHours()).padStart(2,"0"),ir=String(Hn.getMinutes()).padStart(2,"0"),rr=String(Hn.getSeconds()).padStart(2,"0"),sr=String(Hn.getDate()).padStart(2,"0"),ar=String(Hn.getMonth()+1).padStart(2,"0"),or=Hn.getFullYear();return`${er} ${nr}:${ir}:${rr} ${sr}/${ar}/${or}`},Tab=({active:tr,label:Hn,onClick:er})=>jsxRuntimeExports.jsx("button",{onClick:er,style:{padding:"8px 16px",borderRadius:6,border:tr?"1px solid #ccc":"2px solid #333",background:tr?"#fff":"#333",color:tr?"#000":"#fff",cursor:"pointer"},children:Hn}),th={border:"1px solid #ccc",padding:6,fontSize:13,textAlign:"center"},td={border:"1px solid #ddd",padding:6,fontSize:13,textAlign:"center"},START_MONTH=1,START_YEAR=2026,getContractMonth=tr=>{if(tr===0)return"Cash";const Hn=START_MONTH+(tr-1),er=START_YEAR+Math.floor(Hn/12),nr=Hn%12;return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][nr]}'${String(er).slice(-2)}`},tdBold={...td,fontWeight:"bold"},tdSmall={...td,fontSize:12},CFTCandCOMEXChart=()=>jsxRuntimeExports.jsxs("div",{className:"cftc-comex-container",style:{padding:"20px",color:"white"},children:[jsxRuntimeExports.jsx("section",{style:{marginBottom:"50px",background:"#1e293b",padding:"20px",borderRadius:"8px"},children:jsxRuntimeExports.jsx("div",{style:{paddingTop:"25px"},children:jsxRuntimeExports.jsx(CFTC_Chart,{})})}),jsxRuntimeExports.jsx("section",{style:{background:"#1e293b",padding:"20px",borderRadius:"8px"},children:jsxRuntimeExports.jsx("div",{style:{paddingTop:"25px"},children:jsxRuntimeExports.jsx(ReportComexChart,{})})})]});function App(){const tr=useRequireLocation(),[Hn]=reactExports.useState({region:"vietnam",type:"gold",sortBy:null,sortOrder:"desc",country:"all"}),[er,nr]=reactExports.useState(null),{lastUpdated:ir}=useGoldPrices(Hn);return tr===null?jsxRuntimeExports.jsx("div",{children:"ang kim tra quyn v tr..."}):tr===!1?jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:30},children:[jsxRuntimeExports.jsx("h2",{children:" Bn phi bt quyn v tr  chng ti c th hin th cc nh vng gn bn "}),jsxRuntimeExports.jsx("p",{children:"Hy bt GPS / Location v ti li trang."}),jsxRuntimeExports.jsx("img",{src:"https://vang247.xyz/vang_247_maps.png",alt:"Bt v tr",className:"location-permission-image"})]}):jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs("div",{className:"app",children:[jsxRuntimeExports.jsx(Header,{lastUpdated:ir,newsInAPI:er}),jsxRuntimeExports.jsx(RealTimeTicker,{}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/:region/:type",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/vang247/:day/:month/:year/:hour/:minute",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/:region/:type/:day/:month/:year/:hour/:minute",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/map-view/:region/:type/:day/:month/:year/:hour/:minute/:z/:lat/:lng",element:jsxRuntimeExports.jsx(MapView,{})}),jsxRuntimeExports.jsx(Route,{path:"/comparison-chart/:region/:type/:day/:month/:year/:hour/:minute/:level",element:jsxRuntimeExports.jsx(ComparisonSellChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/chart/:symbol",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/lich_kinh_te",element:jsxRuntimeExports.jsx(EconomicCalendar$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/calendar",element:jsxRuntimeExports.jsx(EconomicCalendar$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/ty-gia/:date",element:jsxRuntimeExports.jsx(ExchangeRatePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/ty-gia",element:jsxRuntimeExports.jsx(ExchangeRatePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/xauxagdetail",element:jsxRuntimeExports.jsx(XauxagDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/TradingEconomicsWidgets",element:jsxRuntimeExports.jsx(TradingEconomicsWidgets,{})}),jsxRuntimeExports.jsx(Route,{path:"/quy-dau-tu/:day/:month/:year/:hour/:minute",element:jsxRuntimeExports.jsx(SPDRGold,{})}),jsxRuntimeExports.jsx(Route,{path:"/SharkGlobalChart",element:jsxRuntimeExports.jsx(SharkGlobalChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/DetailSharkGlobal",element:jsxRuntimeExports.jsx(DetailSharkGlobal,{})}),jsxRuntimeExports.jsx(Route,{path:"/EtfSharkDetail/:etfSlug",element:jsxRuntimeExports.jsx(EtfSharkDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/so-sanh-quoc-gia",element:jsxRuntimeExports.jsx(GlobalComparisonPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/tin-tuc-moi-nhat",element:jsxRuntimeExports.jsx(LastestNews,{})}),jsxRuntimeExports.jsx(Route,{path:"/so-sanh-nha-vang",element:jsxRuntimeExports.jsx(ComparisonHouseGold,{})}),jsxRuntimeExports.jsx(Route,{path:"/luong-truy-cap",element:jsxRuntimeExports.jsx(UsersAccess,{})}),jsxRuntimeExports.jsx(Route,{path:"/luong-truy-cap/:date",element:jsxRuntimeExports.jsx(UsersAccess,{})}),jsxRuntimeExports.jsx(Route,{path:"/dang-ky-vi",element:jsxRuntimeExports.jsx(WalletRegistration,{})}),jsxRuntimeExports.jsx(Route,{path:"/danh-sach-vi",element:jsxRuntimeExports.jsx(WalletAccountsList,{})}),jsxRuntimeExports.jsx(Route,{path:"/danh-sach-vi/:username",element:jsxRuntimeExports.jsx(WalletAccountsList,{})}),jsxRuntimeExports.jsx(Route,{path:"/wallet-buy",element:jsxRuntimeExports.jsx(Wallet,{})}),jsxRuntimeExports.jsx(Route,{path:"/vi/:username",element:jsxRuntimeExports.jsx(ProfitLossDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/vi/:username/sua",element:jsxRuntimeExports.jsx(EditWallet,{})}),jsxRuntimeExports.jsx(Route,{path:"/dang-ky-tai-khoan",element:jsxRuntimeExports.jsx(WalletRegistration,{})}),jsxRuntimeExports.jsx(Route,{path:"/so-sanh-XAU-XAG",element:jsxRuntimeExports.jsx(MultiChartViewer,{showPopUpCompare:!0})}),jsxRuntimeExports.jsx(Route,{path:"/chart-detail/:chartKey",element:jsxRuntimeExports.jsx(ChartDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/shanghaichart",element:jsxRuntimeExports.jsx(CompareShanghaiComex,{})}),jsxRuntimeExports.jsx(Route,{path:"/lich-su-gia",element:jsxRuntimeExports.jsx(CandlestickCharts,{})}),jsxRuntimeExports.jsx(Route,{path:"/cftc_comexchart",element:jsxRuntimeExports.jsx(CFTCandCOMEXChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/lbma-reserves",element:jsxRuntimeExports.jsx(LBMAReserves,{})}),jsxRuntimeExports.jsx(Route,{path:"/spdr-shares",element:jsxRuntimeExports.jsx(ShareChartMetalPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/loi-nhuan-tuan",element:jsxRuntimeExports.jsx(WeeklyProfitPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/zsl",element:jsxRuntimeExports.jsx(ZslPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/zsl-comparison",element:jsxRuntimeExports.jsx(Navigate,{to:"/zsl",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/zsl-price",element:jsxRuntimeExports.jsx(Navigate,{to:"/zsl",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/fomo-vang-bac",element:jsxRuntimeExports.jsx(FOMOGoldSilver,{})}),jsxRuntimeExports.jsx(Route,{path:"/ig-sentiment",element:jsxRuntimeExports.jsx(IGSentimentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/bao-cao-comex",element:jsxRuntimeExports.jsx(ReportComex,{})}),jsxRuntimeExports.jsx(Route,{path:"/bao-cao-san-thuong-hai-tuong-lai",element:jsxRuntimeExports.jsx(ReportTable,{})}),jsxRuntimeExports.jsx(Route,{path:"/bao-cao-luong-luu-tru",element:jsxRuntimeExports.jsx(SHFEReport,{})}),jsxRuntimeExports.jsx(Route,{path:"/chart/XOJ26",element:jsxRuntimeExports.jsx(SHFEChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/comex-inventory",element:jsxRuntimeExports.jsx(ComexInventoryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/luu-tru-comex",element:jsxRuntimeExports.jsx(ComexInventoryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=rsi",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=technical",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=volume",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=moving",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/xau-xag-chart",element:jsxRuntimeExports.jsx(CombinedXauXagChartPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/:vendorName",element:jsxRuntimeExports.jsx(GoldDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/slvchart",element:jsxRuntimeExports.jsx(SLVTradingChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/compareshanghaicomex",element:jsxRuntimeExports.jsx(CompareShanghaiComex,{})}),jsxRuntimeExports.jsx(Route,{path:"/futures-chain",element:jsxRuntimeExports.jsx(SilverFutures,{})}),jsxRuntimeExports.jsx(Route,{path:"/orderflowanalysis/:type/:day/:month/:year",element:jsxRuntimeExports.jsx(OrderFlowAnalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/orderflowanalysis/:type/:day/:month/:year",element:jsxRuntimeExports.jsx(OrderFlowAnalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/orderflowanalysis",element:jsxRuntimeExports.jsx(OrderFlowAnalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/trade-flow",element:jsxRuntimeExports.jsx(TradeFlowPage,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx("div",{className:"p-10 text-center",children:"404 - Trang khng tn ti"})})]})})}),jsxRuntimeExports.jsx(Footer,{})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
